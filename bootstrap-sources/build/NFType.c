#include "omc_simulation_settings.h"
#include "NFType.h"
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT0,1,3) {&NFType_INTEGER__desc,}};
#define _OMC_LIT0 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT0)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT1,1,13) {&NFType_UNKNOWN__desc,}};
#define _OMC_LIT1 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "NFType.subscript got unsubscriptable type "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,42,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
#define _OMC_LIT3_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT3,1,_OMC_LIT3_data);
#define _OMC_LIT3 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT3)
#define _OMC_LIT4_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/NFFrontEnd/NFType.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT4,67,_OMC_LIT4_data);
#define _OMC_LIT4 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT4)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT5_6,1.758197185e9);
#define _OMC_LIT5_6 MMC_REFREALLIT(_OMC_LIT_STRUCT5_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT5,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1202)),MMC_IMMEDIATE(MMC_TAGFIXNUM(13)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1203)),MMC_IMMEDIATE(MMC_TAGFIXNUM(80)),_OMC_LIT5_6}};
#define _OMC_LIT5 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT5)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT6,2,3) {&DAE_Type_T__INTEGER__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT6 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT7,2,4) {&DAE_Type_T__REAL__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT7 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT7)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT8,2,5) {&DAE_Type_T__STRING__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT8 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT8)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT9,2,6) {&DAE_Type_T__BOOL__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT9 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT9)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT10,2,7) {&DAE_Type_T__CLOCK__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT10 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT10)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT11,1,10) {&DAE_Type_T__NORETCALL__desc,}};
#define _OMC_LIT11 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT11)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT12,1,11) {&DAE_Type_T__UNKNOWN__desc,}};
#define _OMC_LIT12 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT12)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT13,2,19) {&DAE_Type_T__ANYTYPE__desc,MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT13 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT13)
#define _OMC_LIT14_data "NFType.toDAE got unknown type: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT14,31,_OMC_LIT14_data);
#define _OMC_LIT14 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT15_6,1.758197185e9);
#define _OMC_LIT15_6 MMC_REFREALLIT(_OMC_LIT_STRUCT15_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1146)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1146)),MMC_IMMEDIATE(MMC_TAGFIXNUM(106)),_OMC_LIT15_6}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data "."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,1,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
#define _OMC_LIT17_data "type "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT17,5,_OMC_LIT17_data);
#define _OMC_LIT17 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT17)
#define _OMC_LIT18_data " = enumeration("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT18,15,_OMC_LIT18_data);
#define _OMC_LIT18 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data ", "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,2,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data ")"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,1,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
#define _OMC_LIT21_data "class "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT21,6,_OMC_LIT21_data);
#define _OMC_LIT21 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data "\n  extends ExternalObject;\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,28,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
#define _OMC_LIT23_data "  "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT23,2,_OMC_LIT23_data);
#define _OMC_LIT23 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT23)
#define _OMC_LIT24_data "constructor"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT24,11,_OMC_LIT24_data);
#define _OMC_LIT24 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT24)
#define _OMC_LIT25_data ";\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT25,3,_OMC_LIT25_data);
#define _OMC_LIT25 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data "destructor"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,10,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
#define _OMC_LIT27_data ";\n\nend "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT27,7,_OMC_LIT27_data);
#define _OMC_LIT27 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT27)
#define _OMC_LIT28_data "NFType.dimensionsToFlatString got unknown or not array type: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT28,61,_OMC_LIT28_data);
#define _OMC_LIT28 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT28)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT29_6,1.758197185e9);
#define _OMC_LIT29_6 MMC_REFREALLIT(_OMC_LIT_STRUCT29_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT29,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1042)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1042)),MMC_IMMEDIATE(MMC_TAGFIXNUM(119)),_OMC_LIT29_6}};
#define _OMC_LIT29 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data "Integer"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,7,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
#define _OMC_LIT31_data "Real"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT31,4,_OMC_LIT31_data);
#define _OMC_LIT31 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT31)
#define _OMC_LIT32_data "String"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT32,6,_OMC_LIT32_data);
#define _OMC_LIT32 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT32)
#define _OMC_LIT33_data "Boolean"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT33,7,_OMC_LIT33_data);
#define _OMC_LIT33 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT33)
#define _OMC_LIT34_data "Clock"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT34,5,_OMC_LIT34_data);
#define _OMC_LIT34 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT34)
#define _OMC_LIT35_data "enumeration(:)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT35,14,_OMC_LIT35_data);
#define _OMC_LIT35 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT35)
#define _OMC_LIT36_data "["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT36,1,_OMC_LIT36_data);
#define _OMC_LIT36 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT36)
#define _OMC_LIT37_data "]"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT37,1,_OMC_LIT37_data);
#define _OMC_LIT37 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT37)
#define _OMC_LIT38_data "("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT38,1,_OMC_LIT38_data);
#define _OMC_LIT38 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT38)
#define _OMC_LIT39_data "()"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT39,2,_OMC_LIT39_data);
#define _OMC_LIT39 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT39)
#define _OMC_LIT40_data "unknown()"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT40,9,_OMC_LIT40_data);
#define _OMC_LIT40 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT40)
#define _OMC_LIT41_data "<"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT41,1,_OMC_LIT41_data);
#define _OMC_LIT41 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT41)
#define _OMC_LIT42_data ">"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT42,1,_OMC_LIT42_data);
#define _OMC_LIT42 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT42)
#define _OMC_LIT43_data "$ANY$"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT43,5,_OMC_LIT43_data);
#define _OMC_LIT43 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT43)
#define _OMC_LIT44_data "|"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT44,1,_OMC_LIT44_data);
#define _OMC_LIT44 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT44)
#define _OMC_LIT45_data "NFType.toFlatString got unknown type: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT45,38,_OMC_LIT45_data);
#define _OMC_LIT45 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT45)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT46_6,1.758197185e9);
#define _OMC_LIT46_6 MMC_REFREALLIT(_OMC_LIT_STRUCT46_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT46,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1027)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1027)),MMC_IMMEDIATE(MMC_TAGFIXNUM(106)),_OMC_LIT46_6}};
#define _OMC_LIT46 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT46)
#define _OMC_LIT47_data "enumeration "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT47,12,_OMC_LIT47_data);
#define _OMC_LIT47 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT47)
#define _OMC_LIT48_data "__"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT48,2,_OMC_LIT48_data);
#define _OMC_LIT48 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT48)
#define _OMC_LIT49_data "NFType.toString got unknown type: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT49,34,_OMC_LIT49_data);
#define _OMC_LIT49 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT49)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT50_6,1.758197185e9);
#define _OMC_LIT50_6 MMC_REFREALLIT(_OMC_LIT_STRUCT50_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT50,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(993)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(993)),MMC_IMMEDIATE(MMC_TAGFIXNUM(106)),_OMC_LIT50_6}};
#define _OMC_LIT50 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT50)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT51,1,10) {&NFDimension_UNKNOWN__desc,}};
#define _OMC_LIT51 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data "StateSelect"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,11,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
#define _OMC_LIT53_data "AssertionLevel"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT53,14,_OMC_LIT53_data);
#define _OMC_LIT53 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT53)
#include "util/modelica.h"

#include "NFType_includes.h"



DLLDirection
modelica_metatype omc_NFType_complexSize(threadData_t *threadData, modelica_metatype _ty, modelica_boolean _resize)
{
  modelica_metatype _sz = NULL;
  modelica_metatype _cls = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _sz has no default value.
  // _cls has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,4,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_some(mmc_mk_integer(omc_NFType_sizeOf(threadData, _ty, _resize)));
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_none();
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _sz = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _sz;
}
modelica_metatype boxptr_NFType_complexSize(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _resize)
{
  modelica_integer tmp1;
  modelica_metatype _sz = NULL;
  tmp1 = mmc_unbox_integer(_resize);
  _sz = omc_NFType_complexSize(threadData, _ty, tmp1);
  /* skip box _sz; Option<#Integer> */
  return _sz;
}

DLLDirection
modelica_integer omc_NFType_sizeOf_fold__comp__size(threadData_t *threadData, modelica_metatype _comp, modelica_integer _sz)
{
  modelica_integer _outSize;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outSize = _sz + omc_NFType_sizeOf(threadData, omc_NFInstNode_InstNode_getType(threadData, _comp), 0 /* false */);
  _return: OMC_LABEL_UNUSED
  return _outSize;
}
modelica_metatype boxptr_NFType_sizeOf_fold__comp__size(threadData_t *threadData, modelica_metatype _comp, modelica_metatype _sz)
{
  modelica_integer tmp1;
  modelica_integer _outSize;
  modelica_metatype out_outSize;
  tmp1 = mmc_unbox_integer(_sz);
  _outSize = omc_NFType_sizeOf_fold__comp__size(threadData, _comp, tmp1);
  out_outSize = mmc_mk_icon(_outSize);
  return out_outSize;
}

DLLDirection
modelica_integer omc_NFType_sizeOf(threadData_t *threadData, modelica_metatype _ty, modelica_boolean _resize)
{
  modelica_integer _sz;
  modelica_integer tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _sz has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 12; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 1);
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 1);
          goto tmp3_done;
        }
        case 2: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 1);
          goto tmp3_done;
        }
        case 3: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 1);
          goto tmp3_done;
        }
        case 4: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 1);
          goto tmp3_done;
        }
        case 5: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 1);
          goto tmp3_done;
        }
        case 6: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = (omc_NFType_sizeOf(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), 0 /* false */)) * (omc_NFDimension_sizesProduct(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), _resize));
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar1;
            modelica_metatype* tmp7;
            modelica_metatype tmpMeta8;
            modelica_metatype __omcQ_24tmpVar0;
            modelica_integer tmp9;
            modelica_metatype _t_loopVar = 0;
            modelica_metatype _t;
            _t_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
            tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar1 = tmpMeta8; /* defaultValue */
            tmp7 = &__omcQ_24tmpVar1;
            while(1) {
              tmp9 = 1;
              if (!listEmpty(_t_loopVar)) {
                _t = MMC_CAR(_t_loopVar);
                _t_loopVar = MMC_CDR(_t_loopVar);
                tmp9--;
              }
              if (tmp9 == 0) {
                __omcQ_24tmpVar0 = mmc_mk_integer(omc_NFType_sizeOf(threadData, _t, 0 /* false */));
                *tmp7 = mmc_mk_cons(__omcQ_24tmpVar0,0);
                tmp7 = &MMC_CDR(*tmp7);
              } else if (tmp9 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp7 = mmc_mk_nil();
            tmpMeta6 = __omcQ_24tmpVar1;
          }
          tmp1 = mmc_unbox_integer(omc_List_fold(threadData, tmpMeta6, boxvar_intAdd, mmc_mk_integer(((modelica_integer) 0))));
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 1);
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,4,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = mmc_unbox_integer(omc_NFClassTree_ClassTree_foldComponents(threadData, omc_NFClass_classTree(threadData, omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))))), boxvar_NFType_sizeOf_fold__comp__size, mmc_mk_integer(((modelica_integer) 0))));
          goto tmp3_done;
        }
        case 10: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 1);
          goto tmp3_done;
        }
        case 11: {
          
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 0);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _sz = tmp1;
  _return: OMC_LABEL_UNUSED
  return _sz;
}
modelica_metatype boxptr_NFType_sizeOf(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _resize)
{
  modelica_integer tmp1;
  modelica_integer _sz;
  modelica_metatype out_sz;
  tmp1 = mmc_unbox_integer(_resize);
  _sz = omc_NFType_sizeOf(threadData, _ty, tmp1);
  out_sz = mmc_mk_icon(_sz);
  return out_sz;
}

DLLDirection
modelica_metatype omc_NFType_simplify(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fty)
{
  modelica_metatype _ty = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ty = __omcQ_24in_5Fty;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _ty;
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,2) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar3;
            modelica_metatype* tmp7;
            modelica_metatype tmpMeta8;
            modelica_metatype __omcQ_24tmpVar2;
            modelica_integer tmp9;
            modelica_metatype _d_loopVar = 0;
            modelica_metatype _d;
            _d_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)));
            tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar3 = tmpMeta8; /* defaultValue */
            tmp7 = &__omcQ_24tmpVar3;
            while(1) {
              tmp9 = 1;
              if (!listEmpty(_d_loopVar)) {
                _d = MMC_CAR(_d_loopVar);
                _d_loopVar = MMC_CDR(_d_loopVar);
                tmp9--;
              }
              if (tmp9 == 0) {
                __omcQ_24tmpVar2 = omc_NFDimension_simplify(threadData, _d);
                *tmp7 = mmc_mk_cons(__omcQ_24tmpVar2,0);
                tmp7 = &MMC_CDR(*tmp7);
              } else if (tmp9 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp7 = mmc_mk_nil();
            tmpMeta6 = __omcQ_24tmpVar3;
          }
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_ty), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[3] = tmpMeta6;
          _ty = tmpMeta5;
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _ty;
}

DLLDirection
modelica_metatype omc_NFType_sizeType(threadData_t *threadData, modelica_metatype _arrayTy)
{
  modelica_metatype _sizeTy = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _sizeTy has no default value.
  if(omc_NFType_isUnknown(threadData, _arrayTy))
  {
    _sizeTy = _OMC_LIT1;
  }
  else
  {
    tmpMeta1 = mmc_mk_cons(omc_NFDimension_fromInteger(threadData, omc_NFType_dimensionCount(threadData, _arrayTy), 1), MMC_REFSTRUCTLIT(mmc_nil));
    tmpMeta2 = mmc_mk_box3(10, &NFType_ARRAY__desc, _OMC_LIT0, tmpMeta1);
    _sizeTy = tmpMeta2;
  }
  _return: OMC_LABEL_UNUSED
  return _sizeTy;
}

DLLDirection
modelica_boolean omc_NFType_isBoxed(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isBoxed;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isBoxed has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isBoxed = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isBoxed;
}
modelica_metatype boxptr_NFType_isBoxed(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isBoxed;
  modelica_metatype out_isBoxed;
  _isBoxed = omc_NFType_isBoxed(threadData, _ty);
  out_isBoxed = mmc_mk_icon(_isBoxed);
  return out_isBoxed;
}

DLLDirection
modelica_metatype omc_NFType_unbox(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_metatype _unboxedType = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _unboxedType has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _unboxedType = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _unboxedType;
}

DLLDirection
modelica_metatype omc_NFType_box(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_metatype _boxedType = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _boxedType has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 5: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta9;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar5;
            modelica_metatype* tmp6;
            modelica_metatype tmpMeta7;
            modelica_metatype __omcQ_24tmpVar4;
            modelica_integer tmp8;
            modelica_metatype _t_loopVar = 0;
            modelica_metatype _t;
            _t_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
            tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar5 = tmpMeta7; /* defaultValue */
            tmp6 = &__omcQ_24tmpVar5;
            while(1) {
              tmp8 = 1;
              if (!listEmpty(_t_loopVar)) {
                _t = MMC_CAR(_t_loopVar);
                _t_loopVar = MMC_CDR(_t_loopVar);
                tmp8--;
              }
              if (tmp8 == 0) {
                __omcQ_24tmpVar4 = omc_NFType_box(threadData, _t);
                *tmp6 = mmc_mk_cons(__omcQ_24tmpVar4,0);
                tmp6 = &MMC_CDR(*tmp6);
              } else if (tmp8 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp6 = mmc_mk_nil();
            tmpMeta5 = __omcQ_24tmpVar5;
          }
          tmpMeta9 = mmc_mk_box3(11, &NFType_TUPLE__desc, tmpMeta5, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        case 17: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        case 18: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta10;
          
          /* Pattern matching succeeded */
          tmpMeta10 = mmc_mk_box4(19, &NFType_CONDITIONAL__ARRAY__desc, omc_NFType_box(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))), omc_NFType_box(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 4))));
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta11;
          
          /* Pattern matching succeeded */
          tmpMeta11 = mmc_mk_box2(16, &NFType_METABOXED__desc, _ty);
          tmpMeta1 = tmpMeta11;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _boxedType = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _boxedType;
}

DLLDirection
modelica_integer omc_NFType_enumSize(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_integer _size;
  modelica_metatype _literals = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _size has no default value.
  // _literals has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _ty;
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta1,5,2) == 0) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 3));
  _literals = tmpMeta2;

  _size = listLength(_literals);
  _return: OMC_LABEL_UNUSED
  return _size;
}
modelica_metatype boxptr_NFType_enumSize(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_integer _size;
  modelica_metatype out_size;
  _size = omc_NFType_enumSize(threadData, _ty);
  out_size = mmc_mk_icon(_size);
  return out_size;
}

DLLDirection
modelica_metatype omc_NFType_enumName(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_metatype _name = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _name has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _ty;
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta1,5,2) == 0) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _name = tmpMeta2;
  _return: OMC_LABEL_UNUSED
  return _name;
}

DLLDirection
modelica_integer omc_NFType_tupleFieldCount(threadData_t *threadData, modelica_metatype _tupleType)
{
  modelica_integer _fieldCount;
  modelica_integer tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _fieldCount has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _tupleType;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_tupleType), 2))));
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 0);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _fieldCount = tmp1;
  _return: OMC_LABEL_UNUSED
  return _fieldCount;
}
modelica_metatype boxptr_NFType_tupleFieldCount(threadData_t *threadData, modelica_metatype _tupleType)
{
  modelica_integer _fieldCount;
  modelica_metatype out_fieldCount;
  _fieldCount = omc_NFType_tupleFieldCount(threadData, _tupleType);
  out_fieldCount = mmc_mk_icon(_fieldCount);
  return out_fieldCount;
}

DLLDirection
void omc_NFType_updateRecordFieldsIndexMap(threadData_t *threadData, modelica_metatype _fields, modelica_metatype _indexMap)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmp1 = ((modelica_integer) 1); tmp2 = 1; tmp3 = arrayLength(_fields);
  if(!(((tmp2 > 0) && (tmp1 > tmp3)) || ((tmp2 < 0) && (tmp1 < tmp3))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp1, tmp3); _i += tmp2)
    {
      omc_UnorderedMap_add(threadData, omc_NFRecord_Field_name(threadData, arrayGet(_fields,_i) /* DAE.ASUB */), mmc_mk_integer(_i), _indexMap);
    }
  }
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_metatype omc_NFType_setRecordFields(threadData_t *threadData, modelica_metatype _field_lst, modelica_metatype __omcQ_24in_5FrecordType)
{
  modelica_metatype _recordType = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _recordType = __omcQ_24in_5FrecordType;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _recordType;
    {
      modelica_metatype _rec_node = NULL;
      modelica_metatype _indexMap = NULL;
      modelica_metatype _fields = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rec_node has no default value.
      // _indexMap has no default value.
      _fields = listArray(_field_lst);
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,4,3) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          
          _rec_node = tmpMeta7;
          /* Pattern matching succeeded */
          _indexMap = omc_UnorderedMap_new(threadData, boxvar_stringHashDjb2, boxvar_stringEq, arrayLength(_fields));

          omc_NFType_updateRecordFieldsIndexMap(threadData, _fields, _indexMap);
          tmpMeta8 = mmc_mk_box4(7, &NFComplexType_RECORD__desc, _rec_node, _fields, _indexMap);
          tmpMeta9 = mmc_mk_box3(14, &NFType_COMPLEX__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_recordType), 2))), tmpMeta8);
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _recordType;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _recordType = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _recordType;
}

DLLDirection
modelica_metatype omc_NFType_recordFields(threadData_t *threadData, modelica_metatype _recordType)
{
  modelica_metatype _field_lst = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _field_lst has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _recordType;
    {
      modelica_metatype _fields = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _fields has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,4,3) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          
          _fields = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta1 = arrayList(_fields);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta8;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _field_lst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _field_lst;
}

DLLDirection
modelica_integer omc_NFType_recordFieldCount(threadData_t *threadData, modelica_metatype _recordType)
{
  modelica_integer _fieldCount;
  modelica_metatype _fields = NULL;
  modelica_integer tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _fieldCount has no default value.
  // _fields has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _recordType;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,4,3) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          
          _fields = tmpMeta7;
          /* Pattern matching succeeded */
          tmp1 = arrayLength(_fields);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 0);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _fieldCount = tmp1;
  _return: OMC_LABEL_UNUSED
  return _fieldCount;
}
modelica_metatype boxptr_NFType_recordFieldCount(threadData_t *threadData, modelica_metatype _recordType)
{
  modelica_integer _fieldCount;
  modelica_metatype out_fieldCount;
  _fieldCount = omc_NFType_recordFieldCount(threadData, _recordType);
  out_fieldCount = mmc_mk_icon(_fieldCount);
  return out_fieldCount;
}

DLLDirection
modelica_metatype omc_NFType_lookupRecordFieldType(threadData_t *threadData, modelica_string _name, modelica_metatype _recordType)
{
  modelica_metatype _fieldType = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _fieldType has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _recordType;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 14: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFInstNode_InstNode_getType(threadData, omc_NFClass_lookupElement(threadData, _name, omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_recordType), 2)))), NULL));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFType_liftArrayLeftList(threadData, omc_NFType_lookupRecordFieldType(threadData, _name, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_recordType), 2)))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_recordType), 3))));
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_box4(19, &NFType_CONDITIONAL__ARRAY__desc, omc_NFType_lookupRecordFieldType(threadData, _name, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_recordType), 2)))), omc_NFType_lookupRecordFieldType(threadData, _name, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_recordType), 3)))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_recordType), 4))));
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _fieldType = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _fieldType;
}

DLLDirection
modelica_boolean omc_NFType_isDiscrete(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isDiscrete;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isDiscrete has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 19: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = omc_NFFunction_Function_returnType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isDiscrete = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isDiscrete;
}
modelica_metatype boxptr_NFType_isDiscrete(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isDiscrete;
  modelica_metatype out_isDiscrete;
  _isDiscrete = omc_NFType_isDiscrete(threadData, _ty);
  out_isDiscrete = mmc_mk_icon(_isDiscrete);
  return out_isDiscrete;
}

DLLDirection
modelica_boolean omc_NFType_isEqual(threadData_t *threadData, modelica_metatype _ty1, modelica_metatype _ty2)
{
  modelica_boolean _equal;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _equal has no default value.
  if(referenceEq(_ty1, _ty2))
  {
    _equal = 1 /* true */;

    goto _return;
  }

  if((valueConstructor(_ty1) != valueConstructor(_ty2)))
  {
    _equal = 0 /* false */;

    goto _return;
  }

  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _ty1;
    tmp4_2 = _ty2;
    {
      modelica_metatype _names1 = NULL;
      modelica_metatype _names2 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _names1 has no default value.
      // _names2 has no default value.
      tmp4 = 0;
      for (; tmp4 < 9; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,2) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = omc_List_isEqualOnTrue(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 3))), boxvar_stringEq);
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,7,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = (omc_NFType_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 2)))) && omc_List_isEqualOnTrue(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 3))), boxvar_NFDimension_isEqualKnown));
          goto tmp3_done;
        }
        case 2: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,16,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = (omc_NFType_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 2)))) && omc_NFType_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 3)))));
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,8,2) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          _names1 = tmpMeta7;
          _names2 = tmpMeta9;
          /* Pattern matching succeeded */
          tmp1 = (omc_List_isEqualOnTrue(threadData, _names1, _names2, boxvar_stringEq) && omc_List_isEqualOnTrue(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 2))), boxvar_NFType_isEqual));
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,2) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (!optionNone(tmpMeta10)) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,8,2) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          if (!optionNone(tmpMeta11)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = omc_List_isEqualOnTrue(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 2))), boxvar_NFType_isEqual);
          goto tmp3_done;
        }
        case 5: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,2) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,8,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 6: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,11,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFInstNode_InstNode_isSame(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 2))));
          goto tmp3_done;
        }
        case 7: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,2) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,17,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = (omc_NFInstNode_InstNode_isSame(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 2)))) && omc_Array_isEqualOnTrue(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 3))), boxvar_NFDimension_isEqualKnown));
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _equal = tmp1;
  _return: OMC_LABEL_UNUSED
  return _equal;
}
modelica_metatype boxptr_NFType_isEqual(threadData_t *threadData, modelica_metatype _ty1, modelica_metatype _ty2)
{
  modelica_boolean _equal;
  modelica_metatype out_equal;
  _equal = omc_NFType_isEqual(threadData, _ty1, _ty2);
  out_equal = mmc_mk_icon(_equal);
  return out_equal;
}

DLLDirection
modelica_metatype omc_NFType_subscript(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fty, modelica_metatype _subs, modelica_boolean _failOnError)
{
  modelica_metatype _ty = NULL;
  modelica_metatype _dim = NULL;
  modelica_metatype _dims = NULL;
  modelica_metatype _subbed_dims = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _el_ty = NULL;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ty = __omcQ_24in_5Fty;
  // _dim has no default value.
  // _dims has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _subbed_dims = tmpMeta1;
  // _el_ty has no default value.
  if(listEmpty(_subs))
  {
    goto _return;
  }

  { /* match expression */
    modelica_metatype tmp5_1;
    tmp5_1 = _ty;
    {
      volatile mmc_switch_type tmp5;
      int tmp6;
      tmp5 = 0;
      for (; tmp5 < 6; tmp5++) {
        switch (MMC_SWITCH_CAST(tmp5)) {
        case 0: {
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,7,2) == 0) goto tmp4_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 3));
          _dims = tmpMeta7;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!((!_failOnError) && (listLength(_subs) > listLength(_dims)))) goto tmp4_end;
          tmpMeta2 = _OMC_LIT1;
          goto tmp4_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_boolean tmp21;
          modelica_metatype tmpMeta22;
          if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,7,2) == 0) goto tmp4_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 3));
          _dims = tmpMeta8;
          /* Pattern matching succeeded */
          {
            modelica_metatype _sub;
            for (tmpMeta9 = _subs; !listEmpty(tmpMeta9); tmpMeta9=MMC_CDR(tmpMeta9))
            {
              _sub = MMC_CAR(tmpMeta9);
              /* Pattern-matching assignment */
              tmpMeta10 = _dims;
              if (listEmpty(tmpMeta10)) goto goto_3;
              tmpMeta11 = MMC_CAR(tmpMeta10);
              tmpMeta12 = MMC_CDR(tmpMeta10);
              _dim = tmpMeta11;
              _dims = tmpMeta12;

              { /* match expression */
                modelica_metatype tmp16_1;
                tmp16_1 = _sub;
                {
                  int tmp16;
                  {
                    switch (MMC_SWITCH_CAST(valueConstructor(tmp16_1))) {
                    case 5: {
                      
                      /* Pattern matching succeeded */
                      tmpMeta13 = _subbed_dims;
                      goto tmp15_done;
                    }
                    case 6: {
                      modelica_metatype tmpMeta17;
                      
                      /* Pattern matching succeeded */
                      tmpMeta17 = mmc_mk_cons(omc_NFSubscript_toDimension(threadData, _sub), _subbed_dims);
                      tmpMeta13 = tmpMeta17;
                      goto tmp15_done;
                    }
                    case 8: {
                      modelica_metatype tmpMeta18;
                      
                      /* Pattern matching succeeded */
                      tmpMeta18 = mmc_mk_cons(_dim, _subbed_dims);
                      tmpMeta13 = tmpMeta18;
                      goto tmp15_done;
                    }
                    case 10: {
                      
                      /* Pattern matching succeeded */
                      tmpMeta13 = _subbed_dims;
                      goto tmp15_done;
                    }
                    }
                    goto tmp15_end;
                    tmp15_end: ;
                  }
                  goto goto_14;
                  goto_14:;
                  goto goto_3;
                  goto tmp15_done;
                  tmp15_done:;
                }
              }
              _subbed_dims = tmpMeta13;
            }
          }

          _el_ty = omc_NFType_arrayElementType(threadData, _ty);
          tmp21 = (modelica_boolean)(!(listEmpty(_subbed_dims) && listEmpty(_dims)));
          if(tmp21)
          {
            tmpMeta20 = mmc_mk_box3(10, &NFType_ARRAY__desc, _el_ty, listAppend(listReverse(_subbed_dims), _dims));
            tmpMeta22 = tmpMeta20;
          }
          else
          {
            tmpMeta22 = _el_ty;
          }
          tmpMeta2 = tmpMeta22;
          goto tmp4_done;
        }
        case 2: {
          modelica_metatype tmpMeta23;
          if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,16,3) == 0) goto tmp4_end;
          
          /* Pattern matching succeeded */
          tmpMeta23 = mmc_mk_box4(19, &NFType_CONDITIONAL__ARRAY__desc, omc_NFType_subscript(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _subs, 1 /* true */), omc_NFType_subscript(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), _subs, 1 /* true */), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 4))));
          tmpMeta2 = tmpMeta23;
          goto tmp4_done;
        }
        case 3: {
          modelica_metatype tmpMeta24;
          if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,13,1) == 0) goto tmp4_end;
          
          /* Pattern matching succeeded */
          tmpMeta24 = mmc_mk_box2(16, &NFType_METABOXED__desc, omc_NFType_subscript(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _subs, 1 /* true */));
          tmpMeta2 = tmpMeta24;
          goto tmp4_done;
        }
        case 4: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,10,0) == 0) goto tmp4_end;
          /* Pattern matching succeeded */
          tmpMeta2 = _ty;
          goto tmp4_done;
        }
        case 5: {
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          
          /* Pattern matching succeeded */
          if(_failOnError)
          {
            tmpMeta25 = stringAppend(_OMC_LIT2,omc_NFType_toString(threadData, _ty));
            tmpMeta26 = stringAppend(tmpMeta25,_OMC_LIT3);
            omc_Error_assertion(threadData, 0 /* false */, tmpMeta26, _OMC_LIT5);

            goto goto_3;
          }
          tmpMeta2 = _OMC_LIT1;
          goto tmp4_done;
        }
        }
        goto tmp4_end;
        tmp4_end: ;
      }
      goto goto_3;
      goto_3:;
      MMC_THROW_INTERNAL();
      goto tmp4_done;
      tmp4_done:;
    }
  }
  _ty = tmpMeta2;
  _return: OMC_LABEL_UNUSED
  return _ty;
}
modelica_metatype boxptr_NFType_subscript(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fty, modelica_metatype _subs, modelica_metatype _failOnError)
{
  modelica_integer tmp1;
  modelica_metatype _ty = NULL;
  tmp1 = mmc_unbox_integer(_failOnError);
  _ty = omc_NFType_subscript(threadData, __omcQ_24in_5Fty, _subs, tmp1);
  /* skip box _ty; NFType */
  return _ty;
}

DLLDirection
modelica_metatype omc_NFType_toDAE(threadData_t *threadData, modelica_metatype _ty, modelica_boolean _makeTypeVars)
{
  modelica_metatype _daeTy = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _daeTy has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT6;
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT7;
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT8;
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT9;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta7 = mmc_mk_box6(8, &DAE_Type_T__ENUMERATION__desc, mmc_mk_none(), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), tmpMeta5, tmpMeta6);
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT10;
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta12;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar7;
            modelica_metatype* tmp9;
            modelica_metatype tmpMeta10;
            modelica_metatype __omcQ_24tmpVar6;
            modelica_integer tmp11;
            modelica_metatype _d_loopVar = 0;
            modelica_metatype _d;
            _d_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)));
            tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar7 = tmpMeta10; /* defaultValue */
            tmp9 = &__omcQ_24tmpVar7;
            while(1) {
              tmp11 = 1;
              if (!listEmpty(_d_loopVar)) {
                _d = MMC_CAR(_d_loopVar);
                _d_loopVar = MMC_CDR(_d_loopVar);
                tmp11--;
              }
              if (tmp11 == 0) {
                __omcQ_24tmpVar6 = omc_NFDimension_toDAE(threadData, _d);
                *tmp9 = mmc_mk_cons(__omcQ_24tmpVar6,0);
                tmp9 = &MMC_CDR(*tmp9);
              } else if (tmp11 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp9 = mmc_mk_nil();
            tmpMeta8 = __omcQ_24tmpVar7;
          }
          tmpMeta12 = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, omc_NFType_toDAE(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _makeTypeVars), tmpMeta8);
          tmpMeta1 = tmpMeta12;
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta17;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar9;
            modelica_metatype* tmp14;
            modelica_metatype tmpMeta15;
            modelica_metatype __omcQ_24tmpVar8;
            modelica_integer tmp16;
            modelica_metatype _t_loopVar = 0;
            modelica_metatype _t;
            _t_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
            tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar9 = tmpMeta15; /* defaultValue */
            tmp14 = &__omcQ_24tmpVar9;
            while(1) {
              tmp16 = 1;
              if (!listEmpty(_t_loopVar)) {
                _t = MMC_CAR(_t_loopVar);
                _t_loopVar = MMC_CDR(_t_loopVar);
                tmp16--;
              }
              if (tmp16 == 0) {
                __omcQ_24tmpVar8 = omc_NFType_toDAE(threadData, _t, 1 /* true */);
                *tmp14 = mmc_mk_cons(__omcQ_24tmpVar8,0);
                tmp14 = &MMC_CDR(*tmp14);
              } else if (tmp16 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp14 = mmc_mk_nil();
            tmpMeta13 = __omcQ_24tmpVar9;
          }
          tmpMeta17 = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, tmpMeta13, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          tmpMeta1 = tmpMeta17;
          goto tmp3_done;
        }
        case 15: {
          modelica_metatype tmpMeta18;
          
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp21_1;
            tmp21_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)));
            {
              volatile mmc_switch_type tmp21;
              int tmp22;
              tmp21 = 0;
              for (; tmp21 < 3; tmp21++) {
                switch (MMC_SWITCH_CAST(tmp21)) {
                case 0: {
                  modelica_integer tmp23;
                  tmp23 = mmc_unbox_integer(tmp21_1);
                  if (1 != tmp23) goto tmp20_end;
                  /* Pattern matching succeeded */
                  tmpMeta18 = omc_NFFunction_Function_makeDAEType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), 0 /* false */);
                  goto tmp20_done;
                }
                case 1: {
                  modelica_integer tmp24;
                  modelica_metatype tmpMeta25;
                  tmp24 = mmc_unbox_integer(tmp21_1);
                  if (2 != tmp24) goto tmp20_end;
                  /* Pattern matching succeeded */
                  tmpMeta25 = mmc_mk_box3(16, &DAE_Type_T__FUNCTION__REFERENCE__FUNC__desc, mmc_mk_boolean(omc_NFFunction_Function_isBuiltin(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))))), omc_NFFunction_Function_makeDAEType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), 0 /* false */));
                  tmpMeta18 = tmpMeta25;
                  goto tmp20_done;
                }
                case 2: {
                  modelica_integer tmp26;
                  modelica_metatype tmpMeta27;
                  tmp26 = mmc_unbox_integer(tmp21_1);
                  if (3 != tmp26) goto tmp20_end;
                  /* Pattern matching succeeded */
                  tmpMeta27 = mmc_mk_box2(15, &DAE_Type_T__FUNCTION__REFERENCE__VAR__desc, omc_NFFunction_Function_makeDAEType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), 1 /* true */));
                  tmpMeta18 = tmpMeta27;
                  goto tmp20_done;
                }
                }
                goto tmp20_end;
                tmp20_end: ;
              }
              goto goto_19;
              goto_19:;
              goto goto_2;
              goto tmp20_done;
              tmp20_done:;
            }
          }tmpMeta1 = tmpMeta18;
          goto tmp3_done;
        }
        case 12: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT11;
          goto tmp3_done;
        }
        case 13: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT12;
          goto tmp3_done;
        }
        case 14: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (_makeTypeVars?omc_NFInstNode_InstNode_toFullDAEType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))):omc_NFInstNode_InstNode_toPartialDAEType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))));
          goto tmp3_done;
        }
        case 16: {
          modelica_metatype tmpMeta28;
          
          /* Pattern matching succeeded */
          tmpMeta28 = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, omc_NFType_toDAE(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), 1 /* true */));
          tmpMeta1 = tmpMeta28;
          goto tmp3_done;
        }
        case 17: {
          modelica_metatype tmpMeta29;
          
          /* Pattern matching succeeded */
          tmpMeta29 = mmc_mk_box2(27, &DAE_Type_T__METAPOLYMORPHIC__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          tmpMeta1 = tmpMeta29;
          goto tmp3_done;
        }
        case 18: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT13;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta30;
          
          /* Pattern matching succeeded */
          tmpMeta30 = stringAppend(_OMC_LIT14,mmc_anyString(_ty));
          omc_Error_assertion(threadData, 0 /* false */, tmpMeta30, _OMC_LIT15);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _daeTy = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _daeTy;
}
modelica_metatype boxptr_NFType_toDAE(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _makeTypeVars)
{
  modelica_integer tmp1;
  modelica_metatype _daeTy = NULL;
  tmp1 = mmc_unbox_integer(_makeTypeVars);
  _daeTy = omc_NFType_toDAE(threadData, _ty, tmp1);
  /* skip box _daeTy; DAE.Type */
  return _daeTy;
}

DLLDirection
modelica_string omc_NFType_typenameString(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_string _str = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _str has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = omc_AbsynUtil_pathString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _OMC_LIT16, 1 /* true */, 0 /* false */);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFType_toString(threadData, _ty);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _str = tmp1;
  _return: OMC_LABEL_UNUSED
  return _str;
}

DLLDirection
modelica_metatype omc_NFType_toFlatDeclarationStream(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _format, modelica_string _indent, modelica_metatype __omcQ_24in_5Fs)
{
  modelica_metatype _s = NULL;
  modelica_integer _index;
  modelica_string _name = NULL;
  modelica_metatype _complexTy = NULL;
  modelica_metatype _path = NULL;
  modelica_metatype _constructor = NULL;
  modelica_metatype _destructor = NULL;
  modelica_metatype _f = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _s = __omcQ_24in_5Fs;
  // _index has no default value.
  // _name has no default value.
  // _complexTy has no default value.
  // _path has no default value.
  // _constructor has no default value.
  // _destructor has no default value.
  // _f has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _s = omc_IOStream_append(threadData, _s, _indent);

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT17);

          _s = omc_IOStream_append(threadData, _s, omc_Util_makeQuotedIdentifier(threadData, omc_AbsynUtil_pathString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _OMC_LIT16, 1 /* true */, 0 /* false */)));

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT18);

          {
            modelica_metatype __omcQ_24tmpVar11;
            modelica_metatype* tmp7;
            modelica_metatype tmpMeta8;
            modelica_string __omcQ_24tmpVar10;
            modelica_integer tmp9;
            modelica_metatype _l_loopVar = 0;
            modelica_metatype _l;
            _l_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)));
            tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar11 = tmpMeta8; /* defaultValue */
            tmp7 = &__omcQ_24tmpVar11;
            while(1) {
              tmp9 = 1;
              if (!listEmpty(_l_loopVar)) {
                _l = MMC_CAR(_l_loopVar);
                _l_loopVar = MMC_CDR(_l_loopVar);
                tmp9--;
              }
              if (tmp9 == 0) {
                __omcQ_24tmpVar10 = omc_Util_makeQuotedIdentifier(threadData, _l);
                *tmp7 = mmc_mk_cons(__omcQ_24tmpVar10,0);
                tmp7 = &MMC_CDR(*tmp7);
              } else if (tmp9 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp7 = mmc_mk_nil();
            tmpMeta6 = __omcQ_24tmpVar11;
          }
          _s = omc_IOStream_append(threadData, _s, stringDelimitList(tmpMeta6, _OMC_LIT19));
          tmpMeta1 = omc_IOStream_append(threadData, _s, _OMC_LIT20);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,4,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFRecord_toFlatDeclarationStream(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _format, _indent, _s);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,5,2) == 0) goto tmp3_end;
          
          _complexTy = tmpMeta11;
          /* Pattern matching succeeded */
          _path = omc_NFInstNode_InstNode_scopePath(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), 1, 0 /* false */);

          _name = omc_Util_makeQuotedIdentifier(threadData, omc_AbsynUtil_pathString(threadData, _path, _OMC_LIT16, 1 /* true */, 0 /* false */));

          _s = omc_IOStream_append(threadData, _s, _indent);

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT21);

          _s = omc_IOStream_append(threadData, _s, _name);

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT22);

          /* Pattern-matching assignment */
          tmpMeta12 = omc_NFFunction_Function_typeNodeCache(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_complexTy), 2))), ((modelica_integer) 16));
          if (listEmpty(tmpMeta12)) goto goto_2;
          tmpMeta13 = MMC_CAR(tmpMeta12);
          tmpMeta14 = MMC_CDR(tmpMeta12);
          if (!listEmpty(tmpMeta14)) goto goto_2;
          _f = tmpMeta13;

          tmpMeta15 = stringAppend(_indent,_OMC_LIT23);
          _s = omc_NFFunction_Function_toFlatStream(threadData, _f, _format, tmpMeta15, _s, _OMC_LIT24);

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT25);

          /* Pattern-matching assignment */
          tmpMeta16 = omc_NFFunction_Function_typeNodeCache(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_complexTy), 3))), ((modelica_integer) 16));
          if (listEmpty(tmpMeta16)) goto goto_2;
          tmpMeta17 = MMC_CAR(tmpMeta16);
          tmpMeta18 = MMC_CDR(tmpMeta16);
          if (!listEmpty(tmpMeta18)) goto goto_2;
          _f = tmpMeta17;

          tmpMeta19 = stringAppend(_indent,_OMC_LIT23);
          _s = omc_NFFunction_Function_toFlatStream(threadData, _f, _format, tmpMeta19, _s, _OMC_LIT26);

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT27);
          tmpMeta1 = omc_IOStream_append(threadData, _s, _name);
          goto tmp3_done;
        }
        case 3: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFFunction_Function_toFlatStream(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _format, _indent, _s, omc_Util_makeQuotedIdentifier(threadData, omc_AbsynUtil_pathString(threadData, omc_NFInstNode_InstNode_scopePath(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))), 3))), 1, 0 /* false */), _OMC_LIT16, 1 /* true */, 0 /* false */)));
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _s;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _s = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _s;
}

static modelica_metatype closure0_NFDimension_toFlatString(threadData_t *thData, modelica_metatype closure, modelica_metatype dim)
{
  modelica_metatype format = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFDimension_toFlatString(thData, dim, format);
}
DLLDirection
modelica_string omc_NFType_dimensionsToFlatString(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _format)
{
  modelica_string _str = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _str has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box1(0, _format);
          tmp1 = stringDelimitList(omc_List_map(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), (modelica_fnptr) mmc_mk_box2(0,closure0_NFDimension_toFlatString,tmpMeta6)), _OMC_LIT19);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = stringAppend(_OMC_LIT28,mmc_anyString(_ty));
          omc_Error_assertion(threadData, 0 /* false */, tmpMeta7, _OMC_LIT29);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _str = tmp1;
  _return: OMC_LABEL_UNUSED
  return _str;
}

static modelica_metatype closure1_NFDimension_toFlatString(threadData_t *thData, modelica_metatype closure, modelica_metatype dim)
{
  modelica_metatype format = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFDimension_toFlatString(thData, dim, format);
}static modelica_metatype closure2_NFType_toFlatString(threadData_t *thData, modelica_metatype closure, modelica_metatype ty)
{
  modelica_metatype format = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFType_toFlatString(thData, ty, format);
}static modelica_metatype closure3_NFDimension_toFlatString(threadData_t *thData, modelica_metatype closure, modelica_metatype dim)
{
  modelica_metatype format = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFDimension_toFlatString(thData, dim, format);
}
DLLDirection
modelica_string omc_NFType_toFlatString(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _format)
{
  modelica_string _str = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _str has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT30;
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT31;
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT32;
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT33;
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT34;
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          tmp1 = (listEmpty((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))))?_OMC_LIT35:(omc_NFType_isBuiltinEnumeration(threadData, _ty)?omc_AbsynUtil_pathString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _OMC_LIT16, 1 /* true */, 0 /* false */):omc_Util_makeQuotedIdentifier(threadData, omc_AbsynUtil_pathString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _OMC_LIT16, 1 /* true */, 0 /* false */))));
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_box1(0, _format);
          tmp1 = omc_List_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), (modelica_fnptr) mmc_mk_box2(0,closure1_NFDimension_toFlatString,tmpMeta5), omc_NFType_toFlatString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _format), _OMC_LIT36, _OMC_LIT19, _OMC_LIT37, 0 /* false */, ((modelica_integer) 0));
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box1(0, _format);
          tmpMeta7 = stringAppend(_OMC_LIT38,stringDelimitList(omc_List_map(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), (modelica_fnptr) mmc_mk_box2(0,closure2_NFType_toFlatString,tmpMeta6)), _OMC_LIT19));
          tmpMeta8 = stringAppend(tmpMeta7,_OMC_LIT20);
          tmp1 = tmpMeta8;
          goto tmp3_done;
        }
        case 12: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT39;
          goto tmp3_done;
        }
        case 13: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT40;
          goto tmp3_done;
        }
        case 14: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_Util_makeQuotedIdentifier(threadData, omc_AbsynUtil_pathString(threadData, omc_NFInstNode_InstNode_scopePath(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), 1, 0 /* false */), _OMC_LIT16, 1 /* true */, 0 /* false */));
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_Util_makeQuotedIdentifier(threadData, omc_AbsynUtil_pathString(threadData, omc_NFInstNode_InstNode_scopePath(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))), 3))), 1, 0 /* false */), _OMC_LIT16, 1 /* true */, 0 /* false */));
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 17: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          
          /* Pattern matching succeeded */
          tmpMeta9 = stringAppend(_OMC_LIT41,(MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          tmpMeta10 = stringAppend(tmpMeta9,_OMC_LIT42);
          tmp1 = tmpMeta10;
          goto tmp3_done;
        }
        case 18: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT43;
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          
          /* Pattern matching succeeded */
          tmpMeta11 = stringAppend(omc_NFType_toFlatString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _format),_OMC_LIT44);
          tmpMeta12 = stringAppend(tmpMeta11,omc_NFType_toFlatString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), _format));
          tmp1 = tmpMeta12;
          goto tmp3_done;
        }
        case 20: {
          modelica_metatype tmpMeta13;
          
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_box1(0, _format);
          tmp1 = omc_Array_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), (modelica_fnptr) mmc_mk_box2(0,closure3_NFDimension_toFlatString,tmpMeta13), omc_NFInstNode_InstNode_name(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))), _OMC_LIT36, _OMC_LIT19, _OMC_LIT37, 0 /* false */, ((modelica_integer) 0));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta14;
          
          /* Pattern matching succeeded */
          tmpMeta14 = stringAppend(_OMC_LIT45,mmc_anyString(_ty));
          omc_Error_assertion(threadData, 0 /* false */, tmpMeta14, _OMC_LIT46);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _str = tmp1;
  _return: OMC_LABEL_UNUSED
  return _str;
}

DLLDirection
modelica_string omc_NFType_toString(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_string _str = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _str has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT30;
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT31;
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT32;
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT33;
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT34;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_boolean tmp9;
          modelica_string tmp10;
          
          /* Pattern matching succeeded */
          tmp9 = (modelica_boolean)listEmpty((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          if(tmp9)
          {
            tmp10 = _OMC_LIT35;
          }
          else
          {
            tmpMeta5 = stringAppend(_OMC_LIT47,omc_AbsynUtil_pathString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _OMC_LIT16, 1 /* true */, 0 /* false */));
            tmpMeta6 = stringAppend(tmpMeta5,_OMC_LIT38);
            tmpMeta7 = stringAppend(tmpMeta6,stringDelimitList((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), _OMC_LIT19));
            tmpMeta8 = stringAppend(tmpMeta7,_OMC_LIT20);
            tmp10 = tmpMeta8;
          }
          tmp1 = tmp10;
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_List_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), boxvar_NFDimension_toString, omc_NFType_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))), _OMC_LIT36, _OMC_LIT19, _OMC_LIT37, 0 /* false */, ((modelica_integer) 0));
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          
          /* Pattern matching succeeded */
          tmpMeta11 = stringAppend(_OMC_LIT38,stringDelimitList(omc_List_map(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), boxvar_NFType_toString), _OMC_LIT19));
          tmpMeta12 = stringAppend(tmpMeta11,_OMC_LIT20);
          tmp1 = tmpMeta12;
          goto tmp3_done;
        }
        case 12: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT39;
          goto tmp3_done;
        }
        case 13: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT40;
          goto tmp3_done;
        }
        case 14: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_AbsynUtil_pathString(threadData, omc_NFInstNode_InstNode_scopePath(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), 1, 0 /* false */), _OMC_LIT16, 1 /* true */, 0 /* false */);
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFFunction_Function_typeString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 17: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_boolean tmp15;
          modelica_string tmp16;
          
          /* Pattern matching succeeded */
          tmp15 = (modelica_boolean)omc_StringUtil_startsWith(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _OMC_LIT48);
          if(tmp15)
          {
            tmp16 = substring((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), ((modelica_integer) 3), stringLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))));
          }
          else
          {
            tmpMeta13 = stringAppend(_OMC_LIT41,(MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
            tmpMeta14 = stringAppend(tmpMeta13,_OMC_LIT42);
            tmp16 = tmpMeta14;
          }
          tmp1 = tmp16;
          goto tmp3_done;
        }
        case 18: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT43;
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          
          /* Pattern matching succeeded */
          tmpMeta17 = stringAppend(omc_NFType_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))),_OMC_LIT44);
          tmpMeta18 = stringAppend(tmpMeta17,omc_NFType_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)))));
          tmp1 = tmpMeta18;
          goto tmp3_done;
        }
        case 20: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_Array_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), boxvar_NFDimension_toString, omc_NFInstNode_InstNode_name(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))), _OMC_LIT36, _OMC_LIT19, _OMC_LIT37, 0 /* false */, ((modelica_integer) 0));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          tmpMeta19 = stringAppend(_OMC_LIT49,mmc_anyString(_ty));
          omc_Error_assertion(threadData, 0 /* false */, tmpMeta19, _OMC_LIT50);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _str = tmp1;
  _return: OMC_LABEL_UNUSED
  return _str;
}

DLLDirection
modelica_string omc_NFType_nthEnumLiteral(threadData_t *threadData, modelica_metatype _ty, modelica_integer _index)
{
  modelica_string _literal = NULL;
  modelica_metatype _literals = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _literal has no default value.
  // _literals has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _ty;
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta1,5,2) == 0) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 3));
  _literals = tmpMeta2;

  _literal = listGet(_literals, _index);
  _return: OMC_LABEL_UNUSED
  return _literal;
}
modelica_metatype boxptr_NFType_nthEnumLiteral(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _index)
{
  modelica_integer tmp1;
  modelica_string _literal = NULL;
  tmp1 = mmc_unbox_integer(_index);
  _literal = omc_NFType_nthEnumLiteral(threadData, _ty, tmp1);
  /* skip box _literal; String */
  return _literal;
}

static modelica_metatype closure4_NFType_foldDims(threadData_t *thData, modelica_metatype closure, modelica_metatype ty, modelica_metatype $in_arg)
{
  modelica_fnptr func = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFType_foldDims(thData, ty, func, $in_arg);
}
DLLDirection
modelica_metatype omc_NFType_foldDims(threadData_t *threadData, modelica_metatype _ty, modelica_fnptr _func, modelica_metatype __omcQ_24in_5Farg)
{
  modelica_metatype _arg = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _arg = __omcQ_24in_5Farg;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_List_fold(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), ((modelica_fnptr) _func), _arg);
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_box1(0, ((modelica_fnptr) _func));
          tmpMeta1 = omc_List_fold(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), (modelica_fnptr) mmc_mk_box2(0,closure4_NFType_foldDims,tmpMeta5), _arg);
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = omc_NFFunction_Function_returnType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          __omcQ_24in_5Farg = _arg;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          __omcQ_24in_5Farg = _arg;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _arg;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _arg = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _arg;
}

DLLDirection
modelica_metatype omc_NFType_mapDims(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fty, modelica_fnptr _func)
{
  modelica_metatype _ty = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ty = __omcQ_24in_5Fty;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _ty;
    {
      modelica_metatype _fn = NULL;
      int tmp3;
      // _fn has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
        case 10: {
          modelica_metatype tmpMeta4;
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar13;
            modelica_metatype* tmp6;
            modelica_metatype tmpMeta7;
            modelica_metatype __omcQ_24tmpVar12;
            modelica_integer tmp8;
            modelica_metatype _d_loopVar = 0;
            modelica_metatype _d;
            _d_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)));
            tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar13 = tmpMeta7; /* defaultValue */
            tmp6 = &__omcQ_24tmpVar13;
            while(1) {
              tmp8 = 1;
              if (!listEmpty(_d_loopVar)) {
                _d = MMC_CAR(_d_loopVar);
                _d_loopVar = MMC_CDR(_d_loopVar);
                tmp8--;
              }
              if (tmp8 == 0) {
                __omcQ_24tmpVar12 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), _d) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, _d);
                *tmp6 = mmc_mk_cons(__omcQ_24tmpVar12,0);
                tmp6 = &MMC_CDR(*tmp6);
              } else if (tmp8 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp6 = mmc_mk_nil();
            tmpMeta5 = __omcQ_24tmpVar13;
          }
          tmpMeta4 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta4), MMC_UNTAGPTR(_ty), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta4))[3] = tmpMeta5;
          _ty = tmpMeta4;
          goto tmp2_done;
        }
        case 11: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar15;
            modelica_metatype* tmp11;
            modelica_metatype tmpMeta12;
            modelica_metatype __omcQ_24tmpVar14;
            modelica_integer tmp13;
            modelica_metatype _t_loopVar = 0;
            modelica_metatype _t;
            _t_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
            tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar15 = tmpMeta12; /* defaultValue */
            tmp11 = &__omcQ_24tmpVar15;
            while(1) {
              tmp13 = 1;
              if (!listEmpty(_t_loopVar)) {
                _t = MMC_CAR(_t_loopVar);
                _t_loopVar = MMC_CDR(_t_loopVar);
                tmp13--;
              }
              if (tmp13 == 0) {
                __omcQ_24tmpVar14 = omc_NFType_mapDims(threadData, _t, ((modelica_fnptr) _func));
                *tmp11 = mmc_mk_cons(__omcQ_24tmpVar14,0);
                tmp11 = &MMC_CDR(*tmp11);
              } else if (tmp13 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp11 = mmc_mk_nil();
            tmpMeta10 = __omcQ_24tmpVar15;
          }
          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_ty), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[2] = tmpMeta10;
          _ty = tmpMeta9;
          goto tmp2_done;
        }
        case 15: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,12,2) == 0) goto tmp2_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          
          _fn = tmpMeta14;
          /* Pattern matching succeeded */
          tmpMeta15 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta15), MMC_UNTAGPTR(_ty), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta15))[2] = omc_NFFunction_Function_setReturnType(threadData, omc_NFType_mapDims(threadData, omc_NFFunction_Function_returnType(threadData, _fn), ((modelica_fnptr) _func)), _fn);
          _ty = tmpMeta15;
          goto tmp2_done;
        }
        case 16: {
          modelica_metatype tmpMeta16;
          
          /* Pattern matching succeeded */
          tmpMeta16 = MMC_TAGPTR(mmc_alloc_words(3));
          memcpy(MMC_UNTAGPTR(tmpMeta16), MMC_UNTAGPTR(_ty), 3*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta16))[2] = omc_NFType_mapDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), ((modelica_fnptr) _func));
          _ty = tmpMeta16;
          goto tmp2_done;
        }
        case 19: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          
          /* Pattern matching succeeded */
          tmpMeta17 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta17), MMC_UNTAGPTR(_ty), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta17))[2] = omc_NFType_mapDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), ((modelica_fnptr) _func));
          _ty = tmpMeta17;

          tmpMeta18 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta18), MMC_UNTAGPTR(_ty), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta18))[3] = omc_NFType_mapDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), ((modelica_fnptr) _func));
          _ty = tmpMeta18;
          goto tmp2_done;
        }
        default:
        tmp2_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _ty;
}

DLLDirection
modelica_boolean omc_NFType_hasZeroDimension(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _hasZero;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _hasZero has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_List_any(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), boxvar_NFDimension_isZero);
          goto tmp3_done;
        }
        case 19: {
          
          /* Pattern matching succeeded */
          tmp1 = (omc_NFType_hasZeroDimension(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))) && omc_NFType_hasZeroDimension(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)))));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _hasZero = tmp1;
  _return: OMC_LABEL_UNUSED
  return _hasZero;
}
modelica_metatype boxptr_NFType_hasZeroDimension(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _hasZero;
  modelica_metatype out_hasZero;
  _hasZero = omc_NFType_hasZeroDimension(threadData, _ty);
  out_hasZero = mmc_mk_icon(_hasZero);
  return out_hasZero;
}

static modelica_metatype closure5_NFDimension_isKnown(threadData_t *thData, modelica_metatype closure, modelica_metatype dim)
{
  modelica_metatype allowExp = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFDimension_isKnown(thData, dim, allowExp);
}
DLLDirection
modelica_boolean omc_NFType_hasKnownSize(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isKnown;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isKnown has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_box1(0, mmc_mk_boolean(0 /* false */));
          tmp1 = omc_List_all(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), (modelica_fnptr) mmc_mk_box2(0,closure5_NFDimension_isKnown,tmpMeta5));
          goto tmp3_done;
        }
        case 19: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = omc_NFFunction_Function_returnType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isKnown = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isKnown;
}
modelica_metatype boxptr_NFType_hasKnownSize(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isKnown;
  modelica_metatype out_isKnown;
  _isKnown = omc_NFType_hasKnownSize(threadData, _ty);
  out_isKnown = mmc_mk_icon(_isKnown);
  return out_isKnown;
}

DLLDirection
modelica_integer omc_NFType_dimensionDiff(threadData_t *threadData, modelica_metatype _ty1, modelica_metatype _ty2)
{
  modelica_integer _diff;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _diff = omc_NFType_dimensionCount(threadData, _ty1) - omc_NFType_dimensionCount(threadData, _ty2);
  _return: OMC_LABEL_UNUSED
  return _diff;
}
modelica_metatype boxptr_NFType_dimensionDiff(threadData_t *threadData, modelica_metatype _ty1, modelica_metatype _ty2)
{
  modelica_integer _diff;
  modelica_metatype out_diff;
  _diff = omc_NFType_dimensionDiff(threadData, _ty1, _ty2);
  out_diff = mmc_mk_icon(_diff);
  return out_diff;
}

DLLDirection
modelica_integer omc_NFType_dimensionCount(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_integer _dimCount;
  modelica_integer tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _dimCount has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          goto tmp3_done;
        }
        case 19: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = omc_NFFunction_Function_returnType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 20: {
          
          /* Pattern matching succeeded */
          tmp1 = arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 0);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _dimCount = tmp1;
  _return: OMC_LABEL_UNUSED
  return _dimCount;
}
modelica_metatype boxptr_NFType_dimensionCount(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_integer _dimCount;
  modelica_metatype out_dimCount;
  _dimCount = omc_NFType_dimensionCount(threadData, _ty);
  out_dimCount = mmc_mk_icon(_dimCount);
  return out_dimCount;
}

DLLDirection
modelica_metatype omc_NFType_nthDimension(threadData_t *threadData, modelica_metatype _ty, modelica_integer _index)
{
  modelica_metatype _dim = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _dim has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = listGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), _index);
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = omc_NFFunction_Function_returnType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _dim = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _dim;
}
modelica_metatype boxptr_NFType_nthDimension(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _index)
{
  modelica_integer tmp1;
  modelica_metatype _dim = NULL;
  tmp1 = mmc_unbox_integer(_index);
  _dim = omc_NFType_nthDimension(threadData, _ty, tmp1);
  /* skip box _dim; NFDimension */
  return _dim;
}

DLLDirection
modelica_metatype omc_NFType_applyToDims(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fty, modelica_fnptr _func)
{
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ty = __omcQ_24in_5Fty;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      modelica_metatype _fn = NULL;
      int tmp4;
      // _fn has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar17;
            modelica_metatype* tmp7;
            modelica_metatype tmpMeta8;
            modelica_metatype __omcQ_24tmpVar16;
            modelica_integer tmp9;
            modelica_metatype _d_loopVar = 0;
            modelica_metatype _d;
            _d_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)));
            tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar17 = tmpMeta8; /* defaultValue */
            tmp7 = &__omcQ_24tmpVar17;
            while(1) {
              tmp9 = 1;
              if (!listEmpty(_d_loopVar)) {
                _d = MMC_CAR(_d_loopVar);
                _d_loopVar = MMC_CDR(_d_loopVar);
                tmp9--;
              }
              if (tmp9 == 0) {
                __omcQ_24tmpVar16 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), _d) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, _d);
                *tmp7 = mmc_mk_cons(__omcQ_24tmpVar16,0);
                tmp7 = &MMC_CDR(*tmp7);
              } else if (tmp9 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp7 = mmc_mk_nil();
            tmpMeta6 = __omcQ_24tmpVar17;
          }
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_ty), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[3] = tmpMeta6;
          _ty = tmpMeta5;
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        case 15: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,2) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _fn = tmpMeta10;
          /* Pattern matching succeeded */
          tmpMeta11 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta11), MMC_UNTAGPTR(_fn), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta11))[8] = omc_NFType_applyToDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fn), 8))), ((modelica_fnptr) _func));
          _fn = tmpMeta11;

          tmpMeta12 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta12), MMC_UNTAGPTR(_ty), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta12))[2] = _fn;
          _ty = tmpMeta12;
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        case 16: {
          modelica_metatype tmpMeta13;
          
          /* Pattern matching succeeded */
          tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(3));
          memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_ty), 3*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[2] = omc_NFType_applyToDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), ((modelica_fnptr) _func));
          _ty = tmpMeta13;
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta14;
          
          /* Pattern matching succeeded */
          tmpMeta14 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta14), MMC_UNTAGPTR(_ty), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta14))[2] = omc_NFType_applyToDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), ((modelica_fnptr) _func));
          _ty = tmpMeta14;
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        case 20: {
          modelica_integer tmp15;
          modelica_integer tmp16;
          modelica_integer tmp17;
          
          /* Pattern matching succeeded */
          tmp15 = ((modelica_integer) 1); tmp16 = 1; tmp17 = arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          if(!(((tmp16 > 0) && (tmp15 > tmp17)) || ((tmp16 < 0) && (tmp15 < tmp17))))
          {
            modelica_integer _i;
            for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp15, tmp17); _i += tmp16)
            {
              arrayUpdate((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), _i, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))),_i) /* DAE.ASUB */) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))),_i) /* DAE.ASUB */));
            }
          }
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _ty = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _ty;
}

DLLDirection
modelica_metatype omc_NFType_copyDims(threadData_t *threadData, modelica_metatype _srcType, modelica_metatype _dstType)
{
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _ty has no default value.
  if(listEmpty(omc_NFType_arrayDims(threadData, _srcType)))
  {
    _ty = omc_NFType_arrayElementType(threadData, _dstType);
  }
  else
  {
    { /* match expression */
      modelica_metatype tmp4_1;
      tmp4_1 = _dstType;
      {
        volatile mmc_switch_type tmp4;
        int tmp5;
        tmp4 = 0;
        for (; tmp4 < 2; tmp4++) {
          switch (MMC_SWITCH_CAST(tmp4)) {
          case 0: {
            modelica_metatype tmpMeta6;
            if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
            
            /* Pattern matching succeeded */
            tmpMeta6 = mmc_mk_box3(10, &NFType_ARRAY__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dstType), 2))), omc_NFType_arrayDims(threadData, _srcType));
            tmpMeta1 = tmpMeta6;
            goto tmp3_done;
          }
          case 1: {
            modelica_metatype tmpMeta7;
            
            /* Pattern matching succeeded */
            tmpMeta7 = mmc_mk_box3(10, &NFType_ARRAY__desc, _dstType, omc_NFType_arrayDims(threadData, _srcType));
            tmpMeta1 = tmpMeta7;
            goto tmp3_done;
          }
          }
          goto tmp3_end;
          tmp3_end: ;
        }
        goto goto_2;
        goto_2:;
        MMC_THROW_INTERNAL();
        goto tmp3_done;
        tmp3_done:;
      }
    }
    _ty = tmpMeta1;
  }
  _return: OMC_LABEL_UNUSED
  return _ty;
}

DLLDirection
modelica_metatype omc_NFType_arrayDims(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_metatype _dims = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _dims has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)));
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = omc_NFFunction_Function_returnType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 19: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_List_fill(threadData, _OMC_LIT51, omc_NFType_dimensionCount(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))));
          goto tmp3_done;
        }
        case 20: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = arrayList((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _dims = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _dims;
}

DLLDirection
modelica_metatype omc_NFType_copyElementType(threadData_t *threadData, modelica_metatype _dstType, modelica_metatype _srcType)
{
  modelica_metatype _ty = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _ty has no default value.
  _ty = omc_NFType_setArrayElementType(threadData, _dstType, omc_NFType_arrayElementType(threadData, _srcType));
  _return: OMC_LABEL_UNUSED
  return _ty;
}

DLLDirection
modelica_metatype omc_NFType_elementType(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_metatype _elementTy = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _elementTy has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto tmp3_done;
        }
        case 19: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = omc_NFFunction_Function_returnType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _elementTy = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _elementTy;
}

DLLDirection
modelica_metatype omc_NFType_setArrayElementType(threadData_t *threadData, modelica_metatype _arrayTy, modelica_metatype _elementTy)
{
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _ty has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _arrayTy;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFType_liftArrayLeftList(threadData, _elementTy, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_arrayTy), 3))));
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_box4(19, &NFType_CONDITIONAL__ARRAY__desc, omc_NFType_setArrayElementType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_arrayTy), 2))), _elementTy), omc_NFType_setArrayElementType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_arrayTy), 3))), _elementTy), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_arrayTy), 4))));
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _elementTy;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _ty = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _ty;
}

DLLDirection
modelica_metatype omc_NFType_arrayElementType(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_metatype _elementTy = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _elementTy has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(!(arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)))) == ((modelica_integer) 0)))) goto tmp3_end;
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta7 = mmc_mk_box3(20, &NFType_UNTYPED__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), listArray(tmpMeta6));
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _elementTy = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _elementTy;
}

DLLDirection
modelica_metatype omc_NFType_nthTupleType(threadData_t *threadData, modelica_metatype _ty, modelica_integer _n)
{
  modelica_metatype _outTy = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outTy has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 11: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = listGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _n);
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_box3(10, &NFType_ARRAY__desc, omc_NFType_nthTupleType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _n), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outTy = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outTy;
}
modelica_metatype boxptr_NFType_nthTupleType(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _n)
{
  modelica_integer tmp1;
  modelica_metatype _outTy = NULL;
  tmp1 = mmc_unbox_integer(_n);
  _outTy = omc_NFType_nthTupleType(threadData, _ty, tmp1);
  /* skip box _outTy; NFType */
  return _outTy;
}

DLLDirection
modelica_metatype omc_NFType_firstTupleType(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_metatype _outTy = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outTy has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 11: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = listHead((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_box3(10, &NFType_ARRAY__desc, omc_NFType_firstTupleType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outTy = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outTy;
}

DLLDirection
modelica_boolean omc_NFType_isPolymorphicNamed(threadData_t *threadData, modelica_metatype _ty, modelica_string _name)
{
  modelica_boolean _res;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _res has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = (stringEqual(_name, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))));
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _res = tmp1;
  _return: OMC_LABEL_UNUSED
  return _res;
}
modelica_metatype boxptr_NFType_isPolymorphicNamed(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _name)
{
  modelica_boolean _res;
  modelica_metatype out_res;
  _res = omc_NFType_isPolymorphicNamed(threadData, _ty, _name);
  out_res = mmc_mk_icon(_res);
  return out_res;
}

DLLDirection
modelica_boolean omc_NFType_isPolymorphic(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isPolymorphic;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isPolymorphic has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isPolymorphic = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isPolymorphic;
}
modelica_metatype boxptr_NFType_isPolymorphic(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isPolymorphic;
  modelica_metatype out_isPolymorphic;
  _isPolymorphic = omc_NFType_isPolymorphic(threadData, _ty);
  out_isPolymorphic = mmc_mk_icon(_isPolymorphic);
  return out_isPolymorphic;
}

DLLDirection
modelica_boolean omc_NFType_isKnown(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isKnown;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isKnown has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 13: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 20: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isKnown = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isKnown;
}
modelica_metatype boxptr_NFType_isKnown(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isKnown;
  modelica_metatype out_isKnown;
  _isKnown = omc_NFType_isKnown(threadData, _ty);
  out_isKnown = mmc_mk_icon(_isKnown);
  return out_isKnown;
}

DLLDirection
modelica_boolean omc_NFType_isUnknown(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isUnknown;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isUnknown has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isUnknown = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isUnknown;
}
modelica_metatype boxptr_NFType_isUnknown(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isUnknown;
  modelica_metatype out_isUnknown;
  _isUnknown = omc_NFType_isUnknown(threadData, _ty);
  out_isUnknown = mmc_mk_icon(_isUnknown);
  return out_isUnknown;
}

DLLDirection
modelica_boolean omc_NFType_isTuple(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isTuple;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isTuple has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isTuple = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isTuple;
}
modelica_metatype boxptr_NFType_isTuple(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isTuple;
  modelica_metatype out_isTuple;
  _isTuple = omc_NFType_isTuple(threadData, _ty);
  out_isTuple = mmc_mk_icon(_isTuple);
  return out_isTuple;
}

DLLDirection
modelica_boolean omc_NFType_isScalarBuiltin(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isScalarBuiltin;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isScalarBuiltin has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = omc_NFFunction_Function_returnType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isScalarBuiltin = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isScalarBuiltin;
}
modelica_metatype boxptr_NFType_isScalarBuiltin(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isScalarBuiltin;
  modelica_metatype out_isScalarBuiltin;
  _isScalarBuiltin = omc_NFType_isScalarBuiltin(threadData, _ty);
  out_isScalarBuiltin = mmc_mk_icon(_isScalarBuiltin);
  return out_isScalarBuiltin;
}

DLLDirection
modelica_boolean omc_NFType_isNumeric(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isNumeric;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isNumeric has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFType_isBasicNumeric(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto tmp3_done;
        }
        case 19: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFType_isBasicNumeric(threadData, _ty);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isNumeric = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isNumeric;
}
modelica_metatype boxptr_NFType_isNumeric(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isNumeric;
  modelica_metatype out_isNumeric;
  _isNumeric = omc_NFType_isNumeric(threadData, _ty);
  out_isNumeric = mmc_mk_icon(_isNumeric);
  return out_isNumeric;
}

DLLDirection
modelica_boolean omc_NFType_isBasicNumeric(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isNumeric;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isNumeric has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isNumeric = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isNumeric;
}
modelica_metatype boxptr_NFType_isBasicNumeric(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isNumeric;
  modelica_metatype out_isNumeric;
  _isNumeric = omc_NFType_isBasicNumeric(threadData, _ty);
  out_isNumeric = mmc_mk_icon(_isNumeric);
  return out_isNumeric;
}

DLLDirection
modelica_boolean omc_NFType_isBasic(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isNumeric;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isNumeric has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = omc_NFFunction_Function_returnType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isNumeric = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isNumeric;
}
modelica_metatype boxptr_NFType_isBasic(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isNumeric;
  modelica_metatype out_isNumeric;
  _isNumeric = omc_NFType_isBasic(threadData, _ty);
  out_isNumeric = mmc_mk_icon(_isNumeric);
  return out_isNumeric;
}

DLLDirection
modelica_boolean omc_NFType_isRecord(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isRecord;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isRecord has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,4,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isRecord = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isRecord;
}
modelica_metatype boxptr_NFType_isRecord(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isRecord;
  modelica_metatype out_isRecord;
  _isRecord = omc_NFType_isRecord(threadData, _ty);
  out_isRecord = mmc_mk_icon(_isRecord);
  return out_isRecord;
}

DLLDirection
modelica_boolean omc_NFType_isExternalObject(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isEO;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isEO has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isEO = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isEO;
}
modelica_metatype boxptr_NFType_isExternalObject(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isEO;
  modelica_metatype out_isEO;
  _isEO = omc_NFType_isExternalObject(threadData, _ty);
  out_isEO = mmc_mk_icon(_isEO);
  return out_isEO;
}

DLLDirection
modelica_boolean omc_NFType_isExpandableConnector(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isExpandable;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isExpandable has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,3,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isExpandable = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isExpandable;
}
modelica_metatype boxptr_NFType_isExpandableConnector(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isExpandable;
  modelica_metatype out_isExpandable;
  _isExpandable = omc_NFType_isExpandableConnector(threadData, _ty);
  out_isExpandable = mmc_mk_icon(_isExpandable);
  return out_isExpandable;
}

DLLDirection
modelica_boolean omc_NFType_isConnector(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isConnector;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isConnector has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,2,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isConnector = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isConnector;
}
modelica_metatype boxptr_NFType_isConnector(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isConnector;
  modelica_metatype out_isConnector;
  _isConnector = omc_NFType_isConnector(threadData, _ty);
  out_isConnector = mmc_mk_icon(_isConnector);
  return out_isConnector;
}

DLLDirection
modelica_metatype omc_NFType_complexComponents(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_metatype _comps = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _comps has no default value.
  _comps = omc_NFClassTree_ClassTree_getComponents(threadData, omc_NFClass_classTree(threadData, omc_NFInstNode_InstNode_getClass(threadData, omc_NFType_complexNode(threadData, _ty))));
  _return: OMC_LABEL_UNUSED
  return _comps;
}

DLLDirection
modelica_metatype omc_NFType_complexNode(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_metatype _node = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _node has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _ty;
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta1,11,2) == 0) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _node = tmpMeta2;
  _return: OMC_LABEL_UNUSED
  return _node;
}

DLLDirection
modelica_boolean omc_NFType_isComplexArray(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isComplex;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isComplex has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFType_isComplex(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isComplex = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isComplex;
}
modelica_metatype boxptr_NFType_isComplexArray(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isComplex;
  modelica_metatype out_isComplex;
  _isComplex = omc_NFType_isComplexArray(threadData, _ty);
  out_isComplex = mmc_mk_icon(_isComplex);
  return out_isComplex;
}

DLLDirection
modelica_boolean omc_NFType_isComplex(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isComplex;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isComplex has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isComplex = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isComplex;
}
modelica_metatype boxptr_NFType_isComplex(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isComplex;
  modelica_metatype out_isComplex;
  _isComplex = omc_NFType_isComplex(threadData, _ty);
  out_isComplex = mmc_mk_icon(_isComplex);
  return out_isComplex;
}

DLLDirection
modelica_boolean omc_NFType_isUnspecifiedEnumeration(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _res;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _res has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (!listEmpty(tmpMeta6)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _res = tmp1;
  _return: OMC_LABEL_UNUSED
  return _res;
}
modelica_metatype boxptr_NFType_isUnspecifiedEnumeration(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _res;
  modelica_metatype out_res;
  _res = omc_NFType_isUnspecifiedEnumeration(threadData, _ty);
  out_res = mmc_mk_icon(_res);
  return out_res;
}

DLLDirection
modelica_boolean omc_NFType_isBuiltinEnumeration(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isBuiltin;
  modelica_string _name = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isBuiltin has no default value.
  // _name has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_boolean tmp8 = 0;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          
          _name = tmpMeta7;
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_string tmp11_1;
            tmp11_1 = _name;
            {
              volatile mmc_switch_type tmp11;
              int tmp12;
              tmp11 = 0;
              for (; tmp11 < 3; tmp11++) {
                switch (MMC_SWITCH_CAST(tmp11)) {
                case 0: {
                  if (11 != MMC_STRLEN(tmp11_1) || strcmp(MMC_STRINGDATA(_OMC_LIT52), MMC_STRINGDATA(tmp11_1)) != 0) goto tmp10_end;
                  /* Pattern matching succeeded */
                  tmp8 = 1 /* true */;
                  goto tmp10_done;
                }
                case 1: {
                  if (14 != MMC_STRLEN(tmp11_1) || strcmp(MMC_STRINGDATA(_OMC_LIT53), MMC_STRINGDATA(tmp11_1)) != 0) goto tmp10_end;
                  /* Pattern matching succeeded */
                  tmp8 = 1 /* true */;
                  goto tmp10_done;
                }
                case 2: {
                  
                  /* Pattern matching succeeded */
                  tmp8 = 0 /* false */;
                  goto tmp10_done;
                }
                }
                goto tmp10_end;
                tmp10_end: ;
              }
              goto goto_9;
              goto_9:;
              goto goto_2;
              goto tmp10_done;
              tmp10_done:;
            }
          }tmp1 = tmp8;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isBuiltin = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isBuiltin;
}
modelica_metatype boxptr_NFType_isBuiltinEnumeration(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isBuiltin;
  modelica_metatype out_isBuiltin;
  _isBuiltin = omc_NFType_isBuiltinEnumeration(threadData, _ty);
  out_isBuiltin = mmc_mk_icon(_isBuiltin);
  return out_isBuiltin;
}

DLLDirection
modelica_boolean omc_NFType_isEnumeration(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isEnum;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isEnum has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isEnum = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isEnum;
}
modelica_metatype boxptr_NFType_isEnumeration(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isEnum;
  modelica_metatype out_isEnum;
  _isEnum = omc_NFType_isEnumeration(threadData, _ty);
  out_isEnum = mmc_mk_icon(_isEnum);
  return out_isEnum;
}

DLLDirection
modelica_boolean omc_NFType_isSingleElementArray(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isSingleElement;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isSingleElement has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      modelica_metatype _d = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _d has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmpMeta6);
          tmpMeta8 = MMC_CDR(tmpMeta6);
          if (!listEmpty(tmpMeta8)) goto tmp3_end;
          _d = tmpMeta7;
          /* Pattern matching succeeded */
          tmp1 = (omc_NFDimension_isKnown(threadData, _d, 0 /* false */) && (omc_NFDimension_size(threadData, _d, 0 /* false */) == ((modelica_integer) 1)));
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isSingleElement = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isSingleElement;
}
modelica_metatype boxptr_NFType_isSingleElementArray(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isSingleElement;
  modelica_metatype out_isSingleElement;
  _isSingleElement = omc_NFType_isSingleElementArray(threadData, _ty);
  out_isSingleElement = mmc_mk_icon(_isSingleElement);
  return out_isSingleElement;
}

DLLDirection
modelica_boolean omc_NFType_isEmptyArray(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isEmpty;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isEmpty has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_List_any(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), boxvar_NFDimension_isZero);
          goto tmp3_done;
        }
        case 19: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isEmpty = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isEmpty;
}
modelica_metatype boxptr_NFType_isEmptyArray(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isEmpty;
  modelica_metatype out_isEmpty;
  _isEmpty = omc_NFType_isEmptyArray(threadData, _ty);
  out_isEmpty = mmc_mk_icon(_isEmpty);
  return out_isEmpty;
}

DLLDirection
modelica_boolean omc_NFType_isSquareMatrix(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isSquareMatrix;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isSquareMatrix has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      modelica_metatype _d1 = NULL;
      modelica_metatype _d2 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _d1 has no default value.
      // _d2 has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmpMeta6);
          tmpMeta8 = MMC_CDR(tmpMeta6);
          if (listEmpty(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmpMeta8);
          tmpMeta10 = MMC_CDR(tmpMeta8);
          if (!listEmpty(tmpMeta10)) goto tmp3_end;
          _d1 = tmpMeta7;
          _d2 = tmpMeta9;
          /* Pattern matching succeeded */
          tmp1 = omc_NFDimension_isEqualKnown(threadData, _d1, _d2);
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isSquareMatrix = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isSquareMatrix;
}
modelica_metatype boxptr_NFType_isSquareMatrix(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isSquareMatrix;
  modelica_metatype out_isSquareMatrix;
  _isSquareMatrix = omc_NFType_isSquareMatrix(threadData, _ty);
  out_isSquareMatrix = mmc_mk_icon(_isSquareMatrix);
  return out_isSquareMatrix;
}

DLLDirection
modelica_boolean omc_NFType_isMatrix(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isMatrix;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isMatrix has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmpMeta6);
          tmpMeta8 = MMC_CDR(tmpMeta6);
          if (listEmpty(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmpMeta8);
          tmpMeta10 = MMC_CDR(tmpMeta8);
          if (!listEmpty(tmpMeta10)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isMatrix = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isMatrix;
}
modelica_metatype boxptr_NFType_isMatrix(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isMatrix;
  modelica_metatype out_isMatrix;
  _isMatrix = omc_NFType_isMatrix(threadData, _ty);
  out_isMatrix = mmc_mk_icon(_isMatrix);
  return out_isMatrix;
}

DLLDirection
modelica_boolean omc_NFType_isVector(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isVector;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isVector has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmpMeta6);
          tmpMeta8 = MMC_CDR(tmpMeta6);
          if (!listEmpty(tmpMeta8)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isVector = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isVector;
}
modelica_metatype boxptr_NFType_isVector(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isVector;
  modelica_metatype out_isVector;
  _isVector = omc_NFType_isVector(threadData, _ty);
  out_isVector = mmc_mk_icon(_isVector);
  return out_isVector;
}

DLLDirection
modelica_metatype omc_NFType_simplifyConditionalArray(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_metatype _outType = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outType has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp9_1;
            tmp9_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 4)));
            {
              volatile mmc_switch_type tmp9;
              int tmp10;
              tmp9 = 0;
              for (; tmp9 < 3; tmp9++) {
                switch (MMC_SWITCH_CAST(tmp9)) {
                case 0: {
                  modelica_integer tmp11;
                  tmp11 = mmc_unbox_integer(tmp9_1);
                  if (2 != tmp11) goto tmp8_end;
                  /* Pattern matching succeeded */
                  tmpMeta6 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
                  goto tmp8_done;
                }
                case 1: {
                  modelica_integer tmp12;
                  tmp12 = mmc_unbox_integer(tmp9_1);
                  if (3 != tmp12) goto tmp8_end;
                  /* Pattern matching succeeded */
                  tmpMeta6 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)));
                  goto tmp8_done;
                }
                case 2: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta6 = _ty;
                  goto tmp8_done;
                }
                }
                goto tmp8_end;
                tmp8_end: ;
              }
              goto goto_7;
              goto_7:;
              goto goto_2;
              goto tmp8_done;
              tmp8_done:;
            }
          }tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outType = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outType;
}

DLLDirection
modelica_boolean omc_NFType_isMatchedBranch(threadData_t *threadData, modelica_boolean _condition, modelica_metatype _condType)
{
  modelica_boolean _isMatched;
  modelica_integer _matched_branch;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isMatched = 1 /* true */;
  // _matched_branch has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _condType;
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta1,16,3) == 0) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 4));
  tmp3 = mmc_unbox_integer(tmpMeta2);
  _matched_branch = tmp3  /* pattern as ty=enumeration(NONE, TRUE, FALSE) */;

  if(((_condition && ((modelica_integer)_matched_branch == 3)) || ((!_condition) && ((modelica_integer)_matched_branch == 2))))
  {
    _isMatched = 0 /* false */;
  }
  _return: OMC_LABEL_UNUSED
  return _isMatched;
}
modelica_metatype boxptr_NFType_isMatchedBranch(threadData_t *threadData, modelica_metatype _condition, modelica_metatype _condType)
{
  modelica_integer tmp1;
  modelica_boolean _isMatched;
  modelica_metatype out_isMatched;
  tmp1 = mmc_unbox_integer(_condition);
  _isMatched = omc_NFType_isMatchedBranch(threadData, tmp1, _condType);
  out_isMatched = mmc_mk_icon(_isMatched);
  return out_isMatched;
}

DLLDirection
modelica_metatype omc_NFType_removeSizeOneArraysAndRecords(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fty)
{
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ty = __omcQ_24in_5Fty;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      modelica_metatype _fields = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _fields has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar19;
            modelica_metatype* tmp8;
            modelica_metatype tmpMeta9;
            modelica_metatype __omcQ_24tmpVar18;
            modelica_integer tmp10;
            modelica_metatype _dim_loopVar = 0;
            modelica_metatype _dim;
            _dim_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)));
            tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar19 = tmpMeta9; /* defaultValue */
            tmp8 = &__omcQ_24tmpVar19;
            while(1) {
              tmp10 = 1;
              while (!listEmpty(_dim_loopVar)) {
                _dim = MMC_CAR(_dim_loopVar);
                _dim_loopVar = MMC_CDR(_dim_loopVar);
                if ((!omc_NFDimension_isOne(threadData, _dim))) {
                  tmp10--;
                  break;
                }
              }
              if (tmp10 == 0) {
                __omcQ_24tmpVar18 = _dim;
                *tmp8 = mmc_mk_cons(__omcQ_24tmpVar18,0);
                tmp8 = &MMC_CDR(*tmp8);
              } else if (tmp10 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp8 = mmc_mk_nil();
            tmpMeta7 = __omcQ_24tmpVar19;
          }
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_ty), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[3] = tmpMeta7;
          _ty = tmpMeta6;
          tmp11 = (modelica_boolean)listEmpty((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          if(tmp11)
          {
            /* Tail recursive call */
            __omcQ_24in_5Fty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
            goto _tailrecursive;
            /* TODO: Make sure any eventual dead code below is never generated */
          }
          else
          {
            tmpMeta12 = _ty;
          }
          tmpMeta1 = tmpMeta12;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,2) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta13,4,3) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 3));
          
          _fields = tmpMeta14;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(arrayLength(_fields) == ((modelica_integer) 1))) goto tmp3_end;
          /* Tail recursive call */
          __omcQ_24in_5Fty = omc_NFType_lookupRecordFieldType(threadData, omc_NFRecord_Field_name(threadData, arrayGet(_fields,((modelica_integer) 1)) /* DAE.ASUB */), _ty);
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _ty;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _ty = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _ty;
}

DLLDirection
modelica_metatype omc_NFType_setConditionalArrayTypes(threadData_t *threadData, modelica_metatype _condType, modelica_metatype _trueType, modelica_metatype _falseType)
{
  modelica_metatype _outType = NULL;
  modelica_integer _matched_branch;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outType has no default value.
  // _matched_branch has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _condType;
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta1,16,3) == 0) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 4));
  tmp3 = mmc_unbox_integer(tmpMeta2);
  _matched_branch = tmp3  /* pattern as ty=enumeration(NONE, TRUE, FALSE) */;

  tmpMeta4 = mmc_mk_box4(19, &NFType_CONDITIONAL__ARRAY__desc, _trueType, _falseType, mmc_mk_integer((modelica_integer)_matched_branch));
  _outType = tmpMeta4;
  _return: OMC_LABEL_UNUSED
  return _outType;
}

DLLDirection
modelica_boolean omc_NFType_sizeKnown(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _b = (!omc_List_any(threadData, omc_NFType_arrayDims(threadData, _ty), boxvar_NFDimension_isUnknown));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NFType_sizeKnown(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NFType_sizeKnown(threadData, _ty);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NFType_isResizable(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _b = omc_List_any(threadData, omc_NFType_arrayDims(threadData, _ty), boxvar_NFDimension_isResizable);
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NFType_isResizable(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NFType_isResizable(threadData, _ty);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NFType_isConditionalArray(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isConditionalArray;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isConditionalArray has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isConditionalArray = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isConditionalArray;
}
modelica_metatype boxptr_NFType_isConditionalArray(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isConditionalArray;
  modelica_metatype out_isConditionalArray;
  _isConditionalArray = omc_NFType_isConditionalArray(threadData, _ty);
  out_isConditionalArray = mmc_mk_icon(_isConditionalArray);
  return out_isConditionalArray;
}

DLLDirection
modelica_boolean omc_NFType_isArray(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isArray;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isArray has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 19: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isArray = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isArray;
}
modelica_metatype boxptr_NFType_isArray(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isArray;
  modelica_metatype out_isArray;
  _isArray = omc_NFType_isArray(threadData, _ty);
  out_isArray = mmc_mk_icon(_isArray);
  return out_isArray;
}

DLLDirection
modelica_boolean omc_NFType_isScalar(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isScalar;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isScalar has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 19: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isScalar = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isScalar;
}
modelica_metatype boxptr_NFType_isScalar(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isScalar;
  modelica_metatype out_isScalar;
  _isScalar = omc_NFType_isScalar(threadData, _ty);
  out_isScalar = mmc_mk_icon(_isScalar);
  return out_isScalar;
}

DLLDirection
modelica_boolean omc_NFType_isContinuous(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _b = omc_NFType_isReal(threadData, omc_NFType_elementType(threadData, _ty));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NFType_isContinuous(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NFType_isContinuous(threadData, _ty);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NFType_isClock(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isClock;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isClock has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 7: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isClock = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isClock;
}
modelica_metatype boxptr_NFType_isClock(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isClock;
  modelica_metatype out_isClock;
  _isClock = omc_NFType_isClock(threadData, _ty);
  out_isClock = mmc_mk_icon(_isClock);
  return out_isClock;
}

DLLDirection
modelica_boolean omc_NFType_isString(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isString;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isString has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isString = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isString;
}
modelica_metatype boxptr_NFType_isString(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isString;
  modelica_metatype out_isString;
  _isString = omc_NFType_isString(threadData, _ty);
  out_isString = mmc_mk_icon(_isString);
  return out_isString;
}

DLLDirection
modelica_boolean omc_NFType_isBoolean(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isBool;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isBool has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 6: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isBool = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isBool;
}
modelica_metatype boxptr_NFType_isBoolean(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isBool;
  modelica_metatype out_isBool;
  _isBool = omc_NFType_isBoolean(threadData, _ty);
  out_isBool = mmc_mk_icon(_isBool);
  return out_isBool;
}

DLLDirection
modelica_boolean omc_NFType_isReal(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isReal;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isReal has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isReal = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isReal;
}
modelica_metatype boxptr_NFType_isReal(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isReal;
  modelica_metatype out_isReal;
  _isReal = omc_NFType_isReal(threadData, _ty);
  out_isReal = mmc_mk_icon(_isReal);
  return out_isReal;
}

DLLDirection
modelica_boolean omc_NFType_isInteger(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isInteger;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isInteger has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isInteger = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isInteger;
}
modelica_metatype boxptr_NFType_isInteger(threadData_t *threadData, modelica_metatype _ty)
{
  modelica_boolean _isInteger;
  modelica_metatype out_isInteger;
  _isInteger = omc_NFType_isInteger(threadData, _ty);
  out_isInteger = mmc_mk_icon(_isInteger);
  return out_isInteger;
}

DLLDirection
modelica_metatype omc_NFType_unliftArrayN(threadData_t *threadData, modelica_integer _N, modelica_metatype __omcQ_24in_5Fty)
{
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ty = __omcQ_24in_5Fty;
  if((_N == ((modelica_integer) 0)))
  {
    goto _return;
  }

  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      modelica_metatype _dims = NULL;
      modelica_metatype _tty = NULL;
      modelica_metatype _fty = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _dims has no default value.
      // _tty has no default value.
      // _fty has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          modelica_integer tmp8;
          modelica_integer tmp9;
          modelica_metatype tmpMeta10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _dims = tmpMeta6;
          /* Pattern matching succeeded */
          tmp7 = ((modelica_integer) 1); tmp8 = 1; tmp9 = _N;
          if(!(((tmp8 > 0) && (tmp7 > tmp9)) || ((tmp8 < 0) && (tmp7 < tmp9))))
          {
            modelica_integer _i;
            for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp7, tmp9); _i += tmp8)
            {
              _dims = listRest(_dims);
            }
          }
          tmp11 = (modelica_boolean)listEmpty(_dims);
          if(tmp11)
          {
            tmpMeta12 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          }
          else
          {
            tmpMeta10 = mmc_mk_box3(10, &NFType_ARRAY__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _dims);
            tmpMeta12 = tmpMeta10;
          }
          tmpMeta1 = tmpMeta12;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta13;
          modelica_boolean tmp14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _tty = omc_NFType_unliftArrayN(threadData, _N, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));

          _fty = omc_NFType_unliftArrayN(threadData, _N, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          tmp14 = (modelica_boolean)omc_NFType_isEqual(threadData, _tty, _fty);
          if(tmp14)
          {
            tmpMeta15 = _tty;
          }
          else
          {
            tmpMeta13 = mmc_mk_box4(19, &NFType_CONDITIONAL__ARRAY__desc, _tty, _fty, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 4))));
            tmpMeta15 = tmpMeta13;
          }
          tmpMeta1 = tmpMeta15;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _ty = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _ty;
}
modelica_metatype boxptr_NFType_unliftArrayN(threadData_t *threadData, modelica_metatype _N, modelica_metatype __omcQ_24in_5Fty)
{
  modelica_integer tmp1;
  modelica_metatype _ty = NULL;
  tmp1 = mmc_unbox_integer(_N);
  _ty = omc_NFType_unliftArrayN(threadData, tmp1, __omcQ_24in_5Fty);
  /* skip box _ty; NFType */
  return _ty;
}

DLLDirection
modelica_metatype omc_NFType_unliftArray(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fty)
{
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ty = __omcQ_24in_5Fty;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      modelica_metatype _dims = NULL;
      modelica_metatype _tty = NULL;
      modelica_metatype _fty = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _dims has no default value.
      // _tty has no default value.
      // _fty has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmpMeta6);
          tmpMeta8 = MMC_CDR(tmpMeta6);
          _dims = tmpMeta8;
          /* Pattern matching succeeded */
          tmp10 = (modelica_boolean)listEmpty(_dims);
          if(tmp10)
          {
            tmpMeta11 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)));
          }
          else
          {
            tmpMeta9 = mmc_mk_box3(10, &NFType_ARRAY__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _dims);
            tmpMeta11 = tmpMeta9;
          }
          tmpMeta1 = tmpMeta11;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta12;
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _tty = omc_NFType_unliftArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))));

          _fty = omc_NFType_unliftArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          tmp13 = (modelica_boolean)omc_NFType_isEqual(threadData, _tty, _fty);
          if(tmp13)
          {
            tmpMeta14 = _tty;
          }
          else
          {
            tmpMeta12 = mmc_mk_box4(19, &NFType_CONDITIONAL__ARRAY__desc, _tty, _fty, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 4))));
            tmpMeta14 = tmpMeta12;
          }
          tmpMeta1 = tmpMeta14;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _ty = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _ty;
}

DLLDirection
modelica_metatype omc_NFType_liftArrayRightList(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fty, modelica_metatype _dims)
{
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ty = __omcQ_24in_5Fty;
  if(listEmpty(_dims))
  {
    goto _return;
  }

  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_box3(10, &NFType_ARRAY__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), _dims));
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box4(19, &NFType_CONDITIONAL__ARRAY__desc, omc_NFType_liftArrayRightList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _dims), omc_NFType_liftArrayRightList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), _dims), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 4))));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box3(10, &NFType_ARRAY__desc, _ty, _dims);
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _ty = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _ty;
}

DLLDirection
modelica_metatype omc_NFType_liftArrayLeftList(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fty, modelica_metatype _dims)
{
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ty = __omcQ_24in_5Fty;
  if(listEmpty(_dims))
  {
    goto _return;
  }

  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_box3(10, &NFType_ARRAY__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), listAppend(_dims, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)))));
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box4(19, &NFType_CONDITIONAL__ARRAY__desc, omc_NFType_liftArrayLeftList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _dims), omc_NFType_liftArrayLeftList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), _dims), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 4))));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box3(10, &NFType_ARRAY__desc, _ty, _dims);
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _ty = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _ty;
}

DLLDirection
modelica_metatype omc_NFType_liftArrayLeft(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fty, modelica_metatype _dim)
{
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ty = __omcQ_24in_5Fty;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ty;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_cons(_dim, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
          tmpMeta6 = mmc_mk_box3(10, &NFType_ARRAY__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), tmpMeta5);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box4(19, &NFType_CONDITIONAL__ARRAY__desc, omc_NFType_liftArrayLeft(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _dim), omc_NFType_liftArrayLeft(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))), _dim), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 4))));
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta9 = mmc_mk_box3(10, &NFType_ARRAY__desc, _ty, tmpMeta8);
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _ty = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _ty;
}

