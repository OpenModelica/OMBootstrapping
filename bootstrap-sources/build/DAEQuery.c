#include "omc_simulation_settings.h"
#include "DAEQuery.h"
#define _OMC_LIT0_data "'"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT0,1,_OMC_LIT0_data);
#define _OMC_LIT0 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT0)
#define _OMC_LIT1_data "{'if', "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT1,7,_OMC_LIT1_data);
#define _OMC_LIT1 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data ",'"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,2,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
#define _OMC_LIT3_data "' {"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT3,3,_OMC_LIT3_data);
#define _OMC_LIT3 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT3)
#define _OMC_LIT4_data "},{"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT4,3,_OMC_LIT4_data);
#define _OMC_LIT4 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT4)
#define _OMC_LIT5_data "},"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT5,2,_OMC_LIT5_data);
#define _OMC_LIT5 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT5)
#define _OMC_LIT6_data "}"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT6,1,_OMC_LIT6_data);
#define _OMC_LIT6 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT6)
#define _OMC_LIT7_data "'true','=='"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT7,11,_OMC_LIT7_data);
#define _OMC_LIT7 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT7)
#define _OMC_LIT8_data ",{"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT8,2,_OMC_LIT8_data);
#define _OMC_LIT8 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT8)
#define _OMC_LIT9_data " {"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT9,2,_OMC_LIT9_data);
#define _OMC_LIT9 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT9)
#define _OMC_LIT10_data "{'if', '"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT10,8,_OMC_LIT10_data);
#define _OMC_LIT10 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data "- DAEQuery.adjacency_row_exp TUPLE not impl. yet."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,49,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
#define _OMC_LIT12_data "der"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT12,3,_OMC_LIT12_data);
#define _OMC_LIT12 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "pre"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,3,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
#define _OMC_LIT14_data "previous"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT14,8,_OMC_LIT14_data);
#define _OMC_LIT14 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT14)
#define _OMC_LIT15_data "- DAEQuery.adjacencyRow failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT15,31,_OMC_LIT15_data);
#define _OMC_LIT15 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data "adjacency_matrix2 failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,25,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
#define _OMC_LIT17_data "DAEQuery.adjacencyMatrix failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT17,32,_OMC_LIT17_data);
#define _OMC_LIT17 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT17)
#define _OMC_LIT18_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT18,0,_OMC_LIT18_data);
#define _OMC_LIT18 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data "',"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,2,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data "VL = {"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,6,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
#define _OMC_LIT21_data "};"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT21,2,_OMC_LIT21_data);
#define _OMC_LIT21 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data ","
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,1,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
#define _OMC_LIT23_data "{"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT23,1,_OMC_LIT23_data);
#define _OMC_LIT23 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT23)
#define _OMC_LIT24_data "% Adjacency Matrix\n% ====================================\n% number of rows: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT24,76,_OMC_LIT24_data);
#define _OMC_LIT24 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT24)
#define _OMC_LIT25_data "\nIM={"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT25,5,_OMC_LIT25_data);
#define _OMC_LIT25 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data " = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,3,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
#define _OMC_LIT27_data ";'"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT27,2,_OMC_LIT27_data);
#define _OMC_LIT27 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT27)
#define _OMC_LIT28_data "'when "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT28,6,_OMC_LIT28_data);
#define _OMC_LIT28 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT28)
#define _OMC_LIT29_data " then "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT29,6,_OMC_LIT29_data);
#define _OMC_LIT29 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data "; end when;'"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,12,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
#define _OMC_LIT31_data "= 0;'"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT31,5,_OMC_LIT31_data);
#define _OMC_LIT31 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT31)
#define _OMC_LIT32_data "Algorithm\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT32,10,_OMC_LIT32_data);
#define _OMC_LIT32 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT32)
#define _OMC_LIT33_data "EqStr = {"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT33,9,_OMC_LIT33_data);
#define _OMC_LIT33 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT33)
#define _OMC_LIT34_data "_imatrix.m"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT34,10,_OMC_LIT34_data);
#define _OMC_LIT34 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT34)
#define _OMC_LIT35_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT35,1,_OMC_LIT35_data);
#define _OMC_LIT35 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT35)
#define _OMC_LIT36_data "\n\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT36,3,_OMC_LIT36_data);
#define _OMC_LIT36 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT36)
#include "util/modelica.h"

#include "DAEQuery_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_string omc_DAEQuery_printExpStr(threadData_t *threadData, modelica_metatype _e);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEQuery_printExpStr,2,0) {(void*) boxptr_DAEQuery_printExpStr,0}};
#define boxvar_DAEQuery_printExpStr MMC_REFSTRUCTLIT(boxvar_lit_DAEQuery_printExpStr)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEQuery_adjacencyRowMatrixExp(threadData_t *threadData, modelica_metatype _inTplExpExpBooleanLstLst, modelica_metatype _inVariables);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEQuery_adjacencyRowMatrixExp,2,0) {(void*) boxptr_DAEQuery_adjacencyRowMatrixExp,0}};
#define boxvar_DAEQuery_adjacencyRowMatrixExp MMC_REFSTRUCTLIT(boxvar_lit_DAEQuery_adjacencyRowMatrixExp)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEQuery_adjacencyRowIter(threadData_t *threadData, modelica_metatype _iter, modelica_metatype _vars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEQuery_adjacencyRowIter,2,0) {(void*) boxptr_DAEQuery_adjacencyRowIter,0}};
#define boxvar_DAEQuery_adjacencyRowIter MMC_REFSTRUCTLIT(boxvar_lit_DAEQuery_adjacencyRowIter)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEQuery_adjacencyRowExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inVariables);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEQuery_adjacencyRowExp,2,0) {(void*) boxptr_DAEQuery_adjacencyRowExp,0}};
#define boxvar_DAEQuery_adjacencyRowExp MMC_REFSTRUCTLIT(boxvar_lit_DAEQuery_adjacencyRowExp)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEQuery_adjacencyRow(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inEquation);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEQuery_adjacencyRow,2,0) {(void*) boxptr_DAEQuery_adjacencyRow,0}};
#define boxvar_DAEQuery_adjacencyRow MMC_REFSTRUCTLIT(boxvar_lit_DAEQuery_adjacencyRow)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEQuery_adjacencyMatrix2(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inEquationLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEQuery_adjacencyMatrix2,2,0) {(void*) boxptr_DAEQuery_adjacencyMatrix2,0}};
#define boxvar_DAEQuery_adjacencyMatrix2 MMC_REFSTRUCTLIT(boxvar_lit_DAEQuery_adjacencyMatrix2)
PROTECTED_FUNCTION_STATIC modelica_string omc_DAEQuery_dumpVars2(threadData_t *threadData, modelica_metatype _inVarLst, modelica_integer _inInteger);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEQuery_dumpVars2(threadData_t *threadData, modelica_metatype _inVarLst, modelica_metatype _inInteger);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEQuery_dumpVars2,2,0) {(void*) boxptr_DAEQuery_dumpVars2,0}};
#define boxvar_DAEQuery_dumpVars2 MMC_REFSTRUCTLIT(boxvar_lit_DAEQuery_dumpVars2)
PROTECTED_FUNCTION_STATIC modelica_string omc_DAEQuery_getAdjacencyRow(threadData_t *threadData, modelica_metatype _inStringLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEQuery_getAdjacencyRow,2,0) {(void*) boxptr_DAEQuery_getAdjacencyRow,0}};
#define boxvar_DAEQuery_getAdjacencyRow MMC_REFSTRUCTLIT(boxvar_lit_DAEQuery_getAdjacencyRow)
PROTECTED_FUNCTION_STATIC modelica_string omc_DAEQuery_getAdjacencyMatrix2(threadData_t *threadData, modelica_metatype _inStringLstLst, modelica_integer _rowIndex);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEQuery_getAdjacencyMatrix2(threadData_t *threadData, modelica_metatype _inStringLstLst, modelica_metatype _rowIndex);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEQuery_getAdjacencyMatrix2,2,0) {(void*) boxptr_DAEQuery_getAdjacencyMatrix2,0}};
#define boxvar_DAEQuery_getAdjacencyMatrix2 MMC_REFSTRUCTLIT(boxvar_lit_DAEQuery_getAdjacencyMatrix2)
PROTECTED_FUNCTION_STATIC modelica_string omc_DAEQuery_getAdjacencyMatrix(threadData_t *threadData, modelica_metatype _m);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEQuery_getAdjacencyMatrix,2,0) {(void*) boxptr_DAEQuery_getAdjacencyMatrix,0}};
#define boxvar_DAEQuery_getAdjacencyMatrix MMC_REFSTRUCTLIT(boxvar_lit_DAEQuery_getAdjacencyMatrix)

PROTECTED_FUNCTION_STATIC modelica_string omc_DAEQuery_printExpStr(threadData_t *threadData, modelica_metatype _e)
{
  modelica_string _s = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _s has no default value.
  _s = omc_ExpressionDump_printExp2Str(threadData, _e, _OMC_LIT0, mmc_mk_none(), mmc_mk_none());
  _return: OMC_LABEL_UNUSED
  return _s;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEQuery_adjacencyRowMatrixExp(threadData_t *threadData, modelica_metatype _inTplExpExpBooleanLstLst, modelica_metatype _inVariables)
{
  modelica_metatype _outStringLst = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outStringLst has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inTplExpExpBooleanLstLst;
    tmp4_2 = _inVariables;
    {
      modelica_metatype _expl_1 = NULL;
      modelica_metatype _res1 = NULL;
      modelica_metatype _es = NULL;
      modelica_metatype _res1_1 = NULL;
      modelica_metatype _res2 = NULL;
      modelica_metatype _vars = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _expl_1 has no default value.
      // _res1 has no default value.
      // _es has no default value.
      // _res1_1 has no default value.
      // _res2 has no default value.
      // _vars has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          
          _expl_1 = tmpMeta7;
          _es = tmpMeta8;
          _vars = tmp4_2;
          /* Pattern matching succeeded */
          _res1 = omc_List_map1(threadData, _expl_1, boxvar_DAEQuery_adjacencyRowExp, _vars);

          _res2 = omc_DAEQuery_adjacencyRowMatrixExp(threadData, _es, _vars);

          _res1_1 = omc_List_flatten(threadData, _res1);
          tmpMeta1 = listAppend(_res1_1, _res2);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outStringLst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outStringLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEQuery_adjacencyRowIter(threadData_t *threadData, modelica_metatype _iter, modelica_metatype _vars)
{
  modelica_metatype _strs = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _strs has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _iter;
    {
      modelica_metatype _e1 = NULL;
      modelica_metatype _e2 = NULL;
      modelica_metatype _s1 = NULL;
      modelica_metatype _s2 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _e1 has no default value.
      // _e2 has no default value.
      // _s1 has no default value.
      // _s2 has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta7)) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          
          _e2 = tmpMeta6;
          _e1 = tmpMeta8;
          /* Pattern matching succeeded */
          _s1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _s2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);
          tmpMeta1 = listAppend(_s1, _s2);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _e1 = tmpMeta9;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _strs = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _strs;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEQuery_adjacencyRowExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inVariables)
{
  modelica_metatype _outStringLst = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outStringLst has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inExp;
    tmp4_2 = _inVariables;
    {
      modelica_metatype _p = NULL;
      modelica_metatype _p_1 = NULL;
      modelica_metatype _s1 = NULL;
      modelica_metatype _s2 = NULL;
      modelica_metatype _s3 = NULL;
      modelica_string _s = NULL;
      modelica_string _ss = NULL;
      modelica_string _ss1 = NULL;
      modelica_string _ss2 = NULL;
      modelica_string _ss3 = NULL;
      modelica_string _opStr = NULL;
      modelica_string _sb = NULL;
      modelica_metatype _lst = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _e1 = NULL;
      modelica_metatype _e2 = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _e3 = NULL;
      modelica_metatype _ee2 = NULL;
      modelica_metatype _expl = NULL;
      modelica_metatype _op1 = NULL;
      modelica_metatype _explTpl = NULL;
      modelica_metatype _iters = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _p has no default value.
      // _p_1 has no default value.
      // _s1 has no default value.
      // _s2 has no default value.
      // _s3 has no default value.
      // _s has no default value.
      // _ss has no default value.
      // _ss1 has no default value.
      // _ss2 has no default value.
      // _ss3 has no default value.
      // _opStr has no default value.
      // _sb has no default value.
      // _lst has no default value.
      // _cr has no default value.
      // _vars has no default value.
      // _e1 has no default value.
      // _e2 has no default value.
      // _e has no default value.
      // _e3 has no default value.
      // _ee2 has no default value.
      // _expl has no default value.
      // _op1 has no default value.
      // _explTpl has no default value.
      // _iters has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 26; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cr = tmpMeta6;
          _vars = tmp4_2;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta8 = omc_BackendVariable_getVar(threadData, _cr, _vars, &tmpMeta7);
          if (listEmpty(tmpMeta8)) goto goto_2;
          tmpMeta9 = MMC_CAR(tmpMeta8);
          tmpMeta10 = MMC_CDR(tmpMeta8);
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,1,3) == 0) goto goto_2;
          _p = tmpMeta7;

          _p_1 = omc_List_map1r(threadData, _p, boxvar_intSub, mmc_mk_integer(((modelica_integer) 0)));
          tmpMeta1 = omc_List_map(threadData, _p_1, boxvar_intString);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cr = tmpMeta12;
          _vars = tmp4_2;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta14 = omc_BackendVariable_getVar(threadData, _cr, _vars, &tmpMeta13);
          if (listEmpty(tmpMeta14)) goto goto_2;
          tmpMeta15 = MMC_CAR(tmpMeta14);
          tmpMeta16 = MMC_CDR(tmpMeta14);
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta17,0,0) == 0) goto goto_2;
          _p = tmpMeta13;
          tmpMeta1 = omc_List_map(threadData, _p, boxvar_intString);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cr = tmpMeta18;
          _vars = tmp4_2;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta20 = omc_BackendVariable_getVar(threadData, _cr, _vars, &tmpMeta19);
          if (listEmpty(tmpMeta20)) goto goto_2;
          tmpMeta21 = MMC_CAR(tmpMeta20);
          tmpMeta22 = MMC_CDR(tmpMeta20);
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta23,6,0) == 0) goto goto_2;
          _p = tmpMeta19;
          tmpMeta1 = omc_List_map(threadData, _p, boxvar_intString);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cr = tmpMeta24;
          _vars = tmp4_2;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta26 = omc_BackendVariable_getVar(threadData, _cr, _vars, &tmpMeta25);
          if (listEmpty(tmpMeta26)) goto goto_2;
          tmpMeta27 = MMC_CAR(tmpMeta26);
          tmpMeta28 = MMC_CDR(tmpMeta26);
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta27), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta29,3,0) == 0) goto goto_2;
          _p = tmpMeta25;
          tmpMeta1 = omc_List_map(threadData, _p, boxvar_intString);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cr = tmpMeta30;
          _vars = tmp4_2;
          tmp4 += 20; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching tuple assignment */
          tmpMeta32 = omc_BackendVariable_getVar(threadData, _cr, _vars, &tmpMeta31);
          if (listEmpty(tmpMeta32)) goto goto_2;
          tmpMeta33 = MMC_CAR(tmpMeta32);
          tmpMeta34 = MMC_CDR(tmpMeta32);
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta33), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta35,4,0) == 0) goto goto_2;
          _p = tmpMeta31;
          tmpMeta1 = omc_List_map(threadData, _p, boxvar_intString);
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,3) == 0) goto tmp3_end;
          tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta37 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _e1 = tmpMeta36;
          _e2 = tmpMeta37;
          _vars = tmp4_2;
          tmp4 += 19; /* Pattern matching succeeded; we may skip some cases if we fail */
          _s1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _s2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);
          tmpMeta1 = listAppend(_s1, _s2);
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta38;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,2) == 0) goto tmp3_end;
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _e = tmpMeta38;
          _vars = tmp4_2;
          tmp4 += 18; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = omc_DAEQuery_adjacencyRowExp(threadData, _e, _vars);
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
          tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta40 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _e1 = tmpMeta39;
          _e2 = tmpMeta40;
          _vars = tmp4_2;
          tmp4 += 17; /* Pattern matching succeeded; we may skip some cases if we fail */
          _s1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _s2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);
          tmpMeta1 = listAppend(_s1, _s2);
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta41;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,2) == 0) goto tmp3_end;
          tmpMeta41 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _e = tmpMeta41;
          _vars = tmp4_2;
          tmp4 += 16; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = omc_DAEQuery_adjacencyRowExp(threadData, _e, _vars);
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,5) == 0) goto tmp3_end;
          tmpMeta42 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta43 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _e1 = tmpMeta42;
          _e2 = tmpMeta43;
          _vars = tmp4_2;
          tmp4 += 15; /* Pattern matching succeeded; we may skip some cases if we fail */
          _s1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _s2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);
          tmpMeta1 = listAppend(_s1, _s2);
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,3) == 0) goto tmp3_end;
          tmpMeta44 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta44,11,5) == 0) goto tmp3_end;
          tmpMeta45 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta44), 3));
          tmpMeta46 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta44), 4));
          tmpMeta47 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta48 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _e1 = tmpMeta44;
          _op1 = tmpMeta45;
          _ee2 = tmpMeta46;
          _e2 = tmpMeta47;
          _e3 = tmpMeta48;
          _vars = tmp4_2;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          _opStr = omc_ExpressionDump_relopSymbol(threadData, _op1);

          _s = omc_DAEQuery_printExpStr(threadData, _ee2);

          _s1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _ss1 = omc_DAEQuery_getAdjacencyRow(threadData, _s1);

          _s2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);

          _ss2 = omc_DAEQuery_getAdjacencyRow(threadData, _s2);

          _s3 = omc_DAEQuery_adjacencyRowExp(threadData, _e3, _vars);

          _ss3 = omc_DAEQuery_getAdjacencyRow(threadData, _s3);

          tmpMeta49 = mmc_mk_cons(_OMC_LIT1, mmc_mk_cons(_s, mmc_mk_cons(_OMC_LIT2, mmc_mk_cons(_opStr, mmc_mk_cons(_OMC_LIT3, mmc_mk_cons(_ss1, mmc_mk_cons(_OMC_LIT4, mmc_mk_cons(_ss2, mmc_mk_cons(_OMC_LIT5, mmc_mk_cons(_ss3, mmc_mk_cons(_OMC_LIT6, MMC_REFSTRUCTLIT(mmc_nil))))))))))));
          _ss = stringAppendList(tmpMeta49);
          tmpMeta50 = mmc_mk_cons(_ss, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta50;
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta51;
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,3) == 0) goto tmp3_end;
          tmpMeta51 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta51,9,3) == 0) goto tmp3_end;
          tmpMeta52 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta53 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _e1 = tmpMeta51;
          _e2 = tmpMeta52;
          _e3 = tmpMeta53;
          _vars = tmp4_2;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          omc_DAEQuery_printExpStr(threadData, _e1);

          _sb = _OMC_LIT7;

          _s1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _ss1 = omc_DAEQuery_getAdjacencyRow(threadData, _s1);

          _s2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);

          _ss2 = omc_DAEQuery_getAdjacencyRow(threadData, _s2);

          _s3 = omc_DAEQuery_adjacencyRowExp(threadData, _e3, _vars);

          _ss3 = omc_DAEQuery_getAdjacencyRow(threadData, _s3);

          tmpMeta54 = mmc_mk_cons(_OMC_LIT1, mmc_mk_cons(_sb, mmc_mk_cons(_OMC_LIT8, mmc_mk_cons(_ss1, mmc_mk_cons(_OMC_LIT4, mmc_mk_cons(_ss2, mmc_mk_cons(_OMC_LIT5, mmc_mk_cons(_ss3, mmc_mk_cons(_OMC_LIT6, MMC_REFSTRUCTLIT(mmc_nil))))))))));
          _ss = stringAppendList(tmpMeta54);
          tmpMeta55 = mmc_mk_cons(_ss, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta55;
          goto tmp3_done;
        }
        case 12: {
          modelica_metatype tmpMeta56;
          modelica_metatype tmpMeta57;
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,3) == 0) goto tmp3_end;
          tmpMeta56 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta56,6,2) == 0) goto tmp3_end;
          tmpMeta57 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta58 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _e1 = tmpMeta56;
          _e2 = tmpMeta57;
          _e3 = tmpMeta58;
          _vars = tmp4_2;
          /* Pattern matching succeeded */
          _sb = _OMC_LIT7;

          _s1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _ss1 = omc_DAEQuery_getAdjacencyRow(threadData, _s1);

          _s2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);

          _ss2 = omc_DAEQuery_getAdjacencyRow(threadData, _s2);

          _s3 = omc_DAEQuery_adjacencyRowExp(threadData, _e3, _vars);

          _ss3 = omc_DAEQuery_getAdjacencyRow(threadData, _s3);

          tmpMeta59 = mmc_mk_cons(_OMC_LIT1, mmc_mk_cons(_sb, mmc_mk_cons(_OMC_LIT9, mmc_mk_cons(_ss1, mmc_mk_cons(_OMC_LIT4, mmc_mk_cons(_ss2, mmc_mk_cons(_OMC_LIT5, mmc_mk_cons(_ss3, mmc_mk_cons(_OMC_LIT6, MMC_REFSTRUCTLIT(mmc_nil))))))))));
          _ss = stringAppendList(tmpMeta59);
          tmpMeta60 = mmc_mk_cons(_ss, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta60;
          goto tmp3_done;
        }
        case 13: {
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          modelica_metatype tmpMeta63;
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,3) == 0) goto tmp3_end;
          tmpMeta61 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta62 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta63 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _e1 = tmpMeta61;
          _e2 = tmpMeta62;
          _e3 = tmpMeta63;
          _vars = tmp4_2;
          tmp4 += 11; /* Pattern matching succeeded; we may skip some cases if we fail */
          _sb = omc_DAEQuery_printExpStr(threadData, _e1);

          _s1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _ss1 = omc_DAEQuery_getAdjacencyRow(threadData, _s1);

          _s2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);

          _ss2 = omc_DAEQuery_getAdjacencyRow(threadData, _s2);

          _s3 = omc_DAEQuery_adjacencyRowExp(threadData, _e3, _vars);

          _ss3 = omc_DAEQuery_getAdjacencyRow(threadData, _s3);

          tmpMeta64 = mmc_mk_cons(_OMC_LIT10, mmc_mk_cons(_sb, mmc_mk_cons(_OMC_LIT3, mmc_mk_cons(_ss1, mmc_mk_cons(_OMC_LIT4, mmc_mk_cons(_ss2, mmc_mk_cons(_OMC_LIT5, mmc_mk_cons(_ss3, mmc_mk_cons(_OMC_LIT6, MMC_REFSTRUCTLIT(mmc_nil))))))))));
          _ss = stringAppendList(tmpMeta64);
          tmpMeta65 = mmc_mk_cons(_ss, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta65;
          goto tmp3_done;
        }
        case 14: {
          modelica_metatype tmpMeta66;
          modelica_metatype tmpMeta67;
          modelica_metatype tmpMeta68;
          modelica_metatype tmpMeta69;
          modelica_metatype tmpMeta70;
          modelica_metatype tmpMeta71;
          modelica_metatype tmpMeta72;
          modelica_metatype tmpMeta73;
          modelica_metatype tmpMeta74;
          modelica_metatype tmpMeta75;
          modelica_metatype tmpMeta76;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta66 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta66,1,1) == 0) goto tmp3_end;
          tmpMeta67 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta66), 2));
          if (3 != MMC_STRLEN(tmpMeta67) || strcmp(MMC_STRINGDATA(_OMC_LIT12), MMC_STRINGDATA(tmpMeta67)) != 0) goto tmp3_end;
          tmpMeta68 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta68)) goto tmp3_end;
          tmpMeta69 = MMC_CAR(tmpMeta68);
          tmpMeta70 = MMC_CDR(tmpMeta68);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta69,6,2) == 0) goto tmp3_end;
          tmpMeta71 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta69), 2));
          if (!listEmpty(tmpMeta70)) goto tmp3_end;
          
          _cr = tmpMeta71;
          _vars = tmp4_2;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta73 = omc_BackendVariable_getVar(threadData, _cr, _vars, &tmpMeta72);
          if (listEmpty(tmpMeta73)) goto goto_2;
          tmpMeta74 = MMC_CAR(tmpMeta73);
          tmpMeta75 = MMC_CDR(tmpMeta73);
          tmpMeta76 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta74), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta76,1,3) == 0) goto goto_2;
          _p = tmpMeta72;
          tmpMeta1 = omc_List_map(threadData, _p, boxvar_intString);
          goto tmp3_done;
        }
        case 15: {
          modelica_metatype tmpMeta77;
          modelica_metatype tmpMeta78;
          modelica_metatype tmpMeta79;
          modelica_metatype tmpMeta80;
          modelica_metatype tmpMeta81;
          modelica_metatype tmpMeta82;
          modelica_metatype tmpMeta83;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta77 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta77,1,1) == 0) goto tmp3_end;
          tmpMeta78 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta77), 2));
          if (3 != MMC_STRLEN(tmpMeta78) || strcmp(MMC_STRINGDATA(_OMC_LIT12), MMC_STRINGDATA(tmpMeta78)) != 0) goto tmp3_end;
          tmpMeta79 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta79)) goto tmp3_end;
          tmpMeta80 = MMC_CAR(tmpMeta79);
          tmpMeta81 = MMC_CDR(tmpMeta79);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta80,6,2) == 0) goto tmp3_end;
          tmpMeta82 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta80), 2));
          if (!listEmpty(tmpMeta81)) goto tmp3_end;
          
          _cr = tmpMeta82;
          _vars = tmp4_2;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          omc_BackendVariable_getVar(threadData, _cr, _vars ,&_p);

          omc_List_map(threadData, _p, boxvar_intString);
          tmpMeta83 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta83;
          goto tmp3_done;
        }
        case 16: {
          modelica_metatype tmpMeta84;
          modelica_metatype tmpMeta85;
          modelica_metatype tmpMeta86;
          modelica_metatype tmpMeta87;
          modelica_metatype tmpMeta88;
          modelica_metatype tmpMeta89;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta84 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta84,1,1) == 0) goto tmp3_end;
          tmpMeta85 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta84), 2));
          if (3 != MMC_STRLEN(tmpMeta85) || strcmp(MMC_STRINGDATA(_OMC_LIT13), MMC_STRINGDATA(tmpMeta85)) != 0) goto tmp3_end;
          tmpMeta86 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta86)) goto tmp3_end;
          tmpMeta87 = MMC_CAR(tmpMeta86);
          tmpMeta88 = MMC_CDR(tmpMeta86);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta87,6,2) == 0) goto tmp3_end;
          tmpMeta89 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta87), 2));
          if (!listEmpty(tmpMeta88)) goto tmp3_end;
          
          _cr = tmpMeta89;
          _vars = tmp4_2;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          omc_BackendVariable_getVar(threadData, _cr, _vars ,&_p);
          tmpMeta1 = omc_List_map(threadData, _p, boxvar_intString);
          goto tmp3_done;
        }
        case 17: {
          modelica_metatype tmpMeta90;
          modelica_metatype tmpMeta91;
          modelica_metatype tmpMeta92;
          modelica_metatype tmpMeta93;
          modelica_metatype tmpMeta94;
          modelica_metatype tmpMeta95;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta90 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta90,1,1) == 0) goto tmp3_end;
          tmpMeta91 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta90), 2));
          if (8 != MMC_STRLEN(tmpMeta91) || strcmp(MMC_STRINGDATA(_OMC_LIT14), MMC_STRINGDATA(tmpMeta91)) != 0) goto tmp3_end;
          tmpMeta92 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta92)) goto tmp3_end;
          tmpMeta93 = MMC_CAR(tmpMeta92);
          tmpMeta94 = MMC_CDR(tmpMeta92);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta93,6,2) == 0) goto tmp3_end;
          tmpMeta95 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta93), 2));
          if (!listEmpty(tmpMeta94)) goto tmp3_end;
          
          _cr = tmpMeta95;
          _vars = tmp4_2;
          /* Pattern matching succeeded */
          omc_BackendVariable_getVar(threadData, _cr, _vars ,&_p);
          tmpMeta1 = omc_List_map(threadData, _p, boxvar_intString);
          goto tmp3_done;
        }
        case 18: {
          modelica_metatype tmpMeta96;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta96 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _expl = tmpMeta96;
          _vars = tmp4_2;
          tmp4 += 6; /* Pattern matching succeeded; we may skip some cases if we fail */
          _lst = omc_List_map1(threadData, _expl, boxvar_DAEQuery_adjacencyRowExp, _vars);
          tmpMeta1 = omc_List_flatten(threadData, _lst);
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta97;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          tmpMeta97 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _expl = tmpMeta97;
          _vars = tmp4_2;
          tmp4 += 5; /* Pattern matching succeeded; we may skip some cases if we fail */
          _lst = omc_List_map1(threadData, _expl, boxvar_DAEQuery_adjacencyRowExp, _vars);
          tmpMeta1 = omc_List_flatten(threadData, _lst);
          goto tmp3_done;
        }
        case 20: {
          modelica_metatype tmpMeta98;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,3) == 0) goto tmp3_end;
          tmpMeta98 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _explTpl = tmpMeta98;
          _vars = tmp4_2;
          tmp4 += 4; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = omc_DAEQuery_adjacencyRowMatrixExp(threadData, _explTpl, _vars);
          goto tmp3_done;
        }
        case 21: {
          modelica_metatype tmpMeta99;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,1) == 0) goto tmp3_end;
          
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          fputs(MMC_STRINGDATA(_OMC_LIT11),stdout);
          tmpMeta99 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta99;
          goto tmp3_done;
        }
        case 22: {
          modelica_metatype tmpMeta100;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,20,2) == 0) goto tmp3_end;
          tmpMeta100 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _e = tmpMeta100;
          _vars = tmp4_2;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = omc_DAEQuery_adjacencyRowExp(threadData, _e, _vars);
          goto tmp3_done;
        }
        case 23: {
          modelica_metatype tmpMeta101;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,2) == 0) goto tmp3_end;
          tmpMeta101 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _e = tmpMeta101;
          _vars = tmp4_2;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = omc_DAEQuery_adjacencyRowExp(threadData, _e, _vars);
          goto tmp3_done;
        }
        case 24: {
          modelica_metatype tmpMeta102;
          modelica_metatype tmpMeta103;
          modelica_metatype tmpMeta104;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,27,3) == 0) goto tmp3_end;
          tmpMeta102 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta103 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _e1 = tmpMeta102;
          _iters = tmpMeta103;
          _vars = tmp4_2;
          /* Pattern matching succeeded */
          _s1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _lst = omc_List_map1(threadData, _iters, boxvar_DAEQuery_adjacencyRowIter, _vars);
          tmpMeta104 = mmc_mk_cons(_s1, _lst);
          tmpMeta1 = omc_List_flatten(threadData, tmpMeta104);
          goto tmp3_done;
        }
        case 25: {
          modelica_metatype tmpMeta105;
          
          /* Pattern matching succeeded */
          tmpMeta105 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta105;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 26) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outStringLst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outStringLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEQuery_adjacencyRow(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inEquation)
{
  modelica_metatype _outIntegerLst = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outIntegerLst has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inVariables;
    tmp4_2 = _inEquation;
    {
      modelica_metatype _lst1 = NULL;
      modelica_metatype _lst2 = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _e1 = NULL;
      modelica_metatype _e2 = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _expl = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _we = NULL;
      modelica_metatype _lstres = NULL;
      modelica_metatype _alg = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _lst1 has no default value.
      // _lst2 has no default value.
      // _vars has no default value.
      // _e1 has no default value.
      // _e2 has no default value.
      // _e has no default value.
      // _expl has no default value.
      // _cr has no default value.
      // _we has no default value.
      // _lstres has no default value.
      // _alg has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 9; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          
          _e1 = tmpMeta6;
          _e2 = tmpMeta7;
          _vars = tmp4_1;
          tmp4 += 7; /* Pattern matching succeeded; we may skip some cases if we fail */
          _lst1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _lst2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);
          tmpMeta1 = listAppend(_lst1, _lst2);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,1,6) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          
          _e1 = tmpMeta8;
          _e2 = tmpMeta9;
          _vars = tmp4_1;
          tmp4 += 6; /* Pattern matching succeeded; we may skip some cases if we fail */
          _lst1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _lst2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);
          tmpMeta1 = listAppend(_lst1, _lst2);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,5) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          
          _e1 = tmpMeta10;
          _e2 = tmpMeta11;
          _vars = tmp4_1;
          tmp4 += 5; /* Pattern matching succeeded; we may skip some cases if we fail */
          _lst1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _lst2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);
          tmpMeta1 = listAppend(_lst1, _lst2);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,2,4) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          
          _cr = tmpMeta12;
          _e = tmpMeta13;
          _vars = tmp4_1;
          /* Pattern matching succeeded */
          _lst1 = omc_DAEQuery_adjacencyRowExp(threadData, omc_Expression_crefExp(threadData, _cr), _vars);

          _lst2 = omc_DAEQuery_adjacencyRowExp(threadData, _e, _vars);
          tmpMeta1 = listAppend(_lst1, _lst2);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,2,4) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          
          _cr = tmpMeta14;
          _e = tmpMeta15;
          _vars = tmp4_1;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          _lst1 = omc_DAEQuery_adjacencyRowExp(threadData, omc_Expression_crefExp(threadData, _cr), _vars);

          _lst2 = omc_DAEQuery_adjacencyRowExp(threadData, _e, _vars);
          tmpMeta1 = listAppend(_lst1, _lst2);
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,3,3) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          
          _e = tmpMeta16;
          _vars = tmp4_1;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = omc_DAEQuery_adjacencyRowExp(threadData, _e, _vars);
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta17;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,5,4) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          
          _we = tmpMeta17;
          _vars = tmp4_1;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _cr = omc_BackendEquation_getWhenEquationExpr(threadData, _we ,&_e2);

          _e1 = omc_Expression_crefExp(threadData, _cr);

          _lst1 = omc_DAEQuery_adjacencyRowExp(threadData, _e1, _vars);

          _lst2 = omc_DAEQuery_adjacencyRowExp(threadData, _e2, _vars);
          tmpMeta1 = listAppend(_lst1, _lst2);
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta18;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,4,5) == 0) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          
          _alg = tmpMeta18;
          _vars = tmp4_1;
          /* Pattern matching succeeded */
          _expl = omc_Algorithm_getAllExps(threadData, _alg);

          _lstres = omc_List_map1(threadData, _expl, boxvar_DAEQuery_adjacencyRowExp, _vars);
          tmpMeta1 = omc_List_flatten(threadData, _lstres);
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          fputs(MMC_STRINGDATA(_OMC_LIT15),stdout);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 9) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outIntegerLst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outIntegerLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEQuery_adjacencyMatrix2(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inEquationLst)
{
  modelica_metatype _outStringLstLst = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outStringLstLst has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inVariables;
    tmp4_2 = _inEquationLst;
    {
      modelica_metatype _lst = NULL;
      modelica_metatype _row = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _eqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _lst has no default value.
      // _row has no default value.
      // _vars has no default value.
      // _e has no default value.
      // _eqns has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_2);
          tmpMeta8 = MMC_CDR(tmp4_2);
          
          _e = tmpMeta7;
          _eqns = tmpMeta8;
          _vars = tmp4_1;
          /* Pattern matching succeeded */
          _lst = omc_DAEQuery_adjacencyMatrix2(threadData, _vars, _eqns);

          _row = omc_DAEQuery_adjacencyRow(threadData, _vars, _e);
          tmpMeta9 = mmc_mk_cons(_row, _lst);
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          fputs(MMC_STRINGDATA(_OMC_LIT16),stdout);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outStringLstLst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outStringLstLst;
}

DLLDirection
modelica_metatype omc_DAEQuery_adjacencyMatrix(threadData_t *threadData, modelica_metatype _inBackendDAE)
{
  modelica_metatype _outAdjacencyMatrix = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAdjacencyMatrix has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inBackendDAE;
    {
      modelica_metatype _eqnsl = NULL;
      modelica_metatype _lstlst = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _eqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _eqnsl has no default value.
      // _lstlst has no default value.
      // _vars has no default value.
      // _eqns has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (listEmpty(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmpMeta6);
          tmpMeta8 = MMC_CDR(tmpMeta6);
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          if (!listEmpty(tmpMeta8)) goto tmp3_end;
          
          _vars = tmpMeta9;
          _eqns = tmpMeta10;
          /* Pattern matching succeeded */
          _eqnsl = omc_BackendEquation_equationList(threadData, _eqns);

          _lstlst = omc_DAEQuery_adjacencyMatrix2(threadData, _vars, _eqnsl);
          tmpMeta1 = listArray(_lstlst);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          fputs(MMC_STRINGDATA(_OMC_LIT17),stdout);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outAdjacencyMatrix = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outAdjacencyMatrix;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_DAEQuery_dumpVars2(threadData_t *threadData, modelica_metatype _inVarLst, modelica_integer _inInteger)
{
  modelica_string _strVars = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _strVars has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_integer tmp4_2;
    tmp4_1 = _inVarLst;
    tmp4_2 = _inInteger;
    {
      modelica_string _str1 = NULL;
      modelica_string _str2 = NULL;
      modelica_integer _varno_1;
      modelica_integer _varno;
      modelica_metatype _cr = NULL;
      modelica_metatype _xs = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _str1 has no default value.
      // _str2 has no default value.
      // _varno_1 has no default value.
      // _varno has no default value.
      // _cr has no default value.
      // _xs has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmp1 = _OMC_LIT18;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (!listEmpty(tmpMeta7)) goto tmp3_end;
          
          _cr = tmpMeta8;
          /* Pattern matching succeeded */
          _str1 = omc_ComponentReference_printComponentRefStr(threadData, _cr);
          tmpMeta9 = mmc_mk_cons(_OMC_LIT0, mmc_mk_cons(_str1, mmc_mk_cons(_OMC_LIT0, MMC_REFSTRUCTLIT(mmc_nil))));
          tmp1 = stringAppendList(tmpMeta9);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 2));
          
          _cr = tmpMeta12;
          _xs = tmpMeta11;
          _varno = tmp4_2;
          /* Pattern matching succeeded */
          _str1 = omc_ComponentReference_printComponentRefStr(threadData, _cr);

          _varno_1 = ((modelica_integer) 1) + _varno;

          _str2 = omc_DAEQuery_dumpVars2(threadData, _xs, _varno_1);
          tmpMeta13 = mmc_mk_cons(_OMC_LIT0, mmc_mk_cons(_str1, mmc_mk_cons(_OMC_LIT19, mmc_mk_cons(_str2, MMC_REFSTRUCTLIT(mmc_nil)))));
          tmp1 = stringAppendList(tmpMeta13);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _strVars = tmp1;
  _return: OMC_LABEL_UNUSED
  return _strVars;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEQuery_dumpVars2(threadData_t *threadData, modelica_metatype _inVarLst, modelica_metatype _inInteger)
{
  modelica_integer tmp1;
  modelica_string _strVars = NULL;
  tmp1 = mmc_unbox_integer(_inInteger);
  _strVars = omc_DAEQuery_dumpVars2(threadData, _inVarLst, tmp1);
  /* skip box _strVars; String */
  return _strVars;
}

DLLDirection
modelica_string omc_DAEQuery_dumpVars(threadData_t *threadData, modelica_metatype _vars)
{
  modelica_string _strVars = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _strVars has no default value.
  _strVars = omc_DAEQuery_dumpVars2(threadData, _vars, ((modelica_integer) 1));
  _return: OMC_LABEL_UNUSED
  return _strVars;
}

DLLDirection
modelica_string omc_DAEQuery_getVariables(threadData_t *threadData, modelica_metatype _inBackendDAE)
{
  modelica_string _strVars = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _strVars has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inBackendDAE;
    {
      modelica_metatype _vars = NULL;
      modelica_string _s = NULL;
      modelica_metatype _vars1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _vars has no default value.
      // _s has no default value.
      // _vars1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (listEmpty(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmpMeta6);
          tmpMeta8 = MMC_CDR(tmpMeta6);
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          if (!listEmpty(tmpMeta8)) goto tmp3_end;
          
          _vars1 = tmpMeta9;
          /* Pattern matching succeeded */
          _vars = omc_BackendVariable_varList(threadData, _vars1);

          _s = omc_DAEQuery_dumpVars(threadData, _vars);
          tmpMeta10 = stringAppend(_OMC_LIT20,_s);
          tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT21);
          tmp1 = tmpMeta11;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _strVars = tmp1;
  _return: OMC_LABEL_UNUSED
  return _strVars;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_DAEQuery_getAdjacencyRow(threadData_t *threadData, modelica_metatype _inStringLst)
{
  modelica_string _strRow = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _strRow has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inStringLst;
    {
      modelica_string _s2 = NULL;
      modelica_string _x = NULL;
      modelica_metatype _xs = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _s2 has no default value.
      // _x has no default value.
      // _xs has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT18;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (!listEmpty(tmpMeta7)) goto tmp3_end;
          _x = tmpMeta6;
          /* Pattern matching succeeded */
          tmp1 = _x;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmp4_1);
          tmpMeta9 = MMC_CDR(tmp4_1);
          _x = tmpMeta8;
          _xs = tmpMeta9;
          /* Pattern matching succeeded */
          _s2 = omc_DAEQuery_getAdjacencyRow(threadData, _xs);
          tmpMeta10 = mmc_mk_cons(_x, mmc_mk_cons(_OMC_LIT22, mmc_mk_cons(_s2, MMC_REFSTRUCTLIT(mmc_nil))));
          tmp1 = stringAppendList(tmpMeta10);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _strRow = tmp1;
  _return: OMC_LABEL_UNUSED
  return _strRow;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_DAEQuery_getAdjacencyMatrix2(threadData_t *threadData, modelica_metatype _inStringLstLst, modelica_integer _rowIndex)
{
  modelica_string _strIMatrix = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _strIMatrix has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inStringLstLst;
    {
      modelica_metatype _row = NULL;
      modelica_metatype _rows = NULL;
      modelica_string _str1 = NULL;
      modelica_string _str2 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _row has no default value.
      // _rows has no default value.
      // _str1 has no default value.
      // _str2 has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT18;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (!listEmpty(tmpMeta7)) goto tmp3_end;
          _row = tmpMeta6;
          /* Pattern matching succeeded */
          _str1 = omc_DAEQuery_getAdjacencyRow(threadData, _row);
          tmpMeta8 = mmc_mk_cons(_OMC_LIT23, mmc_mk_cons(_str1, mmc_mk_cons(_OMC_LIT6, MMC_REFSTRUCTLIT(mmc_nil))));
          tmp1 = stringAppendList(tmpMeta8);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmp4_1);
          tmpMeta10 = MMC_CDR(tmp4_1);
          _row = tmpMeta9;
          _rows = tmpMeta10;
          /* Pattern matching succeeded */
          _str1 = omc_DAEQuery_getAdjacencyRow(threadData, _row);

          _str2 = omc_DAEQuery_getAdjacencyMatrix2(threadData, _rows, ((modelica_integer) 1) + _rowIndex);
          tmpMeta11 = mmc_mk_cons(_OMC_LIT23, mmc_mk_cons(_str1, mmc_mk_cons(_OMC_LIT5, mmc_mk_cons(_str2, MMC_REFSTRUCTLIT(mmc_nil)))));
          tmp1 = stringAppendList(tmpMeta11);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _strIMatrix = tmp1;
  _return: OMC_LABEL_UNUSED
  return _strIMatrix;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEQuery_getAdjacencyMatrix2(threadData_t *threadData, modelica_metatype _inStringLstLst, modelica_metatype _rowIndex)
{
  modelica_integer tmp1;
  modelica_string _strIMatrix = NULL;
  tmp1 = mmc_unbox_integer(_rowIndex);
  _strIMatrix = omc_DAEQuery_getAdjacencyMatrix2(threadData, _inStringLstLst, tmp1);
  /* skip box _strIMatrix; String */
  return _strIMatrix;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_DAEQuery_getAdjacencyMatrix(threadData_t *threadData, modelica_metatype _m)
{
  modelica_string _strIMatrix = NULL;
  modelica_integer _mlen;
  modelica_string _mlen_str = NULL;
  modelica_metatype _m_1 = NULL;
  modelica_string _mstr = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _strIMatrix has no default value.
  // _mlen has no default value.
  // _mlen_str has no default value.
  // _m_1 has no default value.
  // _mstr has no default value.
  _mlen = arrayLength(_m);

  _mlen_str = intString(_mlen);

  _m_1 = arrayList(_m);

  _mstr = omc_DAEQuery_getAdjacencyMatrix2(threadData, _m_1, ((modelica_integer) 1));

  tmpMeta1 = mmc_mk_cons(_OMC_LIT24, mmc_mk_cons(_mlen_str, mmc_mk_cons(_OMC_LIT25, mmc_mk_cons(_mstr, mmc_mk_cons(_OMC_LIT21, MMC_REFSTRUCTLIT(mmc_nil))))));
  _strIMatrix = stringAppendList(tmpMeta1);
  _return: OMC_LABEL_UNUSED
  return _strIMatrix;
}

DLLDirection
modelica_string omc_DAEQuery_equationStr(threadData_t *threadData, modelica_metatype _inEquation)
{
  modelica_string _outString = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outString has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inEquation;
    {
      modelica_string _s1 = NULL;
      modelica_string _s2 = NULL;
      modelica_string _s3 = NULL;
      modelica_metatype _e1 = NULL;
      modelica_metatype _e2 = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _condition = NULL;
      modelica_metatype _cr = NULL;
      int tmp4;
      // _s1 has no default value.
      // _s2 has no default value.
      // _s3 has no default value.
      // _e1 has no default value.
      // _e2 has no default value.
      // _e has no default value.
      // _condition has no default value.
      // _cr has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _e1 = tmpMeta5;
          _e2 = tmpMeta6;
          /* Pattern matching succeeded */
          _s1 = omc_ExpressionDump_printExpStr(threadData, _e1);

          _s2 = omc_ExpressionDump_printExpStr(threadData, _e2);
          tmpMeta7 = mmc_mk_cons(_OMC_LIT0, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT26, mmc_mk_cons(_s2, mmc_mk_cons(_OMC_LIT27, MMC_REFSTRUCTLIT(mmc_nil))))));
          tmp1 = stringAppendList(tmpMeta7);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,6) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _e1 = tmpMeta8;
          _e2 = tmpMeta9;
          /* Pattern matching succeeded */
          _s1 = omc_ExpressionDump_printExpStr(threadData, _e1);

          _s2 = omc_ExpressionDump_printExpStr(threadData, _e2);
          tmpMeta10 = mmc_mk_cons(_OMC_LIT0, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT26, mmc_mk_cons(_s2, mmc_mk_cons(_OMC_LIT27, MMC_REFSTRUCTLIT(mmc_nil))))));
          tmp1 = stringAppendList(tmpMeta10);
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,5) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _e1 = tmpMeta11;
          _e2 = tmpMeta12;
          /* Pattern matching succeeded */
          _s1 = omc_ExpressionDump_printExpStr(threadData, _e1);

          _s2 = omc_ExpressionDump_printExpStr(threadData, _e2);
          tmpMeta13 = mmc_mk_cons(_OMC_LIT0, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT26, mmc_mk_cons(_s2, mmc_mk_cons(_OMC_LIT27, MMC_REFSTRUCTLIT(mmc_nil))))));
          tmp1 = stringAppendList(tmpMeta13);
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,4) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _cr = tmpMeta14;
          _e2 = tmpMeta15;
          /* Pattern matching succeeded */
          _s1 = omc_ComponentReference_printComponentRefStr(threadData, _cr);

          _s2 = omc_ExpressionDump_printExpStr(threadData, _e2);
          tmpMeta16 = mmc_mk_cons(_OMC_LIT0, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT26, mmc_mk_cons(_s2, mmc_mk_cons(_OMC_LIT27, MMC_REFSTRUCTLIT(mmc_nil))))));
          tmp1 = stringAppendList(tmpMeta16);
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,4) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 2));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 3));
          if (listEmpty(tmpMeta19)) goto tmp3_end;
          tmpMeta20 = MMC_CAR(tmpMeta19);
          tmpMeta21 = MMC_CDR(tmpMeta19);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta20,0,3) == 0) goto tmp3_end;
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta20), 2));
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta20), 3));
          if (!listEmpty(tmpMeta21)) goto tmp3_end;
          
          _condition = tmpMeta18;
          _e1 = tmpMeta22;
          _e2 = tmpMeta23;
          /* Pattern matching succeeded */
          _s1 = omc_ExpressionDump_printExpStr(threadData, _e1);

          _s2 = omc_ExpressionDump_printExpStr(threadData, _e2);

          _s3 = omc_ExpressionDump_printExpStr(threadData, _condition);
          tmpMeta24 = mmc_mk_cons(_OMC_LIT28, mmc_mk_cons(_s3, mmc_mk_cons(_OMC_LIT29, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT26, mmc_mk_cons(_s2, mmc_mk_cons(_OMC_LIT30, MMC_REFSTRUCTLIT(mmc_nil))))))));
          tmp1 = stringAppendList(tmpMeta24);
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,3) == 0) goto tmp3_end;
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _e = tmpMeta25;
          /* Pattern matching succeeded */
          _s1 = omc_ExpressionDump_printExpStr(threadData, _e);
          tmpMeta26 = mmc_mk_cons(_OMC_LIT0, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT31, MMC_REFSTRUCTLIT(mmc_nil))));
          tmp1 = stringAppendList(tmpMeta26);
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT32;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outString = tmp1;
  _return: OMC_LABEL_UNUSED
  return _outString;
}

DLLDirection
modelica_string omc_DAEQuery_getEquations(threadData_t *threadData, modelica_metatype _inBackendDAE)
{
  modelica_string _strEqs = NULL;
  modelica_metatype _syst = NULL;
  modelica_metatype _ls1 = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _strEqs has no default value.
  // _syst has no default value.
  // _ls1 has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inBackendDAE;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  if (listEmpty(tmpMeta2)) MMC_THROW_INTERNAL();
  tmpMeta3 = MMC_CAR(tmpMeta2);
  tmpMeta4 = MMC_CDR(tmpMeta2);
  if (!listEmpty(tmpMeta4)) MMC_THROW_INTERNAL();
  _syst = tmpMeta3;

  _ls1 = omc_List_map(threadData, omc_BackendEquation_equationList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3)))), boxvar_DAEQuery_equationStr);

  tmpMeta5 = stringAppend(_OMC_LIT33,stringDelimitList(_ls1, _OMC_LIT22));
  tmpMeta6 = stringAppend(tmpMeta5,_OMC_LIT21);
  _strEqs = tmpMeta6;
  _return: OMC_LABEL_UNUSED
  return _strEqs;
}

DLLDirection
modelica_string omc_DAEQuery_writeAdjacencyMatrix(threadData_t *threadData, modelica_metatype _dlow, modelica_string _fileNamePrefix, modelica_string _flatModelicaStr)
{
  modelica_string _fileName = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _fileName has no default value.
  { /* match expression */
    modelica_string tmp4_1;
    tmp4_1 = _flatModelicaStr;
    {
      modelica_string _file = NULL;
      modelica_string _strIMatrix = NULL;
      modelica_string _strVariables = NULL;
      modelica_string _flatStr = NULL;
      modelica_string _strEquations = NULL;
      modelica_metatype _m = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _file has no default value.
      // _strIMatrix has no default value.
      // _strVariables has no default value.
      // _flatStr has no default value.
      // _strEquations has no default value.
      // _m has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          
          _flatStr = tmp4_1;
          /* Pattern matching succeeded */
          tmpMeta6 = stringAppend(_fileNamePrefix,_OMC_LIT34);
          _file = tmpMeta6;

          _m = omc_DAEQuery_adjacencyMatrix(threadData, _dlow);

          _strIMatrix = omc_DAEQuery_getAdjacencyMatrix(threadData, _m);

          _strVariables = omc_DAEQuery_getVariables(threadData, _dlow);

          _strEquations = omc_DAEQuery_getEquations(threadData, _dlow);

          tmpMeta7 = mmc_mk_cons(_strIMatrix, mmc_mk_cons(_OMC_LIT35, mmc_mk_cons(_strVariables, mmc_mk_cons(_OMC_LIT36, mmc_mk_cons(_strEquations, mmc_mk_cons(_OMC_LIT36, mmc_mk_cons(_flatStr, MMC_REFSTRUCTLIT(mmc_nil))))))));
          _strIMatrix = stringAppendList(tmpMeta7);

          omc_System_writeFile(threadData, _file, _strIMatrix);
          tmp1 = _file;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _fileName = tmp1;
  _return: OMC_LABEL_UNUSED
  return _fileName;
}

