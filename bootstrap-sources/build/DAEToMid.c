#include "omc_simulation_settings.h"
#include "DAEToMid.h"
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT0,1,6) {&MidCode_UnaryOp_UNBOX__desc,}};
#define _OMC_LIT0 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT0)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT1,2,8) {&MidCode_RValue_LITERALBOOLEAN__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT1 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "DAE.Exp to Mid conversion failed for pattern constant. Exp:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,59,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
#define _OMC_LIT3_data ".\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT3,2,_OMC_LIT3_data);
#define _OMC_LIT3 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT3)
#define _OMC_LIT4_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/MidCode/DAEToMid.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT4,66,_OMC_LIT4_data);
#define _OMC_LIT4 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT4)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT5_6,1.758197185e9);
#define _OMC_LIT5_6 MMC_REFREALLIT(_OMC_LIT_STRUCT5_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT5,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1507)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1507)),MMC_IMMEDIATE(MMC_TAGFIXNUM(153)),_OMC_LIT5_6}};
#define _OMC_LIT5 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT5)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT6,2,6) {&DAE_Type_T__BOOL__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT6 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT7,1,12) {&MidCode_BinaryOp_EQUAL__desc,}};
#define _OMC_LIT7 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT7)
#define _OMC_LIT8_data "Wrong type of midvar in tuple pattern: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT8,39,_OMC_LIT8_data);
#define _OMC_LIT8 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT8)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT9_6,1.758197185e9);
#define _OMC_LIT9_6 MMC_REFREALLIT(_OMC_LIT_STRUCT9_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT9,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1523)),MMC_IMMEDIATE(MMC_TAGFIXNUM(24)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1523)),MMC_IMMEDIATE(MMC_TAGFIXNUM(147)),_OMC_LIT9_6}};
#define _OMC_LIT9 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT9)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT10,2,8) {&MidCode_RValue_LITERALBOOLEAN__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */))}};
#define _OMC_LIT10 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data "Wrong type of midvar in option pattern.\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,40,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT12_6,1.758197185e9);
#define _OMC_LIT12_6 MMC_REFREALLIT(_OMC_LIT_STRUCT12_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT12,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1551)),MMC_IMMEDIATE(MMC_TAGFIXNUM(24)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1551)),MMC_IMMEDIATE(MMC_TAGFIXNUM(105)),_OMC_LIT12_6}};
#define _OMC_LIT12 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "Found list of unknown in cons pattern: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,39,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT14_6,1.758197185e9);
#define _OMC_LIT14_6 MMC_REFREALLIT(_OMC_LIT_STRUCT14_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT14,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1573)),MMC_IMMEDIATE(MMC_TAGFIXNUM(19)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1573)),MMC_IMMEDIATE(MMC_TAGFIXNUM(140)),_OMC_LIT14_6}};
#define _OMC_LIT14 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT15_6,1.758197185e9);
#define _OMC_LIT15_6 MMC_REFREALLIT(_OMC_LIT_STRUCT15_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1576)),MMC_IMMEDIATE(MMC_TAGFIXNUM(24)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1576)),MMC_IMMEDIATE(MMC_TAGFIXNUM(105)),_OMC_LIT15_6}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data "DAE.Pattern to Mid conversion failed. Unimplemented pattern: PAT_AS_FUNC_PTR.\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,78,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT17_6,1.758197185e9);
#define _OMC_LIT17_6 MMC_REFREALLIT(_OMC_LIT_STRUCT17_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT17,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1623)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1623)),MMC_IMMEDIATE(MMC_TAGFIXNUM(126)),_OMC_LIT17_6}};
#define _OMC_LIT17 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT17)
#define _OMC_LIT18_data "DAE.Pattern to Mid conversion failed. Unimplemented pattern: PAT_CALL_TUPLE.\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT18,77,_OMC_LIT18_data);
#define _OMC_LIT18 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT18)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT19_6,1.758197185e9);
#define _OMC_LIT19_6 MMC_REFREALLIT(_OMC_LIT_STRUCT19_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT19,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1627)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1627)),MMC_IMMEDIATE(MMC_TAGFIXNUM(125)),_OMC_LIT19_6}};
#define _OMC_LIT19 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data "DAE.Pattern to Mid conversion failed. Unimplemented pattern: PAT_CALL_NAMED.\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,77,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT21_6,1.758197185e9);
#define _OMC_LIT21_6 MMC_REFREALLIT(_OMC_LIT_STRUCT21_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT21,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1631)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1631)),MMC_IMMEDIATE(MMC_TAGFIXNUM(125)),_OMC_LIT21_6}};
#define _OMC_LIT21 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data "DAE.Pattern to Mid conversion failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,37,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT23_6,1.758197185e9);
#define _OMC_LIT23_6 MMC_REFREALLIT(_OMC_LIT_STRUCT23_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT23,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1635)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1635)),MMC_IMMEDIATE(MMC_TAGFIXNUM(85)),_OMC_LIT23_6}};
#define _OMC_LIT23 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT23)
#define _OMC_LIT24_data "MatchExpressionToMid: incorrect input: listLength(inputs) != listLength(aliases)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT24,80,_OMC_LIT24_data);
#define _OMC_LIT24 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT24)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT25,2,3) {&DAE_Type_T__INTEGER__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT25 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT25)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT26,2,6) {&MidCode_RValue_LITERALINTEGER__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT26 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT26)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT27,2,6) {&MidCode_RValue_LITERALINTEGER__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1))}};
#define _OMC_LIT27 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT27)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT28,1,3) {&MidCode_BinaryOp_ADD__desc,}};
#define _OMC_LIT28 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT28)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT29,1,8) {&MidCode_Terminator_LONGJMP__desc,}};
#define _OMC_LIT29 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data "Match expression output to Mid conversion failed:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,50,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
#define _OMC_LIT31_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT31,1,_OMC_LIT31_data);
#define _OMC_LIT31 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT31)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT32_6,1.758197185e9);
#define _OMC_LIT32_6 MMC_REFREALLIT(_OMC_LIT_STRUCT32_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT32,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1326)),MMC_IMMEDIATE(MMC_TAGFIXNUM(15)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1326)),MMC_IMMEDIATE(MMC_TAGFIXNUM(151)),_OMC_LIT32_6}};
#define _OMC_LIT32 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT32)
#define _OMC_LIT33_data "case fail"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT33,9,_OMC_LIT33_data);
#define _OMC_LIT33 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT33)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT34_6,1.758197185e9);
#define _OMC_LIT34_6 MMC_REFREALLIT(_OMC_LIT_STRUCT34_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT34,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1334)),MMC_IMMEDIATE(MMC_TAGFIXNUM(15)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1334)),MMC_IMMEDIATE(MMC_TAGFIXNUM(64)),_OMC_LIT34_6}};
#define _OMC_LIT34 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT34)
#define _OMC_LIT35_data "in_range_integer"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT35,16,_OMC_LIT35_data);
#define _OMC_LIT35 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT35)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT36,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT35}};
#define _OMC_LIT36 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT36)
#define _OMC_LIT37_data "metatype error"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT37,14,_OMC_LIT37_data);
#define _OMC_LIT37 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT37)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT38_6,1.758197185e9);
#define _OMC_LIT38_6 MMC_REFREALLIT(_OMC_LIT_STRUCT38_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT38,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(912)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(912)),MMC_IMMEDIATE(MMC_TAGFIXNUM(65)),_OMC_LIT38_6}};
#define _OMC_LIT38 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT38)
#define _OMC_LIT39_data "arrayLength"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT39,11,_OMC_LIT39_data);
#define _OMC_LIT39 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT39)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT40,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT39}};
#define _OMC_LIT40 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT40)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT41,1,9) {&MidCode_BinaryOp_LESSEQ__desc,}};
#define _OMC_LIT41 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT41)
#define _OMC_LIT42_data "arrayGet"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT42,8,_OMC_LIT42_data);
#define _OMC_LIT42 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT42)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT43,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT42}};
#define _OMC_LIT43 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT43)
#define _OMC_LIT44_data "listHead"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT44,8,_OMC_LIT44_data);
#define _OMC_LIT44 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT44)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT45,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT44}};
#define _OMC_LIT45 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT45)
#define _OMC_LIT46_data "listRest"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT46,8,_OMC_LIT46_data);
#define _OMC_LIT46 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT46)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT47,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT46}};
#define _OMC_LIT47 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT47)
#define _OMC_LIT48_data "unknown for type "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT48,17,_OMC_LIT48_data);
#define _OMC_LIT48 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT48)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT49_6,1.758197185e9);
#define _OMC_LIT49_6 MMC_REFREALLIT(_OMC_LIT_STRUCT49_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT49,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(964)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(964)),MMC_IMMEDIATE(MMC_TAGFIXNUM(109)),_OMC_LIT49_6}};
#define _OMC_LIT49 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT49)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT50,1,7) {&MidCode_UnaryOp_BOX__desc,}};
#define _OMC_LIT50 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT50)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT51,1,11) {&DAE_Type_T__UNKNOWN__desc,}};
#define _OMC_LIT51 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT51)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT52,2,22) {&DAE_Type_T__METAOPTION__desc,_OMC_LIT51}};
#define _OMC_LIT52 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT52)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT53,2,20) {&DAE_Type_T__METALIST__desc,_OMC_LIT51}};
#define _OMC_LIT53 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT53)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT54,3,10) {&MidCode_RValue_LITERALMETATYPE__desc,MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT53}};
#define _OMC_LIT54 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT54)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT55,1,4) {&MidCode_OutVar_OUT__WILD__desc,}};
#define _OMC_LIT55 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT55)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT56,1,3) {&MidCode_UnaryOp_MOVE__desc,}};
#define _OMC_LIT56 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT56)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT57,1,5) {&MidCode_UnaryOp_NOT__desc,}};
#define _OMC_LIT57 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT57)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT58,1,4) {&MidCode_UnaryOp_UMINUS__desc,}};
#define _OMC_LIT58 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT58)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT59,1,4) {&MidCode_BinaryOp_SUB__desc,}};
#define _OMC_LIT59 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT59)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT60,1,5) {&MidCode_BinaryOp_MUL__desc,}};
#define _OMC_LIT60 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT60)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT61,1,6) {&MidCode_BinaryOp_DIV__desc,}};
#define _OMC_LIT61 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT61)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT62,1,7) {&MidCode_BinaryOp_POW__desc,}};
#define _OMC_LIT62 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT62)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT63,1,8) {&MidCode_BinaryOp_LESS__desc,}};
#define _OMC_LIT63 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT63)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT64,1,10) {&MidCode_BinaryOp_GREATER__desc,}};
#define _OMC_LIT64 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT64)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT65,1,11) {&MidCode_BinaryOp_GREATEREQ__desc,}};
#define _OMC_LIT65 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT65)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT66,1,13) {&MidCode_BinaryOp_NEQUAL__desc,}};
#define _OMC_LIT66 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT66)
#define _OMC_LIT67_data "Not supposed to get tuple here.\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT67,32,_OMC_LIT67_data);
#define _OMC_LIT67 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT67)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT68_6,1.758197185e9);
#define _OMC_LIT68_6 MMC_REFREALLIT(_OMC_LIT_STRUCT68_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT68,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(784)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(784)),MMC_IMMEDIATE(MMC_TAGFIXNUM(80)),_OMC_LIT68_6}};
#define _OMC_LIT68 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT68)
#define _OMC_LIT69_data "DAE.Exp to Mid conversion failed:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT69,34,_OMC_LIT69_data);
#define _OMC_LIT69 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT69)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT70_6,1.758197185e9);
#define _OMC_LIT70_6 MMC_REFREALLIT(_OMC_LIT_STRUCT70_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT70,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(792)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(792)),MMC_IMMEDIATE(MMC_TAGFIXNUM(122)),_OMC_LIT70_6}};
#define _OMC_LIT70 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT70)
#define _OMC_LIT71_data "arrayUpdate"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT71,11,_OMC_LIT71_data);
#define _OMC_LIT71 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT71)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT72,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT71}};
#define _OMC_LIT72 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT72)
#define _OMC_LIT73_data "DAE.STMT_ASSIGN to Mid conversion failed "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT73,41,_OMC_LIT73_data);
#define _OMC_LIT73 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT73)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT74_6,1.758197185e9);
#define _OMC_LIT74_6 MMC_REFREALLIT(_OMC_LIT_STRUCT74_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT74,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(412)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(412)),MMC_IMMEDIATE(MMC_TAGFIXNUM(138)),_OMC_LIT74_6}};
#define _OMC_LIT74 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT74)
#define _OMC_LIT75_data "outvars convertion failed "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT75,26,_OMC_LIT75_data);
#define _OMC_LIT75 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT75)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT76_6,1.758197185e9);
#define _OMC_LIT76_6 MMC_REFREALLIT(_OMC_LIT_STRUCT76_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT76,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(430)),MMC_IMMEDIATE(MMC_TAGFIXNUM(15)),MMC_IMMEDIATE(MMC_TAGFIXNUM(430)),MMC_IMMEDIATE(MMC_TAGFIXNUM(124)),_OMC_LIT76_6}};
#define _OMC_LIT76 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT76)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT77,1,6) {&MidCode_Terminator_RETURN__desc,}};
#define _OMC_LIT77 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT77)
#define _OMC_LIT78_data "DAE.Statement to Mid conversion failed "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT78,39,_OMC_LIT78_data);
#define _OMC_LIT78 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT78)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT79_6,1.758197185e9);
#define _OMC_LIT79_6 MMC_REFREALLIT(_OMC_LIT_STRUCT79_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT79,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(522)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(522)),MMC_IMMEDIATE(MMC_TAGFIXNUM(119)),_OMC_LIT79_6}};
#define _OMC_LIT79 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT79)
#define _OMC_LIT80_data "Unsupported SimCodeFunction.Function type\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT80,42,_OMC_LIT80_data);
#define _OMC_LIT80 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT80)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT81_6,1.758197185e9);
#define _OMC_LIT81_6 MMC_REFREALLIT(_OMC_LIT_STRUCT81_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT81,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(320)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(320)),MMC_IMMEDIATE(MMC_TAGFIXNUM(88)),_OMC_LIT81_6}};
#define _OMC_LIT81 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT81)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT82,2,4) {&DAE_Type_T__REAL__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT82 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT82)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT83,2,5) {&DAE_Type_T__STRING__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT83 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT83)
#define _OMC_LIT84_data "Could not find the correct type of an RValue.\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT84,46,_OMC_LIT84_data);
#define _OMC_LIT84 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT84)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT85_6,1.758197185e9);
#define _OMC_LIT85_6 MMC_REFREALLIT(_OMC_LIT_STRUCT85_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT85,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(243)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(243)),MMC_IMMEDIATE(MMC_TAGFIXNUM(94)),_OMC_LIT85_6}};
#define _OMC_LIT85 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT85)
#define _OMC_LIT86_data "CrefToMidVar error"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT86,18,_OMC_LIT86_data);
#define _OMC_LIT86 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT86)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT87_6,1.758197185e9);
#define _OMC_LIT87_6 MMC_REFREALLIT(_OMC_LIT_STRUCT87_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT87,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT4,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(204)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(204)),MMC_IMMEDIATE(MMC_TAGFIXNUM(65)),_OMC_LIT87_6}};
#define _OMC_LIT87 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT87)
#define _OMC_LIT88_data "_tmp_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT88,5,_OMC_LIT88_data);
#define _OMC_LIT88 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT88)
#define _OMC_LIT89_data "_jmpbuf_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT89,8,_OMC_LIT89_data);
#define _OMC_LIT89 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT89)
#include "util/modelica.h"

#include "DAEToMid_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC void omc_DAEToMid_patternToMidCode2(threadData_t *threadData, modelica_metatype _state, modelica_metatype _matches, modelica_integer _labelNoMatch, modelica_metatype _assignBlock);
PROTECTED_FUNCTION_STATIC void boxptr_DAEToMid_patternToMidCode2(threadData_t *threadData, modelica_metatype _state, modelica_metatype _matches, modelica_metatype _labelNoMatch, modelica_metatype _assignBlock);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_patternToMidCode2,2,0) {(void*) boxptr_DAEToMid_patternToMidCode2,0}};
#define boxvar_DAEToMid_patternToMidCode2 MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_patternToMidCode2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_patternToMidCode(threadData_t *threadData, modelica_metatype _matches, modelica_integer _labelNoMatch, modelica_metatype _state);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEToMid_patternToMidCode(threadData_t *threadData, modelica_metatype _matches, modelica_metatype _labelNoMatch, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_patternToMidCode,2,0) {(void*) boxptr_DAEToMid_patternToMidCode,0}};
#define boxvar_DAEToMid_patternToMidCode MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_patternToMidCode)
PROTECTED_FUNCTION_STATIC void omc_DAEToMid_MatchExpressionToMid(threadData_t *threadData, modelica_metatype _matchexpression, modelica_metatype _outvars, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_MatchExpressionToMid,2,0) {(void*) boxptr_DAEToMid_MatchExpressionToMid,0}};
#define boxvar_DAEToMid_MatchExpressionToMid MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_MatchExpressionToMid)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_unpackCrefFromExp(threadData_t *threadData, modelica_metatype _exp);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_unpackCrefFromExp,2,0) {(void*) boxptr_DAEToMid_unpackCrefFromExp,0}};
#define boxvar_DAEToMid_unpackCrefFromExp MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_unpackCrefFromExp)
PROTECTED_FUNCTION_STATIC void omc_DAEToMid_stateAddBailOnFalse(threadData_t *threadData, modelica_metatype _var, modelica_integer _labelBail, modelica_metatype _state);
PROTECTED_FUNCTION_STATIC void boxptr_DAEToMid_stateAddBailOnFalse(threadData_t *threadData, modelica_metatype _var, modelica_metatype _labelBail, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_stateAddBailOnFalse,2,0) {(void*) boxptr_DAEToMid_stateAddBailOnFalse,0}};
#define boxvar_DAEToMid_stateAddBailOnFalse MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_stateAddBailOnFalse)
PROTECTED_FUNCTION_STATIC void omc_DAEToMid_stateTerminate(threadData_t *threadData, modelica_integer _newLabel, modelica_metatype _terminator, modelica_metatype _state);
PROTECTED_FUNCTION_STATIC void boxptr_DAEToMid_stateTerminate(threadData_t *threadData, modelica_metatype _newLabel, modelica_metatype _terminator, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_stateTerminate,2,0) {(void*) boxptr_DAEToMid_stateTerminate,0}};
#define boxvar_DAEToMid_stateTerminate MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_stateTerminate)
PROTECTED_FUNCTION_STATIC void omc_DAEToMid_stateAddStmt(threadData_t *threadData, modelica_metatype _stmt, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_stateAddStmt,2,0) {(void*) boxptr_DAEToMid_stateAddStmt,0}};
#define boxvar_DAEToMid_stateAddStmt MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_stateAddStmt)
PROTECTED_FUNCTION_STATIC void omc_DAEToMid_stateSetCurrentLabel(threadData_t *threadData, modelica_integer _label, modelica_metatype _state);
PROTECTED_FUNCTION_STATIC void boxptr_DAEToMid_stateSetCurrentLabel(threadData_t *threadData, modelica_metatype _label, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_stateSetCurrentLabel,2,0) {(void*) boxptr_DAEToMid_stateSetCurrentLabel,0}};
#define boxvar_DAEToMid_stateSetCurrentLabel MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_stateSetCurrentLabel)
PROTECTED_FUNCTION_STATIC modelica_integer omc_DAEToMid_stateGetCurrentLabel(threadData_t *threadData, modelica_metatype _state);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEToMid_stateGetCurrentLabel(threadData_t *threadData, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_stateGetCurrentLabel,2,0) {(void*) boxptr_DAEToMid_stateGetCurrentLabel,0}};
#define boxvar_DAEToMid_stateGetCurrentLabel MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_stateGetCurrentLabel)
PROTECTED_FUNCTION_STATIC void omc_DAEToMid_IfToMid(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _daestmtLst, modelica_metatype _else_, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_IfToMid,2,0) {(void*) boxptr_DAEToMid_IfToMid,0}};
#define boxvar_DAEToMid_IfToMid MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_IfToMid)
PROTECTED_FUNCTION_STATIC void omc_DAEToMid_ForToMid(threadData_t *threadData, modelica_metatype _type_, modelica_string _iter, modelica_metatype _range, modelica_metatype _daestmtLst, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_ForToMid,2,0) {(void*) boxptr_DAEToMid_ForToMid,0}};
#define boxvar_DAEToMid_ForToMid MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_ForToMid)
PROTECTED_FUNCTION_STATIC void omc_DAEToMid_CallToMid(threadData_t *threadData, modelica_metatype _call, modelica_metatype _outvars, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_CallToMid,2,0) {(void*) boxptr_DAEToMid_CallToMid,0}};
#define boxvar_DAEToMid_CallToMid MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_CallToMid)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_ExpToMid(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_ExpToMid,2,0) {(void*) boxptr_DAEToMid_ExpToMid,0}};
#define boxvar_DAEToMid_ExpToMid MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_ExpToMid)
PROTECTED_FUNCTION_STATIC void omc_DAEToMid_StmtsToMid(threadData_t *threadData, modelica_metatype _daestmts, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_StmtsToMid,2,0) {(void*) boxptr_DAEToMid_StmtsToMid,0}};
#define boxvar_DAEToMid_StmtsToMid MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_StmtsToMid)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_DAEFunctionToMid(threadData_t *threadData, modelica_metatype _simfunc);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_DAEFunctionToMid,2,0) {(void*) boxptr_DAEToMid_DAEFunctionToMid,0}};
#define boxvar_DAEToMid_DAEFunctionToMid MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_DAEFunctionToMid)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_RValueToVar(threadData_t *threadData, modelica_metatype _rvalue, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_RValueToVar,2,0) {(void*) boxptr_DAEToMid_RValueToVar,0}};
#define boxvar_DAEToMid_RValueToVar MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_RValueToVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_RValueType(threadData_t *threadData, modelica_metatype _rvalue);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_RValueType,2,0) {(void*) boxptr_DAEToMid_RValueType,0}};
#define boxvar_DAEToMid_RValueType MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_RValueType)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_CrefToMidVar(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_CrefToMidVar,2,0) {(void*) boxptr_DAEToMid_CrefToMidVar,0}};
#define boxvar_DAEToMid_CrefToMidVar MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_CrefToMidVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_GetCrefIndexVar(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_GetCrefIndexVar,2,0) {(void*) boxptr_DAEToMid_GetCrefIndexVar,0}};
#define boxvar_DAEToMid_GetCrefIndexVar MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_GetCrefIndexVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_ConvertSimCodeVars(threadData_t *threadData, modelica_metatype _simcodevar, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_ConvertSimCodeVars,2,0) {(void*) boxptr_DAEToMid_ConvertSimCodeVars,0}};
#define boxvar_DAEToMid_ConvertSimCodeVars MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_ConvertSimCodeVars)
PROTECTED_FUNCTION_STATIC modelica_integer omc_DAEToMid_GenBlockId(threadData_t *threadData);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEToMid_GenBlockId(threadData_t *threadData);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_GenBlockId,2,0) {(void*) boxptr_DAEToMid_GenBlockId,0}};
#define boxvar_DAEToMid_GenBlockId MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_GenBlockId)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_GenTmpVarBufPtr(threadData_t *threadData, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_GenTmpVarBufPtr,2,0) {(void*) boxptr_DAEToMid_GenTmpVarBufPtr,0}};
#define boxvar_DAEToMid_GenTmpVarBufPtr MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_GenTmpVarBufPtr)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_GenTmpVarBuf(threadData_t *threadData, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_GenTmpVarBuf,2,0) {(void*) boxptr_DAEToMid_GenTmpVarBuf,0}};
#define boxvar_DAEToMid_GenTmpVarBuf MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_GenTmpVarBuf)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_GenTmpVarVolatile(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_GenTmpVarVolatile,2,0) {(void*) boxptr_DAEToMid_GenTmpVarVolatile,0}};
#define boxvar_DAEToMid_GenTmpVarVolatile MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_GenTmpVarVolatile)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_GenTmpVar(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _state);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_GenTmpVar,2,0) {(void*) boxptr_DAEToMid_GenTmpVar,0}};
#define boxvar_DAEToMid_GenTmpVar MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_GenTmpVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_listZip(threadData_t *threadData, modelica_metatype _xs, modelica_metatype _ys);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEToMid_listZip,2,0) {(void*) boxptr_DAEToMid_listZip,0}};
#define boxvar_DAEToMid_listZip MMC_REFSTRUCTLIT(boxvar_lit_DAEToMid_listZip)

PROTECTED_FUNCTION_STATIC void omc_DAEToMid_patternToMidCode2(threadData_t *threadData, modelica_metatype _state, modelica_metatype _matches, modelica_integer _labelNoMatch, modelica_metatype _assignBlock)
{
  modelica_metatype _name = NULL;
  modelica_integer _index;
  modelica_metatype _morePatterns = NULL;
  modelica_metatype _iterator = NULL;
  modelica_metatype _fields = NULL;
  modelica_metatype _typeVars = NULL;
  modelica_boolean _knownSingleton;
  modelica_integer _fieldNr;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _name has no default value.
  // _index has no default value.
  // _morePatterns has no default value.
  // _iterator has no default value.
  // _fields has no default value.
  // _typeVars has no default value.
  // _knownSingleton has no default value.
  // _fieldNr has no default value.
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _matches;
    {
      modelica_metatype _restMatches = NULL;
      modelica_metatype _moreMatches = NULL;
      modelica_metatype _listTypes = NULL;
      modelica_metatype _ok = NULL;
      modelica_metatype _scrutinee = NULL;
      modelica_metatype _midvar = NULL;
      modelica_metatype _headVar = NULL;
      modelica_metatype _restVar = NULL;
      modelica_string _id = NULL;
      modelica_metatype _pattern = NULL;
      modelica_metatype _headPattern = NULL;
      modelica_metatype _restPattern = NULL;
      modelica_metatype _exp = NULL;
      modelica_metatype _ty = NULL;
      modelica_metatype _scrutineeCompareVar = NULL;
      modelica_metatype _patCompareVar = NULL;
      modelica_metatype _optType = NULL;
      modelica_boolean _bool;
      modelica_integer _integer;
      modelica_real _real;
      modelica_string _string = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _restMatches has no default value.
      // _moreMatches has no default value.
      // _listTypes has no default value.
      // _ok has no default value.
      // _scrutinee has no default value.
      // _midvar has no default value.
      // _headVar has no default value.
      // _restVar has no default value.
      // _id has no default value.
      // _pattern has no default value.
      // _headPattern has no default value.
      // _restPattern has no default value.
      // _exp has no default value.
      // _ty has no default value.
      // _scrutineeCompareVar has no default value.
      // _patCompareVar has no default value.
      // _optType has no default value.
      // _bool has no default value.
      // _integer has no default value.
      // _real has no default value.
      // _string has no default value.
      tmp3 = 0;
      for (; tmp3 < 13; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,0,0) == 0) goto tmp2_end;
          _restMatches = tmpMeta6;
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _matches = _restMatches;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta8 = MMC_CAR(tmp3_1);
          tmpMeta9 = MMC_CDR(tmp3_1);
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,2,4) == 0) goto tmp2_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 3));
          if (!optionNone(tmpMeta13)) goto tmp2_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 5));
          _scrutinee = tmpMeta10;
          _id = tmpMeta12;
          _pattern = tmpMeta14;
          _restMatches = tmpMeta9;
          /* Pattern matching succeeded */
          tmpMeta15 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _scrutinee);
          _ty = omc_DAEToMid_RValueType(threadData, tmpMeta15);

          tmpMeta16 = mmc_mk_box4(3, &MidCode_Var_VAR__desc, _id, _ty, mmc_mk_boolean(0 /* false */));
          _midvar = tmpMeta16;

          tmpMeta18 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _scrutinee);
          tmpMeta19 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _midvar, tmpMeta18);
          tmpMeta17 = mmc_mk_cons(tmpMeta19, arrayGet(_assignBlock, ((modelica_integer) 1)));
          arrayUpdate(_assignBlock, ((modelica_integer) 1), tmpMeta17);

          tmpMeta21 = mmc_mk_box2(0, _scrutinee, _pattern);
          tmpMeta20 = mmc_mk_cons(tmpMeta21, _restMatches);
          /* Tail recursive call */
          _matches = tmpMeta20;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 3: {
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta22 = MMC_CAR(tmp3_1);
          tmpMeta23 = MMC_CDR(tmp3_1);
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 1));
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta25,2,4) == 0) goto tmp2_end;
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta25), 2));
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta25), 3));
          if (optionNone(tmpMeta27)) goto tmp2_end;
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta27), 1));
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta25), 5));
          _scrutinee = tmpMeta24;
          _id = tmpMeta26;
          _ty = tmpMeta28;
          _pattern = tmpMeta29;
          _restMatches = tmpMeta23;
          /* Pattern matching succeeded */
          tmpMeta30 = mmc_mk_box4(3, &MidCode_Var_VAR__desc, _id, _ty, mmc_mk_boolean(0 /* false */));
          _midvar = tmpMeta30;

          tmpMeta32 = mmc_mk_box3(4, &MidCode_RValue_UNARYOP__desc, _OMC_LIT0, _scrutinee);
          tmpMeta33 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _midvar, tmpMeta32);
          tmpMeta31 = mmc_mk_cons(tmpMeta33, arrayGet(_assignBlock, ((modelica_integer) 1)));
          arrayUpdate(_assignBlock, ((modelica_integer) 1), tmpMeta31);

          tmpMeta35 = mmc_mk_box2(0, _scrutinee, _pattern);
          tmpMeta34 = mmc_mk_cons(tmpMeta35, _restMatches);
          /* Tail recursive call */
          _matches = tmpMeta34;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 4: {
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta79;
          modelica_metatype tmpMeta80;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta36 = MMC_CAR(tmp3_1);
          tmpMeta37 = MMC_CDR(tmp3_1);
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta36), 1));
          tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta36), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta39,1,2) == 0) goto tmp2_end;
          tmpMeta40 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta39), 2));
          tmpMeta41 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta39), 3));
          _scrutinee = tmpMeta38;
          _optType = tmpMeta40;
          _exp = tmpMeta41;
          _restMatches = tmpMeta37;
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp45_1;
            tmp45_1 = _exp;
            {
              volatile mmc_switch_type tmp45;
              int tmp46;
              tmp45 = 0;
              for (; tmp45 < 2; tmp45++) {
                switch (MMC_SWITCH_CAST(tmp45)) {
                case 0: {
                  modelica_metatype tmpMeta47;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp45_1,36,2) == 0) goto tmp44_end;
                  tmpMeta47 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp45_1), 3));
                  _exp = tmpMeta47;
                  /* Pattern matching succeeded */
                  tmpMeta42 = _exp;
                  goto tmp44_done;
                }
                case 1: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta42 = _exp;
                  goto tmp44_done;
                }
                }
                goto tmp44_end;
                tmp44_end: ;
              }
              goto goto_43;
              goto_43:;
              goto goto_1;
              goto tmp44_done;
              tmp44_done:;
            }
          }
          _exp = tmpMeta42;

          { /* match expression */
            modelica_metatype tmp51_1;
            tmp51_1 = _optType;
            {
              volatile mmc_switch_type tmp51;
              int tmp52;
              tmp51 = 0;
              for (; tmp51 < 2; tmp51++) {
                switch (MMC_SWITCH_CAST(tmp51)) {
                case 0: {
                  if (!optionNone(tmp51_1)) goto tmp50_end;
                  /* Pattern matching succeeded */
                  tmpMeta48 = _scrutinee;
                  goto tmp50_done;
                }
                case 1: {
                  modelica_metatype tmpMeta53;
                  modelica_metatype tmpMeta54;
                  if (optionNone(tmp51_1)) goto tmp50_end;
                  tmpMeta53 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp51_1), 1));
                  /* Pattern matching succeeded */
                  tmpMeta54 = mmc_mk_box3(4, &MidCode_RValue_UNARYOP__desc, _OMC_LIT0, _scrutinee);
                  tmpMeta48 = omc_DAEToMid_RValueToVar(threadData, tmpMeta54, _state);
                  goto tmp50_done;
                }
                }
                goto tmp50_end;
                tmp50_end: ;
              }
              goto goto_49;
              goto_49:;
              goto goto_1;
              goto tmp50_done;
              tmp50_done:;
            }
          }
          _scrutinee = tmpMeta48;

          { /* match expression */
            modelica_metatype tmp57_1;
            tmp57_1 = _exp;
            {
              volatile mmc_switch_type tmp57;
              int tmp58;
              tmp57 = 0;
              for (; tmp57 < 8; tmp57++) {
                switch (MMC_SWITCH_CAST(tmp57)) {
                case 0: {
                  modelica_metatype tmpMeta59;
                  modelica_integer tmp60;
                  modelica_metatype tmpMeta61;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp57_1,3,1) == 0) goto tmp56_end;
                  tmpMeta59 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp57_1), 2));
                  tmp60 = mmc_unbox_integer(tmpMeta59);
                  _bool = tmp60  /* pattern as ty=Boolean */;
                  /* Pattern matching succeeded */
                  _scrutineeCompareVar = _scrutinee;

                  tmpMeta61 = mmc_mk_box2(8, &MidCode_RValue_LITERALBOOLEAN__desc, mmc_mk_boolean(_bool));
                  _patCompareVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta61, _state);
                  goto tmp56_done;
                }
                case 1: {
                  modelica_metatype tmpMeta62;
                  modelica_integer tmp63;
                  modelica_metatype tmpMeta64;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp57_1,0,1) == 0) goto tmp56_end;
                  tmpMeta62 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp57_1), 2));
                  tmp63 = mmc_unbox_integer(tmpMeta62);
                  _integer = tmp63  /* pattern as ty=Integer */;
                  /* Pattern matching succeeded */
                  _scrutineeCompareVar = _scrutinee;

                  tmpMeta64 = mmc_mk_box2(6, &MidCode_RValue_LITERALINTEGER__desc, mmc_mk_integer(_integer));
                  _patCompareVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta64, _state);
                  goto tmp56_done;
                }
                case 2: {
                  modelica_metatype tmpMeta65;
                  modelica_real tmp66;
                  modelica_metatype tmpMeta67;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp57_1,1,1) == 0) goto tmp56_end;
                  tmpMeta65 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp57_1), 2));
                  tmp66 = mmc_unbox_real(tmpMeta65);
                  _real = tmp66  /* pattern as ty=Real */;
                  /* Pattern matching succeeded */
                  _scrutineeCompareVar = _scrutinee;

                  tmpMeta67 = mmc_mk_box2(7, &MidCode_RValue_LITERALREAL__desc, mmc_mk_real(_real));
                  _patCompareVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta67, _state);
                  goto tmp56_done;
                }
                case 3: {
                  modelica_metatype tmpMeta68;
                  modelica_integer tmp69;
                  modelica_metatype tmpMeta70;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp57_1,5,2) == 0) goto tmp56_end;
                  tmpMeta68 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp57_1), 3));
                  tmp69 = mmc_unbox_integer(tmpMeta68);
                  _integer = tmp69  /* pattern as ty=Integer */;
                  /* Pattern matching succeeded */
                  _scrutineeCompareVar = _scrutinee;

                  tmpMeta70 = mmc_mk_box2(6, &MidCode_RValue_LITERALINTEGER__desc, mmc_mk_integer(_integer));
                  _patCompareVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta70, _state);
                  goto tmp56_done;
                }
                case 4: {
                  modelica_metatype tmpMeta71;
                  modelica_metatype tmpMeta72;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp57_1,28,1) == 0) goto tmp56_end;
                  tmpMeta71 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp57_1), 2));
                  if (!listEmpty(tmpMeta71)) goto tmp56_end;
                  /* Pattern matching succeeded */
                  tmpMeta72 = mmc_mk_box2(13, &MidCode_RValue_ISCONS__desc, _scrutinee);
                  _scrutineeCompareVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta72, _state);

                  _patCompareVar = omc_DAEToMid_RValueToVar(threadData, _OMC_LIT1, _state);
                  goto tmp56_done;
                }
                case 5: {
                  modelica_metatype tmpMeta73;
                  modelica_metatype tmpMeta74;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp57_1,31,1) == 0) goto tmp56_end;
                  tmpMeta73 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp57_1), 2));
                  if (!optionNone(tmpMeta73)) goto tmp56_end;
                  /* Pattern matching succeeded */
                  tmpMeta74 = mmc_mk_box2(12, &MidCode_RValue_ISSOME__desc, _scrutinee);
                  _scrutineeCompareVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta74, _state);

                  _patCompareVar = omc_DAEToMid_RValueToVar(threadData, _OMC_LIT1, _state);
                  goto tmp56_done;
                }
                case 6: {
                  modelica_metatype tmpMeta75;
                  modelica_metatype tmpMeta76;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp57_1,2,1) == 0) goto tmp56_end;
                  tmpMeta75 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp57_1), 2));
                  _string = tmpMeta75;
                  /* Pattern matching succeeded */
                  _scrutineeCompareVar = _scrutinee;

                  tmpMeta76 = mmc_mk_box2(9, &MidCode_RValue_LITERALSTRING__desc, _string);
                  _patCompareVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta76, _state);
                  goto tmp56_done;
                }
                case 7: {
                  modelica_metatype tmpMeta77;
                  modelica_metatype tmpMeta78;
                  
                  /* Pattern matching succeeded */
                  tmpMeta77 = stringAppend(_OMC_LIT2,omc_ExpressionDump_dumpExpStr(threadData, _exp, ((modelica_integer) 0)));
                  tmpMeta78 = stringAppend(tmpMeta77,_OMC_LIT3);
                  omc_Error_addInternalError(threadData, tmpMeta78, _OMC_LIT5);
                  goto goto_55;
                  goto tmp56_done;
                }
                }
                goto tmp56_end;
                tmp56_end: ;
              }
              goto goto_55;
              goto_55:;
              goto goto_1;
              goto tmp56_done;
              tmp56_done:;
            }
          }
          ;

          _ok = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT6, _state);

          tmpMeta79 = mmc_mk_box4(5, &MidCode_RValue_BINARYOP__desc, _OMC_LIT7, _scrutineeCompareVar, _patCompareVar);
          tmpMeta80 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _ok, tmpMeta79);
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta80, _state);

          omc_DAEToMid_stateAddBailOnFalse(threadData, _ok, _labelNoMatch, _state);

          /* Tail recursive call */
          _matches = _restMatches;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 5: {
          modelica_metatype tmpMeta81;
          modelica_metatype tmpMeta82;
          modelica_metatype tmpMeta83;
          modelica_metatype tmpMeta84;
          modelica_metatype tmpMeta85;
          modelica_metatype tmpMeta86;
          modelica_metatype tmpMeta94;
          modelica_metatype tmpMeta95;
          modelica_metatype tmpMeta96;
          modelica_metatype tmpMeta97;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta81 = MMC_CAR(tmp3_1);
          tmpMeta82 = MMC_CDR(tmp3_1);
          tmpMeta83 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta81), 1));
          tmpMeta84 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta81), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta84,4,1) == 0) goto tmp2_end;
          tmpMeta85 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta84), 2));
          _scrutinee = tmpMeta83;
          _morePatterns = tmpMeta85;
          _restMatches = tmpMeta82;
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp89_1;
            tmp89_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_scrutinee), 3)));
            {
              volatile mmc_switch_type tmp89;
              int tmp90;
              tmp89 = 0;
              for (; tmp89 < 2; tmp89++) {
                switch (MMC_SWITCH_CAST(tmp89)) {
                case 0: {
                  modelica_metatype tmpMeta91;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp89_1,18,1) == 0) goto tmp88_end;
                  tmpMeta91 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp89_1), 2));
                  _listTypes = tmpMeta91;
                  /* Pattern matching succeeded */
                  tmpMeta86 = _listTypes;
                  goto tmp88_done;
                }
                case 1: {
                  modelica_metatype tmpMeta92;
                  modelica_metatype tmpMeta93;
                  
                  /* Pattern matching succeeded */
                  tmpMeta92 = stringAppend(_OMC_LIT8,omc_DAEDump_daeTypeStr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_scrutinee), 3)))));
                  tmpMeta93 = stringAppend(tmpMeta92,_OMC_LIT3);
                  omc_Error_addInternalError(threadData, tmpMeta93, _OMC_LIT9);
                  goto goto_87;
                  goto tmp88_done;
                }
                }
                goto tmp88_end;
                tmp88_end: ;
              }
              goto goto_87;
              goto_87:;
              goto goto_1;
              goto tmp88_done;
              tmp88_done:;
            }
          }
          _listTypes = tmpMeta86;

          tmpMeta94 = MMC_REFSTRUCTLIT(mmc_nil);
          _moreMatches = tmpMeta94;

          _iterator = _morePatterns;

          _fieldNr = ((modelica_integer) 0);

          while(1)
          {
            if(!(!listEmpty(_iterator))) break;
            tmpMeta95 = mmc_mk_box4(14, &MidCode_RValue_METAFIELD__desc, _scrutinee, mmc_mk_integer(_fieldNr), listHead(_listTypes));
            _midvar = omc_DAEToMid_RValueToVar(threadData, tmpMeta95, _state);

            tmpMeta97 = mmc_mk_box2(0, _midvar, listHead(_iterator));
            tmpMeta96 = mmc_mk_cons(tmpMeta97, _moreMatches);
            _moreMatches = tmpMeta96;

            _fieldNr = ((modelica_integer) 1) + _fieldNr;

            _iterator = listRest(_iterator);

            _listTypes = listRest(_listTypes);
          }

          _moreMatches = listReverse(_moreMatches);

          /* Tail recursive call */
          _matches = listAppend(_moreMatches, _restMatches);
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 6: {
          modelica_metatype tmpMeta98;
          modelica_metatype tmpMeta99;
          modelica_metatype tmpMeta100;
          modelica_metatype tmpMeta101;
          modelica_metatype tmpMeta102;
          modelica_metatype tmpMeta103;
          modelica_metatype tmpMeta104;
          modelica_metatype tmpMeta105;
          modelica_metatype tmpMeta106;
          modelica_metatype tmpMeta112;
          modelica_metatype tmpMeta113;
          modelica_metatype tmpMeta114;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta98 = MMC_CAR(tmp3_1);
          tmpMeta99 = MMC_CDR(tmp3_1);
          tmpMeta100 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta98), 1));
          tmpMeta101 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta98), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta101,9,1) == 0) goto tmp2_end;
          tmpMeta102 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta101), 2));
          _scrutinee = tmpMeta100;
          _pattern = tmpMeta102;
          _restMatches = tmpMeta99;
          /* Pattern matching succeeded */
          _ok = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT6, _state);

          tmpMeta103 = mmc_mk_box2(12, &MidCode_RValue_ISSOME__desc, _scrutinee);
          _scrutineeCompareVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta103, _state);

          _patCompareVar = omc_DAEToMid_RValueToVar(threadData, _OMC_LIT10, _state);

          tmpMeta104 = mmc_mk_box4(5, &MidCode_RValue_BINARYOP__desc, _OMC_LIT7, _scrutineeCompareVar, _patCompareVar);
          tmpMeta105 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _ok, tmpMeta104);
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta105, _state);

          omc_DAEToMid_stateAddBailOnFalse(threadData, _ok, _labelNoMatch, _state);

          { /* match expression */
            modelica_metatype tmp109_1;
            tmp109_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_scrutinee), 3)));
            {
              volatile mmc_switch_type tmp109;
              int tmp110;
              tmp109 = 0;
              for (; tmp109 < 2; tmp109++) {
                switch (MMC_SWITCH_CAST(tmp109)) {
                case 0: {
                  modelica_metatype tmpMeta111;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp109_1,19,1) == 0) goto tmp108_end;
                  tmpMeta111 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp109_1), 2));
                  _ty = tmpMeta111;
                  /* Pattern matching succeeded */
                  tmpMeta106 = _ty;
                  goto tmp108_done;
                }
                case 1: {
                  
                  /* Pattern matching succeeded */
                  omc_Error_addInternalError(threadData, _OMC_LIT11, _OMC_LIT12);
                  goto goto_107;
                  goto tmp108_done;
                }
                }
                goto tmp108_end;
                tmp108_end: ;
              }
              goto goto_107;
              goto_107:;
              goto goto_1;
              goto tmp108_done;
              tmp108_done:;
            }
          }
          _ty = tmpMeta106;

          tmpMeta112 = mmc_mk_box4(14, &MidCode_RValue_METAFIELD__desc, _scrutinee, mmc_mk_integer(((modelica_integer) 0)), _ty);
          _midvar = omc_DAEToMid_RValueToVar(threadData, tmpMeta112, _state);

          tmpMeta114 = mmc_mk_box2(0, _midvar, _pattern);
          tmpMeta113 = mmc_mk_cons(tmpMeta114, _restMatches);
          /* Tail recursive call */
          _matches = tmpMeta113;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 7: {
          modelica_metatype tmpMeta115;
          modelica_metatype tmpMeta116;
          modelica_metatype tmpMeta117;
          modelica_metatype tmpMeta118;
          modelica_metatype tmpMeta119;
          modelica_metatype tmpMeta120;
          modelica_metatype tmpMeta121;
          modelica_metatype tmpMeta122;
          modelica_metatype tmpMeta123;
          modelica_metatype tmpMeta124;
          modelica_metatype tmpMeta133;
          modelica_metatype tmpMeta134;
          modelica_metatype tmpMeta135;
          modelica_metatype tmpMeta136;
          modelica_metatype tmpMeta137;
          modelica_metatype tmpMeta138;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta115 = MMC_CAR(tmp3_1);
          tmpMeta116 = MMC_CDR(tmp3_1);
          tmpMeta117 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta115), 1));
          tmpMeta118 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta115), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta118,6,2) == 0) goto tmp2_end;
          tmpMeta119 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta118), 2));
          tmpMeta120 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta118), 3));
          _scrutinee = tmpMeta117;
          _headPattern = tmpMeta119;
          _restPattern = tmpMeta120;
          _restMatches = tmpMeta116;
          /* Pattern matching succeeded */
          tmpMeta121 = mmc_mk_box2(13, &MidCode_RValue_ISCONS__desc, _scrutinee);
          _scrutineeCompareVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta121, _state);

          _patCompareVar = omc_DAEToMid_RValueToVar(threadData, _OMC_LIT10, _state);

          _ok = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT6, _state);

          tmpMeta122 = mmc_mk_box4(5, &MidCode_RValue_BINARYOP__desc, _OMC_LIT7, _scrutineeCompareVar, _patCompareVar);
          tmpMeta123 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _ok, tmpMeta122);
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta123, _state);

          omc_DAEToMid_stateAddBailOnFalse(threadData, _ok, _labelNoMatch, _state);

          { /* match expression */
            modelica_metatype tmp127_1;
            tmp127_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_scrutinee), 3)));
            {
              volatile mmc_switch_type tmp127;
              int tmp128;
              tmp127 = 0;
              for (; tmp127 < 3; tmp127++) {
                switch (MMC_SWITCH_CAST(tmp127)) {
                case 0: {
                  modelica_metatype tmpMeta129;
                  modelica_metatype tmpMeta130;
                  modelica_metatype tmpMeta131;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp127_1,17,1) == 0) goto tmp126_end;
                  tmpMeta129 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp127_1), 2));
                  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta129,8,0) == 0) goto tmp126_end;
                  /* Pattern matching succeeded */
                  tmpMeta130 = stringAppend(_OMC_LIT13,omc_DAEDump_daeTypeStr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_scrutinee), 3)))));
                  tmpMeta131 = stringAppend(tmpMeta130,_OMC_LIT3);
                  omc_Error_addInternalError(threadData, tmpMeta131, _OMC_LIT14);
                  goto goto_125;
                  goto tmp126_done;
                }
                case 1: {
                  modelica_metatype tmpMeta132;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp127_1,17,1) == 0) goto tmp126_end;
                  tmpMeta132 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp127_1), 2));
                  _ty = tmpMeta132;
                  /* Pattern matching succeeded */
                  tmpMeta124 = _ty;
                  goto tmp126_done;
                }
                case 2: {
                  
                  /* Pattern matching succeeded */
                  omc_Error_addInternalError(threadData, _OMC_LIT11, _OMC_LIT15);
                  goto goto_125;
                  goto tmp126_done;
                }
                }
                goto tmp126_end;
                tmp126_end: ;
              }
              goto goto_125;
              goto_125:;
              goto goto_1;
              goto tmp126_done;
              tmp126_done:;
            }
          }
          _ty = tmpMeta124;

          tmpMeta133 = mmc_mk_box4(14, &MidCode_RValue_METAFIELD__desc, _scrutinee, mmc_mk_integer(((modelica_integer) 0)), _ty);
          _headVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta133, _state);

          tmpMeta134 = mmc_mk_box4(14, &MidCode_RValue_METAFIELD__desc, _scrutinee, mmc_mk_integer(((modelica_integer) 1)), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_scrutinee), 3))));
          _restVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta134, _state);

          tmpMeta136 = mmc_mk_box2(0, _headVar, _headPattern);
          tmpMeta138 = mmc_mk_box2(0, _restVar, _restPattern);
          tmpMeta137 = mmc_mk_cons(tmpMeta138, _restMatches);
          tmpMeta135 = mmc_mk_cons(tmpMeta136, tmpMeta137);
          /* Tail recursive call */
          _matches = tmpMeta135;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 8: {
          modelica_metatype tmpMeta139;
          modelica_metatype tmpMeta140;
          modelica_metatype tmpMeta141;
          modelica_metatype tmpMeta142;
          modelica_metatype tmpMeta143;
          modelica_metatype tmpMeta144;
          modelica_integer tmp145;
          modelica_metatype tmpMeta146;
          modelica_metatype tmpMeta147;
          modelica_metatype tmpMeta148;
          modelica_metatype tmpMeta149;
          modelica_integer tmp150;
          modelica_metatype tmpMeta151;
          modelica_metatype tmpMeta152;
          modelica_metatype tmpMeta153;
          modelica_metatype tmpMeta154;
          modelica_metatype tmpMeta155;
          modelica_metatype tmpMeta159;
          modelica_metatype tmpMeta160;
          modelica_metatype tmpMeta161;
          modelica_metatype tmpMeta162;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta139 = MMC_CAR(tmp3_1);
          tmpMeta140 = MMC_CDR(tmp3_1);
          tmpMeta141 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta139), 1));
          tmpMeta142 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta139), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta142,7,6) == 0) goto tmp2_end;
          tmpMeta143 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta142), 2));
          tmpMeta144 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta142), 3));
          tmp145 = mmc_unbox_integer(tmpMeta144);
          tmpMeta146 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta142), 4));
          tmpMeta147 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta142), 5));
          tmpMeta148 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta142), 6));
          tmpMeta149 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta142), 7));
          tmp150 = mmc_unbox_integer(tmpMeta149);
          _scrutinee = tmpMeta141;
          _name = tmpMeta143;
          _index = tmp145  /* pattern as ty=Integer */;
          _morePatterns = tmpMeta146;
          _fields = tmpMeta147;
          _typeVars = tmpMeta148;
          _knownSingleton = tmp150  /* pattern as ty=Boolean */;
          _restMatches = tmpMeta140;
          /* Pattern matching succeeded */
          if((!_knownSingleton))
          {
            _ok = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT6, _state);

            tmpMeta151 = mmc_mk_box2(11, &MidCode_RValue_UNIONTYPEVARIANT__desc, _scrutinee);
            _scrutineeCompareVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta151, _state);

            tmpMeta152 = mmc_mk_box2(6, &MidCode_RValue_LITERALINTEGER__desc, mmc_mk_integer(_index));
            _patCompareVar = omc_DAEToMid_RValueToVar(threadData, tmpMeta152, _state);

            tmpMeta153 = mmc_mk_box4(5, &MidCode_RValue_BINARYOP__desc, _OMC_LIT7, _scrutineeCompareVar, _patCompareVar);
            tmpMeta154 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _ok, tmpMeta153);
            omc_DAEToMid_stateAddStmt(threadData, tmpMeta154, _state);

            omc_DAEToMid_stateAddBailOnFalse(threadData, _ok, _labelNoMatch, _state);
          }

          {
            modelica_metatype __omcQ_24tmpVar1;
            modelica_metatype* tmp156;
            modelica_metatype tmpMeta157;
            modelica_metatype __omcQ_24tmpVar0;
            modelica_integer tmp158;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _fields;
            tmpMeta157 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar1 = tmpMeta157; /* defaultValue */
            tmp156 = &__omcQ_24tmpVar1;
            while(1) {
              tmp158 = 1;
              if (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                tmp158--;
              }
              if (tmp158 == 0) {
                __omcQ_24tmpVar0 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 4)));
                *tmp156 = mmc_mk_cons(__omcQ_24tmpVar0,0);
                tmp156 = &MMC_CDR(*tmp156);
              } else if (tmp158 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp156 = mmc_mk_nil();
            tmpMeta155 = __omcQ_24tmpVar1;
          }
          _listTypes = tmpMeta155;

          tmpMeta159 = MMC_REFSTRUCTLIT(mmc_nil);
          _moreMatches = tmpMeta159;

          _iterator = _morePatterns;

          _fieldNr = ((modelica_integer) 1);

          while(1)
          {
            if(!(!listEmpty(_iterator))) break;
            tmpMeta160 = mmc_mk_box4(14, &MidCode_RValue_METAFIELD__desc, _scrutinee, mmc_mk_integer(_fieldNr), listHead(_listTypes));
            _midvar = omc_DAEToMid_RValueToVar(threadData, tmpMeta160, _state);

            tmpMeta162 = mmc_mk_box2(0, _midvar, listHead(_iterator));
            tmpMeta161 = mmc_mk_cons(tmpMeta162, _moreMatches);
            _moreMatches = tmpMeta161;

            _fieldNr = ((modelica_integer) 1) + _fieldNr;

            _iterator = listRest(_iterator);

            _listTypes = listRest(_listTypes);
          }

          _moreMatches = listReverse(_moreMatches);

          /* Tail recursive call */
          _matches = listAppend(_moreMatches, _restMatches);
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 9: {
          modelica_metatype tmpMeta163;
          modelica_metatype tmpMeta164;
          modelica_metatype tmpMeta165;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta163 = MMC_CAR(tmp3_1);
          tmpMeta164 = MMC_CDR(tmp3_1);
          tmpMeta165 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta163), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta165,3,2) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT16, _OMC_LIT17);
          goto goto_1;
          goto tmp2_done;
        }
        case 10: {
          modelica_metatype tmpMeta166;
          modelica_metatype tmpMeta167;
          modelica_metatype tmpMeta168;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta166 = MMC_CAR(tmp3_1);
          tmpMeta167 = MMC_CDR(tmp3_1);
          tmpMeta168 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta166), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta168,5,1) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT18, _OMC_LIT19);
          goto goto_1;
          goto tmp2_done;
        }
        case 11: {
          modelica_metatype tmpMeta169;
          modelica_metatype tmpMeta170;
          modelica_metatype tmpMeta171;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta169 = MMC_CAR(tmp3_1);
          tmpMeta170 = MMC_CDR(tmp3_1);
          tmpMeta171 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta169), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta171,8,2) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT20, _OMC_LIT21);
          goto goto_1;
          goto tmp2_done;
        }
        case 12: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT22, _OMC_LIT23);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_DAEToMid_patternToMidCode2(threadData_t *threadData, modelica_metatype _state, modelica_metatype _matches, modelica_metatype _labelNoMatch, modelica_metatype _assignBlock)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_labelNoMatch);
  omc_DAEToMid_patternToMidCode2(threadData, _state, _matches, tmp1, _assignBlock);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_patternToMidCode(threadData_t *threadData, modelica_metatype _matches, modelica_integer _labelNoMatch, modelica_metatype _state)
{
  modelica_metatype _assignBlock = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _assignBlock has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _assignBlock = arrayCreate(((modelica_integer) 1), tmpMeta1);

  omc_DAEToMid_patternToMidCode2(threadData, _state, _matches, _labelNoMatch, _assignBlock);

  {
    modelica_metatype _stmt;
    for (tmpMeta2 = listReverse(arrayGet(_assignBlock, ((modelica_integer) 1))); !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _stmt = MMC_CAR(tmpMeta2);
      omc_DAEToMid_stateAddStmt(threadData, _stmt, _state);
    }
  }
  _return: OMC_LABEL_UNUSED
  return _assignBlock;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEToMid_patternToMidCode(threadData_t *threadData, modelica_metatype _matches, modelica_metatype _labelNoMatch, modelica_metatype _state)
{
  modelica_integer tmp1;
  modelica_metatype _assignBlock = NULL;
  tmp1 = mmc_unbox_integer(_labelNoMatch);
  _assignBlock = omc_DAEToMid_patternToMidCode(threadData, _matches, tmp1, _state);
  /* skip box _assignBlock; array<list<MidCode.Stmt>> */
  return _assignBlock;
}

PROTECTED_FUNCTION_STATIC void omc_DAEToMid_MatchExpressionToMid(threadData_t *threadData, modelica_metatype _matchexpression, modelica_metatype _outvars, modelica_metatype _state)
{
  modelica_integer _labelFin;
  modelica_integer _labelMux;
  modelica_integer _labelInit;
  modelica_integer _labelFail;
  modelica_integer _labelFin2;
  modelica_integer _labelOut;
  modelica_integer _caseLabel;
  modelica_metatype _caseLabels = NULL;
  modelica_metatype _muxState = NULL;
  modelica_metatype _one = NULL;
  modelica_metatype _midvar = NULL;
  modelica_metatype _midvar2 = NULL;
  modelica_metatype _muxOldBuf = NULL;
  modelica_metatype _muxNewBuf = NULL;
  modelica_metatype _outvar = NULL;
  modelica_boolean _matchContinue;
  modelica_metatype _matchType = NULL;
  modelica_metatype _cases = NULL;
  modelica_metatype _inputsCref = NULL;
  modelica_metatype _aliases = NULL;
  modelica_metatype _srcVar = NULL;
  modelica_metatype _aliasVar = NULL;
  modelica_metatype _aliasList = NULL;
  modelica_metatype _ty = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype _inputsMidVar = NULL;
  modelica_metatype _daeExp = NULL;
  modelica_metatype _caseLabelIterator = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _labelFin has no default value.
  // _labelMux has no default value.
  // _labelInit has no default value.
  // _labelFail has no default value.
  // _labelFin2 has no default value.
  // _labelOut has no default value.
  // _caseLabel has no default value.
  // _caseLabels has no default value.
  // _muxState has no default value.
  // _one has no default value.
  // _midvar has no default value.
  // _midvar2 has no default value.
  // _muxOldBuf has no default value.
  // _muxNewBuf has no default value.
  // _outvar has no default value.
  // _matchContinue has no default value.
  // _matchType has no default value.
  // _cases has no default value.
  // _inputsCref has no default value.
  // _aliases has no default value.
  // _srcVar has no default value.
  // _aliasVar has no default value.
  // _aliasList has no default value.
  // _ty has no default value.
  // _cref has no default value.
  // _inputsMidVar has no default value.
  // _daeExp has no default value.
  // _caseLabelIterator has no default value.
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _matchexpression;
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 1; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_boolean tmp9 = 0;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_integer tmp16;
          modelica_integer tmp17;
          modelica_integer tmp18;
          static int tmp19 = 0;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,33,6) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 6));
          
          _matchType = tmpMeta5;
          _inputsCref = tmpMeta6;
          _aliases = tmpMeta7;
          _cases = tmpMeta8;
          /* Pattern matching succeeded */
          _labelInit = omc_DAEToMid_stateGetCurrentLabel(threadData, _state);

          _labelMux = omc_DAEToMid_GenBlockId(threadData);

          _labelFin = omc_DAEToMid_GenBlockId(threadData);

          { /* match expression */
            modelica_metatype tmp12_1;
            tmp12_1 = _matchType;
            {
              volatile mmc_switch_type tmp12;
              int tmp13;
              tmp12 = 0;
              for (; tmp12 < 2; tmp12++) {
                switch (MMC_SWITCH_CAST(tmp12)) {
                case 0: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,0,0) == 0) goto tmp11_end;
                  /* Pattern matching succeeded */
                  tmp9 = 1 /* true */;
                  goto tmp11_done;
                }
                case 1: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,2,1) == 0) goto tmp11_end;
                  
                  /* Pattern matching succeeded */
                  tmp9 = 0 /* false */;
                  goto tmp11_done;
                }
                }
                goto tmp11_end;
                tmp11_end: ;
              }
              goto goto_10;
              goto_10:;
              goto goto_1;
              goto tmp11_done;
              tmp11_done:;
            }
          }
          _matchContinue = tmp9;

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _caseLabels = tmpMeta14;

          tmp16 = ((modelica_integer) 1); tmp17 = 1; tmp18 = listLength(_cases);
          if(!(((tmp17 > 0) && (tmp16 > tmp18)) || ((tmp17 < 0) && (tmp16 < tmp18))))
          {
            modelica_integer _i;
            for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp16, tmp18); _i += tmp17)
            {
              tmpMeta15 = mmc_mk_cons(mmc_mk_integer(omc_DAEToMid_GenBlockId(threadData)), _caseLabels);
              _caseLabels = tmpMeta15;
            }
          }

          {
            if(!(listLength(_inputsCref) == listLength(_aliases)))
            {
              {
                FILE_INFO info = {"/home/adrpo33/OpenModelica/OMCompiler/Compiler/MidCode/DAEToMid.mo",1140,5,1140,144,0};
                omc_assert(threadData, info, MMC_STRINGDATA(_OMC_LIT24));
              }
            }
          }

          tmpMeta20 = MMC_REFSTRUCTLIT(mmc_nil);
          _inputsMidVar = tmpMeta20;

          {
            modelica_metatype _daeExp_aliasList;
            for (tmpMeta21 = omc_List_zip(threadData, _inputsCref, _aliases); !listEmpty(tmpMeta21); tmpMeta21=MMC_CDR(tmpMeta21))
            {
              _daeExp_aliasList = MMC_CAR(tmpMeta21);
              /* Pattern-matching assignment */
              tmpMeta22 = _daeExp_aliasList;
              tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 1));
              tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 2));
              _daeExp = tmpMeta23;
              _aliasList = tmpMeta24;

              _srcVar = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _daeExp, _state), _state);

              tmpMeta25 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _srcVar);
              _ty = omc_DAEToMid_RValueType(threadData, tmpMeta25);

              tmpMeta26 = mmc_mk_cons(_srcVar, _inputsMidVar);
              _inputsMidVar = tmpMeta26;

              {
                modelica_metatype _alias;
                for (tmpMeta27 = _aliasList; !listEmpty(tmpMeta27); tmpMeta27=MMC_CDR(tmpMeta27))
                {
                  _alias = MMC_CAR(tmpMeta27);
                  tmpMeta28 = mmc_mk_box4(3, &MidCode_Var_VAR__desc, _alias, _ty, mmc_mk_boolean(0 /* false */));
                  _aliasVar = tmpMeta28;

                  omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 2))), _aliasVar);

                  tmpMeta29 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _srcVar);
                  tmpMeta30 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _aliasVar, tmpMeta29);
                  omc_DAEToMid_stateAddStmt(threadData, tmpMeta30, _state);
                }
              }
            }
          }

          _muxState = omc_DAEToMid_GenTmpVarVolatile(threadData, _OMC_LIT25, _state);

          tmpMeta33 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _muxState, _OMC_LIT26);
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta33, _state);

          if(_matchContinue)
          {
            _muxOldBuf = omc_DAEToMid_GenTmpVarBufPtr(threadData, _state);

            _muxNewBuf = omc_DAEToMid_GenTmpVarBuf(threadData, _state);

            tmpMeta34 = mmc_mk_box4(9, &MidCode_Terminator_PUSHJMP__desc, _muxOldBuf, _muxNewBuf, mmc_mk_integer(_labelMux));
            omc_DAEToMid_stateTerminate(threadData, _labelMux, tmpMeta34, _state);
          }
          else
          {
            tmpMeta35 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelMux));
            omc_DAEToMid_stateTerminate(threadData, _labelMux, tmpMeta35, _state);
          }

          if(_matchContinue)
          {
            _one = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT25, _state);

            tmpMeta36 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _one, _OMC_LIT27);
            omc_DAEToMid_stateAddStmt(threadData, tmpMeta36, _state);

            tmpMeta37 = mmc_mk_box4(5, &MidCode_RValue_BINARYOP__desc, _OMC_LIT28, _muxState, _one);
            tmpMeta38 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _muxState, tmpMeta37);
            omc_DAEToMid_stateAddStmt(threadData, tmpMeta38, _state);

            tmpMeta39 = mmc_mk_cons(mmc_mk_integer(_labelFin), MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta40 = mmc_mk_box3(7, &MidCode_Terminator_SWITCH__desc, _muxState, omc_List_zip(threadData, omc_List_intRange(threadData, ((modelica_integer) 1) + listLength(_cases)), listAppend(_caseLabels, tmpMeta39)));
            omc_DAEToMid_stateTerminate(threadData, _labelFin, tmpMeta40, _state);
          }
          else
          {
            tmpMeta41 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(((!listEmpty(_caseLabels))?mmc_unbox_integer(listHead(_caseLabels)):_labelFin)));
            omc_DAEToMid_stateTerminate(threadData, _labelFin, tmpMeta41, _state);
          }

          _labelFail = omc_DAEToMid_GenBlockId(threadData);

          _labelFin2 = omc_DAEToMid_GenBlockId(threadData);

          _labelOut = omc_DAEToMid_GenBlockId(threadData);

          if(_matchContinue)
          {
            tmpMeta42 = mmc_mk_box3(10, &MidCode_Terminator_POPJMP__desc, _muxOldBuf, mmc_mk_integer(_labelFin2));
            omc_DAEToMid_stateTerminate(threadData, _labelFin2, tmpMeta42, _state);
          }
          else
          {
            tmpMeta43 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelFin2));
            omc_DAEToMid_stateTerminate(threadData, _labelFin2, tmpMeta43, _state);
          }

          tmpMeta44 = mmc_mk_box2(6, &MidCode_RValue_LITERALINTEGER__desc, mmc_mk_integer(((modelica_integer) 1) + listLength(_cases)));
          _midvar = omc_DAEToMid_RValueToVar(threadData, tmpMeta44, _state);

          tmpMeta45 = mmc_mk_box4(5, &MidCode_RValue_BINARYOP__desc, _OMC_LIT7, _muxState, _midvar);
          _midvar2 = omc_DAEToMid_RValueToVar(threadData, tmpMeta45, _state);

          tmpMeta46 = mmc_mk_box4(4, &MidCode_Terminator_BRANCH__desc, _midvar2, mmc_mk_integer(_labelFail), mmc_mk_integer(_labelOut));
          omc_DAEToMid_stateTerminate(threadData, _labelFail, tmpMeta46, _state);

          omc_DAEToMid_stateTerminate(threadData, _labelOut, _OMC_LIT29, _state);

          _caseLabelIterator = _caseLabels;

          while(1)
          {
            if(!(!listEmpty(_caseLabelIterator))) break;
            _caseLabel = mmc_unbox_integer(listHead(_caseLabelIterator));

            _caseLabelIterator = listRest(_caseLabelIterator);

            omc_DAEToMid_stateSetCurrentLabel(threadData, _caseLabel, _state);

            { /* match expression */
              modelica_metatype tmp49_1;
              tmp49_1 = _cases;
              {
                modelica_metatype _patterns = NULL;
                modelica_metatype _daeBody = NULL;
                modelica_metatype _patternGuard = NULL;
                modelica_metatype _caseResult = NULL;
                volatile mmc_switch_type tmp49;
                int tmp50;
                // _patterns has no default value.
                // _daeBody has no default value.
                // _patternGuard has no default value.
                // _caseResult has no default value.
                tmp49 = 0;
                for (; tmp49 < 2; tmp49++) {
                  switch (MMC_SWITCH_CAST(tmp49)) {
                  case 0: {
                    if (!listEmpty(tmp49_1)) goto tmp48_end;
                    /* Pattern matching succeeded */
                    goto tmp48_done;
                  }
                  case 1: {
                    modelica_metatype tmpMeta51;
                    modelica_metatype tmpMeta52;
                    modelica_metatype tmpMeta53;
                    modelica_metatype tmpMeta54;
                    modelica_metatype tmpMeta55;
                    modelica_metatype tmpMeta56;
                    modelica_metatype tmpMeta89;
                    if (listEmpty(tmp49_1)) goto tmp48_end;
                    tmpMeta51 = MMC_CAR(tmp49_1);
                    tmpMeta52 = MMC_CDR(tmp49_1);
                    tmpMeta53 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta51), 2));
                    tmpMeta54 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta51), 3));
                    tmpMeta55 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta51), 5));
                    tmpMeta56 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta51), 6));
                    
                    _patterns = tmpMeta53;
                    _patternGuard = tmpMeta54;
                    _daeBody = tmpMeta55;
                    _caseResult = tmpMeta56;
                    _cases = tmpMeta52;
                    /* Pattern matching succeeded */
                    if(_matchContinue)
                    {
                      omc_DAEToMid_patternToMidCode(threadData, omc_List_zip(threadData, _inputsMidVar, _patterns), _labelMux, _state);
                    }
                    else
                    {
                      omc_DAEToMid_patternToMidCode(threadData, omc_List_zip(threadData, _inputsMidVar, _patterns), ((!listEmpty(_caseLabelIterator))?mmc_unbox_integer(listHead(_caseLabelIterator)):_labelFail), _state);
                    }

                    { /* match expression */
                      modelica_metatype tmp59_1;
                      tmp59_1 = _patternGuard;
                      {
                        volatile mmc_switch_type tmp59;
                        int tmp60;
                        tmp59 = 0;
                        for (; tmp59 < 2; tmp59++) {
                          switch (MMC_SWITCH_CAST(tmp59)) {
                          case 0: {
                            if (!optionNone(tmp59_1)) goto tmp58_end;
                            /* Pattern matching succeeded */
                            goto tmp58_done;
                          }
                          case 1: {
                            modelica_metatype tmpMeta61;
                            if (optionNone(tmp59_1)) goto tmp58_end;
                            tmpMeta61 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp59_1), 1));
                            _daeExp = tmpMeta61;
                            /* Pattern matching succeeded */
                            _midvar = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _daeExp, _state), _state);

                            if(_matchContinue)
                            {
                              omc_DAEToMid_stateAddBailOnFalse(threadData, _midvar, _labelMux, _state);
                            }
                            else
                            {
                              omc_DAEToMid_stateAddBailOnFalse(threadData, _midvar, ((!listEmpty(_caseLabelIterator))?mmc_unbox_integer(listHead(_caseLabelIterator)):_labelFail), _state);
                            }
                            goto tmp58_done;
                          }
                          }
                          goto tmp58_end;
                          tmp58_end: ;
                        }
                        goto goto_57;
                        goto_57:;
                        goto goto_47;
                        goto tmp58_done;
                        tmp58_done:;
                      }
                    }
                    ;

                    omc_DAEToMid_StmtsToMid(threadData, _daeBody, _state);

                    { /* match expression */
                      modelica_metatype tmp64_1;modelica_metatype tmp64_2;
                      tmp64_1 = _caseResult;
                      tmp64_2 = _outvars;
                      {
                        modelica_metatype _expList = NULL;
                        volatile mmc_switch_type tmp64;
                        int tmp65;
                        // _expList has no default value.
                        tmp64 = 0;
                        for (; tmp64 < 7; tmp64++) {
                          switch (MMC_SWITCH_CAST(tmp64)) {
                          case 0: {
                            modelica_metatype tmpMeta66;
                            modelica_metatype tmpMeta67;
                            modelica_metatype tmpMeta68;
                            modelica_metatype tmpMeta69;
                            modelica_metatype tmpMeta70;
                            modelica_metatype tmpMeta71;
                            modelica_metatype tmpMeta78;
                            if (optionNone(tmp64_1)) goto tmp63_end;
                            tmpMeta66 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp64_1), 1));
                            if (mmc__uniontype__metarecord__typedef__equal(tmpMeta66,19,1) == 0) goto tmp63_end;
                            tmpMeta67 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta66), 2));
                            
                            _expList = tmpMeta67;
                            /* Pattern matching succeeded */
                            {
                              modelica_metatype _outvarDaeExp;
                              for (tmpMeta68 = omc_DAEToMid_listZip(threadData, _outvars, _expList); !listEmpty(tmpMeta68); tmpMeta68=MMC_CDR(tmpMeta68))
                              {
                                _outvarDaeExp = MMC_CAR(tmpMeta68);
                                /* Pattern-matching assignment */
                                tmpMeta69 = _outvarDaeExp;
                                tmpMeta70 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta69), 1));
                                tmpMeta71 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta69), 2));
                                _outvar = tmpMeta70;
                                _daeExp = tmpMeta71;

                                { /* match expression */
                                  modelica_metatype tmp74_1;
                                  tmp74_1 = _outvar;
                                  {
                                    modelica_metatype _var = NULL;
                                    volatile mmc_switch_type tmp74;
                                    int tmp75;
                                    // _var has no default value.
                                    tmp74 = 0;
                                    for (; tmp74 < 2; tmp74++) {
                                      switch (MMC_SWITCH_CAST(tmp74)) {
                                      case 0: {
                                        modelica_metatype tmpMeta76;
                                        modelica_metatype tmpMeta77;
                                        if (mmc__uniontype__metarecord__typedef__equal(tmp74_1,0,1) == 0) goto tmp73_end;
                                        tmpMeta76 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp74_1), 2));
                                        _var = tmpMeta76;
                                        /* Pattern matching succeeded */
                                        tmpMeta77 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _var, omc_DAEToMid_ExpToMid(threadData, _daeExp, _state));
                                        omc_DAEToMid_stateAddStmt(threadData, tmpMeta77, _state);
                                        goto tmp73_done;
                                      }
                                      case 1: {
                                        if (mmc__uniontype__metarecord__typedef__equal(tmp74_1,1,0) == 0) goto tmp73_end;
                                        /* Pattern matching succeeded */
                                        goto tmp73_done;
                                      }
                                      }
                                      goto tmp73_end;
                                      tmp73_end: ;
                                    }
                                    goto goto_72;
                                    goto_72:;
                                    goto goto_62;
                                    goto tmp73_done;
                                    tmp73_done:;
                                  }
                                }
                                ;
                              }
                            }
                            goto tmp63_done;
                          }
                          case 1: {
                            modelica_metatype tmpMeta79;
                            if (optionNone(tmp64_1)) goto tmp63_end;
                            tmpMeta79 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp64_1), 1));
                            if (mmc__uniontype__metarecord__typedef__equal(tmpMeta79,13,3) == 0) goto tmp63_end;
                            
                            _daeExp = tmpMeta79;
                            /* Pattern matching succeeded */
                            omc_DAEToMid_CallToMid(threadData, _daeExp, _outvars, _state);
                            goto tmp63_done;
                          }
                          case 2: {
                            modelica_metatype tmpMeta80;
                            if (optionNone(tmp64_1)) goto tmp63_end;
                            tmpMeta80 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp64_1), 1));
                            if (mmc__uniontype__metarecord__typedef__equal(tmpMeta80,33,6) == 0) goto tmp63_end;
                            
                            _daeExp = tmpMeta80;
                            /* Pattern matching succeeded */
                            omc_DAEToMid_MatchExpressionToMid(threadData, _daeExp, _outvars, _state);
                            goto tmp63_done;
                          }
                          case 3: {
                            modelica_metatype tmpMeta81;
                            modelica_metatype tmpMeta82;
                            modelica_metatype tmpMeta83;
                            modelica_metatype tmpMeta84;
                            modelica_metatype tmpMeta85;
                            if (optionNone(tmp64_1)) goto tmp63_end;
                            tmpMeta81 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp64_1), 1));
                            if (listEmpty(tmp64_2)) goto tmp63_end;
                            tmpMeta82 = MMC_CAR(tmp64_2);
                            tmpMeta83 = MMC_CDR(tmp64_2);
                            if (mmc__uniontype__metarecord__typedef__equal(tmpMeta82,0,1) == 0) goto tmp63_end;
                            tmpMeta84 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta82), 2));
                            if (!listEmpty(tmpMeta83)) goto tmp63_end;
                            _daeExp = tmpMeta81;
                            _midvar = tmpMeta84;
                            /* Pattern matching succeeded */
                            tmpMeta85 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _midvar, omc_DAEToMid_ExpToMid(threadData, _daeExp, _state));
                            omc_DAEToMid_stateAddStmt(threadData, tmpMeta85, _state);
                            goto tmp63_done;
                          }
                          case 4: {
                            modelica_metatype tmpMeta86;
                            modelica_metatype tmpMeta87;
                            modelica_metatype tmpMeta88;
                            if (optionNone(tmp64_1)) goto tmp63_end;
                            tmpMeta86 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp64_1), 1));
                            
                            _daeExp = tmpMeta86;
                            /* Pattern matching succeeded */
                            tmpMeta87 = stringAppend(_OMC_LIT30,omc_ExpressionDump_dumpExpStr(threadData, _daeExp, ((modelica_integer) 0)));
                            tmpMeta88 = stringAppend(tmpMeta87,_OMC_LIT31);
                            omc_Error_addInternalError(threadData, tmpMeta88, _OMC_LIT32);
                            goto tmp63_done;
                          }
                          case 5: {
                            if (!optionNone(tmp64_1)) goto tmp63_end;
                            if (!listEmpty(tmp64_2)) goto tmp63_end;
                            /* Pattern matching succeeded */
                            goto tmp63_done;
                          }
                          case 6: {
                            if (!optionNone(tmp64_1)) goto tmp63_end;
                            
                            /* Pattern matching succeeded */
                            omc_Error_addInternalError(threadData, _OMC_LIT33, _OMC_LIT34);
                            goto goto_62;
                            goto tmp63_done;
                          }
                          }
                          goto tmp63_end;
                          tmp63_end: ;
                        }
                        goto goto_62;
                        goto_62:;
                        goto goto_47;
                        goto tmp63_done;
                        tmp63_done:;
                      }
                    }
                    ;

                    tmpMeta89 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelFin));
                    omc_DAEToMid_stateTerminate(threadData, _labelOut, tmpMeta89, _state);
                    goto tmp48_done;
                  }
                  }
                  goto tmp48_end;
                  tmp48_end: ;
                }
                goto goto_47;
                goto_47:;
                goto goto_1;
                goto tmp48_done;
                tmp48_done:;
              }
            }
            ;
          }
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_unpackCrefFromExp(threadData_t *threadData, modelica_metatype _exp)
{
  modelica_metatype _cref = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _cref has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _exp;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cref = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta1 = _cref;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _cref = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _cref;
}

PROTECTED_FUNCTION_STATIC void omc_DAEToMid_stateAddBailOnFalse(threadData_t *threadData, modelica_metatype _var, modelica_integer _labelBail, modelica_metatype _state)
{
  modelica_integer _labelTmp;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _labelTmp has no default value.
  _labelTmp = omc_DAEToMid_GenBlockId(threadData);

  tmpMeta1 = mmc_mk_box4(4, &MidCode_Terminator_BRANCH__desc, _var, mmc_mk_integer(_labelTmp), mmc_mk_integer(_labelBail));
  omc_DAEToMid_stateTerminate(threadData, _labelTmp, tmpMeta1, _state);
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_DAEToMid_stateAddBailOnFalse(threadData_t *threadData, modelica_metatype _var, modelica_metatype _labelBail, modelica_metatype _state)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_labelBail);
  omc_DAEToMid_stateAddBailOnFalse(threadData, _var, tmp1, _state);
  return;
}

PROTECTED_FUNCTION_STATIC void omc_DAEToMid_stateTerminate(threadData_t *threadData, modelica_integer _newLabel, modelica_metatype _terminator, modelica_metatype _state)
{
  modelica_metatype _block_ = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _block_ has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta2 = mmc_mk_box4(3, &MidCode_Block_BLOCK__desc, mmc_mk_integer(omc_DAEToMid_stateGetCurrentLabel(threadData, _state)), omc_DoubleEnded_toListAndClear(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 6))), tmpMeta1), _terminator);
  _block_ = tmpMeta2;

  omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 5))), _block_);

  omc_DAEToMid_stateSetCurrentLabel(threadData, _newLabel, _state);
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_DAEToMid_stateTerminate(threadData_t *threadData, modelica_metatype _newLabel, modelica_metatype _terminator, modelica_metatype _state)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_newLabel);
  omc_DAEToMid_stateTerminate(threadData, tmp1, _terminator, _state);
  return;
}

PROTECTED_FUNCTION_STATIC void omc_DAEToMid_stateAddStmt(threadData_t *threadData, modelica_metatype _stmt, modelica_metatype _state)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 6))), _stmt);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_DAEToMid_stateSetCurrentLabel(threadData_t *threadData, modelica_integer _label, modelica_metatype _state)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  omc_Mutable_update(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 7))), mmc_mk_integer(_label));
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_DAEToMid_stateSetCurrentLabel(threadData_t *threadData, modelica_metatype _label, modelica_metatype _state)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_label);
  omc_DAEToMid_stateSetCurrentLabel(threadData, tmp1, _state);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_DAEToMid_stateGetCurrentLabel(threadData_t *threadData, modelica_metatype _state)
{
  modelica_integer _label;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _label has no default value.
  _label = mmc_unbox_integer(omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 7)))));
  _return: OMC_LABEL_UNUSED
  return _label;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEToMid_stateGetCurrentLabel(threadData_t *threadData, modelica_metatype _state)
{
  modelica_integer _label;
  modelica_metatype out_label;
  _label = omc_DAEToMid_stateGetCurrentLabel(threadData, _state);
  out_label = mmc_mk_icon(_label);
  return out_label;
}

PROTECTED_FUNCTION_STATIC void omc_DAEToMid_IfToMid(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _daestmtLst, modelica_metatype _else_, modelica_metatype _state)
{
  modelica_integer _labelBody;
  modelica_integer _labelElse;
  modelica_integer _labelNext;
  modelica_metatype _var1 = NULL;
  modelica_metatype _block_ = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta10;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _labelBody has no default value.
  // _labelElse has no default value.
  // _labelNext has no default value.
  // _var1 has no default value.
  // _block_ has no default value.
  _labelBody = omc_DAEToMid_GenBlockId(threadData);

  _labelElse = omc_DAEToMid_GenBlockId(threadData);

  _labelNext = omc_DAEToMid_GenBlockId(threadData);

  _var1 = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp, _state), _state);

  tmpMeta1 = mmc_mk_box4(4, &MidCode_Terminator_BRANCH__desc, _var1, mmc_mk_integer(_labelBody), mmc_mk_integer(_labelElse));
  omc_DAEToMid_stateTerminate(threadData, _labelBody, tmpMeta1, _state);

  omc_DAEToMid_StmtsToMid(threadData, _daestmtLst, _state);

  tmpMeta2 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelNext));
  omc_DAEToMid_stateTerminate(threadData, _labelElse, tmpMeta2, _state);

  { /* match expression */
    modelica_metatype tmp5_1;
    tmp5_1 = _else_;
    {
      modelica_metatype _subexp = NULL;
      modelica_metatype _subdaestmtLst = NULL;
      modelica_metatype _subelse = NULL;
      int tmp5;
      // _subexp has no default value.
      // _subdaestmtLst has no default value.
      // _subelse has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp5_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          goto tmp4_done;
        }
        case 4: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,1,3) == 0) goto tmp4_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 4));
          _subexp = tmpMeta6;
          _subdaestmtLst = tmpMeta7;
          _subelse = tmpMeta8;
          /* Pattern matching succeeded */
          omc_DAEToMid_IfToMid(threadData, _subexp, _subdaestmtLst, _subelse, _state);
          goto tmp4_done;
        }
        case 5: {
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,2,1) == 0) goto tmp4_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 2));
          _subdaestmtLst = tmpMeta9;
          /* Pattern matching succeeded */
          omc_DAEToMid_StmtsToMid(threadData, _subdaestmtLst, _state);
          goto tmp4_done;
        }
        }
        goto tmp4_end;
        tmp4_end: ;
      }
      goto goto_3;
      goto_3:;
      MMC_THROW_INTERNAL();
      goto tmp4_done;
      tmp4_done:;
    }
  }
  ;

  tmpMeta10 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelNext));
  omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta10, _state);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_DAEToMid_ForToMid(threadData_t *threadData, modelica_metatype _type_, modelica_string _iter, modelica_metatype _range, modelica_metatype _daestmtLst, modelica_metatype _state)
{
  modelica_metatype _varCref = NULL;
  modelica_metatype _varCondition = NULL;
  modelica_integer _labelCondition;
  modelica_integer _labelStep;
  modelica_integer _labelBody;
  modelica_integer _labelNext;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _varCref has no default value.
  // _varCondition has no default value.
  // _labelCondition has no default value.
  // _labelStep has no default value.
  // _labelBody has no default value.
  // _labelNext has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta2 = mmc_mk_box4(4, &DAE_ComponentRef_CREF__IDENT__desc, _iter, _type_, tmpMeta1);
  _varCref = omc_DAEToMid_CrefToMidVar(threadData, tmpMeta2, _state);

  omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 2))), _varCref);

  _labelCondition = omc_DAEToMid_GenBlockId(threadData);

  _labelStep = omc_DAEToMid_GenBlockId(threadData);

  _labelBody = omc_DAEToMid_GenBlockId(threadData);

  _labelNext = omc_DAEToMid_GenBlockId(threadData);

  tmpMeta3 = mmc_mk_cons(mmc_mk_integer(_labelStep), omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 8)))));
  omc_Mutable_update(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 8))), tmpMeta3);

  tmpMeta4 = mmc_mk_cons(mmc_mk_integer(_labelNext), omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 9)))));
  omc_Mutable_update(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 9))), tmpMeta4);

  _varCondition = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT6, _state);

  { /* match expression */
    modelica_metatype tmp7_1;
    tmp7_1 = _range;
    {
      modelica_metatype _start = NULL;
      modelica_metatype _step = NULL;
      modelica_metatype _stop = NULL;
      modelica_metatype _varRange = NULL;
      modelica_metatype _varFirst = NULL;
      modelica_metatype _varIter = NULL;
      modelica_metatype _varLast = NULL;
      modelica_metatype _varStep = NULL;
      modelica_integer _labelBody2;
      modelica_integer _labelCondition2;
      modelica_metatype _rvalueStep = NULL;
      volatile mmc_switch_type tmp7;
      int tmp8;
      // _start has no default value.
      // _step has no default value.
      // _stop has no default value.
      // _varRange has no default value.
      // _varFirst has no default value.
      // _varIter has no default value.
      // _varLast has no default value.
      // _varStep has no default value.
      // _labelBody2 has no default value.
      // _labelCondition2 has no default value.
      // _rvalueStep has no default value.
      tmp7 = 0;
      for (; tmp7 < 2; tmp7++) {
        switch (MMC_SWITCH_CAST(tmp7)) {
        case 0: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          if (mmc__uniontype__metarecord__typedef__equal(tmp7_1,18,4) == 0) goto tmp6_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 3));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 4));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 5));
          _start = tmpMeta9;
          _step = tmpMeta10;
          _stop = tmpMeta11;
          /* Pattern matching succeeded */
          _labelCondition2 = omc_DAEToMid_GenBlockId(threadData);

          _varFirst = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT25, _state);

          _varIter = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT25, _state);

          _varLast = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT25, _state);

          _varStep = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT25, _state);

          tmpMeta12 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varFirst, omc_DAEToMid_ExpToMid(threadData, _start, _state));
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta12, _state);

          tmpMeta13 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varIter, omc_DAEToMid_ExpToMid(threadData, _start, _state));
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta13, _state);

          tmpMeta14 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varLast, omc_DAEToMid_ExpToMid(threadData, _stop, _state));
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta14, _state);

          { /* match expression */
            modelica_metatype tmp18_1;
            tmp18_1 = _step;
            {
              modelica_metatype _stepexp = NULL;
              volatile mmc_switch_type tmp18;
              int tmp19;
              // _stepexp has no default value.
              tmp18 = 0;
              for (; tmp18 < 2; tmp18++) {
                switch (MMC_SWITCH_CAST(tmp18)) {
                case 0: {
                  if (!optionNone(tmp18_1)) goto tmp17_end;
                  /* Pattern matching succeeded */
                  tmpMeta15 = _OMC_LIT27;
                  goto tmp17_done;
                }
                case 1: {
                  modelica_metatype tmpMeta20;
                  if (optionNone(tmp18_1)) goto tmp17_end;
                  tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp18_1), 1));
                  _stepexp = tmpMeta20;
                  /* Pattern matching succeeded */
                  tmpMeta15 = omc_DAEToMid_ExpToMid(threadData, _stepexp, _state);
                  goto tmp17_done;
                }
                }
                goto tmp17_end;
                tmp17_end: ;
              }
              goto goto_16;
              goto_16:;
              goto goto_5;
              goto tmp17_done;
              tmp17_done:;
            }
          }
          _rvalueStep = tmpMeta15;

          tmpMeta21 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varStep, _rvalueStep);
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta21, _state);

          tmpMeta22 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelCondition));
          omc_DAEToMid_stateTerminate(threadData, _labelCondition, tmpMeta22, _state);

          tmpMeta23 = mmc_mk_cons(_varIter, mmc_mk_cons(_varFirst, mmc_mk_cons(_varLast, MMC_REFSTRUCTLIT(mmc_nil))));
          tmpMeta25 = mmc_mk_box2(3, &MidCode_OutVar_OUT__VAR__desc, _varCondition);
          tmpMeta24 = mmc_mk_cons(tmpMeta25, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta26 = mmc_mk_box6(5, &MidCode_Terminator_CALL__desc, _OMC_LIT36, mmc_mk_boolean(1 /* true */), tmpMeta23, tmpMeta24, mmc_mk_integer(_labelCondition2));
          omc_DAEToMid_stateTerminate(threadData, _labelCondition2, tmpMeta26, _state);

          tmpMeta27 = mmc_mk_box4(4, &MidCode_Terminator_BRANCH__desc, _varCondition, mmc_mk_integer(_labelBody), mmc_mk_integer(_labelNext));
          omc_DAEToMid_stateTerminate(threadData, _labelBody, tmpMeta27, _state);

          tmpMeta28 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _varIter);
          tmpMeta29 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varCref, tmpMeta28);
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta29, _state);

          omc_DAEToMid_StmtsToMid(threadData, _daestmtLst, _state);

          tmpMeta30 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelStep));
          omc_DAEToMid_stateTerminate(threadData, _labelStep, tmpMeta30, _state);

          tmpMeta31 = mmc_mk_box4(5, &MidCode_RValue_BINARYOP__desc, _OMC_LIT28, _varIter, _varStep);
          tmpMeta32 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varIter, tmpMeta31);
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta32, _state);

          tmpMeta33 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelCondition));
          omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta33, _state);
          goto tmp6_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _varRange = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _range, _state), _state);

          { /* match expression */
            modelica_metatype tmp36_1;
            tmp36_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varRange), 3)));
            {
              int tmp36;
              {
                switch (MMC_SWITCH_CAST(valueConstructor(tmp36_1))) {
                case 28: {
                  
                  /* Pattern matching succeeded */
                  omc_Error_addInternalError(threadData, _OMC_LIT37, _OMC_LIT38);
                  goto goto_34;
                  goto tmp35_done;
                }
                case 25: {
                  modelica_metatype tmpMeta37;
                  modelica_metatype tmpMeta38;
                  modelica_metatype tmpMeta39;
                  modelica_metatype tmpMeta40;
                  modelica_metatype tmpMeta41;
                  modelica_metatype tmpMeta42;
                  modelica_metatype tmpMeta43;
                  modelica_metatype tmpMeta44;
                  modelica_metatype tmpMeta45;
                  modelica_metatype tmpMeta46;
                  modelica_metatype tmpMeta47;
                  modelica_metatype tmpMeta48;
                  modelica_metatype tmpMeta49;
                  modelica_metatype tmpMeta50;
                  modelica_metatype tmpMeta51;
                  modelica_metatype tmpMeta52;
                  modelica_metatype tmpMeta53;
                  
                  /* Pattern matching succeeded */
                  _labelBody2 = omc_DAEToMid_GenBlockId(threadData);

                  _varIter = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT25, _state);

                  _varLast = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT25, _state);

                  _varStep = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT25, _state);

                  tmpMeta37 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varIter, _OMC_LIT27);
                  omc_DAEToMid_stateAddStmt(threadData, tmpMeta37, _state);

                  tmpMeta38 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varStep, _OMC_LIT27);
                  omc_DAEToMid_stateAddStmt(threadData, tmpMeta38, _state);

                  tmpMeta39 = mmc_mk_cons(_varRange, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta41 = mmc_mk_box2(3, &MidCode_OutVar_OUT__VAR__desc, _varLast);
                  tmpMeta40 = mmc_mk_cons(tmpMeta41, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta42 = mmc_mk_box6(5, &MidCode_Terminator_CALL__desc, _OMC_LIT40, mmc_mk_boolean(1 /* true */), tmpMeta39, tmpMeta40, mmc_mk_integer(_labelCondition));
                  omc_DAEToMid_stateTerminate(threadData, _labelCondition, tmpMeta42, _state);

                  tmpMeta43 = mmc_mk_box4(5, &MidCode_RValue_BINARYOP__desc, _OMC_LIT41, _varIter, _varLast);
                  tmpMeta44 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varCondition, tmpMeta43);
                  omc_DAEToMid_stateAddStmt(threadData, tmpMeta44, _state);

                  tmpMeta45 = mmc_mk_box4(4, &MidCode_Terminator_BRANCH__desc, _varCondition, mmc_mk_integer(_labelBody), mmc_mk_integer(_labelNext));
                  omc_DAEToMid_stateTerminate(threadData, _labelBody, tmpMeta45, _state);

                  tmpMeta46 = mmc_mk_cons(_varRange, mmc_mk_cons(_varIter, MMC_REFSTRUCTLIT(mmc_nil)));
                  tmpMeta48 = mmc_mk_box2(3, &MidCode_OutVar_OUT__VAR__desc, _varCref);
                  tmpMeta47 = mmc_mk_cons(tmpMeta48, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta49 = mmc_mk_box6(5, &MidCode_Terminator_CALL__desc, _OMC_LIT43, mmc_mk_boolean(1 /* true */), tmpMeta46, tmpMeta47, mmc_mk_integer(_labelBody2));
                  omc_DAEToMid_stateTerminate(threadData, _labelBody2, tmpMeta49, _state);

                  omc_DAEToMid_StmtsToMid(threadData, _daestmtLst, _state);

                  tmpMeta50 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelStep));
                  omc_DAEToMid_stateTerminate(threadData, _labelStep, tmpMeta50, _state);

                  tmpMeta51 = mmc_mk_box4(5, &MidCode_RValue_BINARYOP__desc, _OMC_LIT28, _varIter, _varStep);
                  tmpMeta52 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varIter, tmpMeta51);
                  omc_DAEToMid_stateAddStmt(threadData, tmpMeta52, _state);

                  tmpMeta53 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelCondition));
                  omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta53, _state);
                  goto tmp35_done;
                }
                case 20: {
                  modelica_metatype tmpMeta54;
                  modelica_metatype tmpMeta55;
                  modelica_metatype tmpMeta56;
                  modelica_metatype tmpMeta57;
                  modelica_metatype tmpMeta58;
                  modelica_metatype tmpMeta59;
                  modelica_metatype tmpMeta60;
                  modelica_metatype tmpMeta61;
                  modelica_metatype tmpMeta62;
                  modelica_metatype tmpMeta63;
                  modelica_metatype tmpMeta64;
                  modelica_metatype tmpMeta65;
                  modelica_metatype tmpMeta66;
                  
                  /* Pattern matching succeeded */
                  _labelBody2 = omc_DAEToMid_GenBlockId(threadData);

                  _varIter = _varRange;

                  tmpMeta54 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelCondition));
                  omc_DAEToMid_stateTerminate(threadData, _labelCondition, tmpMeta54, _state);

                  tmpMeta55 = mmc_mk_box2(13, &MidCode_RValue_ISCONS__desc, _varIter);
                  tmpMeta56 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varCondition, tmpMeta55);
                  omc_DAEToMid_stateAddStmt(threadData, tmpMeta56, _state);

                  tmpMeta57 = mmc_mk_box4(4, &MidCode_Terminator_BRANCH__desc, _varCondition, mmc_mk_integer(_labelBody), mmc_mk_integer(_labelNext));
                  omc_DAEToMid_stateTerminate(threadData, _labelBody, tmpMeta57, _state);

                  tmpMeta58 = mmc_mk_cons(_varIter, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta60 = mmc_mk_box2(3, &MidCode_OutVar_OUT__VAR__desc, _varCref);
                  tmpMeta59 = mmc_mk_cons(tmpMeta60, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta61 = mmc_mk_box6(5, &MidCode_Terminator_CALL__desc, _OMC_LIT45, mmc_mk_boolean(1 /* true */), tmpMeta58, tmpMeta59, mmc_mk_integer(_labelBody2));
                  omc_DAEToMid_stateTerminate(threadData, _labelBody2, tmpMeta61, _state);

                  omc_DAEToMid_StmtsToMid(threadData, _daestmtLst, _state);

                  tmpMeta62 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelStep));
                  omc_DAEToMid_stateTerminate(threadData, _labelStep, tmpMeta62, _state);

                  tmpMeta63 = mmc_mk_cons(_varIter, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta65 = mmc_mk_box2(3, &MidCode_OutVar_OUT__VAR__desc, _varIter);
                  tmpMeta64 = mmc_mk_cons(tmpMeta65, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta66 = mmc_mk_box6(5, &MidCode_Terminator_CALL__desc, _OMC_LIT47, mmc_mk_boolean(1 /* true */), tmpMeta63, tmpMeta64, mmc_mk_integer(_labelCondition));
                  omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta66, _state);
                  goto tmp35_done;
                }
                default:
                tmp35_default: OMC_LABEL_UNUSED; {
                  modelica_metatype tmpMeta67;
                  modelica_metatype tmpMeta68;
                  
                  /* Pattern matching succeeded */
                  tmpMeta67 = stringAppend(_OMC_LIT48,omc_DAEDump_daeTypeStr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varRange), 3)))));
                  tmpMeta68 = stringAppend(tmpMeta67,_OMC_LIT31);
                  omc_Error_addInternalError(threadData, tmpMeta68, _OMC_LIT49);
                  goto goto_34;
                  goto tmp35_done;
                }
                }
                goto tmp35_end;
                tmp35_end: ;
              }
              goto goto_34;
              goto_34:;
              goto goto_5;
              goto tmp35_done;
              tmp35_done:;
            }
          }
          ;
          goto tmp6_done;
        }
        }
        goto tmp6_end;
        tmp6_end: ;
      }
      goto goto_5;
      goto_5:;
      MMC_THROW_INTERNAL();
      goto tmp6_done;
      tmp6_done:;
    }
  }
  ;

  omc_Mutable_update(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 8))), listRest(omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 8))))));

  omc_Mutable_update(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 9))), listRest(omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 9))))));
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_DAEToMid_CallToMid(threadData_t *threadData, modelica_metatype _call, modelica_metatype _outvars, modelica_metatype _state)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _call;
    {
      modelica_metatype _path = NULL;
      modelica_metatype _expLst = NULL;
      modelica_metatype _callattr = NULL;
      modelica_integer _labelNext;
      modelica_metatype _inputs = NULL;
      modelica_metatype _var1 = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _path has no default value.
      // _expLst has no default value.
      // _callattr has no default value.
      // _labelNext has no default value.
      // _inputs has no default value.
      // _var1 has no default value.
      tmp3 = 0;
      for (; tmp3 < 1; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,13,3) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
          _path = tmpMeta5;
          _expLst = tmpMeta6;
          _callattr = tmpMeta7;
          /* Pattern matching succeeded */
          _labelNext = omc_DAEToMid_GenBlockId(threadData);

          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          _inputs = omc_DoubleEnded_fromList(threadData, tmpMeta8);

          {
            modelica_metatype _exp1;
            for (tmpMeta9 = _expLst; !listEmpty(tmpMeta9); tmpMeta9=MMC_CDR(tmpMeta9))
            {
              _exp1 = MMC_CAR(tmpMeta9);
              _var1 = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp1, _state), _state);

              omc_DoubleEnded_push__back(threadData, _inputs, _var1);
            }
          }

          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta12 = mmc_mk_box6(5, &MidCode_Terminator_CALL__desc, _path, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_callattr), 4))), omc_DoubleEnded_toListAndClear(threadData, _inputs, tmpMeta11), _outvars, mmc_mk_integer(_labelNext));
          omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta12, _state);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_ExpToMid(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _state)
{
  modelica_metatype _rval = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _rval has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _exp;
    {
      modelica_metatype _varExp = NULL;
      modelica_metatype _varExp2 = NULL;
      modelica_metatype _varCref = NULL;
      modelica_metatype _varCar = NULL;
      modelica_metatype _varCdr = NULL;
      modelica_metatype _varTmp = NULL;
      modelica_metatype _binop = NULL;
      modelica_metatype _unop = NULL;
      modelica_metatype _exp1 = NULL;
      modelica_metatype _exp2 = NULL;
      modelica_metatype _exp3 = NULL;
      modelica_metatype _operator = NULL;
      modelica_metatype _ty = NULL;
      modelica_metatype _cref = NULL;
      modelica_integer _labelBody;
      modelica_integer _labelElse;
      modelica_integer _labelNext;
      modelica_integer _numTailTypes;
      modelica_metatype _terminator = NULL;
      modelica_metatype _expLst = NULL;
      modelica_metatype _values = NULL;
      modelica_metatype _outvars = NULL;
      modelica_metatype _callattrs = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _varExp has no default value.
      // _varExp2 has no default value.
      // _varCref has no default value.
      // _varCar has no default value.
      // _varCdr has no default value.
      // _varTmp has no default value.
      // _binop has no default value.
      // _unop has no default value.
      // _exp1 has no default value.
      // _exp2 has no default value.
      // _exp3 has no default value.
      // _operator has no default value.
      // _ty has no default value.
      // _cref has no default value.
      // _labelBody has no default value.
      // _labelElse has no default value.
      // _labelNext has no default value.
      // _numTailTypes has no default value.
      // _terminator has no default value.
      // _expLst has no default value.
      // _values has no default value.
      // _outvars has no default value.
      // _callattrs has no default value.
      tmp4 = 0;
      for (; tmp4 < 29; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box2(6, &MidCode_RValue_LITERALINTEGER__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 2))));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box2(6, &MidCode_RValue_LITERALINTEGER__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3))));
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_box2(7, &MidCode_RValue_LITERALREAL__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 2))));
          tmpMeta1 = tmpMeta8;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_box2(9, &MidCode_RValue_LITERALSTRING__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 2))));
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        case 4: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,36,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _exp = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,34,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 2))), _state), _state);
          tmpMeta10 = mmc_mk_box3(4, &MidCode_RValue_UNARYOP__desc, _OMC_LIT50, _varExp);
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,35,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 2))), _state), _state);
          tmpMeta11 = mmc_mk_box3(4, &MidCode_RValue_UNARYOP__desc, _OMC_LIT0, _varExp);
          tmpMeta1 = tmpMeta11;
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta12 = mmc_mk_box2(8, &MidCode_RValue_LITERALBOOLEAN__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 2))));
          tmpMeta1 = tmpMeta12;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,31,1) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (optionNone(tmpMeta13)) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 1));
          _exp1 = tmpMeta14;
          /* Pattern matching succeeded */
          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp1, _state), _state);
          tmpMeta15 = mmc_mk_cons(_varExp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta16 = mmc_mk_box2(22, &DAE_Type_T__METAOPTION__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varExp), 3))));
          tmpMeta17 = mmc_mk_box3(10, &MidCode_RValue_LITERALMETATYPE__desc, tmpMeta15, omc_Types_complicateType(threadData, tmpMeta16));
          tmpMeta1 = tmpMeta17;
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,31,1) == 0) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (!optionNone(tmpMeta18)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta20 = mmc_mk_box3(10, &MidCode_RValue_LITERALMETATYPE__desc, tmpMeta19, omc_Types_complicateType(threadData, _OMC_LIT52));
          tmpMeta1 = tmpMeta20;
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,30,1) == 0) goto tmp3_end;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          _expLst = tmpMeta21;
          /* Pattern matching succeeded */
          tmpMeta22 = MMC_REFSTRUCTLIT(mmc_nil);
          _values = omc_DoubleEnded_fromList(threadData, tmpMeta22);

          {
            modelica_metatype _exp;
            for (tmpMeta23 = _expLst; !listEmpty(tmpMeta23); tmpMeta23=MMC_CDR(tmpMeta23))
            {
              _exp = MMC_CAR(tmpMeta23);
              _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp, _state), _state);

              omc_DoubleEnded_push__back(threadData, _values, _varExp);
            }
          }
          tmpMeta25 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta26 = mmc_mk_box3(10, &MidCode_RValue_LITERALMETATYPE__desc, omc_DoubleEnded_toListAndClear(threadData, _values, tmpMeta25), omc_Types_complicateType(threadData, omc_Expression_typeof(threadData, _exp)));
          tmpMeta1 = tmpMeta26;
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,32,5) == 0) goto tmp3_end;
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _expLst = tmpMeta27;
          /* Pattern matching succeeded */
          tmpMeta28 = MMC_REFSTRUCTLIT(mmc_nil);
          _values = omc_DoubleEnded_fromList(threadData, tmpMeta28);

          {
            modelica_metatype _exp;
            for (tmpMeta29 = _expLst; !listEmpty(tmpMeta29); tmpMeta29=MMC_CDR(tmpMeta29))
            {
              _exp = MMC_CAR(tmpMeta29);
              _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp, _state), _state);

              omc_DoubleEnded_push__back(threadData, _values, _varExp);
            }
          }
          tmpMeta31 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta32 = mmc_mk_box3(10, &MidCode_RValue_LITERALMETATYPE__desc, omc_DoubleEnded_toListAndClear(threadData, _values, tmpMeta31), omc_Types_complicateType(threadData, omc_Expression_typeof(threadData, _exp)));
          tmpMeta1 = tmpMeta32;
          goto tmp3_done;
        }
        case 12: {
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,29,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _varCar = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 2))), _state), _state);

          _varCdr = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3))), _state), _state);
          tmpMeta33 = mmc_mk_cons(_varCar, mmc_mk_cons(_varCdr, MMC_REFSTRUCTLIT(mmc_nil)));
          tmpMeta34 = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varCar), 3))));
          tmpMeta35 = mmc_mk_box3(10, &MidCode_RValue_LITERALMETATYPE__desc, tmpMeta33, omc_Types_complicateType(threadData, tmpMeta34));
          tmpMeta1 = tmpMeta35;
          goto tmp3_done;
        }
        case 13: {
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,28,1) == 0) goto tmp3_end;
          tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          _expLst = tmpMeta36;
          /* Pattern matching succeeded */
          _expLst = listReverse(_expLst);

          _varCdr = omc_DAEToMid_GenTmpVar(threadData, _OMC_LIT53, _state);

          tmpMeta37 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varCdr, _OMC_LIT54);
          omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 6))), tmpMeta37);

          {
            modelica_metatype _exp;
            for (tmpMeta38 = _expLst; !listEmpty(tmpMeta38); tmpMeta38=MMC_CDR(tmpMeta38))
            {
              _exp = MMC_CAR(tmpMeta38);
              _varCar = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp, _state), _state);

              tmpMeta39 = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, omc_Types_complicateType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varCar), 3)))));
              _varTmp = omc_DAEToMid_GenTmpVar(threadData, tmpMeta39, _state);

              tmpMeta40 = mmc_mk_cons(_varCar, mmc_mk_cons(_varCdr, MMC_REFSTRUCTLIT(mmc_nil)));
              tmpMeta41 = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varCar), 3))));
              tmpMeta42 = mmc_mk_box3(10, &MidCode_RValue_LITERALMETATYPE__desc, tmpMeta40, omc_Types_complicateType(threadData, tmpMeta41));
              tmpMeta43 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varTmp, tmpMeta42);
              omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 6))), tmpMeta43);

              _varCdr = _varTmp;
            }
          }
          tmpMeta45 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _varCdr);
          tmpMeta1 = tmpMeta45;
          goto tmp3_done;
        }
        case 14: {
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta46 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cref = tmpMeta46;
          /* Pattern matching succeeded */
          _varCref = omc_DAEToMid_CrefToMidVar(threadData, _cref, _state);
          { /* match expression */
            modelica_metatype tmp50_1;
            tmp50_1 = omc_DAEToMid_GetCrefIndexVar(threadData, _cref, _state);
            {
              modelica_metatype _indexvar = NULL;
              volatile mmc_switch_type tmp50;
              int tmp51;
              // _indexvar has no default value.
              tmp50 = 0;
              for (; tmp50 < 2; tmp50++) {
                switch (MMC_SWITCH_CAST(tmp50)) {
                case 0: {
                  modelica_metatype tmpMeta52;
                  if (!optionNone(tmp50_1)) goto tmp49_end;
                  /* Pattern matching succeeded */
                  tmpMeta52 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _varCref);
                  tmpMeta47 = tmpMeta52;
                  goto tmp49_done;
                }
                case 1: {
                  modelica_metatype tmpMeta53;
                  modelica_metatype tmpMeta54;
                  modelica_metatype tmpMeta55;
                  modelica_metatype tmpMeta56;
                  modelica_metatype tmpMeta57;
                  modelica_metatype tmpMeta58;
                  if (optionNone(tmp50_1)) goto tmp49_end;
                  tmpMeta53 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp50_1), 1));
                  _indexvar = tmpMeta53;
                  /* Pattern matching succeeded */
                  _labelNext = omc_DAEToMid_GenBlockId(threadData);

                  _varTmp = omc_DAEToMid_GenTmpVar(threadData, omc_Types_complicateType(threadData, omc_Expression_typeof(threadData, _exp)), _state);

                  tmpMeta54 = mmc_mk_cons(_varCref, mmc_mk_cons(_indexvar, MMC_REFSTRUCTLIT(mmc_nil)));
                  tmpMeta56 = mmc_mk_box2(3, &MidCode_OutVar_OUT__VAR__desc, _varTmp);
                  tmpMeta55 = mmc_mk_cons(tmpMeta56, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta57 = mmc_mk_box6(5, &MidCode_Terminator_CALL__desc, _OMC_LIT43, mmc_mk_boolean(1 /* true */), tmpMeta54, tmpMeta55, mmc_mk_integer(_labelNext));
                  omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta57, _state);
                  tmpMeta58 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _varTmp);
                  tmpMeta47 = tmpMeta58;
                  goto tmp49_done;
                }
                }
                goto tmp49_end;
                tmp49_end: ;
              }
              goto goto_48;
              goto_48:;
              goto goto_2;
              goto tmp49_done;
              tmp49_done:;
            }
          }tmpMeta1 = tmpMeta47;
          goto tmp3_done;
        }
        case 15: {
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta68;
          modelica_metatype tmpMeta69;
          modelica_metatype tmpMeta70;
          modelica_metatype tmpMeta71;
          modelica_metatype tmpMeta72;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,2) == 0) goto tmp3_end;
          tmpMeta59 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta60 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _exp1 = tmpMeta59;
          _expLst = tmpMeta60;
          /* Pattern matching succeeded */
          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp1, _state), _state);

          { /* match expression */
            modelica_metatype tmp64_1;
            tmp64_1 = _expLst;
            {
              modelica_metatype _indexexp = NULL;
              volatile mmc_switch_type tmp64;
              int tmp65;
              // _indexexp has no default value.
              tmp64 = 0;
              for (; tmp64 < 1; tmp64++) {
                switch (MMC_SWITCH_CAST(tmp64)) {
                case 0: {
                  modelica_metatype tmpMeta66;
                  modelica_metatype tmpMeta67;
                  if (listEmpty(tmp64_1)) goto tmp63_end;
                  tmpMeta66 = MMC_CAR(tmp64_1);
                  tmpMeta67 = MMC_CDR(tmp64_1);
                  if (!listEmpty(tmpMeta67)) goto tmp63_end;
                  _indexexp = tmpMeta66;
                  /* Pattern matching succeeded */
                  tmpMeta61 = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _indexexp, _state), _state);
                  goto tmp63_done;
                }
                }
                goto tmp63_end;
                tmp63_end: ;
              }
              goto goto_62;
              goto_62:;
              goto goto_2;
              goto tmp63_done;
              tmp63_done:;
            }
          }
          _varExp2 = tmpMeta61;

          _varTmp = omc_DAEToMid_GenTmpVar(threadData, omc_Types_complicateType(threadData, omc_Expression_typeof(threadData, _exp)), _state);

          _labelNext = omc_DAEToMid_GenBlockId(threadData);

          tmpMeta68 = mmc_mk_cons(_varExp, mmc_mk_cons(_varExp2, MMC_REFSTRUCTLIT(mmc_nil)));
          tmpMeta70 = mmc_mk_box2(3, &MidCode_OutVar_OUT__VAR__desc, _varTmp);
          tmpMeta69 = mmc_mk_cons(tmpMeta70, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta71 = mmc_mk_box6(5, &MidCode_Terminator_CALL__desc, _OMC_LIT43, mmc_mk_boolean(1 /* true */), tmpMeta68, tmpMeta69, mmc_mk_integer(_labelNext));
          omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta71, _state);
          tmpMeta72 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _varTmp);
          tmpMeta1 = tmpMeta72;
          goto tmp3_done;
        }
        case 16: {
          modelica_metatype tmpMeta73;
          modelica_metatype tmpMeta74;
          modelica_metatype tmpMeta75;
          modelica_integer tmp76;
          modelica_integer tmp77_c1 __attribute__((unused)) = 0;
          modelica_metatype tmpMeta85;
          modelica_metatype tmpMeta86;
          modelica_integer tmp87;
          modelica_integer tmp88;
          modelica_integer tmp89;
          modelica_metatype tmpMeta90;
          modelica_metatype tmpMeta91;
          modelica_metatype tmpMeta92;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,22,3) == 0) goto tmp3_end;
          tmpMeta73 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta73,13,3) == 0) goto tmp3_end;
          tmpMeta74 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta73), 4));
          tmpMeta75 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmp76 = mmc_unbox_integer(tmpMeta75);
          if (1 != tmp76) goto tmp3_end;
          
          _exp1 = tmpMeta73;
          _callattrs = tmpMeta74;
          /* Pattern matching succeeded */
          
          
          { /* match expression */
            modelica_metatype tmp80_1;
            tmp80_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_callattrs), 2)));
            {
              modelica_metatype _actualType = NULL;
              modelica_metatype _tailTypes = NULL;
              volatile mmc_switch_type tmp80;
              int tmp81;
              // _actualType has no default value.
              // _tailTypes has no default value.
              tmp80 = 0;
              for (; tmp80 < 1; tmp80++) {
                switch (MMC_SWITCH_CAST(tmp80)) {
                case 0: {
                  modelica_metatype tmpMeta82;
                  modelica_metatype tmpMeta83;
                  modelica_metatype tmpMeta84;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp80_1,14,2) == 0) goto tmp79_end;
                  tmpMeta82 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp80_1), 2));
                  if (listEmpty(tmpMeta82)) goto tmp79_end;
                  tmpMeta83 = MMC_CAR(tmpMeta82);
                  tmpMeta84 = MMC_CDR(tmpMeta82);
                  
                  _actualType = tmpMeta83;
                  _tailTypes = tmpMeta84;
                  /* Pattern matching succeeded */
                  tmpMeta[0+0] = _actualType;
                  tmp77_c1 = listLength(_tailTypes);
                  goto tmp79_done;
                }
                }
                goto tmp79_end;
                tmp79_end: ;
              }
              goto goto_78;
              goto_78:;
              goto goto_2;
              goto tmp79_done;
              tmp79_done:;
            }
          }
          _ty = tmpMeta[0+0];
          _numTailTypes = tmp77_c1;

          _varTmp = omc_DAEToMid_GenTmpVar(threadData, omc_Types_complicateType(threadData, _ty), _state);

          tmpMeta85 = MMC_REFSTRUCTLIT(mmc_nil);
          _outvars = tmpMeta85;

          tmp87 = ((modelica_integer) 1); tmp88 = 1; tmp89 = _numTailTypes;
          if(!(((tmp88 > 0) && (tmp87 > tmp89)) || ((tmp88 < 0) && (tmp87 < tmp89))))
          {
            modelica_integer _i;
            for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp87, tmp89); _i += tmp88)
            {
              tmpMeta86 = mmc_mk_cons(_OMC_LIT55, _outvars);
              _outvars = tmpMeta86;
            }
          }

          tmpMeta91 = mmc_mk_box2(3, &MidCode_OutVar_OUT__VAR__desc, _varTmp);
          tmpMeta90 = mmc_mk_cons(tmpMeta91, _outvars);
          _outvars = tmpMeta90;

          omc_DAEToMid_CallToMid(threadData, _exp1, _outvars, _state);
          tmpMeta92 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _varTmp);
          tmpMeta1 = tmpMeta92;
          goto tmp3_done;
        }
        case 17: {
          modelica_metatype tmpMeta93;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,22,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 2))), _state), _state);
          tmpMeta93 = mmc_mk_box4(14, &MidCode_RValue_METAFIELD__desc, _varExp, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3))), omc_Types_complicateType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 4)))));
          tmpMeta1 = tmpMeta93;
          goto tmp3_done;
        }
        case 18: {
          modelica_metatype tmpMeta94;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,23,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 2))), _state), _state);
          tmpMeta94 = mmc_mk_box4(14, &MidCode_RValue_METAFIELD__desc, _varExp, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3))), omc_Types_complicateType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 5)))));
          tmpMeta1 = tmpMeta94;
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta95;
          modelica_metatype tmpMeta96;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,20,2) == 0) goto tmp3_end;
          tmpMeta95 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _exp1 = tmpMeta95;
          /* Pattern matching succeeded */
          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp1, _state), _state);
          tmpMeta96 = mmc_mk_box3(4, &MidCode_RValue_UNARYOP__desc, _OMC_LIT56, _varExp);
          tmpMeta1 = tmpMeta96;
          goto tmp3_done;
        }
        case 20: {
          modelica_metatype tmpMeta97;
          modelica_metatype tmpMeta98;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,2) == 0) goto tmp3_end;
          tmpMeta97 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _exp1 = tmpMeta97;
          /* Pattern matching succeeded */
          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp1, _state), _state);
          tmpMeta98 = mmc_mk_box3(4, &MidCode_RValue_UNARYOP__desc, _OMC_LIT57, _varExp);
          tmpMeta1 = tmpMeta98;
          goto tmp3_done;
        }
        case 21: {
          modelica_metatype tmpMeta99;
          modelica_metatype tmpMeta100;
          modelica_metatype tmpMeta101;
          modelica_metatype tmpMeta102;
          modelica_metatype tmpMeta107;
          modelica_metatype tmpMeta114;
          modelica_metatype tmpMeta115;
          modelica_metatype tmpMeta116;
          modelica_metatype tmpMeta117;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
          tmpMeta99 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta100 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta101 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _exp1 = tmpMeta99;
          _operator = tmpMeta100;
          _exp2 = tmpMeta101;
          /* Pattern matching succeeded */
          _labelElse = omc_DAEToMid_GenBlockId(threadData);

          _labelNext = omc_DAEToMid_GenBlockId(threadData);

          { /* match expression */
            modelica_metatype tmp105_1;
            tmp105_1 = _operator;
            {
              volatile mmc_switch_type tmp105;
              int tmp106;
              tmp105 = 0;
              for (; tmp105 < 2; tmp105++) {
                switch (MMC_SWITCH_CAST(tmp105)) {
                case 0: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp105_1,22,1) == 0) goto tmp104_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta102 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_operator), 2)));
                  goto tmp104_done;
                }
                case 1: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp105_1,23,1) == 0) goto tmp104_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta102 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_operator), 2)));
                  goto tmp104_done;
                }
                }
                goto tmp104_end;
                tmp104_end: ;
              }
              goto goto_103;
              goto_103:;
              goto goto_2;
              goto tmp104_done;
              tmp104_done:;
            }
          }
          _ty = tmpMeta102;

          _varTmp = omc_DAEToMid_GenTmpVar(threadData, _ty, _state);

          { /* match expression */
            modelica_metatype tmp110_1;
            tmp110_1 = _operator;
            {
              volatile mmc_switch_type tmp110;
              int tmp111;
              tmp110 = 0;
              for (; tmp110 < 2; tmp110++) {
                switch (MMC_SWITCH_CAST(tmp110)) {
                case 0: {
                  modelica_metatype tmpMeta112;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp110_1,22,1) == 0) goto tmp109_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta112 = mmc_mk_box4(4, &MidCode_Terminator_BRANCH__desc, _varTmp, mmc_mk_integer(_labelElse), mmc_mk_integer(_labelNext));
                  tmpMeta107 = tmpMeta112;
                  goto tmp109_done;
                }
                case 1: {
                  modelica_metatype tmpMeta113;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp110_1,23,1) == 0) goto tmp109_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta113 = mmc_mk_box4(4, &MidCode_Terminator_BRANCH__desc, _varTmp, mmc_mk_integer(_labelNext), mmc_mk_integer(_labelElse));
                  tmpMeta107 = tmpMeta113;
                  goto tmp109_done;
                }
                }
                goto tmp109_end;
                tmp109_end: ;
              }
              goto goto_108;
              goto_108:;
              goto goto_2;
              goto tmp109_done;
              tmp109_done:;
            }
          }
          _terminator = tmpMeta107;

          tmpMeta114 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varTmp, omc_DAEToMid_ExpToMid(threadData, _exp1, _state));
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta114, _state);

          omc_DAEToMid_stateTerminate(threadData, _labelElse, _terminator, _state);

          tmpMeta115 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varTmp, omc_DAEToMid_ExpToMid(threadData, _exp2, _state));
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta115, _state);

          tmpMeta116 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelNext));
          omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta116, _state);
          tmpMeta117 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _varTmp);
          tmpMeta1 = tmpMeta117;
          goto tmp3_done;
        }
        case 22: {
          modelica_metatype tmpMeta118;
          modelica_metatype tmpMeta119;
          modelica_metatype tmpMeta120;
          modelica_metatype tmpMeta125;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,2) == 0) goto tmp3_end;
          tmpMeta118 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta119 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _operator = tmpMeta118;
          _exp1 = tmpMeta119;
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp123_1;
            tmp123_1 = _operator;
            {
              volatile mmc_switch_type tmp123;
              int tmp124;
              tmp123 = 0;
              for (; tmp123 < 1; tmp123++) {
                switch (MMC_SWITCH_CAST(tmp123)) {
                case 0: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp123_1,5,1) == 0) goto tmp122_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta120 = _OMC_LIT58;
                  goto tmp122_done;
                }
                }
                goto tmp122_end;
                tmp122_end: ;
              }
              goto goto_121;
              goto_121:;
              goto goto_2;
              goto tmp122_done;
              tmp122_done:;
            }
          }
          _unop = tmpMeta120;

          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp1, _state), _state);
          tmpMeta125 = mmc_mk_box3(4, &MidCode_RValue_UNARYOP__desc, _unop, _varExp);
          tmpMeta1 = tmpMeta125;
          goto tmp3_done;
        }
        case 23: {
          modelica_metatype tmpMeta126;
          modelica_metatype tmpMeta127;
          modelica_metatype tmpMeta128;
          modelica_metatype tmpMeta129;
          modelica_metatype tmpMeta133;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,3) == 0) goto tmp3_end;
          tmpMeta126 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta127 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta128 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _exp1 = tmpMeta126;
          _operator = tmpMeta127;
          _exp2 = tmpMeta128;
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp132_1;
            tmp132_1 = _operator;
            {
              int tmp132;
              {
                switch (MMC_SWITCH_CAST(valueConstructor(tmp132_1))) {
                case 3: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta129 = _OMC_LIT28;
                  goto tmp131_done;
                }
                case 4: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta129 = _OMC_LIT59;
                  goto tmp131_done;
                }
                case 5: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta129 = _OMC_LIT60;
                  goto tmp131_done;
                }
                case 6: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta129 = _OMC_LIT61;
                  goto tmp131_done;
                }
                case 7: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta129 = _OMC_LIT62;
                  goto tmp131_done;
                }
                }
                goto tmp131_end;
                tmp131_end: ;
              }
              goto goto_130;
              goto_130:;
              goto goto_2;
              goto tmp131_done;
              tmp131_done:;
            }
          }
          _binop = tmpMeta129;

          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp1, _state), _state);

          _varExp2 = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp2, _state), _state);
          tmpMeta133 = mmc_mk_box4(5, &MidCode_RValue_BINARYOP__desc, _binop, _varExp, _varExp2);
          tmpMeta1 = tmpMeta133;
          goto tmp3_done;
        }
        case 24: {
          modelica_metatype tmpMeta134;
          modelica_metatype tmpMeta135;
          modelica_metatype tmpMeta136;
          modelica_metatype tmpMeta137;
          modelica_metatype tmpMeta141;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,5) == 0) goto tmp3_end;
          tmpMeta134 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta135 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta136 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _exp1 = tmpMeta134;
          _operator = tmpMeta135;
          _exp2 = tmpMeta136;
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp140_1;
            tmp140_1 = _operator;
            {
              int tmp140;
              {
                switch (MMC_SWITCH_CAST(valueConstructor(tmp140_1))) {
                case 28: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta137 = _OMC_LIT63;
                  goto tmp139_done;
                }
                case 29: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta137 = _OMC_LIT41;
                  goto tmp139_done;
                }
                case 30: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta137 = _OMC_LIT64;
                  goto tmp139_done;
                }
                case 31: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta137 = _OMC_LIT65;
                  goto tmp139_done;
                }
                case 32: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta137 = _OMC_LIT7;
                  goto tmp139_done;
                }
                case 33: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta137 = _OMC_LIT66;
                  goto tmp139_done;
                }
                }
                goto tmp139_end;
                tmp139_end: ;
              }
              goto goto_138;
              goto_138:;
              goto goto_2;
              goto tmp139_done;
              tmp139_done:;
            }
          }
          _binop = tmpMeta137;

          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp1, _state), _state);

          _varExp2 = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp2, _state), _state);
          tmpMeta141 = mmc_mk_box4(5, &MidCode_RValue_BINARYOP__desc, _binop, _varExp, _varExp2);
          tmpMeta1 = tmpMeta141;
          goto tmp3_done;
        }
        case 25: {
          modelica_metatype tmpMeta142;
          modelica_metatype tmpMeta143;
          modelica_metatype tmpMeta144;
          modelica_metatype tmpMeta145;
          modelica_metatype tmpMeta146;
          modelica_metatype tmpMeta147;
          modelica_metatype tmpMeta148;
          modelica_metatype tmpMeta149;
          modelica_metatype tmpMeta150;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,3) == 0) goto tmp3_end;
          tmpMeta142 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta143 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta144 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _exp1 = tmpMeta142;
          _exp2 = tmpMeta143;
          _exp3 = tmpMeta144;
          /* Pattern matching succeeded */
          _labelBody = omc_DAEToMid_GenBlockId(threadData);

          _labelElse = omc_DAEToMid_GenBlockId(threadData);

          _labelNext = omc_DAEToMid_GenBlockId(threadData);

          _varExp = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp1, _state), _state);

          _varTmp = omc_DAEToMid_GenTmpVar(threadData, omc_Types_complicateType(threadData, omc_Expression_typeof(threadData, _exp2)), _state);

          tmpMeta145 = mmc_mk_box4(4, &MidCode_Terminator_BRANCH__desc, _varExp, mmc_mk_integer(_labelBody), mmc_mk_integer(_labelElse));
          omc_DAEToMid_stateTerminate(threadData, _labelBody, tmpMeta145, _state);

          tmpMeta146 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varTmp, omc_DAEToMid_ExpToMid(threadData, _exp2, _state));
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta146, _state);

          tmpMeta147 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelNext));
          omc_DAEToMid_stateTerminate(threadData, _labelElse, tmpMeta147, _state);

          tmpMeta148 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varTmp, omc_DAEToMid_ExpToMid(threadData, _exp3, _state));
          omc_DAEToMid_stateAddStmt(threadData, tmpMeta148, _state);

          tmpMeta149 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelNext));
          omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta149, _state);
          tmpMeta150 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _varTmp);
          tmpMeta1 = tmpMeta150;
          goto tmp3_done;
        }
        case 26: {
          modelica_metatype tmpMeta151;
          modelica_metatype tmpMeta152;
          modelica_metatype tmpMeta153;
          modelica_metatype tmpMeta154;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta151 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _callattrs = tmpMeta151;
          /* Pattern matching succeeded */
          _varTmp = omc_DAEToMid_GenTmpVar(threadData, omc_Types_complicateType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_callattrs), 2)))), _state);

          tmpMeta153 = mmc_mk_box2(3, &MidCode_OutVar_OUT__VAR__desc, _varTmp);
          tmpMeta152 = mmc_mk_cons(tmpMeta153, MMC_REFSTRUCTLIT(mmc_nil));
          omc_DAEToMid_CallToMid(threadData, _exp, tmpMeta152, _state);
          tmpMeta154 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _varTmp);
          tmpMeta1 = tmpMeta154;
          goto tmp3_done;
        }
        case 27: {
          modelica_metatype tmpMeta155;
          modelica_metatype tmpMeta160;
          modelica_metatype tmpMeta161;
          modelica_metatype tmpMeta162;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,33,6) == 0) goto tmp3_end;
          tmpMeta155 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          _ty = tmpMeta155;
          /* Pattern matching succeeded */
          _varTmp = omc_DAEToMid_GenTmpVar(threadData, omc_Types_complicateType(threadData, _ty), _state);

          { /* match expression */
            modelica_metatype tmp158_1;
            tmp158_1 = omc_Types_complicateType(threadData, _ty);
            {
              volatile mmc_switch_type tmp158;
              int tmp159;
              tmp158 = 0;
              for (; tmp158 < 2; tmp158++) {
                switch (MMC_SWITCH_CAST(tmp158)) {
                case 0: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp158_1,14,2) == 0) goto tmp157_end;
                  
                  /* Pattern matching succeeded */
                  omc_Error_addInternalError(threadData, _OMC_LIT67, _OMC_LIT68);
                  goto goto_156;
                  goto tmp157_done;
                }
                case 1: {
                  
                  /* Pattern matching succeeded */
                  goto tmp157_done;
                }
                }
                goto tmp157_end;
                tmp157_end: ;
              }
              goto goto_156;
              goto_156:;
              goto goto_2;
              goto tmp157_done;
              tmp157_done:;
            }
          }
          ;

          tmpMeta161 = mmc_mk_box2(3, &MidCode_OutVar_OUT__VAR__desc, _varTmp);
          tmpMeta160 = mmc_mk_cons(tmpMeta161, MMC_REFSTRUCTLIT(mmc_nil));
          omc_DAEToMid_MatchExpressionToMid(threadData, _exp, tmpMeta160, _state);
          tmpMeta162 = mmc_mk_box2(3, &MidCode_RValue_VARIABLE__desc, _varTmp);
          tmpMeta1 = tmpMeta162;
          goto tmp3_done;
        }
        case 28: {
          modelica_metatype tmpMeta163;
          modelica_metatype tmpMeta164;
          
          /* Pattern matching succeeded */
          tmpMeta163 = stringAppend(_OMC_LIT69,omc_ExpressionDump_dumpExpStr(threadData, _exp, ((modelica_integer) 0)));
          tmpMeta164 = stringAppend(tmpMeta163,_OMC_LIT31);
          omc_Error_addInternalError(threadData, tmpMeta164, _OMC_LIT70);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _rval = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _rval;
}

PROTECTED_FUNCTION_STATIC void omc_DAEToMid_StmtsToMid(threadData_t *threadData, modelica_metatype _daestmts, modelica_metatype _state)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _daestmts;
    {
      modelica_metatype _stmt = NULL;
      modelica_metatype _tail = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _stmt has no default value.
      // _tail has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          _stmt = tmpMeta5;
          _tail = tmpMeta6;
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp9_1;
            tmp9_1 = _stmt;
            {
              modelica_metatype _exp1 = NULL;
              modelica_metatype _exp = NULL;
              modelica_metatype _cref = NULL;
              modelica_metatype _pattern = NULL;
              modelica_metatype _expLst = NULL;
              modelica_metatype _varCref = NULL;
              modelica_metatype _varArray = NULL;
              modelica_metatype _varIndex = NULL;
              modelica_metatype _varValue = NULL;
              modelica_metatype _varCondition = NULL;
              modelica_metatype _varMessage = NULL;
              modelica_metatype _varLevel = NULL;
              modelica_metatype _varRHS = NULL;
              modelica_integer _labelBody;
              modelica_integer _labelNext;
              modelica_integer _labelCondition;
              modelica_metatype _outvars = NULL;
              volatile mmc_switch_type tmp9;
              int tmp10;
              // _exp1 has no default value.
              // _exp has no default value.
              // _cref has no default value.
              // _pattern has no default value.
              // _expLst has no default value.
              // _varCref has no default value.
              // _varArray has no default value.
              // _varIndex has no default value.
              // _varValue has no default value.
              // _varCondition has no default value.
              // _varMessage has no default value.
              // _varLevel has no default value.
              // _varRHS has no default value.
              // _labelBody has no default value.
              // _labelNext has no default value.
              // _labelCondition has no default value.
              // _outvars has no default value.
              tmp9 = 0;
              for (; tmp9 < 15; tmp9++) {
                switch (MMC_SWITCH_CAST(tmp9)) {
                case 0: {
                  modelica_metatype tmpMeta11;
                  modelica_metatype tmpMeta12;
                  modelica_metatype tmpMeta13;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,0,4) == 0) goto tmp8_end;
                  tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp9_1), 3));
                  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,6,2) == 0) goto tmp8_end;
                  tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp9_1), 4));
                  
                  _exp1 = tmpMeta11;
                  _exp = tmpMeta12;
                  /* Pattern matching succeeded */
                  _cref = omc_ComponentReference_crefLastCref(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp1), 2))));

                  _varCref = omc_DAEToMid_CrefToMidVar(threadData, _cref, _state);

                  tmpMeta13 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _varCref, omc_DAEToMid_ExpToMid(threadData, _exp, _state));
                  omc_DAEToMid_stateAddStmt(threadData, tmpMeta13, _state);
                  goto tmp8_done;
                }
                case 1: {
                  modelica_metatype tmpMeta14;
                  modelica_metatype tmpMeta15;
                  modelica_metatype tmpMeta16;
                  modelica_metatype tmpMeta23;
                  modelica_metatype tmpMeta24;
                  modelica_metatype tmpMeta25;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,0,4) == 0) goto tmp8_end;
                  tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp9_1), 3));
                  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta14,21,2) == 0) goto tmp8_end;
                  tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp9_1), 4));
                  
                  _exp1 = tmpMeta14;
                  _exp = tmpMeta15;
                  /* Pattern matching succeeded */
                  _varArray = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp1), 2))), _state), _state);

                  { /* match expression */
                    modelica_metatype tmp19_1;
                    tmp19_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp1), 3)));
                    {
                      modelica_metatype _indexexp = NULL;
                      volatile mmc_switch_type tmp19;
                      int tmp20;
                      // _indexexp has no default value.
                      tmp19 = 0;
                      for (; tmp19 < 1; tmp19++) {
                        switch (MMC_SWITCH_CAST(tmp19)) {
                        case 0: {
                          modelica_metatype tmpMeta21;
                          modelica_metatype tmpMeta22;
                          if (listEmpty(tmp19_1)) goto tmp18_end;
                          tmpMeta21 = MMC_CAR(tmp19_1);
                          tmpMeta22 = MMC_CDR(tmp19_1);
                          if (!listEmpty(tmpMeta22)) goto tmp18_end;
                          _indexexp = tmpMeta21;
                          /* Pattern matching succeeded */
                          tmpMeta16 = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _indexexp, _state), _state);
                          goto tmp18_done;
                        }
                        }
                        goto tmp18_end;
                        tmp18_end: ;
                      }
                      goto goto_17;
                      goto_17:;
                      goto goto_7;
                      goto tmp18_done;
                      tmp18_done:;
                    }
                  }
                  _varIndex = tmpMeta16;

                  _varValue = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp, _state), _state);

                  _labelNext = omc_DAEToMid_GenBlockId(threadData);

                  tmpMeta23 = mmc_mk_cons(_varArray, mmc_mk_cons(_varIndex, mmc_mk_cons(_varValue, MMC_REFSTRUCTLIT(mmc_nil))));
                  tmpMeta24 = MMC_REFSTRUCTLIT(mmc_nil);
                  tmpMeta25 = mmc_mk_box6(5, &MidCode_Terminator_CALL__desc, _OMC_LIT72, mmc_mk_boolean(1 /* true */), tmpMeta23, tmpMeta24, mmc_mk_integer(_labelNext));
                  omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta25, _state);
                  goto tmp8_done;
                }
                case 2: {
                  modelica_metatype tmpMeta26;
                  modelica_metatype tmpMeta27;
                  modelica_metatype tmpMeta28;
                  modelica_metatype tmpMeta29;
                  modelica_metatype tmpMeta30;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,0,4) == 0) goto tmp8_end;
                  tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp9_1), 3));
                  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta26,37,1) == 0) goto tmp8_end;
                  tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta26), 2));
                  tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp9_1), 4));
                  
                  _pattern = tmpMeta27;
                  _exp = tmpMeta28;
                  /* Pattern matching succeeded */
                  _varRHS = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, _exp, _state), _state);

                  tmpMeta30 = mmc_mk_box2(0, _varRHS, _pattern);
                  tmpMeta29 = mmc_mk_cons(tmpMeta30, MMC_REFSTRUCTLIT(mmc_nil));
                  omc_DAEToMid_patternToMidCode(threadData, tmpMeta29, ((modelica_integer) 1), _state);
                  goto tmp8_done;
                }
                case 3: {
                  modelica_metatype tmpMeta31;
                  modelica_metatype tmpMeta32;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,0,4) == 0) goto tmp8_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta31 = stringAppend(_OMC_LIT73,omc_ExpressionDump_dumpExpStr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 3))), ((modelica_integer) 0)));
                  tmpMeta32 = stringAppend(tmpMeta31,_OMC_LIT31);
                  omc_Error_addInternalError(threadData, tmpMeta32, _OMC_LIT74);
                  goto goto_7;
                  goto tmp8_done;
                }
                case 4: {
                  modelica_metatype tmpMeta33;
                  modelica_metatype tmpMeta34;
                  modelica_metatype tmpMeta35;
                  modelica_metatype tmpMeta36;
                  modelica_metatype tmpMeta45;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,1,4) == 0) goto tmp8_end;
                  tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp9_1), 3));
                  tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp9_1), 4));
                  
                  _expLst = tmpMeta33;
                  _exp = tmpMeta34;
                  /* Pattern matching succeeded */
                  tmpMeta35 = MMC_REFSTRUCTLIT(mmc_nil);
                  _outvars = omc_DoubleEnded_fromList(threadData, tmpMeta35);

                  {
                    modelica_metatype _exp1;
                    for (tmpMeta36 = _expLst; !listEmpty(tmpMeta36); tmpMeta36=MMC_CDR(tmpMeta36))
                    {
                      _exp1 = MMC_CAR(tmpMeta36);
                      { /* match expression */
                        modelica_metatype tmp39_1;
                        tmp39_1 = _exp1;
                        {
                          volatile mmc_switch_type tmp39;
                          int tmp40;
                          tmp39 = 0;
                          for (; tmp39 < 3; tmp39++) {
                            switch (MMC_SWITCH_CAST(tmp39)) {
                            case 0: {
                              modelica_metatype tmpMeta41;
                              if (mmc__uniontype__metarecord__typedef__equal(tmp39_1,6,2) == 0) goto tmp38_end;
                              tmpMeta41 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp39_1), 2));
                              if (mmc__uniontype__metarecord__typedef__equal(tmpMeta41,3,0) == 0) goto tmp38_end;
                              
                              /* Pattern matching succeeded */
                              omc_DoubleEnded_push__back(threadData, _outvars, _OMC_LIT55);
                              goto tmp38_done;
                            }
                            case 1: {
                              modelica_metatype tmpMeta42;
                              if (mmc__uniontype__metarecord__typedef__equal(tmp39_1,6,2) == 0) goto tmp38_end;
                              
                              /* Pattern matching succeeded */
                              _varCref = omc_DAEToMid_CrefToMidVar(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp1), 2))), _state);

                              tmpMeta42 = mmc_mk_box2(3, &MidCode_OutVar_OUT__VAR__desc, _varCref);
                              omc_DoubleEnded_push__back(threadData, _outvars, tmpMeta42);
                              goto tmp38_done;
                            }
                            case 2: {
                              modelica_metatype tmpMeta43;
                              modelica_metatype tmpMeta44;
                              
                              /* Pattern matching succeeded */
                              tmpMeta43 = stringAppend(_OMC_LIT75,omc_ExpressionDump_dumpExpStr(threadData, _exp1, ((modelica_integer) 0)));
                              tmpMeta44 = stringAppend(tmpMeta43,_OMC_LIT31);
                              omc_Error_addInternalError(threadData, tmpMeta44, _OMC_LIT76);
                              goto goto_37;
                              goto tmp38_done;
                            }
                            }
                            goto tmp38_end;
                            tmp38_end: ;
                          }
                          goto goto_37;
                          goto_37:;
                          goto goto_7;
                          goto tmp38_done;
                          tmp38_done:;
                        }
                      }
                      ;
                    }
                  }

                  { /* match expression */
                    modelica_metatype tmp48_1;
                    tmp48_1 = _exp;
                    {
                      volatile mmc_switch_type tmp48;
                      int tmp49;
                      tmp48 = 0;
                      for (; tmp48 < 2; tmp48++) {
                        switch (MMC_SWITCH_CAST(tmp48)) {
                        case 0: {
                          modelica_metatype tmpMeta50;
                          if (mmc__uniontype__metarecord__typedef__equal(tmp48_1,13,3) == 0) goto tmp47_end;
                          
                          /* Pattern matching succeeded */
                          tmpMeta50 = MMC_REFSTRUCTLIT(mmc_nil);
                          omc_DAEToMid_CallToMid(threadData, _exp, omc_DoubleEnded_toListAndClear(threadData, _outvars, tmpMeta50), _state);
                          goto tmp47_done;
                        }
                        case 1: {
                          modelica_metatype tmpMeta51;
                          if (mmc__uniontype__metarecord__typedef__equal(tmp48_1,33,6) == 0) goto tmp47_end;
                          
                          /* Pattern matching succeeded */
                          tmpMeta51 = MMC_REFSTRUCTLIT(mmc_nil);
                          omc_DAEToMid_MatchExpressionToMid(threadData, _exp, omc_DoubleEnded_toListAndClear(threadData, _outvars, tmpMeta51), _state);
                          goto tmp47_done;
                        }
                        }
                        goto tmp47_end;
                        tmp47_end: ;
                      }
                      goto goto_46;
                      goto_46:;
                      goto goto_7;
                      goto tmp47_done;
                      tmp47_done:;
                    }
                  }
                  ;
                  goto tmp8_done;
                }
                case 5: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,3,4) == 0) goto tmp8_end;
                  
                  /* Pattern matching succeeded */
                  omc_DAEToMid_IfToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 4))), _state);
                  goto tmp8_done;
                }
                case 6: {
                  modelica_metatype tmpMeta52;
                  modelica_metatype tmpMeta53;
                  modelica_metatype tmpMeta54;
                  modelica_metatype tmpMeta55;
                  modelica_metatype tmpMeta56;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,6,3) == 0) goto tmp8_end;
                  
                  /* Pattern matching succeeded */
                  _labelCondition = omc_DAEToMid_GenBlockId(threadData);

                  _labelBody = omc_DAEToMid_GenBlockId(threadData);

                  _labelNext = omc_DAEToMid_GenBlockId(threadData);

                  tmpMeta52 = mmc_mk_cons(mmc_mk_integer(_labelCondition), omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 8)))));
                  omc_Mutable_update(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 8))), tmpMeta52);

                  tmpMeta53 = mmc_mk_cons(mmc_mk_integer(_labelNext), omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 9)))));
                  omc_Mutable_update(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 9))), tmpMeta53);

                  tmpMeta54 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelCondition));
                  omc_DAEToMid_stateTerminate(threadData, _labelCondition, tmpMeta54, _state);

                  _varCondition = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 2))), _state), _state);

                  tmpMeta55 = mmc_mk_box4(4, &MidCode_Terminator_BRANCH__desc, _varCondition, mmc_mk_integer(_labelBody), mmc_mk_integer(_labelNext));
                  omc_DAEToMid_stateTerminate(threadData, _labelBody, tmpMeta55, _state);

                  omc_DAEToMid_StmtsToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 3))), _state);

                  tmpMeta56 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, mmc_mk_integer(_labelCondition));
                  omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta56, _state);

                  omc_Mutable_update(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 8))), listRest(omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 8))))));

                  omc_Mutable_update(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 9))), listRest(omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 9))))));
                  goto tmp8_done;
                }
                case 7: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,4,6) == 0) goto tmp8_end;
                  
                  /* Pattern matching succeeded */
                  omc_DAEToMid_ForToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 5))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 6))), _state);
                  goto tmp8_done;
                }
                case 8: {
                  modelica_metatype tmpMeta57;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,13,1) == 0) goto tmp8_end;
                  
                  /* Pattern matching succeeded */
                  _labelNext = omc_DAEToMid_GenBlockId(threadData);

                  tmpMeta57 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, listHead(omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 9))))));
                  omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta57, _state);
                  goto tmp8_done;
                }
                case 9: {
                  modelica_metatype tmpMeta58;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,14,1) == 0) goto tmp8_end;
                  
                  /* Pattern matching succeeded */
                  _labelNext = omc_DAEToMid_GenBlockId(threadData);

                  tmpMeta58 = mmc_mk_box2(3, &MidCode_Terminator_GOTO__desc, listHead(omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 8))))));
                  omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta58, _state);
                  goto tmp8_done;
                }
                case 10: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,12,1) == 0) goto tmp8_end;
                  
                  /* Pattern matching succeeded */
                  _labelNext = omc_DAEToMid_GenBlockId(threadData);

                  omc_DAEToMid_stateTerminate(threadData, _labelNext, _OMC_LIT77, _state);
                  goto tmp8_done;
                }
                case 11: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,11,2) == 0) goto tmp8_end;
                  
                  /* Pattern matching succeeded */
                  { /* match expression */
                    modelica_metatype tmp61_1;
                    tmp61_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 2)));
                    {
                      volatile mmc_switch_type tmp61;
                      int tmp62;
                      tmp61 = 0;
                      for (; tmp61 < 2; tmp61++) {
                        switch (MMC_SWITCH_CAST(tmp61)) {
                        case 0: {
                          modelica_metatype tmpMeta63;
                          if (mmc__uniontype__metarecord__typedef__equal(tmp61_1,13,3) == 0) goto tmp60_end;
                          
                          /* Pattern matching succeeded */
                          tmpMeta63 = MMC_REFSTRUCTLIT(mmc_nil);
                          omc_DAEToMid_CallToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 2))), tmpMeta63, _state);
                          goto tmp60_done;
                        }
                        case 1: {
                          modelica_metatype tmpMeta64;
                          if (mmc__uniontype__metarecord__typedef__equal(tmp61_1,33,6) == 0) goto tmp60_end;
                          
                          /* Pattern matching succeeded */
                          tmpMeta64 = MMC_REFSTRUCTLIT(mmc_nil);
                          omc_DAEToMid_MatchExpressionToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 2))), tmpMeta64, _state);
                          goto tmp60_done;
                        }
                        }
                        goto tmp60_end;
                        tmp60_end: ;
                      }
                      goto goto_59;
                      goto_59:;
                      goto goto_7;
                      goto tmp60_done;
                      tmp60_done:;
                    }
                  }
                  ;
                  goto tmp8_done;
                }
                case 12: {
                  modelica_metatype tmpMeta65;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,8,4) == 0) goto tmp8_end;
                  
                  /* Pattern matching succeeded */
                  _varCondition = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 2))), _state), _state);

                  _varMessage = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 3))), _state), _state);

                  _varLevel = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 4))), _state), _state);

                  _labelNext = omc_DAEToMid_GenBlockId(threadData);

                  tmpMeta65 = mmc_mk_box5(11, &MidCode_Terminator_ASSERT__desc, _varCondition, _varMessage, _varLevel, mmc_mk_integer(_labelNext));
                  omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta65, _state);
                  goto tmp8_done;
                }
                case 13: {
                  modelica_metatype tmpMeta66;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,9,2) == 0) goto tmp8_end;
                  
                  /* Pattern matching succeeded */
                  _varMessage = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stmt), 2))), _state), _state);

                  _labelNext = omc_DAEToMid_GenBlockId(threadData);

                  tmpMeta66 = mmc_mk_box2(12, &MidCode_Terminator_TERMINATE__desc, _varMessage);
                  omc_DAEToMid_stateTerminate(threadData, _labelNext, tmpMeta66, _state);
                  goto tmp8_done;
                }
                case 14: {
                  modelica_metatype tmpMeta67;
                  
                  /* Pattern matching succeeded */
                  tmpMeta67 = stringAppend(_OMC_LIT78,omc_DAEDump_ppStatementStr(threadData, _stmt));
                  omc_Error_addInternalError(threadData, tmpMeta67, _OMC_LIT79);
                  goto goto_7;
                  goto tmp8_done;
                }
                }
                goto tmp8_end;
                tmp8_end: ;
              }
              goto goto_7;
              goto_7:;
              goto goto_1;
              goto tmp8_done;
              tmp8_done:;
            }
          }
          ;

          /* Tail recursive call */
          _daestmts = _tail;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_DAEFunctionToMid(threadData_t *threadData, modelica_metatype _simfunc)
{
  modelica_metatype _midfunc = NULL;
  modelica_metatype _state = NULL;
  modelica_metatype _inputs = NULL;
  modelica_metatype _outputs = NULL;
  modelica_metatype _block_ = NULL;
  modelica_metatype _path = NULL;
  modelica_integer _labelFirst;
  modelica_metatype tmpMeta26;
  modelica_metatype tmpMeta27;
  modelica_metatype tmpMeta28;
  modelica_metatype tmpMeta29;
  modelica_metatype tmpMeta30;
  modelica_metatype tmpMeta31;
  modelica_metatype tmpMeta32;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _midfunc has no default value.
  // _state has no default value.
  // _inputs has no default value.
  // _outputs has no default value.
  // _block_ has no default value.
  // _path has no default value.
  // _labelFirst has no default value.
  omc_System_tmpTickReset(threadData, ((modelica_integer) 47));

  omc_System_tmpTickReset(threadData, ((modelica_integer) 46));

  omc_System_tmpTickReset(threadData, ((modelica_integer) 45));

  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _simfunc;
    {
      modelica_metatype _name = NULL;
      modelica_metatype _outVars = NULL;
      modelica_metatype _functionArguments = NULL;
      modelica_metatype _variableDeclarations = NULL;
      modelica_metatype _body = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _name has no default value.
      // _outVars has no default value.
      // _functionArguments has no default value.
      // _variableDeclarations has no default value.
      // _body has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,7) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 6));
          
          _name = tmpMeta5;
          _outVars = tmpMeta6;
          _functionArguments = tmpMeta7;
          _variableDeclarations = tmpMeta8;
          _body = tmpMeta9;
          /* Pattern matching succeeded */
          _labelFirst = omc_DAEToMid_GenBlockId(threadData);

          _path = _name;

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _inputs = omc_DoubleEnded_fromList(threadData, tmpMeta10);

          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          _outputs = omc_DoubleEnded_fromList(threadData, tmpMeta11);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta19 = mmc_mk_box10(3, &DAEToMid_State_STATE__desc, omc_DoubleEnded_fromList(threadData, tmpMeta12), omc_DoubleEnded_fromList(threadData, tmpMeta13), omc_DoubleEnded_fromList(threadData, tmpMeta14), omc_DoubleEnded_fromList(threadData, tmpMeta15), omc_DoubleEnded_fromList(threadData, tmpMeta16), omc_Mutable_create(threadData, mmc_mk_integer(_labelFirst)), omc_Mutable_create(threadData, tmpMeta17), omc_Mutable_create(threadData, tmpMeta18), omc_Mutable_create(threadData, omc_HashTableMidVar_emptyHashTable(threadData)));
          _state = tmpMeta19;

          {
            modelica_metatype _simcodeVar;
            for (tmpMeta20 = _variableDeclarations; !listEmpty(tmpMeta20); tmpMeta20=MMC_CDR(tmpMeta20))
            {
              _simcodeVar = MMC_CAR(tmpMeta20);
              omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 2))), omc_DAEToMid_ConvertSimCodeVars(threadData, _simcodeVar, _state));
            }
          }

          {
            modelica_metatype _simcodeVar;
            for (tmpMeta22 = _outVars; !listEmpty(tmpMeta22); tmpMeta22=MMC_CDR(tmpMeta22))
            {
              _simcodeVar = MMC_CAR(tmpMeta22);
              omc_DoubleEnded_push__back(threadData, _outputs, omc_DAEToMid_ConvertSimCodeVars(threadData, _simcodeVar, _state));
            }
          }

          {
            modelica_metatype _simcodeVar;
            for (tmpMeta24 = _functionArguments; !listEmpty(tmpMeta24); tmpMeta24=MMC_CDR(tmpMeta24))
            {
              _simcodeVar = MMC_CAR(tmpMeta24);
              omc_DoubleEnded_push__back(threadData, _inputs, omc_DAEToMid_ConvertSimCodeVars(threadData, _simcodeVar, _state));
            }
          }

          omc_DAEToMid_StmtsToMid(threadData, _body, _state);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT80, _OMC_LIT81);

          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;

  omc_DAEToMid_stateTerminate(threadData, ((modelica_integer) -1), _OMC_LIT77, _state);

  tmpMeta26 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta27 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta28 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta29 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta30 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta31 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta32 = mmc_mk_box10(3, &MidCode_Function_FUNCTION__desc, _path, omc_DoubleEnded_toListAndClear(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 2))), tmpMeta26), omc_DoubleEnded_toListAndClear(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 3))), tmpMeta27), omc_DoubleEnded_toListAndClear(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 4))), tmpMeta28), omc_DoubleEnded_toListAndClear(threadData, _inputs, tmpMeta29), omc_DoubleEnded_toListAndClear(threadData, _outputs, tmpMeta30), omc_DoubleEnded_toListAndClear(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 5))), tmpMeta31), mmc_mk_integer(_labelFirst), mmc_mk_integer(omc_DAEToMid_GenBlockId(threadData)));
  _midfunc = tmpMeta32;

  _midfunc = omc_MidToMid_longJmpGoto(threadData, _midfunc);
  _return: OMC_LABEL_UNUSED
  return _midfunc;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_RValueToVar(threadData_t *threadData, modelica_metatype _rvalue, modelica_metatype _state)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _rvalue;
    {
      modelica_metatype _tmpvar = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _tmpvar has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_rvalue), 2)));
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          _tmpvar = omc_DAEToMid_GenTmpVar(threadData, omc_Types_complicateType(threadData, omc_DAEToMid_RValueType(threadData, _rvalue)), _state);

          tmpMeta6 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _tmpvar, _rvalue);
          omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 6))), tmpMeta6);
          tmpMeta1 = _tmpvar;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_RValueType(threadData_t *threadData, modelica_metatype _rvalue)
{
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _ty has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _rvalue;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 15; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_rvalue), 2)))), 3)));
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp9_1;
            tmp9_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_rvalue), 2)));
            {
              int tmp9;
              {
                switch (MMC_SWITCH_CAST(valueConstructor(tmp9_1))) {
                case 8: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta6 = _OMC_LIT6;
                  goto tmp8_done;
                }
                case 9: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta6 = _OMC_LIT6;
                  goto tmp8_done;
                }
                case 10: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta6 = _OMC_LIT6;
                  goto tmp8_done;
                }
                case 11: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta6 = _OMC_LIT6;
                  goto tmp8_done;
                }
                case 12: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta6 = _OMC_LIT6;
                  goto tmp8_done;
                }
                case 13: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta6 = _OMC_LIT6;
                  goto tmp8_done;
                }
                default:
                tmp8_default: OMC_LABEL_UNUSED; {
                  
                  /* Pattern matching succeeded */
                  tmpMeta6 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_rvalue), 3)))), 3)));
                  goto tmp8_done;
                }
                }
                goto tmp8_end;
                tmp8_end: ;
              }
              goto goto_7;
              goto_7:;
              goto goto_2;
              goto tmp8_done;
              tmp8_done:;
            }
          }tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,2) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,4,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Types_boxIfUnboxedType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_rvalue), 3)))), 3))));
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,2) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,3,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Types_unboxedType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_rvalue), 3)))), 3))));
          goto tmp3_done;
        }
        case 4: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_rvalue), 3)))), 3)));
          goto tmp3_done;
        }
        case 5: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT25;
          goto tmp3_done;
        }
        case 6: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT82;
          goto tmp3_done;
        }
        case 7: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT6;
          goto tmp3_done;
        }
        case 8: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT83;
          goto tmp3_done;
        }
        case 9: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_rvalue), 3)));
          goto tmp3_done;
        }
        case 10: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_rvalue), 4)));
          goto tmp3_done;
        }
        case 11: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT25;
          goto tmp3_done;
        }
        case 12: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT6;
          goto tmp3_done;
        }
        case 13: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT6;
          goto tmp3_done;
        }
        case 14: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT84, _OMC_LIT85);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _ty = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _ty;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_CrefToMidVar(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _state)
{
  modelica_metatype _var = NULL;
  modelica_string _ident = NULL;
  modelica_metatype _ty = NULL;
  modelica_string tmp1_c0 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  // _ident has no default value.
  // _ty has no default value.
  if((!omc_BaseHashTable_hasKey(threadData, _cref, omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 10)))))))
  {
    
    
    { /* match expression */
      modelica_metatype tmp4_1;
      tmp4_1 = _cref;
      {
        modelica_string _ident_ = NULL;
        modelica_metatype _ty_ = NULL;
        volatile mmc_switch_type tmp4;
        int tmp5;
        // _ident_ has no default value.
        // _ty_ has no default value.
        tmp4 = 0;
        for (; tmp4 < 2; tmp4++) {
          switch (MMC_SWITCH_CAST(tmp4)) {
          case 0: {
            modelica_metatype tmpMeta6;
            modelica_metatype tmpMeta7;
            if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,3) == 0) goto tmp3_end;
            tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
            tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
            
            _ident_ = tmpMeta6;
            _ty_ = tmpMeta7;
            /* Pattern matching succeeded */
            tmp1_c0 = _ident_;
            tmpMeta[0+1] = _ty_;
            goto tmp3_done;
          }
          case 1: {
            
            /* Pattern matching succeeded */
            omc_Error_addInternalError(threadData, _OMC_LIT86, _OMC_LIT87);
            goto goto_2;
            goto tmp3_done;
          }
          }
          goto tmp3_end;
          tmp3_end: ;
        }
        goto goto_2;
        goto_2:;
        MMC_THROW_INTERNAL();
        goto tmp3_done;
        tmp3_done:;
      }
    }
    _ident = tmp1_c0;
    _ty = tmpMeta[0+1];

    tmpMeta8 = mmc_mk_box4(3, &MidCode_Var_VAR__desc, _ident, omc_Types_complicateType(threadData, _ty), mmc_mk_boolean(0 /* false */));
    tmpMeta9 = mmc_mk_box2(0, _cref, tmpMeta8);
    omc_Mutable_update(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 10))), omc_BaseHashTable_add(threadData, tmpMeta9, omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 10))))));
  }

  _var = omc_BaseHashTable_get(threadData, _cref, omc_Mutable_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 10)))));
  _return: OMC_LABEL_UNUSED
  return _var;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_GetCrefIndexVar(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _state)
{
  modelica_metatype _var = NULL;
  modelica_metatype _subscripts = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  // _subscripts has no default value.
  _subscripts = omc_ComponentReference_crefLastSubs(threadData, _cref);

  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _subscripts;
    {
      modelica_metatype _subscript = NULL;
      modelica_metatype _indexvar = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _subscript has no default value.
      // _indexvar has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_none();
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,2,1) == 0) goto tmp3_end;
          if (!listEmpty(tmpMeta7)) goto tmp3_end;
          _subscript = tmpMeta6;
          /* Pattern matching succeeded */
          _indexvar = omc_DAEToMid_RValueToVar(threadData, omc_DAEToMid_ExpToMid(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_subscript), 2))), _state), _state);
          tmpMeta1 = mmc_mk_some(_indexvar);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_ConvertSimCodeVars(threadData_t *threadData, modelica_metatype _simcodevar, modelica_metatype _state)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _simcodevar;
    {
      modelica_metatype _midcodevar = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _midcodevar has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,7) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _midcodevar = omc_DAEToMid_CrefToMidVar(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_simcodevar), 2))), _state);

          { /* match expression */
            modelica_metatype tmp8_1;
            tmp8_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_simcodevar), 4)));
            {
              modelica_metatype _exp = NULL;
              volatile mmc_switch_type tmp8;
              int tmp9;
              // _exp has no default value.
              tmp8 = 0;
              for (; tmp8 < 2; tmp8++) {
                switch (MMC_SWITCH_CAST(tmp8)) {
                case 0: {
                  if (!optionNone(tmp8_1)) goto tmp7_end;
                  /* Pattern matching succeeded */
                  goto tmp7_done;
                }
                case 1: {
                  modelica_metatype tmpMeta10;
                  modelica_metatype tmpMeta11;
                  if (optionNone(tmp8_1)) goto tmp7_end;
                  tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp8_1), 1));
                  _exp = tmpMeta10;
                  /* Pattern matching succeeded */
                  tmpMeta11 = mmc_mk_box3(4, &MidCode_Stmt_ASSIGN__desc, _midcodevar, omc_DAEToMid_ExpToMid(threadData, _exp, _state));
                  omc_DAEToMid_stateAddStmt(threadData, tmpMeta11, _state);
                  goto tmp7_done;
                }
                }
                goto tmp7_end;
                tmp7_end: ;
              }
              goto goto_6;
              goto_6:;
              goto goto_2;
              goto tmp7_done;
              tmp7_done:;
            }
          }
          ;
          tmpMeta1 = _midcodevar;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_DAEToMid_GenBlockId(threadData_t *threadData)
{
  modelica_integer _id;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _id has no default value.
  _id = omc_System_tmpTickIndex(threadData, ((modelica_integer) 45));
  _return: OMC_LABEL_UNUSED
  return _id;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEToMid_GenBlockId(threadData_t *threadData)
{
  modelica_integer _id;
  modelica_metatype out_id;
  _id = omc_DAEToMid_GenBlockId(threadData);
  out_id = mmc_mk_icon(_id);
  return out_id;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_GenTmpVarBufPtr(threadData_t *threadData, modelica_metatype _state)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  tmpMeta1 = stringAppend(_OMC_LIT88,intString(omc_System_tmpTickIndex(threadData, ((modelica_integer) 46))));
  tmpMeta2 = mmc_mk_box2(3, &MidCode_VarBufPtr_VARBUFPTR__desc, tmpMeta1);
  _var = tmpMeta2;

  omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 4))), _var);
  _return: OMC_LABEL_UNUSED
  return _var;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_GenTmpVarBuf(threadData_t *threadData, modelica_metatype _state)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  tmpMeta1 = stringAppend(_OMC_LIT89,intString(omc_System_tmpTickIndex(threadData, ((modelica_integer) 47))));
  tmpMeta2 = mmc_mk_box2(3, &MidCode_VarBuf_VARBUF__desc, tmpMeta1);
  _var = tmpMeta2;

  omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 3))), _var);
  _return: OMC_LABEL_UNUSED
  return _var;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_GenTmpVarVolatile(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _state)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  tmpMeta1 = stringAppend(_OMC_LIT88,intString(omc_System_tmpTickIndex(threadData, ((modelica_integer) 46))));
  tmpMeta2 = mmc_mk_box4(3, &MidCode_Var_VAR__desc, tmpMeta1, _ty, mmc_mk_boolean(1 /* true */));
  _var = tmpMeta2;

  omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 2))), _var);
  _return: OMC_LABEL_UNUSED
  return _var;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_GenTmpVar(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _state)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  tmpMeta1 = stringAppend(_OMC_LIT88,intString(omc_System_tmpTickIndex(threadData, ((modelica_integer) 46))));
  tmpMeta2 = mmc_mk_box4(3, &MidCode_Var_VAR__desc, tmpMeta1, _ty, mmc_mk_boolean(0 /* false */));
  _var = tmpMeta2;

  omc_DoubleEnded_push__back(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 2))), _var);
  _return: OMC_LABEL_UNUSED
  return _var;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEToMid_listZip(threadData_t *threadData, modelica_metatype _xs, modelica_metatype _ys)
{
  modelica_metatype _zs = NULL;
  modelica_metatype _xs_ = NULL;
  modelica_metatype _ys_ = NULL;
  modelica_metatype _x = NULL;
  modelica_metatype _y = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _zs has no default value.
  // _xs_ has no default value.
  // _ys_ has no default value.
  // _x has no default value.
  // _y has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _xs;
    tmp4_2 = _ys;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmp4_1);
          tmpMeta9 = MMC_CDR(tmp4_1);
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_2);
          tmpMeta11 = MMC_CDR(tmp4_2);
          _x = tmpMeta8;
          _xs_ = tmpMeta9;
          _y = tmpMeta10;
          _ys_ = tmpMeta11;
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_box2(0, _x, _y);
          tmpMeta12 = mmc_mk_cons(tmpMeta13, omc_DAEToMid_listZip(threadData, _xs_, _ys_));
          tmpMeta1 = tmpMeta12;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _zs = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _zs;
}

DLLDirection
modelica_metatype omc_DAEToMid_DAEFunctionsToMid(threadData_t *threadData, modelica_metatype _simfuncs)
{
  modelica_metatype _midfuncs = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _midfuncs has no default value.
  {
    modelica_metatype __omcQ_24tmpVar3;
    modelica_metatype* tmp2;
    modelica_metatype tmpMeta3;
    modelica_metatype __omcQ_24tmpVar2;
    modelica_integer tmp4;
    modelica_metatype _simfunc_loopVar = 0;
    modelica_metatype _simfunc;
    _simfunc_loopVar = _simfuncs;
    tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar3 = tmpMeta3; /* defaultValue */
    tmp2 = &__omcQ_24tmpVar3;
    while(1) {
      tmp4 = 1;
      if (!listEmpty(_simfunc_loopVar)) {
        _simfunc = MMC_CAR(_simfunc_loopVar);
        _simfunc_loopVar = MMC_CDR(_simfunc_loopVar);
        tmp4--;
      }
      if (tmp4 == 0) {
        __omcQ_24tmpVar2 = omc_DAEToMid_DAEFunctionToMid(threadData, _simfunc);
        *tmp2 = mmc_mk_cons(__omcQ_24tmpVar2,0);
        tmp2 = &MMC_CDR(*tmp2);
      } else if (tmp4 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp2 = mmc_mk_nil();
    tmpMeta1 = __omcQ_24tmpVar3;
  }
  _midfuncs = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _midfuncs;
}

