#include "omc_simulation_settings.h"
#include "SymbolicJacobian.h"
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT0,2,4) {&DAE_Type_T__REAL__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT0 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT0)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT1,2,5) {&DAE_Operator_MUL__desc,_OMC_LIT0}};
#define _OMC_LIT1 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT1)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT2,0.0);
#define _OMC_LIT2 MMC_REFREALLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,2,4) {&DAE_Exp_RCONST__desc,_OMC_LIT2}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT4,2,3) {&DAE_Operator_ADD__desc,_OMC_LIT0}};
#define _OMC_LIT4 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT4)
#define _OMC_LIT5_data "fullASSC"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT5,8,_OMC_LIT5_data);
#define _OMC_LIT5 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT5)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT6,1,4) {&Flags_FlagVisibility_EXTERNAL__desc,}};
#define _OMC_LIT6 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT7,2,4) {&Flags_FlagData_BOOL__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT7 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT7)
#define _OMC_LIT8_data "Enables full equation replacement for BLT transformation from the ASSC algorithm."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT8,81,_OMC_LIT8_data);
#define _OMC_LIT8 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT8)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT9,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT8}};
#define _OMC_LIT9 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT9)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT10,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(124)),_OMC_LIT5,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT6,_OMC_LIT7,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT9}};
#define _OMC_LIT10 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,0,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT12,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT11,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT2}};
#define _OMC_LIT12 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT12)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT13,1,4) {&DAE_ComponentPrefix_NOCOMPPRE__desc,}};
#define _OMC_LIT13 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT13)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT14,8,3) {&DAE_ElementSource_SOURCE__desc,_OMC_LIT12,MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT13,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT14 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,1,9) {&BackendDAE_EquationKind_UNKNOWN__EQUATION__KIND__desc,}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT16,5,3) {&BackendDAE_EvaluationStages_EVALUATION__STAGES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT16 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT16)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT17,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT15,_OMC_LIT16}};
#define _OMC_LIT17 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT17)
#define _OMC_LIT18_data "[ASSC] The equation: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT18,21,_OMC_LIT18_data);
#define _OMC_LIT18 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,1,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data "[ASSC] Gets replaced by equation: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,34,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
#define _OMC_LIT21_data "dumpASSC"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT21,8,_OMC_LIT21_data);
#define _OMC_LIT21 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data "Dumps the conversion process of analytical to structural singularities."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,71,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT23,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT22}};
#define _OMC_LIT23 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT23)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT24,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(178)),_OMC_LIT21,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT23}};
#define _OMC_LIT24 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT24)
#define _OMC_LIT25_data "bltdump"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT25,7,_OMC_LIT25_data);
#define _OMC_LIT25 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data "Dumps information from index reduction."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,39,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT27,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT26}};
#define _OMC_LIT27 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT27)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT28,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(51)),_OMC_LIT25,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT27}};
#define _OMC_LIT28 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT28)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT29,1,5) {&BackendDAE_IndexType_SOLVABLE__desc,}};
#define _OMC_LIT29 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data "--- Some equations have been changed, for more information please use -d=dumpASSC.---\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,87,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
#define _OMC_LIT31_data "SymbolicJacobian.LinearJacobian.solveRow key does not have an element in pivot row."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT31,83,_OMC_LIT31_data);
#define _OMC_LIT31 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT31)
#define _OMC_LIT32_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/BackEnd/SymbolicJacobian.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT32,74,_OMC_LIT32_data);
#define _OMC_LIT32 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT32)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT33_6,1.758197185e9);
#define _OMC_LIT33_6 MMC_REFREALLIT(_OMC_LIT_STRUCT33_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT33,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(4697)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(4697)),MMC_IMMEDIATE(MMC_TAGFIXNUM(114)),_OMC_LIT33_6}};
#define _OMC_LIT33 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT33)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT34,2,4) {&DAE_Operator_SUB__desc,_OMC_LIT0}};
#define _OMC_LIT34 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT34)
#define _OMC_LIT35_data "realASSC"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT35,8,_OMC_LIT35_data);
#define _OMC_LIT35 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT35)
#define _OMC_LIT36_data "Enables the ASSC algorithm to evaluate real valued coefficients (usually only integers)."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT36,88,_OMC_LIT36_data);
#define _OMC_LIT36 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT36)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT37,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT36}};
#define _OMC_LIT37 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT37)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT38,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(125)),_OMC_LIT35,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT6,_OMC_LIT7,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT37}};
#define _OMC_LIT38 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT38)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT39,2,3) {&DAE_Exp_ICONST__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT39 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT39)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT40,2,3) {&DAE_Exp_ICONST__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(-1))}};
#define _OMC_LIT40 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT40)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT41,1,11) {&DAE_Type_T__UNKNOWN__desc,}};
#define _OMC_LIT41 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT41)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT42,2,5) {&DAE_Operator_MUL__desc,_OMC_LIT41}};
#define _OMC_LIT42 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT42)
#define _OMC_LIT43_data "("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT43,1,_OMC_LIT43_data);
#define _OMC_LIT43 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT43)
#define _OMC_LIT44_data "|"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT44,1,_OMC_LIT44_data);
#define _OMC_LIT44 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT44)
#define _OMC_LIT45_data "true"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT45,4,_OMC_LIT45_data);
#define _OMC_LIT45 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT45)
#define _OMC_LIT46_data "false"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT46,5,_OMC_LIT46_data);
#define _OMC_LIT46 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT46)
#define _OMC_LIT47_data "):    "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT47,6,_OMC_LIT47_data);
#define _OMC_LIT47 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT47)
#define _OMC_LIT48_data "["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT48,1,_OMC_LIT48_data);
#define _OMC_LIT48 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT48)
#define _OMC_LIT49_data "] "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT49,2,_OMC_LIT49_data);
#define _OMC_LIT49 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT49)
#define _OMC_LIT50_data "EMPTY ROW     "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT50,14,_OMC_LIT50_data);
#define _OMC_LIT50 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT50)
#define _OMC_LIT51_data "    || RHS: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT51,12,_OMC_LIT51_data);
#define _OMC_LIT51 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data "######################################################\n LinearJacobian sparsity pattern: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,89,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
#define _OMC_LIT53_data "######################################################\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT53,55,_OMC_LIT53_data);
#define _OMC_LIT53 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT53)
#define _OMC_LIT54_data "(scal_idx|arr_idx|changed) [var_index, value] || RHS_EXPRESSION\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT54,64,_OMC_LIT54_data);
#define _OMC_LIT54 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT54)
#define _OMC_LIT55_data "$pDER"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT55,5,_OMC_LIT55_data);
#define _OMC_LIT55 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT55)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT56,2,6) {&DAE_Exp_BCONST__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */))}};
#define _OMC_LIT56 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT56)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT57,1,1) {_OMC_LIT56}};
#define _OMC_LIT57 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT57)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT58,1,5) {&ErrorTypes_MessageType_TRANSLATION__desc,}};
#define _OMC_LIT58 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT58)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT59,1,4) {&ErrorTypes_Severity_ERROR__desc,}};
#define _OMC_LIT59 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT59)
#define _OMC_LIT60_data "Jacobian %s contains non-linear components. This indicates a singular system or internal generation errors."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT60,107,_OMC_LIT60_data);
#define _OMC_LIT60 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT60)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT61,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT60}};
#define _OMC_LIT61 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT61)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT62,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(7024)),_OMC_LIT58,_OMC_LIT59,_OMC_LIT61}};
#define _OMC_LIT62 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT62)
#define _OMC_LIT63_data "der"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT63,3,_OMC_LIT63_data);
#define _OMC_LIT63 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT63)
#define _OMC_LIT64_data "pre"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT64,3,_OMC_LIT64_data);
#define _OMC_LIT64 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT64)
#define _OMC_LIT65_data "previous"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT65,8,_OMC_LIT65_data);
#define _OMC_LIT65 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT65)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT66,1,5) {&BackendDAE_JacobianType_JAC__NONLINEAR__desc,}};
#define _OMC_LIT66 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT66)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT67,1,3) {&BackendDAE_JacobianType_JAC__CONSTANT__desc,}};
#define _OMC_LIT67 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT67)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT68,1,4) {&BackendDAE_JacobianType_JAC__LINEAR__desc,}};
#define _OMC_LIT68 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT68)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT69,1,7) {&BackendDAE_JacobianType_JAC__NO__ANALYTIC__desc,}};
#define _OMC_LIT69 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT69)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT70,2,0) {MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT70 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT70)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT71,4,0) {MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT70,MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT71 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT71)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT72,4,0) {MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT70,MMC_IMMEDIATE(MMC_TAGFIXNUM(-1))}};
#define _OMC_LIT72 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT72)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT73,4,0) {MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT72,MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT72}};
#define _OMC_LIT73 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT73)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT74,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT63}};
#define _OMC_LIT74 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT74)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT75,1,7) {&DAE_InlineType_NO__INLINE__desc,}};
#define _OMC_LIT75 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT75)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT76,1,3) {&DAE_TailCall_NO__TAIL__desc,}};
#define _OMC_LIT76 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT76)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT77,8,3) {&DAE_CallAttributes_CALL__ATTR__desc,_OMC_LIT0,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT75,_OMC_LIT76}};
#define _OMC_LIT77 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT77)
#define _OMC_LIT78_data "- BackendDAE.calculateJacobianRow2 failed on "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT78,45,_OMC_LIT78_data);
#define _OMC_LIT78 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT78)
#define _OMC_LIT79_data "failtrace"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT79,9,_OMC_LIT79_data);
#define _OMC_LIT79 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT79)
#define _OMC_LIT80_data "Sets whether to print a failtrace or not."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT80,41,_OMC_LIT80_data);
#define _OMC_LIT80 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT80)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT81,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT80}};
#define _OMC_LIT81 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT81)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT82,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT79,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT81}};
#define _OMC_LIT82 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT82)
#define _OMC_LIT83_data "- BackendDAE.calculateJacobianRow failed on "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT83,44,_OMC_LIT83_data);
#define _OMC_LIT83 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT83)
#define _OMC_LIT84_data "function createResidualSetEquations failed for equation: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT84,57,_OMC_LIT84_data);
#define _OMC_LIT84 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT84)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT85_6,1.758197185e9);
#define _OMC_LIT85_6 MMC_REFREALLIT(_OMC_LIT_STRUCT85_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT85,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3632)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3632)),MMC_IMMEDIATE(MMC_TAGFIXNUM(142)),_OMC_LIT85_6}};
#define _OMC_LIT85 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT85)
#define _OMC_LIT86_data "stateselection"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT86,14,_OMC_LIT86_data);
#define _OMC_LIT86 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT86)
#define _OMC_LIT87_data "StateSetJac"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT87,11,_OMC_LIT87_data);
#define _OMC_LIT87 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT87)
#define _OMC_LIT88_data "---+++ create analytical jacobian +++---"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT88,40,_OMC_LIT88_data);
#define _OMC_LIT88 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT88)
#define _OMC_LIT89_data "\n---+++ independent variables +++---\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT89,37,_OMC_LIT89_data);
#define _OMC_LIT89 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT89)
#define _OMC_LIT90_data "\n---+++ equation system +++---\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT90,31,_OMC_LIT90_data);
#define _OMC_LIT90 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT90)
#define _OMC_LIT91_data "symjacdumpverbose"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT91,17,_OMC_LIT91_data);
#define _OMC_LIT91 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT91)
#define _OMC_LIT92_data "Dumps information in verbose mode about symbolic Jacobians."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT92,59,_OMC_LIT92_data);
#define _OMC_LIT92 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT92)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT93,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT92}};
#define _OMC_LIT93 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT93)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT94,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(46)),_OMC_LIT91,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT93}};
#define _OMC_LIT94 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT94)
#define _OMC_LIT95_data "\n---+++ known variables +++---\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT95,31,_OMC_LIT95_data);
#define _OMC_LIT95 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT95)
#define _OMC_LIT96_data "\n---+++ created backend system +++---\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT96,38,_OMC_LIT96_data);
#define _OMC_LIT96 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT96)
#define _OMC_LIT97_data "\n---+++ vars +++---\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT97,20,_OMC_LIT97_data);
#define _OMC_LIT97 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT97)
#define _OMC_LIT98_data "\n---+++ equations +++---\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT98,25,_OMC_LIT98_data);
#define _OMC_LIT98 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT98)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT99,1,5) {&BackendDAE_BackendDAEType_ALGEQSYSTEM__desc,}};
#define _OMC_LIT99 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT99)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT100,1,3) {&BackendDAE_BaseClockPartitionKind_UNKNOWN__PARTITION__desc,}};
#define _OMC_LIT100 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT100)
#define _OMC_LIT101_data "System"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT101,6,_OMC_LIT101_data);
#define _OMC_LIT101 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT101)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT102,1,4) {&BackendDAE_IndexReduction_NO__INDEX__REDUCTION__desc,}};
#define _OMC_LIT102 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT102)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT103,1,4) {&BackendDAE_EquationConstraints_EXACT__desc,}};
#define _OMC_LIT103 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT103)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT104,2,0) {_OMC_LIT102,_OMC_LIT103}};
#define _OMC_LIT104 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT104)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT105,1,1) {_OMC_LIT104}};
#define _OMC_LIT105 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT105)
#define _OMC_LIT106_data "function getSymbolicJacobian failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT106,35,_OMC_LIT106_data);
#define _OMC_LIT106 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT106)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT107_6,1.758197185e9);
#define _OMC_LIT107_6 MMC_REFREALLIT(_OMC_LIT_STRUCT107_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT107,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3385)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3385)),MMC_IMMEDIATE(MMC_TAGFIXNUM(82)),_OMC_LIT107_6}};
#define _OMC_LIT107 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT107)
#define _OMC_LIT108_data "symjacdump"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT108,10,_OMC_LIT108_data);
#define _OMC_LIT108 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT108)
#define _OMC_LIT109_data "Dumps information about symbolic Jacobians."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT109,43,_OMC_LIT109_data);
#define _OMC_LIT109 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT109)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT110,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT109}};
#define _OMC_LIT110 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT110)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT111,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(45)),_OMC_LIT108,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT110}};
#define _OMC_LIT111 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT111)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT112,1,5) {&BackendDAE_Jacobian_EMPTY__JACOBIAN__desc,}};
#define _OMC_LIT112 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT112)
#define _OMC_LIT113_data "delay"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT113,5,_OMC_LIT113_data);
#define _OMC_LIT113 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT113)
#define _OMC_LIT114_data "Traverser for catching functions, that should not be differentiated\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT114,68,_OMC_LIT114_data);
#define _OMC_LIT114 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT114)
#define _OMC_LIT115_data "\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT115,2,_OMC_LIT115_data);
#define _OMC_LIT115 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT115)
#define _OMC_LIT116_data "dumpExcludedSymJacExps"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT116,22,_OMC_LIT116_data);
#define _OMC_LIT116 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT116)
#define _OMC_LIT117_data "This flags dumps all expression that are excluded from differentiation of a symbolic Jacobian."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT117,94,_OMC_LIT117_data);
#define _OMC_LIT117 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT117)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT118,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT117}};
#define _OMC_LIT118 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT118)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT119,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(138)),_OMC_LIT116,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT118}};
#define _OMC_LIT119 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT119)
#define _OMC_LIT120_data "Nonlinear iteration variables with default zero start attribute in "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT120,67,_OMC_LIT120_data);
#define _OMC_LIT120 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT120)
#define _OMC_LIT121_data "."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT121,1,_OMC_LIT121_data);
#define _OMC_LIT121 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT121)
#define _OMC_LIT122_data "Nonlinear iteration variables with predefined start attribute in "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT122,65,_OMC_LIT122_data);
#define _OMC_LIT122 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT122)
#define _OMC_LIT123_data "Linear iteration variables with predefined start attributes that are unrelevant in "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT123,83,_OMC_LIT123_data);
#define _OMC_LIT123 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT123)
#define _OMC_LIT124_data "Info: Only non-linear iteration variables in non-linear eqation systems require start values. All other start values have no influence on convergence and are ignored."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT124,166,_OMC_LIT124_data);
#define _OMC_LIT124 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT124)
#define _OMC_LIT125_data "dumpLoops"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT125,9,_OMC_LIT125_data);
#define _OMC_LIT125 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT125)
#define _OMC_LIT126_data "Dumps loop equation."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT126,20,_OMC_LIT126_data);
#define _OMC_LIT126 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT126)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT127,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT126}};
#define _OMC_LIT127 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT127)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT128,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(142)),_OMC_LIT125,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT127}};
#define _OMC_LIT128 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT128)
#define _OMC_LIT129_data " Use \"-d=dumpLoops\" to show all loops. In OMEdit Tools->Options->Simulation->Additional Translation Flags, in OMNotebook call setCommandLineOptions(\"-d=dumpLoops\")\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT129,165,_OMC_LIT129_data);
#define _OMC_LIT129 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT129)
#define _OMC_LIT130_data "For more information set -d=initialization. In OMEdit Tools->Options->Simulation->Show additional information from the initialization process, in OMNotebook call setCommandLineOptions(\"-d=initialization\")"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT130,204,_OMC_LIT130_data);
#define _OMC_LIT130 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT130)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT131,1,5) {&ErrorTypes_Severity_WARNING__desc,}};
#define _OMC_LIT131 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT131)
#define _OMC_LIT132_data "There are nonlinear iteration variables with default zero start attribute found in %s. %s."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT132,90,_OMC_LIT132_data);
#define _OMC_LIT132 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT132)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT133,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT132}};
#define _OMC_LIT133 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT133)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT134,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(498)),_OMC_LIT58,_OMC_LIT131,_OMC_LIT133}};
#define _OMC_LIT134 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT134)
#define _OMC_LIT135_data "initialization"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT135,14,_OMC_LIT135_data);
#define _OMC_LIT135 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT135)
#define _OMC_LIT136_data "Shows additional information from the initialization process."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT136,61,_OMC_LIT136_data);
#define _OMC_LIT136 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT136)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT137,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT136}};
#define _OMC_LIT137 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT137)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT138,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(86)),_OMC_LIT135,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT137}};
#define _OMC_LIT138 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT138)
#define _OMC_LIT139_data "LSanalyticJacobian"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT139,18,_OMC_LIT139_data);
#define _OMC_LIT139 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT139)
#define _OMC_LIT140_data "Enables analytical jacobian for linear strong components. Defaults to false"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT140,75,_OMC_LIT140_data);
#define _OMC_LIT140 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT140)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT141,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT140}};
#define _OMC_LIT141 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT141)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT142,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(82)),_OMC_LIT139,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT141}};
#define _OMC_LIT142 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT142)
#define _OMC_LIT143_data "NLSJac"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT143,6,_OMC_LIT143_data);
#define _OMC_LIT143 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT143)
#define _OMC_LIT144_data "NLSanalyticJacobian"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT144,19,_OMC_LIT144_data);
#define _OMC_LIT144 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT144)
#define _OMC_LIT145_data "Enables analytical jacobian for non-linear strong components without user-defined function calls, for that see forceNLSanalyticJacobian"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT145,135,_OMC_LIT145_data);
#define _OMC_LIT145 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT145)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT146,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT145}};
#define _OMC_LIT146 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT146)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT147,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(83)),_OMC_LIT144,MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),_OMC_LIT146}};
#define _OMC_LIT147 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT147)
#define _OMC_LIT148_data "$res_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT148,5,_OMC_LIT148_data);
#define _OMC_LIT148 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT148)
#define _OMC_LIT149_data "_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT149,1,_OMC_LIT149_data);
#define _OMC_LIT149 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT149)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT150,1,6) {&BackendDAE_JacobianType_JAC__GENERIC__desc,}};
#define _OMC_LIT150 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT150)
#define _OMC_LIT151_data "function calculateJacobianComponent failed to check all non-linear iteration variables for start values."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT151,104,_OMC_LIT151_data);
#define _OMC_LIT151 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT151)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT152_6,1.758197185e9);
#define _OMC_LIT152_6 MMC_REFREALLIT(_OMC_LIT_STRUCT152_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT152,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2987)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2987)),MMC_IMMEDIATE(MMC_TAGFIXNUM(153)),_OMC_LIT152_6}};
#define _OMC_LIT152 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT152)
#define _OMC_LIT153_data "NLS"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT153,3,_OMC_LIT153_data);
#define _OMC_LIT153 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT153)
#define _OMC_LIT154_data "LS"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT154,2,_OMC_LIT154_data);
#define _OMC_LIT154 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT154)
#define _OMC_LIT155_data "Jac"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT155,3,_OMC_LIT155_data);
#define _OMC_LIT155 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT155)
#define _OMC_LIT156_data "*** "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT156,4,_OMC_LIT156_data);
#define _OMC_LIT156 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT156)
#define _OMC_LIT157_data "-JAC *** start creating Jacobian for a torn system "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT157,51,_OMC_LIT157_data);
#define _OMC_LIT157 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT157)
#define _OMC_LIT158_data " of size "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT158,9,_OMC_LIT158_data);
#define _OMC_LIT158 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT158)
#define _OMC_LIT159_data " time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT159,7,_OMC_LIT159_data);
#define _OMC_LIT159 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT159)
#define _OMC_LIT160_data "-JAC *** prepared all data for differentiation at time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT160,56,_OMC_LIT160_data);
#define _OMC_LIT160 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT160)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT161,3,0) {MMC_REFSTRUCTLIT(mmc_nil),MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT161 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT161)
#define _OMC_LIT162_data "Skip symbolic jacobian for non-linear system "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT162,45,_OMC_LIT162_data);
#define _OMC_LIT162 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT162)
#define _OMC_LIT163_data "forceNLSanalyticJacobian"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT163,24,_OMC_LIT163_data);
#define _OMC_LIT163 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT163)
#define _OMC_LIT164_data "Forces calculation analytical jacobian also for non-linear strong components with user-defined functions."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT164,105,_OMC_LIT164_data);
#define _OMC_LIT164 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT164)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT165,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT164}};
#define _OMC_LIT165 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT165)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT166,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(141)),_OMC_LIT163,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT165}};
#define _OMC_LIT166 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT166)
#define _OMC_LIT167_data "*** got iteration variables at time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT167,37,_OMC_LIT167_data);
#define _OMC_LIT167 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT167)
#define _OMC_LIT168_data "debugAlgebraicLoopsJacobian"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT168,27,_OMC_LIT168_data);
#define _OMC_LIT168 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT168)
#define _OMC_LIT169_data "Dumps debug output while creating symbolic jacobians for non-linear systems."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT169,76,_OMC_LIT169_data);
#define _OMC_LIT169 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT169)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT170,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT169}};
#define _OMC_LIT170 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT170)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT171,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(139)),_OMC_LIT168,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT170}};
#define _OMC_LIT171 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT171)
#define _OMC_LIT172_data "*** got residual equation and created corresponding variables at time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT172,71,_OMC_LIT172_data);
#define _OMC_LIT172 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT172)
#define _OMC_LIT173_data "Equations:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT173,11,_OMC_LIT173_data);
#define _OMC_LIT173 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT173)
#define _OMC_LIT174_data "other Equations:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT174,17,_OMC_LIT174_data);
#define _OMC_LIT174 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT174)
#define _OMC_LIT175_data "other Variables:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT175,17,_OMC_LIT175_data);
#define _OMC_LIT175 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT175)
#define _OMC_LIT176_data "function getJacobianDependencies failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT176,39,_OMC_LIT176_data);
#define _OMC_LIT176 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT176)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT177_6,1.758197185e9);
#define _OMC_LIT177_6 MMC_REFREALLIT(_OMC_LIT_STRUCT177_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT177,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2673)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2673)),MMC_IMMEDIATE(MMC_TAGFIXNUM(86)),_OMC_LIT177_6}};
#define _OMC_LIT177 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT177)
#define _OMC_LIT178_data "Internal error %s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT178,17,_OMC_LIT178_data);
#define _OMC_LIT178 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT178)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT179,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT178}};
#define _OMC_LIT179 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT179)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT180,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(63)),_OMC_LIT58,_OMC_LIT59,_OMC_LIT179}};
#define _OMC_LIT180 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT180)
#define _OMC_LIT181_data "SymbolicJacobian.deriveAll failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT181,33,_OMC_LIT181_data);
#define _OMC_LIT181 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT181)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT182,2,1) {_OMC_LIT181,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT182 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT182)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT183,1,5) {&BackendDAE_VarKind_STATE__DER__desc,}};
#define _OMC_LIT183 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT183)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT184,1,3) {&BackendDAE_VarKind_VARIABLE__desc,}};
#define _OMC_LIT184 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT184)
#define _OMC_LIT185_data "SymbolicJacobian.createAllDiffedVars failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT185,43,_OMC_LIT185_data);
#define _OMC_LIT185 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT185)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT186,2,1) {_OMC_LIT185,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT186 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT186)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT187,1,3) {&DAE_VarDirection_INPUT__desc,}};
#define _OMC_LIT187 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT187)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT188,1,5) {&DAE_VarParallelism_NON__PARALLEL__desc,}};
#define _OMC_LIT188 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT188)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT189,1,6) {&DAE_ConnectorType_NON__CONNECTOR__desc,}};
#define _OMC_LIT189 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT189)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT190,1,6) {&DAE_VarInnerOuter_NOT__INNER__OUTER__desc,}};
#define _OMC_LIT190 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT190)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT191,1,4) {&BackendDAE_BackendDAEType_JACOBIAN__desc,}};
#define _OMC_LIT191 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT191)
#define _OMC_LIT192_data "dummyVar"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT192,8,_OMC_LIT192_data);
#define _OMC_LIT192 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT192)
#define _OMC_LIT193_data "*** analytical Jacobians -> derived all algorithms time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT193,57,_OMC_LIT193_data);
#define _OMC_LIT193 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT193)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT194,1,5) {&AvlSetPath_Tree_EMPTY__desc,}};
#define _OMC_LIT194 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT194)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT195,9,3) {&BackendDAE_DifferentiateInputData_DIFFINPUTDATA__desc,MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT194}};
#define _OMC_LIT195 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT195)
#define _OMC_LIT196_data "*** analytical Jacobians -> before derive all equation: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT196,56,_OMC_LIT196_data);
#define _OMC_LIT196 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT196)
#define _OMC_LIT197_data "*** analytical Jacobians -> after derive all equation: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT197,55,_OMC_LIT197_data);
#define _OMC_LIT197 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT197)
#define _OMC_LIT198_data "*** analytical Jacobians -> created all derived equation time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT198,63,_OMC_LIT198_data);
#define _OMC_LIT198 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT198)
#define _OMC_LIT199_data "SymbolicJacobian.generateSymbolicJacobian failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT199,48,_OMC_LIT199_data);
#define _OMC_LIT199 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT199)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT200_6,1.758197185e9);
#define _OMC_LIT200_6 MMC_REFREALLIT(_OMC_LIT_STRUCT200_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT200,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2481)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2481)),MMC_IMMEDIATE(MMC_TAGFIXNUM(74)),_OMC_LIT200_6}};
#define _OMC_LIT200 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT200)
#define _OMC_LIT201_data "analytical Jacobians -> optimize jacobians time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT201,49,_OMC_LIT201_data);
#define _OMC_LIT201 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT201)
#define _OMC_LIT202_data "execstat"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT202,8,_OMC_LIT202_data);
#define _OMC_LIT202 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT202)
#define _OMC_LIT203_data "Prints out execution statistics for the compiler."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT203,49,_OMC_LIT203_data);
#define _OMC_LIT203 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT203)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT204,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT203}};
#define _OMC_LIT204 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT204)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT205,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(31)),_OMC_LIT202,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT204}};
#define _OMC_LIT205 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT205)
#define _OMC_LIT206_data "Symbolic Jacobian"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT206,17,_OMC_LIT206_data);
#define _OMC_LIT206 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT206)
#define _OMC_LIT207_data "wrapFunctionCalls"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT207,17,_OMC_LIT207_data);
#define _OMC_LIT207 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT207)
#define _OMC_LIT208_data "inlineArrayEqn"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT208,14,_OMC_LIT208_data);
#define _OMC_LIT208 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT208)
#define _OMC_LIT209_data "constantLinearSystem"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT209,20,_OMC_LIT209_data);
#define _OMC_LIT209 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT209)
#define _OMC_LIT210_data "solveSimpleEquations"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT210,20,_OMC_LIT210_data);
#define _OMC_LIT210 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT210)
#define _OMC_LIT211_data "tearingSystem"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT211,13,_OMC_LIT211_data);
#define _OMC_LIT211 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT211)
#define _OMC_LIT212_data "calculateStrongComponentJacobians"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT212,33,_OMC_LIT212_data);
#define _OMC_LIT212 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT212)
#define _OMC_LIT213_data "removeConstants"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT213,15,_OMC_LIT213_data);
#define _OMC_LIT213 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT213)
#define _OMC_LIT214_data "simplifyTimeIndepFuncCalls"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT214,26,_OMC_LIT214_data);
#define _OMC_LIT214 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT214)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT215,2,1) {_OMC_LIT214,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT215 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT215)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT216,2,1) {_OMC_LIT213,_OMC_LIT215}};
#define _OMC_LIT216 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT216)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT217,2,1) {_OMC_LIT212,_OMC_LIT216}};
#define _OMC_LIT217 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT217)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT218,2,1) {_OMC_LIT211,_OMC_LIT217}};
#define _OMC_LIT218 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT218)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT219,2,1) {_OMC_LIT210,_OMC_LIT218}};
#define _OMC_LIT219 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT219)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT220,2,1) {_OMC_LIT209,_OMC_LIT219}};
#define _OMC_LIT220 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT220)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT221,2,1) {_OMC_LIT208,_OMC_LIT220}};
#define _OMC_LIT221 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT221)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT222,2,1) {_OMC_LIT207,_OMC_LIT221}};
#define _OMC_LIT222 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT222)
#define _OMC_LIT223_data "removeSimpleEquations"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT223,21,_OMC_LIT223_data);
#define _OMC_LIT223 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT223)
#define _OMC_LIT224_data "symJacConstantSplit"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT224,19,_OMC_LIT224_data);
#define _OMC_LIT224 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT224)
#define _OMC_LIT225_data "Generates all symbolic Jacobians with splitted constant parts."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT225,62,_OMC_LIT225_data);
#define _OMC_LIT225 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT225)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT226,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT225}};
#define _OMC_LIT226 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT226)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT227,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(179)),_OMC_LIT224,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT226}};
#define _OMC_LIT227 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT227)
#define _OMC_LIT228_data "removeEqualRHS"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT228,14,_OMC_LIT228_data);
#define _OMC_LIT228 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT228)
#define _OMC_LIT229_data "evalFunc"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT229,8,_OMC_LIT229_data);
#define _OMC_LIT229 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT229)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT230,2,1) {_OMC_LIT229,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT230 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT230)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT231,2,1) {_OMC_LIT223,_OMC_LIT230}};
#define _OMC_LIT231 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT231)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT232,2,1) {_OMC_LIT228,_OMC_LIT231}};
#define _OMC_LIT232 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT232)
#define _OMC_LIT233_data "function optimizeJacobianMatrix failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT233,38,_OMC_LIT233_data);
#define _OMC_LIT233 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT233)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT234_6,1.758197185e9);
#define _OMC_LIT234_6 MMC_REFREALLIT(_OMC_LIT_STRUCT234_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT234,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2355)),MMC_IMMEDIATE(MMC_TAGFIXNUM(10)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2355)),MMC_IMMEDIATE(MMC_TAGFIXNUM(88)),_OMC_LIT234_6}};
#define _OMC_LIT234 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT234)
#define _OMC_LIT235_data "Create symbolic Jacobians from:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT235,32,_OMC_LIT235_data);
#define _OMC_LIT235 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT235)
#define _OMC_LIT236_data "Independent Variables"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT236,21,_OMC_LIT236_data);
#define _OMC_LIT236 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT236)
#define _OMC_LIT237_data "Dependent Variables"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT237,19,_OMC_LIT237_data);
#define _OMC_LIT237 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT237)
#define _OMC_LIT238_data "Basic equation system:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT238,23,_OMC_LIT238_data);
#define _OMC_LIT238 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT238)
#define _OMC_LIT239_data "differentiated equations"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT239,24,_OMC_LIT239_data);
#define _OMC_LIT239 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT239)
#define _OMC_LIT240_data "related variables"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT240,17,_OMC_LIT240_data);
#define _OMC_LIT240 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT240)
#define _OMC_LIT241_data "known variables"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT241,15,_OMC_LIT241_data);
#define _OMC_LIT241 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT241)
#define _OMC_LIT242_data "analytical Jacobians -> generated equations for Jacobian "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT242,57,_OMC_LIT242_data);
#define _OMC_LIT242 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT242)
#define _OMC_LIT243_data "analytical Jacobians -> generated Jacobian DAE time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT243,53,_OMC_LIT243_data);
#define _OMC_LIT243 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT243)
#define _OMC_LIT244_data "function createJacobian failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT244,30,_OMC_LIT244_data);
#define _OMC_LIT244 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT244)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT245_6,1.758197185e9);
#define _OMC_LIT245_6 MMC_REFREALLIT(_OMC_LIT_STRUCT245_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT245,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2272)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2272)),MMC_IMMEDIATE(MMC_TAGFIXNUM(79)),_OMC_LIT245_6}};
#define _OMC_LIT245 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT245)
#define _OMC_LIT246_data "FMIDERINIT"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT246,10,_OMC_LIT246_data);
#define _OMC_LIT246 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT246)
#define _OMC_LIT247_data "A"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT247,1,_OMC_LIT247_data);
#define _OMC_LIT247 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT247)
#define _OMC_LIT248_data "analytical Jacobians -> generated system for matrix A time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT248,60,_OMC_LIT248_data);
#define _OMC_LIT248 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT248)
#define _OMC_LIT249_data "B"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT249,1,_OMC_LIT249_data);
#define _OMC_LIT249 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT249)
#define _OMC_LIT250_data "analytical Jacobians -> generated system for matrix B time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT250,60,_OMC_LIT250_data);
#define _OMC_LIT250 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT250)
#define _OMC_LIT251_data "C"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT251,1,_OMC_LIT251_data);
#define _OMC_LIT251 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT251)
#define _OMC_LIT252_data "analytical Jacobians -> generated system for matrix C time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT252,60,_OMC_LIT252_data);
#define _OMC_LIT252 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT252)
#define _OMC_LIT253_data "D"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT253,1,_OMC_LIT253_data);
#define _OMC_LIT253 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT253)
#define _OMC_LIT254_data "analytical Jacobians -> generated system for matrix D time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT254,60,_OMC_LIT254_data);
#define _OMC_LIT254 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT254)
#define _OMC_LIT255_data "$OMC$objectLagrangeTerm"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT255,23,_OMC_LIT255_data);
#define _OMC_LIT255 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT255)
#define _OMC_LIT256_data "$OMC$objectMayerTerm"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT256,20,_OMC_LIT256_data);
#define _OMC_LIT256 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT256)
#define _OMC_LIT257_data "Generation of LinearModel Matrices failed."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT257,42,_OMC_LIT257_data);
#define _OMC_LIT257 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT257)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT258_6,1.758197185e9);
#define _OMC_LIT258_6 MMC_REFREALLIT(_OMC_LIT_STRUCT258_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT258,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2152)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2152)),MMC_IMMEDIATE(MMC_TAGFIXNUM(91)),_OMC_LIT258_6}};
#define _OMC_LIT258 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT258)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT259,1,3) {&BackendDAE_EquationKind_BINDING__EQUATION__desc,}};
#define _OMC_LIT259 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT259)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT260,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT259,_OMC_LIT16}};
#define _OMC_LIT260 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT260)
#define _OMC_LIT261_data "disableDirectionalDerivatives"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT261,29,_OMC_LIT261_data);
#define _OMC_LIT261 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT261)
#define _OMC_LIT262_data "For FMI 2.0 only dependecy analysis will be perform."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT262,52,_OMC_LIT262_data);
#define _OMC_LIT262 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT262)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT263,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT262}};
#define _OMC_LIT263 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT263)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT264,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(129)),_OMC_LIT261,MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),_OMC_LIT263}};
#define _OMC_LIT264 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT264)
#define _OMC_LIT265_data "FMI sparsity"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT265,12,_OMC_LIT265_data);
#define _OMC_LIT265 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT265)
#define _OMC_LIT266_data "function createFMIModelDerivativesForInitialization failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT266,58,_OMC_LIT266_data);
#define _OMC_LIT266 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT266)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT267_6,1.758197185e9);
#define _OMC_LIT267_6 MMC_REFREALLIT(_OMC_LIT_STRUCT267_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT267,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1970)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1970)),MMC_IMMEDIATE(MMC_TAGFIXNUM(101)),_OMC_LIT267_6}};
#define _OMC_LIT267 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT267)
#define _OMC_LIT268_data "FMIDER"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT268,6,_OMC_LIT268_data);
#define _OMC_LIT268 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT268)
#define _OMC_LIT269_data "function createFMIModelDerivatives failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT269,41,_OMC_LIT269_data);
#define _OMC_LIT269 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT269)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT270_6,1.758197185e9);
#define _OMC_LIT270_6 MMC_REFREALLIT(_OMC_LIT_STRUCT270_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT270,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1821)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1821)),MMC_IMMEDIATE(MMC_TAGFIXNUM(84)),_OMC_LIT270_6}};
#define _OMC_LIT270 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT270)
#define _OMC_LIT271_data "function mapIndexColors failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT271,30,_OMC_LIT271_data);
#define _OMC_LIT271 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT271)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT272_6,1.758197185e9);
#define _OMC_LIT272_6 MMC_REFREALLIT(_OMC_LIT_STRUCT272_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT272,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1687)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1687)),MMC_IMMEDIATE(MMC_TAGFIXNUM(75)),_OMC_LIT272_6}};
#define _OMC_LIT272 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT272)
#define _OMC_LIT273_data "function getSparsePattern failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT273,32,_OMC_LIT273_data);
#define _OMC_LIT273 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT273)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT274_6,1.758197185e9);
#define _OMC_LIT274_6 MMC_REFREALLIT(_OMC_LIT_STRUCT274_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT274,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1571)),MMC_IMMEDIATE(MMC_TAGFIXNUM(10)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1571)),MMC_IMMEDIATE(MMC_TAGFIXNUM(82)),_OMC_LIT274_6}};
#define _OMC_LIT274 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT274)
#define _OMC_LIT275_data "analytical Jacobians[SPARSE] -> got sparse pattern nonZeroElements: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT275,68,_OMC_LIT275_data);
#define _OMC_LIT275 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT275)
#define _OMC_LIT276_data " maxNodeDegree: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT276,16,_OMC_LIT276_data);
#define _OMC_LIT276 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT276)
#define _OMC_LIT277_data " time : "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT277,8,_OMC_LIT277_data);
#define _OMC_LIT277 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT277)
#define _OMC_LIT278_data "analytical Jacobians[SPARSE] -> build sparse graph.\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT278,52,_OMC_LIT278_data);
#define _OMC_LIT278 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT278)
#define _OMC_LIT279_data "dumpSparsePatternVerbose"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT279,24,_OMC_LIT279_data);
#define _OMC_LIT279 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT279)
#define _OMC_LIT280_data "Dumps in verbose mode sparse pattern with coloring used for simulation."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT280,71,_OMC_LIT280_data);
#define _OMC_LIT280 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT280)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT281,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT280}};
#define _OMC_LIT281 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT281)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT282,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(50)),_OMC_LIT279,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT281}};
#define _OMC_LIT282 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT282)
#define _OMC_LIT283_data "sparse graph: \n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT283,15,_OMC_LIT283_data);
#define _OMC_LIT283 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT283)
#define _OMC_LIT284_data "transposed sparse graph: \n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT284,26,_OMC_LIT284_data);
#define _OMC_LIT284 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT284)
#define _OMC_LIT285_data "analytical Jacobians[SPARSE] -> builded graph for coloring.\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT285,60,_OMC_LIT285_data);
#define _OMC_LIT285 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT285)
#define _OMC_LIT286_data "Print Coloring Cols: \n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT286,22,_OMC_LIT286_data);
#define _OMC_LIT286 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT286)
#define _OMC_LIT287_data "function createColoring failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT287,30,_OMC_LIT287_data);
#define _OMC_LIT287 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT287)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT288_6,1.758197185e9);
#define _OMC_LIT288_6 MMC_REFREALLIT(_OMC_LIT_STRUCT288_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT288,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1430)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1430)),MMC_IMMEDIATE(MMC_TAGFIXNUM(75)),_OMC_LIT288_6}};
#define _OMC_LIT288 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT288)
#define _OMC_LIT289_data "Nonlinear"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT289,9,_OMC_LIT289_data);
#define _OMC_LIT289 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT289)
#define _OMC_LIT290_data "Sparsity"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT290,8,_OMC_LIT290_data);
#define _OMC_LIT290 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT290)
#define _OMC_LIT291_data " start getting "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT291,15,_OMC_LIT291_data);
#define _OMC_LIT291 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT291)
#define _OMC_LIT292_data " pattern for variables : "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT292,25,_OMC_LIT292_data);
#define _OMC_LIT292 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT292)
#define _OMC_LIT293_data " and the independent vars: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT293,27,_OMC_LIT293_data);
#define _OMC_LIT293 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT293)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT294,1,8) {&BackendDAE_IndexType_SPARSE__desc,}};
#define _OMC_LIT294 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT294)
#define _OMC_LIT295_data "nodesEqnsIndexs: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT295,17,_OMC_LIT295_data);
#define _OMC_LIT295 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT295)
#define _OMC_LIT296_data "analytical Jacobians["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT296,21,_OMC_LIT296_data);
#define _OMC_LIT296 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT296)
#define _OMC_LIT297_data "] -> build sparse graph: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT297,25,_OMC_LIT297_data);
#define _OMC_LIT297 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT297)
#define _OMC_LIT298_data "] -> prepared arrayList for transpose list: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT298,44,_OMC_LIT298_data);
#define _OMC_LIT298 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT298)
#define _OMC_LIT299_data "disableColoring"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT299,15,_OMC_LIT299_data);
#define _OMC_LIT299 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT299)
#define _OMC_LIT300_data "Disables coloring algorithm while spasity detection."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT300,52,_OMC_LIT300_data);
#define _OMC_LIT300 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT300)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT301,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT300}};
#define _OMC_LIT301 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT301)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT302,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(158)),_OMC_LIT299,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT301}};
#define _OMC_LIT302 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT302)
#define _OMC_LIT303_data "] -> ready! "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT303,12,_OMC_LIT303_data);
#define _OMC_LIT303 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT303)
#define _OMC_LIT304_data " --- "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT304,5,_OMC_LIT304_data);
#define _OMC_LIT304 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT304)
#define _OMC_LIT305_data " Pattern ---"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT305,12,_OMC_LIT305_data);
#define _OMC_LIT305 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT305)
#define _OMC_LIT306_data " Coloring ---"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT306,13,_OMC_LIT306_data);
#define _OMC_LIT306 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT306)
#define _OMC_LIT307_data "dumpSparsePattern"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT307,17,_OMC_LIT307_data);
#define _OMC_LIT307 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT307)
#define _OMC_LIT308_data "Dumps sparse pattern with coloring used for simulation."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT308,55,_OMC_LIT308_data);
#define _OMC_LIT308 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT308)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT309,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT308}};
#define _OMC_LIT309 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT309)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT310,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(49)),_OMC_LIT307,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT309}};
#define _OMC_LIT310 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT310)
#define _OMC_LIT311_data "function generateSparsePattern failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT311,37,_OMC_LIT311_data);
#define _OMC_LIT311 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT311)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT312_6,1.758197185e9);
#define _OMC_LIT312_6 MMC_REFREALLIT(_OMC_LIT_STRUCT312_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT312,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1368)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1368)),MMC_IMMEDIATE(MMC_TAGFIXNUM(86)),_OMC_LIT312_6}};
#define _OMC_LIT312 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT312)
#define _OMC_LIT313_data " ;\n  "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT313,5,_OMC_LIT313_data);
#define _OMC_LIT313 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT313)
#define _OMC_LIT314_data " , "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT314,3,_OMC_LIT314_data);
#define _OMC_LIT314 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT314)
#define _OMC_LIT315_data "\n[\n  "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT315,5,_OMC_LIT315_data);
#define _OMC_LIT315 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT315)
#define _OMC_LIT316_data "\n]\n  *\n[\n  "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT316,11,_OMC_LIT316_data);
#define _OMC_LIT316 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT316)
#define _OMC_LIT317_data "\n]\n  =\n[\n  "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT317,11,_OMC_LIT317_data);
#define _OMC_LIT317 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT317)
#define _OMC_LIT318_data "\n]"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT318,2,_OMC_LIT318_data);
#define _OMC_LIT318 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT318)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT319,1,6) {&ErrorTypes_MessageType_SYMBOLIC__desc,}};
#define _OMC_LIT319 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT319)
#define _OMC_LIT320_data "The linear system: %1\n might be structurally or numerically singular for variable %3 since U(%2,%2) = 0.0. It might be hard to solve. Compilation continues anyway."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT320,163,_OMC_LIT320_data);
#define _OMC_LIT320 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT320)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT321,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT320}};
#define _OMC_LIT321 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT321)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT322,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(181)),_OMC_LIT319,_OMC_LIT131,_OMC_LIT321}};
#define _OMC_LIT322 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT322)
#define _OMC_LIT323_data " ; "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT323,3,_OMC_LIT323_data);
#define _OMC_LIT323 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT323)
#define _OMC_LIT324_data "\n["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT324,2,_OMC_LIT324_data);
#define _OMC_LIT324 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT324)
#define _OMC_LIT325_data "] * ["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT325,5,_OMC_LIT325_data);
#define _OMC_LIT325 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT325)
#define _OMC_LIT326_data "] = ["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT326,5,_OMC_LIT326_data);
#define _OMC_LIT326 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT326)
#define _OMC_LIT327_data "]"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT327,1,_OMC_LIT327_data);
#define _OMC_LIT327 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT327)
#define _OMC_LIT328_data "Linear solver (%s) returned invalid input for linear system %s."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT328,63,_OMC_LIT328_data);
#define _OMC_LIT328 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT328)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT329,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT328}};
#define _OMC_LIT329 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT329)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT330,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(180)),_OMC_LIT319,_OMC_LIT59,_OMC_LIT329}};
#define _OMC_LIT330 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT330)
#define _OMC_LIT331_data "LAPACK/dgesv"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT331,12,_OMC_LIT331_data);
#define _OMC_LIT331 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT331)
#define _OMC_LIT332_data "constjac"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT332,8,_OMC_LIT332_data);
#define _OMC_LIT332 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT332)
#define _OMC_LIT333_data "solves linear systems with constant Jacobian and variable b-Vector symbolically"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT333,79,_OMC_LIT333_data);
#define _OMC_LIT333 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT333)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT334,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT333}};
#define _OMC_LIT334 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT334)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT335,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(121)),_OMC_LIT332,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT334}};
#define _OMC_LIT335 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT335)
#define _OMC_LIT336_data "$sys"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT336,4,_OMC_LIT336_data);
#define _OMC_LIT336 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT336)
#define _OMC_LIT337_data "_b"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT337,2,_OMC_LIT337_data);
#define _OMC_LIT337 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT337)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT338,1,4) {&BackendDAE_EquationKind_DYNAMIC__EQUATION__desc,}};
#define _OMC_LIT338 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT338)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT339,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT338,_OMC_LIT16}};
#define _OMC_LIT339 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT339)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT340,1.0);
#define _OMC_LIT340 MMC_REFREALLIT(_OMC_LIT_STRUCT340)
#define _OMC_LIT341_data "The model requires derivatives of some inputs as listed below:\n%s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT341,65,_OMC_LIT341_data);
#define _OMC_LIT341 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT341)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT342,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT341}};
#define _OMC_LIT342 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT342)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT343,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(528)),_OMC_LIT58,_OMC_LIT59,_OMC_LIT342}};
#define _OMC_LIT343 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT343)
#define _OMC_LIT344_data "generateSymbolicLinearization"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT344,29,_OMC_LIT344_data);
#define _OMC_LIT344 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT344)
#define _OMC_LIT345_data "Generates symbolic linearization matrices A,B,C,D for linear model:\n		:math:`\\dot{x} = Ax + Bu`\n		:math:`y = Cx + Du`"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT345,117,_OMC_LIT345_data);
#define _OMC_LIT345 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT345)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT346,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT345}};
#define _OMC_LIT346 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT346)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT347,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(52)),_OMC_LIT344,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT6,_OMC_LIT7,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT346}};
#define _OMC_LIT347 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT347)
#define _OMC_LIT348_data "analytical Jacobians -> start generate system for matrix S time : "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT348,66,_OMC_LIT348_data);
#define _OMC_LIT348 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT348)
#define _OMC_LIT349_data "analytical Jacobians -> prepared vars for symbolic matrix S time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT349,66,_OMC_LIT349_data);
#define _OMC_LIT349 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT349)
#define _OMC_LIT350_data "System to create symbolic jacobian of: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT350,39,_OMC_LIT350_data);
#define _OMC_LIT350 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT350)
#define _OMC_LIT351_data "S"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT351,1,_OMC_LIT351_data);
#define _OMC_LIT351 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT351)
#define _OMC_LIT352_data "analytical Jacobians -> start generate system for matrix A time : "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT352,66,_OMC_LIT352_data);
#define _OMC_LIT352 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT352)
#define _OMC_LIT353_data "analytical Jacobians -> prepared vars for symbolic matrix A time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT353,66,_OMC_LIT353_data);
#define _OMC_LIT353 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT353)
#define _OMC_LIT354_data "generateDynamicJacobian"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT354,23,_OMC_LIT354_data);
#define _OMC_LIT354 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT354)
#define _OMC_LIT355_data "numeric"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT355,7,_OMC_LIT355_data);
#define _OMC_LIT355 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT355)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT356,2,8) {&Flags_FlagData_STRING__FLAG__desc,_OMC_LIT355}};
#define _OMC_LIT356 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT356)
#define _OMC_LIT357_data "none"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT357,4,_OMC_LIT357_data);
#define _OMC_LIT357 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT357)
#define _OMC_LIT358_data "Does not generate Jacobian. For use with explicit solvers."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT358,58,_OMC_LIT358_data);
#define _OMC_LIT358 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT358)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT359,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT358}};
#define _OMC_LIT359 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT359)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT360,2,0) {_OMC_LIT357,_OMC_LIT359}};
#define _OMC_LIT360 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT360)
#define _OMC_LIT361_data "Generates sparsity pattern for numeric Jacobian."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT361,48,_OMC_LIT361_data);
#define _OMC_LIT361 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT361)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT362,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT361}};
#define _OMC_LIT362 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT362)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT363,2,0) {_OMC_LIT355,_OMC_LIT362}};
#define _OMC_LIT363 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT363)
#define _OMC_LIT364_data "symbolic"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT364,8,_OMC_LIT364_data);
#define _OMC_LIT364 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT364)
#define _OMC_LIT365_data "Generates symbolic Jacobian. Used by dassl or ida solver with simulation flag '-jacobian'."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT365,90,_OMC_LIT365_data);
#define _OMC_LIT365 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT365)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT366,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT365}};
#define _OMC_LIT366 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT366)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT367,2,0) {_OMC_LIT364,_OMC_LIT366}};
#define _OMC_LIT367 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT367)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT368,2,1) {_OMC_LIT367,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT368 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT368)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT369,2,1) {_OMC_LIT363,_OMC_LIT368}};
#define _OMC_LIT369 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT369)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT370,2,1) {_OMC_LIT360,_OMC_LIT369}};
#define _OMC_LIT370 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT370)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT371,2,4) {&Flags_ValidOptions_STRING__DESC__OPTION__desc,_OMC_LIT370}};
#define _OMC_LIT371 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT371)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT372,1,1) {_OMC_LIT371}};
#define _OMC_LIT372 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT372)
#define _OMC_LIT373_data "Select how Jacobian matrix is generated, where der(x) is differentiated w.r.t. x."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT373,81,_OMC_LIT373_data);
#define _OMC_LIT373 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT373)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT374,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT373}};
#define _OMC_LIT374 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT374)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT375,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(51)),_OMC_LIT354,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT6,_OMC_LIT356,_OMC_LIT372,_OMC_LIT374}};
#define _OMC_LIT375 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT375)
#define _OMC_LIT376_data "The optimization module SymbolicJacobian.symbolicJacobianDAE failed. This module will be skipped and the transformation process continued."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT376,138,_OMC_LIT376_data);
#define _OMC_LIT376 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT376)
#define _OMC_LIT377_data "The optimization module detectJacobianSparsePattern failed. This module will be skipped and the transformation process continued."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT377,129,_OMC_LIT377_data);
#define _OMC_LIT377 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT377)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT378,2,0) {MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1))}};
#define _OMC_LIT378 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT378)
#include "util/modelica.h"

#include "SymbolicJacobian_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_LinearJacobian_generateLHSfromList(threadData_t *threadData, modelica_metatype _row_indices, modelica_metatype _row_values, modelica_metatype _vars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_LinearJacobian_generateLHSfromList,2,0) {(void*) boxptr_SymbolicJacobian_LinearJacobian_generateLHSfromList,0}};
#define boxvar_SymbolicJacobian_LinearJacobian_generateLHSfromList MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_LinearJacobian_generateLHSfromList)
PROTECTED_FUNCTION_STATIC modelica_real omc_SymbolicJacobian_LinearJacobian_getElementValue(threadData_t *threadData, modelica_metatype _row, modelica_integer _col_index);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_LinearJacobian_getElementValue(threadData_t *threadData, modelica_metatype _row, modelica_metatype _col_index);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_LinearJacobian_getElementValue,2,0) {(void*) boxptr_SymbolicJacobian_LinearJacobian_getElementValue,0}};
#define boxvar_SymbolicJacobian_LinearJacobian_getElementValue MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_LinearJacobian_getElementValue)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_LinearJacobian_getPivot(threadData_t *threadData, modelica_metatype _pivot_row);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_LinearJacobian_getPivot,2,0) {(void*) boxptr_SymbolicJacobian_LinearJacobian_getPivot,0}};
#define boxvar_SymbolicJacobian_LinearJacobian_getPivot MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_LinearJacobian_getPivot)
PROTECTED_FUNCTION_STATIC modelica_real omc_SymbolicJacobian_LinearJacobian_generate_intWrapperFunc(threadData_t *threadData, modelica_metatype _e);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_LinearJacobian_generate_intWrapperFunc(threadData_t *threadData, modelica_metatype _e);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_LinearJacobian_generate_intWrapperFunc,2,0) {(void*) boxptr_SymbolicJacobian_LinearJacobian_generate_intWrapperFunc,0}};
#define boxvar_SymbolicJacobian_LinearJacobian_generate_intWrapperFunc MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_LinearJacobian_generate_intWrapperFunc)
PROTECTED_FUNCTION_STATIC modelica_string omc_SymbolicJacobian_LinearJacobian_rowToString(threadData_t *threadData, modelica_metatype _row, modelica_metatype _rhs, modelica_metatype _indices, modelica_boolean _changed);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_LinearJacobian_rowToString(threadData_t *threadData, modelica_metatype _row, modelica_metatype _rhs, modelica_metatype _indices, modelica_metatype _changed);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_LinearJacobian_rowToString,2,0) {(void*) boxptr_SymbolicJacobian_LinearJacobian_rowToString,0}};
#define boxvar_SymbolicJacobian_LinearJacobian_rowToString MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_LinearJacobian_rowToString)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_stripPartialDerWork(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_boolean *out_strip);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_stripPartialDerWork(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_metatype *out_strip);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_stripPartialDerWork,2,0) {(void*) boxptr_SymbolicJacobian_stripPartialDerWork,0}};
#define boxvar_SymbolicJacobian_stripPartialDerWork MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_stripPartialDerWork)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_stripPartialDer(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref_5Ftpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_stripPartialDer,2,0) {(void*) boxptr_SymbolicJacobian_stripPartialDer,0}};
#define boxvar_SymbolicJacobian_stripPartialDer MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_stripPartialDer)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_stripPartialDerNonlinearPattern(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fpat);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_stripPartialDerNonlinearPattern,2,0) {(void*) boxptr_SymbolicJacobian_stripPartialDerNonlinearPattern,0}};
#define boxvar_SymbolicJacobian_stripPartialDerNonlinearPattern MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_stripPartialDerNonlinearPattern)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_fixedVarsFromNonlinearCount(threadData_t *threadData, modelica_metatype _tplLst, modelica_integer _toFix);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_fixedVarsFromNonlinearCount(threadData_t *threadData, modelica_metatype _tplLst, modelica_metatype _toFix);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_fixedVarsFromNonlinearCount,2,0) {(void*) boxptr_SymbolicJacobian_fixedVarsFromNonlinearCount,0}};
#define boxvar_SymbolicJacobian_fixedVarsFromNonlinearCount MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_fixedVarsFromNonlinearCount)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getNonlinearStateCount0(threadData_t *threadData, modelica_metatype _inEq, modelica_metatype _inTpl, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getNonlinearStateCount0,2,0) {(void*) boxptr_SymbolicJacobian_getNonlinearStateCount0,0}};
#define boxvar_SymbolicJacobian_getNonlinearStateCount0 MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getNonlinearStateCount0)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getNonlinearStateCount(threadData_t *threadData, modelica_metatype _state, modelica_metatype _diffVars, modelica_metatype _dae, modelica_string _matrixName);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getNonlinearStateCount,2,0) {(void*) boxptr_SymbolicJacobian_getNonlinearStateCount,0}};
#define boxvar_SymbolicJacobian_getNonlinearStateCount MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getNonlinearStateCount)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_checkForNonLinearStrongComponents__work(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsyst, modelica_metatype __omcQ_24in_5Fshared, modelica_metatype *out_shared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_checkForNonLinearStrongComponents__work,2,0) {(void*) boxptr_SymbolicJacobian_checkForNonLinearStrongComponents__work,0}};
#define boxvar_SymbolicJacobian_checkForNonLinearStrongComponents__work MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_checkForNonLinearStrongComponents__work)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_checkForNonLinearStrongComponents(threadData_t *threadData, modelica_metatype _symbolicJacobian);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_checkForNonLinearStrongComponents(threadData_t *threadData, modelica_metatype _symbolicJacobian);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_checkForNonLinearStrongComponents,2,0) {(void*) boxptr_SymbolicJacobian_checkForNonLinearStrongComponents,0}};
#define boxvar_SymbolicJacobian_checkForNonLinearStrongComponents MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_checkForNonLinearStrongComponents)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getJacobianResiduals(threadData_t *threadData, modelica_metatype _jacDAE);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getJacobianResiduals,2,0) {(void*) boxptr_SymbolicJacobian_getJacobianResiduals,0}};
#define boxvar_SymbolicJacobian_getJacobianResiduals MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getJacobianResiduals)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_rhsConstant2(threadData_t *threadData, modelica_metatype _inEq, modelica_metatype _inTpl, modelica_boolean *out_cont, modelica_metatype *out_outTpl);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_rhsConstant2(threadData_t *threadData, modelica_metatype _inEq, modelica_metatype _inTpl, modelica_metatype *out_cont, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_rhsConstant2,2,0) {(void*) boxptr_SymbolicJacobian_rhsConstant2,0}};
#define boxvar_SymbolicJacobian_rhsConstant2 MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_rhsConstant2)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_rhsConstant(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _eqns);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_rhsConstant(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _eqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_rhsConstant,2,0) {(void*) boxptr_SymbolicJacobian_rhsConstant,0}};
#define boxvar_SymbolicJacobian_rhsConstant MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_rhsConstant)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_varsNotInRelations(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Ftpl, modelica_boolean *out_cont, modelica_metatype *out_tpl);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_varsNotInRelations(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Ftpl, modelica_metatype *out_cont, modelica_metatype *out_tpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_varsNotInRelations,2,0) {(void*) boxptr_SymbolicJacobian_varsNotInRelations,0}};
#define boxvar_SymbolicJacobian_varsNotInRelations MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_varsNotInRelations)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_jacobianConstant(threadData_t *threadData, modelica_metatype _inTplIntegerIntegerEquationLst);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_jacobianConstant(threadData_t *threadData, modelica_metatype _inTplIntegerIntegerEquationLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_jacobianConstant,2,0) {(void*) boxptr_SymbolicJacobian_jacobianConstant,0}};
#define boxvar_SymbolicJacobian_jacobianConstant MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_jacobianConstant)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_traverserjacobianNonlinearExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _tpl, modelica_boolean *out_cont, modelica_metatype *out_outTpl);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_traverserjacobianNonlinearExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _tpl, modelica_metatype *out_cont, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_traverserjacobianNonlinearExp,2,0) {(void*) boxptr_SymbolicJacobian_traverserjacobianNonlinearExp,0}};
#define boxvar_SymbolicJacobian_traverserjacobianNonlinearExp MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_traverserjacobianNonlinearExp)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_jacobianNonlinearExp(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _inExp);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_jacobianNonlinearExp(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _inExp);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_jacobianNonlinearExp,2,0) {(void*) boxptr_SymbolicJacobian_jacobianNonlinearExp,0}};
#define boxvar_SymbolicJacobian_jacobianNonlinearExp MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_jacobianNonlinearExp)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_jacobianNonlinear(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _inTplIntegerIntegerEquationLst);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_jacobianNonlinear(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _inTplIntegerIntegerEquationLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_jacobianNonlinear,2,0) {(void*) boxptr_SymbolicJacobian_jacobianNonlinear,0}};
#define boxvar_SymbolicJacobian_jacobianNonlinear MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_jacobianNonlinear)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_addBackendDAESharedJacobianSparsePattern(threadData_t *threadData, modelica_metatype _inSparsePattern, modelica_metatype _inSparseColoring, modelica_integer _inIndex, modelica_metatype _inShared);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_addBackendDAESharedJacobianSparsePattern(threadData_t *threadData, modelica_metatype _inSparsePattern, modelica_metatype _inSparseColoring, modelica_metatype _inIndex, modelica_metatype _inShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_addBackendDAESharedJacobianSparsePattern,2,0) {(void*) boxptr_SymbolicJacobian_addBackendDAESharedJacobianSparsePattern,0}};
#define boxvar_SymbolicJacobian_addBackendDAESharedJacobianSparsePattern MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_addBackendDAESharedJacobianSparsePattern)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_addBackendDAESharedJacobian(threadData_t *threadData, modelica_metatype _inSymJac, modelica_metatype _inSparsePattern, modelica_metatype _inSparseColoring, modelica_metatype _inNonlinearPattern, modelica_metatype _inShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_addBackendDAESharedJacobian,2,0) {(void*) boxptr_SymbolicJacobian_addBackendDAESharedJacobian,0}};
#define boxvar_SymbolicJacobian_addBackendDAESharedJacobian MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_addBackendDAESharedJacobian)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobianRow2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _vars, modelica_integer _eqn_indx, modelica_metatype _inIntegerLst, modelica_boolean _differentiateIfExp, modelica_metatype _iShared, modelica_metatype _source, modelica_metatype _iAcc, modelica_metatype *out_oShared);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_calculateJacobianRow2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _vars, modelica_metatype _eqn_indx, modelica_metatype _inIntegerLst, modelica_metatype _differentiateIfExp, modelica_metatype _iShared, modelica_metatype _source, modelica_metatype _iAcc, modelica_metatype *out_oShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobianRow2,2,0) {(void*) boxptr_SymbolicJacobian_calculateJacobianRow2,0}};
#define boxvar_SymbolicJacobian_calculateJacobianRow2 MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobianRow2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobianRowLst(threadData_t *threadData, modelica_metatype _inExps, modelica_metatype _vars, modelica_integer _eqn_indx, modelica_metatype _inIntegerLst, modelica_boolean _differentiateIfExp, modelica_metatype _iShared, modelica_metatype _source, modelica_metatype _iAcc, modelica_metatype *out_oShared);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_calculateJacobianRowLst(threadData_t *threadData, modelica_metatype _inExps, modelica_metatype _vars, modelica_metatype _eqn_indx, modelica_metatype _inIntegerLst, modelica_metatype _differentiateIfExp, modelica_metatype _iShared, modelica_metatype _source, modelica_metatype _iAcc, modelica_metatype *out_oShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobianRowLst,2,0) {(void*) boxptr_SymbolicJacobian_calculateJacobianRowLst,0}};
#define boxvar_SymbolicJacobian_calculateJacobianRowLst MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobianRowLst)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobianRow(threadData_t *threadData, modelica_metatype _inEquation, modelica_metatype _vars, modelica_metatype _m, modelica_integer _eqn_indx, modelica_integer _scalar_eqn_indx, modelica_boolean _differentiateIfExp, modelica_metatype _iShared, modelica_fnptr _fvarsInEqn, modelica_metatype _iAcc, modelica_integer *out_size, modelica_metatype *out_oShared);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_calculateJacobianRow(threadData_t *threadData, modelica_metatype _inEquation, modelica_metatype _vars, modelica_metatype _m, modelica_metatype _eqn_indx, modelica_metatype _scalar_eqn_indx, modelica_metatype _differentiateIfExp, modelica_metatype _iShared, modelica_fnptr _fvarsInEqn, modelica_metatype _iAcc, modelica_metatype *out_size, modelica_metatype *out_oShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobianRow,2,0) {(void*) boxptr_SymbolicJacobian_calculateJacobianRow,0}};
#define boxvar_SymbolicJacobian_calculateJacobianRow MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobianRow)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobianRows(threadData_t *threadData, modelica_metatype _inEquationArray, modelica_metatype _vars, modelica_metatype _m, modelica_integer _eqn_indx, modelica_integer _scalar_eqn_indx, modelica_boolean _differentiateIfExp, modelica_metatype _iShared, modelica_fnptr _varsInEqn, modelica_metatype *out_oShared);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_calculateJacobianRows(threadData_t *threadData, modelica_metatype _inEquationArray, modelica_metatype _vars, modelica_metatype _m, modelica_metatype _eqn_indx, modelica_metatype _scalar_eqn_indx, modelica_metatype _differentiateIfExp, modelica_metatype _iShared, modelica_fnptr _varsInEqn, modelica_metatype *out_oShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobianRows,2,0) {(void*) boxptr_SymbolicJacobian_calculateJacobianRows,0}};
#define boxvar_SymbolicJacobian_calculateJacobianRows MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobianRows)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createResidualSetEquations(threadData_t *threadData, modelica_metatype _iEqs, modelica_metatype _crJ, modelica_integer _index, modelica_boolean _applySubs);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createResidualSetEquations(threadData_t *threadData, modelica_metatype _iEqs, modelica_metatype _crJ, modelica_metatype _index, modelica_metatype _applySubs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createResidualSetEquations,2,0) {(void*) boxptr_SymbolicJacobian_createResidualSetEquations,0}};
#define boxvar_SymbolicJacobian_createResidualSetEquations MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createResidualSetEquations)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getStateSetCompVarEqns(threadData_t *threadData, modelica_metatype _inComp, modelica_metatype _marked, modelica_metatype _inEquationArray, modelica_metatype _inVariables, modelica_metatype *out_outVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getStateSetCompVarEqns,2,0) {(void*) boxptr_SymbolicJacobian_getStateSetCompVarEqns,0}};
#define boxvar_SymbolicJacobian_getStateSetCompVarEqns MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getStateSetCompVarEqns)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_foundMarked(threadData_t *threadData, modelica_metatype _ilst, modelica_metatype _marked);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_foundMarked(threadData_t *threadData, modelica_metatype _ilst, modelica_metatype _marked);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_foundMarked,2,0) {(void*) boxptr_SymbolicJacobian_foundMarked,0}};
#define boxvar_SymbolicJacobian_foundMarked MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_foundMarked)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_removeStateSetEqn(threadData_t *threadData, modelica_metatype _inEqn);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_removeStateSetEqn(threadData_t *threadData, modelica_metatype _inEqn);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_removeStateSetEqn,2,0) {(void*) boxptr_SymbolicJacobian_removeStateSetEqn,0}};
#define boxvar_SymbolicJacobian_removeStateSetEqn MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_removeStateSetEqn)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_removeStateSetStates(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _hs);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_removeStateSetStates(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _hs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_removeStateSetStates,2,0) {(void*) boxptr_SymbolicJacobian_removeStateSetStates,0}};
#define boxvar_SymbolicJacobian_removeStateSetStates MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_removeStateSetStates)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_markSetStates(threadData_t *threadData, modelica_metatype _inCr, modelica_metatype _iVars, modelica_metatype _iMark);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_markSetStates,2,0) {(void*) boxptr_SymbolicJacobian_markSetStates,0}};
#define boxvar_SymbolicJacobian_markSetStates MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_markSetStates)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateStateSetJacobian(threadData_t *threadData, modelica_metatype _inStateSet, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inComps, modelica_metatype _inShared, modelica_metatype *out_outShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateStateSetJacobian,2,0) {(void*) boxptr_SymbolicJacobian_calculateStateSetJacobian,0}};
#define boxvar_SymbolicJacobian_calculateStateSetJacobian MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateStateSetJacobian)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateStateSetsJacobian(threadData_t *threadData, modelica_metatype _inStateSets, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inComps, modelica_metatype _inShared, modelica_metatype *out_outShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateStateSetsJacobian,2,0) {(void*) boxptr_SymbolicJacobian_calculateStateSetsJacobian,0}};
#define boxvar_SymbolicJacobian_calculateStateSetsJacobian MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateStateSetsJacobian)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateEqSystemStateSetsJacobians(threadData_t *threadData, modelica_metatype _inSyst, modelica_metatype _inShared, modelica_metatype *out_outShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateEqSystemStateSetsJacobians,2,0) {(void*) boxptr_SymbolicJacobian_calculateEqSystemStateSetsJacobians,0}};
#define boxvar_SymbolicJacobian_calculateEqSystemStateSetsJacobians MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateEqSystemStateSetsJacobians)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_isRecordInvoled(threadData_t *threadData, modelica_metatype _inType);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_isRecordInvoled(threadData_t *threadData, modelica_metatype _inType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_isRecordInvoled,2,0) {(void*) boxptr_SymbolicJacobian_isRecordInvoled,0}};
#define boxvar_SymbolicJacobian_isRecordInvoled MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_isRecordInvoled)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_hasEqnNonDiffParts(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTpl, modelica_boolean *out_cont, modelica_metatype *out_outTpl);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_hasEqnNonDiffParts(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTpl, modelica_metatype *out_cont, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_hasEqnNonDiffParts,2,0) {(void*) boxptr_SymbolicJacobian_hasEqnNonDiffParts,0}};
#define boxvar_SymbolicJacobian_hasEqnNonDiffParts MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_hasEqnNonDiffParts)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_traverserhasEqnNonDiffParts(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTpl, modelica_boolean *out_cont, modelica_metatype *out_outTpl);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_traverserhasEqnNonDiffParts(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTpl, modelica_metatype *out_cont, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_traverserhasEqnNonDiffParts,2,0) {(void*) boxptr_SymbolicJacobian_traverserhasEqnNonDiffParts,0}};
#define boxvar_SymbolicJacobian_traverserhasEqnNonDiffParts MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_traverserhasEqnNonDiffParts)
PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_printNonLinIterVarsAndEqs(threadData_t *threadData, modelica_metatype _jacobian, modelica_metatype _eqnIndices, modelica_metatype _inEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_printNonLinIterVarsAndEqs,2,0) {(void*) boxptr_SymbolicJacobian_printNonLinIterVarsAndEqs,0}};
#define boxvar_SymbolicJacobian_printNonLinIterVarsAndEqs MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_printNonLinIterVarsAndEqs)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_existNonLinIterVars(threadData_t *threadData, modelica_metatype _jacobian_in, modelica_string *out_jacName);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_existNonLinIterVars(threadData_t *threadData, modelica_metatype _jacobian_in, modelica_metatype *out_jacName);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_existNonLinIterVars,2,0) {(void*) boxptr_SymbolicJacobian_existNonLinIterVars,0}};
#define boxvar_SymbolicJacobian_existNonLinIterVars MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_existNonLinIterVars)
PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_checkNonLinDependecies(threadData_t *threadData, modelica_metatype _inComp, modelica_metatype _inEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_checkNonLinDependecies,2,0) {(void*) boxptr_SymbolicJacobian_checkNonLinDependecies,0}};
#define boxvar_SymbolicJacobian_checkNonLinDependecies MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_checkNonLinDependecies)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobianComponent(threadData_t *threadData, modelica_metatype _inComp, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inShared, modelica_metatype *out_outShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobianComponent,2,0) {(void*) boxptr_SymbolicJacobian_calculateJacobianComponent,0}};
#define boxvar_SymbolicJacobian_calculateJacobianComponent MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobianComponent)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateTearingSetJacobian(threadData_t *threadData, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inTearingSet, modelica_metatype _inShared, modelica_boolean _isLinear, modelica_metatype *out_outShared);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_calculateTearingSetJacobian(threadData_t *threadData, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inTearingSet, modelica_metatype _inShared, modelica_metatype _isLinear, modelica_metatype *out_outShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateTearingSetJacobian,2,0) {(void*) boxptr_SymbolicJacobian_calculateTearingSetJacobian,0}};
#define boxvar_SymbolicJacobian_calculateTearingSetJacobian MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateTearingSetJacobian)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_checkForSymbolicJacobian(threadData_t *threadData, modelica_metatype _inResidualEqns, modelica_metatype _inOtherEqns, modelica_string _name);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_checkForSymbolicJacobian(threadData_t *threadData, modelica_metatype _inResidualEqns, modelica_metatype _inOtherEqns, modelica_metatype _name);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_checkForSymbolicJacobian,2,0) {(void*) boxptr_SymbolicJacobian_checkForSymbolicJacobian,0}};
#define boxvar_SymbolicJacobian_checkForSymbolicJacobian MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_checkForSymbolicJacobian)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobiansComponents(threadData_t *threadData, modelica_metatype _inComps, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inShared, modelica_metatype *out_outShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobiansComponents,2,0) {(void*) boxptr_SymbolicJacobian_calculateJacobiansComponents,0}};
#define boxvar_SymbolicJacobian_calculateJacobiansComponents MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateJacobiansComponents)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateEqSystemJacobians(threadData_t *threadData, modelica_metatype _inSyst, modelica_metatype _inShared, modelica_metatype *out_outShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateEqSystemJacobians,2,0) {(void*) boxptr_SymbolicJacobian_calculateEqSystemJacobians,0}};
#define boxvar_SymbolicJacobian_calculateEqSystemJacobians MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_calculateEqSystemJacobians)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_deriveAll(threadData_t *threadData, modelica_metatype _inEquations, modelica_metatype _ass2, modelica_metatype _inDiffCref, modelica_metatype _inDiffData, modelica_metatype _inFunctions, modelica_boolean _daeMode, modelica_metatype *out_outFunctions);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_deriveAll(threadData_t *threadData, modelica_metatype _inEquations, modelica_metatype _ass2, modelica_metatype _inDiffCref, modelica_metatype _inDiffData, modelica_metatype _inFunctions, modelica_metatype _daeMode, modelica_metatype *out_outFunctions);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_deriveAll,2,0) {(void*) boxptr_SymbolicJacobian_deriveAll,0}};
#define boxvar_SymbolicJacobian_deriveAll MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_deriveAll)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createAllDiffedVarsWork(threadData_t *threadData, modelica_metatype _inVars, modelica_metatype _inCref, modelica_metatype _inAllVars, modelica_integer _inIndex, modelica_string _inMatrixName, modelica_metatype _iVars);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createAllDiffedVarsWork(threadData_t *threadData, modelica_metatype _inVars, modelica_metatype _inCref, modelica_metatype _inAllVars, modelica_metatype _inIndex, modelica_metatype _inMatrixName, modelica_metatype _iVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createAllDiffedVarsWork,2,0) {(void*) boxptr_SymbolicJacobian_createAllDiffedVarsWork,0}};
#define boxvar_SymbolicJacobian_createAllDiffedVarsWork MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createAllDiffedVarsWork)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createAllDiffedVars(threadData_t *threadData, modelica_metatype _inVars, modelica_metatype _inCref, modelica_metatype _inAllVars, modelica_string _inMatrixName);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createAllDiffedVars,2,0) {(void*) boxptr_SymbolicJacobian_createAllDiffedVars,0}};
#define boxvar_SymbolicJacobian_createAllDiffedVars MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createAllDiffedVars)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_generateSymbolicJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inVars, modelica_metatype _inDiffedVars, modelica_metatype _inSeedVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParamVars, modelica_string _inMatrixName, modelica_boolean _daeMode, modelica_metatype *out_outFunctions);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_generateSymbolicJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inVars, modelica_metatype _inDiffedVars, modelica_metatype _inSeedVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParamVars, modelica_metatype _inMatrixName, modelica_metatype _daeMode, modelica_metatype *out_outFunctions);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_generateSymbolicJacobian,2,0) {(void*) boxptr_SymbolicJacobian_generateSymbolicJacobian,0}};
#define boxvar_SymbolicJacobian_generateSymbolicJacobian MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_generateSymbolicJacobian)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_optimizeJacobianMatrix(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inComRef1, modelica_metatype _inComRef2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_optimizeJacobianMatrix,2,0) {(void*) boxptr_SymbolicJacobian_optimizeJacobianMatrix,0}};
#define boxvar_SymbolicJacobian_optimizeJacobianMatrix MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_optimizeJacobianMatrix)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inDiffVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParameterVars, modelica_metatype _inDifferentiatedVars, modelica_metatype _inVars, modelica_string _inName, modelica_boolean _daeMode, modelica_metatype *out_outFunctionTree);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inDiffVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParameterVars, modelica_metatype _inDifferentiatedVars, modelica_metatype _inVars, modelica_metatype _inName, modelica_metatype _daeMode, modelica_metatype *out_outFunctionTree);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createJacobian,2,0) {(void*) boxptr_SymbolicJacobian_createJacobian,0}};
#define boxvar_SymbolicJacobian_createJacobian MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createJacobian)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_generateGenericJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inDiffVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParameterVars, modelica_metatype _inDifferentiatedVars, modelica_metatype _inVars, modelica_string _inName, modelica_boolean _onlySparsePattern, modelica_boolean _daeMode, modelica_metatype *out_outFunctionTree, modelica_metatype *out_outSparsePattern, modelica_metatype *out_outSparseColoring, modelica_metatype *out_nonlinearPattern);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_generateGenericJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inDiffVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParameterVars, modelica_metatype _inDifferentiatedVars, modelica_metatype _inVars, modelica_metatype _inName, modelica_metatype _onlySparsePattern, modelica_metatype _daeMode, modelica_metatype *out_outFunctionTree, modelica_metatype *out_outSparsePattern, modelica_metatype *out_outSparseColoring, modelica_metatype *out_nonlinearPattern);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_generateGenericJacobian,2,0) {(void*) boxptr_SymbolicJacobian_generateGenericJacobian,0}};
#define boxvar_SymbolicJacobian_generateGenericJacobian MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_generateGenericJacobian)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createLinearModelMatrices(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_boolean _useOptimica, modelica_metatype *out_outFunctionTree);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createLinearModelMatrices(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _useOptimica, modelica_metatype *out_outFunctionTree);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createLinearModelMatrices,2,0) {(void*) boxptr_SymbolicJacobian_createLinearModelMatrices,0}};
#define boxvar_SymbolicJacobian_createLinearModelMatrices MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createLinearModelMatrices)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createInDepVars(threadData_t *threadData, modelica_metatype _independentVars, modelica_boolean _createpDerStates, modelica_metatype *out_outCrefs);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createInDepVars(threadData_t *threadData, modelica_metatype _independentVars, modelica_metatype _createpDerStates, modelica_metatype *out_outCrefs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createInDepVars,2,0) {(void*) boxptr_SymbolicJacobian_createInDepVars,0}};
#define boxvar_SymbolicJacobian_createInDepVars MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createInDepVars)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createBipartiteGraph(threadData_t *threadData, modelica_integer _inNode, modelica_metatype _inSparsePattern);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createBipartiteGraph(threadData_t *threadData, modelica_metatype _inNode, modelica_metatype _inSparsePattern);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createBipartiteGraph,2,0) {(void*) boxptr_SymbolicJacobian_createBipartiteGraph,0}};
#define boxvar_SymbolicJacobian_createBipartiteGraph MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createBipartiteGraph)
PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_mapIndexColors(threadData_t *threadData, modelica_metatype _inColors, modelica_integer _inMaxIndex, modelica_metatype _inArray);
PROTECTED_FUNCTION_STATIC void boxptr_SymbolicJacobian_mapIndexColors(threadData_t *threadData, modelica_metatype _inColors, modelica_metatype _inMaxIndex, modelica_metatype _inArray);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_mapIndexColors,2,0) {(void*) boxptr_SymbolicJacobian_mapIndexColors,0}};
#define boxvar_SymbolicJacobian_mapIndexColors MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_mapIndexColors)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getSparsePatternHelp(threadData_t *threadData, modelica_metatype _inInputVars, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_integer _inmarkValue);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_getSparsePatternHelp(threadData_t *threadData, modelica_metatype _inInputVars, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_metatype _inmarkValue);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getSparsePatternHelp,2,0) {(void*) boxptr_SymbolicJacobian_getSparsePatternHelp,0}};
#define boxvar_SymbolicJacobian_getSparsePatternHelp MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getSparsePatternHelp)
PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_getSparsePattern2(threadData_t *threadData, modelica_metatype _inInputVars, modelica_metatype _inSolvedVars, modelica_metatype _inEqns, modelica_metatype _ineqnSparse, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_integer _inmarkValue);
PROTECTED_FUNCTION_STATIC void boxptr_SymbolicJacobian_getSparsePattern2(threadData_t *threadData, modelica_metatype _inInputVars, modelica_metatype _inSolvedVars, modelica_metatype _inEqns, modelica_metatype _ineqnSparse, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_metatype _inmarkValue);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getSparsePattern2,2,0) {(void*) boxptr_SymbolicJacobian_getSparsePattern2,0}};
#define boxvar_SymbolicJacobian_getSparsePattern2 MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getSparsePattern2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getSparsePattern(threadData_t *threadData, modelica_metatype _inComponents, modelica_metatype _ineqnSparse, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_integer _inmarkValue, modelica_metatype _inMatrix, modelica_metatype _inMatrixT);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_getSparsePattern(threadData_t *threadData, modelica_metatype _inComponents, modelica_metatype _ineqnSparse, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_metatype _inmarkValue, modelica_metatype _inMatrix, modelica_metatype _inMatrixT);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getSparsePattern,2,0) {(void*) boxptr_SymbolicJacobian_getSparsePattern,0}};
#define boxvar_SymbolicJacobian_getSparsePattern MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getSparsePattern)
PROTECTED_FUNCTION_STATIC modelica_integer omc_SymbolicJacobian_findDegrees(threadData_t *threadData, modelica_metatype _inList, modelica_integer _inValue, modelica_integer *out_outMaxDegree);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_findDegrees(threadData_t *threadData, modelica_metatype _inList, modelica_metatype _inValue, modelica_metatype *out_outMaxDegree);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_findDegrees,2,0) {(void*) boxptr_SymbolicJacobian_findDegrees,0}};
#define boxvar_SymbolicJacobian_findDegrees MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_findDegrees)
PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_dumpSparsePatternStatistics(threadData_t *threadData, modelica_integer _nonZeroElements, modelica_metatype _sparsepatternT);
PROTECTED_FUNCTION_STATIC void boxptr_SymbolicJacobian_dumpSparsePatternStatistics(threadData_t *threadData, modelica_metatype _nonZeroElements, modelica_metatype _sparsepatternT);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_dumpSparsePatternStatistics,2,0) {(void*) boxptr_SymbolicJacobian_dumpSparsePatternStatistics,0}};
#define boxvar_SymbolicJacobian_dumpSparsePatternStatistics MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_dumpSparsePatternStatistics)
PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_checkLinearSystem(threadData_t *threadData, modelica_integer _info, modelica_metatype _vars, modelica_metatype _jac, modelica_metatype _rhs, modelica_metatype _eqnlst);
PROTECTED_FUNCTION_STATIC void boxptr_SymbolicJacobian_checkLinearSystem(threadData_t *threadData, modelica_metatype _info, modelica_metatype _vars, modelica_metatype _jac, modelica_metatype _rhs, modelica_metatype _eqnlst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_checkLinearSystem,2,0) {(void*) boxptr_SymbolicJacobian_checkLinearSystem,0}};
#define boxvar_SymbolicJacobian_checkLinearSystem MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_checkLinearSystem)
PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_evaluateConstantJacobian2(threadData_t *threadData, modelica_metatype _jac, modelica_metatype _vals);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_evaluateConstantJacobian2,2,0) {(void*) boxptr_SymbolicJacobian_evaluateConstantJacobian2,0}};
#define boxvar_SymbolicJacobian_evaluateConstantJacobian2 MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_evaluateConstantJacobian2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_evaluateConstantJacobianArray(threadData_t *threadData, modelica_integer _size, modelica_metatype _jac);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_evaluateConstantJacobianArray(threadData_t *threadData, modelica_metatype _size, modelica_metatype _jac);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_evaluateConstantJacobianArray,2,0) {(void*) boxptr_SymbolicJacobian_evaluateConstantJacobianArray,0}};
#define boxvar_SymbolicJacobian_evaluateConstantJacobianArray MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_evaluateConstantJacobianArray)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_changeConstantLinearSystemVars(threadData_t *threadData, modelica_metatype _inVarLst, modelica_metatype _inSolvedVals, modelica_metatype _inSources, modelica_metatype _var_indxs, modelica_metatype _inVars, modelica_metatype _ieqns, modelica_metatype _ishared, modelica_metatype *out_oeqns, modelica_metatype *out_oshared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_changeConstantLinearSystemVars,2,0) {(void*) boxptr_SymbolicJacobian_changeConstantLinearSystemVars,0}};
#define boxvar_SymbolicJacobian_changeConstantLinearSystemVars MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_changeConstantLinearSystemVars)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_solveLinearSystem(threadData_t *threadData, modelica_metatype _inSyst, modelica_metatype _ishared, modelica_metatype _eqn_lst, modelica_metatype _eqn_indxs, modelica_metatype _var_lst, modelica_metatype _var_indxs, modelica_metatype _jac, modelica_metatype *out_oshared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_solveLinearSystem,2,0) {(void*) boxptr_SymbolicJacobian_solveLinearSystem,0}};
#define boxvar_SymbolicJacobian_solveLinearSystem MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_solveLinearSystem)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_constantLinearSystemWork(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _comp, modelica_integer _sysIdxIn, modelica_integer _compIdxIn, modelica_metatype *out_oshared, modelica_boolean *out_outRunMatching, modelica_integer *out_sysIdxOut, modelica_integer *out_compIdxOut);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_constantLinearSystemWork(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _comp, modelica_metatype _sysIdxIn, modelica_metatype _compIdxIn, modelica_metatype *out_oshared, modelica_metatype *out_outRunMatching, modelica_metatype *out_sysIdxOut, modelica_metatype *out_compIdxOut);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_constantLinearSystemWork,2,0) {(void*) boxptr_SymbolicJacobian_constantLinearSystemWork,0}};
#define boxvar_SymbolicJacobian_constantLinearSystemWork MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_constantLinearSystemWork)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_constantLinearSystem1(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inComps, modelica_boolean _inRunMatching, modelica_integer _sysIdxIn, modelica_integer _compIdxIn, modelica_metatype *out_oshared, modelica_boolean *out_runMatching, modelica_integer *out_sysIdxOut);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_constantLinearSystem1(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inComps, modelica_metatype _inRunMatching, modelica_metatype _sysIdxIn, modelica_metatype _compIdxIn, modelica_metatype *out_oshared, modelica_metatype *out_runMatching, modelica_metatype *out_sysIdxOut);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_constantLinearSystem1,2,0) {(void*) boxptr_SymbolicJacobian_constantLinearSystem1,0}};
#define boxvar_SymbolicJacobian_constantLinearSystem1 MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_constantLinearSystem1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_constantLinearSystem2(threadData_t *threadData, modelica_boolean _b, modelica_metatype _isyst);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_constantLinearSystem2(threadData_t *threadData, modelica_metatype _b, modelica_metatype _isyst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_constantLinearSystem2,2,0) {(void*) boxptr_SymbolicJacobian_constantLinearSystem2,0}};
#define boxvar_SymbolicJacobian_constantLinearSystem2 MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_constantLinearSystem2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_constantLinearSystem0(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _inShared, modelica_metatype _iTpl, modelica_metatype *out_outShared, modelica_metatype *out_oTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_constantLinearSystem0,2,0) {(void*) boxptr_SymbolicJacobian_constantLinearSystem0,0}};
#define boxvar_SymbolicJacobian_constantLinearSystem0 MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_constantLinearSystem0)
PROTECTED_FUNCTION_STATIC modelica_string omc_SymbolicJacobian_rListStr(threadData_t *threadData, modelica_metatype _l);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_rListStr,2,0) {(void*) boxptr_SymbolicJacobian_rListStr,0}};
#define boxvar_SymbolicJacobian_rListStr MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_rListStr)
PROTECTED_FUNCTION_STATIC modelica_integer omc_SymbolicJacobian_getPivotElement(threadData_t *threadData, modelica_metatype _A, modelica_metatype _rangeIn, modelica_integer _startIdx, modelica_integer _n, modelica_real *out_value);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_getPivotElement(threadData_t *threadData, modelica_metatype _A, modelica_metatype _rangeIn, modelica_metatype _startIdx, modelica_metatype _n, modelica_metatype *out_value);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getPivotElement,2,0) {(void*) boxptr_SymbolicJacobian_getPivotElement,0}};
#define boxvar_SymbolicJacobian_getPivotElement MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_getPivotElement)
PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_gauss(threadData_t *threadData, modelica_metatype _A, modelica_metatype _b, modelica_integer _indxIn, modelica_integer _n, modelica_metatype _rangeIn, modelica_metatype _permutation);
PROTECTED_FUNCTION_STATIC void boxptr_SymbolicJacobian_gauss(threadData_t *threadData, modelica_metatype _A, modelica_metatype _b, modelica_metatype _indxIn, modelica_metatype _n, modelica_metatype _rangeIn, modelica_metatype _permutation);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_gauss,2,0) {(void*) boxptr_SymbolicJacobian_gauss,0}};
#define boxvar_SymbolicJacobian_gauss MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_gauss)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createBVecVars(threadData_t *threadData, modelica_integer _sysIdx, modelica_integer _compIdx, modelica_integer _size, modelica_metatype _typ, modelica_metatype _bExps, modelica_metatype *out_eqLst);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createBVecVars(threadData_t *threadData, modelica_metatype _sysIdx, modelica_metatype _compIdx, modelica_metatype _size, modelica_metatype _typ, modelica_metatype _bExps, modelica_metatype *out_eqLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createBVecVars,2,0) {(void*) boxptr_SymbolicJacobian_createBVecVars,0}};
#define boxvar_SymbolicJacobian_createBVecVars MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createBVecVars)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createSysEquations(threadData_t *threadData, modelica_metatype _A, modelica_metatype _b, modelica_integer _n, modelica_metatype _order, modelica_metatype _xVars, modelica_metatype _bVars);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createSysEquations(threadData_t *threadData, modelica_metatype _A, modelica_metatype _b, modelica_metatype _n, modelica_metatype _order, modelica_metatype _xVars, modelica_metatype _bVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createSysEquations,2,0) {(void*) boxptr_SymbolicJacobian_createSysEquations,0}};
#define boxvar_SymbolicJacobian_createSysEquations MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createSysEquations)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_solveConstJacLinearSystem(threadData_t *threadData, modelica_metatype _syst, modelica_metatype _ishared, modelica_metatype _eqn_lst, modelica_metatype _eqn_indxs, modelica_metatype _var_lst, modelica_metatype _var_indxs, modelica_metatype _jac, modelica_integer _sysIdxIn, modelica_integer _compIdxIn, modelica_metatype *out_bEqsOut, modelica_metatype *out_bVarsOut, modelica_metatype *out_orderOut, modelica_integer *out_sysIdxOut);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_solveConstJacLinearSystem(threadData_t *threadData, modelica_metatype _syst, modelica_metatype _ishared, modelica_metatype _eqn_lst, modelica_metatype _eqn_indxs, modelica_metatype _var_lst, modelica_metatype _var_indxs, modelica_metatype _jac, modelica_metatype _sysIdxIn, modelica_metatype _compIdxIn, modelica_metatype *out_bEqsOut, modelica_metatype *out_bVarsOut, modelica_metatype *out_orderOut, modelica_metatype *out_sysIdxOut);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_solveConstJacLinearSystem,2,0) {(void*) boxptr_SymbolicJacobian_solveConstJacLinearSystem,0}};
#define boxvar_SymbolicJacobian_solveConstJacLinearSystem MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_solveConstJacLinearSystem)
PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_updateAssignment(threadData_t *threadData, modelica_metatype _comp, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_updateAssignment,2,0) {(void*) boxptr_SymbolicJacobian_updateAssignment,0}};
#define boxvar_SymbolicJacobian_updateAssignment MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_updateAssignment)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_replaceStrongComponent(threadData_t *threadData, modelica_metatype _systIn, modelica_integer _idx, modelica_metatype _compsNew, modelica_metatype _compsAdd);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_replaceStrongComponent(threadData_t *threadData, modelica_metatype _systIn, modelica_metatype _idx, modelica_metatype _compsNew, modelica_metatype _compsAdd);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_replaceStrongComponent,2,0) {(void*) boxptr_SymbolicJacobian_replaceStrongComponent,0}};
#define boxvar_SymbolicJacobian_replaceStrongComponent MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_replaceStrongComponent)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_variableResidual(threadData_t *threadData, modelica_metatype _eq);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_variableResidual(threadData_t *threadData, modelica_metatype _eq);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_variableResidual,2,0) {(void*) boxptr_SymbolicJacobian_variableResidual,0}};
#define boxvar_SymbolicJacobian_variableResidual MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_variableResidual)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_jacobianIsConstant(threadData_t *threadData, modelica_metatype _jac);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_jacobianIsConstant(threadData_t *threadData, modelica_metatype _jac);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_jacobianIsConstant,2,0) {(void*) boxptr_SymbolicJacobian_jacobianIsConstant,0}};
#define boxvar_SymbolicJacobian_jacobianIsConstant MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_jacobianIsConstant)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_traverserExpinputDerivativesUsed(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _tpl, modelica_boolean *out_cont, modelica_metatype *out_outTpl);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_traverserExpinputDerivativesUsed(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _tpl, modelica_metatype *out_cont, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_traverserExpinputDerivativesUsed,2,0) {(void*) boxptr_SymbolicJacobian_traverserExpinputDerivativesUsed,0}};
#define boxvar_SymbolicJacobian_traverserExpinputDerivativesUsed MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_traverserExpinputDerivativesUsed)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_traverserinputDerivativesUsed(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _itpl, modelica_metatype *out_tpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_traverserinputDerivativesUsed,2,0) {(void*) boxptr_SymbolicJacobian_traverserinputDerivativesUsed,0}};
#define boxvar_SymbolicJacobian_traverserinputDerivativesUsed MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_traverserinputDerivativesUsed)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_inputDerivativesUsedWork(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _inShared, modelica_boolean _inChanged, modelica_metatype *out_outShared, modelica_boolean *out_outChanged);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_inputDerivativesUsedWork(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _inShared, modelica_metatype _inChanged, modelica_metatype *out_outShared, modelica_metatype *out_outChanged);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_inputDerivativesUsedWork,2,0) {(void*) boxptr_SymbolicJacobian_inputDerivativesUsedWork,0}};
#define boxvar_SymbolicJacobian_inputDerivativesUsedWork MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_inputDerivativesUsedWork)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createSymbolicJacobianforParameters(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype *out_outFunctionTree, modelica_metatype *out_outSparsePattern, modelica_metatype *out_outSparseColoring, modelica_metatype *out_outNonlinearPattern);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createSymbolicJacobianforParameters,2,0) {(void*) boxptr_SymbolicJacobian_createSymbolicJacobianforParameters,0}};
#define boxvar_SymbolicJacobian_createSymbolicJacobianforParameters MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createSymbolicJacobianforParameters)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createSymbolicJacobianforStates(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype *out_outFunctionTree, modelica_metatype *out_outSparsePattern, modelica_metatype *out_outSparseColoring, modelica_metatype *out_outNonlinearPattern);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createSymbolicJacobianforStates,2,0) {(void*) boxptr_SymbolicJacobian_createSymbolicJacobianforStates,0}};
#define boxvar_SymbolicJacobian_createSymbolicJacobianforStates MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_createSymbolicJacobianforStates)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_generateSymbolicJacobianPast(threadData_t *threadData, modelica_metatype _inBackendDAE);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_generateSymbolicJacobianPast,2,0) {(void*) boxptr_SymbolicJacobian_generateSymbolicJacobianPast,0}};
#define boxvar_SymbolicJacobian_generateSymbolicJacobianPast MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_generateSymbolicJacobianPast)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_detectSparsePatternODE(threadData_t *threadData, modelica_metatype _inBackendDAE);
static const MMC_DEFSTRUCTLIT(boxvar_lit_SymbolicJacobian_detectSparsePatternODE,2,0) {(void*) boxptr_SymbolicJacobian_detectSparsePatternODE,0}};
#define boxvar_SymbolicJacobian_detectSparsePatternODE MMC_REFSTRUCTLIT(boxvar_lit_SymbolicJacobian_detectSparsePatternODE)

DLLDirection
modelica_boolean omc_SymbolicJacobian_LinearJacobian_anyChanges(threadData_t *threadData, modelica_metatype _linJac)
{
  modelica_boolean _changed;
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _changed = 0 /* false */;
  tmp1 = ((modelica_integer) 1); tmp2 = 1; tmp3 = arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 5))));
  if(!(((tmp2 > 0) && (tmp1 > tmp3)) || ((tmp2 < 0) && (tmp1 < tmp3))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp1, tmp3); _i += tmp2)
    {
      if(mmc_unbox_boolean(arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 5))),_i) /* DAE.ASUB */))
      {
        _changed = 1 /* true */;

        goto _return;
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _changed;
}
modelica_metatype boxptr_SymbolicJacobian_LinearJacobian_anyChanges(threadData_t *threadData, modelica_metatype _linJac)
{
  modelica_boolean _changed;
  modelica_metatype out_changed;
  _changed = omc_SymbolicJacobian_LinearJacobian_anyChanges(threadData, _linJac);
  out_changed = mmc_mk_icon(_changed);
  return out_changed;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_LinearJacobian_generateLHSfromList(threadData_t *threadData, modelica_metatype _row_indices, modelica_metatype _row_values, modelica_metatype _vars)
{
  modelica_metatype _lhs = NULL;
  modelica_integer _length;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_integer tmp8;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _lhs has no default value.
  _length = arrayLength(_row_indices);
  if((_length == ((modelica_integer) 0)))
  {
    _lhs = _OMC_LIT3;
  }
  else
  {
    tmpMeta1 = mmc_mk_box2(4, &DAE_Exp_RCONST__desc, arrayGet(_row_values,((modelica_integer) 1)) /* DAE.ASUB */);
    tmpMeta2 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, tmpMeta1, _OMC_LIT1, omc_BackendVariable_varExp(threadData, omc_BackendVariable_getVarAt(threadData, _vars, mmc_unbox_integer(arrayGet(_row_indices,((modelica_integer) 1)) /* DAE.ASUB */))));
    _lhs = tmpMeta2;
  }

  tmp6 = ((modelica_integer) 2); tmp7 = 1; tmp8 = arrayLength(_row_indices);
  if(!(((tmp7 > 0) && (tmp6 > tmp8)) || ((tmp7 < 0) && (tmp6 < tmp8))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 2); in_range_integer(_i, tmp6, tmp8); _i += tmp7)
    {
      tmpMeta3 = mmc_mk_box2(4, &DAE_Exp_RCONST__desc, arrayGet(_row_values,_i) /* DAE.ASUB */);
      tmpMeta4 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, tmpMeta3, _OMC_LIT1, omc_BackendVariable_varExp(threadData, omc_BackendVariable_getVarAt(threadData, _vars, mmc_unbox_integer(arrayGet(_row_indices,_i) /* DAE.ASUB */))));
      tmpMeta5 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, _lhs, _OMC_LIT4, tmpMeta4);
      _lhs = tmpMeta5;
    }
  }
  _return: OMC_LABEL_UNUSED
  return _lhs;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_LinearJacobian_resolveASSC(threadData_t *threadData, modelica_metatype _linJac, modelica_metatype __omcQ_24in_5Fass1, modelica_metatype __omcQ_24in_5Fass2, modelica_metatype __omcQ_24in_5Fsyst, modelica_boolean _init, modelica_metatype *out_ass2, modelica_metatype *out_syst)
{
  modelica_metatype _ass1 = NULL;
  modelica_metatype _ass2 = NULL;
  modelica_metatype _syst = NULL;
  modelica_integer _i_arr;
  modelica_integer _i_scal;
  modelica_metatype _lhs = NULL;
  modelica_metatype _rhs = NULL;
  modelica_metatype _newEqn = NULL;
  modelica_metatype _updateList_arr = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _mapEqnIncRow = NULL;
  modelica_metatype _mapIncRowEqn = NULL;
  modelica_metatype _indexType = NULL;
  modelica_boolean _fullASSC;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  modelica_metatype tmpMeta5;
  modelica_integer tmp6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_integer tmp13;
  modelica_integer tmp14;
  modelica_integer tmp15;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ass1 = __omcQ_24in_5Fass1;
  _ass2 = __omcQ_24in_5Fass2;
  _syst = __omcQ_24in_5Fsyst;
  // _i_arr has no default value.
  // _i_scal has no default value.
  // _lhs has no default value.
  // _rhs has no default value.
  // _newEqn has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _updateList_arr = tmpMeta1;
  // _mapEqnIncRow has no default value.
  // _mapIncRowEqn has no default value.
  // _indexType has no default value.
  _fullASSC = omc_Flags_getConfigBool(threadData, _OMC_LIT10);
  tmp13 = ((modelica_integer) 1); tmp14 = 1; tmp15 = arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))));
  if(!(((tmp14 > 0) && (tmp13 > tmp15)) || ((tmp14 < 0) && (tmp13 < tmp15))))
  {
    modelica_integer _r;
    for(_r = ((modelica_integer) 1); in_range_integer(_r, tmp13, tmp15); _r += tmp14)
    {
      if((mmc_unbox_boolean(arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 5))),_r) /* DAE.ASUB */) && (omc_UnorderedMap_isEmpty(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))),_r) /* DAE.ASUB */) || _fullASSC)))
      {
        /* Pattern-matching assignment */
        tmpMeta2 = arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 4))),_r) /* DAE.ASUB */;
        tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 1));
        tmp4 = mmc_unbox_integer(tmpMeta3);
        tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
        tmp6 = mmc_unbox_integer(tmpMeta5);
        _i_arr = tmp4  /* pattern as ty=Integer */;
        _i_scal = tmp6  /* pattern as ty=Integer */;

        arrayUpdate(_ass2,mmc_unbox_integer(arrayGet(_ass1,_i_scal) /* DAE.ASUB */),mmc_mk_integer(((modelica_integer) -1)));

        arrayUpdate(_ass1,_i_scal,mmc_mk_integer(((modelica_integer) -1)));

        _rhs = omc_ExpressionSimplify_simplify(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 3))),_r) /* DAE.ASUB */, NULL);

        _lhs = omc_SymbolicJacobian_LinearJacobian_generateLHSfromList(threadData, omc_UnorderedMap_keyArray(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))),_r) /* DAE.ASUB */), omc_UnorderedMap_valueArray(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))),_r) /* DAE.ASUB */), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))));

        _newEqn = omc_BackendEquation_generateEquation(threadData, _lhs, _rhs, _OMC_LIT14, _OMC_LIT17);

        if((omc_Flags_isSet(threadData, _OMC_LIT24) || (omc_Flags_isSet(threadData, _OMC_LIT28) && omc_UnorderedMap_isEmpty(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))),_r) /* DAE.ASUB */))))
        {
          tmpMeta7 = stringAppend(_OMC_LIT18,omc_BackendDump_equationString(threadData, omc_BackendEquation_get(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))), _i_arr)));
          tmpMeta8 = stringAppend(tmpMeta7,_OMC_LIT19);
          fputs(MMC_STRINGDATA(tmpMeta8),stdout);

          tmpMeta9 = stringAppend(_OMC_LIT20,omc_BackendDump_equationString(threadData, _newEqn));
          tmpMeta10 = stringAppend(tmpMeta9,_OMC_LIT19);
          fputs(MMC_STRINGDATA(tmpMeta10),stdout);
        }

        tmpMeta11 = MMC_TAGPTR(mmc_alloc_words(11));
        memcpy(MMC_UNTAGPTR(tmpMeta11), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
        ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta11))[3] = omc_BackendEquation_setAtIndex(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))), _i_arr, _newEqn);
        _syst = tmpMeta11;

        tmpMeta12 = mmc_mk_cons(mmc_mk_integer(_i_arr), _updateList_arr);
        _updateList_arr = tmpMeta12;
      }
    }
  }

  if((!listEmpty(_updateList_arr)))
  {
    { /* matchcontinue expression */
      {
        volatile mmc_switch_type tmp18;
        int tmp19;
        tmp18 = 0;
        MMC_TRY_INTERNAL(mmc_jumper)
        tmp17_top:
        threadData->mmc_jumper = &new_mmc_jumper;
        for (; tmp18 < 2; tmp18++) {
          switch (MMC_SWITCH_CAST(tmp18)) {
          case 0: {
            modelica_metatype tmpMeta20;
            modelica_metatype tmpMeta21;
            modelica_metatype tmpMeta22;
            modelica_metatype tmpMeta23;
            modelica_metatype tmpMeta24;
            modelica_metatype tmpMeta25;
            modelica_integer tmp26;
            /* Pattern matching succeeded */
            /* Pattern-matching assignment */
            tmpMeta20 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 6)));
            if (optionNone(tmpMeta20)) goto goto_16;
            tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta20), 1));
            tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 1));
            tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 2));
            tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 3));
            tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 4));
            tmp26 = mmc_unbox_integer(tmpMeta25);
            if (1 /* true */ != tmp26) goto goto_16;
            _mapEqnIncRow = tmpMeta22;
            _mapIncRowEqn = tmpMeta23;
            _indexType = tmpMeta24;

            _syst = omc_BackendDAEUtil_updateAdjacencyMatrixScalar(threadData, _syst, _indexType, mmc_mk_none(), _updateList_arr, _mapEqnIncRow, _mapIncRowEqn, 0 /* false */, NULL, NULL);
            goto tmp17_done;
          }
          case 1: {
            /* Pattern matching succeeded */
            _syst = omc_BackendDAEUtil_updateAdjacencyMatrix(threadData, _syst, _OMC_LIT29, mmc_mk_none(), _updateList_arr, 0 /* false */);
            goto tmp17_done;
          }
          }
          goto tmp17_end;
          tmp17_end: ;
        }
        goto goto_16;
        tmp17_done:
        (void)tmp18;
        MMC_RESTORE_INTERNAL(mmc_jumper);
        goto tmp17_done2;
        goto_16:;
        MMC_CATCH_INTERNAL(mmc_jumper);
        if (++tmp18 < 2) {
          goto tmp17_top;
        }
        MMC_THROW_INTERNAL();
        tmp17_done2:;
      }
    }
    ;
  }

  if((((!listEmpty(_updateList_arr)) && (!omc_Flags_isSet(threadData, _OMC_LIT24))) && omc_Flags_isSet(threadData, _OMC_LIT28)))
  {
    fputs(MMC_STRINGDATA(_OMC_LIT30),stdout);
  }
  _return: OMC_LABEL_UNUSED
  if (out_ass2) { *out_ass2 = _ass2; }
  if (out_syst) { *out_syst = _syst; }
  return _ass1;
}
modelica_metatype boxptr_SymbolicJacobian_LinearJacobian_resolveASSC(threadData_t *threadData, modelica_metatype _linJac, modelica_metatype __omcQ_24in_5Fass1, modelica_metatype __omcQ_24in_5Fass2, modelica_metatype __omcQ_24in_5Fsyst, modelica_metatype _init, modelica_metatype *out_ass2, modelica_metatype *out_syst)
{
  modelica_integer tmp1;
  modelica_metatype _ass1 = NULL;
  tmp1 = mmc_unbox_integer(_init);
  _ass1 = omc_SymbolicJacobian_LinearJacobian_resolveASSC(threadData, _linJac, __omcQ_24in_5Fass1, __omcQ_24in_5Fass2, __omcQ_24in_5Fsyst, tmp1, out_ass2, out_syst);
  /* skip box _ass1; array<#Integer> */
  /* skip box _ass2; array<#Integer> */
  /* skip box _syst; BackendDAE.EqSystem */
  return _ass1;
}

PROTECTED_FUNCTION_STATIC modelica_real omc_SymbolicJacobian_LinearJacobian_getElementValue(threadData_t *threadData, modelica_metatype _row, modelica_integer _col_index)
{
  modelica_real _value;
  modelica_real tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _value has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = omc_UnorderedMap_get(threadData, mmc_mk_integer(_col_index), _row);
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_real tmp7;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          tmp7 = mmc_unbox_real(tmpMeta6);
          _value = tmp7  /* pattern as ty=Real */;
          /* Pattern matching succeeded */
          tmp1 = _value;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0.0;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _value = tmp1;
  _return: OMC_LABEL_UNUSED
  return _value;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_LinearJacobian_getElementValue(threadData_t *threadData, modelica_metatype _row, modelica_metatype _col_index)
{
  modelica_integer tmp1;
  modelica_real _value;
  modelica_metatype out_value;
  tmp1 = mmc_unbox_integer(_col_index);
  _value = omc_SymbolicJacobian_LinearJacobian_getElementValue(threadData, _row, tmp1);
  out_value = mmc_mk_rcon(_value);
  return out_value;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_LinearJacobian_getPivot(threadData_t *threadData, modelica_metatype _pivot_row)
{
  modelica_metatype _pivot_elem = NULL;
  modelica_integer _idx;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _pivot_elem has no default value.
  // _idx has no default value.
  if(omc_Vector_isEmpty(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_pivot_row), 3)))))
  {
    MMC_THROW_INTERNAL();
  }
  else
  {
    _idx = mmc_unbox_integer(omc_UnorderedMap_firstKey(threadData, _pivot_row));

    tmpMeta1 = mmc_mk_box2(0, mmc_mk_integer(_idx), omc_Util_getOption(threadData, omc_UnorderedMap_get(threadData, mmc_mk_integer(_idx), _pivot_row)));
    _pivot_elem = tmpMeta1;
  }
  _return: OMC_LABEL_UNUSED
  return _pivot_elem;
}

DLLDirection
void omc_SymbolicJacobian_LinearJacobian_updatePivotRow(threadData_t *threadData, modelica_metatype _pivot_row, modelica_real _piv_value)
{
  modelica_real _value;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_real tmp4;
  modelica_real tmp5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _value has no default value.
  if((!(_piv_value == 1.0)))
  {
    {
      modelica_metatype _idx;
      for (tmpMeta1 = omc_UnorderedMap_keyList(threadData, _pivot_row); !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
      {
        _idx = MMC_CAR(tmpMeta1);
        /* Pattern-matching assignment */
        tmpMeta2 = omc_UnorderedMap_get(threadData, _idx, _pivot_row);
        if (optionNone(tmpMeta2)) MMC_THROW_INTERNAL();
        tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 1));
        tmp4 = mmc_unbox_real(tmpMeta3);
        _value = tmp4  /* pattern as ty=Real */;

        tmp5 = _piv_value;
        if (tmp5 == 0) {MMC_THROW_INTERNAL();}
        omc_UnorderedMap_add(threadData, _idx, mmc_mk_real((_value) / tmp5), _pivot_row);
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return;
}
void boxptr_SymbolicJacobian_LinearJacobian_updatePivotRow(threadData_t *threadData, modelica_metatype _pivot_row, modelica_metatype _piv_value)
{
  modelica_real tmp1;
  tmp1 = mmc_unbox_real(_piv_value);
  omc_SymbolicJacobian_LinearJacobian_updatePivotRow(threadData, _pivot_row, tmp1);
  return;
}

DLLDirection
void omc_SymbolicJacobian_LinearJacobian_solveRow(threadData_t *threadData, modelica_metatype _pivot_row, modelica_metatype _row, modelica_real _piv_value, modelica_real _row_value)
{
  modelica_integer _idx;
  modelica_real _val;
  modelica_real _diag_val;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta20;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _idx has no default value.
  // _val has no default value.
  // _diag_val has no default value.
  {
    modelica_metatype _idx;
    for (tmpMeta1 = omc_UnorderedMap_keyList(threadData, _pivot_row); !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _idx = MMC_CAR(tmpMeta1);
      { /* match expression */
        modelica_metatype tmp4_1;modelica_metatype tmp4_2;
        tmp4_1 = omc_UnorderedMap_get(threadData, _idx, _row);
        tmp4_2 = omc_UnorderedMap_get(threadData, _idx, _pivot_row);
        {
          volatile mmc_switch_type tmp4;
          int tmp5;
          tmp4 = 0;
          for (; tmp4 < 3; tmp4++) {
            switch (MMC_SWITCH_CAST(tmp4)) {
            case 0: {
              modelica_metatype tmpMeta6;
              modelica_real tmp7;
              modelica_metatype tmpMeta8;
              modelica_real tmp9;
              if (optionNone(tmp4_1)) goto tmp3_end;
              tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
              tmp7 = mmc_unbox_real(tmpMeta6);
              if (optionNone(tmp4_2)) goto tmp3_end;
              tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
              tmp9 = mmc_unbox_real(tmpMeta8);
              _val = tmp7  /* pattern as ty=Real */;
              _diag_val = tmp9  /* pattern as ty=Real */;
              /* Pattern matching succeeded */
              _val = (_val) * (_piv_value) - ((_diag_val) * (_row_value));

              if((fabs(_val) < 1e-12))
              {
                omc_UnorderedMap_remove(threadData, _idx, _row);
              }
              else
              {
                omc_UnorderedMap_add(threadData, _idx, mmc_mk_real(_val), _row);
              }
              goto tmp3_done;
            }
            case 1: {
              modelica_metatype tmpMeta10;
              modelica_real tmp11;
              if (!optionNone(tmp4_1)) goto tmp3_end;
              if (optionNone(tmp4_2)) goto tmp3_end;
              tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
              tmp11 = mmc_unbox_real(tmpMeta10);
              _diag_val = tmp11  /* pattern as ty=Real */;
              /* Pattern matching succeeded */
              omc_UnorderedMap_add(threadData, _idx, mmc_mk_real(((-_diag_val)) * (_row_value)), _row);
              goto tmp3_done;
            }
            case 2: {
              
              /* Pattern matching succeeded */
              omc_Error_assertion(threadData, 0 /* false */, _OMC_LIT31, _OMC_LIT33);
              goto tmp3_done;
            }
            }
            goto tmp3_end;
            tmp3_end: ;
          }
          goto goto_2;
          goto_2:;
          MMC_THROW_INTERNAL();
          goto tmp3_done;
          tmp3_done:;
        }
      }
      ;
    }
  }

  {
    modelica_metatype _idx;
    for (tmpMeta13 = omc_UnorderedMap_keyList(threadData, _row); !listEmpty(tmpMeta13); tmpMeta13=MMC_CDR(tmpMeta13))
    {
      _idx = MMC_CAR(tmpMeta13);
      { /* match expression */
        modelica_metatype tmp16_1;modelica_metatype tmp16_2;
        tmp16_1 = omc_UnorderedMap_get(threadData, _idx, _row);
        tmp16_2 = omc_UnorderedMap_get(threadData, _idx, _pivot_row);
        {
          volatile mmc_switch_type tmp16;
          int tmp17;
          tmp16 = 0;
          for (; tmp16 < 2; tmp16++) {
            switch (MMC_SWITCH_CAST(tmp16)) {
            case 0: {
              modelica_metatype tmpMeta18;
              modelica_real tmp19;
              if (optionNone(tmp16_1)) goto tmp15_end;
              tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp16_1), 1));
              tmp19 = mmc_unbox_real(tmpMeta18);
              if (!optionNone(tmp16_2)) goto tmp15_end;
              _val = tmp19  /* pattern as ty=Real */;
              /* Pattern matching succeeded */
              _val = (_val) * (_piv_value);

              omc_UnorderedMap_add(threadData, _idx, mmc_mk_real(_val), _row);
              goto tmp15_done;
            }
            case 1: {
              
              /* Pattern matching succeeded */
              goto tmp15_done;
            }
            }
            goto tmp15_end;
            tmp15_end: ;
          }
          goto goto_14;
          goto_14:;
          MMC_THROW_INTERNAL();
          goto tmp15_done;
          tmp15_done:;
        }
      }
      ;
    }
  }
  _return: OMC_LABEL_UNUSED
  return;
}
void boxptr_SymbolicJacobian_LinearJacobian_solveRow(threadData_t *threadData, modelica_metatype _pivot_row, modelica_metatype _row, modelica_metatype _piv_value, modelica_metatype _row_value)
{
  modelica_real tmp1;
  modelica_real tmp2;
  tmp1 = mmc_unbox_real(_piv_value);
  tmp2 = mmc_unbox_real(_row_value);
  omc_SymbolicJacobian_LinearJacobian_solveRow(threadData, _pivot_row, _row, tmp1, tmp2);
  return;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_LinearJacobian_solve(threadData_t *threadData, modelica_metatype __omcQ_24in_5FlinJac)
{
  modelica_metatype _linJac = NULL;
  modelica_integer _col_index;
  modelica_real _piv_value;
  modelica_real _row_value;
  modelica_integer tmp18;
  modelica_integer tmp19;
  modelica_integer tmp20;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _linJac = __omcQ_24in_5FlinJac;
  // _col_index has no default value.
  // _piv_value has no default value.
  // _row_value has no default value.
  tmp18 = ((modelica_integer) 1); tmp19 = 1; tmp20 = arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))));
  if(!(((tmp19 > 0) && (tmp18 > tmp20)) || ((tmp19 < 0) && (tmp18 < tmp20))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp18, tmp20); _i += tmp19)
    {
      { /* matchcontinue expression */
        {
          volatile mmc_switch_type tmp3;
          int tmp4;
          tmp3 = 0;
          MMC_TRY_INTERNAL(mmc_jumper)
          tmp2_top:
          threadData->mmc_jumper = &new_mmc_jumper;
          for (; tmp3 < 2; tmp3++) {
            switch (MMC_SWITCH_CAST(tmp3)) {
            case 0: {
              modelica_metatype tmpMeta5;
              modelica_metatype tmpMeta6;
              modelica_integer tmp7;
              modelica_metatype tmpMeta8;
              modelica_real tmp9;
              modelica_metatype tmpMeta10;
              modelica_metatype tmpMeta11;
              modelica_metatype tmpMeta12;
              modelica_metatype tmpMeta13;
              modelica_metatype tmpMeta14;
              modelica_integer tmp15;
              modelica_integer tmp16;
              modelica_integer tmp17;
              /* Pattern matching succeeded */
              /* Pattern-matching assignment */
              tmpMeta5 = omc_SymbolicJacobian_LinearJacobian_getPivot(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))),_i) /* DAE.ASUB */);
              tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 1));
              tmp7 = mmc_unbox_integer(tmpMeta6);
              tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
              tmp9 = mmc_unbox_real(tmpMeta8);
              _col_index = tmp7  /* pattern as ty=Integer */;
              _piv_value = tmp9  /* pattern as ty=Real */;

              tmp15 = ((modelica_integer) 1) + _i; tmp16 = 1; tmp17 = arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))));
              if(!(((tmp16 > 0) && (tmp15 > tmp17)) || ((tmp16 < 0) && (tmp15 < tmp17))))
              {
                modelica_integer _j;
                for(_j = ((modelica_integer) 1) + _i; in_range_integer(_j, tmp15, tmp17); _j += tmp16)
                {
                  _row_value = omc_SymbolicJacobian_LinearJacobian_getElementValue(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))),_j) /* DAE.ASUB */, _col_index);

                  if((!(_row_value == 0.0)))
                  {
                    arrayUpdate((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 5))),_j,mmc_mk_boolean(1 /* true */));

                    omc_SymbolicJacobian_LinearJacobian_solveRow(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))),_i) /* DAE.ASUB */, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))),_j) /* DAE.ASUB */, _piv_value, _row_value);

                    tmpMeta10 = mmc_mk_box2(4, &DAE_Exp_RCONST__desc, mmc_mk_real(_piv_value));
                    tmpMeta11 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 3))),_j) /* DAE.ASUB */, _OMC_LIT1, tmpMeta10);
                    tmpMeta12 = mmc_mk_box2(4, &DAE_Exp_RCONST__desc, mmc_mk_real(_row_value));
                    tmpMeta13 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 3))),_i) /* DAE.ASUB */, _OMC_LIT1, tmpMeta12);
                    tmpMeta14 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, tmpMeta11, _OMC_LIT34, tmpMeta13);
                    arrayUpdate((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 3))),_j,tmpMeta14);
                  }
                }
              }
              goto tmp2_done;
            }
            case 1: {
              /* Pattern matching succeeded */
              goto tmp2_done;
            }
            }
            goto tmp2_end;
            tmp2_end: ;
          }
          goto goto_1;
          tmp2_done:
          (void)tmp3;
          MMC_RESTORE_INTERNAL(mmc_jumper);
          goto tmp2_done2;
          goto_1:;
          MMC_CATCH_INTERNAL(mmc_jumper);
          if (++tmp3 < 2) {
            goto tmp2_top;
          }
          MMC_THROW_INTERNAL();
          tmp2_done2:;
        }
      }
      ;
    }
  }
  _return: OMC_LABEL_UNUSED
  return _linJac;
}

DLLDirection
modelica_boolean omc_SymbolicJacobian_LinearJacobian_emptyOrSingle(threadData_t *threadData, modelica_metatype _linJac)
{
  modelica_boolean _empty;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _empty = ((((arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2)))) < ((modelica_integer) 2)) && (arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 3)))) < ((modelica_integer) 2))) && (arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 4)))) < ((modelica_integer) 2))) && (arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 5)))) < ((modelica_integer) 2)));
  _return: OMC_LABEL_UNUSED
  return _empty;
}
modelica_metatype boxptr_SymbolicJacobian_LinearJacobian_emptyOrSingle(threadData_t *threadData, modelica_metatype _linJac)
{
  modelica_boolean _empty;
  modelica_metatype out_empty;
  _empty = omc_SymbolicJacobian_LinearJacobian_emptyOrSingle(threadData, _linJac);
  out_empty = mmc_mk_icon(_empty);
  return out_empty;
}

PROTECTED_FUNCTION_STATIC modelica_real omc_SymbolicJacobian_LinearJacobian_generate_intWrapperFunc(threadData_t *threadData, modelica_metatype _e)
{
  modelica_real _v;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _v has no default value.
  _v = ((modelica_real)omc_Expression_getEvaluatedConstInteger(threadData, _e));
  _return: OMC_LABEL_UNUSED
  return _v;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_LinearJacobian_generate_intWrapperFunc(threadData_t *threadData, modelica_metatype _e)
{
  modelica_real _v;
  modelica_metatype out_v;
  _v = omc_SymbolicJacobian_LinearJacobian_generate_intWrapperFunc(threadData, _e);
  out_v = mmc_mk_rcon(_v);
  return out_v;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_LinearJacobian_generate(threadData_t *threadData, modelica_metatype _loopEqs, modelica_metatype _loopVars, modelica_metatype _ass1)
{
  modelica_metatype _linJac = NULL;
  modelica_integer _eqn_index;
  modelica_integer _var_index;
  modelica_real _constReal;
  modelica_metatype _row = NULL;
  modelica_metatype _tmp_mat = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _tmp_rhs = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype _tmp_idx = NULL;
  modelica_metatype tmpMeta3;
  modelica_metatype _eqn = NULL;
  modelica_metatype _index = NULL;
  modelica_integer _scal_idx;
  modelica_metatype _var = NULL;
  modelica_metatype _res = NULL;
  modelica_metatype _pDer = NULL;
  modelica_metatype _varRep = NULL;
  modelica_fnptr _eFunc;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta29;
  modelica_metatype tmpMeta30;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _linJac has no default value.
  _eqn_index = ((modelica_integer) 1);
  // _var_index has no default value.
  // _constReal has no default value.
  // _row has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _tmp_mat = tmpMeta1;
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _tmp_rhs = tmpMeta2;
  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  _tmp_idx = tmpMeta3;
  // _eqn has no default value.
  // _index has no default value.
  // _scal_idx has no default value.
  // _var has no default value.
  // _res has no default value.
  // _pDer has no default value.
  // _varRep has no default value.
  _eFunc = (omc_Flags_getConfigBool(threadData, _OMC_LIT38)?boxvar_Expression_getEvaluatedConstReal:boxvar_SymbolicJacobian_LinearJacobian_generate_intWrapperFunc);
  _varRep = omc_BackendVarTransform_emptyReplacements(threadData);

  {
    modelica_metatype _loopVar;
    for (tmpMeta4 = _loopVars; !listEmpty(tmpMeta4); tmpMeta4=MMC_CDR(tmpMeta4))
    {
      _loopVar = MMC_CAR(tmpMeta4);
      /* Pattern-matching assignment */
      tmpMeta5 = _loopVar;
      tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 1));
      _var = tmpMeta6;

      _varRep = omc_BackendVarTransform_addReplacement(threadData, _varRep, omc_BackendVariable_varCref(threadData, _var), _OMC_LIT39, mmc_mk_none());
    }
  }

  {
    modelica_metatype _loopEq;
    for (tmpMeta8 = _loopEqs; !listEmpty(tmpMeta8); tmpMeta8=MMC_CDR(tmpMeta8))
    {
      _loopEq = MMC_CAR(tmpMeta8);
      _row = omc_UnorderedMap_new(threadData, boxvar_Util_id, boxvar_intEq, ((modelica_integer) 1));

      /* Pattern-matching assignment */
      tmpMeta9 = _loopEq;
      tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 1));
      tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
      _eqn = tmpMeta10;
      _index = tmpMeta11;

      _res = omc_BackendEquation_createResidualExp(threadData, _eqn);

      { /* matchcontinue expression */
        {
          volatile mmc_switch_type tmp14;
          int tmp15;
          tmp14 = 0;
          MMC_TRY_INTERNAL(mmc_jumper)
          tmp13_top:
          threadData->mmc_jumper = &new_mmc_jumper;
          for (; tmp14 < 2; tmp14++) {
            switch (MMC_SWITCH_CAST(tmp14)) {
            case 0: {
              modelica_metatype tmpMeta16;
              modelica_metatype tmpMeta17;
              modelica_metatype tmpMeta18;
              modelica_metatype tmpMeta19;
              modelica_integer tmp20;
              modelica_metatype tmpMeta21;
              modelica_metatype tmpMeta22;
              modelica_metatype tmpMeta23;
              modelica_metatype tmpMeta24;
              modelica_metatype tmpMeta25;
              modelica_metatype tmpMeta26;
              modelica_metatype tmpMeta27;
              modelica_integer tmp28;
              /* Pattern matching succeeded */
              {
                modelica_metatype _loopVar;
                for (tmpMeta16 = _loopVars; !listEmpty(tmpMeta16); tmpMeta16=MMC_CDR(tmpMeta16))
                {
                  _loopVar = MMC_CAR(tmpMeta16);
                  /* Pattern-matching assignment */
                  tmpMeta17 = _loopVar;
                  tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 1));
                  tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 2));
                  tmp20 = mmc_unbox_integer(tmpMeta19);
                  _var = tmpMeta18;
                  _var_index = tmp20  /* pattern as ty=Integer */;

                  _pDer = omc_Differentiate_differentiateExpSolve(threadData, _res, omc_BackendVariable_varCref(threadData, _var), mmc_mk_none());

                  _pDer = omc_ExpressionSimplify_simplify(threadData, _pDer, NULL);

                  _constReal = mmc_unbox_real((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eFunc), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eFunc), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eFunc), 2))), _pDer) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eFunc), 1)))) (threadData, _pDer));

                  if((!(_constReal == 0.0)))
                  {
                    omc_UnorderedMap_add(threadData, mmc_mk_integer(_var_index), mmc_mk_real(_constReal), _row);
                  }
                }
              }

              _res = omc_BackendVarTransform_replaceExp(threadData, _res, _varRep, mmc_mk_none(), NULL);

              tmpMeta22 = mmc_mk_cons(_row, _tmp_mat);
              _tmp_mat = tmpMeta22;

              tmpMeta24 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, _OMC_LIT40, _OMC_LIT42, _res);
              tmpMeta23 = mmc_mk_cons(omc_ExpressionSimplify_simplify(threadData, tmpMeta24, NULL), _tmp_rhs);
              _tmp_rhs = tmpMeta23;

              tmpMeta25 = mmc_mk_cons(_index, _tmp_idx);
              _tmp_idx = tmpMeta25;

              /* Pattern-matching assignment */
              tmpMeta26 = _index;
              tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta26), 2));
              tmp28 = mmc_unbox_integer(tmpMeta27);
              _scal_idx = tmp28  /* pattern as ty=Integer */;

              _eqn_index = ((modelica_integer) 1) + _eqn_index;
              goto tmp13_done;
            }
            case 1: {
              /* Pattern matching succeeded */
              goto tmp13_done;
            }
            }
            goto tmp13_end;
            tmp13_end: ;
          }
          goto goto_12;
          tmp13_done:
          (void)tmp14;
          MMC_RESTORE_INTERNAL(mmc_jumper);
          goto tmp13_done2;
          goto_12:;
          MMC_CATCH_INTERNAL(mmc_jumper);
          if (++tmp14 < 2) {
            goto tmp13_top;
          }
          MMC_THROW_INTERNAL();
          tmp13_done2:;
        }
      }
      ;
    }
  }

  tmpMeta30 = mmc_mk_box5(3, &SymbolicJacobian_LinearJacobian_LINEAR__REAL__JACOBIAN__desc, listArray(_tmp_mat), listArray(_tmp_rhs), listArray(_tmp_idx), arrayCreate(listLength(_tmp_mat), mmc_mk_boolean(0 /* false */)));
  _linJac = tmpMeta30;
  _return: OMC_LABEL_UNUSED
  return _linJac;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_SymbolicJacobian_LinearJacobian_rowToString(threadData_t *threadData, modelica_metatype _row, modelica_metatype _rhs, modelica_metatype _indices, modelica_boolean _changed)
{
  modelica_string _str = NULL;
  modelica_integer _i_arr;
  modelica_integer _i_scal;
  modelica_integer _index;
  modelica_real _value;
  modelica_metatype _row_lst = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_metatype tmpMeta4;
  modelica_integer tmp5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_integer tmp16;
  modelica_metatype tmpMeta17;
  modelica_real tmp18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta20;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta22;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  modelica_metatype tmpMeta25;
  modelica_metatype tmpMeta26;
  modelica_metatype tmpMeta27;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _str has no default value.
  // _i_arr has no default value.
  // _i_scal has no default value.
  // _index has no default value.
  // _value has no default value.
  _row_lst = omc_UnorderedMap_toList(threadData, _row);
  /* Pattern-matching assignment */
  tmpMeta1 = _indices;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmp3 = mmc_unbox_integer(tmpMeta2);
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmp5 = mmc_unbox_integer(tmpMeta4);
  _i_arr = tmp3  /* pattern as ty=Integer */;
  _i_scal = tmp5  /* pattern as ty=Integer */;

  tmpMeta6 = stringAppend(_OMC_LIT43,intString(_i_arr));
  tmpMeta7 = stringAppend(tmpMeta6,_OMC_LIT44);
  tmpMeta8 = stringAppend(tmpMeta7,intString(_i_scal));
  tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT44);
  tmpMeta10 = stringAppend(tmpMeta9,(_changed?_OMC_LIT45:_OMC_LIT46));
  tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT47);
  _str = tmpMeta11;

  if(listEmpty(_row_lst))
  {
    tmpMeta12 = stringAppend(_str,_OMC_LIT50);
    _str = tmpMeta12;
  }
  else
  {
    {
      modelica_metatype _element;
      for (tmpMeta13 = _row_lst; !listEmpty(tmpMeta13); tmpMeta13=MMC_CDR(tmpMeta13))
      {
        _element = MMC_CAR(tmpMeta13);
        /* Pattern-matching assignment */
        tmpMeta14 = _element;
        tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 1));
        tmp16 = mmc_unbox_integer(tmpMeta15);
        tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 2));
        tmp18 = mmc_unbox_real(tmpMeta17);
        _index = tmp16  /* pattern as ty=Integer */;
        _value = tmp18  /* pattern as ty=Real */;

        tmpMeta19 = stringAppend(_str,_OMC_LIT48);
        tmpMeta20 = stringAppend(tmpMeta19,intString(_index));
        tmpMeta21 = stringAppend(tmpMeta20,_OMC_LIT44);
        tmpMeta22 = stringAppend(tmpMeta21,realString(_value));
        tmpMeta23 = stringAppend(tmpMeta22,_OMC_LIT49);
        _str = tmpMeta23;
      }
    }
  }

  tmpMeta25 = stringAppend(_str,_OMC_LIT51);
  tmpMeta26 = stringAppend(tmpMeta25,omc_ExpressionDump_printExpStr(threadData, omc_ExpressionSimplify_simplify(threadData, _rhs, NULL)));
  tmpMeta27 = stringAppend(tmpMeta26,_OMC_LIT19);
  _str = tmpMeta27;
  _return: OMC_LABEL_UNUSED
  return _str;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_LinearJacobian_rowToString(threadData_t *threadData, modelica_metatype _row, modelica_metatype _rhs, modelica_metatype _indices, modelica_metatype _changed)
{
  modelica_integer tmp1;
  modelica_string _str = NULL;
  tmp1 = mmc_unbox_integer(_changed);
  _str = omc_SymbolicJacobian_LinearJacobian_rowToString(threadData, _row, _rhs, _indices, tmp1);
  /* skip box _str; String */
  return _str;
}

DLLDirection
modelica_string omc_SymbolicJacobian_LinearJacobian_toString(threadData_t *threadData, modelica_metatype _linJac, modelica_string _heading)
{
  modelica_string _str = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_integer tmp8;
  modelica_metatype tmpMeta9;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _str has no default value.
  tmpMeta1 = stringAppend(_OMC_LIT52,_heading);
  tmpMeta2 = stringAppend(tmpMeta1,_OMC_LIT19);
  tmpMeta3 = stringAppend(tmpMeta2,_OMC_LIT53);
  tmpMeta4 = stringAppend(tmpMeta3,_OMC_LIT54);
  _str = tmpMeta4;

  tmp6 = ((modelica_integer) 1); tmp7 = 1; tmp8 = arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))));
  if(!(((tmp7 > 0) && (tmp6 > tmp8)) || ((tmp7 < 0) && (tmp6 < tmp8))))
  {
    modelica_integer _idx;
    for(_idx = ((modelica_integer) 1); in_range_integer(_idx, tmp6, tmp8); _idx += tmp7)
    {
      tmpMeta5 = stringAppend(_str,omc_SymbolicJacobian_LinearJacobian_rowToString(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 2))),_idx) /* DAE.ASUB */, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 3))),_idx) /* DAE.ASUB */, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 4))),_idx) /* DAE.ASUB */, mmc_unbox_boolean(arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_linJac), 5))),_idx) /* DAE.ASUB */)));
      _str = tmpMeta5;
    }
  }

  tmpMeta9 = stringAppend(_str,_OMC_LIT19);
  _str = tmpMeta9;
  _return: OMC_LABEL_UNUSED
  return _str;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_stripPartialDerWork(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_boolean *out_strip)
{
  modelica_metatype _cref = NULL;
  modelica_boolean _strip;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cref = __omcQ_24in_5Fcref;
  // _strip has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cref;
    {
      modelica_metatype _cr = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cr has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_StringUtil_startsWith(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cref), 2))), _OMC_LIT55)) goto tmp3_end;
          tmpMeta[0+0] = _cref;
          tmp1_c1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_StringUtil_startsWith(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cref), 2))), _OMC_LIT55)) goto tmp3_end;
          tmpMeta[0+0] = _cref;
          tmp1_c1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _cr = omc_SymbolicJacobian_stripPartialDerWork(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cref), 5))) ,&_strip);

          if(_strip)
          {
            tmpMeta6 = mmc_mk_box4(4, &DAE_ComponentRef_CREF__IDENT__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cref), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cref), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cref), 4))));
            _cr = tmpMeta6;
          }
          else
          {
            tmpMeta7 = mmc_mk_box5(3, &DAE_ComponentRef_CREF__QUAL__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cref), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cref), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cref), 4))), _cr);
            _cr = tmpMeta7;
          }
          tmpMeta[0+0] = _cr;
          tmp1_c1 = 0 /* false */;
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _cref;
          tmp1_c1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _cref = tmpMeta[0+0];
  _strip = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_strip) { *out_strip = _strip; }
  return _cref;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_stripPartialDerWork(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_metatype *out_strip)
{
  modelica_boolean _strip;
  modelica_metatype _cref = NULL;
  _cref = omc_SymbolicJacobian_stripPartialDerWork(threadData, __omcQ_24in_5Fcref, &_strip);
  /* skip box _cref; DAE.ComponentRef */
  if (out_strip) { *out_strip = mmc_mk_icon(_strip); }
  return _cref;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_stripPartialDer(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref_5Ftpl)
{
  modelica_metatype _cref_tpl = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype _dependencies = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta8;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cref_tpl = __omcQ_24in_5Fcref_5Ftpl;
  // _cref has no default value.
  // _dependencies has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _cref_tpl;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _cref = tmpMeta2;
  _dependencies = tmpMeta3;

  _cref = omc_SymbolicJacobian_stripPartialDerWork(threadData, _cref, NULL);

  {
    modelica_metatype __omcQ_24tmpVar1;
    modelica_metatype* tmp5;
    modelica_metatype tmpMeta6;
    modelica_metatype __omcQ_24tmpVar0;
    modelica_integer tmp7;
    modelica_metatype _dep_loopVar = 0;
    modelica_metatype _dep;
    _dep_loopVar = _dependencies;
    tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar1 = tmpMeta6; /* defaultValue */
    tmp5 = &__omcQ_24tmpVar1;
    while(1) {
      tmp7 = 1;
      if (!listEmpty(_dep_loopVar)) {
        _dep = MMC_CAR(_dep_loopVar);
        _dep_loopVar = MMC_CDR(_dep_loopVar);
        tmp7--;
      }
      if (tmp7 == 0) {
        __omcQ_24tmpVar0 = omc_SymbolicJacobian_stripPartialDerWork(threadData, _dep, NULL);
        *tmp5 = mmc_mk_cons(__omcQ_24tmpVar0,0);
        tmp5 = &MMC_CDR(*tmp5);
      } else if (tmp7 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp5 = mmc_mk_nil();
    tmpMeta4 = __omcQ_24tmpVar1;
  }
  _dependencies = tmpMeta4;

  tmpMeta8 = mmc_mk_box2(0, _cref, _dependencies);
  _cref_tpl = tmpMeta8;
  _return: OMC_LABEL_UNUSED
  return _cref_tpl;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_stripPartialDerNonlinearPattern(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fpat)
{
  modelica_metatype _pat = NULL;
  modelica_metatype _pat_cref = NULL;
  modelica_metatype _pat_crefT = NULL;
  modelica_metatype _v1 = NULL;
  modelica_metatype _v2 = NULL;
  modelica_integer _index;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_integer tmp8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta25;
  modelica_metatype tmpMeta26;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _pat = __omcQ_24in_5Fpat;
  // _pat_cref has no default value.
  // _pat_crefT has no default value.
  // _v1 has no default value.
  // _v2 has no default value.
  // _index has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _pat;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 3));
  tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta4), 1));
  tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta4), 2));
  tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 4));
  tmp8 = mmc_unbox_integer(tmpMeta7);
  _pat_cref = tmpMeta2;
  _pat_crefT = tmpMeta3;
  _v1 = tmpMeta5;
  _v2 = tmpMeta6;
  _index = tmp8  /* pattern as ty=Integer */;

  {
    modelica_metatype __omcQ_24tmpVar3;
    modelica_metatype* tmp10;
    modelica_metatype tmpMeta11;
    modelica_metatype __omcQ_24tmpVar2;
    modelica_integer tmp12;
    modelica_metatype _cref_tpl_loopVar = 0;
    modelica_metatype _cref_tpl;
    _cref_tpl_loopVar = _pat_cref;
    tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar3 = tmpMeta11; /* defaultValue */
    tmp10 = &__omcQ_24tmpVar3;
    while(1) {
      tmp12 = 1;
      if (!listEmpty(_cref_tpl_loopVar)) {
        _cref_tpl = MMC_CAR(_cref_tpl_loopVar);
        _cref_tpl_loopVar = MMC_CDR(_cref_tpl_loopVar);
        tmp12--;
      }
      if (tmp12 == 0) {
        __omcQ_24tmpVar2 = omc_SymbolicJacobian_stripPartialDer(threadData, _cref_tpl);
        *tmp10 = mmc_mk_cons(__omcQ_24tmpVar2,0);
        tmp10 = &MMC_CDR(*tmp10);
      } else if (tmp12 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp10 = mmc_mk_nil();
    tmpMeta9 = __omcQ_24tmpVar3;
  }
  _pat_cref = tmpMeta9;

  {
    modelica_metatype __omcQ_24tmpVar5;
    modelica_metatype* tmp14;
    modelica_metatype tmpMeta15;
    modelica_metatype __omcQ_24tmpVar4;
    modelica_integer tmp16;
    modelica_metatype _cref_tpl_loopVar = 0;
    modelica_metatype _cref_tpl;
    _cref_tpl_loopVar = _pat_crefT;
    tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar5 = tmpMeta15; /* defaultValue */
    tmp14 = &__omcQ_24tmpVar5;
    while(1) {
      tmp16 = 1;
      if (!listEmpty(_cref_tpl_loopVar)) {
        _cref_tpl = MMC_CAR(_cref_tpl_loopVar);
        _cref_tpl_loopVar = MMC_CDR(_cref_tpl_loopVar);
        tmp16--;
      }
      if (tmp16 == 0) {
        __omcQ_24tmpVar4 = omc_SymbolicJacobian_stripPartialDer(threadData, _cref_tpl);
        *tmp14 = mmc_mk_cons(__omcQ_24tmpVar4,0);
        tmp14 = &MMC_CDR(*tmp14);
      } else if (tmp16 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp14 = mmc_mk_nil();
    tmpMeta13 = __omcQ_24tmpVar5;
  }
  _pat_crefT = tmpMeta13;

  {
    modelica_metatype __omcQ_24tmpVar7;
    modelica_metatype* tmp18;
    modelica_metatype tmpMeta19;
    modelica_metatype __omcQ_24tmpVar6;
    modelica_integer tmp20;
    modelica_metatype _v_loopVar = 0;
    modelica_metatype _v;
    _v_loopVar = _v1;
    tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar7 = tmpMeta19; /* defaultValue */
    tmp18 = &__omcQ_24tmpVar7;
    while(1) {
      tmp20 = 1;
      if (!listEmpty(_v_loopVar)) {
        _v = MMC_CAR(_v_loopVar);
        _v_loopVar = MMC_CDR(_v_loopVar);
        tmp20--;
      }
      if (tmp20 == 0) {
        __omcQ_24tmpVar6 = omc_SymbolicJacobian_stripPartialDerWork(threadData, _v, NULL);
        *tmp18 = mmc_mk_cons(__omcQ_24tmpVar6,0);
        tmp18 = &MMC_CDR(*tmp18);
      } else if (tmp20 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp18 = mmc_mk_nil();
    tmpMeta17 = __omcQ_24tmpVar7;
  }
  _v1 = tmpMeta17;

  {
    modelica_metatype __omcQ_24tmpVar9;
    modelica_metatype* tmp22;
    modelica_metatype tmpMeta23;
    modelica_metatype __omcQ_24tmpVar8;
    modelica_integer tmp24;
    modelica_metatype _v_loopVar = 0;
    modelica_metatype _v;
    _v_loopVar = _v2;
    tmpMeta23 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar9 = tmpMeta23; /* defaultValue */
    tmp22 = &__omcQ_24tmpVar9;
    while(1) {
      tmp24 = 1;
      if (!listEmpty(_v_loopVar)) {
        _v = MMC_CAR(_v_loopVar);
        _v_loopVar = MMC_CDR(_v_loopVar);
        tmp24--;
      }
      if (tmp24 == 0) {
        __omcQ_24tmpVar8 = omc_SymbolicJacobian_stripPartialDerWork(threadData, _v, NULL);
        *tmp22 = mmc_mk_cons(__omcQ_24tmpVar8,0);
        tmp22 = &MMC_CDR(*tmp22);
      } else if (tmp24 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp22 = mmc_mk_nil();
    tmpMeta21 = __omcQ_24tmpVar9;
  }
  _v2 = tmpMeta21;

  tmpMeta25 = mmc_mk_box2(0, _v1, _v2);
  tmpMeta26 = mmc_mk_box4(0, _pat_cref, _pat_crefT, tmpMeta25, mmc_mk_integer(_index));
  _pat = tmpMeta26;
  _return: OMC_LABEL_UNUSED
  return _pat;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_fixedVarsFromNonlinearCount(threadData_t *threadData, modelica_metatype _tplLst, modelica_integer _toFix)
{
  modelica_metatype _fixedVars = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _sortedTplLst = NULL;
  modelica_metatype _strippedTplLst = NULL;
  modelica_metatype _fixVar = NULL;
  modelica_integer _fixInt;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_integer tmp5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _fixedVars = tmpMeta1;
  // _sortedTplLst has no default value.
  // _strippedTplLst has no default value.
  // _fixVar has no default value.
  // _fixInt has no default value.
  {
    modelica_metatype _tpl;
    for (tmpMeta2 = _tplLst; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _tpl = MMC_CAR(tmpMeta2);
      /* Pattern-matching assignment */
      tmpMeta3 = _tpl;
      tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 1));
      tmp5 = mmc_unbox_integer(tmpMeta4);
      tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 2));
      _fixInt = tmp5  /* pattern as ty=Integer */;
      _fixVar = tmpMeta6;
    }
  }

  _sortedTplLst = omc_List_sort(threadData, _tplLst, boxvar_Util_compareTupleIntGt);

  _strippedTplLst = omc_List_firstN(threadData, _sortedTplLst, _toFix);

  {
    modelica_metatype _tpl;
    for (tmpMeta8 = _strippedTplLst; !listEmpty(tmpMeta8); tmpMeta8=MMC_CDR(tmpMeta8))
    {
      _tpl = MMC_CAR(tmpMeta8);
      /* Pattern-matching assignment */
      tmpMeta9 = _tpl;
      tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
      _fixVar = tmpMeta10;

      tmpMeta11 = MMC_TAGPTR(mmc_alloc_words(20));
      memcpy(MMC_UNTAGPTR(tmpMeta11), MMC_UNTAGPTR(_fixVar), 20*sizeof(modelica_metatype));
      ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta11))[11] = omc_DAEUtil_setFixedAttr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fixVar), 11))), _OMC_LIT57);
      _fixVar = tmpMeta11;

      tmpMeta12 = mmc_mk_cons(_fixVar, _fixedVars);
      _fixedVars = tmpMeta12;
    }
  }
  _return: OMC_LABEL_UNUSED
  return _fixedVars;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_fixedVarsFromNonlinearCount(threadData_t *threadData, modelica_metatype _tplLst, modelica_metatype _toFix)
{
  modelica_integer tmp1;
  modelica_metatype _fixedVars = NULL;
  modelica_metatype tmpMeta2;
  tmp1 = mmc_unbox_integer(_toFix);
  _fixedVars = omc_SymbolicJacobian_fixedVarsFromNonlinearCount(threadData, _tplLst, tmp1);
  /* skip box _fixedVars; list<BackendDAE.Var> */
  return _fixedVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getNonlinearStateCount0(threadData_t *threadData, modelica_metatype _inEq, modelica_metatype _inTpl, modelica_metatype *out_outTpl)
{
  modelica_metatype _outEq = NULL;
  modelica_metatype _outTpl = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEq has no default value.
  // _outTpl has no default value.
  _outEq = _inEq;

  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inEq;
    {
      modelica_metatype _exp = NULL;
      modelica_metatype _diffExp = NULL;
      modelica_metatype _state = NULL;
      modelica_metatype _diffVars = NULL;
      modelica_integer _nonlinearCount;
      modelica_string _matrixName = NULL;
      modelica_metatype _seedVar = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _exp has no default value.
      // _diffExp has no default value.
      // _state has no default value.
      // _diffVars has no default value.
      // _nonlinearCount has no default value.
      // _matrixName has no default value.
      // _seedVar has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_integer tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _exp = tmpMeta6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta7 = _inTpl;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          tmp11 = mmc_unbox_integer(tmpMeta10);
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 4));
          _state = tmpMeta8;
          _diffVars = tmpMeta9;
          _nonlinearCount = tmp11  /* pattern as ty=Integer */;
          _matrixName = tmpMeta12;

          _seedVar = omc_Differentiate_createSeedCrefName(threadData, omc_BackendVariable_varCref(threadData, _state), _matrixName);

          _diffExp = omc_Differentiate_differentiateExpSolve(threadData, _exp, _seedVar, mmc_mk_none());

          {
            modelica_metatype _var;
            for (tmpMeta13 = _diffVars; !listEmpty(tmpMeta13); tmpMeta13=MMC_CDR(tmpMeta13))
            {
              _var = MMC_CAR(tmpMeta13);
              if(((!omc_ComponentReference_crefEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 2))))) && omc_Expression_expContains(threadData, _diffExp, omc_Expression_crefExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)))))))
              {
                if(omc_Expression_isZero(threadData, omc_BackendVariable_varStartValue(threadData, _var)))
                {
                  _nonlinearCount = ((modelica_integer) 2) + _nonlinearCount;
                }
                else
                {
                  _nonlinearCount = ((modelica_integer) 1) + _nonlinearCount;
                }
              }
            }
          }
          tmpMeta15 = mmc_mk_box4(0, _state, _diffVars, mmc_mk_integer(_nonlinearCount), _matrixName);
          tmpMeta1 = tmpMeta15;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outTpl = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outEq;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getNonlinearStateCount(threadData_t *threadData, modelica_metatype _state, modelica_metatype _diffVars, modelica_metatype _dae, modelica_string _matrixName)
{
  modelica_metatype _outTpl = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outTpl has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _dae;
    {
      modelica_metatype _systs = NULL;
      modelica_metatype _tpl = NULL;
      modelica_metatype _outState = NULL;
      modelica_integer _nonlinearCount;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _systs has no default value.
      // _tpl has no default value.
      // _outState has no default value.
      _nonlinearCount = ((modelica_integer) 0);
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_integer tmp18;
          modelica_metatype tmpMeta19;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _systs = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box4(0, _state, _diffVars, mmc_mk_integer(_nonlinearCount), _matrixName);
          _tpl = tmpMeta7;

          {
            modelica_metatype _syst;
            for (tmpMeta8 = _systs; !listEmpty(tmpMeta8); tmpMeta8=MMC_CDR(tmpMeta8))
            {
              _syst = MMC_CAR(tmpMeta8);
              { /* match expression */
                modelica_metatype tmp11_1;
                tmp11_1 = _syst;
                {
                  modelica_metatype _eqnarray = NULL;
                  volatile mmc_switch_type tmp11;
                  int tmp12;
                  // _eqnarray has no default value.
                  tmp11 = 0;
                  for (; tmp11 < 1; tmp11++) {
                    switch (MMC_SWITCH_CAST(tmp11)) {
                    case 0: {
                      modelica_metatype tmpMeta13;
                      tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 3));
                      
                      _eqnarray = tmpMeta13;
                      /* Pattern matching succeeded */
                      _tpl = omc_BackendEquation_traverseEquationArray(threadData, _eqnarray, boxvar_SymbolicJacobian_getNonlinearStateCount0, _tpl);
                      goto tmp10_done;
                    }
                    }
                    goto tmp10_end;
                    tmp10_end: ;
                  }
                  goto goto_9;
                  goto_9:;
                  goto goto_2;
                  goto tmp10_done;
                  tmp10_done:;
                }
              }
              ;
            }
          }

          /* Pattern-matching assignment */
          tmpMeta15 = _tpl;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 1));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 3));
          tmp18 = mmc_unbox_integer(tmpMeta17);
          _outState = tmpMeta16;
          _nonlinearCount = tmp18  /* pattern as ty=Integer */;
          tmpMeta19 = mmc_mk_box2(0, mmc_mk_integer(_nonlinearCount), _outState);
          tmpMeta1 = tmpMeta19;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outTpl = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outTpl;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_getFixedStatesForSelfdependentSets(threadData_t *threadData, modelica_metatype _stateSet, modelica_metatype _unfixedStates, modelica_integer _toFix)
{
  modelica_metatype _statesToFix = NULL;
  modelica_metatype _nonlinearCountLst = NULL;
  modelica_metatype tmpMeta1;
  modelica_integer _nonlinearCount;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _statesToFix has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _nonlinearCountLst = tmpMeta1;
  // _nonlinearCount has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 13)));
    {
      modelica_metatype _sJac = NULL;
      modelica_metatype _dae = NULL;
      modelica_string _matrixName = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _sJac has no default value.
      // _dae has no default value.
      // _matrixName has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          
          _sJac = tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta8 = _sJac;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          _dae = tmpMeta9;
          _matrixName = tmpMeta10;

          {
            modelica_metatype _var;
            for (tmpMeta11 = _unfixedStates; !listEmpty(tmpMeta11); tmpMeta11=MMC_CDR(tmpMeta11))
            {
              _var = MMC_CAR(tmpMeta11);
              tmpMeta12 = mmc_mk_cons(omc_SymbolicJacobian_getNonlinearStateCount(threadData, _var, _unfixedStates, _dae, _matrixName), _nonlinearCountLst);
              _nonlinearCountLst = tmpMeta12;
            }
          }
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  ;

  _statesToFix = omc_SymbolicJacobian_fixedVarsFromNonlinearCount(threadData, _nonlinearCountLst, _toFix);
  _return: OMC_LABEL_UNUSED
  return _statesToFix;
}
modelica_metatype boxptr_SymbolicJacobian_getFixedStatesForSelfdependentSets(threadData_t *threadData, modelica_metatype _stateSet, modelica_metatype _unfixedStates, modelica_metatype _toFix)
{
  modelica_integer tmp1;
  modelica_metatype _statesToFix = NULL;
  tmp1 = mmc_unbox_integer(_toFix);
  _statesToFix = omc_SymbolicJacobian_getFixedStatesForSelfdependentSets(threadData, _stateSet, _unfixedStates, tmp1);
  /* skip box _statesToFix; list<BackendDAE.Var> */
  return _statesToFix;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_checkForNonLinearStrongComponents__work(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsyst, modelica_metatype __omcQ_24in_5Fshared, modelica_metatype *out_shared)
{
  modelica_metatype _syst = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _comps = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _syst = __omcQ_24in_5Fsyst;
  _shared = __omcQ_24in_5Fshared;
  // _comps has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta18;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta5 = _syst;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,3) == 0) goto goto_1;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          _comps = tmpMeta7;

          {
            modelica_metatype _comp;
            for (tmpMeta8 = _comps; !listEmpty(tmpMeta8); tmpMeta8=MMC_CDR(tmpMeta8))
            {
              _comp = MMC_CAR(tmpMeta8);
              { /* match expression */
                modelica_metatype tmp11_1;
                tmp11_1 = _comp;
                {
                  volatile mmc_switch_type tmp11;
                  int tmp12;
                  tmp11 = 0;
                  for (; tmp11 < 5; tmp11++) {
                    switch (MMC_SWITCH_CAST(tmp11)) {
                    case 0: {
                      modelica_metatype tmpMeta13;
                      if (mmc__uniontype__metarecord__typedef__equal(tmp11_1,1,5) == 0) goto tmp10_end;
                      tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 5));
                      if (mmc__uniontype__metarecord__typedef__equal(tmpMeta13,2,0) == 0) goto tmp10_end;
                      
                      /* Pattern matching succeeded */
                      goto goto_9;
                      goto tmp10_done;
                    }
                    case 1: {
                      modelica_metatype tmpMeta14;
                      if (mmc__uniontype__metarecord__typedef__equal(tmp11_1,1,5) == 0) goto tmp10_end;
                      tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 5));
                      if (mmc__uniontype__metarecord__typedef__equal(tmpMeta14,4,0) == 0) goto tmp10_end;
                      
                      /* Pattern matching succeeded */
                      goto goto_9;
                      goto tmp10_done;
                    }
                    case 2: {
                      modelica_metatype tmpMeta15;
                      if (mmc__uniontype__metarecord__typedef__equal(tmp11_1,1,5) == 0) goto tmp10_end;
                      tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 5));
                      if (mmc__uniontype__metarecord__typedef__equal(tmpMeta15,3,0) == 0) goto tmp10_end;
                      
                      /* Pattern matching succeeded */
                      goto goto_9;
                      goto tmp10_done;
                    }
                    case 3: {
                      modelica_metatype tmpMeta16;
                      modelica_integer tmp17;
                      if (mmc__uniontype__metarecord__typedef__equal(tmp11_1,7,4) == 0) goto tmp10_end;
                      tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 4));
                      tmp17 = mmc_unbox_integer(tmpMeta16);
                      if (0 /* false */ != tmp17) goto tmp10_end;
                      
                      /* Pattern matching succeeded */
                      goto goto_9;
                      goto tmp10_done;
                    }
                    case 4: {
                      
                      /* Pattern matching succeeded */
                      goto tmp10_done;
                    }
                    }
                    goto tmp10_end;
                    tmp10_end: ;
                  }
                  goto goto_9;
                  goto_9:;
                  goto goto_1;
                  goto tmp10_done;
                  tmp10_done:;
                }
              }
              ;
            }
          }
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_shared) { *out_shared = _shared; }
  return _syst;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_checkForNonLinearStrongComponents(threadData_t *threadData, modelica_metatype _symbolicJacobian)
{
  modelica_boolean _result;
  modelica_metatype _jacBDAE = NULL;
  modelica_string _name = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _result has no default value.
  // _jacBDAE has no default value.
  // _name has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _symbolicJacobian;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _jacBDAE = tmpMeta2;
  _name = tmpMeta3;

  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp6;
      int tmp7;
      tmp6 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp5_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp6 < 2; tmp6++) {
        switch (MMC_SWITCH_CAST(tmp6)) {
        case 0: {
          /* Pattern matching succeeded */
          omc_BackendDAEUtil_mapEqSystem(threadData, _jacBDAE, boxvar_SymbolicJacobian_checkForNonLinearStrongComponents__work);

          _result = 1 /* true */;
          goto tmp5_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_cons(_name, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT62, tmpMeta8);

          _result = 0 /* false */;
          goto tmp5_done;
        }
        }
        goto tmp5_end;
        tmp5_end: ;
      }
      goto goto_4;
      tmp5_done:
      (void)tmp6;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp5_done2;
      goto_4:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp6 < 2) {
        goto tmp5_top;
      }
      MMC_THROW_INTERNAL();
      tmp5_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _result;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_checkForNonLinearStrongComponents(threadData_t *threadData, modelica_metatype _symbolicJacobian)
{
  modelica_boolean _result;
  modelica_metatype out_result;
  _result = omc_SymbolicJacobian_checkForNonLinearStrongComponents(threadData, _symbolicJacobian);
  out_result = mmc_mk_icon(_result);
  return out_result;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getJacobianResiduals(threadData_t *threadData, modelica_metatype _jacDAE)
{
  modelica_metatype _diffedRes = NULL;
  modelica_metatype _syst = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _diffedRes has no default value.
  // _syst has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_jacDAE), 2)));
  if (listEmpty(tmpMeta1)) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_CAR(tmpMeta1);
  tmpMeta3 = MMC_CDR(tmpMeta1);
  _syst = tmpMeta2;

  {
    modelica_metatype __omcQ_24tmpVar11;
    modelica_metatype* tmp5;
    modelica_metatype tmpMeta6;
    modelica_metatype __omcQ_24tmpVar10;
    modelica_integer tmp7;
    modelica_metatype _var_loopVar = 0;
    modelica_metatype _var;
    _var_loopVar = omc_BackendVariable_varList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))));
    tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar11 = tmpMeta6; /* defaultValue */
    tmp5 = &__omcQ_24tmpVar11;
    while(1) {
      tmp7 = 1;
      while (!listEmpty(_var_loopVar)) {
        _var = MMC_CAR(_var_loopVar);
        _var_loopVar = MMC_CDR(_var_loopVar);
        if (omc_BackendVariable_isRESVar(threadData, _var)) {
          tmp7--;
          break;
        }
      }
      if (tmp7 == 0) {
        __omcQ_24tmpVar10 = _var;
        *tmp5 = mmc_mk_cons(__omcQ_24tmpVar10,0);
        tmp5 = &MMC_CDR(*tmp5);
      } else if (tmp7 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp5 = mmc_mk_nil();
    tmpMeta4 = __omcQ_24tmpVar11;
  }
  _diffedRes = tmpMeta4;
  _return: OMC_LABEL_UNUSED
  return _diffedRes;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_rhsConstant2(threadData_t *threadData, modelica_metatype _inEq, modelica_metatype _inTpl, modelica_boolean *out_cont, modelica_metatype *out_outTpl)
{
  modelica_metatype _outEq = NULL;
  modelica_boolean _cont;
  modelica_metatype _outTpl = NULL;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEq has no default value.
  // _cont has no default value.
  // _outTpl has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inEq;
    tmp4_2 = _inTpl;
    {
      modelica_metatype _new_exp = NULL;
      modelica_metatype _rhs_exp = NULL;
      modelica_metatype _e1 = NULL;
      modelica_metatype _e2 = NULL;
      modelica_metatype _e = NULL;
      modelica_boolean _b;
      modelica_boolean _res;
      modelica_metatype _eqn = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _repl = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _new_exp has no default value.
      // _rhs_exp has no default value.
      // _e1 has no default value.
      // _e2 has no default value.
      // _e has no default value.
      // _b has no default value.
      // _res has no default value.
      // _eqn has no default value.
      // _vars has no default value.
      // _repl has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_integer tmp10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmp10 = mmc_unbox_integer(tmpMeta9);
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          _eqn = tmp4_1;
          _e1 = tmpMeta6;
          _e2 = tmpMeta7;
          _vars = tmpMeta8;
          _b = tmp10  /* pattern as ty=Boolean */;
          _repl = tmpMeta11;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          _new_exp = omc_Expression_expSub(threadData, _e1, _e2);

          _rhs_exp = omc_BackendDAEUtil_getEqnsysRhsExp(threadData, _new_exp, _vars, mmc_mk_none(), mmc_mk_some(_repl));

          _res = omc_Expression_isConst(threadData, _rhs_exp);
          tmpMeta12 = mmc_mk_box3(0, _vars, mmc_mk_boolean((_b && _res)), _repl);
          tmpMeta[0+0] = _eqn;
          tmp1_c1 = _res;
          tmpMeta[0+2] = tmpMeta12;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_integer tmp17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,6) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmp17 = mmc_unbox_integer(tmpMeta16);
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          _eqn = tmp4_1;
          _e1 = tmpMeta13;
          _e2 = tmpMeta14;
          _vars = tmpMeta15;
          _b = tmp17  /* pattern as ty=Boolean */;
          _repl = tmpMeta18;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          _new_exp = omc_Expression_expSub(threadData, _e1, _e2);

          _rhs_exp = omc_BackendDAEUtil_getEqnsysRhsExp(threadData, _new_exp, _vars, mmc_mk_none(), mmc_mk_some(_repl));

          _res = omc_Expression_isConst(threadData, _rhs_exp);
          tmpMeta19 = mmc_mk_box3(0, _vars, mmc_mk_boolean((_b && _res)), _repl);
          tmpMeta[0+0] = _eqn;
          tmp1_c1 = _res;
          tmpMeta[0+2] = tmpMeta19;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_integer tmp24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,5) == 0) goto tmp3_end;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmp24 = mmc_unbox_integer(tmpMeta23);
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          _eqn = tmp4_1;
          _e1 = tmpMeta20;
          _e2 = tmpMeta21;
          _vars = tmpMeta22;
          _b = tmp24  /* pattern as ty=Boolean */;
          _repl = tmpMeta25;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _new_exp = omc_Expression_expSub(threadData, _e1, _e2);

          _rhs_exp = omc_BackendDAEUtil_getEqnsysRhsExp(threadData, _new_exp, _vars, mmc_mk_none(), mmc_mk_some(_repl));

          _res = omc_Expression_isConst(threadData, _rhs_exp);
          tmpMeta26 = mmc_mk_box3(0, _vars, mmc_mk_boolean((_b && _res)), _repl);
          tmpMeta[0+0] = _eqn;
          tmp1_c1 = _res;
          tmpMeta[0+2] = tmpMeta26;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_integer tmp30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,3) == 0) goto tmp3_end;
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmp30 = mmc_unbox_integer(tmpMeta29);
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          _eqn = tmp4_1;
          _e = tmpMeta27;
          _vars = tmpMeta28;
          _b = tmp30  /* pattern as ty=Boolean */;
          _repl = tmpMeta31;
          /* Pattern matching succeeded */
          _rhs_exp = omc_BackendDAEUtil_getEqnsysRhsExp(threadData, _e, _vars, mmc_mk_none(), mmc_mk_some(_repl));

          _res = omc_Expression_isConst(threadData, _rhs_exp);
          tmpMeta32 = mmc_mk_box3(0, _vars, mmc_mk_boolean((_b && _res)), _repl);
          tmpMeta[0+0] = _eqn;
          tmp1_c1 = _res;
          tmpMeta[0+2] = tmpMeta32;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          _eqn = tmp4_1;
          _vars = tmpMeta33;
          _repl = tmpMeta34;
          /* Pattern matching succeeded */
          tmpMeta35 = mmc_mk_box3(0, _vars, mmc_mk_boolean(0 /* false */), _repl);
          tmpMeta[0+0] = _eqn;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = tmpMeta35;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outEq = tmpMeta[0+0];
  _cont = tmp1_c1;
  _outTpl = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_cont) { *out_cont = _cont; }
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outEq;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_rhsConstant2(threadData_t *threadData, modelica_metatype _inEq, modelica_metatype _inTpl, modelica_metatype *out_cont, modelica_metatype *out_outTpl)
{
  modelica_boolean _cont;
  modelica_metatype _outEq = NULL;
  _outEq = omc_SymbolicJacobian_rhsConstant2(threadData, _inEq, _inTpl, &_cont, out_outTpl);
  /* skip box _outEq; BackendDAE.Equation */
  if (out_cont) { *out_cont = mmc_mk_icon(_cont); }
  /* skip box _outTpl; tuple<BackendDAE.Variables, #Boolean, BackendVarTransform.VariableReplacements> */
  return _outEq;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_rhsConstant(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _eqns)
{
  modelica_boolean _outBoolean;
  modelica_metatype _repl = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outBoolean has no default value.
  // _repl has no default value.
  if((omc_BackendEquation_equationArraySize(threadData, _eqns) == ((modelica_integer) 0)))
  {
    _outBoolean = 1 /* true */;
  }
  else
  {
    _repl = omc_BackendDAEUtil_makeZeroReplacements(threadData, _vars);

    /* Pattern-matching assignment */
    tmpMeta1 = mmc_mk_box3(0, _vars, mmc_mk_boolean(1 /* true */), _repl);
    tmpMeta2 = omc_BackendEquation_traverseEquationArray__WithStop(threadData, _eqns, boxvar_SymbolicJacobian_rhsConstant2, tmpMeta1);
    tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
    tmp4 = mmc_unbox_integer(tmpMeta3);
    _outBoolean = tmp4  /* pattern as ty=Boolean */;
  }
  _return: OMC_LABEL_UNUSED
  return _outBoolean;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_rhsConstant(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _eqns)
{
  modelica_boolean _outBoolean;
  modelica_metatype out_outBoolean;
  _outBoolean = omc_SymbolicJacobian_rhsConstant(threadData, _vars, _eqns);
  out_outBoolean = mmc_mk_icon(_outBoolean);
  return out_outBoolean;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_varsNotInRelations(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Ftpl, modelica_boolean *out_cont, modelica_metatype *out_tpl)
{
  modelica_metatype _exp = NULL;
  modelica_boolean _cont;
  modelica_metatype _tpl = NULL;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _exp = __omcQ_24in_5Fexp;
  // _cont has no default value.
  _tpl = __omcQ_24in_5Ftpl;
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _exp;
    tmp4_2 = _tpl;
    {
      modelica_metatype _cond = NULL;
      modelica_metatype _t = NULL;
      modelica_metatype _f = NULL;
      modelica_metatype _e1 = NULL;
      modelica_metatype _vars = NULL;
      modelica_boolean _b;
      modelica_metatype _expLst = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cond has no default value.
      // _t has no default value.
      // _f has no default value.
      // _e1 has no default value.
      // _vars has no default value.
      // _b has no default value.
      // _expLst has no default value.
      tmp4 = 0;
      for (; tmp4 < 10; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_integer tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_integer tmp14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_integer tmp18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_integer tmp23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmp11 = mmc_unbox_integer(tmpMeta10);
          _cond = tmpMeta6;
          _t = tmpMeta7;
          _f = tmpMeta8;
          _vars = tmpMeta9;
          _b = tmp11  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment, wild first pattern */
          tmpMeta15 = mmc_mk_box2(0, _vars, mmc_mk_boolean(_b));
          omc_Expression_traverseExpTopDown(threadData, _cond, boxvar_BackendDAEUtil_getEqnsysRhsExp2, tmpMeta15, &tmpMeta12);
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 2));
          tmp14 = mmc_unbox_integer(tmpMeta13);
          _b = tmp14  /* pattern as ty=Boolean */;

          /* Pattern-matching tuple assignment */
          tmpMeta19 = mmc_mk_box2(0, _vars, mmc_mk_boolean(_b));
          tmpMeta20 = omc_Expression_traverseExpTopDown(threadData, _t, boxvar_SymbolicJacobian_varsNotInRelations, tmpMeta19, &tmpMeta16);
          _t = tmpMeta20;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta16), 2));
          tmp18 = mmc_unbox_integer(tmpMeta17);
          _b = tmp18  /* pattern as ty=Boolean */;

          /* Pattern-matching tuple assignment */
          tmpMeta24 = mmc_mk_box2(0, _vars, mmc_mk_boolean(_b));
          tmpMeta25 = omc_Expression_traverseExpTopDown(threadData, _f, boxvar_SymbolicJacobian_varsNotInRelations, tmpMeta24, &tmpMeta21);
          _f = tmpMeta25;
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 2));
          tmp23 = mmc_unbox_integer(tmpMeta22);
          _b = tmp23  /* pattern as ty=Boolean */;
          tmpMeta26 = mmc_mk_box4(15, &DAE_Exp_IFEXP__desc, _cond, _t, _f);
          tmpMeta27 = mmc_mk_box2(0, _vars, mmc_mk_boolean(_b));
          tmpMeta[0+0] = tmpMeta26;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = tmpMeta27;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta28,1,1) == 0) goto tmp3_end;
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta28), 2));
          if (3 != MMC_STRLEN(tmpMeta29) || strcmp(MMC_STRINGDATA(_OMC_LIT63), MMC_STRINGDATA(tmpMeta29)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _exp;
          tmp1_c1 = 1 /* true */;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta30,1,1) == 0) goto tmp3_end;
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta30), 2));
          if (3 != MMC_STRLEN(tmpMeta31) || strcmp(MMC_STRINGDATA(_OMC_LIT64), MMC_STRINGDATA(tmpMeta31)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _exp;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta32,1,1) == 0) goto tmp3_end;
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta32), 2));
          if (8 != MMC_STRLEN(tmpMeta33) || strcmp(MMC_STRINGDATA(_OMC_LIT65), MMC_STRINGDATA(tmpMeta33)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _exp;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta34;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _expLst = tmpMeta34;
          /* Pattern matching succeeded */
          omc_Expression_traverseExpListTopDown(threadData, _expLst, boxvar_BackendDAEUtil_getEqnsysRhsExp2, _tpl ,&_tpl);
          tmpMeta[0+0] = _exp;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        case 5: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          omc_Expression_traverseExpTopDown(threadData, _exp, boxvar_BackendDAEUtil_getEqnsysRhsExp2, _tpl ,&_tpl);
          tmpMeta[0+0] = _exp;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        case 6: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,2) == 0) goto tmp3_end;
          
          _tpl = tmp4_2;
          /* Pattern matching succeeded */
          omc_Expression_traverseExpTopDown(threadData, _exp, boxvar_BackendDAEUtil_getEqnsysRhsExp2, _tpl ,&_tpl);
          tmpMeta[0+0] = _exp;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        case 7: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,5) == 0) goto tmp3_end;
          
          _tpl = tmp4_2;
          /* Pattern matching succeeded */
          omc_Expression_traverseExpTopDown(threadData, _exp, boxvar_BackendDAEUtil_getEqnsysRhsExp2, _tpl ,&_tpl);
          tmpMeta[0+0] = _exp;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_integer tmp39;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,2) == 0) goto tmp3_end;
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _e1 = tmpMeta35;
          _expLst = tmpMeta36;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment, wild first pattern */
          omc_Expression_traverseExpTopDown(threadData, _e1, boxvar_SymbolicJacobian_varsNotInRelations, _tpl, &tmpMeta37);
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta37), 2));
          tmp39 = mmc_unbox_integer(tmpMeta38);
          _tpl = tmpMeta37;
          _b = tmp39  /* pattern as ty=Boolean */;

          if(_b)
          {
            omc_Expression_traverseExpListTopDown(threadData, _expLst, boxvar_BackendDAEUtil_getEqnsysRhsExp2, _tpl ,&_tpl);
          }
          tmpMeta[0+0] = _exp;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta40;
          modelica_integer tmp41;
          tmpMeta40 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmp41 = mmc_unbox_integer(tmpMeta40);
          _b = tmp41  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _exp;
          tmp1_c1 = _b;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _exp = tmpMeta[0+0];
  _cont = tmp1_c1;
  _tpl = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_cont) { *out_cont = _cont; }
  if (out_tpl) { *out_tpl = _tpl; }
  return _exp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_varsNotInRelations(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Ftpl, modelica_metatype *out_cont, modelica_metatype *out_tpl)
{
  modelica_boolean _cont;
  modelica_metatype _exp = NULL;
  _exp = omc_SymbolicJacobian_varsNotInRelations(threadData, __omcQ_24in_5Fexp, __omcQ_24in_5Ftpl, &_cont, out_tpl);
  /* skip box _exp; DAE.Exp */
  if (out_cont) { *out_cont = mmc_mk_icon(_cont); }
  /* skip box _tpl; tuple<BackendDAE.Variables, #Boolean> */
  return _exp;
}

DLLDirection
modelica_boolean omc_SymbolicJacobian_isJacobianGeneric(threadData_t *threadData, modelica_metatype _inJac)
{
  modelica_boolean _result;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _result has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inJac;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _result = tmp1;
  _return: OMC_LABEL_UNUSED
  return _result;
}
modelica_metatype boxptr_SymbolicJacobian_isJacobianGeneric(threadData_t *threadData, modelica_metatype _inJac)
{
  modelica_boolean _result;
  modelica_metatype out_result;
  _result = omc_SymbolicJacobian_isJacobianGeneric(threadData, _inJac);
  out_result = mmc_mk_icon(_result);
  return out_result;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_jacobianConstant(threadData_t *threadData, modelica_metatype _inTplIntegerIntegerEquationLst)
{
  modelica_boolean _outBoolean;
  modelica_metatype _e1 = NULL;
  modelica_metatype _e2 = NULL;
  modelica_metatype _e = NULL;
  modelica_metatype _tpl = NULL;
  modelica_metatype _eqn = NULL;
  modelica_metatype tmpMeta1;
  modelica_boolean tmp2 = 0;
  modelica_metatype tmpMeta14;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outBoolean = 1 /* true */;
  // _e1 has no default value.
  // _e2 has no default value.
  // _e has no default value.
  // _tpl has no default value.
  // _eqn has no default value.
  {
    modelica_metatype _tpl;
    for (tmpMeta1 = _inTplIntegerIntegerEquationLst; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _tpl = MMC_CAR(tmpMeta1);
      _eqn = omc_Util_tuple33(threadData, _tpl);

      { /* match expression */
        modelica_metatype tmp5_1;
        tmp5_1 = _eqn;
        {
          int tmp5;
          {
            switch (MMC_SWITCH_CAST(valueConstructor(tmp5_1))) {
            case 3: {
              modelica_metatype tmpMeta6;
              modelica_metatype tmpMeta7;
              if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,0,4) == 0) goto tmp4_end;
              tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 2));
              tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 3));
              
              _e1 = tmpMeta6;
              _e2 = tmpMeta7;
              /* Pattern matching succeeded */
              tmp2 = (omc_Expression_isConst(threadData, _e1) && omc_Expression_isConst(threadData, _e2));
              goto tmp4_done;
            }
            case 6: {
              modelica_metatype tmpMeta8;
              if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,3,3) == 0) goto tmp4_end;
              tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 2));
              
              _e = tmpMeta8;
              /* Pattern matching succeeded */
              tmp2 = omc_Expression_isConst(threadData, _e);
              goto tmp4_done;
            }
            case 5: {
              modelica_metatype tmpMeta9;
              if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,2,4) == 0) goto tmp4_end;
              tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 3));
              
              _e = tmpMeta9;
              /* Pattern matching succeeded */
              tmp2 = omc_Expression_isConst(threadData, _e);
              goto tmp4_done;
            }
            case 4: {
              modelica_metatype tmpMeta10;
              modelica_metatype tmpMeta11;
              if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,1,6) == 0) goto tmp4_end;
              tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 3));
              tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 4));
              
              _e1 = tmpMeta10;
              _e2 = tmpMeta11;
              /* Pattern matching succeeded */
              tmp2 = (omc_Expression_isConst(threadData, _e1) && omc_Expression_isConst(threadData, _e2));
              goto tmp4_done;
            }
            case 9: {
              modelica_metatype tmpMeta12;
              modelica_metatype tmpMeta13;
              if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,6,5) == 0) goto tmp4_end;
              tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 3));
              tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 4));
              
              _e1 = tmpMeta12;
              _e2 = tmpMeta13;
              /* Pattern matching succeeded */
              tmp2 = (omc_Expression_isConst(threadData, _e1) && omc_Expression_isConst(threadData, _e2));
              goto tmp4_done;
            }
            default:
            tmp4_default: OMC_LABEL_UNUSED; {
              
              /* Pattern matching succeeded */
              tmp2 = 0 /* false */;
              goto tmp4_done;
            }
            }
            goto tmp4_end;
            tmp4_end: ;
          }
          goto goto_3;
          goto_3:;
          MMC_THROW_INTERNAL();
          goto tmp4_done;
          tmp4_done:;
        }
      }
      _outBoolean = tmp2;

      if((!_outBoolean))
      {
        break;
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _outBoolean;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_jacobianConstant(threadData_t *threadData, modelica_metatype _inTplIntegerIntegerEquationLst)
{
  modelica_boolean _outBoolean;
  modelica_metatype out_outBoolean;
  _outBoolean = omc_SymbolicJacobian_jacobianConstant(threadData, _inTplIntegerIntegerEquationLst);
  out_outBoolean = mmc_mk_icon(_outBoolean);
  return out_outBoolean;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_traverserjacobianNonlinearExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _tpl, modelica_boolean *out_cont, modelica_metatype *out_outTpl)
{
  modelica_metatype _outExp = NULL;
  modelica_boolean _cont;
  modelica_metatype _outTpl = NULL;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _cont has no default value.
  // _outTpl has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inExp;
    tmp4_2 = _tpl;
    {
      modelica_metatype _vars = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _cr = NULL;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _vars has no default value.
      // _e has no default value.
      // _cr has no default value.
      // _b has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          
          _e = tmp4_1;
          _cr = tmpMeta6;
          _vars = tmpMeta7;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching tuple assignment */
          tmpMeta8 = omc_BackendVariable_getVar(threadData, _cr, _vars, NULL);
          if (listEmpty(tmpMeta8)) goto goto_2;
          tmpMeta9 = MMC_CAR(tmpMeta8);
          tmpMeta10 = MMC_CDR(tmpMeta8);
          tmpMeta11 = mmc_mk_box2(0, _vars, mmc_mk_boolean(1 /* true */));
          tmpMeta[0+0] = _e;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = tmpMeta11;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta12,1,1) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 2));
          if (3 != MMC_STRLEN(tmpMeta13) || strcmp(MMC_STRINGDATA(_OMC_LIT63), MMC_STRINGDATA(tmpMeta13)) != 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta14)) goto tmp3_end;
          tmpMeta15 = MMC_CAR(tmpMeta14);
          tmpMeta16 = MMC_CDR(tmpMeta14);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta15,6,2) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 2));
          if (!listEmpty(tmpMeta16)) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          
          _e = tmp4_1;
          _cr = tmpMeta17;
          _vars = tmpMeta18;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          omc_BackendVariable_getVar(threadData, _cr, _vars, NULL);
          tmpMeta19 = mmc_mk_box2(0, _vars, mmc_mk_boolean(1 /* true */));
          tmpMeta[0+0] = _e;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = tmpMeta19;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta20,1,1) == 0) goto tmp3_end;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta20), 2));
          if (3 != MMC_STRLEN(tmpMeta21) || strcmp(MMC_STRINGDATA(_OMC_LIT64), MMC_STRINGDATA(tmpMeta21)) != 0) goto tmp3_end;
          
          _e = tmp4_1;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = _e;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta22,1,1) == 0) goto tmp3_end;
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 2));
          if (8 != MMC_STRLEN(tmpMeta23) || strcmp(MMC_STRINGDATA(_OMC_LIT65), MMC_STRINGDATA(tmpMeta23)) != 0) goto tmp3_end;
          
          _e = tmp4_1;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _e;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta24;
          modelica_integer tmp25;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmp25 = mmc_unbox_integer(tmpMeta24);
          _e = tmp4_1;
          _b = tmp25  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _e;
          tmp1_c1 = (!_b);
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outExp = tmpMeta[0+0];
  _cont = tmp1_c1;
  _outTpl = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_cont) { *out_cont = _cont; }
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_traverserjacobianNonlinearExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _tpl, modelica_metatype *out_cont, modelica_metatype *out_outTpl)
{
  modelica_boolean _cont;
  modelica_metatype _outExp = NULL;
  _outExp = omc_SymbolicJacobian_traverserjacobianNonlinearExp(threadData, _inExp, _tpl, &_cont, out_outTpl);
  /* skip box _outExp; DAE.Exp */
  if (out_cont) { *out_cont = mmc_mk_icon(_cont); }
  /* skip box _outTpl; tuple<BackendDAE.Variables, #Boolean> */
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_jacobianNonlinearExp(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _inExp)
{
  modelica_boolean _outBoolean;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outBoolean has no default value.
  /* Pattern-matching tuple assignment, wild first pattern */
  tmpMeta4 = mmc_mk_box2(0, _vars, mmc_mk_boolean(0 /* false */));
  omc_Expression_traverseExpTopDown(threadData, _inExp, boxvar_SymbolicJacobian_traverserjacobianNonlinearExp, tmpMeta4, &tmpMeta1);
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmp3 = mmc_unbox_integer(tmpMeta2);
  _outBoolean = tmp3  /* pattern as ty=Boolean */;
  _return: OMC_LABEL_UNUSED
  return _outBoolean;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_jacobianNonlinearExp(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _inExp)
{
  modelica_boolean _outBoolean;
  modelica_metatype out_outBoolean;
  _outBoolean = omc_SymbolicJacobian_jacobianNonlinearExp(threadData, _vars, _inExp);
  out_outBoolean = mmc_mk_icon(_outBoolean);
  return out_outBoolean;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_jacobianNonlinear(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _inTplIntegerIntegerEquationLst)
{
  modelica_boolean _isNonLinear;
  modelica_metatype _e1 = NULL;
  modelica_metatype _e2 = NULL;
  modelica_metatype _e = NULL;
  modelica_metatype _eq = NULL;
  modelica_metatype _tpl = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_boolean tmp4 = 0;
  modelica_metatype tmpMeta12;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isNonLinear = 0 /* false */;
  // _e1 has no default value.
  // _e2 has no default value.
  // _e has no default value.
  // _eq has no default value.
  // _tpl has no default value.
  {
    modelica_metatype _tpl;
    for (tmpMeta1 = _inTplIntegerIntegerEquationLst; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _tpl = MMC_CAR(tmpMeta1);
      /* Pattern-matching assignment */
      tmpMeta2 = _tpl;
      tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 3));
      _eq = tmpMeta3;

      { /* match expression */
        modelica_metatype tmp7_1;
        tmp7_1 = _eq;
        {
          volatile mmc_switch_type tmp7;
          int tmp8;
          tmp7 = 0;
          for (; tmp7 < 2; tmp7++) {
            switch (MMC_SWITCH_CAST(tmp7)) {
            case 0: {
              modelica_metatype tmpMeta9;
              modelica_metatype tmpMeta10;
              if (mmc__uniontype__metarecord__typedef__equal(tmp7_1,0,4) == 0) goto tmp6_end;
              tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 2));
              tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 3));
              
              _e1 = tmpMeta9;
              _e2 = tmpMeta10;
              /* Pattern matching succeeded */
              tmp4 = (omc_SymbolicJacobian_jacobianNonlinearExp(threadData, _vars, _e1) || omc_SymbolicJacobian_jacobianNonlinearExp(threadData, _vars, _e2));
              goto tmp6_done;
            }
            case 1: {
              modelica_metatype tmpMeta11;
              if (mmc__uniontype__metarecord__typedef__equal(tmp7_1,3,3) == 0) goto tmp6_end;
              tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 2));
              
              _e = tmpMeta11;
              /* Pattern matching succeeded */
              tmp4 = omc_SymbolicJacobian_jacobianNonlinearExp(threadData, _vars, _e);
              goto tmp6_done;
            }
            }
            goto tmp6_end;
            tmp6_end: ;
          }
          goto goto_5;
          goto_5:;
          MMC_THROW_INTERNAL();
          goto tmp6_done;
          tmp6_done:;
        }
      }
      _isNonLinear = tmp4;

      if(_isNonLinear)
      {
        goto _return;
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _isNonLinear;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_jacobianNonlinear(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _inTplIntegerIntegerEquationLst)
{
  modelica_boolean _isNonLinear;
  modelica_metatype out_isNonLinear;
  _isNonLinear = omc_SymbolicJacobian_jacobianNonlinear(threadData, _vars, _inTplIntegerIntegerEquationLst);
  out_isNonLinear = mmc_mk_icon(_isNonLinear);
  return out_isNonLinear;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_analyzeJacobian(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _eqns, modelica_metatype _inTplIntegerIntegerEquationLstOption, modelica_boolean *out_jacConstant)
{
  modelica_metatype _outJacobianType = NULL;
  modelica_boolean _jacConstant;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outJacobianType has no default value.
  // _jacConstant has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inTplIntegerIntegerEquationLstOption;
    {
      modelica_metatype _jac = NULL;
      modelica_boolean _b;
      modelica_metatype _jactype = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _jac has no default value.
      // _b has no default value.
      // _jactype has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_boolean tmp9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_integer tmp13;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          _jac = tmpMeta6;
          /* Pattern matching succeeded */
          _b = omc_SymbolicJacobian_jacobianNonlinear(threadData, _vars, _jac);

          /* Pattern-matching assignment */
          tmp9 = (modelica_boolean)(!_b);
          if(tmp9)
          {
            tmpMeta7 = mmc_mk_box2(0, _vars, mmc_mk_boolean(1 /* true */));
            tmpMeta10 = omc_BackendDAEUtil_traverseBackendDAEExpsEqnsWithStop(threadData, _eqns, boxvar_SymbolicJacobian_varsNotInRelations, tmpMeta7);
          }
          else
          {
            tmpMeta8 = mmc_mk_box2(0, _vars, mmc_mk_boolean(0 /* false */));
            tmpMeta10 = tmpMeta8;
          }
          tmpMeta11 = tmpMeta10;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          tmp13 = mmc_unbox_integer(tmpMeta12);
          if (0 /* false */ != tmp13) goto goto_2;
          tmpMeta[0+0] = _OMC_LIT66;
          tmp1_c1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta14;
          modelica_boolean tmp15;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          _jac = tmpMeta14;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp15 = omc_SymbolicJacobian_jacobianConstant(threadData, _jac);
          if (1 /* true */ != tmp15) goto goto_2;

          _b = omc_SymbolicJacobian_rhsConstant(threadData, _vars, _eqns);

          _jactype = (_b?_OMC_LIT67:_OMC_LIT68);
          tmpMeta[0+0] = _jactype;
          tmp1_c1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta16;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = _OMC_LIT68;
          tmp1_c1 = 0 /* false */;
          goto tmp3_done;
        }
        case 3: {
          if (!optionNone(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _OMC_LIT69;
          tmp1_c1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outJacobianType = tmpMeta[0+0];
  _jacConstant = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_jacConstant) { *out_jacConstant = _jacConstant; }
  return _outJacobianType;
}
modelica_metatype boxptr_SymbolicJacobian_analyzeJacobian(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _eqns, modelica_metatype _inTplIntegerIntegerEquationLstOption, modelica_metatype *out_jacConstant)
{
  modelica_boolean _jacConstant;
  modelica_metatype _outJacobianType = NULL;
  _outJacobianType = omc_SymbolicJacobian_analyzeJacobian(threadData, _vars, _eqns, _inTplIntegerIntegerEquationLstOption, &_jacConstant);
  /* skip box _outJacobianType; BackendDAE.JacobianType */
  if (out_jacConstant) { *out_jacConstant = mmc_mk_icon(_jacConstant); }
  return _outJacobianType;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_addBackendDAESharedJacobianSparsePattern(threadData_t *threadData, modelica_metatype _inSparsePattern, modelica_metatype _inSparseColoring, modelica_integer _inIndex, modelica_metatype _inShared)
{
  modelica_metatype _outShared = NULL;
  modelica_metatype _globalKnownVars = NULL;
  modelica_metatype _exobj = NULL;
  modelica_metatype _av = NULL;
  modelica_metatype _remeqns = NULL;
  modelica_metatype _inieqns = NULL;
  modelica_metatype _constrs = NULL;
  modelica_metatype _clsAttrs = NULL;
  modelica_metatype _cache = NULL;
  modelica_metatype _graph = NULL;
  modelica_metatype _funcTree = NULL;
  modelica_metatype _einfo = NULL;
  modelica_metatype _eoc = NULL;
  modelica_metatype _btp = NULL;
  modelica_metatype _symjacs = NULL;
  modelica_metatype _symJac = NULL;
  modelica_metatype _ei = NULL;
  modelica_metatype _nonlinearPattern = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outShared has no default value.
  // _globalKnownVars has no default value.
  // _exobj has no default value.
  // _av has no default value.
  // _remeqns has no default value.
  // _inieqns has no default value.
  // _constrs has no default value.
  // _clsAttrs has no default value.
  // _cache has no default value.
  // _graph has no default value.
  // _funcTree has no default value.
  // _einfo has no default value.
  // _eoc has no default value.
  // _btp has no default value.
  // _symjacs has no default value.
  // _symJac has no default value.
  // _ei has no default value.
  _nonlinearPattern = _OMC_LIT71;
  /* Pattern-matching assignment */
  tmpMeta1 = _inShared;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 16));
  _symjacs = tmpMeta2;

  /* Pattern-matching assignment */
  tmpMeta3 = listGet(_symjacs, _inIndex);
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 1));
  _symJac = tmpMeta4;

  tmpMeta5 = mmc_mk_box4(0, _symJac, _inSparsePattern, _inSparseColoring, _nonlinearPattern);
  _symjacs = omc_List_set(threadData, _symjacs, _inIndex, tmpMeta5);

  _outShared = omc_BackendDAEUtil_setSharedSymJacs(threadData, _inShared, _symjacs);
  _return: OMC_LABEL_UNUSED
  return _outShared;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_addBackendDAESharedJacobianSparsePattern(threadData_t *threadData, modelica_metatype _inSparsePattern, modelica_metatype _inSparseColoring, modelica_metatype _inIndex, modelica_metatype _inShared)
{
  modelica_integer tmp1;
  modelica_metatype _outShared = NULL;
  tmp1 = mmc_unbox_integer(_inIndex);
  _outShared = omc_SymbolicJacobian_addBackendDAESharedJacobianSparsePattern(threadData, _inSparsePattern, _inSparseColoring, tmp1, _inShared);
  /* skip box _outShared; BackendDAE.Shared */
  return _outShared;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_addBackendDAESharedJacobian(threadData_t *threadData, modelica_metatype _inSymJac, modelica_metatype _inSparsePattern, modelica_metatype _inSparseColoring, modelica_metatype _inNonlinearPattern, modelica_metatype _inShared)
{
  modelica_metatype _outShared = NULL;
  modelica_metatype _globalKnownVars = NULL;
  modelica_metatype _exobj = NULL;
  modelica_metatype _av = NULL;
  modelica_metatype _remeqns = NULL;
  modelica_metatype _inieqns = NULL;
  modelica_metatype _constrs = NULL;
  modelica_metatype _clsAttrs = NULL;
  modelica_metatype _cache = NULL;
  modelica_metatype _graph = NULL;
  modelica_metatype _funcTree = NULL;
  modelica_metatype _einfo = NULL;
  modelica_metatype _eoc = NULL;
  modelica_metatype _btp = NULL;
  modelica_metatype _symjacs = NULL;
  modelica_metatype _ei = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outShared has no default value.
  // _globalKnownVars has no default value.
  // _exobj has no default value.
  // _av has no default value.
  // _remeqns has no default value.
  // _inieqns has no default value.
  // _constrs has no default value.
  // _clsAttrs has no default value.
  // _cache has no default value.
  // _graph has no default value.
  // _funcTree has no default value.
  // _einfo has no default value.
  // _eoc has no default value.
  // _btp has no default value.
  // _symjacs has no default value.
  // _ei has no default value.
  tmpMeta2 = mmc_mk_box4(0, _inSymJac, _inSparsePattern, _inSparseColoring, _inNonlinearPattern);
  tmpMeta1 = mmc_mk_cons(tmpMeta2, mmc_mk_cons(_OMC_LIT73, mmc_mk_cons(_OMC_LIT73, mmc_mk_cons(_OMC_LIT73, MMC_REFSTRUCTLIT(mmc_nil)))));
  _symjacs = tmpMeta1;

  _outShared = omc_BackendDAEUtil_setSharedSymJacs(threadData, _inShared, _symjacs);
  _return: OMC_LABEL_UNUSED
  return _outShared;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobianRow2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _vars, modelica_integer _eqn_indx, modelica_metatype _inIntegerLst, modelica_boolean _differentiateIfExp, modelica_metatype _iShared, modelica_metatype _source, modelica_metatype _iAcc, modelica_metatype *out_oShared)
{
  modelica_metatype _outLst = NULL;
  modelica_metatype _oShared = NULL;
  modelica_metatype _e = NULL;
  modelica_metatype _e_1 = NULL;
  modelica_metatype _dcrexp = NULL;
  modelica_metatype _v = NULL;
  modelica_metatype _cr = NULL;
  modelica_metatype _dcr = NULL;
  modelica_integer _vindx;
  modelica_string _str = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outLst = _iAcc;
  _oShared = _iShared;
  // _e has no default value.
  // _e_1 has no default value.
  // _dcrexp has no default value.
  // _v has no default value.
  // _cr has no default value.
  // _dcr has no default value.
  // _vindx has no default value.
  // _str has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          /* Pattern matching succeeded */
          {
            modelica_metatype _vindx;
            for (tmpMeta5 = _inIntegerLst; !listEmpty(tmpMeta5); tmpMeta5=MMC_CDR(tmpMeta5))
            {
              _vindx = MMC_CAR(tmpMeta5);
              _v = omc_BackendVariable_getVarAt(threadData, _vars, mmc_unbox_integer(_vindx));

              _cr = omc_BackendVariable_varCref(threadData, _v);

              if(omc_BackendVariable_isStateVar(threadData, _v))
              {
                _dcr = omc_ComponentReference_crefPrefixDer(threadData, _cr);

                _dcrexp = omc_Expression_crefExp(threadData, _cr);

                tmpMeta6 = mmc_mk_cons(_dcrexp, MMC_REFSTRUCTLIT(mmc_nil));
                tmpMeta7 = mmc_mk_box4(16, &DAE_Exp_CALL__desc, _OMC_LIT74, tmpMeta6, _OMC_LIT77);
                _dcrexp = tmpMeta7;

                /* Pattern-matching assignment */
                tmpMeta8 = omc_Expression_replaceExp(threadData, _inExp, _dcrexp, omc_Expression_crefExp(threadData, _dcr));
                tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
                _e = tmpMeta9;
              }

              _e_1 = omc_Differentiate_differentiateExpCrefFullJacobian(threadData, _inExp, _cr, _vars, _oShared ,&_oShared);

              if((!omc_Expression_isZero(threadData, _e_1)))
              {
                tmpMeta11 = mmc_mk_box4(6, &BackendDAE_Equation_RESIDUAL__EQUATION__desc, _e_1, _source, _OMC_LIT17);
                tmpMeta12 = mmc_mk_box3(0, mmc_mk_integer(_eqn_indx), _vindx, tmpMeta11);
                tmpMeta10 = mmc_mk_cons(tmpMeta12, _outLst);
                _outLst = tmpMeta10;
              }
            }
          }
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta14;
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT82))
          {
            _str = omc_ExpressionDump_printExpStr(threadData, _inExp);

            tmpMeta14 = stringAppend(_OMC_LIT78,_str);
            omc_Debug_traceln(threadData, tmpMeta14);
          }

          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_oShared) { *out_oShared = _oShared; }
  return _outLst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_calculateJacobianRow2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _vars, modelica_metatype _eqn_indx, modelica_metatype _inIntegerLst, modelica_metatype _differentiateIfExp, modelica_metatype _iShared, modelica_metatype _source, modelica_metatype _iAcc, modelica_metatype *out_oShared)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outLst = NULL;
  tmp1 = mmc_unbox_integer(_eqn_indx);
  tmp2 = mmc_unbox_integer(_differentiateIfExp);
  _outLst = omc_SymbolicJacobian_calculateJacobianRow2(threadData, _inExp, _vars, tmp1, _inIntegerLst, tmp2, _iShared, _source, _iAcc, out_oShared);
  /* skip box _outLst; list<tuple<#Integer, #Integer, BackendDAE.Equation>> */
  /* skip box _oShared; BackendDAE.Shared */
  return _outLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobianRowLst(threadData_t *threadData, modelica_metatype _inExps, modelica_metatype _vars, modelica_integer _eqn_indx, modelica_metatype _inIntegerLst, modelica_boolean _differentiateIfExp, modelica_metatype _iShared, modelica_metatype _source, modelica_metatype _iAcc, modelica_metatype *out_oShared)
{
  modelica_metatype _outLst = NULL;
  modelica_metatype _oShared = NULL;
  modelica_integer _eqn_indx_arr;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outLst = _iAcc;
  _oShared = _iShared;
  _eqn_indx_arr = _eqn_indx;
  {
    modelica_metatype _e;
    for (tmpMeta1 = _inExps; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _e = MMC_CAR(tmpMeta1);
      _outLst = omc_SymbolicJacobian_calculateJacobianRow2(threadData, _e, _vars, _eqn_indx_arr, _inIntegerLst, _differentiateIfExp, _oShared, _source, _outLst ,&_oShared);

      _eqn_indx_arr = ((modelica_integer) 1) + _eqn_indx_arr;
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_oShared) { *out_oShared = _oShared; }
  return _outLst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_calculateJacobianRowLst(threadData_t *threadData, modelica_metatype _inExps, modelica_metatype _vars, modelica_metatype _eqn_indx, modelica_metatype _inIntegerLst, modelica_metatype _differentiateIfExp, modelica_metatype _iShared, modelica_metatype _source, modelica_metatype _iAcc, modelica_metatype *out_oShared)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outLst = NULL;
  tmp1 = mmc_unbox_integer(_eqn_indx);
  tmp2 = mmc_unbox_integer(_differentiateIfExp);
  _outLst = omc_SymbolicJacobian_calculateJacobianRowLst(threadData, _inExps, _vars, tmp1, _inIntegerLst, tmp2, _iShared, _source, _iAcc, out_oShared);
  /* skip box _outLst; list<tuple<#Integer, #Integer, BackendDAE.Equation>> */
  /* skip box _oShared; BackendDAE.Shared */
  return _outLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobianRow(threadData_t *threadData, modelica_metatype _inEquation, modelica_metatype _vars, modelica_metatype _m, modelica_integer _eqn_indx, modelica_integer _scalar_eqn_indx, modelica_boolean _differentiateIfExp, modelica_metatype _iShared, modelica_fnptr _fvarsInEqn, modelica_metatype _iAcc, modelica_integer *out_size, modelica_metatype *out_oShared)
{
  modelica_metatype _outLst = NULL;
  modelica_integer _size;
  modelica_metatype _oShared = NULL;
  modelica_integer tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outLst has no default value.
  // _size has no default value.
  // _oShared has no default value.
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inEquation;
    {
      modelica_metatype _var_indxs = NULL;
      modelica_metatype _var_indxs_1 = NULL;
      modelica_metatype _ds = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _e1 = NULL;
      modelica_metatype _e2 = NULL;
      modelica_metatype _expl = NULL;
      modelica_metatype _subslst = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _cr = NULL;
      modelica_string _str = NULL;
      modelica_metatype _shared = NULL;
      int tmp4;
      // _var_indxs has no default value.
      // _var_indxs_1 has no default value.
      // _ds has no default value.
      // _eqns has no default value.
      // _e has no default value.
      // _e1 has no default value.
      // _e2 has no default value.
      // _expl has no default value.
      // _subslst has no default value.
      // _source has no default value.
      // _cr has no default value.
      // _str has no default value.
      // _shared has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _e1 = tmpMeta5;
          _e2 = tmpMeta6;
          _source = tmpMeta7;
          /* Pattern matching succeeded */
          _var_indxs = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 2))), _m, mmc_mk_integer(_eqn_indx)) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 1)))) (threadData, _m, mmc_mk_integer(_eqn_indx));

          _var_indxs_1 = omc_List_sort(threadData, _var_indxs, boxvar_intGt);

          _var_indxs_1 = omc_List_sortedUnique(threadData, _var_indxs_1, boxvar_intEq);

          _eqns = omc_SymbolicJacobian_calculateJacobianRow2(threadData, omc_Expression_expSub(threadData, _e1, _e2), _vars, _scalar_eqn_indx, _var_indxs_1, _differentiateIfExp, _iShared, _source, _iAcc ,&_shared);
          tmpMeta[0+0] = _eqns;
          tmp1_c1 = ((modelica_integer) 1);
          tmpMeta[0+2] = _shared;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _e = tmpMeta8;
          _source = tmpMeta9;
          /* Pattern matching succeeded */
          _var_indxs = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 2))), _m, mmc_mk_integer(_eqn_indx)) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 1)))) (threadData, _m, mmc_mk_integer(_eqn_indx));

          _var_indxs_1 = omc_List_sort(threadData, _var_indxs, boxvar_intGt);

          _var_indxs_1 = omc_List_sortedUnique(threadData, _var_indxs_1, boxvar_intEq);

          _eqns = omc_SymbolicJacobian_calculateJacobianRow2(threadData, _e, _vars, _scalar_eqn_indx, _var_indxs_1, _differentiateIfExp, _iShared, _source, _iAcc ,&_shared);
          tmpMeta[0+0] = _eqns;
          tmp1_c1 = ((modelica_integer) 1);
          tmpMeta[0+2] = _shared;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,4) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _cr = tmpMeta10;
          _e2 = tmpMeta11;
          _source = tmpMeta12;
          /* Pattern matching succeeded */
          _e1 = omc_Expression_crefExp(threadData, _cr);

          _var_indxs = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 2))), _m, mmc_mk_integer(_eqn_indx)) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 1)))) (threadData, _m, mmc_mk_integer(_eqn_indx));

          _var_indxs_1 = omc_List_sort(threadData, _var_indxs, boxvar_intGt);

          _var_indxs_1 = omc_List_sortedUnique(threadData, _var_indxs_1, boxvar_intEq);

          _eqns = omc_SymbolicJacobian_calculateJacobianRow2(threadData, omc_Expression_expSub(threadData, _e1, _e2), _vars, _scalar_eqn_indx, _var_indxs_1, _differentiateIfExp, _iShared, _source, _iAcc ,&_shared);
          tmpMeta[0+0] = _eqns;
          tmp1_c1 = ((modelica_integer) 1);
          tmpMeta[0+2] = _shared;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,6) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          
          _ds = tmpMeta13;
          _e1 = tmpMeta14;
          _e2 = tmpMeta15;
          _source = tmpMeta16;
          /* Pattern matching succeeded */
          omc_Expression_typeof(threadData, _e1);

          _e = omc_Expression_expSub(threadData, _e1, _e2);

          _e = omc_Expression_extendArrExp(threadData, _e, 0 /* false */, NULL);

          _subslst = omc_Expression_dimensionSizesSubscripts(threadData, _ds);

          _subslst = omc_Expression_rangesToSubscripts(threadData, _subslst);

          _expl = omc_List_map1r(threadData, _subslst, boxvar_Expression_applyExpSubscripts, _e);

          _var_indxs = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 2))), _m, mmc_mk_integer(_eqn_indx)) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fvarsInEqn), 1)))) (threadData, _m, mmc_mk_integer(_eqn_indx));

          _var_indxs_1 = omc_List_sort(threadData, _var_indxs, boxvar_intGt);

          _var_indxs_1 = omc_List_sortedUnique(threadData, _var_indxs_1, boxvar_intEq);

          _eqns = omc_SymbolicJacobian_calculateJacobianRowLst(threadData, _expl, _vars, _scalar_eqn_indx, _var_indxs_1, _differentiateIfExp, _iShared, _source, _iAcc ,&_shared);

          _size = mmc_unbox_integer(omc_List_fold(threadData, _ds, boxvar_intMul, mmc_mk_integer(((modelica_integer) 1))));
          tmpMeta[0+0] = _eqns;
          tmp1_c1 = _size;
          tmpMeta[0+2] = _shared;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_boolean tmp17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp17 = omc_Flags_isSet(threadData, _OMC_LIT82);
          if (1 /* true */ != tmp17) goto goto_2;

          tmpMeta18 = mmc_mk_cons(_inEquation, MMC_REFSTRUCTLIT(mmc_nil));
          _str = omc_BackendDump_dumpEqnsStr(threadData, tmpMeta18);

          tmpMeta19 = stringAppend(_OMC_LIT83,_str);
          omc_Debug_traceln(threadData, tmpMeta19);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outLst = tmpMeta[0+0];
  _size = tmp1_c1;
  _oShared = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_size) { *out_size = _size; }
  if (out_oShared) { *out_oShared = _oShared; }
  return _outLst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_calculateJacobianRow(threadData_t *threadData, modelica_metatype _inEquation, modelica_metatype _vars, modelica_metatype _m, modelica_metatype _eqn_indx, modelica_metatype _scalar_eqn_indx, modelica_metatype _differentiateIfExp, modelica_metatype _iShared, modelica_fnptr _fvarsInEqn, modelica_metatype _iAcc, modelica_metatype *out_size, modelica_metatype *out_oShared)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer _size;
  modelica_metatype _outLst = NULL;
  tmp1 = mmc_unbox_integer(_eqn_indx);
  tmp2 = mmc_unbox_integer(_scalar_eqn_indx);
  tmp3 = mmc_unbox_integer(_differentiateIfExp);
  _outLst = omc_SymbolicJacobian_calculateJacobianRow(threadData, _inEquation, _vars, _m, tmp1, tmp2, tmp3, _iShared, _fvarsInEqn, _iAcc, &_size, out_oShared);
  /* skip box _outLst; list<tuple<#Integer, #Integer, BackendDAE.Equation>> */
  if (out_size) { *out_size = mmc_mk_icon(_size); }
  /* skip box _oShared; BackendDAE.Shared */
  return _outLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobianRows(threadData_t *threadData, modelica_metatype _inEquationArray, modelica_metatype _vars, modelica_metatype _m, modelica_integer _eqn_indx, modelica_integer _scalar_eqn_indx, modelica_boolean _differentiateIfExp, modelica_metatype _iShared, modelica_fnptr _varsInEqn, modelica_metatype *out_oShared)
{
  modelica_metatype _outLst = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _oShared = NULL;
  modelica_integer _size;
  modelica_integer _i;
  modelica_integer _j;
  modelica_integer _n;
  modelica_integer _k;
  modelica_metatype _eqn = NULL;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _outLst = tmpMeta1;
  _oShared = _iShared;
  // _size has no default value.
  // _i has no default value.
  // _j has no default value.
  // _n has no default value.
  // _k has no default value.
  // _eqn has no default value.
  _i = _eqn_indx;

  _j = _scalar_eqn_indx;

  _size = ((modelica_integer) 0);

  _n = omc_ExpandableArray_getLastUsedIndex(threadData, _inEquationArray);

  tmp2 = ((modelica_integer) 1); tmp3 = 1; tmp4 = _n;
  if(!(((tmp3 > 0) && (tmp2 > tmp4)) || ((tmp3 < 0) && (tmp2 < tmp4))))
  {
    modelica_integer _k;
    for(_k = ((modelica_integer) 1); in_range_integer(_k, tmp2, tmp4); _k += tmp3)
    {
      if(omc_ExpandableArray_occupied(threadData, _k, _inEquationArray))
      {
        _eqn = omc_ExpandableArray_get(threadData, _k, _inEquationArray);

        _outLst = omc_SymbolicJacobian_calculateJacobianRow(threadData, _eqn, _vars, _m, _i, _j, _differentiateIfExp, _oShared, ((modelica_fnptr) _varsInEqn), _outLst ,&_size ,&_oShared);

        _i = ((modelica_integer) 1) + _i;

        _j = _j + _size;
      }
    }
  }

  _outLst = listReverseInPlace(_outLst);
  _return: OMC_LABEL_UNUSED
  if (out_oShared) { *out_oShared = _oShared; }
  return _outLst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_calculateJacobianRows(threadData_t *threadData, modelica_metatype _inEquationArray, modelica_metatype _vars, modelica_metatype _m, modelica_metatype _eqn_indx, modelica_metatype _scalar_eqn_indx, modelica_metatype _differentiateIfExp, modelica_metatype _iShared, modelica_fnptr _varsInEqn, modelica_metatype *out_oShared)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outLst = NULL;
  modelica_metatype tmpMeta4;
  tmp1 = mmc_unbox_integer(_eqn_indx);
  tmp2 = mmc_unbox_integer(_scalar_eqn_indx);
  tmp3 = mmc_unbox_integer(_differentiateIfExp);
  _outLst = omc_SymbolicJacobian_calculateJacobianRows(threadData, _inEquationArray, _vars, _m, tmp1, tmp2, tmp3, _iShared, _varsInEqn, out_oShared);
  /* skip box _outLst; list<tuple<#Integer, #Integer, BackendDAE.Equation>> */
  /* skip box _oShared; BackendDAE.Shared */
  return _outLst;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_calculateJacobian(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inEquationArray, modelica_metatype _inAdjacencyMatrix, modelica_boolean _differentiateIfExp, modelica_metatype _iShared, modelica_metatype *out_oShared)
{
  modelica_metatype _outTplIntegerIntegerEquationLstOption = NULL;
  modelica_metatype _oShared = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outTplIntegerIntegerEquationLstOption has no default value.
  // _oShared has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;
    tmp4_1 = _inVariables;
    tmp4_2 = _inEquationArray;
    tmp4_3 = _inAdjacencyMatrix;
    {
      modelica_metatype _jac = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _m = NULL;
      modelica_metatype _shared = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _jac has no default value.
      // _vars has no default value.
      // _eqns has no default value.
      // _m has no default value.
      // _shared has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          
          _vars = tmp4_1;
          _eqns = tmp4_2;
          _m = tmp4_3;
          /* Pattern matching succeeded */
          _jac = omc_SymbolicJacobian_calculateJacobianRows(threadData, _eqns, _vars, _m, ((modelica_integer) 1), ((modelica_integer) 1), _differentiateIfExp, _iShared, boxvar_BackendDAEUtil_varsInEqn ,&_shared);
          tmpMeta[0+0] = mmc_mk_some(_jac);
          tmpMeta[0+1] = _shared;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = mmc_mk_none();
          tmpMeta[0+1] = _iShared;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outTplIntegerIntegerEquationLstOption = tmpMeta[0+0];
  _oShared = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_oShared) { *out_oShared = _oShared; }
  return _outTplIntegerIntegerEquationLstOption;
}
modelica_metatype boxptr_SymbolicJacobian_calculateJacobian(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inEquationArray, modelica_metatype _inAdjacencyMatrix, modelica_metatype _differentiateIfExp, modelica_metatype _iShared, modelica_metatype *out_oShared)
{
  modelica_integer tmp1;
  modelica_metatype _outTplIntegerIntegerEquationLstOption = NULL;
  tmp1 = mmc_unbox_integer(_differentiateIfExp);
  _outTplIntegerIntegerEquationLstOption = omc_SymbolicJacobian_calculateJacobian(threadData, _inVariables, _inEquationArray, _inAdjacencyMatrix, tmp1, _iShared, out_oShared);
  /* skip box _outTplIntegerIntegerEquationLstOption; Option<list<tuple<#Integer, #Integer, BackendDAE.Equation>>> */
  /* skip box _oShared; BackendDAE.Shared */
  return _outTplIntegerIntegerEquationLstOption;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createResidualSetEquations(threadData_t *threadData, modelica_metatype _iEqs, modelica_metatype _crJ, modelica_integer _index, modelica_boolean _applySubs)
{
  modelica_metatype _oEqs = NULL;
  modelica_integer _idx;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oEqs has no default value.
  _idx = _index;
  {
    modelica_metatype __omcQ_24tmpVar13;
    modelica_metatype* tmp2;
    modelica_metatype tmpMeta3;
    modelica_metatype tmpMeta4;
    modelica_metatype __omcQ_24tmpVar12;
    modelica_integer tmp18;
    modelica_metatype _eq_loopVar = 0;
    modelica_metatype _eq;
    _eq_loopVar = _iEqs;
    tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar13 = tmpMeta3; /* defaultValue */
    tmp2 = &__omcQ_24tmpVar13;
    while(1) {
      tmp18 = 1;
      if (!listEmpty(_eq_loopVar)) {
        _eq = MMC_CAR(_eq_loopVar);
        _eq_loopVar = MMC_CDR(_eq_loopVar);
        tmp18--;
      }
      if (tmp18 == 0) {
        { /* match expression */
          modelica_metatype tmp7_1;
          tmp7_1 = _eq;
          {
            modelica_metatype _crj = NULL;
            modelica_metatype _res = NULL;
            modelica_metatype _e1 = NULL;
            modelica_metatype _e2 = NULL;
            modelica_metatype _expJ = NULL;
            modelica_metatype _eqn = NULL;
            modelica_metatype _source = NULL;
            modelica_metatype _eqAttr = NULL;
            int tmp7;
            // _crj has no default value.
            // _res has no default value.
            // _e1 has no default value.
            // _e2 has no default value.
            // _expJ has no default value.
            // _eqn has no default value.
            // _source has no default value.
            // _eqAttr has no default value.
            {
              switch (MMC_SWITCH_CAST(valueConstructor(tmp7_1))) {
              case 3: {
                modelica_metatype tmpMeta8;
                modelica_metatype tmpMeta9;
                modelica_metatype tmpMeta10;
                modelica_metatype tmpMeta11;
                modelica_metatype tmpMeta12;
                if (mmc__uniontype__metarecord__typedef__equal(tmp7_1,0,4) == 0) goto tmp6_end;
                tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 2));
                tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 3));
                tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 4));
                tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 5));
                _e1 = tmpMeta8;
                _e2 = tmpMeta9;
                _source = tmpMeta10;
                _eqAttr = tmpMeta11;
                /* Pattern matching succeeded */
                _crj = (_applySubs?omc_ComponentReference_subscriptCrefWithInt(threadData, _crJ, _idx):_crJ);

                _expJ = omc_Expression_crefExp(threadData, _crj);

                _res = omc_Expression_expSub(threadData, _e1, _e2);

                tmpMeta12 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _expJ, _res, _source, _eqAttr);
                _eqn = tmpMeta12;

                _idx = ((modelica_integer) 1) + _idx;
                tmpMeta4 = _eqn;
                goto tmp6_done;
              }
              case 6: {
                modelica_metatype tmpMeta13;
                modelica_metatype tmpMeta14;
                modelica_metatype tmpMeta15;
                modelica_metatype tmpMeta16;
                if (mmc__uniontype__metarecord__typedef__equal(tmp7_1,3,3) == 0) goto tmp6_end;
                tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 2));
                tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 3));
                tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 4));
                _e1 = tmpMeta13;
                _source = tmpMeta14;
                _eqAttr = tmpMeta15;
                /* Pattern matching succeeded */
                _expJ = omc_Expression_crefExp(threadData, omc_ComponentReference_subscriptCrefWithInt(threadData, _crJ, _idx));

                tmpMeta16 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _expJ, _e1, _source, _eqAttr);
                _eqn = tmpMeta16;

                _idx = ((modelica_integer) 1) + _idx;
                tmpMeta4 = _eqn;
                goto tmp6_done;
              }
              default:
              tmp6_default: OMC_LABEL_UNUSED; {
                modelica_metatype tmpMeta17;
                
                _eqn = tmp7_1;
                /* Pattern matching succeeded */
                tmpMeta17 = stringAppend(_OMC_LIT84,omc_BackendDump_equationString(threadData, _eqn));
                omc_Error_addInternalError(threadData, tmpMeta17, _OMC_LIT85);
                goto goto_5;
                goto tmp6_done;
              }
              }
              goto tmp6_end;
              tmp6_end: ;
            }
            goto goto_5;
            goto_5:;
            MMC_THROW_INTERNAL();
            goto tmp6_done;
            tmp6_done:;
          }
        }__omcQ_24tmpVar12 = tmpMeta4;
        *tmp2 = mmc_mk_cons(__omcQ_24tmpVar12,0);
        tmp2 = &MMC_CDR(*tmp2);
      } else if (tmp18 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp2 = mmc_mk_nil();
    tmpMeta1 = __omcQ_24tmpVar13;
  }
  _oEqs = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _oEqs;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createResidualSetEquations(threadData_t *threadData, modelica_metatype _iEqs, modelica_metatype _crJ, modelica_metatype _index, modelica_metatype _applySubs)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _oEqs = NULL;
  tmp1 = mmc_unbox_integer(_index);
  tmp2 = mmc_unbox_integer(_applySubs);
  _oEqs = omc_SymbolicJacobian_createResidualSetEquations(threadData, _iEqs, _crJ, tmp1, tmp2);
  /* skip box _oEqs; list<BackendDAE.Equation> */
  return _oEqs;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getStateSetCompVarEqns(threadData_t *threadData, modelica_metatype _inComp, modelica_metatype _marked, modelica_metatype _inEquationArray, modelica_metatype _inVariables, modelica_metatype *out_outVars)
{
  modelica_metatype _outEquations = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _outVars = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype _elst = NULL;
  modelica_metatype _vlst = NULL;
  modelica_metatype _eqnlst = NULL;
  modelica_metatype _varlst = NULL;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _outEquations = tmpMeta1;
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _outVars = tmpMeta2;
  // _elst has no default value.
  // _vlst has no default value.
  // _eqnlst has no default value.
  // _varlst has no default value.
  {
    modelica_metatype _comp;
    for (tmpMeta3 = _inComp; !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
    {
      _comp = MMC_CAR(tmpMeta3);
      _elst = omc_BackendDAETransform_getEquationAndSolvedVarIndxes(threadData, _comp ,&_vlst);

      if(omc_SymbolicJacobian_foundMarked(threadData, _vlst, _marked))
      {
        _eqnlst = omc_BackendEquation_getList(threadData, _elst, _inEquationArray);

        _varlst = omc_List_map1r(threadData, _vlst, boxvar_BackendVariable_getVarAt, _inVariables);

        _outEquations = listAppend(_eqnlst, _outEquations);

        _outVars = listAppend(_varlst, _outVars);
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_outVars) { *out_outVars = _outVars; }
  return _outEquations;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_foundMarked(threadData_t *threadData, modelica_metatype _ilst, modelica_metatype _marked)
{
  modelica_boolean _found;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _found has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _ilst;
    {
      modelica_boolean _b;
      modelica_integer _i;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _b has no default value.
      // _i has no default value.
      // _rest has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _i = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _b = mmc_unbox_boolean(arrayGet(_marked,_i) /* DAE.ASUB */);
          tmp9 = (modelica_boolean)(!_b);
          if(tmp9)
          {
            /* Tail recursive call */
            _ilst = _rest;
            goto _tailrecursive;
            /* TODO: Make sure any eventual dead code below is never generated */
          }
          else
          {
            tmp10 = _b;
          }
          tmp1 = tmp10;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _found = tmp1;
  _return: OMC_LABEL_UNUSED
  return _found;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_foundMarked(threadData_t *threadData, modelica_metatype _ilst, modelica_metatype _marked)
{
  modelica_boolean _found;
  modelica_metatype out_found;
  _found = omc_SymbolicJacobian_foundMarked(threadData, _ilst, _marked);
  out_found = mmc_mk_icon(_found);
  return out_found;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_removeStateSetEqn(threadData_t *threadData, modelica_metatype _inEqn)
{
  modelica_boolean _b;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inEqn;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,6) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          if (14 != MMC_STRLEN(tmpMeta8) || strcmp(MMC_STRINGDATA(_OMC_LIT86), MMC_STRINGDATA(tmpMeta8)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 2));
          if (14 != MMC_STRLEN(tmpMeta11) || strcmp(MMC_STRINGDATA(_OMC_LIT86), MMC_STRINGDATA(tmpMeta11)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_removeStateSetEqn(threadData_t *threadData, modelica_metatype _inEqn)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_SymbolicJacobian_removeStateSetEqn(threadData, _inEqn);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_removeStateSetStates(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _hs)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _b = (!omc_BaseHashSet_has(threadData, omc_BackendVariable_varCref(threadData, _inVar), _hs));
  _return: OMC_LABEL_UNUSED
  return _b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_removeStateSetStates(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _hs)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_SymbolicJacobian_removeStateSetStates(threadData, _inVar, _hs);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_markSetStates(threadData_t *threadData, modelica_metatype _inCr, modelica_metatype _iVars, modelica_metatype _iMark)
{
  modelica_metatype _oMark = NULL;
  modelica_integer _index;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oMark has no default value.
  // _index has no default value.
  omc_BackendVariable_getVarSingle(threadData, _inCr, _iVars ,&_index);

  _oMark = arrayUpdate(_iMark, _index, mmc_mk_boolean(1 /* true */));
  _return: OMC_LABEL_UNUSED
  return _oMark;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateStateSetJacobian(threadData_t *threadData, modelica_metatype _inStateSet, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inComps, modelica_metatype _inShared, modelica_metatype *out_outShared)
{
  modelica_metatype _outStateSet = NULL;
  modelica_metatype _outShared = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outStateSet has no default value.
  // _outShared has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inStateSet;
    {
      modelica_metatype _shared = NULL;
      modelica_integer _index;
      modelica_integer _rang;
      modelica_metatype _state = NULL;
      modelica_metatype _crA = NULL;
      modelica_metatype _crJ = NULL;
      modelica_metatype _varA = NULL;
      modelica_metatype _varJ = NULL;
      modelica_metatype _statescandidates = NULL;
      modelica_metatype _ovars = NULL;
      modelica_metatype _crstates = NULL;
      modelica_metatype _marked = NULL;
      modelica_metatype _hs = NULL;
      modelica_metatype _statevars = NULL;
      modelica_metatype _compvars = NULL;
      modelica_metatype _diffVars = NULL;
      modelica_metatype _allvars = NULL;
      modelica_metatype _oVars = NULL;
      modelica_metatype _resVars = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _compeqns = NULL;
      modelica_metatype _ceqns = NULL;
      modelica_metatype _oeqns = NULL;
      modelica_metatype _cEqns = NULL;
      modelica_metatype _oEqns = NULL;
      modelica_metatype _jacobian = NULL;
      modelica_string _name = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _shared has no default value.
      // _index has no default value.
      // _rang has no default value.
      // _state has no default value.
      // _crA has no default value.
      // _crJ has no default value.
      // _varA has no default value.
      // _varJ has no default value.
      // _statescandidates has no default value.
      // _ovars has no default value.
      // _crstates has no default value.
      // _marked has no default value.
      // _hs has no default value.
      // _statevars has no default value.
      // _compvars has no default value.
      // _diffVars has no default value.
      // _allvars has no default value.
      // _oVars has no default value.
      // _resVars has no default value.
      // _eqns has no default value.
      // _compeqns has no default value.
      // _ceqns has no default value.
      // _oeqns has no default value.
      // _cEqns has no default value.
      // _oEqns has no default value.
      // _jacobian has no default value.
      // _name has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmp7 = mmc_unbox_integer(tmpMeta6);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmp9 = mmc_unbox_integer(tmpMeta8);
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 8));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 10));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 12));
          
          _index = tmp7  /* pattern as ty=Integer */;
          _rang = tmp9  /* pattern as ty=Integer */;
          _state = tmpMeta10;
          _crA = tmpMeta11;
          _varA = tmpMeta12;
          _statescandidates = tmpMeta13;
          _ovars = tmpMeta14;
          _eqns = tmpMeta15;
          _oeqns = tmpMeta16;
          _crJ = tmpMeta17;
          _varJ = tmpMeta18;
          /* Pattern matching succeeded */
          _crstates = omc_List_map(threadData, _statescandidates, boxvar_BackendVariable_varCref);

          _marked = arrayCreate(omc_BackendVariable_varsSize(threadData, _inVars), mmc_mk_boolean(0 /* false */));

          _marked = omc_List_fold1(threadData, _crstates, boxvar_SymbolicJacobian_markSetStates, _inVars, _marked);

          _compeqns = omc_SymbolicJacobian_getStateSetCompVarEqns(threadData, _inComps, _marked, _inEqns, _inVars ,&_compvars);

          _compeqns = omc_List_select(threadData, _compeqns, boxvar_SymbolicJacobian_removeStateSetEqn);

          _hs = omc_List_fold(threadData, _crstates, boxvar_BaseHashSet_add, omc_HashSet_emptyHashSet(threadData));

          _compvars = omc_List_select1(threadData, _compvars, boxvar_SymbolicJacobian_removeStateSetStates, _hs);

          _ceqns = omc_IndexReduction_splitEqnsinConstraintAndOther(threadData, _compvars, _compeqns, _inShared ,&_oeqns);

          _compvars = omc_List_map(threadData, _compvars, boxvar_BackendVariable_transformXToXd);

          _ceqns = omc_BackendEquation_replaceDerOpInEquationList(threadData, _ceqns);

          _oeqns = omc_BackendEquation_replaceDerOpInEquationList(threadData, _oeqns);

          _ceqns = omc_SymbolicJacobian_createResidualSetEquations(threadData, _ceqns, _crJ, ((modelica_integer) 1), (listLength(_ceqns) > ((modelica_integer) 1)));

          _allvars = omc_BackendVariable_copyVariables(threadData, _inVars);

          _statevars = omc_BackendVariable_getAllStateVarFromVariables(threadData, _allvars);

          _statevars = omc_List_map(threadData, _statevars, boxvar_BackendVariable_transformXToXd);

          _allvars = omc_BackendVariable_addVars(threadData, _statevars, _allvars);

          _resVars = omc_BackendVariable_listVar1(threadData, _varJ);

          _diffVars = omc_BackendVariable_listVar1(threadData, _statescandidates);

          _oVars = omc_BackendVariable_listVar1(threadData, _compvars);

          _cEqns = omc_BackendEquation_listEquation(threadData, _ceqns);

          _oEqns = omc_BackendEquation_listEquation(threadData, _oeqns);

          tmpMeta19 = stringAppend(_OMC_LIT87,intString(omc_System_tmpTickIndex(threadData, ((modelica_integer) 21))));
          _name = tmpMeta19;

          _jacobian = omc_SymbolicJacobian_getSymbolicJacobian(threadData, _diffVars, _cEqns, _resVars, _oEqns, _oVars, _inShared, _allvars, _name, 0 /* false */ ,&_shared);
          tmpMeta20 = mmc_mk_box13(3, &BackendDAE_StateSet_STATESET__desc, mmc_mk_integer(_index), mmc_mk_integer(_rang), _state, _crA, _varA, _statescandidates, _ovars, _eqns, _oeqns, _crJ, _varJ, _jacobian);
          tmpMeta[0+0] = tmpMeta20;
          tmpMeta[0+1] = _shared;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outStateSet = tmpMeta[0+0];
  _outShared = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  return _outStateSet;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateStateSetsJacobian(threadData_t *threadData, modelica_metatype _inStateSets, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inComps, modelica_metatype _inShared, modelica_metatype *out_outShared)
{
  modelica_metatype _outStateSets = NULL;
  modelica_metatype _outShared = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outStateSets has no default value.
  _outShared = _inShared;
  {
    modelica_metatype __omcQ_24tmpVar15;
    modelica_metatype* tmp2;
    modelica_metatype tmpMeta3;
    modelica_metatype tmpMeta4;
    modelica_metatype __omcQ_24tmpVar14;
    modelica_integer tmp9;
    modelica_metatype _s_loopVar = 0;
    modelica_metatype _s;
    _s_loopVar = _inStateSets;
    tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar15 = tmpMeta3; /* defaultValue */
    tmp2 = &__omcQ_24tmpVar15;
    while(1) {
      tmp9 = 1;
      if (!listEmpty(_s_loopVar)) {
        _s = MMC_CAR(_s_loopVar);
        _s_loopVar = MMC_CDR(_s_loopVar);
        tmp9--;
      }
      if (tmp9 == 0) {
        { /* match expression */
          modelica_metatype tmp7_1;
          tmp7_1 = _s;
          {
            modelica_metatype _stateSet = NULL;
            volatile mmc_switch_type tmp7;
            int tmp8;
            // _stateSet has no default value.
            tmp7 = 0;
            for (; tmp7 < 1; tmp7++) {
              switch (MMC_SWITCH_CAST(tmp7)) {
              case 0: {
                
                _stateSet = tmp7_1;
                /* Pattern matching succeeded */
                _stateSet = omc_SymbolicJacobian_calculateStateSetJacobian(threadData, _stateSet, _inVars, _inEqns, _inComps, _outShared ,&_outShared);
                tmpMeta4 = _stateSet;
                goto tmp6_done;
              }
              }
              goto tmp6_end;
              tmp6_end: ;
            }
            goto goto_5;
            goto_5:;
            MMC_THROW_INTERNAL();
            goto tmp6_done;
            tmp6_done:;
          }
        }__omcQ_24tmpVar14 = tmpMeta4;
        *tmp2 = mmc_mk_cons(__omcQ_24tmpVar14,0);
        tmp2 = &MMC_CDR(*tmp2);
      } else if (tmp9 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp2 = mmc_mk_nil();
    tmpMeta1 = __omcQ_24tmpVar15;
  }
  _outStateSets = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  return _outStateSets;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateEqSystemStateSetsJacobians(threadData_t *threadData, modelica_metatype _inSyst, modelica_metatype _inShared, modelica_metatype *out_outShared)
{
  modelica_metatype _outSyst = NULL;
  modelica_metatype _outShared = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outSyst has no default value.
  // _outShared has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inSyst;
    tmp4_2 = _inShared;
    {
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _comps = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _stateSets = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _syst has no default value.
      // _shared has no default value.
      // _comps has no default value.
      // _vars has no default value.
      // _eqns has no default value.
      // _stateSets has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 8));
          
          _syst = tmp4_1;
          _vars = tmpMeta6;
          _eqns = tmpMeta7;
          _stateSets = tmpMeta8;
          _shared = tmp4_2;
          /* Pattern matching succeeded */
          _comps = omc_BackendDAEUtil_getStrongComponents(threadData, _syst);

          _stateSets = omc_SymbolicJacobian_calculateStateSetsJacobian(threadData, _stateSets, _vars, _eqns, _comps, _shared ,&_shared);

          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[8] = _stateSets;
          _syst = tmpMeta9;
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outSyst = tmpMeta[0+0];
  _outShared = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  return _outSyst;
}

DLLDirection
modelica_boolean omc_SymbolicJacobian_hasGenericSymbolicJacobian(threadData_t *threadData, modelica_metatype _inJacobian)
{
  modelica_boolean _out;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inJacobian;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out = tmp1;
  _return: OMC_LABEL_UNUSED
  return _out;
}
modelica_metatype boxptr_SymbolicJacobian_hasGenericSymbolicJacobian(threadData_t *threadData, modelica_metatype _inJacobian)
{
  modelica_boolean _out;
  modelica_metatype out_out;
  _out = omc_SymbolicJacobian_hasGenericSymbolicJacobian(threadData, _inJacobian);
  out_out = mmc_mk_icon(_out);
  return out_out;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_getSymbolicJacobian(threadData_t *threadData, modelica_metatype _inDiffVars, modelica_metatype _inResEquations, modelica_metatype _inResVars, modelica_metatype _inotherEquations, modelica_metatype _inotherVars, modelica_metatype _inShared, modelica_metatype _inAllVars, modelica_string _inName, modelica_boolean _inOnlySparsePattern, modelica_metatype *out_outShared)
{
  modelica_metatype _outJacobian = NULL;
  modelica_metatype _outShared = NULL;
  modelica_metatype _backendDAE = NULL;
  modelica_metatype _eqns = NULL;
  modelica_metatype _einfo = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _sparseColoring = NULL;
  modelica_metatype _sparsePattern = NULL;
  modelica_metatype _nonlinearPattern = NULL;
  modelica_metatype _dependentVars = NULL;
  modelica_metatype _globalKnownVars = NULL;
  modelica_metatype _funcs = NULL;
  modelica_metatype _cache = NULL;
  modelica_metatype _graph = NULL;
  modelica_metatype _knvarLst1 = NULL;
  modelica_metatype _knvarLst2 = NULL;
  modelica_metatype _independentVarsLst = NULL;
  modelica_metatype _dependentVarsLst = NULL;
  modelica_metatype _otherVarsLst = NULL;
  modelica_metatype _independentComRefs = NULL;
  modelica_metatype _dependentVarsComRefs = NULL;
  modelica_metatype _otherVarsLstComRefs = NULL;
  modelica_metatype _symJacBDAE = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outJacobian has no default value.
  // _outShared has no default value.
  // _backendDAE has no default value.
  // _eqns has no default value.
  // _einfo has no default value.
  // _shared has no default value.
  // _sparseColoring has no default value.
  // _sparsePattern has no default value.
  // _nonlinearPattern has no default value.
  // _dependentVars has no default value.
  // _globalKnownVars has no default value.
  // _funcs has no default value.
  // _cache has no default value.
  // _graph has no default value.
  // _knvarLst1 has no default value.
  // _knvarLst2 has no default value.
  // _independentVarsLst has no default value.
  // _dependentVarsLst has no default value.
  // _otherVarsLst has no default value.
  // _independentComRefs has no default value.
  // _dependentVarsComRefs has no default value.
  // _otherVarsLstComRefs has no default value.
  // _symJacBDAE has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          /* Pattern matching succeeded */
          _globalKnownVars = omc_BackendDAEUtil_getGlobalKnownVarsFromShared(threadData, _inShared);

          _funcs = omc_BackendDAEUtil_getFunctions(threadData, _inShared);

          _einfo = omc_BackendDAEUtil_getExtraInfo(threadData, _inShared);

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            fputs(MMC_STRINGDATA(_OMC_LIT88),stdout);

            fputs(MMC_STRINGDATA(_OMC_LIT89),stdout);

            omc_BackendDump_printVariables(threadData, _inDiffVars);

            fputs(MMC_STRINGDATA(_OMC_LIT90),stdout);

            omc_BackendDump_printEquationArray(threadData, _inResEquations);
          }

          _independentVarsLst = omc_BackendVariable_varList(threadData, _inDiffVars);

          _independentComRefs = omc_List_map(threadData, _independentVarsLst, boxvar_BackendVariable_varCref);

          _otherVarsLst = omc_BackendVariable_varList(threadData, _inotherVars);

          _otherVarsLstComRefs = omc_List_map(threadData, _otherVarsLst, boxvar_BackendVariable_varCref);

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            fputs(MMC_STRINGDATA(_OMC_LIT95),stdout);

            omc_BackendDump_printVariables(threadData, _globalKnownVars);
          }

          _dependentVars = omc_BackendVariable_mergeVariables(threadData, _inResVars, _inotherVars, 1 /* true */);

          _eqns = omc_BackendEquation_merge(threadData, _inResEquations, _inotherEquations);

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            fputs(MMC_STRINGDATA(_OMC_LIT96),stdout);

            fputs(MMC_STRINGDATA(_OMC_LIT97),stdout);

            omc_BackendDump_printVariables(threadData, _dependentVars);

            fputs(MMC_STRINGDATA(_OMC_LIT98),stdout);

            omc_BackendDump_printEquationArray(threadData, _eqns);
          }

          _knvarLst1 = omc_BackendEquation_equationsVars(threadData, _eqns, _globalKnownVars);

          tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
          _knvarLst2 = tmpMeta5;

          _globalKnownVars = omc_BackendVariable_listVar2(threadData, _knvarLst1, _knvarLst2);

          _globalKnownVars = omc_BackendVariable_removeCrefs(threadData, _independentComRefs, _globalKnownVars);

          _globalKnownVars = omc_BackendVariable_removeCrefs(threadData, _otherVarsLstComRefs, _globalKnownVars);

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            fputs(MMC_STRINGDATA(_OMC_LIT95),stdout);

            omc_BackendDump_printVariables(threadData, _globalKnownVars);
          }

          _cache = omc_FCore_emptyCache(threadData);

          _graph = omc_FGraph_empty(threadData);

          _shared = omc_BackendDAEUtil_createEmptyShared(threadData, _OMC_LIT99, _einfo, _cache, _graph);

          _shared = omc_BackendDAEUtil_setSharedGlobalKnownVars(threadData, _shared, _globalKnownVars);

          _shared = omc_BackendDAEUtil_setSharedFunctionTree(threadData, _shared, _funcs);

          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta6 = mmc_mk_cons(omc_BackendDAEUtil_createEqSystem(threadData, _dependentVars, _eqns, tmpMeta7, _OMC_LIT100, omc_BackendEquation_emptyEqns(threadData)), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta8 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta6, _shared);
          _backendDAE = tmpMeta8;

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            omc_BackendDump_bltdump(threadData, _OMC_LIT101, _backendDAE);
          }

          _backendDAE = omc_BackendDAEUtil_transformBackendDAE(threadData, _backendDAE, _OMC_LIT105, mmc_mk_none(), mmc_mk_none());

          /* Pattern-matching assignment */
          tmpMeta9 = _backendDAE;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          if (listEmpty(tmpMeta10)) goto goto_1;
          tmpMeta11 = MMC_CAR(tmpMeta10);
          tmpMeta12 = MMC_CDR(tmpMeta10);
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          if (!listEmpty(tmpMeta12)) goto goto_1;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 2));
          _dependentVars = tmpMeta13;
          _globalKnownVars = tmpMeta15;

          _dependentVarsLst = omc_BackendVariable_varList(threadData, _dependentVars);

          _symJacBDAE = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE, _independentVarsLst, omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013)), omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013)), _globalKnownVars, _inResVars, _dependentVarsLst, _inName, _inOnlySparsePattern, 0 /* false */ ,&_funcs ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

          tmpMeta16 = mmc_mk_box5(4, &BackendDAE_Jacobian_GENERIC__JACOBIAN__desc, _symJacBDAE, _sparsePattern, _sparseColoring, _nonlinearPattern);
          _outJacobian = tmpMeta16;

          _outShared = omc_BackendDAEUtil_setSharedFunctionTree(threadData, _inShared, _funcs);
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT111))
          {
            omc_Error_addInternalError(threadData, _OMC_LIT106, _OMC_LIT107);
          }

          _outJacobian = _OMC_LIT112;

          _outShared = _inShared;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  return _outJacobian;
}
modelica_metatype boxptr_SymbolicJacobian_getSymbolicJacobian(threadData_t *threadData, modelica_metatype _inDiffVars, modelica_metatype _inResEquations, modelica_metatype _inResVars, modelica_metatype _inotherEquations, modelica_metatype _inotherVars, modelica_metatype _inShared, modelica_metatype _inAllVars, modelica_metatype _inName, modelica_metatype _inOnlySparsePattern, modelica_metatype *out_outShared)
{
  modelica_integer tmp1;
  modelica_metatype _outJacobian = NULL;
  tmp1 = mmc_unbox_integer(_inOnlySparsePattern);
  _outJacobian = omc_SymbolicJacobian_getSymbolicJacobian(threadData, _inDiffVars, _inResEquations, _inResVars, _inotherEquations, _inotherVars, _inShared, _inAllVars, _inName, tmp1, out_outShared);
  /* skip box _outJacobian; BackendDAE.Jacobian */
  /* skip box _outShared; BackendDAE.Shared */
  return _outJacobian;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_isRecordInvoled(threadData_t *threadData, modelica_metatype _inType)
{
  modelica_boolean _out;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inType;
    {
      modelica_metatype _ty = NULL;
      modelica_metatype _types = NULL;
      int tmp4;
      // _ty has no default value.
      // _types has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 12: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta5;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _ty = tmpMeta5;
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _inType = _ty;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 14: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _ty = tmpMeta6;
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _inType = _ty;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 17: {
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,2) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _types = tmpMeta7;
          /* Pattern matching succeeded */
          tmp1 = omc_List_any(threadData, _types, boxvar_SymbolicJacobian_isRecordInvoled);
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out = tmp1;
  _return: OMC_LABEL_UNUSED
  return _out;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_isRecordInvoled(threadData_t *threadData, modelica_metatype _inType)
{
  modelica_boolean _out;
  modelica_metatype out_out;
  _out = omc_SymbolicJacobian_isRecordInvoled(threadData, _inType);
  out_out = mmc_mk_icon(_out);
  return out_out;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_hasEqnNonDiffParts(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTpl, modelica_boolean *out_cont, modelica_metatype *out_outTpl)
{
  modelica_metatype _outExp = NULL;
  modelica_boolean _cont;
  modelica_metatype _outTpl = NULL;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _cont has no default value.
  // _outTpl has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inExp;
    tmp4_2 = _inTpl;
    {
      modelica_metatype _expLst = NULL;
      modelica_boolean _b;
      modelica_boolean _insideCall;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _expLst has no default value.
      // _b has no default value.
      // _insideCall has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_integer tmp10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (5 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT113), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmp10 = mmc_unbox_integer(tmpMeta9);
          _expLst = tmpMeta8;
          _insideCall = tmp10  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          tmpMeta11 = mmc_mk_cons(_inExp, _expLst);
          tmpMeta12 = mmc_mk_box3(0, tmpMeta11, mmc_mk_boolean(0 /* false */), mmc_mk_boolean(_insideCall));
          tmpMeta[0+0] = _inExp;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = tmpMeta12;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_integer tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_integer tmp18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 4));
          tmp15 = mmc_unbox_integer(tmpMeta14);
          if (0 /* false */ != tmp15) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmp18 = mmc_unbox_integer(tmpMeta17);
          _expLst = tmpMeta16;
          _insideCall = tmp18  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          tmpMeta19 = mmc_mk_cons(_inExp, _expLst);
          tmpMeta20 = mmc_mk_box3(0, tmpMeta19, mmc_mk_boolean(0 /* false */), mmc_mk_boolean(_insideCall));
          tmpMeta[0+0] = _inExp;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = tmpMeta20;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta21;
          modelica_integer tmp22;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmp22 = mmc_unbox_integer(tmpMeta21);
          
          _outExp = tmp4_1;
          _b = tmp22  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _outExp;
          tmp1_c1 = _b;
          tmpMeta[0+2] = _inTpl;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outExp = tmpMeta[0+0];
  _cont = tmp1_c1;
  _outTpl = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_cont) { *out_cont = _cont; }
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_hasEqnNonDiffParts(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTpl, modelica_metatype *out_cont, modelica_metatype *out_outTpl)
{
  modelica_boolean _cont;
  modelica_metatype _outExp = NULL;
  _outExp = omc_SymbolicJacobian_hasEqnNonDiffParts(threadData, _inExp, _inTpl, &_cont, out_outTpl);
  /* skip box _outExp; DAE.Exp */
  if (out_cont) { *out_cont = mmc_mk_icon(_cont); }
  /* skip box _outTpl; tuple<list<DAE.Exp>, #Boolean, #Boolean> */
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_traverserhasEqnNonDiffParts(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTpl, modelica_boolean *out_cont, modelica_metatype *out_outTpl)
{
  modelica_metatype _outExp = NULL;
  modelica_boolean _cont;
  modelica_metatype _outTpl = NULL;
  modelica_metatype _expList = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  modelica_metatype tmpMeta5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _cont has no default value.
  _outTpl = _inTpl;
  // _expList has no default value.
  /* Pattern-matching tuple assignment */
  tmpMeta5 = omc_Expression_traverseExpTopDown(threadData, _inExp, boxvar_SymbolicJacobian_hasEqnNonDiffParts, _inTpl, &tmpMeta1);
  _outExp = tmpMeta5;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmp4 = mmc_unbox_integer(tmpMeta3);
  _expList = tmpMeta2;
  _cont = tmp4  /* pattern as ty=Boolean */;

  if((omc_Flags_isSet(threadData, _OMC_LIT119) && (!_cont)))
  {
    fputs(MMC_STRINGDATA(_OMC_LIT114),stdout);

    fputs(MMC_STRINGDATA(stringDelimitList(omc_List_map(threadData, _expList, boxvar_ExpressionDump_printExpStr), _OMC_LIT19)),stdout);

    fputs(MMC_STRINGDATA(_OMC_LIT115),stdout);
  }
  _return: OMC_LABEL_UNUSED
  if (out_cont) { *out_cont = _cont; }
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_traverserhasEqnNonDiffParts(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTpl, modelica_metatype *out_cont, modelica_metatype *out_outTpl)
{
  modelica_boolean _cont;
  modelica_metatype _outExp = NULL;
  _outExp = omc_SymbolicJacobian_traverserhasEqnNonDiffParts(threadData, _inExp, _inTpl, &_cont, out_outTpl);
  /* skip box _outExp; DAE.Exp */
  if (out_cont) { *out_cont = mmc_mk_icon(_cont); }
  /* skip box _outTpl; tuple<list<DAE.Exp>, #Boolean, #Boolean> */
  return _outExp;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_getNonLinearVariables(threadData_t *threadData, modelica_metatype _jacobian)
{
  modelica_metatype _nonLin = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _nonLin = tmpMeta1;
  { /* match expression */
    modelica_metatype tmp5_1;
    tmp5_1 = _jacobian;
    {
      modelica_metatype _diffVars = NULL;
      modelica_metatype _dependentVarsCref = NULL;
      volatile mmc_switch_type tmp5;
      int tmp6;
      // _diffVars has no default value.
      // _dependentVarsCref has no default value.
      tmp5 = 0;
      for (; tmp5 < 2; tmp5++) {
        switch (MMC_SWITCH_CAST(tmp5)) {
        case 0: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,1,4) == 0) goto tmp4_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 2));
          if (optionNone(tmpMeta7)) goto tmp4_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 3));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 6));
          
          _diffVars = tmpMeta9;
          _dependentVarsCref = tmpMeta10;
          /* Pattern matching succeeded */
          {
            modelica_metatype _varCref;
            for (tmpMeta11 = _dependentVarsCref; !listEmpty(tmpMeta11); tmpMeta11=MMC_CDR(tmpMeta11))
            {
              _varCref = MMC_CAR(tmpMeta11);
              {
                modelica_metatype _var;
                for (tmpMeta12 = _diffVars; !listEmpty(tmpMeta12); tmpMeta12=MMC_CDR(tmpMeta12))
                {
                  _var = MMC_CAR(tmpMeta12);
                  if(omc_ComponentReference_crefEqual(threadData, _varCref, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)))))
                  {
                    tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(20));
                    memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_var), 20*sizeof(modelica_metatype));
                    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[18] = mmc_mk_boolean(1 /* true */);
                    _var = tmpMeta13;

                    tmpMeta14 = mmc_mk_cons(_var, _nonLin);
                    _nonLin = tmpMeta14;

                    break;
                  }
                }
              }
            }
          }
          tmpMeta2 = _nonLin;
          goto tmp4_done;
        }
        case 1: {
          modelica_metatype tmpMeta17;
          
          /* Pattern matching succeeded */
          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta2 = tmpMeta17;
          goto tmp4_done;
        }
        }
        goto tmp4_end;
        tmp4_end: ;
      }
      goto goto_3;
      goto_3:;
      MMC_THROW_INTERNAL();
      goto tmp4_done;
      tmp4_done:;
    }
  }
  _nonLin = tmpMeta2;
  _return: OMC_LABEL_UNUSED
  return _nonLin;
}

PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_printNonLinIterVarsAndEqs(threadData_t *threadData, modelica_metatype _jacobian, modelica_metatype _eqnIndices, modelica_metatype _inEqns)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp6_1;
    tmp6_1 = _jacobian;
    {
      modelica_metatype _diffVars = NULL;
      modelica_metatype _allDiffedVars = NULL;
      modelica_metatype _nonLin = NULL;
      modelica_metatype tmpMeta2;
      modelica_metatype _nonLinStart = NULL;
      modelica_metatype tmpMeta3;
      modelica_metatype _lin = NULL;
      modelica_metatype tmpMeta4;
      modelica_metatype _dependentVarsCref = NULL;
      modelica_metatype _varCref = NULL;
      modelica_metatype _var = NULL;
      modelica_string _name = NULL;
      volatile mmc_switch_type tmp6;
      int tmp7;
      // _diffVars has no default value.
      // _allDiffedVars has no default value.
      tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
      _nonLin = tmpMeta2;
      tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
      _nonLinStart = tmpMeta3;
      tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
      _lin = tmpMeta4;
      // _dependentVarsCref has no default value.
      // _varCref has no default value.
      // _var has no default value.
      // _name has no default value.
      tmp6 = 0;
      for (; tmp6 < 2; tmp6++) {
        switch (MMC_SWITCH_CAST(tmp6)) {
        case 0: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          if (mmc__uniontype__metarecord__typedef__equal(tmp6_1,1,4) == 0) goto tmp5_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 2));
          if (optionNone(tmpMeta8)) goto tmp5_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 1));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 2));
          if (listEmpty(tmpMeta11)) goto tmp5_end;
          tmpMeta12 = MMC_CAR(tmpMeta11);
          tmpMeta13 = MMC_CDR(tmpMeta11);
          if (!listEmpty(tmpMeta13)) goto tmp5_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 5));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 6));
          
          _name = tmpMeta14;
          _diffVars = tmpMeta15;
          _allDiffedVars = tmpMeta16;
          _dependentVarsCref = tmpMeta17;
          /* Pattern matching succeeded */
          {
            modelica_metatype _varCref;
            for (tmpMeta18 = _dependentVarsCref; !listEmpty(tmpMeta18); tmpMeta18=MMC_CDR(tmpMeta18))
            {
              _varCref = MMC_CAR(tmpMeta18);
              {
                modelica_metatype _var;
                for (tmpMeta19 = _diffVars; !listEmpty(tmpMeta19); tmpMeta19=MMC_CDR(tmpMeta19))
                {
                  _var = MMC_CAR(tmpMeta19);
                  if(omc_ComponentReference_crefEqual(threadData, _varCref, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)))))
                  {
                    if((!omc_BackendVariable_varHasStartValue(threadData, _var)))
                    {
                      tmpMeta20 = mmc_mk_cons(_var, _nonLin);
                      _nonLin = tmpMeta20;
                    }
                    else
                    {
                      tmpMeta21 = mmc_mk_cons(_var, _nonLinStart);
                      _nonLinStart = tmpMeta21;
                    }
                  }
                }
              }
            }
          }

          if((!listEmpty(_nonLin)))
          {
            tmpMeta24 = stringAppend(_OMC_LIT120,_name);
            tmpMeta25 = stringAppend(tmpMeta24,_OMC_LIT121);
            omc_BackendDump_dumpVarList(threadData, _nonLin, tmpMeta25);
          }

          if((!listEmpty(_nonLinStart)))
          {
            tmpMeta26 = stringAppend(_OMC_LIT122,_name);
            tmpMeta27 = stringAppend(tmpMeta26,_OMC_LIT121);
            omc_BackendDump_dumpVarList(threadData, _nonLinStart, tmpMeta27);
          }

          {
            modelica_metatype _var;
            for (tmpMeta28 = _allDiffedVars; !listEmpty(tmpMeta28); tmpMeta28=MMC_CDR(tmpMeta28))
            {
              _var = MMC_CAR(tmpMeta28);
              if((omc_BackendVariable_varHasStartValue(threadData, _var) && (!omc_BackendVariable_isVarDiscrete(threadData, _var))))
              {
                tmpMeta29 = mmc_mk_cons(_var, _lin);
                _lin = tmpMeta29;
              }
            }
          }

          if((!listEmpty(_lin)))
          {
            tmpMeta31 = stringAppend(_OMC_LIT123,_name);
            tmpMeta32 = stringAppend(tmpMeta31,_OMC_LIT121);
            omc_BackendDump_dumpVarList(threadData, _lin, tmpMeta32);
          }

          if((!((listEmpty(_nonLin) && listEmpty(_nonLinStart)) && listEmpty(_lin))))
          {
            tmpMeta33 = stringAppend(_OMC_LIT124,(omc_Flags_isSet(threadData, _OMC_LIT128)?_OMC_LIT115:_OMC_LIT129));
            fputs(MMC_STRINGDATA(tmpMeta33),stdout);
          }
          goto tmp5_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp5_done;
        }
        }
        goto tmp5_end;
        tmp5_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp5_done;
      tmp5_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_existNonLinIterVars(threadData_t *threadData, modelica_metatype _jacobian_in, modelica_string *out_jacName)
{
  modelica_boolean _existNonLin;
  modelica_string _jacName = NULL;
  modelica_boolean tmp1_c0 __attribute__((unused)) = 0;
  modelica_string tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _existNonLin has no default value.
  // _jacName has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _jacobian_in;
    {
      modelica_metatype _diffVars = NULL;
      modelica_metatype _dependentVarsCref = NULL;
      modelica_metatype _varCref = NULL;
      modelica_metatype _var = NULL;
      modelica_string _name = NULL;
      modelica_boolean _exist;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _diffVars has no default value.
      // _dependentVarsCref has no default value.
      // _varCref has no default value.
      // _var has no default value.
      // _name has no default value.
      _exist = 0 /* false */;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 6));
          
          _name = tmpMeta8;
          _diffVars = tmpMeta9;
          _dependentVarsCref = tmpMeta10;
          /* Pattern matching succeeded */
          {
            modelica_metatype _varCref;
            for (tmpMeta11 = _dependentVarsCref; !listEmpty(tmpMeta11); tmpMeta11=MMC_CDR(tmpMeta11))
            {
              _varCref = MMC_CAR(tmpMeta11);
              {
                modelica_metatype _var;
                for (tmpMeta12 = _diffVars; !listEmpty(tmpMeta12); tmpMeta12=MMC_CDR(tmpMeta12))
                {
                  _var = MMC_CAR(tmpMeta12);
                  if(omc_ComponentReference_crefEqual(threadData, _varCref, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)))))
                  {
                    if((!omc_BackendVariable_varHasStartValue(threadData, _var)))
                    {
                      _exist = 1 /* true */;

                      break;
                    }
                  }
                }
              }

              if(_exist)
              {
                break;
              }
            }
          }
          tmp1_c0 = _exist;
          tmp1_c1 = _name;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1_c0 = 0 /* false */;
          tmp1_c1 = _OMC_LIT11;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _existNonLin = tmp1_c0;
  _jacName = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_jacName) { *out_jacName = _jacName; }
  return _existNonLin;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_existNonLinIterVars(threadData_t *threadData, modelica_metatype _jacobian_in, modelica_metatype *out_jacName)
{
  modelica_boolean _existNonLin;
  modelica_metatype out_existNonLin;
  _existNonLin = omc_SymbolicJacobian_existNonLinIterVars(threadData, _jacobian_in, out_jacName);
  out_existNonLin = mmc_mk_icon(_existNonLin);
  /* skip box _jacName; String */
  return out_existNonLin;
}

PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_checkNonLinDependecies(threadData_t *threadData, modelica_metatype _inComp, modelica_metatype _inEqns)
{
  modelica_string _name = NULL;
  modelica_string _msg = NULL;
  modelica_boolean _existNonLin;
  modelica_boolean tmp27_c0 __attribute__((unused)) = 0;
  modelica_string tmp27_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta38;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _name has no default value.
  // _msg has no default value.
  // _existNonLin has no default value.
  if(omc_Flags_isSet(threadData, _OMC_LIT138))
  {
    { /* match expression */
      modelica_metatype tmp4_1;
      tmp4_1 = _inComp;
      {
        modelica_metatype _jac = NULL;
        modelica_metatype _resIndices = NULL;
        modelica_metatype _eqnIndices = NULL;
        modelica_metatype tmpMeta2;
        modelica_metatype _innerEquations = NULL;
        volatile mmc_switch_type tmp4;
        int tmp5;
        // _jac has no default value.
        // _resIndices has no default value.
        tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
        _eqnIndices = tmpMeta2;
        // _innerEquations has no default value.
        tmp4 = 0;
        for (; tmp4 < 3; tmp4++) {
          switch (MMC_SWITCH_CAST(tmp4)) {
          case 0: {
            modelica_metatype tmpMeta6;
            modelica_metatype tmpMeta7;
            modelica_metatype tmpMeta8;
            modelica_metatype tmpMeta9;
            modelica_metatype tmpMeta10;
            modelica_integer tmp11;
            modelica_metatype tmpMeta12;
            modelica_metatype tmpMeta13;
            modelica_metatype tmpMeta23;
            if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,4) == 0) goto tmp3_end;
            tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
            tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
            tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
            tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 5));
            tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
            tmp11 = mmc_unbox_integer(tmpMeta10);
            if (0 /* false */ != tmp11) goto tmp3_end;
            
            _resIndices = tmpMeta7;
            _innerEquations = tmpMeta8;
            _jac = tmpMeta9;
            /* Pattern matching succeeded */
            {
              modelica_metatype _eq;
              for (tmpMeta12 = _innerEquations; !listEmpty(tmpMeta12); tmpMeta12=MMC_CDR(tmpMeta12))
              {
                _eq = MMC_CAR(tmpMeta12);
                { /* match expression */
                  modelica_metatype tmp16_1;
                  tmp16_1 = _eq;
                  {
                    modelica_integer _idx;
                    int tmp16;
                    // _idx has no default value.
                    {
                      switch (MMC_SWITCH_CAST(valueConstructor(tmp16_1))) {
                      case 3: {
                        modelica_metatype tmpMeta17;
                        modelica_integer tmp18;
                        modelica_metatype tmpMeta19;
                        if (mmc__uniontype__metarecord__typedef__equal(tmp16_1,0,2) == 0) goto tmp15_end;
                        tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp16_1), 2));
                        tmp18 = mmc_unbox_integer(tmpMeta17);
                        
                        _idx = tmp18  /* pattern as ty=Integer */;
                        /* Pattern matching succeeded */
                        tmpMeta19 = mmc_mk_cons(mmc_mk_integer(_idx), _eqnIndices);
                        tmpMeta13 = tmpMeta19;
                        goto tmp15_done;
                      }
                      case 4: {
                        modelica_metatype tmpMeta20;
                        modelica_integer tmp21;
                        modelica_metatype tmpMeta22;
                        if (mmc__uniontype__metarecord__typedef__equal(tmp16_1,1,3) == 0) goto tmp15_end;
                        tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp16_1), 2));
                        tmp21 = mmc_unbox_integer(tmpMeta20);
                        
                        _idx = tmp21  /* pattern as ty=Integer */;
                        /* Pattern matching succeeded */
                        tmpMeta22 = mmc_mk_cons(mmc_mk_integer(_idx), _eqnIndices);
                        tmpMeta13 = tmpMeta22;
                        goto tmp15_done;
                      }
                      default:
                      tmp15_default: OMC_LABEL_UNUSED; {
                        
                        /* Pattern matching succeeded */
                        tmpMeta13 = _eqnIndices;
                        goto tmp15_done;
                      }
                      }
                      goto tmp15_end;
                      tmp15_end: ;
                    }
                    goto goto_14;
                    goto_14:;
                    goto goto_1;
                    goto tmp15_done;
                    tmp15_done:;
                  }
                }
                _eqnIndices = tmpMeta13;
              }
            }

            _eqnIndices = listAppend(_resIndices, _eqnIndices);

            omc_SymbolicJacobian_printNonLinIterVarsAndEqs(threadData, _jac, _eqnIndices, _inEqns);
            goto tmp3_done;
          }
          case 1: {
            modelica_metatype tmpMeta24;
            modelica_metatype tmpMeta25;
            modelica_metatype tmpMeta26;
            if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,5) == 0) goto tmp3_end;
            tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
            tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
            tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
            if (mmc__uniontype__metarecord__typedef__equal(tmpMeta26,2,0) == 0) goto tmp3_end;
            
            _eqnIndices = tmpMeta24;
            _jac = tmpMeta25;
            /* Pattern matching succeeded */
            omc_SymbolicJacobian_printNonLinIterVarsAndEqs(threadData, _jac, _eqnIndices, _inEqns);
            goto tmp3_done;
          }
          case 2: {
            
            /* Pattern matching succeeded */
            goto tmp3_done;
          }
          }
          goto tmp3_end;
          tmp3_end: ;
        }
        goto goto_1;
        goto_1:;
        MMC_THROW_INTERNAL();
        goto tmp3_done;
        tmp3_done:;
      }
    }
    ;
  }
  else
  {
    
    
    { /* match expression */
      modelica_metatype tmp30_1;
      tmp30_1 = _inComp;
      {
        modelica_metatype _jac = NULL;
        volatile mmc_switch_type tmp30;
        int tmp31;
        // _jac has no default value.
        tmp30 = 0;
        for (; tmp30 < 3; tmp30++) {
          switch (MMC_SWITCH_CAST(tmp30)) {
          case 0: {
            modelica_metatype tmpMeta32;
            modelica_metatype tmpMeta33;
            modelica_metatype tmpMeta34;
            modelica_integer tmp35;
            if (mmc__uniontype__metarecord__typedef__equal(tmp30_1,7,4) == 0) goto tmp29_end;
            tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp30_1), 2));
            tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta32), 5));
            tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp30_1), 4));
            tmp35 = mmc_unbox_integer(tmpMeta34);
            if (0 /* false */ != tmp35) goto tmp29_end;
            
            _jac = tmpMeta33;
            /* Pattern matching succeeded */
            tmp27_c0 = omc_SymbolicJacobian_existNonLinIterVars(threadData, _jac, &tmp27_c1);
            goto tmp29_done;
          }
          case 1: {
            modelica_metatype tmpMeta36;
            modelica_metatype tmpMeta37;
            if (mmc__uniontype__metarecord__typedef__equal(tmp30_1,1,5) == 0) goto tmp29_end;
            tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp30_1), 4));
            tmpMeta37 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp30_1), 5));
            if (mmc__uniontype__metarecord__typedef__equal(tmpMeta37,2,0) == 0) goto tmp29_end;
            
            _jac = tmpMeta36;
            /* Pattern matching succeeded */
            tmp27_c0 = omc_SymbolicJacobian_existNonLinIterVars(threadData, _jac, &tmp27_c1);
            goto tmp29_done;
          }
          case 2: {
            
            /* Pattern matching succeeded */
            tmp27_c0 = 0 /* false */;
            tmp27_c1 = _OMC_LIT11;
            goto tmp29_done;
          }
          }
          goto tmp29_end;
          tmp29_end: ;
        }
        goto goto_28;
        goto_28:;
        MMC_THROW_INTERNAL();
        goto tmp29_done;
        tmp29_done:;
      }
    }
    _existNonLin = tmp27_c0;
    _name = tmp27_c1;

    if(_existNonLin)
    {
      _msg = omc_System_gettext(threadData, _OMC_LIT130);

      tmpMeta38 = mmc_mk_cons(_name, mmc_mk_cons(_msg, MMC_REFSTRUCTLIT(mmc_nil)));
      omc_Error_addMessage(threadData, _OMC_LIT134, tmpMeta38);
    }
  }
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobianComponent(threadData_t *threadData, modelica_metatype _inComp, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inShared, modelica_metatype *out_outShared)
{
  modelica_metatype _outComp = NULL;
  modelica_metatype _outShared = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outComp has no default value.
  // _outShared has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inComp;
    {
      modelica_metatype _comp = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _iterationvarsInts = NULL;
      modelica_metatype _residualequations = NULL;
      modelica_metatype _iterationvars = NULL;
      modelica_metatype _resVarsLst = NULL;
      modelica_metatype _diffVars = NULL;
      modelica_metatype _ovars = NULL;
      modelica_metatype _resVars = NULL;
      modelica_metatype _reqns = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _oeqns = NULL;
      modelica_metatype _jacobian = NULL;
      modelica_metatype _jacobianCausal = NULL;
      modelica_string _name = NULL;
      modelica_boolean _mixedSystem;
      modelica_boolean _linear;
      modelica_boolean _onlySparsePattern;
      modelica_metatype _strictTearingset = NULL;
      modelica_metatype _casualTearingSet = NULL;
      modelica_metatype _optCasualTearingSet = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _comp has no default value.
      // _shared has no default value.
      // _iterationvarsInts has no default value.
      // _residualequations has no default value.
      // _iterationvars has no default value.
      // _resVarsLst has no default value.
      // _diffVars has no default value.
      // _ovars has no default value.
      // _resVars has no default value.
      // _reqns has no default value.
      // _eqns has no default value.
      // _oeqns has no default value.
      // _jacobian has no default value.
      // _jacobianCausal has no default value.
      // _name has no default value.
      // _mixedSystem has no default value.
      // _linear has no default value.
      _onlySparsePattern = 1 /* true */;
      // _strictTearingset has no default value.
      // _casualTearingSet has no default value.
      // _optCasualTearingSet has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 6; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          modelica_metatype tmpMeta10;
          modelica_integer tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmp9 = mmc_unbox_integer(tmpMeta8);
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmp11 = mmc_unbox_integer(tmpMeta10);
          _strictTearingset = tmpMeta6;
          _optCasualTearingSet = tmpMeta7;
          _linear = tmp9  /* pattern as ty=Boolean */;
          _mixedSystem = tmp11  /* pattern as ty=Boolean */;
          tmp4 += 4; /* Pattern matching succeeded; we may skip some cases if we fail */
          _jacobian = omc_SymbolicJacobian_calculateTearingSetJacobian(threadData, _inVars, _inEqns, _strictTearingset, _inShared, _linear ,&_shared);

          tmpMeta12 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta12), MMC_UNTAGPTR(_strictTearingset), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta12))[5] = _jacobian;
          _strictTearingset = tmpMeta12;

          if(isSome(_optCasualTearingSet))
          {
            _casualTearingSet = omc_Util_getOption(threadData, _optCasualTearingSet);

            _jacobianCausal = omc_SymbolicJacobian_calculateTearingSetJacobian(threadData, _inVars, _inEqns, _casualTearingSet, _shared, _linear ,&_shared);

            tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(6));
            memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_casualTearingSet), 6*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[5] = _jacobianCausal;
            _casualTearingSet = tmpMeta13;

            _optCasualTearingSet = mmc_mk_some(_casualTearingSet);
          }
          tmpMeta14 = mmc_mk_box5(10, &BackendDAE_StrongComponent_TORNSYSTEM__desc, _strictTearingset, _optCasualTearingSet, mmc_mk_boolean(_linear), mmc_mk_boolean(_mixedSystem));
          tmpMeta[0+0] = tmpMeta14;
          tmpMeta[0+1] = _shared;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,5) == 0) goto tmp3_end;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta15,0,0) == 0) goto tmp3_end;
          
          _comp = tmp4_1;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = _comp;
          tmpMeta[0+1] = _inShared;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_integer tmp20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,5) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta18,1,0) == 0) goto tmp3_end;
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmp20 = mmc_unbox_integer(tmpMeta19);
          _residualequations = tmpMeta16;
          _iterationvarsInts = tmpMeta17;
          _mixedSystem = tmp20  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_Flags_isSet(threadData, _OMC_LIT142)) goto tmp3_end;
          tmpMeta21 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta22 = mmc_mk_box5(3, &BackendDAE_TearingSet_TEARINGSET__desc, _iterationvarsInts, _residualequations, tmpMeta21, _OMC_LIT112);
          _strictTearingset = tmpMeta22;

          _jacobian = omc_SymbolicJacobian_calculateTearingSetJacobian(threadData, _inVars, _inEqns, _strictTearingset, _inShared, 1 /* true */ ,&_shared);

          tmpMeta23 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta23), MMC_UNTAGPTR(_strictTearingset), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta23))[5] = _jacobian;
          _strictTearingset = tmpMeta23;
          tmpMeta24 = mmc_mk_box5(10, &BackendDAE_StrongComponent_TORNSYSTEM__desc, _strictTearingset, mmc_mk_none(), mmc_mk_boolean(1 /* true */), mmc_mk_boolean(_mixedSystem));
          tmpMeta[0+0] = tmpMeta24;
          tmpMeta[0+1] = _shared;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta25;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,5) == 0) goto tmp3_end;
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta25,1,0) == 0) goto tmp3_end;
          
          _comp = tmp4_1;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _comp;
          tmpMeta[0+1] = _inShared;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_integer tmp29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,5) == 0) goto tmp3_end;
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmp29 = mmc_unbox_integer(tmpMeta28);
          _residualequations = tmpMeta26;
          _iterationvarsInts = tmpMeta27;
          _mixedSystem = tmp29  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          tmpMeta30 = stringAppend(_OMC_LIT143,intString(omc_System_tmpTickIndex(threadData, ((modelica_integer) 21))));
          _name = tmpMeta30;

          _iterationvars = omc_List_map1r(threadData, _iterationvarsInts, boxvar_BackendVariable_getVarAt, _inVars);

          _iterationvars = omc_List_map(threadData, _iterationvars, boxvar_BackendVariable_transformXToXd);

          _iterationvars = listReverse(_iterationvars);

          _diffVars = omc_BackendVariable_listVar1(threadData, _iterationvars);

          _reqns = omc_BackendEquation_getList(threadData, _residualequations, _inEqns);

          _reqns = omc_BackendEquation_replaceDerOpInEquationList(threadData, _reqns);

          tmpMeta31 = MMC_REFSTRUCTLIT(mmc_nil);
          if((omc_SymbolicJacobian_checkForSymbolicJacobian(threadData, _reqns, tmpMeta31, _name) && omc_Flags_isSet(threadData, _OMC_LIT147)))
          {
            _onlySparsePattern = 0 /* false */;
          }

          _eqns = omc_BackendEquation_listEquation(threadData, _reqns);

          /* Pattern-matching assignment */
          tmpMeta32 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta33 = mmc_mk_box2(0, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inShared), 12))), tmpMeta32);
          tmpMeta34 = omc_BackendEquation_traverseEquationArray(threadData, _eqns, boxvar_BackendEquation_traverseEquationToScalarResidualForm, tmpMeta33);
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta34), 2));
          _reqns = tmpMeta35;

          _reqns = listReverse(_reqns);

          tmpMeta36 = stringAppend(_OMC_LIT148,_name);
          tmpMeta37 = stringAppend(tmpMeta36,_OMC_LIT149);
          _reqns = omc_BackendEquation_convertResidualsIntoSolvedEquations(threadData, _reqns, tmpMeta37, ((modelica_integer) 1), 0 /* false */ ,&_resVarsLst, NULL);

          _resVars = omc_BackendVariable_listVar1(threadData, _resVarsLst);

          _eqns = omc_BackendEquation_listEquation(threadData, _reqns);

          tmpMeta38 = MMC_REFSTRUCTLIT(mmc_nil);
          _oeqns = omc_BackendEquation_listEquation(threadData, tmpMeta38);

          _ovars = omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013));

          _jacobian = omc_SymbolicJacobian_getSymbolicJacobian(threadData, _diffVars, _eqns, _resVars, _oeqns, _ovars, _inShared, _inVars, _name, _onlySparsePattern ,&_shared);
          tmpMeta39 = mmc_mk_box6(4, &BackendDAE_StrongComponent_EQUATIONSYSTEM__desc, _residualequations, _iterationvarsInts, _jacobian, _OMC_LIT150, mmc_mk_boolean(_mixedSystem));
          tmpMeta[0+0] = tmpMeta39;
          tmpMeta[0+1] = _shared;
          goto tmp3_done;
        }
        case 5: {
          
          _comp = tmp4_1;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _comp;
          tmpMeta[0+1] = _inShared;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 6) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outComp = tmpMeta[0+0];
  _outShared = tmpMeta[0+1];

  if(omc_BackendDAEUtil_isInitializationDAE(threadData, _inShared))
  {
    { /* matchcontinue expression */
      {
        volatile mmc_switch_type tmp42;
        int tmp43;
        tmp42 = 0;
        MMC_TRY_INTERNAL(mmc_jumper)
        tmp41_top:
        threadData->mmc_jumper = &new_mmc_jumper;
        for (; tmp42 < 2; tmp42++) {
          switch (MMC_SWITCH_CAST(tmp42)) {
          case 0: {
            /* Pattern matching succeeded */
            omc_SymbolicJacobian_checkNonLinDependecies(threadData, _outComp, _inEqns);
            goto tmp41_done;
          }
          case 1: {
            /* Pattern matching succeeded */
            omc_Error_addInternalError(threadData, _OMC_LIT151, _OMC_LIT152);
            goto tmp41_done;
          }
          }
          goto tmp41_end;
          tmp41_end: ;
        }
        goto goto_40;
        tmp41_done:
        (void)tmp42;
        MMC_RESTORE_INTERNAL(mmc_jumper);
        goto tmp41_done2;
        goto_40:;
        MMC_CATCH_INTERNAL(mmc_jumper);
        if (++tmp42 < 2) {
          goto tmp41_top;
        }
        MMC_THROW_INTERNAL();
        tmp41_done2:;
      }
    }
    ;
  }
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  return _outComp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateTearingSetJacobian(threadData_t *threadData, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inTearingSet, modelica_metatype _inShared, modelica_boolean _isLinear, modelica_metatype *out_outShared)
{
  modelica_metatype _outJacobian = NULL;
  modelica_metatype _outShared = NULL;
  modelica_string _name = NULL;
  modelica_string _prename = NULL;
  modelica_boolean _debug;
  modelica_boolean _onlySparsePattern;
  modelica_metatype _diffVars = NULL;
  modelica_metatype _oVars = NULL;
  modelica_metatype _resVars = NULL;
  modelica_metatype _resEqns = NULL;
  modelica_metatype _oEqns = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outJacobian has no default value.
  // _outShared has no default value.
  // _name has no default value.
  // _prename has no default value.
  _debug = 0 /* false */;
  _onlySparsePattern = 0 /* false */;
  // _diffVars has no default value.
  // _oVars has no default value.
  // _resVars has no default value.
  // _resEqns has no default value.
  // _oEqns has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          /* Pattern matching succeeded */
          if(((!_isLinear) && (!omc_Flags_isSet(threadData, _OMC_LIT147))))
          {
            _onlySparsePattern = 1 /* true */;
          }

          if(_isLinear)
          {
            _prename = _OMC_LIT154;
          }
          else
          {
            _prename = _OMC_LIT153;
          }

          tmpMeta5 = stringAppend(_prename,_OMC_LIT155);
          tmpMeta6 = stringAppend(tmpMeta5,intString(omc_System_tmpTickIndex(threadData, ((modelica_integer) 21))));
          _name = tmpMeta6;

          if(_debug)
          {
            tmpMeta7 = stringAppend(_OMC_LIT156,_prename);
            tmpMeta8 = stringAppend(tmpMeta7,_OMC_LIT157);
            tmpMeta9 = stringAppend(tmpMeta8,_name);
            tmpMeta10 = stringAppend(tmpMeta9,_OMC_LIT158);
            tmpMeta11 = stringAppend(tmpMeta10,intString(listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inTearingSet), 2))))));
            tmpMeta12 = stringAppend(tmpMeta11,_OMC_LIT159);
            tmpMeta13 = stringAppend(tmpMeta12,realString(mmc_clock()));
            tmpMeta14 = stringAppend(tmpMeta13,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta14),stdout);
          }

          _diffVars = omc_SymbolicJacobian_prepareTornStrongComponentData(threadData, _inVars, _inEqns, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inTearingSet), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inTearingSet), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inTearingSet), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inShared), 12))), _name ,&_resVars ,&_oVars ,&_resEqns ,&_oEqns);

          if(_debug)
          {
            tmpMeta15 = stringAppend(_OMC_LIT156,_prename);
            tmpMeta16 = stringAppend(tmpMeta15,_OMC_LIT160);
            tmpMeta17 = stringAppend(tmpMeta16,realString(mmc_clock()));
            tmpMeta18 = stringAppend(tmpMeta17,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta18),stdout);
          }

          if((!(_isLinear || omc_SymbolicJacobian_checkForSymbolicJacobian(threadData, omc_BackendEquation_equationList(threadData, _resEqns), omc_BackendEquation_equationList(threadData, _oEqns), _name))))
          {
            _onlySparsePattern = 1 /* true */;
          }

          _outJacobian = omc_SymbolicJacobian_getSymbolicJacobian(threadData, _diffVars, _resEqns, _resVars, _oEqns, _oVars, _inShared, _inVars, _name, _onlySparsePattern ,&_outShared);
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  return _outJacobian;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_calculateTearingSetJacobian(threadData_t *threadData, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inTearingSet, modelica_metatype _inShared, modelica_metatype _isLinear, modelica_metatype *out_outShared)
{
  modelica_integer tmp1;
  modelica_metatype _outJacobian = NULL;
  tmp1 = mmc_unbox_integer(_isLinear);
  _outJacobian = omc_SymbolicJacobian_calculateTearingSetJacobian(threadData, _inVars, _inEqns, _inTearingSet, _inShared, tmp1, out_outShared);
  /* skip box _outJacobian; BackendDAE.Jacobian */
  /* skip box _outShared; BackendDAE.Shared */
  return _outJacobian;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_checkForSymbolicJacobian(threadData_t *threadData, modelica_metatype _inResidualEqns, modelica_metatype _inOtherEqns, modelica_string _name)
{
  modelica_boolean _out;
  modelica_boolean _b1;
  modelica_boolean _b2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out has no default value.
  // _b1 has no default value.
  // _b2 has no default value.
  if((!omc_Flags_isSet(threadData, _OMC_LIT166)))
  {
    { /* matchcontinue expression */
      {
        volatile mmc_switch_type tmp3;
        int tmp4;
        tmp3 = 0;
        MMC_TRY_INTERNAL(mmc_jumper)
        tmp2_top:
        threadData->mmc_jumper = &new_mmc_jumper;
        for (; tmp3 < 2; tmp3++) {
          switch (MMC_SWITCH_CAST(tmp3)) {
          case 0: {
            modelica_metatype tmpMeta5;
            modelica_metatype tmpMeta6;
            /* Pattern matching succeeded */
            _b1 = omc_BackendEquation_traverseExpsOfEquationList__WithStop(threadData, _inResidualEqns, boxvar_SymbolicJacobian_traverserhasEqnNonDiffParts, _OMC_LIT161, NULL);

            _b2 = omc_BackendEquation_traverseExpsOfEquationList__WithStop(threadData, _inOtherEqns, boxvar_SymbolicJacobian_traverserhasEqnNonDiffParts, _OMC_LIT161, NULL);

            if((!(_b1 && _b2)))
            {
              if(omc_Flags_isSet(threadData, _OMC_LIT82))
              {
                tmpMeta5 = stringAppend(_OMC_LIT162,_name);
                tmpMeta6 = stringAppend(tmpMeta5,_OMC_LIT19);
                omc_Debug_traceln(threadData, tmpMeta6);
              }

              _out = 0 /* false */;
            }
            else
            {
              _out = 1 /* true */;
            }
            goto tmp2_done;
          }
          case 1: {
            /* Pattern matching succeeded */
            _out = 0 /* false */;
            goto tmp2_done;
          }
          }
          goto tmp2_end;
          tmp2_end: ;
        }
        goto goto_1;
        tmp2_done:
        (void)tmp3;
        MMC_RESTORE_INTERNAL(mmc_jumper);
        goto tmp2_done2;
        goto_1:;
        MMC_CATCH_INTERNAL(mmc_jumper);
        if (++tmp3 < 2) {
          goto tmp2_top;
        }
        MMC_THROW_INTERNAL();
        tmp2_done2:;
      }
    }
    ;
  }
  else
  {
    _out = 1 /* true */;
  }
  _return: OMC_LABEL_UNUSED
  return _out;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_checkForSymbolicJacobian(threadData_t *threadData, modelica_metatype _inResidualEqns, modelica_metatype _inOtherEqns, modelica_metatype _name)
{
  modelica_boolean _out;
  modelica_metatype out_out;
  _out = omc_SymbolicJacobian_checkForSymbolicJacobian(threadData, _inResidualEqns, _inOtherEqns, _name);
  out_out = mmc_mk_icon(_out);
  return out_out;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_prepareTornStrongComponentData(threadData_t *threadData, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inIterationvarsInts, modelica_metatype _inResidualequations, modelica_metatype _innerEquations, modelica_metatype _funcTree, modelica_string _name, modelica_metatype *out_outResidualVars, modelica_metatype *out_outOtherVars, modelica_metatype *out_outResidualEqns, modelica_metatype *out_outOtherEqns)
{
  modelica_metatype _outDiffVars = NULL;
  modelica_metatype _outResidualVars = NULL;
  modelica_metatype _outOtherVars = NULL;
  modelica_metatype _outResidualEqns = NULL;
  modelica_metatype _outOtherEqns = NULL;
  modelica_metatype _iterationvars = NULL;
  modelica_metatype _resVarsLst = NULL;
  modelica_metatype _ovarsLst = NULL;
  modelica_metatype _reqns = NULL;
  modelica_metatype _otherEqnsLst = NULL;
  modelica_metatype _otherVarsIntsLst = NULL;
  modelica_metatype _otherEqnsInts = NULL;
  modelica_metatype _otherVarsInts = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outDiffVars has no default value.
  // _outResidualVars has no default value.
  // _outOtherVars has no default value.
  // _outResidualEqns has no default value.
  // _outOtherEqns has no default value.
  // _iterationvars has no default value.
  // _resVarsLst has no default value.
  // _ovarsLst has no default value.
  // _reqns has no default value.
  // _otherEqnsLst has no default value.
  // _otherVarsIntsLst has no default value.
  // _otherEqnsInts has no default value.
  // _otherVarsInts has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar17;
            modelica_metatype* tmp6;
            modelica_metatype tmpMeta7;
            modelica_metatype __omcQ_24tmpVar16;
            modelica_integer tmp8;
            modelica_metatype _e_loopVar = 0;
            modelica_metatype _e;
            _e_loopVar = _inIterationvarsInts;
            tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar17 = tmpMeta7; /* defaultValue */
            tmp6 = &__omcQ_24tmpVar17;
            while(1) {
              tmp8 = 1;
              if (!listEmpty(_e_loopVar)) {
                _e = MMC_CAR(_e_loopVar);
                _e_loopVar = MMC_CDR(_e_loopVar);
                tmp8--;
              }
              if (tmp8 == 0) {
                __omcQ_24tmpVar16 = omc_BackendVariable_transformXToXd(threadData, omc_BackendVariable_getVarAt(threadData, _inVars, mmc_unbox_integer(_e)));
                *tmp6 = mmc_mk_cons(__omcQ_24tmpVar16,0);
                tmp6 = &MMC_CDR(*tmp6);
              } else if (tmp8 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp6 = mmc_mk_nil();
            tmpMeta5 = __omcQ_24tmpVar17;
          }
          _iterationvars = tmpMeta5;

          _outDiffVars = omc_BackendVariable_listVar1(threadData, _iterationvars);

          if(omc_Flags_isSet(threadData, _OMC_LIT171))
          {
            tmpMeta9 = stringAppend(_OMC_LIT167,realString(mmc_clock()));
            tmpMeta10 = stringAppend(tmpMeta9,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta10),stdout);

            omc_BackendDump_printVarList(threadData, _iterationvars);
          }

          _reqns = omc_BackendEquation_getList(threadData, _inResidualequations, _inEqns);

          _reqns = omc_BackendEquation_replaceDerOpInEquationList(threadData, _reqns);

          _outResidualEqns = omc_BackendEquation_listEquation(threadData, _reqns);

          /* Pattern-matching assignment */
          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta12 = mmc_mk_box2(0, _funcTree, tmpMeta11);
          tmpMeta13 = omc_BackendEquation_traverseEquationArray(threadData, _outResidualEqns, boxvar_BackendEquation_traverseEquationToScalarResidualForm, tmpMeta12);
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 2));
          _reqns = tmpMeta14;

          _reqns = listReverse(_reqns);

          tmpMeta15 = stringAppend(_OMC_LIT148,_name);
          tmpMeta16 = stringAppend(tmpMeta15,_OMC_LIT149);
          _reqns = omc_BackendEquation_convertResidualsIntoSolvedEquations(threadData, _reqns, tmpMeta16, ((modelica_integer) 1), 0 /* false */ ,&_resVarsLst, NULL);

          _outResidualVars = omc_BackendVariable_listVar1(threadData, _resVarsLst);

          _outResidualEqns = omc_BackendEquation_listEquation(threadData, _reqns);

          if(omc_Flags_isSet(threadData, _OMC_LIT171))
          {
            tmpMeta17 = stringAppend(_OMC_LIT172,realString(mmc_clock()));
            tmpMeta18 = stringAppend(tmpMeta17,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta18),stdout);

            fputs(MMC_STRINGDATA(_OMC_LIT173),stdout);

            omc_BackendDump_printEquationList(threadData, _reqns);
          }

          _otherEqnsInts = omc_List_map__3(threadData, _innerEquations, boxvar_BackendDAEUtil_getEqnAndVarsFromInnerEquation ,&_otherVarsIntsLst ,NULL);

          _otherEqnsLst = omc_BackendEquation_getList(threadData, _otherEqnsInts, _inEqns);

          _otherEqnsLst = omc_BackendEquation_replaceDerOpInEquationList(threadData, _otherEqnsLst);

          _outOtherEqns = omc_BackendEquation_listEquation(threadData, _otherEqnsLst);

          _otherVarsInts = omc_List_flatten(threadData, _otherVarsIntsLst);

          {
            modelica_metatype __omcQ_24tmpVar19;
            modelica_metatype* tmp20;
            modelica_metatype tmpMeta21;
            modelica_metatype __omcQ_24tmpVar18;
            modelica_integer tmp22;
            modelica_metatype _e_loopVar = 0;
            modelica_metatype _e;
            _e_loopVar = _otherVarsInts;
            tmpMeta21 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar19 = tmpMeta21; /* defaultValue */
            tmp20 = &__omcQ_24tmpVar19;
            while(1) {
              tmp22 = 1;
              if (!listEmpty(_e_loopVar)) {
                _e = MMC_CAR(_e_loopVar);
                _e_loopVar = MMC_CDR(_e_loopVar);
                tmp22--;
              }
              if (tmp22 == 0) {
                __omcQ_24tmpVar18 = omc_BackendVariable_transformXToXd(threadData, omc_BackendVariable_getVarAt(threadData, _inVars, mmc_unbox_integer(_e)));
                *tmp20 = mmc_mk_cons(__omcQ_24tmpVar18,0);
                tmp20 = &MMC_CDR(*tmp20);
              } else if (tmp22 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp20 = mmc_mk_nil();
            tmpMeta19 = __omcQ_24tmpVar19;
          }
          _ovarsLst = tmpMeta19;

          _outOtherVars = omc_BackendVariable_listVar1(threadData, _ovarsLst);

          if(omc_Flags_isSet(threadData, _OMC_LIT171))
          {
            tmpMeta23 = stringAppend(_OMC_LIT172,realString(mmc_clock()));
            tmpMeta24 = stringAppend(tmpMeta23,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta24),stdout);

            fputs(MMC_STRINGDATA(_OMC_LIT174),stdout);

            omc_BackendDump_printEquationList(threadData, _otherEqnsLst);

            fputs(MMC_STRINGDATA(_OMC_LIT175),stdout);

            omc_BackendDump_printVarList(threadData, _ovarsLst);
          }
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_outResidualVars) { *out_outResidualVars = _outResidualVars; }
  if (out_outOtherVars) { *out_outOtherVars = _outOtherVars; }
  if (out_outResidualEqns) { *out_outResidualEqns = _outResidualEqns; }
  if (out_outOtherEqns) { *out_outOtherEqns = _outOtherEqns; }
  return _outDiffVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateJacobiansComponents(threadData_t *threadData, modelica_metatype _inComps, modelica_metatype _inVars, modelica_metatype _inEqns, modelica_metatype _inShared, modelica_metatype *out_outShared)
{
  modelica_metatype _outComps = NULL;
  modelica_metatype _outShared = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outComps has no default value.
  _outShared = _inShared;
  {
    modelica_metatype __omcQ_24tmpVar21;
    modelica_metatype* tmp2;
    modelica_metatype tmpMeta3;
    modelica_metatype tmpMeta4;
    modelica_metatype __omcQ_24tmpVar20;
    modelica_integer tmp9;
    modelica_metatype _component_loopVar = 0;
    modelica_metatype _component;
    _component_loopVar = _inComps;
    tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar21 = tmpMeta3; /* defaultValue */
    tmp2 = &__omcQ_24tmpVar21;
    while(1) {
      tmp9 = 1;
      if (!listEmpty(_component_loopVar)) {
        _component = MMC_CAR(_component_loopVar);
        _component_loopVar = MMC_CDR(_component_loopVar);
        tmp9--;
      }
      if (tmp9 == 0) {
        { /* match expression */
          modelica_metatype tmp7_1;
          tmp7_1 = _component;
          {
            modelica_metatype _comp = NULL;
            volatile mmc_switch_type tmp7;
            int tmp8;
            // _comp has no default value.
            tmp7 = 0;
            for (; tmp7 < 1; tmp7++) {
              switch (MMC_SWITCH_CAST(tmp7)) {
              case 0: {
                
                _comp = tmp7_1;
                /* Pattern matching succeeded */
                _comp = omc_SymbolicJacobian_calculateJacobianComponent(threadData, _comp, _inVars, _inEqns, _outShared ,&_outShared);
                tmpMeta4 = _comp;
                goto tmp6_done;
              }
              }
              goto tmp6_end;
              tmp6_end: ;
            }
            goto goto_5;
            goto_5:;
            MMC_THROW_INTERNAL();
            goto tmp6_done;
            tmp6_done:;
          }
        }__omcQ_24tmpVar20 = tmpMeta4;
        *tmp2 = mmc_mk_cons(__omcQ_24tmpVar20,0);
        tmp2 = &MMC_CDR(*tmp2);
      } else if (tmp9 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp2 = mmc_mk_nil();
    tmpMeta1 = __omcQ_24tmpVar21;
  }
  _outComps = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  return _outComps;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_calculateEqSystemJacobians(threadData_t *threadData, modelica_metatype _inSyst, modelica_metatype _inShared, modelica_metatype *out_outShared)
{
  modelica_metatype _outSyst = NULL;
  modelica_metatype _outShared = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outSyst has no default value.
  // _outShared has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inSyst;
    tmp4_2 = _inShared;
    {
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1 = NULL;
      modelica_metatype _ass2 = NULL;
      modelica_metatype _comps = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _eqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _syst has no default value.
      // _shared has no default value.
      // _ass1 has no default value.
      // _ass2 has no default value.
      // _comps has no default value.
      // _vars has no default value.
      // _eqns has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,1,3) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 3));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 4));
          
          _syst = tmp4_1;
          _vars = tmpMeta6;
          _eqns = tmpMeta7;
          _ass1 = tmpMeta9;
          _ass2 = tmpMeta10;
          _comps = tmpMeta11;
          _shared = tmp4_2;
          /* Pattern matching succeeded */
          _comps = omc_SymbolicJacobian_calculateJacobiansComponents(threadData, _comps, _vars, _eqns, _shared ,&_shared);

          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _ass1, _ass2, _comps);
          tmpMeta12 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta12), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta12))[7] = tmpMeta13;
          _syst = tmpMeta12;
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outSyst = tmpMeta[0+0];
  _outShared = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  return _outSyst;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_getJacobianDependencies(threadData_t *threadData, modelica_metatype _jacobian)
{
  modelica_metatype _dependencies = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _dependencies has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _jacobian;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 6));
          
          _dependencies = tmpMeta8;
          /* Pattern matching succeeded */
          tmpMeta1 = _dependencies;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,4) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (!optionNone(tmpMeta9)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT176, _OMC_LIT177);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _dependencies = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _dependencies;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_calcJacobianDependencies(threadData_t *threadData, modelica_metatype _jacobian)
{
  modelica_metatype _dependencies = NULL;
  modelica_metatype _systems = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _syst = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _dependencies has no default value.
  // _systems has no default value.
  // _shared has no default value.
  // _syst has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _jacobian;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 3));
  _systems = tmpMeta3;
  _shared = tmpMeta4;

  _syst = listHead(_systems);

  _dependencies = omc_BackendEquation_getCrefsFromEquations(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 2))));
  _return: OMC_LABEL_UNUSED
  return _dependencies;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_updateJacobianDependencies(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fjacobian)
{
  modelica_metatype _jacobian = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _jacobian = __omcQ_24in_5Fjacobian;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _jacobian;
    {
      modelica_metatype _jac = NULL;
      modelica_metatype _symJac = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_string _name = NULL;
      modelica_metatype _diffVars = NULL;
      modelica_metatype _diffedVars = NULL;
      modelica_metatype _allDiffedVars = NULL;
      modelica_metatype _dependencies = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _jac has no default value.
      // _symJac has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _name has no default value.
      // _diffVars has no default value.
      // _diffedVars has no default value.
      // _allDiffedVars has no default value.
      // _dependencies has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,4) == 0) goto tmp3_end;
          
          _jac = tmp4_1;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta6 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_jac), 2)));
          if (optionNone(tmpMeta6)) goto goto_2;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          if (listEmpty(tmpMeta9)) goto goto_2;
          tmpMeta10 = MMC_CAR(tmpMeta9);
          tmpMeta11 = MMC_CDR(tmpMeta9);
          if (!listEmpty(tmpMeta11)) goto goto_2;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 3));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 4));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 5));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 6));
          _symJac = tmpMeta7;
          _syst = tmpMeta10;
          _shared = tmpMeta12;
          _name = tmpMeta13;
          _diffVars = tmpMeta14;
          _diffedVars = tmpMeta15;
          _allDiffedVars = tmpMeta16;
          _dependencies = tmpMeta17;

          _dependencies = omc_SymbolicJacobian_calcJacobianDependencies(threadData, _symJac);

          tmpMeta19 = mmc_mk_cons(_syst, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta20 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta19, _shared);
          tmpMeta21 = mmc_mk_box6(0, tmpMeta20, _name, _diffVars, _diffedVars, _allDiffedVars, _dependencies);
          tmpMeta18 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta18), MMC_UNTAGPTR(_jac), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta18))[2] = mmc_mk_some(tmpMeta21);
          _jac = tmpMeta18;
          tmpMeta1 = _jac;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _jacobian;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _jacobian = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _jacobian;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_getJacobianMatrixbyName(threadData_t *threadData, modelica_metatype _injacobianMatrices, modelica_string _inJacobianName)
{
  modelica_metatype _outMatrix = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outMatrix has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _injacobianMatrices;
    {
      modelica_metatype _matrix = NULL;
      modelica_metatype _rest = NULL;
      modelica_string _name = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _matrix has no default value.
      // _rest has no default value.
      // _name has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          
          _matrix = tmpMeta6;
          _name = tmpMeta10;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(stringEqual(_name, _inJacobianName))) goto tmp3_end;
          tmpMeta1 = mmc_mk_some(_matrix);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          _rest = tmpMeta12;
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _injacobianMatrices = _rest;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_none();
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outMatrix = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outMatrix;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_deriveAll(threadData_t *threadData, modelica_metatype _inEquations, modelica_metatype _ass2, modelica_metatype _inDiffCref, modelica_metatype _inDiffData, modelica_metatype _inFunctions, modelica_boolean _daeMode, modelica_metatype *out_outFunctions)
{
  modelica_metatype _outDerivedEquations = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _outFunctions = NULL;
  modelica_metatype _allVars = NULL;
  modelica_metatype _currDerivedEquation = NULL;
  modelica_metatype _tmpEquations = NULL;
  modelica_metatype _solvedvars = NULL;
  modelica_metatype _ass2_1 = NULL;
  modelica_metatype _solvedfor = NULL;
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _outDerivedEquations = tmpMeta1;
  _outFunctions = _inFunctions;
  // _allVars has no default value.
  // _currDerivedEquation has no default value.
  // _tmpEquations has no default value.
  // _solvedvars has no default value.
  _ass2_1 = _ass2;
  // _solvedfor has no default value.
  // _b has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta6 = _inDiffData;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 5));
          if (optionNone(tmpMeta7)) goto goto_2;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          _allVars = tmpMeta8;

          {
            modelica_metatype _currEquation;
            for (tmpMeta9 = _inEquations; !listEmpty(tmpMeta9); tmpMeta9=MMC_CDR(tmpMeta9))
            {
              _currEquation = MMC_CAR(tmpMeta9);
              tmpMeta10 = mmc_mk_box2(7, &BackendDAE_DifferentiationType_GENERIC__GRADIENT__desc, mmc_mk_boolean(_daeMode));
              _currDerivedEquation = omc_Differentiate_differentiateEquation(threadData, _currEquation, _inDiffCref, _inDiffData, tmpMeta10, _outFunctions ,&_outFunctions);

              _tmpEquations = omc_BackendEquation_scalarComplexEquations(threadData, _currDerivedEquation, _outFunctions);

              _outDerivedEquations = listAppend(_tmpEquations, _outDerivedEquations);
            }
          }

          _outDerivedEquations = listReverse(_outDerivedEquations);
          goto tmp3_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT180, _OMC_LIT182);

          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_outFunctions) { *out_outFunctions = _outFunctions; }
  return _outDerivedEquations;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_deriveAll(threadData_t *threadData, modelica_metatype _inEquations, modelica_metatype _ass2, modelica_metatype _inDiffCref, modelica_metatype _inDiffData, modelica_metatype _inFunctions, modelica_metatype _daeMode, modelica_metatype *out_outFunctions)
{
  modelica_integer tmp1;
  modelica_metatype _outDerivedEquations = NULL;
  modelica_metatype tmpMeta2;
  tmp1 = mmc_unbox_integer(_daeMode);
  _outDerivedEquations = omc_SymbolicJacobian_deriveAll(threadData, _inEquations, _ass2, _inDiffCref, _inDiffData, _inFunctions, tmp1, out_outFunctions);
  /* skip box _outDerivedEquations; list<BackendDAE.Equation> */
  /* skip box _outFunctions; DAE.AvlTreePathFunction.Tree */
  return _outDerivedEquations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createAllDiffedVarsWork(threadData_t *threadData, modelica_metatype _inVars, modelica_metatype _inCref, modelica_metatype _inAllVars, modelica_integer _inIndex, modelica_string _inMatrixName, modelica_metatype _iVars)
{
  modelica_metatype _outVars = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVars has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;modelica_integer tmp4_3;
    tmp4_1 = _inVars;
    tmp4_2 = _inCref;
    tmp4_3 = _inIndex;
    {
      modelica_metatype _v = NULL;
      modelica_metatype _r1 = NULL;
      modelica_metatype _currVar = NULL;
      modelica_metatype _cref = NULL;
      modelica_metatype _derivedCref = NULL;
      modelica_metatype _restVar = NULL;
      modelica_integer _index;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _v has no default value.
      // _r1 has no default value.
      // _currVar has no default value.
      // _cref has no default value.
      // _derivedCref has no default value.
      // _restVar has no default value.
      // _index has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = listReverse(_iVars);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,1,3) == 0) goto tmp3_end;
          
          _v = tmpMeta6;
          _currVar = tmpMeta8;
          _restVar = tmpMeta7;
          _cref = tmp4_2;
          _index = tmp4_3;
          /* Pattern matching succeeded */
          { /* matchcontinue expression */
            {
              volatile mmc_switch_type tmp12;
              int tmp13;
              tmp12 = 0;
              MMC_TRY_INTERNAL(mmc_jumper)
              tmp11_top:
              threadData->mmc_jumper = &new_mmc_jumper;
              for (; tmp12 < 2; tmp12++) {
                switch (MMC_SWITCH_CAST(tmp12)) {
                case 0: {
                  modelica_metatype tmpMeta14;
                  /* Pattern matching succeeded */
                  omc_BackendVariable_getVarSingle(threadData, _currVar, _inAllVars, NULL);

                  _currVar = omc_ComponentReference_crefPrefixDer(threadData, _currVar);

                  _derivedCref = omc_ComponentReference_createDifferentiatedCrefName(threadData, _currVar, _cref, _inMatrixName);

                  _r1 = omc_BackendVariable_copyVarNewName(threadData, _derivedCref, _v);

                  _r1 = omc_BackendVariable_setVarKind(threadData, _r1, _OMC_LIT183);

                  tmpMeta14 = MMC_TAGPTR(mmc_alloc_words(20));
                  memcpy(MMC_UNTAGPTR(tmpMeta14), MMC_UNTAGPTR(_r1), 20*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta14))[17] = mmc_mk_boolean(1 /* true */);
                  _r1 = tmpMeta14;

                  _index = ((modelica_integer) 1) + _index;
                  goto tmp11_done;
                }
                case 1: {
                  /* Pattern matching succeeded */
                  _currVar = omc_ComponentReference_crefPrefixDer(threadData, _currVar);

                  _derivedCref = omc_ComponentReference_createDifferentiatedCrefName(threadData, _currVar, _cref, _inMatrixName);

                  _r1 = omc_BackendVariable_copyVarNewName(threadData, _derivedCref, _v);

                  _r1 = omc_BackendVariable_setVarKind(threadData, _r1, _OMC_LIT183);
                  goto tmp11_done;
                }
                }
                goto tmp11_end;
                tmp11_end: ;
              }
              goto goto_10;
              tmp11_done:
              (void)tmp12;
              MMC_RESTORE_INTERNAL(mmc_jumper);
              goto tmp11_done2;
              goto_10:;
              MMC_CATCH_INTERNAL(mmc_jumper);
              if (++tmp12 < 2) {
                goto tmp11_top;
              }
              goto goto_2;
              tmp11_done2:;
            }
          }
          ;
          tmpMeta15 = mmc_mk_cons(_r1, _iVars);
          /* Tail recursive call */
          _inVars = _restVar;
          _inCref = _cref;
          _inIndex = _index;
          _iVars = tmpMeta15;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta24;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta16 = MMC_CAR(tmp4_1);
          tmpMeta17 = MMC_CDR(tmp4_1);
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta16), 2));
          
          _v = tmpMeta16;
          _currVar = tmpMeta18;
          _restVar = tmpMeta17;
          _cref = tmp4_2;
          _index = tmp4_3;
          /* Pattern matching succeeded */
          { /* matchcontinue expression */
            {
              volatile mmc_switch_type tmp21;
              int tmp22;
              tmp21 = 0;
              MMC_TRY_INTERNAL(mmc_jumper)
              tmp20_top:
              threadData->mmc_jumper = &new_mmc_jumper;
              for (; tmp21 < 2; tmp21++) {
                switch (MMC_SWITCH_CAST(tmp21)) {
                case 0: {
                  modelica_metatype tmpMeta23;
                  /* Pattern matching succeeded */
                  omc_BackendVariable_getVarSingle(threadData, _currVar, _inAllVars, NULL);

                  _derivedCref = omc_ComponentReference_createDifferentiatedCrefName(threadData, _currVar, _cref, _inMatrixName);

                  _r1 = omc_BackendVariable_copyVarNewName(threadData, _derivedCref, _v);

                  _r1 = omc_BackendVariable_setVarKind(threadData, _r1, _OMC_LIT184);

                  tmpMeta23 = MMC_TAGPTR(mmc_alloc_words(20));
                  memcpy(MMC_UNTAGPTR(tmpMeta23), MMC_UNTAGPTR(_r1), 20*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta23))[17] = mmc_mk_boolean(1 /* true */);
                  _r1 = tmpMeta23;

                  _index = ((modelica_integer) 1) + _index;
                  goto tmp20_done;
                }
                case 1: {
                  /* Pattern matching succeeded */
                  _derivedCref = omc_ComponentReference_createDifferentiatedCrefName(threadData, _currVar, _cref, _inMatrixName);

                  _r1 = omc_BackendVariable_copyVarNewName(threadData, _derivedCref, _v);

                  _r1 = omc_BackendVariable_setVarKind(threadData, _r1, _OMC_LIT184);
                  goto tmp20_done;
                }
                }
                goto tmp20_end;
                tmp20_end: ;
              }
              goto goto_19;
              tmp20_done:
              (void)tmp21;
              MMC_RESTORE_INTERNAL(mmc_jumper);
              goto tmp20_done2;
              goto_19:;
              MMC_CATCH_INTERNAL(mmc_jumper);
              if (++tmp21 < 2) {
                goto tmp20_top;
              }
              goto goto_2;
              tmp20_done2:;
            }
          }
          ;
          tmpMeta24 = mmc_mk_cons(_r1, _iVars);
          /* Tail recursive call */
          _inVars = _restVar;
          _inCref = _cref;
          _inIndex = _index;
          _iVars = tmpMeta24;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVars = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVars;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createAllDiffedVarsWork(threadData_t *threadData, modelica_metatype _inVars, modelica_metatype _inCref, modelica_metatype _inAllVars, modelica_metatype _inIndex, modelica_metatype _inMatrixName, modelica_metatype _iVars)
{
  modelica_integer tmp1;
  modelica_metatype _outVars = NULL;
  tmp1 = mmc_unbox_integer(_inIndex);
  _outVars = omc_SymbolicJacobian_createAllDiffedVarsWork(threadData, _inVars, _inCref, _inAllVars, tmp1, _inMatrixName, _iVars);
  /* skip box _outVars; list<BackendDAE.Var> */
  return _outVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createAllDiffedVars(threadData_t *threadData, modelica_metatype _inVars, modelica_metatype _inCref, modelica_metatype _inAllVars, modelica_string _inMatrixName)
{
  modelica_metatype _outVars = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVars has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
          _outVars = omc_SymbolicJacobian_createAllDiffedVarsWork(threadData, _inVars, _inCref, _inAllVars, ((modelica_integer) 0), _inMatrixName, tmpMeta5);
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT180, _OMC_LIT186);

          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _outVars;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_createSeedVars(threadData_t *threadData, modelica_metatype _indiffVar, modelica_string _inMatrixName)
{
  modelica_metatype _outSeedVar = NULL;
  modelica_metatype _derivedCref = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outSeedVar has no default value.
  // _derivedCref has no default value.
  _derivedCref = omc_Differentiate_createSeedCrefName(threadData, _indiffVar, _inMatrixName);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta2 = mmc_mk_box19(3, &BackendDAE_Var_VAR__desc, _derivedCref, _OMC_LIT183, _OMC_LIT187, _OMC_LIT188, omc_ComponentReference_crefLastType(threadData, _derivedCref), mmc_mk_none(), mmc_mk_none(), tmpMeta1, _OMC_LIT14, mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), _OMC_LIT189, _OMC_LIT190, mmc_mk_boolean(1 /* true */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */));
  _outSeedVar = tmpMeta2;
  _return: OMC_LABEL_UNUSED
  return _outSeedVar;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_generateSymbolicJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inVars, modelica_metatype _inDiffedVars, modelica_metatype _inSeedVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParamVars, modelica_string _inMatrixName, modelica_boolean _daeMode, modelica_metatype *out_outFunctions)
{
  modelica_metatype _outJacobian = NULL;
  modelica_metatype _outFunctions = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outJacobian has no default value.
  // _outFunctions has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;volatile modelica_string tmp4_4;
    tmp4_1 = _inBackendDAE;
    tmp4_2 = _inVars;
    tmp4_3 = _inDiffedVars;
    tmp4_4 = _inMatrixName;
    {
      modelica_metatype _functions = NULL;
      modelica_metatype _comref_diffvars = NULL;
      modelica_metatype _x = NULL;
      modelica_string _dummyVarName = NULL;
      modelica_metatype _diffVarsArr = NULL;
      modelica_metatype _diffedVars = NULL;
      modelica_metatype _jacobian = NULL;
      modelica_metatype _orderedVars = NULL;
      modelica_metatype _jacOrderedVars = NULL;
      modelica_metatype _globalKnownVars = NULL;
      modelica_metatype _jacKnownVars = NULL;
      modelica_metatype _orderedEqs = NULL;
      modelica_metatype _jacOrderedEqs = NULL;
      modelica_metatype _diffVars = NULL;
      modelica_metatype _derivedVariables = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _derivedEquations = NULL;
      modelica_metatype _cache = NULL;
      modelica_metatype _graph = NULL;
      modelica_metatype _shared = NULL;
      modelica_string _matrixName = NULL;
      modelica_metatype _ass2 = NULL;
      modelica_metatype _diffData = NULL;
      modelica_metatype _ei = NULL;
      modelica_integer _size;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _functions has no default value.
      // _comref_diffvars has no default value.
      // _x has no default value.
      // _dummyVarName has no default value.
      // _diffVarsArr has no default value.
      // _diffedVars has no default value.
      // _jacobian has no default value.
      // _orderedVars has no default value.
      // _jacOrderedVars has no default value.
      // _globalKnownVars has no default value.
      // _jacKnownVars has no default value.
      // _orderedEqs has no default value.
      // _jacOrderedEqs has no default value.
      // _diffVars has no default value.
      // _derivedVariables has no default value.
      // _eqns has no default value.
      // _derivedEquations has no default value.
      // _cache has no default value.
      // _graph has no default value.
      // _shared has no default value.
      // _matrixName has no default value.
      // _ass2 has no default value.
      // _diffData has no default value.
      // _ei has no default value.
      // _size has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 10));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 11));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 12));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 17));
          
          _cache = tmpMeta7;
          _graph = tmpMeta8;
          _functions = tmpMeta9;
          _ei = tmpMeta10;
          /* Pattern matching succeeded */
          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta11 = mmc_mk_cons(omc_BackendDAEUtil_createEqSystem(threadData, omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013)), omc_BackendEquation_emptyEqns(threadData), tmpMeta12, _OMC_LIT100, omc_BackendEquation_emptyEqns(threadData)), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta13 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta11, omc_BackendDAEUtil_createEmptyShared(threadData, _OMC_LIT191, _ei, _cache, _graph));
          _jacobian = tmpMeta13;
          tmpMeta[0+0] = _jacobian;
          tmpMeta[0+1] = _functions;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (listEmpty(tmpMeta14)) goto tmp3_end;
          tmpMeta15 = MMC_CAR(tmpMeta14);
          tmpMeta16 = MMC_CDR(tmpMeta14);
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 2));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 3));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta19,1,3) == 0) goto tmp3_end;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta19), 3));
          if (!listEmpty(tmpMeta16)) goto tmp3_end;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 2));
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 10));
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 11));
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 12));
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 17));
          
          _orderedVars = tmpMeta17;
          _orderedEqs = tmpMeta18;
          _ass2 = tmpMeta20;
          _globalKnownVars = tmpMeta22;
          _cache = tmpMeta23;
          _graph = tmpMeta24;
          _functions = tmpMeta25;
          _ei = tmpMeta26;
          _diffVars = tmp4_2;
          _diffedVars = tmp4_3;
          _matrixName = tmp4_4;
          /* Pattern matching succeeded */
          tmpMeta27 = stringAppend(_OMC_LIT192,_matrixName);
          _dummyVarName = tmpMeta27;

          tmpMeta28 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta29 = mmc_mk_box4(4, &DAE_ComponentRef_CREF__IDENT__desc, _dummyVarName, _OMC_LIT0, tmpMeta28);
          _x = tmpMeta29;

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta30 = stringAppend(_OMC_LIT193,realString(mmc_clock()));
            tmpMeta31 = stringAppend(tmpMeta30,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta31),stdout);
          }

          _diffVarsArr = omc_BackendVariable_listVar1(threadData, _diffVars);

          _comref_diffvars = omc_List_map(threadData, _diffVars, boxvar_BackendVariable_varCref);

          _diffData = _OMC_LIT195;

          tmpMeta32 = MMC_TAGPTR(mmc_alloc_words(10));
          memcpy(MMC_UNTAGPTR(tmpMeta32), MMC_UNTAGPTR(_diffData), 10*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta32))[2] = mmc_mk_some(_diffVarsArr);
          _diffData = tmpMeta32;

          tmpMeta33 = MMC_TAGPTR(mmc_alloc_words(10));
          memcpy(MMC_UNTAGPTR(tmpMeta33), MMC_UNTAGPTR(_diffData), 10*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta33))[3] = mmc_mk_some(_diffedVars);
          _diffData = tmpMeta33;

          tmpMeta34 = MMC_TAGPTR(mmc_alloc_words(10));
          memcpy(MMC_UNTAGPTR(tmpMeta34), MMC_UNTAGPTR(_diffData), 10*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta34))[4] = mmc_mk_some(_globalKnownVars);
          _diffData = tmpMeta34;

          tmpMeta35 = MMC_TAGPTR(mmc_alloc_words(10));
          memcpy(MMC_UNTAGPTR(tmpMeta35), MMC_UNTAGPTR(_diffData), 10*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta35))[5] = mmc_mk_some(_orderedVars);
          _diffData = tmpMeta35;

          tmpMeta36 = MMC_TAGPTR(mmc_alloc_words(10));
          memcpy(MMC_UNTAGPTR(tmpMeta36), MMC_UNTAGPTR(_diffData), 10*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta36))[7] = _comref_diffvars;
          _diffData = tmpMeta36;

          tmpMeta37 = MMC_TAGPTR(mmc_alloc_words(10));
          memcpy(MMC_UNTAGPTR(tmpMeta37), MMC_UNTAGPTR(_diffData), 10*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta37))[8] = mmc_mk_some(_matrixName);
          _diffData = tmpMeta37;

          _eqns = omc_BackendEquation_equationList(threadData, _orderedEqs);

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta38 = stringAppend(_OMC_LIT196,realString(mmc_clock()));
            tmpMeta39 = stringAppend(tmpMeta38,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta39),stdout);
          }

          _derivedEquations = omc_SymbolicJacobian_deriveAll(threadData, _eqns, arrayList(_ass2), _x, _diffData, _functions, _daeMode ,&_functions);

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta40 = stringAppend(_OMC_LIT197,realString(mmc_clock()));
            tmpMeta41 = stringAppend(tmpMeta40,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta41),stdout);
          }

          _derivedEquations = omc_BackendEquation_replaceDerOpInEquationList(threadData, _derivedEquations);

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta42 = stringAppend(_OMC_LIT198,realString(mmc_clock()));
            tmpMeta43 = stringAppend(tmpMeta42,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta43),stdout);
          }

          _diffVars = omc_BackendVariable_varList(threadData, _orderedVars);

          _derivedVariables = omc_SymbolicJacobian_createAllDiffedVars(threadData, _diffVars, _x, _diffedVars, _matrixName);

          _jacOrderedVars = omc_BackendVariable_listVar1(threadData, _derivedVariables);

          _size = omc_BackendVariable_varsSize(threadData, _orderedVars) + omc_BackendVariable_varsSize(threadData, _globalKnownVars) + omc_BackendVariable_varsSize(threadData, _inSeedVars);

          _jacKnownVars = omc_BackendVariable_emptyVarsSized(threadData, _size);

          _jacKnownVars = omc_BackendVariable_addVariables(threadData, _inSeedVars, _jacKnownVars);

          _jacKnownVars = omc_BackendVariable_traverseBackendDAEVarsWithUpdate(threadData, _jacKnownVars, boxvar_BackendVariable_setVarDirectionTpl, _OMC_LIT187, NULL);

          _jacKnownVars = omc_BackendVariable_addVariables(threadData, _orderedVars, _jacKnownVars);

          _jacKnownVars = omc_BackendVariable_addVariables(threadData, _globalKnownVars, _jacKnownVars);

          _jacOrderedEqs = omc_BackendEquation_listEquation(threadData, _derivedEquations);

          _shared = omc_BackendDAEUtil_createEmptyShared(threadData, _OMC_LIT191, _ei, _cache, _graph);

          tmpMeta45 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta44 = mmc_mk_cons(omc_BackendDAEUtil_createEqSystem(threadData, _jacOrderedVars, _jacOrderedEqs, tmpMeta45, _OMC_LIT100, omc_BackendEquation_emptyEqns(threadData)), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta46 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta44, omc_BackendDAEUtil_setSharedGlobalKnownVars(threadData, _shared, _jacKnownVars));
          _jacobian = tmpMeta46;
          tmpMeta[0+0] = _jacobian;
          tmpMeta[0+1] = _functions;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT199, _OMC_LIT200);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outJacobian = tmpMeta[0+0];
  _outFunctions = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outFunctions) { *out_outFunctions = _outFunctions; }
  return _outJacobian;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_generateSymbolicJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inVars, modelica_metatype _inDiffedVars, modelica_metatype _inSeedVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParamVars, modelica_metatype _inMatrixName, modelica_metatype _daeMode, modelica_metatype *out_outFunctions)
{
  modelica_integer tmp1;
  modelica_metatype _outJacobian = NULL;
  tmp1 = mmc_unbox_integer(_daeMode);
  _outJacobian = omc_SymbolicJacobian_generateSymbolicJacobian(threadData, _inBackendDAE, _inVars, _inDiffedVars, _inSeedVars, _inStateVars, _inInputVars, _inParamVars, _inMatrixName, tmp1, out_outFunctions);
  /* skip box _outJacobian; BackendDAE.BackendDAE */
  /* skip box _outFunctions; DAE.AvlTreePathFunction.Tree */
  return _outJacobian;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_optimizeJacobianMatrix(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inComRef1, modelica_metatype _inComRef2)
{
  modelica_metatype _outJacobian = NULL;
  modelica_metatype _ea = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _eMatching = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outJacobian has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _ea = listArray(tmpMeta1);
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta3 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _ea, _ea, tmpMeta2);
  _eMatching = tmpMeta3;
  { /* matchcontinue expression */
    volatile modelica_metatype tmp7_1;volatile modelica_metatype tmp7_2;volatile modelica_metatype tmp7_3;
    tmp7_1 = _inBackendDAE;
    tmp7_2 = _inComRef1;
    tmp7_3 = _inComRef2;
    {
      modelica_metatype _backendDAE = NULL;
      modelica_metatype _backendDAE2 = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_boolean _b;
      modelica_metatype _strPostOptModules = NULL;
      volatile mmc_switch_type tmp7;
      int tmp8;
      // _backendDAE has no default value.
      // _backendDAE2 has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _b has no default value.
      // _strPostOptModules has no default value.
      tmp7 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp6_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp7 < 4; tmp7++) {
        switch (MMC_SWITCH_CAST(tmp7)) {
        case 0: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (!listEmpty(tmp7_2)) goto tmp6_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 2));
          if (listEmpty(tmpMeta9)) goto tmp6_end;
          tmpMeta10 = MMC_CAR(tmpMeta9);
          tmpMeta11 = MMC_CDR(tmpMeta9);
          if (!listEmpty(tmpMeta11)) goto tmp6_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 3));
          
          _syst = tmpMeta10;
          _shared = tmpMeta12;
          /* Pattern matching succeeded */
          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[2] = omc_BackendVariable_listVar(threadData, tmpMeta14);
          _syst = tmpMeta13;

          tmpMeta15 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta15), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta15))[7] = _eMatching;
          _syst = tmpMeta15;
          tmpMeta16 = mmc_mk_cons(_syst, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta17 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta16, _shared);
          tmpMeta4 = tmpMeta17;
          goto tmp6_done;
        }
        case 1: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          if (!listEmpty(tmp7_3)) goto tmp6_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 2));
          if (listEmpty(tmpMeta18)) goto tmp6_end;
          tmpMeta19 = MMC_CAR(tmpMeta18);
          tmpMeta20 = MMC_CDR(tmpMeta18);
          if (!listEmpty(tmpMeta20)) goto tmp6_end;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 3));
          
          _syst = tmpMeta19;
          _shared = tmpMeta21;
          /* Pattern matching succeeded */
          tmpMeta23 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta22 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta22), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta22))[2] = omc_BackendVariable_listVar(threadData, tmpMeta23);
          _syst = tmpMeta22;

          tmpMeta24 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta24), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta24))[7] = _eMatching;
          _syst = tmpMeta24;
          tmpMeta25 = mmc_mk_cons(_syst, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta26 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta25, _shared);
          tmpMeta4 = tmpMeta26;
          goto tmp6_done;
        }
        case 2: {
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          
          _backendDAE = tmp7_1;
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta27 = stringAppend(_OMC_LIT201,realString(mmc_clock()));
            tmpMeta28 = stringAppend(tmpMeta27,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta28),stdout);
          }

          if(omc_Flags_isSet(threadData, _OMC_LIT111))
          {
            omc_BackendDump_bltdump(threadData, _OMC_LIT206, _backendDAE);
          }
          else
          {
            _b = omc_FlagsUtil_disableDebug(threadData, _OMC_LIT205);
          }

          _strPostOptModules = _OMC_LIT222;

          if(omc_Flags_isSet(threadData, _OMC_LIT227))
          {
            _strPostOptModules = omc_List_insert(threadData, _strPostOptModules, ((modelica_integer) 4), _OMC_LIT223);
          }

          _backendDAE2 = omc_BackendDAEUtil_getSolvedSystemforJacobians(threadData, _backendDAE, _OMC_LIT232, mmc_mk_none(), mmc_mk_none(), _strPostOptModules);

          if(omc_Flags_isSet(threadData, _OMC_LIT111))
          {
            omc_BackendDump_bltdump(threadData, _OMC_LIT206, _backendDAE2);
          }
          else
          {
            omc_FlagsUtil_set(threadData, _OMC_LIT205, _b);
          }
          tmpMeta4 = _backendDAE2;
          goto tmp6_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT233, _OMC_LIT234);
          goto goto_5;
          goto tmp6_done;
        }
        }
        goto tmp6_end;
        tmp6_end: ;
      }
      goto goto_5;
      tmp6_done:
      (void)tmp7;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp6_done2;
      goto_5:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp7 < 4) {
        goto tmp6_top;
      }
      MMC_THROW_INTERNAL();
      tmp6_done2:;
    }
  }
  _outJacobian = tmpMeta4;
  _return: OMC_LABEL_UNUSED
  return _outJacobian;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inDiffVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParameterVars, modelica_metatype _inDifferentiatedVars, modelica_metatype _inVars, modelica_string _inName, modelica_boolean _daeMode, modelica_metatype *out_outFunctionTree)
{
  modelica_metatype _outJacobian = NULL;
  modelica_metatype _outFunctionTree = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outJacobian has no default value.
  // _outFunctionTree has no default value.
  
  
  { /* matchcontinue expression */
    {
      modelica_metatype _backendDAE = NULL;
      modelica_metatype _reducedDAE = NULL;
      modelica_metatype _comref_vars = NULL;
      modelica_metatype _comref_differentiatedVars = NULL;
      modelica_metatype _dependencies = NULL;
      modelica_metatype _diffedVars = NULL;
      modelica_metatype _seedlst = NULL;
      modelica_metatype _indepVars = NULL;
      modelica_metatype _funcs = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _backendDAE has no default value.
      // _reducedDAE has no default value.
      // _comref_vars has no default value.
      // _comref_differentiatedVars has no default value.
      // _dependencies has no default value.
      // _diffedVars has no default value.
      // _seedlst has no default value.
      // _indepVars has no default value.
      // _funcs has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          /* Pattern matching succeeded */
          _diffedVars = omc_BackendVariable_varList(threadData, _inDifferentiatedVars);

          _comref_differentiatedVars = omc_List_map(threadData, _diffedVars, boxvar_BackendVariable_varCref);

          _reducedDAE = omc_BackendDAEUtil_reduceEqSystemsInDAE(threadData, _inBackendDAE, _diffedVars, 1 /* true */);

          _indepVars = omc_SymbolicJacobian_createInDepVars(threadData, _inDiffVars, 0 /* false */, NULL);

          _comref_vars = omc_List_map(threadData, _inDiffVars, boxvar_BackendVariable_varCref);

          _seedlst = omc_List_map1(threadData, _comref_vars, boxvar_SymbolicJacobian_createSeedVars, _inName);

          if(omc_Flags_isSet(threadData, _OMC_LIT111))
          {
            fputs(MMC_STRINGDATA(_OMC_LIT235),stdout);

            fputs(MMC_STRINGDATA(omc_BackendDump_varListString(threadData, _indepVars, _OMC_LIT236)),stdout);

            fputs(MMC_STRINGDATA(omc_BackendDump_varListString(threadData, _diffedVars, _OMC_LIT237)),stdout);

            fputs(MMC_STRINGDATA(_OMC_LIT238),stdout);

            fputs(MMC_STRINGDATA(omc_BackendDump_equationListString(threadData, omc_BackendEquation_equationSystemsEqnsLst(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_reducedDAE), 2)))), _OMC_LIT239)),stdout);

            fputs(MMC_STRINGDATA(omc_BackendDump_varListString(threadData, omc_BackendVariable_equationSystemsVarsLst(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_reducedDAE), 2)))), _OMC_LIT240)),stdout);

            fputs(MMC_STRINGDATA(omc_BackendDump_varListString(threadData, omc_BackendVariable_varList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_reducedDAE), 3)))), 2)))), _OMC_LIT241)),stdout);
          }

          /* Pattern-matching tuple assignment */
          tmpMeta7 = omc_SymbolicJacobian_generateSymbolicJacobian(threadData, _reducedDAE, _indepVars, _inDifferentiatedVars, omc_BackendVariable_listVar1(threadData, _seedlst), _inStateVars, _inInputVars, _inParameterVars, _inName, _daeMode, &tmpMeta6);
          _backendDAE = tmpMeta7;
          _funcs = tmpMeta6;

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta8 = stringAppend(_OMC_LIT242,_inName);
            tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT159);
            tmpMeta10 = stringAppend(tmpMeta9,realString(mmc_clock()));
            tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta11),stdout);
          }

          _backendDAE = omc_BackendDAEUtil_setFunctionTree(threadData, _backendDAE, _funcs);

          _backendDAE = omc_SymbolicJacobian_optimizeJacobianMatrix(threadData, _backendDAE, _comref_differentiatedVars, _comref_vars);

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta12 = stringAppend(_OMC_LIT243,realString(mmc_clock()));
            tmpMeta13 = stringAppend(tmpMeta12,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta13),stdout);
          }

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta18 = mmc_mk_box6(0, _backendDAE, _OMC_LIT11, tmpMeta14, tmpMeta15, tmpMeta16, tmpMeta17);
          _dependencies = omc_SymbolicJacobian_calcJacobianDependencies(threadData, tmpMeta18);
          tmpMeta19 = mmc_mk_box6(0, _backendDAE, _inName, _inDiffVars, _diffedVars, _inVars, _dependencies);
          tmpMeta[0+0] = tmpMeta19;
          tmpMeta[0+1] = _funcs;
          goto tmp3_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT244, _OMC_LIT245);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outJacobian = tmpMeta[0+0];
  _outFunctionTree = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outFunctionTree) { *out_outFunctionTree = _outFunctionTree; }
  return _outJacobian;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inDiffVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParameterVars, modelica_metatype _inDifferentiatedVars, modelica_metatype _inVars, modelica_metatype _inName, modelica_metatype _daeMode, modelica_metatype *out_outFunctionTree)
{
  modelica_integer tmp1;
  modelica_metatype _outJacobian = NULL;
  tmp1 = mmc_unbox_integer(_daeMode);
  _outJacobian = omc_SymbolicJacobian_createJacobian(threadData, _inBackendDAE, _inDiffVars, _inStateVars, _inInputVars, _inParameterVars, _inDifferentiatedVars, _inVars, _inName, tmp1, out_outFunctionTree);
  /* skip box _outJacobian; tuple<BackendDAE.BackendDAE, String, list<BackendDAE.Var>, list<BackendDAE.Var>, list<BackendDAE.Var>, list<DAE.ComponentRef>> */
  /* skip box _outFunctionTree; DAE.AvlTreePathFunction.Tree */
  return _outJacobian;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_generateGenericJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inDiffVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParameterVars, modelica_metatype _inDifferentiatedVars, modelica_metatype _inVars, modelica_string _inName, modelica_boolean _onlySparsePattern, modelica_boolean _daeMode, modelica_metatype *out_outFunctionTree, modelica_metatype *out_outSparsePattern, modelica_metatype *out_outSparseColoring, modelica_metatype *out_nonlinearPattern)
{
  modelica_metatype _outJacobian = NULL;
  modelica_metatype _outFunctionTree = NULL;
  modelica_metatype _outSparsePattern = NULL;
  modelica_metatype _outSparseColoring = NULL;
  modelica_metatype _nonlinearPattern = NULL;
  modelica_metatype _symbolicJacobian = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _jacDAE = NULL;
  modelica_metatype _jacDiffedVars = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outJacobian has no default value.
  // _outFunctionTree has no default value.
  // _outSparsePattern has no default value.
  // _outSparseColoring has no default value.
  // _nonlinearPattern has no default value.
  // _symbolicJacobian has no default value.
  _shared = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inBackendDAE), 3)));
  // _jacDAE has no default value.
  // _jacDiffedVars has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_boolean tmp5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          /* Pattern matching succeeded */
          _outFunctionTree = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 12)));

          if((!_onlySparsePattern))
          {
            _symbolicJacobian = omc_SymbolicJacobian_createJacobian(threadData, _inBackendDAE, _inDiffVars, _inStateVars, _inInputVars, _inParameterVars, _inDifferentiatedVars, _inVars, _inName, _daeMode ,&_outFunctionTree);

            /* Pattern-matching assignment */
            tmp5 = omc_SymbolicJacobian_checkForNonLinearStrongComponents(threadData, _symbolicJacobian);
            if (1 /* true */ != tmp5) goto goto_1;

            _outJacobian = mmc_mk_some(_symbolicJacobian);

            /* Pattern-matching assignment */
            tmpMeta6 = _symbolicJacobian;
            tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
            _jacDAE = tmpMeta7;

            _jacDiffedVars = omc_SymbolicJacobian_getJacobianResiduals(threadData, _jacDAE);

            _nonlinearPattern = omc_SymbolicJacobian_generateSparsePattern(threadData, omc_BackendDAEUtil_copyBackendDAE(threadData, _jacDAE), _inDiffVars, _jacDiffedVars, 1 /* true */, NULL);

            _nonlinearPattern = omc_SymbolicJacobian_stripPartialDerNonlinearPattern(threadData, _nonlinearPattern);
          }
          else
          {
            _outJacobian = mmc_mk_none();

            _nonlinearPattern = _OMC_LIT71;
          }

          if((!(stringEqual(_inName, _OMC_LIT246))))
          {
            _outSparsePattern = omc_SymbolicJacobian_generateSparsePattern(threadData, _inBackendDAE, _inDiffVars, omc_BackendVariable_varList(threadData, _inDifferentiatedVars), 0 /* false */ ,&_outSparseColoring);
          }
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_outFunctionTree) { *out_outFunctionTree = _outFunctionTree; }
  if (out_outSparsePattern) { *out_outSparsePattern = _outSparsePattern; }
  if (out_outSparseColoring) { *out_outSparseColoring = _outSparseColoring; }
  if (out_nonlinearPattern) { *out_nonlinearPattern = _nonlinearPattern; }
  return _outJacobian;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_generateGenericJacobian(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inDiffVars, modelica_metatype _inStateVars, modelica_metatype _inInputVars, modelica_metatype _inParameterVars, modelica_metatype _inDifferentiatedVars, modelica_metatype _inVars, modelica_metatype _inName, modelica_metatype _onlySparsePattern, modelica_metatype _daeMode, modelica_metatype *out_outFunctionTree, modelica_metatype *out_outSparsePattern, modelica_metatype *out_outSparseColoring, modelica_metatype *out_nonlinearPattern)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outJacobian = NULL;
  tmp1 = mmc_unbox_integer(_onlySparsePattern);
  tmp2 = mmc_unbox_integer(_daeMode);
  _outJacobian = omc_SymbolicJacobian_generateGenericJacobian(threadData, _inBackendDAE, _inDiffVars, _inStateVars, _inInputVars, _inParameterVars, _inDifferentiatedVars, _inVars, _inName, tmp1, tmp2, out_outFunctionTree, out_outSparsePattern, out_outSparseColoring, out_nonlinearPattern);
  /* skip box _outJacobian; Option<tuple<BackendDAE.BackendDAE, String, list<BackendDAE.Var>, list<BackendDAE.Var>, list<BackendDAE.Var>, list<DAE.ComponentRef>>> */
  /* skip box _outFunctionTree; DAE.AvlTreePathFunction.Tree */
  /* skip box _outSparsePattern; tuple<list<tuple<DAE.ComponentRef, list<DAE.ComponentRef>>>, list<tuple<DAE.ComponentRef, list<DAE.ComponentRef>>>, tuple<list<DAE.ComponentRef>, list<DAE.ComponentRef>>, #Integer> */
  /* skip box _outSparseColoring; list<list<DAE.ComponentRef>> */
  /* skip box _nonlinearPattern; tuple<list<tuple<DAE.ComponentRef, list<DAE.ComponentRef>>>, list<tuple<DAE.ComponentRef, list<DAE.ComponentRef>>>, tuple<list<DAE.ComponentRef>, list<DAE.ComponentRef>>, #Integer> */
  return _outJacobian;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createLinearModelMatrices(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_boolean _useOptimica, modelica_metatype *out_outFunctionTree)
{
  modelica_metatype _outJacobianMatrices = NULL;
  modelica_metatype _outFunctionTree = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outJacobianMatrices has no default value.
  // _outFunctionTree has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_boolean tmp4_2;
    tmp4_1 = _inBackendDAE;
    tmp4_2 = _useOptimica;
    {
      modelica_metatype _backendDAE = NULL;
      modelica_metatype _backendDAE2 = NULL;
      modelica_metatype _varlst = NULL;
      modelica_metatype _knvarlst = NULL;
      modelica_metatype _states = NULL;
      modelica_metatype _inputvars = NULL;
      modelica_metatype _inputvars2 = NULL;
      modelica_metatype _outputvars = NULL;
      modelica_metatype _paramvars = NULL;
      modelica_metatype _states_inputs = NULL;
      modelica_metatype _conVarsList = NULL;
      modelica_metatype _fconVarsList = NULL;
      modelica_metatype _object = NULL;
      modelica_metatype _v = NULL;
      modelica_metatype _globalKnownVars = NULL;
      modelica_metatype _statesarr = NULL;
      modelica_metatype _inputvarsarr = NULL;
      modelica_metatype _paramvarsarr = NULL;
      modelica_metatype _outputvarsarr = NULL;
      modelica_metatype _optimizer_vars = NULL;
      modelica_metatype _conVars = NULL;
      modelica_metatype _linearModelMatrices = NULL;
      modelica_metatype _linearModelMatrix = NULL;
      modelica_metatype _sparsePattern = NULL;
      modelica_metatype _sparseColoring = NULL;
      modelica_metatype _nonlinearPattern = NULL;
      modelica_metatype _funcs = NULL;
      modelica_metatype _functionTree = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _backendDAE has no default value.
      // _backendDAE2 has no default value.
      // _varlst has no default value.
      // _knvarlst has no default value.
      // _states has no default value.
      // _inputvars has no default value.
      // _inputvars2 has no default value.
      // _outputvars has no default value.
      // _paramvars has no default value.
      // _states_inputs has no default value.
      // _conVarsList has no default value.
      // _fconVarsList has no default value.
      // _object has no default value.
      // _v has no default value.
      // _globalKnownVars has no default value.
      // _statesarr has no default value.
      // _inputvarsarr has no default value.
      // _paramvarsarr has no default value.
      // _outputvarsarr has no default value.
      // _optimizer_vars has no default value.
      // _conVars has no default value.
      // _linearModelMatrices has no default value.
      // _linearModelMatrix has no default value.
      // _sparsePattern has no default value.
      // _sparseColoring has no default value.
      // _nonlinearPattern has no default value.
      // _funcs has no default value.
      // _functionTree has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          if (0 /* false */ != tmp4_2) goto tmp3_end;
          
          _backendDAE = tmp4_1;
          /* Pattern matching succeeded */
          _backendDAE2 = omc_BackendDAEUtil_copyBackendDAE(threadData, _backendDAE);

          _backendDAE2 = omc_BackendDAEOptimize_collapseIndependentBlocks(threadData, _backendDAE2);

          _backendDAE2 = omc_BackendDAEUtil_transformBackendDAE(threadData, _backendDAE2, _OMC_LIT105, mmc_mk_none(), mmc_mk_none());

          /* Pattern-matching assignment */
          tmpMeta6 = _backendDAE2;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (listEmpty(tmpMeta7)) goto goto_2;
          tmpMeta8 = MMC_CAR(tmpMeta7);
          tmpMeta9 = MMC_CDR(tmpMeta7);
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          if (!listEmpty(tmpMeta9)) goto goto_2;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          _v = tmpMeta10;
          _globalKnownVars = tmpMeta12;

          _varlst = omc_BackendVariable_varList(threadData, _v);

          _knvarlst = omc_BackendVariable_varList(threadData, _globalKnownVars);

          _states = omc_BackendVariable_getAllStateVarFromVariables(threadData, _v);

          _inputvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isInput);

          _paramvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isParam);

          _inputvars2 = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isVarOnTopLevelAndInput);

          _outputvars = omc_List_select(threadData, _varlst, boxvar_BackendVariable_isVarOnTopLevelAndOutput);

          _statesarr = omc_BackendVariable_listVar1(threadData, _states);

          _inputvarsarr = omc_BackendVariable_listVar1(threadData, _inputvars);

          _paramvarsarr = omc_BackendVariable_listVar1(threadData, _paramvars);

          _outputvarsarr = omc_BackendVariable_listVar1(threadData, _outputvars);

          _linearModelMatrix = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE2, _states, _statesarr, _inputvarsarr, _paramvarsarr, _statesarr, _varlst, _OMC_LIT247, 0 /* false */, 0 /* false */ ,&_functionTree ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

          _backendDAE2 = omc_BackendDAEUtil_setFunctionTree(threadData, _backendDAE2, _functionTree);

          tmpMeta14 = mmc_mk_box4(0, _linearModelMatrix, _sparsePattern, _sparseColoring, _nonlinearPattern);
          tmpMeta13 = mmc_mk_cons(tmpMeta14, MMC_REFSTRUCTLIT(mmc_nil));
          _linearModelMatrices = tmpMeta13;

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta15 = stringAppend(_OMC_LIT248,realString(mmc_clock()));
            tmpMeta16 = stringAppend(tmpMeta15,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta16),stdout);
          }

          _linearModelMatrix = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE2, _inputvars2, _statesarr, _inputvarsarr, _paramvarsarr, _statesarr, _varlst, _OMC_LIT249, 0 /* false */, 0 /* false */ ,&_funcs ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

          _functionTree = omc_DAE_AvlTreePathFunction_join(threadData, _functionTree, _funcs, boxvar_DAE_AvlTreePathFunction_addConflictDefault);

          _backendDAE2 = omc_BackendDAEUtil_setFunctionTree(threadData, _backendDAE2, _functionTree);

          tmpMeta18 = mmc_mk_box4(0, _linearModelMatrix, _sparsePattern, _sparseColoring, _nonlinearPattern);
          tmpMeta17 = mmc_mk_cons(tmpMeta18, _linearModelMatrices);
          _linearModelMatrices = tmpMeta17;

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta19 = stringAppend(_OMC_LIT250,realString(mmc_clock()));
            tmpMeta20 = stringAppend(tmpMeta19,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta20),stdout);
          }

          _linearModelMatrix = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE2, _states, _statesarr, _inputvarsarr, _paramvarsarr, _outputvarsarr, _varlst, _OMC_LIT251, 0 /* false */, 0 /* false */ ,&_funcs ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

          _functionTree = omc_DAE_AvlTreePathFunction_join(threadData, _functionTree, _funcs, boxvar_DAE_AvlTreePathFunction_addConflictDefault);

          _backendDAE2 = omc_BackendDAEUtil_setFunctionTree(threadData, _backendDAE2, _functionTree);

          tmpMeta22 = mmc_mk_box4(0, _linearModelMatrix, _sparsePattern, _sparseColoring, _nonlinearPattern);
          tmpMeta21 = mmc_mk_cons(tmpMeta22, _linearModelMatrices);
          _linearModelMatrices = tmpMeta21;

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta23 = stringAppend(_OMC_LIT252,realString(mmc_clock()));
            tmpMeta24 = stringAppend(tmpMeta23,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta24),stdout);
          }

          _linearModelMatrix = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE2, _inputvars2, _statesarr, _inputvarsarr, _paramvarsarr, _outputvarsarr, _varlst, _OMC_LIT253, 0 /* false */, 0 /* false */ ,&_funcs ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

          _functionTree = omc_DAE_AvlTreePathFunction_join(threadData, _functionTree, _funcs, boxvar_DAE_AvlTreePathFunction_addConflictDefault);

          tmpMeta26 = mmc_mk_box4(0, _linearModelMatrix, _sparsePattern, _sparseColoring, _nonlinearPattern);
          tmpMeta25 = mmc_mk_cons(tmpMeta26, _linearModelMatrices);
          _linearModelMatrices = tmpMeta25;

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta27 = stringAppend(_OMC_LIT254,realString(mmc_clock()));
            tmpMeta28 = stringAppend(tmpMeta27,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta28),stdout);
          }
          tmpMeta[0+0] = listReverse(_linearModelMatrices);
          tmpMeta[0+1] = _functionTree;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          if (1 /* true */ != tmp4_2) goto tmp3_end;
          
          _backendDAE = tmp4_1;
          /* Pattern matching succeeded */
          _backendDAE2 = omc_BackendDAEUtil_copyBackendDAE(threadData, _backendDAE);

          _backendDAE2 = omc_BackendDAEOptimize_collapseIndependentBlocks(threadData, _backendDAE2);

          _backendDAE2 = omc_BackendDAEUtil_transformBackendDAE(threadData, _backendDAE2, _OMC_LIT105, mmc_mk_none(), mmc_mk_none());

          /* Pattern-matching assignment */
          tmpMeta29 = _backendDAE2;
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta29), 2));
          if (listEmpty(tmpMeta30)) goto goto_2;
          tmpMeta31 = MMC_CAR(tmpMeta30);
          tmpMeta32 = MMC_CDR(tmpMeta30);
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta31), 2));
          if (!listEmpty(tmpMeta32)) goto goto_2;
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta29), 3));
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta34), 2));
          _v = tmpMeta33;
          _globalKnownVars = tmpMeta35;

          _varlst = omc_BackendVariable_varList(threadData, _v);

          _knvarlst = omc_BackendVariable_varList(threadData, _globalKnownVars);

          _states = omc_BackendVariable_getAllStateVarFromVariables(threadData, _v);

          _inputvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isInput);

          _paramvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isParam);

          _inputvars2 = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isVarOnTopLevelAndInputNoDerInput);

          _outputvars = omc_List_select(threadData, _varlst, boxvar_BackendVariable_isVarOnTopLevelAndOutput);

          _conVarsList = omc_List_select(threadData, _varlst, boxvar_BackendVariable_isRealOptimizeConstraintsVars);

          _fconVarsList = omc_List_select(threadData, _varlst, boxvar_BackendVariable_isRealOptimizeFinalConstraintsVars);

          _states_inputs = listAppend(_states, _inputvars2);

          _statesarr = omc_BackendVariable_listVar1(threadData, _states);

          _inputvarsarr = omc_BackendVariable_listVar1(threadData, _inputvars);

          _paramvarsarr = omc_BackendVariable_listVar1(threadData, _paramvars);

          _outputvarsarr = omc_BackendVariable_listVar1(threadData, _outputvars);

          _conVars = omc_BackendVariable_listVar1(threadData, _conVarsList);

          _linearModelMatrix = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE2, _states, _statesarr, _inputvarsarr, _paramvarsarr, _statesarr, _varlst, _OMC_LIT247, 0 /* false */, 0 /* false */ ,&_functionTree ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

          _backendDAE2 = omc_BackendDAEUtil_setFunctionTree(threadData, _backendDAE2, _functionTree);

          tmpMeta37 = mmc_mk_box4(0, _linearModelMatrix, _sparsePattern, _sparseColoring, _nonlinearPattern);
          tmpMeta36 = mmc_mk_cons(tmpMeta37, MMC_REFSTRUCTLIT(mmc_nil));
          _linearModelMatrices = tmpMeta36;

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta38 = stringAppend(_OMC_LIT248,realString(mmc_clock()));
            tmpMeta39 = stringAppend(tmpMeta38,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta39),stdout);
          }

          _optimizer_vars = omc_BackendVariable_addVariables(threadData, _statesarr, omc_BackendVariable_copyVariables(threadData, _conVars));

          _object = omc_DynamicOptimization_checkObjectIsSet(threadData, _outputvarsarr, _OMC_LIT255);

          _optimizer_vars = omc_BackendVariable_addVars(threadData, _object, _optimizer_vars);

          _linearModelMatrix = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE2, _states_inputs, _statesarr, _inputvarsarr, _paramvarsarr, _optimizer_vars, _varlst, _OMC_LIT249, 0 /* false */, 0 /* false */ ,&_funcs ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

          _functionTree = omc_DAE_AvlTreePathFunction_join(threadData, _functionTree, _funcs, boxvar_DAE_AvlTreePathFunction_addConflictDefault);

          _backendDAE2 = omc_BackendDAEUtil_setFunctionTree(threadData, _backendDAE2, _functionTree);

          tmpMeta41 = mmc_mk_box4(0, _linearModelMatrix, _sparsePattern, _sparseColoring, _nonlinearPattern);
          tmpMeta40 = mmc_mk_cons(tmpMeta41, _linearModelMatrices);
          _linearModelMatrices = tmpMeta40;

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta42 = stringAppend(_OMC_LIT250,realString(mmc_clock()));
            tmpMeta43 = stringAppend(tmpMeta42,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta43),stdout);
          }

          _object = omc_DynamicOptimization_checkObjectIsSet(threadData, _outputvarsarr, _OMC_LIT256);

          _optimizer_vars = omc_BackendVariable_addVars(threadData, _object, _optimizer_vars);

          _linearModelMatrix = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE2, _states_inputs, _statesarr, _inputvarsarr, _paramvarsarr, _optimizer_vars, _varlst, _OMC_LIT251, 0 /* false */, 0 /* false */ ,&_funcs ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

          _functionTree = omc_DAE_AvlTreePathFunction_join(threadData, _functionTree, _funcs, boxvar_DAE_AvlTreePathFunction_addConflictDefault);

          _backendDAE2 = omc_BackendDAEUtil_setFunctionTree(threadData, _backendDAE2, _functionTree);

          tmpMeta45 = mmc_mk_box4(0, _linearModelMatrix, _sparsePattern, _sparseColoring, _nonlinearPattern);
          tmpMeta44 = mmc_mk_cons(tmpMeta45, _linearModelMatrices);
          _linearModelMatrices = tmpMeta44;

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta46 = stringAppend(_OMC_LIT252,realString(mmc_clock()));
            tmpMeta47 = stringAppend(tmpMeta46,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta47),stdout);
          }

          _optimizer_vars = omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013));

          _optimizer_vars = omc_BackendVariable_listVar1(threadData, _fconVarsList);

          _linearModelMatrix = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE2, _states_inputs, _statesarr, _inputvarsarr, _paramvarsarr, _optimizer_vars, _varlst, _OMC_LIT253, 0 /* false */, 0 /* false */ ,&_funcs ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

          _functionTree = omc_DAE_AvlTreePathFunction_join(threadData, _functionTree, _funcs, boxvar_DAE_AvlTreePathFunction_addConflictDefault);

          tmpMeta49 = mmc_mk_box4(0, _linearModelMatrix, _sparsePattern, _sparseColoring, _nonlinearPattern);
          tmpMeta48 = mmc_mk_cons(tmpMeta49, _linearModelMatrices);
          _linearModelMatrices = tmpMeta48;

          if(omc_Flags_isSet(threadData, _OMC_LIT94))
          {
            tmpMeta50 = stringAppend(_OMC_LIT254,realString(mmc_clock()));
            tmpMeta51 = stringAppend(tmpMeta50,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta51),stdout);
          }
          tmpMeta[0+0] = listReverse(_linearModelMatrices);
          tmpMeta[0+1] = _functionTree;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT257, _OMC_LIT258);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outJacobianMatrices = tmpMeta[0+0];
  _outFunctionTree = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outFunctionTree) { *out_outFunctionTree = _outFunctionTree; }
  return _outJacobianMatrices;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createLinearModelMatrices(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _useOptimica, modelica_metatype *out_outFunctionTree)
{
  modelica_integer tmp1;
  modelica_metatype _outJacobianMatrices = NULL;
  tmp1 = mmc_unbox_integer(_useOptimica);
  _outJacobianMatrices = omc_SymbolicJacobian_createLinearModelMatrices(threadData, _inBackendDAE, tmp1, out_outFunctionTree);
  /* skip box _outJacobianMatrices; list<tuple<Option<tuple<BackendDAE.BackendDAE, String, list<BackendDAE.Var>, list<BackendDAE.Var>, list<BackendDAE.Var>, list<DAE.ComponentRef>>>, tuple<list<tuple<DAE.ComponentRef, list<DAE.ComponentRef>>>, list<tuple<DAE.ComponentRef, list<DAE.ComponentRef>>>, tuple<list<DAE.ComponentRef>, list<DAE.ComponentRef>>, #Integer>, list<list<DAE.ComponentRef>>, tuple<list<tuple<DAE.ComponentRef, list<DAE.ComponentRef>>>, list<tuple<DAE.ComponentRef, list<DAE.ComponentRef>>>, tuple<list<DAE.ComponentRef>, list<DAE.ComponentRef>>, #Integer>>> */
  /* skip box _outFunctionTree; DAE.AvlTreePathFunction.Tree */
  return _outJacobianMatrices;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_createFMIModelDerivativesForInitialization(threadData_t *threadData, modelica_metatype _initDAE, modelica_metatype _simDAE, modelica_metatype _depVars, modelica_metatype _indepVars, modelica_metatype _orderedVars, modelica_metatype _sparsePattern_, modelica_metatype _sparseColoring_)
{
  modelica_metatype _outJacobianMatrices = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _backendDAE = NULL;
  modelica_metatype _backendDAE_1 = NULL;
  modelica_metatype _emptyBDAE = NULL;
  modelica_metatype _eqSyst = NULL;
  modelica_metatype _currentSystem = NULL;
  modelica_metatype _outJacobian = NULL;
  modelica_metatype _varlst = NULL;
  modelica_metatype _knvarlst = NULL;
  modelica_metatype _states = NULL;
  modelica_metatype _inputvars = NULL;
  modelica_metatype _outputvars = NULL;
  modelica_metatype _paramvars = NULL;
  modelica_metatype _indepVars_1 = NULL;
  modelica_metatype _depVars_1 = NULL;
  modelica_metatype _v = NULL;
  modelica_metatype _globalKnownVars = NULL;
  modelica_metatype _statesarr = NULL;
  modelica_metatype _inputvarsarr = NULL;
  modelica_metatype _paramvarsarr = NULL;
  modelica_metatype _outputvarsarr = NULL;
  modelica_metatype _depVarsArr = NULL;
  modelica_metatype _sparsePattern = NULL;
  modelica_metatype _sparseColoring = NULL;
  modelica_metatype _funcs = NULL;
  modelica_metatype _functionTree = NULL;
  modelica_metatype _ei = NULL;
  modelica_metatype _cache = NULL;
  modelica_metatype _graph = NULL;
  modelica_metatype _newEqArray = NULL;
  modelica_metatype _newOrderedEquationArray = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _lhs = NULL;
  modelica_metatype _rhs = NULL;
  modelica_metatype _eqn = NULL;
  modelica_metatype _eqlistToRemove = NULL;
  modelica_metatype _cr = NULL;
  modelica_metatype _crefsVarsToRemove = NULL;
  modelica_metatype _newVars = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _outJacobianMatrices = tmpMeta1;
  // _backendDAE has no default value.
  // _backendDAE_1 has no default value.
  // _emptyBDAE has no default value.
  // _eqSyst has no default value.
  // _currentSystem has no default value.
  // _outJacobian has no default value.
  // _varlst has no default value.
  // _knvarlst has no default value.
  // _states has no default value.
  // _inputvars has no default value.
  // _outputvars has no default value.
  // _paramvars has no default value.
  // _indepVars_1 has no default value.
  // _depVars_1 has no default value.
  // _v has no default value.
  // _globalKnownVars has no default value.
  // _statesarr has no default value.
  // _inputvarsarr has no default value.
  // _paramvarsarr has no default value.
  // _outputvarsarr has no default value.
  // _depVarsArr has no default value.
  // _sparsePattern has no default value.
  // _sparseColoring has no default value.
  // _funcs has no default value.
  // _functionTree has no default value.
  // _ei has no default value.
  // _cache has no default value.
  // _graph has no default value.
  // _newEqArray has no default value.
  // _newOrderedEquationArray has no default value.
  // _shared has no default value.
  // _lhs has no default value.
  // _rhs has no default value.
  // _eqn has no default value.
  // _eqlistToRemove has no default value.
  // _cr has no default value.
  // _crefsVarsToRemove has no default value.
  // _newVars has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_boolean tmp26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          /* Pattern matching succeeded */
          _backendDAE_1 = omc_BackendDAEUtil_copyBackendDAE(threadData, _initDAE);

          _backendDAE_1 = omc_BackendDAEOptimize_collapseIndependentBlocks(threadData, _backendDAE_1);

          /* Pattern-matching assignment */
          tmpMeta6 = _backendDAE_1;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (listEmpty(tmpMeta7)) goto goto_2;
          tmpMeta8 = MMC_CAR(tmpMeta7);
          tmpMeta9 = MMC_CDR(tmpMeta7);
          if (!listEmpty(tmpMeta9)) goto goto_2;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          _currentSystem = tmpMeta8;
          _shared = tmpMeta10;

          {
            modelica_metatype _var;
            for (tmpMeta11 = _depVars; !listEmpty(tmpMeta11); tmpMeta11=MMC_CDR(tmpMeta11))
            {
              _var = MMC_CAR(tmpMeta11);
              if((omc_BackendVariable_isParam(threadData, _var) && (!omc_BackendVariable_varHasConstantBindExp(threadData, _var))))
              {
                _lhs = omc_BackendVariable_varExp(threadData, _var);

                _rhs = omc_BackendVariable_varBindExpStartValueNoFail(threadData, _var);

                tmpMeta12 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _lhs, _rhs, _OMC_LIT14, _OMC_LIT260);
                _eqn = tmpMeta12;

                omc_BackendEquation_add(threadData, _eqn, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_currentSystem), 3))));

                if((!omc_BackendVariable_containsCref(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_currentSystem), 2))))))
                {
                  _currentSystem = omc_BackendVariable_addVarDAE(threadData, omc_BackendVariable_makeVar(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)))), _currentSystem);
                }
              }
            }
          }

          _newOrderedEquationArray = omc_BackendEquation_emptyEqns(threadData);

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _crefsVarsToRemove = tmpMeta14;

          {
            modelica_metatype _eq;
            for (tmpMeta15 = omc_BackendEquation_equationList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_currentSystem), 3)))); !listEmpty(tmpMeta15); tmpMeta15=MMC_CDR(tmpMeta15))
            {
              _eq = MMC_CAR(tmpMeta15);
              if((!omc_BackendEquation_isAlgorithm(threadData, _eq)))
              {
                _lhs = omc_BackendEquation_getEquationLHS(threadData, _eq);

                _rhs = omc_BackendEquation_getEquationRHS(threadData, _eq);

                if(((omc_Expression_isExpCref(threadData, _lhs) && omc_Expression_isExpCref(threadData, _rhs)) && (omc_ComponentReference_isStartCref(threadData, omc_Expression_expCref(threadData, _rhs)) && omc_ComponentReference_crefEqual(threadData, omc_ComponentReference_popCref(threadData, omc_Expression_expCref(threadData, _rhs)), omc_Expression_expCref(threadData, _lhs)))))
                {
                  tmpMeta16 = mmc_mk_cons(omc_Expression_expCref(threadData, _lhs), _crefsVarsToRemove);
                  _crefsVarsToRemove = tmpMeta16;
                }
                else
                {
                  omc_BackendEquation_add(threadData, _eq, _newOrderedEquationArray);
                }
              }
              else
              {
                omc_BackendEquation_add(threadData, _eq, _newOrderedEquationArray);
              }
            }
          }

          _newVars = omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013));

          {
            modelica_metatype _var;
            for (tmpMeta18 = omc_BackendVariable_varList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_currentSystem), 2)))); !listEmpty(tmpMeta18); tmpMeta18=MMC_CDR(tmpMeta18))
            {
              _var = MMC_CAR(tmpMeta18);
              if((!listMember((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), _crefsVarsToRemove)))
              {
                _newVars = omc_BackendVariable_addVar(threadData, _var, _newVars);
              }
            }
          }

          _currentSystem = omc_BackendDAEUtil_setEqSystEqs(threadData, _currentSystem, _newOrderedEquationArray);

          _currentSystem = omc_BackendDAEUtil_setEqSystVars(threadData, _currentSystem, _newVars);

          tmpMeta20 = mmc_mk_cons(_currentSystem, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta21 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta20, _shared);
          _backendDAE_1 = tmpMeta21;

          _backendDAE_1 = omc_BackendDAEUtil_transformBackendDAE(threadData, _backendDAE_1, _OMC_LIT105, mmc_mk_none(), mmc_mk_none());

          _backendDAE = omc_BackendDAEUtil_copyBackendDAE(threadData, _simDAE);

          _backendDAE = omc_BackendDAEOptimize_collapseIndependentBlocks(threadData, _backendDAE);

          /* Pattern-matching assignment */
          tmpMeta22 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_backendDAE), 2)));
          if (listEmpty(tmpMeta22)) goto goto_2;
          tmpMeta23 = MMC_CAR(tmpMeta22);
          tmpMeta24 = MMC_CDR(tmpMeta22);
          if (!listEmpty(tmpMeta24)) goto goto_2;
          _eqSyst = tmpMeta23;

          _v = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqSyst), 2)));

          tmp26 = (modelica_boolean)omc_Config_languageStandardAtLeast(threadData, 6);
          if(tmp26)
          {
            tmpMeta27 = omc_BackendVariable_getAllClockedStatesFromVariables(threadData, _v);
          }
          else
          {
            tmpMeta25 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta27 = tmpMeta25;
          }
          _states = tmpMeta27;

          _states = listAppend(omc_BackendVariable_getAllStateVarFromVariables(threadData, _v), _states);

          _varlst = omc_BackendVariable_varList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_currentSystem), 2))));

          _knvarlst = omc_BackendVariable_varList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_simDAE), 3)))), 2))));

          _inputvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isVarOnTopLevelAndInput);

          if(omc_Flags_isSet(threadData, _OMC_LIT264))
          {
            _cache = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_initDAE), 3)))), 10)));

            _graph = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_initDAE), 3)))), 11)));

            _ei = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_initDAE), 3)))), 17)));

            tmpMeta29 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta28 = mmc_mk_cons(omc_BackendDAEUtil_createEqSystem(threadData, omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013)), omc_BackendEquation_emptyEqns(threadData), tmpMeta29, _OMC_LIT100, omc_BackendEquation_emptyEqns(threadData)), MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta30 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta28, omc_BackendDAEUtil_createEmptyShared(threadData, _OMC_LIT191, _ei, _cache, _graph));
            _emptyBDAE = tmpMeta30;

            tmpMeta32 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta33 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta34 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta35 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta36 = mmc_mk_box6(0, _emptyBDAE, _OMC_LIT246, tmpMeta32, tmpMeta33, tmpMeta34, tmpMeta35);
            tmpMeta37 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta38 = mmc_mk_box4(0, mmc_mk_some(tmpMeta36), _OMC_LIT71, tmpMeta37, _OMC_LIT71);
            tmpMeta31 = mmc_mk_cons(tmpMeta38, _outJacobianMatrices);
            _outJacobianMatrices = tmpMeta31;
          }
          else
          {
            _paramvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isParam);

            _statesarr = omc_BackendVariable_listVar1(threadData, _states);

            _inputvarsarr = omc_BackendVariable_listVar1(threadData, _inputvars);

            _paramvarsarr = omc_BackendVariable_listVar1(threadData, _paramvars);

            _depVarsArr = omc_BackendVariable_listVar1(threadData, _depVars);

            _outJacobian = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE_1, _indepVars, _statesarr, _inputvarsarr, _paramvarsarr, _depVarsArr, _varlst, _OMC_LIT246, omc_Flags_isSet(threadData, _OMC_LIT264), 0 /* false */, NULL, NULL, NULL, NULL);

            if(omc_Flags_isSet(threadData, _OMC_LIT94))
            {
              omc_BackendDump_dumpSparsityPattern(threadData, _sparsePattern_, _OMC_LIT265);
            }

            tmpMeta40 = mmc_mk_box4(0, _outJacobian, _sparsePattern_, _sparseColoring_, _OMC_LIT71);
            tmpMeta39 = mmc_mk_cons(tmpMeta40, _outJacobianMatrices);
            _outJacobianMatrices = tmpMeta39;
          }
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta41;
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT266, _OMC_LIT267);

          tmpMeta41 = MMC_REFSTRUCTLIT(mmc_nil);
          _outJacobianMatrices = tmpMeta41;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _outJacobianMatrices;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_createFMIModelDerivatives(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype *out_outFunctionTree)
{
  modelica_metatype _outJacobianMatrices = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _outFunctionTree = NULL;
  modelica_metatype _backendDAE = NULL;
  modelica_metatype _emptyBDAE = NULL;
  modelica_metatype _eqSyst = NULL;
  modelica_metatype _outJacobian = NULL;
  modelica_metatype _varlst = NULL;
  modelica_metatype _knvarlst = NULL;
  modelica_metatype _states = NULL;
  modelica_metatype _inputvars = NULL;
  modelica_metatype _outputvars = NULL;
  modelica_metatype _paramvars = NULL;
  modelica_metatype _indepVars = NULL;
  modelica_metatype _depVars = NULL;
  modelica_metatype _v = NULL;
  modelica_metatype _globalKnownVars = NULL;
  modelica_metatype _statesarr = NULL;
  modelica_metatype _inputvarsarr = NULL;
  modelica_metatype _paramvarsarr = NULL;
  modelica_metatype _outputvarsarr = NULL;
  modelica_metatype _depVarsArr = NULL;
  modelica_metatype _sparsePattern = NULL;
  modelica_metatype _sparseColoring = NULL;
  modelica_metatype _nonlinearPattern = NULL;
  modelica_metatype _funcs = NULL;
  modelica_metatype _functionTree = NULL;
  modelica_metatype _ei = NULL;
  modelica_metatype _cache = NULL;
  modelica_metatype _graph = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _outJacobianMatrices = tmpMeta1;
  // _outFunctionTree has no default value.
  // _backendDAE has no default value.
  // _emptyBDAE has no default value.
  // _eqSyst has no default value.
  // _outJacobian has no default value.
  // _varlst has no default value.
  // _knvarlst has no default value.
  // _states has no default value.
  // _inputvars has no default value.
  // _outputvars has no default value.
  // _paramvars has no default value.
  // _indepVars has no default value.
  // _depVars has no default value.
  // _v has no default value.
  // _globalKnownVars has no default value.
  // _statesarr has no default value.
  // _inputvarsarr has no default value.
  // _paramvarsarr has no default value.
  // _outputvarsarr has no default value.
  // _depVarsArr has no default value.
  // _sparsePattern has no default value.
  // _sparseColoring has no default value.
  // _nonlinearPattern has no default value.
  // _funcs has no default value.
  // _functionTree has no default value.
  // _ei has no default value.
  // _cache has no default value.
  // _graph has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          /* Pattern matching succeeded */
          _backendDAE = omc_BackendDAEUtil_copyBackendDAE(threadData, _inBackendDAE);

          _backendDAE = omc_BackendDAEOptimize_collapseIndependentBlocks(threadData, _backendDAE);

          _backendDAE = omc_BackendDAEUtil_transformBackendDAE(threadData, _backendDAE, _OMC_LIT105, mmc_mk_none(), mmc_mk_none());

          /* Pattern-matching assignment */
          tmpMeta6 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_backendDAE), 2)));
          if (listEmpty(tmpMeta6)) goto goto_2;
          tmpMeta7 = MMC_CAR(tmpMeta6);
          tmpMeta8 = MMC_CDR(tmpMeta6);
          if (!listEmpty(tmpMeta8)) goto goto_2;
          _eqSyst = tmpMeta7;

          _v = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqSyst), 2)));

          _globalKnownVars = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_backendDAE), 3)))), 2)));

          _varlst = omc_BackendVariable_varList(threadData, _v);

          _knvarlst = omc_BackendVariable_varList(threadData, _globalKnownVars);

          tmp10 = (modelica_boolean)omc_Config_languageStandardAtLeast(threadData, 6);
          if(tmp10)
          {
            tmpMeta11 = omc_BackendVariable_getAllClockedStatesFromVariables(threadData, _v);
          }
          else
          {
            tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta11 = tmpMeta9;
          }
          _states = tmpMeta11;

          _states = listAppend(omc_BackendVariable_getAllStateVarFromVariables(threadData, _v), _states);

          _inputvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isVarOnTopLevelAndInput);

          _outputvars = omc_List_select(threadData, _varlst, boxvar_BackendVariable_isVarOnTopLevelAndOutput);

          _indepVars = listAppend(_states, _inputvars);

          _depVars = listAppend(_states, _outputvars);

          if(omc_Flags_isSet(threadData, _OMC_LIT264))
          {
            _cache = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_backendDAE), 3)))), 10)));

            _graph = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_backendDAE), 3)))), 11)));

            _ei = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_backendDAE), 3)))), 17)));

            tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta12 = mmc_mk_cons(omc_BackendDAEUtil_createEqSystem(threadData, omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013)), omc_BackendEquation_emptyEqns(threadData), tmpMeta13, _OMC_LIT100, omc_BackendEquation_emptyEqns(threadData)), MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta14 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta12, omc_BackendDAEUtil_createEmptyShared(threadData, _OMC_LIT191, _ei, _cache, _graph));
            _emptyBDAE = tmpMeta14;

            _sparsePattern = omc_SymbolicJacobian_generateSparsePattern(threadData, _backendDAE, _indepVars, _depVars, 0 /* false */ ,&_sparseColoring);

            if(omc_Flags_isSet(threadData, _OMC_LIT94))
            {
              omc_BackendDump_dumpSparsityPattern(threadData, _sparsePattern, _OMC_LIT265);
            }

            tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta20 = mmc_mk_box6(0, _emptyBDAE, _OMC_LIT268, tmpMeta16, tmpMeta17, tmpMeta18, tmpMeta19);
            tmpMeta21 = mmc_mk_box4(0, mmc_mk_some(tmpMeta20), _sparsePattern, _sparseColoring, _OMC_LIT71);
            tmpMeta15 = mmc_mk_cons(tmpMeta21, _outJacobianMatrices);
            _outJacobianMatrices = tmpMeta15;

            _outFunctionTree = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inBackendDAE), 3)))), 12)));
          }
          else
          {
            _paramvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isParam);

            _statesarr = omc_BackendVariable_listVar1(threadData, _states);

            _inputvarsarr = omc_BackendVariable_listVar1(threadData, _inputvars);

            _paramvarsarr = omc_BackendVariable_listVar1(threadData, _paramvars);

            _depVarsArr = omc_BackendVariable_listVar1(threadData, _depVars);

            _outJacobian = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE, _indepVars, _statesarr, _inputvarsarr, _paramvarsarr, _depVarsArr, _varlst, _OMC_LIT268, omc_Flags_isSet(threadData, _OMC_LIT264), 0 /* false */ ,&_outFunctionTree ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

            if(omc_Flags_isSet(threadData, _OMC_LIT94))
            {
              omc_BackendDump_dumpSparsityPattern(threadData, _sparsePattern, _OMC_LIT265);
            }

            tmpMeta23 = mmc_mk_box4(0, _outJacobian, _sparsePattern, _sparseColoring, _nonlinearPattern);
            tmpMeta22 = mmc_mk_cons(tmpMeta23, _outJacobianMatrices);
            _outJacobianMatrices = tmpMeta22;

            _outFunctionTree = omc_DAE_AvlTreePathFunction_join(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inBackendDAE), 3)))), 12))), _outFunctionTree, boxvar_DAE_AvlTreePathFunction_addConflictDefault);
          }
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta24;
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT269, _OMC_LIT270);

          tmpMeta24 = MMC_REFSTRUCTLIT(mmc_nil);
          _outJacobianMatrices = tmpMeta24;

          _outFunctionTree = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inBackendDAE), 3)))), 12)));
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_outFunctionTree) { *out_outFunctionTree = _outFunctionTree; }
  return _outJacobianMatrices;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createInDepVars(threadData_t *threadData, modelica_metatype _independentVars, modelica_boolean _createpDerStates, modelica_metatype *out_outCrefs)
{
  modelica_metatype _outVars = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _outCrefs = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _outVars = tmpMeta1;
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _outCrefs = tmpMeta2;
  // _var has no default value.
  {
    modelica_metatype _v;
    for (tmpMeta3 = _independentVars; !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
    {
      _v = MMC_CAR(tmpMeta3);
      if(omc_BackendVariable_isClockedStateVar(threadData, _v))
      {
        _var = omc_BackendVariable_createClockedState(threadData, _v);

        tmpMeta4 = mmc_mk_cons(_var, _outVars);
        _outVars = tmpMeta4;

        tmpMeta5 = mmc_mk_cons((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), _outCrefs);
        _outCrefs = tmpMeta5;
      }
      else
      {
        if(_createpDerStates)
        {
          tmpMeta6 = mmc_mk_cons(omc_BackendVariable_createpDerVar(threadData, _v), _outVars);
          _outVars = tmpMeta6;

          tmpMeta7 = mmc_mk_cons((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 2))), _outCrefs);
          _outCrefs = tmpMeta7;
        }
        else
        {
          tmpMeta8 = mmc_mk_cons(_v, _outVars);
          _outVars = tmpMeta8;

          tmpMeta9 = mmc_mk_cons((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 2))), _outCrefs);
          _outCrefs = tmpMeta9;
        }
      }
    }
  }

  _outVars = listReverse(_outVars);

  _outCrefs = listReverse(_outCrefs);
  _return: OMC_LABEL_UNUSED
  if (out_outCrefs) { *out_outCrefs = _outCrefs; }
  return _outVars;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createInDepVars(threadData_t *threadData, modelica_metatype _independentVars, modelica_metatype _createpDerStates, modelica_metatype *out_outCrefs)
{
  modelica_integer tmp1;
  modelica_metatype _outVars = NULL;
  modelica_metatype tmpMeta2;
  tmp1 = mmc_unbox_integer(_createpDerStates);
  _outVars = omc_SymbolicJacobian_createInDepVars(threadData, _independentVars, tmp1, out_outCrefs);
  /* skip box _outVars; list<BackendDAE.Var> */
  /* skip box _outCrefs; list<DAE.ComponentRef> */
  return _outVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createBipartiteGraph(threadData_t *threadData, modelica_integer _inNode, modelica_metatype _inSparsePattern)
{
  modelica_metatype _outEdges = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _outEdges = tmpMeta1;
  if(((_inNode >= ((modelica_integer) 1)) && (_inNode <= arrayLength(_inSparsePattern))))
  {
    _outEdges = arrayGet(_inSparsePattern, _inNode);
  }
  else
  {
    tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
    _outEdges = tmpMeta2;
  }
  _return: OMC_LABEL_UNUSED
  return _outEdges;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createBipartiteGraph(threadData_t *threadData, modelica_metatype _inNode, modelica_metatype _inSparsePattern)
{
  modelica_integer tmp1;
  modelica_metatype _outEdges = NULL;
  modelica_metatype tmpMeta2;
  tmp1 = mmc_unbox_integer(_inNode);
  _outEdges = omc_SymbolicJacobian_createBipartiteGraph(threadData, tmp1, _inSparsePattern);
  /* skip box _outEdges; list<#Integer> */
  return _outEdges;
}

PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_mapIndexColors(threadData_t *threadData, modelica_metatype _inColors, modelica_integer _inMaxIndex, modelica_metatype _inArray)
{
  modelica_integer _index;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _index has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_integer tmp6;
          modelica_integer tmp7;
          modelica_integer tmp8;
          /* Pattern matching succeeded */
          tmp6 = ((modelica_integer) 1); tmp7 = 1; tmp8 = _inMaxIndex;
          if(!(((tmp7 > 0) && (tmp6 > tmp8)) || ((tmp7 < 0) && (tmp6 < tmp8))))
          {
            modelica_integer _i;
            for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp6, tmp8); _i += tmp7)
            {
              _index = mmc_unbox_integer(arrayGet(_inColors, _i));

              tmpMeta5 = mmc_mk_cons(mmc_mk_integer(_i), arrayGet(_inArray, _index));
              arrayUpdate(_inArray, _index, tmpMeta5);
            }
          }
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT271, _OMC_LIT272);

          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_SymbolicJacobian_mapIndexColors(threadData_t *threadData, modelica_metatype _inColors, modelica_metatype _inMaxIndex, modelica_metatype _inArray)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_inMaxIndex);
  omc_SymbolicJacobian_mapIndexColors(threadData, _inColors, tmp1, _inArray);
  return;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_transposeSparsePatternTuple(threadData_t *threadData, modelica_metatype _inSparsePattern, modelica_metatype _inAccumList)
{
  modelica_metatype _outSparsePattern = NULL;
  modelica_integer _value;
  modelica_metatype _tmplist = NULL;
  modelica_metatype _oneList = NULL;
  modelica_metatype _tmpTuple = NULL;
  modelica_integer _i;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_integer tmp15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_integer tmp18;
  modelica_integer tmp19;
  modelica_integer tmp20;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outSparsePattern = _inAccumList;
  // _value has no default value.
  // _tmplist has no default value.
  // _oneList has no default value.
  // _tmpTuple has no default value.
  // _i has no default value.
  {
    modelica_metatype _oneListTuple;
    for (tmpMeta1 = _inSparsePattern; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _oneListTuple = MMC_CAR(tmpMeta1);
      /* Pattern-matching assignment */
      tmpMeta2 = _oneListTuple;
      tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 1));
      tmp4 = mmc_unbox_integer(tmpMeta3);
      tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
      _value = tmp4  /* pattern as ty=Integer */;
      _oneList = tmpMeta5;

      {
        modelica_metatype _oneElem;
        for (tmpMeta6 = _oneList; !listEmpty(tmpMeta6); tmpMeta6=MMC_CDR(tmpMeta6))
        {
          _oneElem = MMC_CAR(tmpMeta6);
          _tmpTuple = arrayGet(_outSparsePattern, ((modelica_integer) 1) + mmc_unbox_integer(_oneElem));

          /* Pattern-matching assignment */
          tmpMeta7 = _tmpTuple;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          _tmplist = tmpMeta8;

          tmpMeta9 = mmc_mk_cons(mmc_mk_integer(_value), _tmplist);
          _tmplist = tmpMeta9;

          tmpMeta10 = mmc_mk_box2(0, _oneElem, _tmplist);
          _tmpTuple = tmpMeta10;

          arrayUpdateNoBoundsChecking(_outSparsePattern, ((modelica_integer) 1) + mmc_unbox_integer(_oneElem), _tmpTuple);
        }
      }
    }
  }

  tmp18 = ((modelica_integer) 1); tmp19 = 1; tmp20 = listLength(_inSparsePattern);
  if(!(((tmp19 > 0) && (tmp18 > tmp20)) || ((tmp19 < 0) && (tmp18 < tmp20))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp18, tmp20); _i += tmp19)
    {
      _tmpTuple = arrayGet(_outSparsePattern, _i);

      /* Pattern-matching assignment */
      tmpMeta13 = _tmpTuple;
      tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 1));
      tmp15 = mmc_unbox_integer(tmpMeta14);
      tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 2));
      _value = tmp15  /* pattern as ty=Integer */;
      _tmplist = tmpMeta16;

      _tmplist = omc_List_heapSortIntList(threadData, _tmplist);

      tmpMeta17 = mmc_mk_box2(0, mmc_mk_integer(_value), _tmplist);
      _tmpTuple = tmpMeta17;

      arrayUpdateNoBoundsChecking(_outSparsePattern, _i, _tmpTuple);
    }
  }
  _return: OMC_LABEL_UNUSED
  return _outSparsePattern;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_transposeSparsePattern(threadData_t *threadData, modelica_metatype _inSparsePattern, modelica_metatype _inAccumList, modelica_integer _inValue)
{
  modelica_metatype _outSparsePattern = NULL;
  modelica_integer _value;
  modelica_metatype _tmplist = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outSparsePattern = _inAccumList;
  _value = _inValue;
  // _tmplist has no default value.
  {
    modelica_metatype _oneList;
    for (tmpMeta1 = _inSparsePattern; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _oneList = MMC_CAR(tmpMeta1);
      {
        modelica_metatype _oneElem;
        for (tmpMeta2 = _oneList; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
        {
          _oneElem = MMC_CAR(tmpMeta2);
          _tmplist = arrayGet(_outSparsePattern, mmc_unbox_integer(_oneElem));

          tmpMeta3 = mmc_mk_cons(mmc_mk_integer(_value), _tmplist);
          arrayUpdateNoBoundsChecking(_outSparsePattern, mmc_unbox_integer(_oneElem), tmpMeta3);
        }
      }

      _value = ((modelica_integer) 1) + _value;
    }
  }
  _return: OMC_LABEL_UNUSED
  return _outSparsePattern;
}
modelica_metatype boxptr_SymbolicJacobian_transposeSparsePattern(threadData_t *threadData, modelica_metatype _inSparsePattern, modelica_metatype _inAccumList, modelica_metatype _inValue)
{
  modelica_integer tmp1;
  modelica_metatype _outSparsePattern = NULL;
  tmp1 = mmc_unbox_integer(_inValue);
  _outSparsePattern = omc_SymbolicJacobian_transposeSparsePattern(threadData, _inSparsePattern, _inAccumList, tmp1);
  /* skip box _outSparsePattern; array<list<#Integer>> */
  return _outSparsePattern;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getSparsePatternHelp(threadData_t *threadData, modelica_metatype _inInputVars, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_integer _inmarkValue)
{
  modelica_metatype _outLocalList = NULL;
  modelica_metatype tmpMeta1;
  modelica_integer _arrayElement;
  modelica_metatype _varSparse = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _outLocalList = tmpMeta1;
  // _arrayElement has no default value.
  // _varSparse has no default value.
  {
    modelica_metatype _var;
    for (tmpMeta2 = _inInputVars; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _var = MMC_CAR(tmpMeta2);
      _arrayElement = mmc_unbox_integer(arrayGet(_inUsed, mmc_unbox_integer(_var)));

      if((((modelica_integer) 1) == _arrayElement))
      {
        _arrayElement = mmc_unbox_integer(arrayGet(_inMark, mmc_unbox_integer(_var)));

        if((!(_inmarkValue == _arrayElement)))
        {
          arrayUpdate(_inMark, mmc_unbox_integer(_var), mmc_mk_integer(_inmarkValue));

          tmpMeta3 = mmc_mk_cons(_var, _outLocalList);
          _outLocalList = tmpMeta3;
        }
      }

      _varSparse = arrayGet(_invarSparse, mmc_unbox_integer(_var));

      {
        modelica_metatype _v;
        for (tmpMeta4 = _varSparse; !listEmpty(tmpMeta4); tmpMeta4=MMC_CDR(tmpMeta4))
        {
          _v = MMC_CAR(tmpMeta4);
          _arrayElement = mmc_unbox_integer(arrayGet(_inMark, mmc_unbox_integer(_v)));

          if((!(_inmarkValue == _arrayElement)))
          {
            arrayUpdate(_inMark, mmc_unbox_integer(_v), mmc_mk_integer(_inmarkValue));

            tmpMeta5 = mmc_mk_cons(_v, _outLocalList);
            _outLocalList = tmpMeta5;
          }
        }
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _outLocalList;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_getSparsePatternHelp(threadData_t *threadData, modelica_metatype _inInputVars, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_metatype _inmarkValue)
{
  modelica_integer tmp1;
  modelica_metatype _outLocalList = NULL;
  modelica_metatype tmpMeta2;
  tmp1 = mmc_unbox_integer(_inmarkValue);
  _outLocalList = omc_SymbolicJacobian_getSparsePatternHelp(threadData, _inInputVars, _invarSparse, _inMark, _inUsed, tmp1);
  /* skip box _outLocalList; list<#Integer> */
  return _outLocalList;
}

PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_getSparsePattern2(threadData_t *threadData, modelica_metatype _inInputVars, modelica_metatype _inSolvedVars, modelica_metatype _inEqns, modelica_metatype _ineqnSparse, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_integer _inmarkValue)
{
  modelica_metatype _localList = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _localList has no default value.
  _localList = omc_SymbolicJacobian_getSparsePatternHelp(threadData, _inInputVars, _invarSparse, _inMark, _inUsed, _inmarkValue);

  omc_List_map2__0(threadData, _inSolvedVars, boxvar_Array_updateIndexFirst, _localList, _invarSparse);

  omc_List_map2__0(threadData, _inEqns, boxvar_Array_updateIndexFirst, _localList, _ineqnSparse);
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_SymbolicJacobian_getSparsePattern2(threadData_t *threadData, modelica_metatype _inInputVars, modelica_metatype _inSolvedVars, modelica_metatype _inEqns, modelica_metatype _ineqnSparse, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_metatype _inmarkValue)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_inmarkValue);
  omc_SymbolicJacobian_getSparsePattern2(threadData, _inInputVars, _inSolvedVars, _inEqns, _ineqnSparse, _invarSparse, _inMark, _inUsed, tmp1);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_getSparsePattern(threadData_t *threadData, modelica_metatype _inComponents, modelica_metatype _ineqnSparse, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_integer _inmarkValue, modelica_metatype _inMatrix, modelica_metatype _inMatrixT)
{
  modelica_metatype _outSparsePattern = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outSparsePattern has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inComponents;
    tmp4_2 = _ineqnSparse;
    {
      modelica_metatype _vars = NULL;
      modelica_metatype _vars1 = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _eqns1 = NULL;
      modelica_metatype _inputVars = NULL;
      modelica_metatype _inputVarsLst = NULL;
      modelica_metatype _solvedVars = NULL;
      modelica_metatype _result = NULL;
      modelica_integer _var;
      modelica_integer _eqn;
      modelica_metatype _rest = NULL;
      modelica_metatype _comp = NULL;
      modelica_metatype _innerEquations = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _vars has no default value.
      // _vars1 has no default value.
      // _eqns has no default value.
      // _eqns1 has no default value.
      // _inputVars has no default value.
      // _inputVarsLst has no default value.
      // _solvedVars has no default value.
      // _result has no default value.
      // _var has no default value.
      // _eqn has no default value.
      // _rest has no default value.
      // _comp has no default value.
      // _innerEquations has no default value.
      tmp4 = 0;
      for (; tmp4 < 11; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          _result = tmp4_2;
          /* Pattern matching succeeded */
          tmpMeta1 = _result;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          modelica_metatype tmpMeta10;
          modelica_integer tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,2) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmp9 = mmc_unbox_integer(tmpMeta8);
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          tmp11 = mmc_unbox_integer(tmpMeta10);
          
          _eqn = tmp9  /* pattern as ty=Integer */;
          _var = tmp11  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          _result = tmp4_2;
          /* Pattern matching succeeded */
          _inputVars = arrayGet(_inMatrix, _eqn);

          _inputVars = omc_List_removeOnTrue(threadData, mmc_mk_integer(_var), boxvar_intEq, _inputVars);

          tmpMeta12 = mmc_mk_cons(mmc_mk_integer(_var), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta13 = mmc_mk_cons(mmc_mk_integer(_eqn), MMC_REFSTRUCTLIT(mmc_nil));
          omc_SymbolicJacobian_getSparsePattern2(threadData, _inputVars, tmpMeta12, tmpMeta13, _ineqnSparse, _invarSparse, _inMark, _inUsed, _inmarkValue);
          /* Tail recursive call */
          _inComponents = _rest;
          _ineqnSparse = _result;
          _inmarkValue = ((modelica_integer) 1) + _inmarkValue;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_integer tmp17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta23;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta14 = MMC_CAR(tmp4_1);
          tmpMeta15 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta14,2,2) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 2));
          tmp17 = mmc_unbox_integer(tmpMeta16);
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 3));
          
          _eqn = tmp17  /* pattern as ty=Integer */;
          _solvedVars = tmpMeta18;
          _rest = tmpMeta15;
          _result = tmp4_2;
          /* Pattern matching succeeded */
          _inputVars = arrayGet(_inMatrix, _eqn);

          {
            modelica_metatype __omcQ_24tmpVar23;
            modelica_metatype* tmp20;
            modelica_metatype tmpMeta21;
            modelica_metatype __omcQ_24tmpVar22;
            modelica_integer tmp22;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _inputVars;
            tmpMeta21 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar23 = tmpMeta21; /* defaultValue */
            tmp20 = &__omcQ_24tmpVar23;
            while(1) {
              tmp22 = 1;
              while (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                if ((!listMember(_v, _solvedVars))) {
                  tmp22--;
                  break;
                }
              }
              if (tmp22 == 0) {
                __omcQ_24tmpVar22 = _v;
                *tmp20 = mmc_mk_cons(__omcQ_24tmpVar22,0);
                tmp20 = &MMC_CDR(*tmp20);
              } else if (tmp22 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp20 = mmc_mk_nil();
            tmpMeta19 = __omcQ_24tmpVar23;
          }
          _inputVars = tmpMeta19;

          tmpMeta23 = mmc_mk_cons(mmc_mk_integer(_eqn), MMC_REFSTRUCTLIT(mmc_nil));
          omc_SymbolicJacobian_getSparsePattern2(threadData, _inputVars, _solvedVars, tmpMeta23, _ineqnSparse, _invarSparse, _inMark, _inUsed, _inmarkValue);
          /* Tail recursive call */
          _inComponents = _rest;
          _ineqnSparse = _result;
          _inmarkValue = ((modelica_integer) 1) + _inmarkValue;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_integer tmp27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta33;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta24 = MMC_CAR(tmp4_1);
          tmpMeta25 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta24,6,2) == 0) goto tmp3_end;
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta24), 2));
          tmp27 = mmc_unbox_integer(tmpMeta26);
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta24), 3));
          
          _eqn = tmp27  /* pattern as ty=Integer */;
          _solvedVars = tmpMeta28;
          _rest = tmpMeta25;
          _result = tmp4_2;
          /* Pattern matching succeeded */
          _inputVars = arrayGet(_inMatrixT, _eqn);

          {
            modelica_metatype __omcQ_24tmpVar25;
            modelica_metatype* tmp30;
            modelica_metatype tmpMeta31;
            modelica_metatype __omcQ_24tmpVar24;
            modelica_integer tmp32;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _inputVars;
            tmpMeta31 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar25 = tmpMeta31; /* defaultValue */
            tmp30 = &__omcQ_24tmpVar25;
            while(1) {
              tmp32 = 1;
              while (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                if ((!listMember(_v, _solvedVars))) {
                  tmp32--;
                  break;
                }
              }
              if (tmp32 == 0) {
                __omcQ_24tmpVar24 = _v;
                *tmp30 = mmc_mk_cons(__omcQ_24tmpVar24,0);
                tmp30 = &MMC_CDR(*tmp30);
              } else if (tmp32 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp30 = mmc_mk_nil();
            tmpMeta29 = __omcQ_24tmpVar25;
          }
          _inputVars = tmpMeta29;

          tmpMeta33 = mmc_mk_cons(mmc_mk_integer(_eqn), MMC_REFSTRUCTLIT(mmc_nil));
          omc_SymbolicJacobian_getSparsePattern2(threadData, _inputVars, _solvedVars, tmpMeta33, _ineqnSparse, _invarSparse, _inMark, _inUsed, _inmarkValue);
          /* Tail recursive call */
          _inComponents = _rest;
          _ineqnSparse = _result;
          _inmarkValue = ((modelica_integer) 1) + _inmarkValue;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_integer tmp37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta43;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta34 = MMC_CAR(tmp4_1);
          tmpMeta35 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta34,3,2) == 0) goto tmp3_end;
          tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta34), 2));
          tmp37 = mmc_unbox_integer(tmpMeta36);
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta34), 3));
          
          _eqn = tmp37  /* pattern as ty=Integer */;
          _solvedVars = tmpMeta38;
          _rest = tmpMeta35;
          _result = tmp4_2;
          /* Pattern matching succeeded */
          _inputVars = arrayGet(_inMatrix, _eqn);

          {
            modelica_metatype __omcQ_24tmpVar27;
            modelica_metatype* tmp40;
            modelica_metatype tmpMeta41;
            modelica_metatype __omcQ_24tmpVar26;
            modelica_integer tmp42;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _inputVars;
            tmpMeta41 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar27 = tmpMeta41; /* defaultValue */
            tmp40 = &__omcQ_24tmpVar27;
            while(1) {
              tmp42 = 1;
              while (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                if ((!listMember(_v, _solvedVars))) {
                  tmp42--;
                  break;
                }
              }
              if (tmp42 == 0) {
                __omcQ_24tmpVar26 = _v;
                *tmp40 = mmc_mk_cons(__omcQ_24tmpVar26,0);
                tmp40 = &MMC_CDR(*tmp40);
              } else if (tmp42 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp40 = mmc_mk_nil();
            tmpMeta39 = __omcQ_24tmpVar27;
          }
          _inputVars = tmpMeta39;

          tmpMeta43 = mmc_mk_cons(mmc_mk_integer(_eqn), MMC_REFSTRUCTLIT(mmc_nil));
          omc_SymbolicJacobian_getSparsePattern2(threadData, _inputVars, _solvedVars, tmpMeta43, _ineqnSparse, _invarSparse, _inMark, _inUsed, _inmarkValue);
          /* Tail recursive call */
          _inComponents = _rest;
          _ineqnSparse = _result;
          _inmarkValue = ((modelica_integer) 1) + _inmarkValue;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          modelica_integer tmp47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta53;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta44 = MMC_CAR(tmp4_1);
          tmpMeta45 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta44,4,2) == 0) goto tmp3_end;
          tmpMeta46 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta44), 2));
          tmp47 = mmc_unbox_integer(tmpMeta46);
          tmpMeta48 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta44), 3));
          
          _eqn = tmp47  /* pattern as ty=Integer */;
          _solvedVars = tmpMeta48;
          _rest = tmpMeta45;
          _result = tmp4_2;
          /* Pattern matching succeeded */
          _inputVars = arrayGet(_inMatrix, _eqn);

          {
            modelica_metatype __omcQ_24tmpVar29;
            modelica_metatype* tmp50;
            modelica_metatype tmpMeta51;
            modelica_metatype __omcQ_24tmpVar28;
            modelica_integer tmp52;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _inputVars;
            tmpMeta51 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar29 = tmpMeta51; /* defaultValue */
            tmp50 = &__omcQ_24tmpVar29;
            while(1) {
              tmp52 = 1;
              while (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                if ((!listMember(_v, _solvedVars))) {
                  tmp52--;
                  break;
                }
              }
              if (tmp52 == 0) {
                __omcQ_24tmpVar28 = _v;
                *tmp50 = mmc_mk_cons(__omcQ_24tmpVar28,0);
                tmp50 = &MMC_CDR(*tmp50);
              } else if (tmp52 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp50 = mmc_mk_nil();
            tmpMeta49 = __omcQ_24tmpVar29;
          }
          _inputVars = tmpMeta49;

          tmpMeta53 = mmc_mk_cons(mmc_mk_integer(_eqn), MMC_REFSTRUCTLIT(mmc_nil));
          omc_SymbolicJacobian_getSparsePattern2(threadData, _inputVars, _solvedVars, tmpMeta53, _ineqnSparse, _invarSparse, _inMark, _inUsed, _inmarkValue);
          /* Tail recursive call */
          _inComponents = _rest;
          _ineqnSparse = _result;
          _inmarkValue = ((modelica_integer) 1) + _inmarkValue;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          modelica_metatype tmpMeta56;
          modelica_integer tmp57;
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta63;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta54 = MMC_CAR(tmp4_1);
          tmpMeta55 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta54,5,2) == 0) goto tmp3_end;
          tmpMeta56 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta54), 2));
          tmp57 = mmc_unbox_integer(tmpMeta56);
          tmpMeta58 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta54), 3));
          
          _eqn = tmp57  /* pattern as ty=Integer */;
          _solvedVars = tmpMeta58;
          _rest = tmpMeta55;
          _result = tmp4_2;
          /* Pattern matching succeeded */
          _inputVars = arrayGet(_inMatrix, _eqn);

          {
            modelica_metatype __omcQ_24tmpVar31;
            modelica_metatype* tmp60;
            modelica_metatype tmpMeta61;
            modelica_metatype __omcQ_24tmpVar30;
            modelica_integer tmp62;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _inputVars;
            tmpMeta61 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar31 = tmpMeta61; /* defaultValue */
            tmp60 = &__omcQ_24tmpVar31;
            while(1) {
              tmp62 = 1;
              while (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                if ((!listMember(_v, _solvedVars))) {
                  tmp62--;
                  break;
                }
              }
              if (tmp62 == 0) {
                __omcQ_24tmpVar30 = _v;
                *tmp60 = mmc_mk_cons(__omcQ_24tmpVar30,0);
                tmp60 = &MMC_CDR(*tmp60);
              } else if (tmp62 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp60 = mmc_mk_nil();
            tmpMeta59 = __omcQ_24tmpVar31;
          }
          _inputVars = tmpMeta59;

          tmpMeta63 = mmc_mk_cons(mmc_mk_integer(_eqn), MMC_REFSTRUCTLIT(mmc_nil));
          omc_SymbolicJacobian_getSparsePattern2(threadData, _inputVars, _solvedVars, tmpMeta63, _ineqnSparse, _invarSparse, _inMark, _inUsed, _inmarkValue);
          /* Tail recursive call */
          _inComponents = _rest;
          _ineqnSparse = _result;
          _inmarkValue = ((modelica_integer) 1) + _inmarkValue;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          modelica_metatype tmpMeta66;
          modelica_integer tmp67;
          modelica_metatype tmpMeta68;
          modelica_metatype tmpMeta69;
          modelica_metatype tmpMeta73;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta64 = MMC_CAR(tmp4_1);
          tmpMeta65 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta64,6,2) == 0) goto tmp3_end;
          tmpMeta66 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta64), 2));
          tmp67 = mmc_unbox_integer(tmpMeta66);
          tmpMeta68 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta64), 3));
          
          _eqn = tmp67  /* pattern as ty=Integer */;
          _solvedVars = tmpMeta68;
          _rest = tmpMeta65;
          _result = tmp4_2;
          /* Pattern matching succeeded */
          _inputVars = arrayGet(_inMatrix, _eqn);

          {
            modelica_metatype __omcQ_24tmpVar33;
            modelica_metatype* tmp70;
            modelica_metatype tmpMeta71;
            modelica_metatype __omcQ_24tmpVar32;
            modelica_integer tmp72;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _inputVars;
            tmpMeta71 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar33 = tmpMeta71; /* defaultValue */
            tmp70 = &__omcQ_24tmpVar33;
            while(1) {
              tmp72 = 1;
              while (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                if ((!listMember(_v, _solvedVars))) {
                  tmp72--;
                  break;
                }
              }
              if (tmp72 == 0) {
                __omcQ_24tmpVar32 = _v;
                *tmp70 = mmc_mk_cons(__omcQ_24tmpVar32,0);
                tmp70 = &MMC_CDR(*tmp70);
              } else if (tmp72 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp70 = mmc_mk_nil();
            tmpMeta69 = __omcQ_24tmpVar33;
          }
          _inputVars = tmpMeta69;

          tmpMeta73 = mmc_mk_cons(mmc_mk_integer(_eqn), MMC_REFSTRUCTLIT(mmc_nil));
          omc_SymbolicJacobian_getSparsePattern2(threadData, _inputVars, _solvedVars, tmpMeta73, _ineqnSparse, _invarSparse, _inMark, _inUsed, _inmarkValue);
          /* Tail recursive call */
          _inComponents = _rest;
          _ineqnSparse = _result;
          _inmarkValue = ((modelica_integer) 1) + _inmarkValue;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta74;
          modelica_metatype tmpMeta75;
          modelica_metatype tmpMeta76;
          modelica_metatype tmpMeta77;
          modelica_metatype tmpMeta78;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta74 = MMC_CAR(tmp4_1);
          tmpMeta75 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta74,1,5) == 0) goto tmp3_end;
          tmpMeta76 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta74), 2));
          tmpMeta77 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta74), 3));
          
          _eqns = tmpMeta76;
          _solvedVars = tmpMeta77;
          _rest = tmpMeta75;
          _result = tmp4_2;
          /* Pattern matching succeeded */
          _inputVarsLst = omc_List_map1(threadData, _eqns, boxvar_Array_getIndexFirst, _inMatrix);

          _inputVars = omc_List_flatten(threadData, _inputVarsLst);

          {
            modelica_metatype __omcQ_24tmpVar35;
            modelica_metatype* tmp79;
            modelica_metatype tmpMeta80;
            modelica_metatype __omcQ_24tmpVar34;
            modelica_integer tmp81;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _inputVars;
            tmpMeta80 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar35 = tmpMeta80; /* defaultValue */
            tmp79 = &__omcQ_24tmpVar35;
            while(1) {
              tmp81 = 1;
              while (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                if ((!listMember(_v, _solvedVars))) {
                  tmp81--;
                  break;
                }
              }
              if (tmp81 == 0) {
                __omcQ_24tmpVar34 = _v;
                *tmp79 = mmc_mk_cons(__omcQ_24tmpVar34,0);
                tmp79 = &MMC_CDR(*tmp79);
              } else if (tmp81 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp79 = mmc_mk_nil();
            tmpMeta78 = __omcQ_24tmpVar35;
          }
          _inputVars = tmpMeta78;

          omc_SymbolicJacobian_getSparsePattern2(threadData, _inputVars, _solvedVars, _eqns, _ineqnSparse, _invarSparse, _inMark, _inUsed, _inmarkValue);
          /* Tail recursive call */
          _inComponents = _rest;
          _ineqnSparse = _result;
          _inmarkValue = ((modelica_integer) 1) + _inmarkValue;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta82;
          modelica_metatype tmpMeta83;
          modelica_metatype tmpMeta84;
          modelica_metatype tmpMeta85;
          modelica_metatype tmpMeta86;
          modelica_metatype tmpMeta87;
          modelica_metatype tmpMeta88;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta82 = MMC_CAR(tmp4_1);
          tmpMeta83 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta82,7,4) == 0) goto tmp3_end;
          tmpMeta84 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta82), 2));
          tmpMeta85 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta84), 2));
          tmpMeta86 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta84), 3));
          tmpMeta87 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta84), 4));
          
          _vars = tmpMeta85;
          _eqns = tmpMeta86;
          _innerEquations = tmpMeta87;
          _rest = tmpMeta83;
          _result = tmp4_2;
          /* Pattern matching succeeded */
          _eqns1 = omc_List_map__3(threadData, _innerEquations, boxvar_BackendDAEUtil_getEqnAndVarsFromInnerEquation ,&_inputVarsLst ,NULL);

          _vars1 = omc_List_flatten(threadData, _inputVarsLst);

          _eqns1 = listAppend(_eqns, _eqns1);

          _solvedVars = listAppend(_vars, _vars1);

          _inputVarsLst = omc_List_map1(threadData, _eqns1, boxvar_Array_getIndexFirst, _inMatrix);

          _inputVars = omc_List_flatten(threadData, _inputVarsLst);

          {
            modelica_metatype __omcQ_24tmpVar37;
            modelica_metatype* tmp89;
            modelica_metatype tmpMeta90;
            modelica_metatype __omcQ_24tmpVar36;
            modelica_integer tmp91;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _inputVars;
            tmpMeta90 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar37 = tmpMeta90; /* defaultValue */
            tmp89 = &__omcQ_24tmpVar37;
            while(1) {
              tmp91 = 1;
              while (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                if ((!listMember(_v, _solvedVars))) {
                  tmp91--;
                  break;
                }
              }
              if (tmp91 == 0) {
                __omcQ_24tmpVar36 = _v;
                *tmp89 = mmc_mk_cons(__omcQ_24tmpVar36,0);
                tmp89 = &MMC_CDR(*tmp89);
              } else if (tmp91 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp89 = mmc_mk_nil();
            tmpMeta88 = __omcQ_24tmpVar37;
          }
          _inputVars = tmpMeta88;

          omc_SymbolicJacobian_getSparsePattern2(threadData, _inputVars, _solvedVars, _eqns1, _ineqnSparse, _invarSparse, _inMark, _inUsed, _inmarkValue);
          /* Tail recursive call */
          _inComponents = _rest;
          _ineqnSparse = _result;
          _inmarkValue = ((modelica_integer) 1) + _inmarkValue;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta92;
          modelica_metatype tmpMeta93;
          modelica_metatype tmpMeta94;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta92 = _inComponents;
          if (listEmpty(tmpMeta92)) goto goto_2;
          tmpMeta93 = MMC_CAR(tmpMeta92);
          tmpMeta94 = MMC_CDR(tmpMeta92);
          _comp = tmpMeta93;

          omc_BackendDump_dumpComponent(threadData, _comp, mmc_mk_none());

          omc_Error_addInternalError(threadData, _OMC_LIT273, _OMC_LIT274);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outSparsePattern = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outSparsePattern;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_getSparsePattern(threadData_t *threadData, modelica_metatype _inComponents, modelica_metatype _ineqnSparse, modelica_metatype _invarSparse, modelica_metatype _inMark, modelica_metatype _inUsed, modelica_metatype _inmarkValue, modelica_metatype _inMatrix, modelica_metatype _inMatrixT)
{
  modelica_integer tmp1;
  modelica_metatype _outSparsePattern = NULL;
  tmp1 = mmc_unbox_integer(_inmarkValue);
  _outSparsePattern = omc_SymbolicJacobian_getSparsePattern(threadData, _inComponents, _ineqnSparse, _invarSparse, _inMark, _inUsed, tmp1, _inMatrix, _inMatrixT);
  /* skip box _outSparsePattern; array<list<#Integer>> */
  return _outSparsePattern;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_SymbolicJacobian_findDegrees(threadData_t *threadData, modelica_metatype _inList, modelica_integer _inValue, modelica_integer *out_outMaxDegree)
{
  modelica_integer _outDegree;
  modelica_integer _outMaxDegree;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outDegree has no default value.
  // _outMaxDegree has no default value.
  _outDegree = listLength(_inList);

  _outMaxDegree = modelica_integer_max((modelica_integer)(_inValue),(modelica_integer)(_outDegree));
  _return: OMC_LABEL_UNUSED
  if (out_outMaxDegree) { *out_outMaxDegree = _outMaxDegree; }
  return _outDegree;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_findDegrees(threadData_t *threadData, modelica_metatype _inList, modelica_metatype _inValue, modelica_metatype *out_outMaxDegree)
{
  modelica_integer tmp1;
  modelica_integer _outMaxDegree;
  modelica_integer _outDegree;
  modelica_metatype out_outDegree;
  tmp1 = mmc_unbox_integer(_inValue);
  _outDegree = omc_SymbolicJacobian_findDegrees(threadData, _inList, tmp1, &_outMaxDegree);
  out_outDegree = mmc_mk_icon(_outDegree);
  if (out_outMaxDegree) { *out_outMaxDegree = mmc_mk_icon(_outMaxDegree); }
  return out_outDegree;
}

PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_dumpSparsePatternStatistics(threadData_t *threadData, modelica_integer _nonZeroElements, modelica_metatype _sparsepatternT)
{
  modelica_integer _maxDegree;
  modelica_metatype tmpMeta1;
  modelica_integer tmp2;
  modelica_string tmp3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_string tmp6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_string tmp9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _maxDegree has no default value.
  /* Pattern-matching tuple assignment, wild first pattern */
  omc_List_mapFold(threadData, _sparsepatternT, boxvar_SymbolicJacobian_findDegrees, mmc_mk_integer(((modelica_integer) 0)), &tmpMeta1);
  tmp2 = mmc_unbox_integer(tmpMeta1);
  _maxDegree = tmp2  /* pattern as ty=Integer */;

  tmp3 = modelica_integer_to_modelica_string(_nonZeroElements, ((modelica_integer) 0), 1 /* true */);
  tmpMeta4 = stringAppend(_OMC_LIT275,tmp3);
  tmpMeta5 = stringAppend(tmpMeta4,_OMC_LIT276);
  tmp6 = modelica_integer_to_modelica_string(_maxDegree, ((modelica_integer) 0), 1 /* true */);
  tmpMeta7 = stringAppend(tmpMeta5,tmp6);
  tmpMeta8 = stringAppend(tmpMeta7,_OMC_LIT277);
  tmp9 = modelica_real_to_modelica_string(mmc_clock(), ((modelica_integer) 6), ((modelica_integer) 0), 1 /* true */);
  tmpMeta10 = stringAppend(tmpMeta8,tmp9);
  tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT19);
  fputs(MMC_STRINGDATA(tmpMeta11),stdout);
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_SymbolicJacobian_dumpSparsePatternStatistics(threadData_t *threadData, modelica_metatype _nonZeroElements, modelica_metatype _sparsepatternT)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_nonZeroElements);
  omc_SymbolicJacobian_dumpSparsePatternStatistics(threadData, tmp1, _sparsepatternT);
  return;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_createColoring(threadData_t *threadData, modelica_metatype _sparseArray, modelica_metatype _sparseArrayT, modelica_integer _sizeVars, modelica_integer _sizeVarswithDep)
{
  modelica_metatype _coloredArray = NULL;
  modelica_boolean _debug;
  modelica_metatype _nodesList = NULL;
  modelica_metatype _colored = NULL;
  modelica_metatype _forbiddenColor = NULL;
  modelica_metatype _sparseGraph = NULL;
  modelica_metatype _sparseGraphT = NULL;
  modelica_metatype _arraysparseGraph = NULL;
  modelica_integer _maxColor;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _coloredArray has no default value.
  _debug = 0 /* false */;
  // _nodesList has no default value.
  // _colored has no default value.
  // _forbiddenColor has no default value.
  // _sparseGraph has no default value.
  // _sparseGraphT has no default value.
  // _arraysparseGraph has no default value.
  // _maxColor has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT282))
          {
            fputs(MMC_STRINGDATA(_OMC_LIT278),stdout);
          }

          _nodesList = omc_List_intRange2(threadData, ((modelica_integer) 1), _sizeVarswithDep);

          _sparseGraph = omc_Graph_buildGraph(threadData, _nodesList, boxvar_SymbolicJacobian_createBipartiteGraph, _sparseArray);

          _sparseGraphT = omc_Graph_buildGraph(threadData, omc_List_intRange2(threadData, ((modelica_integer) 1), _sizeVars), boxvar_SymbolicJacobian_createBipartiteGraph, _sparseArrayT);

          if(omc_Flags_isSet(threadData, _OMC_LIT282))
          {
            fputs(MMC_STRINGDATA(_OMC_LIT283),stdout);

            omc_Graph_printGraphInt(threadData, _sparseGraph);

            fputs(MMC_STRINGDATA(_OMC_LIT284),stdout);

            omc_Graph_printGraphInt(threadData, _sparseGraphT);

            fputs(MMC_STRINGDATA(_OMC_LIT285),stdout);
          }

          _forbiddenColor = arrayCreate(_sizeVars, mmc_mk_integer(((modelica_integer) 0)));

          _colored = arrayCreate(_sizeVars, mmc_mk_integer(((modelica_integer) 0)));

          _arraysparseGraph = listArray(_sparseGraph);

          if((_sizeVars > ((modelica_integer) 0)))
          {
            omc_Graph_partialDistance2colorInt(threadData, _sparseGraphT, _forbiddenColor, _nodesList, _arraysparseGraph, _colored);
          }

          omc_GCExt_free(threadData, _forbiddenColor);

          omc_GCExt_free(threadData, _arraysparseGraph);

          _maxColor = mmc_unbox_integer(omc_Array_fold(threadData, _colored, boxvar_intMax, mmc_mk_integer(((modelica_integer) 0))));

          tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
          _coloredArray = arrayCreate(_maxColor, tmpMeta5);

          omc_SymbolicJacobian_mapIndexColors(threadData, _colored, _sizeVars, _coloredArray);

          omc_GCExt_free(threadData, _colored);

          if(omc_Flags_isSet(threadData, _OMC_LIT282))
          {
            fputs(MMC_STRINGDATA(_OMC_LIT286),stdout);

            omc_BackendDump_dumpSparsePattern(threadData, arrayList(_coloredArray));
          }
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT287, _OMC_LIT288);

          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _coloredArray;
}
modelica_metatype boxptr_SymbolicJacobian_createColoring(threadData_t *threadData, modelica_metatype _sparseArray, modelica_metatype _sparseArrayT, modelica_metatype _sizeVars, modelica_metatype _sizeVarswithDep)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _coloredArray = NULL;
  tmp1 = mmc_unbox_integer(_sizeVars);
  tmp2 = mmc_unbox_integer(_sizeVarswithDep);
  _coloredArray = omc_SymbolicJacobian_createColoring(threadData, _sparseArray, _sparseArrayT, tmp1, tmp2);
  /* skip box _coloredArray; array<list<#Integer>> */
  return _coloredArray;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_generateSparsePattern(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inIndependentVars, modelica_metatype _inDependentVars, modelica_boolean _nonlinearPattern, modelica_metatype *out_outColoredCols)
{
  modelica_metatype _outSparsePattern = NULL;
  modelica_metatype _outColoredCols = NULL;
  modelica_boolean _debug;
  modelica_string _patternName = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outSparsePattern has no default value.
  // _outColoredCols has no default value.
  _debug = 0 /* false */;
  _patternName = (_nonlinearPattern?_OMC_LIT289:_OMC_LIT290);
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;
    tmp4_1 = _inBackendDAE;
    tmp4_2 = _inIndependentVars;
    tmp4_3 = _inDependentVars;
    {
      modelica_metatype _syst = NULL;
      modelica_metatype _syst1 = NULL;
      modelica_metatype _comps = NULL;
      modelica_metatype _adjMatrix = NULL;
      modelica_metatype _adjMatrixT = NULL;
      modelica_metatype _bdaeMatching = NULL;
      modelica_integer _sizeN;
      modelica_integer _sizeM;
      modelica_integer _adjSize;
      modelica_integer _adjSizeT;
      modelica_integer _nonZeroElements;
      modelica_metatype _nodesEqnsIndex = NULL;
      modelica_metatype _sparsepattern = NULL;
      modelica_metatype _sparsepatternT = NULL;
      modelica_metatype _jacDiffVars = NULL;
      modelica_metatype _dependentVars = NULL;
      modelica_metatype _independentVars = NULL;
      modelica_metatype _varswithDiffs = NULL;
      modelica_metatype _orderedEqns = NULL;
      modelica_metatype _ass1 = NULL;
      modelica_metatype _coloredArray = NULL;
      modelica_metatype _depCompRefsLst = NULL;
      modelica_metatype _inDepCompRefsLst = NULL;
      modelica_metatype _depCompRefs = NULL;
      modelica_metatype _inDepCompRefs = NULL;
      modelica_metatype _eqnSparse = NULL;
      modelica_metatype _varSparse = NULL;
      modelica_metatype _sparseArray = NULL;
      modelica_metatype _sparseArrayT = NULL;
      modelica_metatype _mark = NULL;
      modelica_metatype _usedvar = NULL;
      modelica_metatype _coloring = NULL;
      modelica_metatype _translated = NULL;
      modelica_metatype _sparsetuple = NULL;
      modelica_metatype _sparsetupleT = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _syst has no default value.
      // _syst1 has no default value.
      // _comps has no default value.
      // _adjMatrix has no default value.
      // _adjMatrixT has no default value.
      // _bdaeMatching has no default value.
      // _sizeN has no default value.
      // _sizeM has no default value.
      // _adjSize has no default value.
      // _adjSizeT has no default value.
      // _nonZeroElements has no default value.
      // _nodesEqnsIndex has no default value.
      // _sparsepattern has no default value.
      // _sparsepatternT has no default value.
      // _jacDiffVars has no default value.
      // _dependentVars has no default value.
      // _independentVars has no default value.
      // _varswithDiffs has no default value.
      // _orderedEqns has no default value.
      // _ass1 has no default value.
      // _coloredArray has no default value.
      // _depCompRefsLst has no default value.
      // _inDepCompRefsLst has no default value.
      // _depCompRefs has no default value.
      // _inDepCompRefs has no default value.
      // _eqnSparse has no default value.
      // _varSparse has no default value.
      // _sparseArray has no default value.
      // _sparseArrayT has no default value.
      // _mark has no default value.
      // _usedvar has no default value.
      // _coloring has no default value.
      // _translated has no default value.
      // _sparsetuple has no default value.
      // _sparsetupleT has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_3)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = _OMC_LIT72;
          tmpMeta[0+1] = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta57;
          modelica_metatype tmpMeta63;
          modelica_metatype tmpMeta70;
          modelica_metatype tmpMeta79;
          modelica_metatype tmpMeta80;
          modelica_metatype tmpMeta81;
          modelica_metatype tmpMeta82;
          modelica_metatype tmpMeta83;
          modelica_metatype tmpMeta84;
          modelica_metatype tmpMeta85;
          modelica_metatype tmpMeta86;
          modelica_metatype tmpMeta87;
          modelica_metatype tmpMeta88;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (listEmpty(tmpMeta7)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmpMeta7);
          tmpMeta9 = MMC_CDR(tmpMeta7);
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,1,3) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 2));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 4));
          if (!listEmpty(tmpMeta9)) goto tmp3_end;
          
          _syst = tmpMeta8;
          _bdaeMatching = tmpMeta10;
          _ass1 = tmpMeta11;
          _comps = tmpMeta12;
          _independentVars = tmp4_2;
          _dependentVars = tmp4_3;
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT282))
          {
            tmpMeta13 = stringAppend(_OMC_LIT291,_patternName);
            tmpMeta14 = stringAppend(tmpMeta13,_OMC_LIT292);
            tmpMeta15 = stringAppend(tmpMeta14,intString(listLength(_dependentVars)));
            tmpMeta16 = stringAppend(tmpMeta15,_OMC_LIT293);
            tmpMeta17 = stringAppend(tmpMeta16,intString(listLength(_independentVars)));
            tmpMeta18 = stringAppend(tmpMeta17,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta18),stdout);
          }

          _depCompRefsLst = omc_List_map(threadData, _dependentVars, boxvar_BackendVariable_varCref);

          _depCompRefs = listArray(_depCompRefsLst);

          _sizeM = arrayLength(_depCompRefs);

          _jacDiffVars = omc_SymbolicJacobian_createInDepVars(threadData, _independentVars, 1 /* true */ ,&_inDepCompRefsLst);

          _inDepCompRefs = listArray(_inDepCompRefsLst);

          _sizeN = arrayLength(_inDepCompRefs);

          /* Pattern-matching assignment */
          tmpMeta19 = omc_BackendDAEUtil_addVarsToEqSystem(threadData, _syst, _jacDiffVars);
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta19), 2));
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta19), 3));
          _syst1 = tmpMeta19;
          _varswithDiffs = tmpMeta20;
          _orderedEqns = tmpMeta21;

          _adjMatrix = omc_BackendDAEUtil_adjacencyMatrix(threadData, _syst1, _OMC_LIT294, mmc_mk_none(), omc_BackendDAEUtil_isInitializationDAE(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inBackendDAE), 3)))) ,&_adjMatrixT);

          _adjSize = arrayLength(_adjMatrix);

          _adjSizeT = arrayLength(_adjMatrixT);

          if(omc_Flags_isSet(threadData, _OMC_LIT282))
          {
            omc_BackendDump_printVarList(threadData, omc_BackendVariable_varList(threadData, _varswithDiffs));

            omc_BackendDump_printEquationList(threadData, omc_BackendEquation_equationList(threadData, _orderedEqns));

            omc_BackendDump_dumpAdjacencyMatrix(threadData, _adjMatrix);

            omc_BackendDump_dumpAdjacencyMatrixT(threadData, _adjMatrixT);

            omc_BackendDump_dumpFullMatching(threadData, _bdaeMatching, mmc_mk_none());
          }

          _nodesEqnsIndex = omc_BackendVariable_getVarIndexFromVars(threadData, _dependentVars, _varswithDiffs);

          _nodesEqnsIndex = omc_List_map1(threadData, _nodesEqnsIndex, boxvar_Array_getIndexFirst, _ass1);

          if(omc_Flags_isSet(threadData, _OMC_LIT282))
          {
            fputs(MMC_STRINGDATA(_OMC_LIT295),stdout);

            omc_BackendDump_dumpAdjacencyRow(threadData, _nodesEqnsIndex);

            fputs(MMC_STRINGDATA(_OMC_LIT19),stdout);

            tmpMeta22 = stringAppend(_OMC_LIT296,_patternName);
            tmpMeta23 = stringAppend(tmpMeta22,_OMC_LIT297);
            tmpMeta24 = stringAppend(tmpMeta23,realString(mmc_clock()));
            tmpMeta25 = stringAppend(tmpMeta24,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta25),stdout);
          }

          tmpMeta26 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqnSparse = arrayCreate(_adjSize, tmpMeta26);

          tmpMeta27 = MMC_REFSTRUCTLIT(mmc_nil);
          _varSparse = arrayCreate(_adjSizeT, tmpMeta27);

          _mark = arrayCreate(_adjSizeT, mmc_mk_integer(((modelica_integer) 0)));

          _usedvar = arrayCreate(_adjSizeT, mmc_mk_integer(((modelica_integer) 0)));

          if((_sizeN > ((modelica_integer) 0)))
          {
            _usedvar = omc_Array_setRange(threadData, ((modelica_integer) 1) + _adjSizeT - _sizeN, _adjSizeT, _usedvar, mmc_mk_integer(((modelica_integer) 1)));
          }

          _eqnSparse = omc_SymbolicJacobian_getSparsePattern(threadData, _comps, _eqnSparse, _varSparse, _mark, _usedvar, ((modelica_integer) 1), _adjMatrix, _adjMatrixT);

          if(omc_Flags_isSet(threadData, _OMC_LIT282))
          {
            omc_BackendDump_dumpSparsePatternArray(threadData, _eqnSparse);

            tmpMeta28 = stringAppend(_OMC_LIT296,_patternName);
            tmpMeta29 = stringAppend(tmpMeta28,_OMC_LIT298);
            tmpMeta30 = stringAppend(tmpMeta29,realString(mmc_clock()));
            tmpMeta31 = stringAppend(tmpMeta30,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta31),stdout);
          }

          _sparseArray = omc_Array_select(threadData, _eqnSparse, _nodesEqnsIndex);

          _sparsepattern = arrayList(_sparseArray);

          _sparsepattern = omc_List_map1List(threadData, _sparsepattern, boxvar_intSub, mmc_mk_integer(_adjSizeT - _sizeN));

          _sparseArray = listArray(_sparsepattern);

          tmpMeta32 = MMC_REFSTRUCTLIT(mmc_nil);
          _sparseArrayT = arrayCreate(_sizeN, tmpMeta32);

          _sparseArrayT = omc_SymbolicJacobian_transposeSparsePattern(threadData, _sparsepattern, _sparseArrayT, ((modelica_integer) 1));

          _sparsepatternT = arrayList(_sparseArrayT);

          _nonZeroElements = omc_List_lengthListElements(threadData, _sparsepattern);

          if(omc_Flags_isSet(threadData, _OMC_LIT282))
          {
            omc_SymbolicJacobian_dumpSparsePatternStatistics(threadData, _nonZeroElements, _sparsepatternT);

            omc_BackendDump_dumpSparsePattern(threadData, _sparsepattern);

            omc_BackendDump_dumpSparsePattern(threadData, _sparsepatternT);
          }

          if(listEmpty(_sparsepattern))
          {
            tmpMeta33 = MMC_REFSTRUCTLIT(mmc_nil);
            _sparsetuple = tmpMeta33;

            tmpMeta34 = MMC_REFSTRUCTLIT(mmc_nil);
            _sparsetupleT = tmpMeta34;
          }
          else
          {
            {
              modelica_metatype __omcQ_24tmpVar41;
              modelica_metatype* tmp36;
              modelica_metatype tmpMeta37;
              modelica_metatype tmpMeta38;
              modelica_metatype __omcQ_24tmpVar40;
              modelica_integer tmp42;
              modelica_metatype _lst_loopVar = 0;
              modelica_metatype _lst;
              _lst_loopVar = _sparsepattern;
              tmpMeta37 = MMC_REFSTRUCTLIT(mmc_nil);
              __omcQ_24tmpVar41 = tmpMeta37; /* defaultValue */
              tmp36 = &__omcQ_24tmpVar41;
              while(1) {
                tmp42 = 1;
                if (!listEmpty(_lst_loopVar)) {
                  _lst = MMC_CAR(_lst_loopVar);
                  _lst_loopVar = MMC_CDR(_lst_loopVar);
                  tmp42--;
                }
                if (tmp42 == 0) {
                  {
                    modelica_metatype __omcQ_24tmpVar39;
                    modelica_metatype* tmp39;
                    modelica_metatype tmpMeta40;
                    modelica_metatype __omcQ_24tmpVar38;
                    modelica_integer tmp41;
                    modelica_metatype _i_loopVar = 0;
                    modelica_metatype _i;
                    _i_loopVar = _lst;
                    tmpMeta40 = MMC_REFSTRUCTLIT(mmc_nil);
                    __omcQ_24tmpVar39 = tmpMeta40; /* defaultValue */
                    tmp39 = &__omcQ_24tmpVar39;
                    while(1) {
                      tmp41 = 1;
                      if (!listEmpty(_i_loopVar)) {
                        _i = MMC_CAR(_i_loopVar);
                        _i_loopVar = MMC_CDR(_i_loopVar);
                        tmp41--;
                      }
                      if (tmp41 == 0) {
                        __omcQ_24tmpVar38 = arrayGet(_inDepCompRefs, mmc_unbox_integer(_i));
                        *tmp39 = mmc_mk_cons(__omcQ_24tmpVar38,0);
                        tmp39 = &MMC_CDR(*tmp39);
                      } else if (tmp41 == 1) {
                        break;
                      } else {
                        goto goto_2;
                      }
                    }
                    *tmp39 = mmc_mk_nil();
                    tmpMeta38 = __omcQ_24tmpVar39;
                  }
                  __omcQ_24tmpVar40 = tmpMeta38;
                  *tmp36 = mmc_mk_cons(__omcQ_24tmpVar40,0);
                  tmp36 = &MMC_CDR(*tmp36);
                } else if (tmp42 == 1) {
                  break;
                } else {
                  goto goto_2;
                }
              }
              *tmp36 = mmc_mk_nil();
              tmpMeta35 = __omcQ_24tmpVar41;
            }
            _translated = tmpMeta35;

            {
              modelica_metatype __omcQ_24tmpVar43;
              modelica_metatype* tmp44;
              modelica_metatype tmpMeta45;
              modelica_metatype tmpMeta46;
              modelica_metatype __omcQ_24tmpVar42;
              modelica_integer tmp47;
              modelica_metatype _cr_loopVar = 0;
              modelica_integer tmp48;
              modelica_metatype _cr;
              modelica_metatype _t_loopVar = 0;
              modelica_metatype _t;
              _cr_loopVar = _depCompRefs;
              tmp48 = 1;
              _t_loopVar = _translated;
              tmpMeta45 = MMC_REFSTRUCTLIT(mmc_nil);
              __omcQ_24tmpVar43 = tmpMeta45; /* defaultValue */
              tmp44 = &__omcQ_24tmpVar43;
              while(1) {
                tmp47 = 2;
                if (tmp48 <= arrayLength(_cr_loopVar)) {
                  _cr = arrayGet(_cr_loopVar, tmp48++);
                  tmp47--;
                }if (!listEmpty(_t_loopVar)) {
                  _t = MMC_CAR(_t_loopVar);
                  _t_loopVar = MMC_CDR(_t_loopVar);
                  tmp47--;
                }
                if (tmp47 == 0) {
                  tmpMeta46 = mmc_mk_box2(0, _cr, _t);
                  __omcQ_24tmpVar42 = tmpMeta46;
                  *tmp44 = mmc_mk_cons(__omcQ_24tmpVar42,0);
                  tmp44 = &MMC_CDR(*tmp44);
                } else if (tmp47 == 2) {
                  break;
                } else {
                  goto goto_2;
                }
              }
              *tmp44 = mmc_mk_nil();
              tmpMeta43 = __omcQ_24tmpVar43;
            }
            _sparsetuple = tmpMeta43;

            {
              modelica_metatype __omcQ_24tmpVar47;
              modelica_metatype* tmp50;
              modelica_metatype tmpMeta51;
              modelica_metatype tmpMeta52;
              modelica_metatype __omcQ_24tmpVar46;
              modelica_integer tmp56;
              modelica_metatype _lst_loopVar = 0;
              modelica_metatype _lst;
              _lst_loopVar = _sparsepatternT;
              tmpMeta51 = MMC_REFSTRUCTLIT(mmc_nil);
              __omcQ_24tmpVar47 = tmpMeta51; /* defaultValue */
              tmp50 = &__omcQ_24tmpVar47;
              while(1) {
                tmp56 = 1;
                if (!listEmpty(_lst_loopVar)) {
                  _lst = MMC_CAR(_lst_loopVar);
                  _lst_loopVar = MMC_CDR(_lst_loopVar);
                  tmp56--;
                }
                if (tmp56 == 0) {
                  {
                    modelica_metatype __omcQ_24tmpVar45;
                    modelica_metatype* tmp53;
                    modelica_metatype tmpMeta54;
                    modelica_metatype __omcQ_24tmpVar44;
                    modelica_integer tmp55;
                    modelica_metatype _i_loopVar = 0;
                    modelica_metatype _i;
                    _i_loopVar = _lst;
                    tmpMeta54 = MMC_REFSTRUCTLIT(mmc_nil);
                    __omcQ_24tmpVar45 = tmpMeta54; /* defaultValue */
                    tmp53 = &__omcQ_24tmpVar45;
                    while(1) {
                      tmp55 = 1;
                      if (!listEmpty(_i_loopVar)) {
                        _i = MMC_CAR(_i_loopVar);
                        _i_loopVar = MMC_CDR(_i_loopVar);
                        tmp55--;
                      }
                      if (tmp55 == 0) {
                        __omcQ_24tmpVar44 = arrayGet(_depCompRefs, mmc_unbox_integer(_i));
                        *tmp53 = mmc_mk_cons(__omcQ_24tmpVar44,0);
                        tmp53 = &MMC_CDR(*tmp53);
                      } else if (tmp55 == 1) {
                        break;
                      } else {
                        goto goto_2;
                      }
                    }
                    *tmp53 = mmc_mk_nil();
                    tmpMeta52 = __omcQ_24tmpVar45;
                  }
                  __omcQ_24tmpVar46 = tmpMeta52;
                  *tmp50 = mmc_mk_cons(__omcQ_24tmpVar46,0);
                  tmp50 = &MMC_CDR(*tmp50);
                } else if (tmp56 == 1) {
                  break;
                } else {
                  goto goto_2;
                }
              }
              *tmp50 = mmc_mk_nil();
              tmpMeta49 = __omcQ_24tmpVar47;
            }
            _translated = tmpMeta49;

            {
              modelica_metatype __omcQ_24tmpVar49;
              modelica_metatype* tmp58;
              modelica_metatype tmpMeta59;
              modelica_metatype tmpMeta60;
              modelica_metatype __omcQ_24tmpVar48;
              modelica_integer tmp61;
              modelica_metatype _cr_loopVar = 0;
              modelica_integer tmp62;
              modelica_metatype _cr;
              modelica_metatype _t_loopVar = 0;
              modelica_metatype _t;
              _cr_loopVar = _inDepCompRefs;
              tmp62 = 1;
              _t_loopVar = _translated;
              tmpMeta59 = MMC_REFSTRUCTLIT(mmc_nil);
              __omcQ_24tmpVar49 = tmpMeta59; /* defaultValue */
              tmp58 = &__omcQ_24tmpVar49;
              while(1) {
                tmp61 = 2;
                if (tmp62 <= arrayLength(_cr_loopVar)) {
                  _cr = arrayGet(_cr_loopVar, tmp62++);
                  tmp61--;
                }if (!listEmpty(_t_loopVar)) {
                  _t = MMC_CAR(_t_loopVar);
                  _t_loopVar = MMC_CDR(_t_loopVar);
                  tmp61--;
                }
                if (tmp61 == 0) {
                  tmpMeta60 = mmc_mk_box2(0, _cr, _t);
                  __omcQ_24tmpVar48 = tmpMeta60;
                  *tmp58 = mmc_mk_cons(__omcQ_24tmpVar48,0);
                  tmp58 = &MMC_CDR(*tmp58);
                } else if (tmp61 == 2) {
                  break;
                } else {
                  goto goto_2;
                }
              }
              *tmp58 = mmc_mk_nil();
              tmpMeta57 = __omcQ_24tmpVar49;
            }
            _sparsetupleT = tmpMeta57;
          }

          if((_nonlinearPattern || omc_Flags_isSet(threadData, _OMC_LIT302)))
          {
            {
              modelica_metatype __omcQ_24tmpVar51;
              modelica_metatype* tmp64;
              modelica_metatype tmpMeta65;
              modelica_metatype tmpMeta66;
              modelica_metatype __omcQ_24tmpVar50;
              modelica_integer tmp67;
              modelica_integer tmp68;
              modelica_integer tmp69;
              modelica_integer _i;
              tmp68 = 1 /* Range step-value */;
              tmp69 = _sizeN /* Range stop-value */;
              _i = ((modelica_integer) 1) /* Range start-value */;
              _i = (((modelica_integer) 1) /* Range start-value */)-tmp68;
              tmpMeta65 = MMC_REFSTRUCTLIT(mmc_nil);
              __omcQ_24tmpVar51 = tmpMeta65; /* defaultValue */
              tmp64 = &__omcQ_24tmpVar51;
              while(1) {
                tmp67 = 1;
                if (tmp68 > 0 ? _i+tmp68 <= tmp69 : _i+tmp68 >= tmp69) {
                  _i += tmp68;
                  tmp67--;
                }
                if (tmp67 == 0) {
                  tmpMeta66 = mmc_mk_cons(arrayGet(_inDepCompRefs, _i), MMC_REFSTRUCTLIT(mmc_nil));
                  __omcQ_24tmpVar50 = tmpMeta66;
                  *tmp64 = mmc_mk_cons(__omcQ_24tmpVar50,0);
                  tmp64 = &MMC_CDR(*tmp64);
                } else if (tmp67 == 1) {
                  break;
                } else {
                  goto goto_2;
                }
              }
              *tmp64 = mmc_mk_nil();
              tmpMeta63 = __omcQ_24tmpVar51;
            }
            _coloring = tmpMeta63;
          }
          else
          {
            _coloredArray = omc_SymbolicJacobian_createColoring(threadData, _sparseArray, _sparseArrayT, _sizeN, _sizeM);

            {
              modelica_metatype __omcQ_24tmpVar55;
              modelica_metatype* tmp71;
              modelica_metatype tmpMeta72;
              modelica_metatype tmpMeta73;
              modelica_metatype __omcQ_24tmpVar54;
              modelica_integer tmp77;
              modelica_metatype _lst_loopVar = 0;
              modelica_integer tmp78;
              modelica_metatype _lst;
              _lst_loopVar = _coloredArray;
              tmp78 = 1;
              tmpMeta72 = MMC_REFSTRUCTLIT(mmc_nil);
              __omcQ_24tmpVar55 = tmpMeta72; /* defaultValue */
              tmp71 = &__omcQ_24tmpVar55;
              while(1) {
                tmp77 = 1;
                if (tmp78 <= arrayLength(_lst_loopVar)) {
                  _lst = arrayGet(_lst_loopVar, tmp78++);
                  tmp77--;
                }
                if (tmp77 == 0) {
                  {
                    modelica_metatype __omcQ_24tmpVar53;
                    modelica_metatype* tmp74;
                    modelica_metatype tmpMeta75;
                    modelica_metatype __omcQ_24tmpVar52;
                    modelica_integer tmp76;
                    modelica_metatype _i_loopVar = 0;
                    modelica_metatype _i;
                    _i_loopVar = _lst;
                    tmpMeta75 = MMC_REFSTRUCTLIT(mmc_nil);
                    __omcQ_24tmpVar53 = tmpMeta75; /* defaultValue */
                    tmp74 = &__omcQ_24tmpVar53;
                    while(1) {
                      tmp76 = 1;
                      if (!listEmpty(_i_loopVar)) {
                        _i = MMC_CAR(_i_loopVar);
                        _i_loopVar = MMC_CDR(_i_loopVar);
                        tmp76--;
                      }
                      if (tmp76 == 0) {
                        __omcQ_24tmpVar52 = arrayGet(_inDepCompRefs, mmc_unbox_integer(_i));
                        *tmp74 = mmc_mk_cons(__omcQ_24tmpVar52,0);
                        tmp74 = &MMC_CDR(*tmp74);
                      } else if (tmp76 == 1) {
                        break;
                      } else {
                        goto goto_2;
                      }
                    }
                    *tmp74 = mmc_mk_nil();
                    tmpMeta73 = __omcQ_24tmpVar53;
                  }
                  __omcQ_24tmpVar54 = tmpMeta73;
                  *tmp71 = mmc_mk_cons(__omcQ_24tmpVar54,0);
                  tmp71 = &MMC_CDR(*tmp71);
                } else if (tmp77 == 1) {
                  break;
                } else {
                  goto goto_2;
                }
              }
              *tmp71 = mmc_mk_nil();
              tmpMeta70 = __omcQ_24tmpVar55;
            }
            _coloring = tmpMeta70;
          }

          if(omc_Flags_isSet(threadData, _OMC_LIT282))
          {
            tmpMeta79 = stringAppend(_OMC_LIT296,_patternName);
            tmpMeta80 = stringAppend(tmpMeta79,_OMC_LIT303);
            tmpMeta81 = stringAppend(tmpMeta80,realString(mmc_clock()));
            tmpMeta82 = stringAppend(tmpMeta81,_OMC_LIT19);
            fputs(MMC_STRINGDATA(tmpMeta82),stdout);
          }

          tmpMeta83 = mmc_mk_box2(0, _inDepCompRefsLst, _depCompRefsLst);
          tmpMeta84 = mmc_mk_box4(0, _sparsetupleT, _sparsetuple, tmpMeta83, mmc_mk_integer(_nonZeroElements));
          _outSparsePattern = tmpMeta84;

          if(omc_Flags_isSet(threadData, _OMC_LIT310))
          {
            tmpMeta85 = stringAppend(_OMC_LIT304,_patternName);
            tmpMeta86 = stringAppend(tmpMeta85,_OMC_LIT305);
            omc_BackendDump_dumpSparsityPattern(threadData, _outSparsePattern, tmpMeta86);

            tmpMeta87 = stringAppend(_OMC_LIT304,_patternName);
            tmpMeta88 = stringAppend(tmpMeta87,_OMC_LIT306);
            omc_BackendDump_dumpSparseColoring(threadData, _coloring, tmpMeta88);
          }
          tmpMeta[0+0] = _outSparsePattern;
          tmpMeta[0+1] = _coloring;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT311, _OMC_LIT312);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outSparsePattern = tmpMeta[0+0];
  _outColoredCols = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outColoredCols) { *out_outColoredCols = _outColoredCols; }
  return _outSparsePattern;
}
modelica_metatype boxptr_SymbolicJacobian_generateSparsePattern(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype _inIndependentVars, modelica_metatype _inDependentVars, modelica_metatype _nonlinearPattern, modelica_metatype *out_outColoredCols)
{
  modelica_integer tmp1;
  modelica_metatype _outSparsePattern = NULL;
  tmp1 = mmc_unbox_integer(_nonlinearPattern);
  _outSparsePattern = omc_SymbolicJacobian_generateSparsePattern(threadData, _inBackendDAE, _inIndependentVars, _inDependentVars, tmp1, out_outColoredCols);
  /* skip box _outSparsePattern; tuple<list<tuple<DAE.ComponentRef, list<DAE.ComponentRef>>>, list<tuple<DAE.ComponentRef, list<DAE.ComponentRef>>>, tuple<list<DAE.ComponentRef>, list<DAE.ComponentRef>>, #Integer> */
  /* skip box _outColoredCols; list<list<DAE.ComponentRef>> */
  return _outSparsePattern;
}

PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_checkLinearSystem(threadData_t *threadData, modelica_integer _info, modelica_metatype _vars, modelica_metatype _jac, modelica_metatype _rhs, modelica_metatype _eqnlst)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_integer tmp3_1;
    tmp3_1 = _info;
    {
      modelica_string _infoStr = NULL;
      modelica_string _syst = NULL;
      modelica_string _varnames = NULL;
      modelica_string _varname = NULL;
      modelica_string _rhsStr = NULL;
      modelica_string _jacStr = NULL;
      modelica_string _eqnstr = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _infoStr has no default value.
      // _syst has no default value.
      // _varnames has no default value.
      // _varname has no default value.
      // _rhsStr has no default value.
      // _jacStr has no default value.
      // _eqnstr has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (0 != tmp3_1) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_boolean tmp5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp5 = (_info > ((modelica_integer) 0));
          if (1 /* true */ != tmp5) goto goto_1;

          _varname = omc_ComponentReference_printComponentRefStr(threadData, listGet(_vars, _info));

          _infoStr = intString(_info);

          _varnames = stringDelimitList(omc_List_map(threadData, _vars, boxvar_ComponentReference_printComponentRefStr), _OMC_LIT313);

          _rhsStr = stringDelimitList(omc_List_map(threadData, _rhs, boxvar_realString), _OMC_LIT313);

          _jacStr = stringDelimitList(omc_List_map1(threadData, omc_List_mapList(threadData, _jac, boxvar_realString), boxvar_stringDelimitList, _OMC_LIT314), _OMC_LIT313);

          _eqnstr = omc_BackendDump_dumpEqnsStr(threadData, _eqnlst);

          tmpMeta6 = mmc_mk_cons(_OMC_LIT19, mmc_mk_cons(_eqnstr, mmc_mk_cons(_OMC_LIT315, mmc_mk_cons(_jacStr, mmc_mk_cons(_OMC_LIT316, mmc_mk_cons(_varnames, mmc_mk_cons(_OMC_LIT317, mmc_mk_cons(_rhsStr, mmc_mk_cons(_OMC_LIT318, MMC_REFSTRUCTLIT(mmc_nil))))))))));
          _syst = stringAppendList(tmpMeta6);

          tmpMeta7 = mmc_mk_cons(_syst, mmc_mk_cons(_infoStr, mmc_mk_cons(_varname, MMC_REFSTRUCTLIT(mmc_nil))));
          omc_Error_addMessage(threadData, _OMC_LIT322, tmpMeta7);
          goto goto_1;
          goto tmp2_done;
        }
        case 2: {
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp8 = (_info < ((modelica_integer) 0));
          if (1 /* true */ != tmp8) goto goto_1;

          _varnames = stringDelimitList(omc_List_map(threadData, _vars, boxvar_ComponentReference_printComponentRefStr), _OMC_LIT313);

          _rhsStr = stringDelimitList(omc_List_map(threadData, _rhs, boxvar_realString), _OMC_LIT323);

          _jacStr = stringDelimitList(omc_List_map1(threadData, omc_List_mapList(threadData, _jac, boxvar_realString), boxvar_stringDelimitList, _OMC_LIT314), _OMC_LIT323);

          _eqnstr = omc_BackendDump_dumpEqnsStr(threadData, _eqnlst);

          tmpMeta9 = mmc_mk_cons(_eqnstr, mmc_mk_cons(_OMC_LIT324, mmc_mk_cons(_jacStr, mmc_mk_cons(_OMC_LIT325, mmc_mk_cons(_varnames, mmc_mk_cons(_OMC_LIT326, mmc_mk_cons(_rhsStr, mmc_mk_cons(_OMC_LIT327, MMC_REFSTRUCTLIT(mmc_nil)))))))));
          _syst = stringAppendList(tmpMeta9);

          tmpMeta10 = mmc_mk_cons(_OMC_LIT331, mmc_mk_cons(_syst, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addMessage(threadData, _OMC_LIT330, tmpMeta10);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 3) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_SymbolicJacobian_checkLinearSystem(threadData_t *threadData, modelica_metatype _info, modelica_metatype _vars, modelica_metatype _jac, modelica_metatype _rhs, modelica_metatype _eqnlst)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_info);
  omc_SymbolicJacobian_checkLinearSystem(threadData, tmp1, _vars, _jac, _rhs, _eqnlst);
  return;
}

PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_evaluateConstantJacobian2(threadData_t *threadData, modelica_metatype _jac, modelica_metatype _vals)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _jac;
    {
      modelica_metatype _exp = NULL;
      modelica_integer _i1;
      modelica_integer _i2;
      modelica_real _r;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _exp has no default value.
      // _i1 has no default value.
      // _i2 has no default value.
      // _r has no default value.
      tmp3 = 0;
      for (; tmp3 < 1; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_integer tmp6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_real tmp13;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          tmp6 = mmc_unbox_integer(tmpMeta5);
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmp8 = mmc_unbox_integer(tmpMeta7);
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,3,3) == 0) goto tmp2_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          
          _i1 = tmp6  /* pattern as ty=Integer */;
          _i2 = tmp8  /* pattern as ty=Integer */;
          _exp = tmpMeta10;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta11 = omc_Ceval_cevalSimple(threadData, _exp);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,1,1) == 0) goto goto_1;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          tmp13 = mmc_unbox_real(tmpMeta12);
          _r = tmp13  /* pattern as ty=Real */;

          arrayUpdate(arrayGet(_vals, _i1), _i2, mmc_mk_real(_r));
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_evaluateConstantJacobianArray(threadData_t *threadData, modelica_integer _size, modelica_metatype _jac)
{
  modelica_metatype _valarr = NULL;
  modelica_metatype _tmp = NULL;
  modelica_metatype _tmp2 = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _valarr has no default value.
  // _tmp has no default value.
  // _tmp2 has no default value.
  _tmp = arrayCreate(_size, _OMC_LIT2);

  _tmp2 = omc_List_map(threadData, omc_List_fill(threadData, _tmp, _size), boxvar_arrayCopy);

  _valarr = listArray(_tmp2);

  omc_List_map1__0(threadData, _jac, boxvar_SymbolicJacobian_evaluateConstantJacobian2, _valarr);
  _return: OMC_LABEL_UNUSED
  return _valarr;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_evaluateConstantJacobianArray(threadData_t *threadData, modelica_metatype _size, modelica_metatype _jac)
{
  modelica_integer tmp1;
  modelica_metatype _valarr = NULL;
  tmp1 = mmc_unbox_integer(_size);
  _valarr = omc_SymbolicJacobian_evaluateConstantJacobianArray(threadData, tmp1, _jac);
  /* skip box _valarr; array<array<#Real>> */
  return _valarr;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_evaluateConstantJacobian(threadData_t *threadData, modelica_integer _size, modelica_metatype _jac)
{
  modelica_metatype _vals = NULL;
  modelica_metatype _valarr = NULL;
  modelica_metatype _tmp2 = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _vals has no default value.
  // _valarr has no default value.
  // _tmp2 has no default value.
  _valarr = omc_SymbolicJacobian_evaluateConstantJacobianArray(threadData, _size, _jac);

  _tmp2 = arrayList(_valarr);

  _vals = omc_List_map(threadData, _tmp2, boxvar_arrayList);
  _return: OMC_LABEL_UNUSED
  return _vals;
}
modelica_metatype boxptr_SymbolicJacobian_evaluateConstantJacobian(threadData_t *threadData, modelica_metatype _size, modelica_metatype _jac)
{
  modelica_integer tmp1;
  modelica_metatype _vals = NULL;
  tmp1 = mmc_unbox_integer(_size);
  _vals = omc_SymbolicJacobian_evaluateConstantJacobian(threadData, tmp1, _jac);
  /* skip box _vals; list<list<#Real>> */
  return _vals;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_changeConstantLinearSystemVars(threadData_t *threadData, modelica_metatype _inVarLst, modelica_metatype _inSolvedVals, modelica_metatype _inSources, modelica_metatype _var_indxs, modelica_metatype _inVars, modelica_metatype _ieqns, modelica_metatype _ishared, modelica_metatype *out_oeqns, modelica_metatype *out_oshared)
{
  modelica_metatype _outVars = NULL;
  modelica_metatype _oeqns = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVars has no default value.
  // _oeqns has no default value.
  // _oshared has no default value.
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;modelica_metatype tmp4_3;modelica_metatype tmp4_4;modelica_metatype tmp4_5;modelica_metatype tmp4_6;
    tmp4_1 = _inVarLst;
    tmp4_2 = _inSolvedVals;
    tmp4_3 = _inSources;
    tmp4_4 = _var_indxs;
    tmp4_5 = _inVars;
    tmp4_6 = _ieqns;
    {
      modelica_metatype _v = NULL;
      modelica_metatype _v1 = NULL;
      modelica_metatype _varlst = NULL;
      modelica_metatype _slst = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _vars1 = NULL;
      modelica_real _r;
      modelica_metatype _rlst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _eqns = NULL;
      modelica_integer _indx;
      modelica_metatype _vindxs = NULL;
      modelica_metatype _cref = NULL;
      modelica_metatype _tp = NULL;
      modelica_metatype _e = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _v has no default value.
      // _v1 has no default value.
      // _varlst has no default value.
      // _slst has no default value.
      // _vars has no default value.
      // _vars1 has no default value.
      // _r has no default value.
      // _rlst has no default value.
      // _shared has no default value.
      // _eqns has no default value.
      // _indx has no default value.
      // _vindxs has no default value.
      // _cref has no default value.
      // _tp has no default value.
      // _e has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          if (!listEmpty(tmp4_3)) goto tmp3_end;
          
          _vars = tmp4_5;
          _eqns = tmp4_6;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _vars;
          tmpMeta[0+1] = _eqns;
          tmpMeta[0+2] = _ishared;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_real tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_2);
          tmpMeta7 = MMC_CDR(tmp4_2);
          tmp8 = mmc_unbox_real(tmpMeta6);
          if (listEmpty(tmp4_3)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmp4_3);
          tmpMeta10 = MMC_CDR(tmp4_3);
          if (listEmpty(tmp4_4)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_4);
          tmpMeta12 = MMC_CDR(tmp4_4);
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta13 = MMC_CAR(tmp4_1);
          tmpMeta14 = MMC_CDR(tmp4_1);
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 2));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta16,1,3) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 6));
          
          _r = tmp8  /* pattern as ty=Real */;
          _rlst = tmpMeta7;
          _slst = tmpMeta10;
          _vindxs = tmpMeta12;
          _cref = tmpMeta15;
          _tp = tmpMeta17;
          _varlst = tmpMeta14;
          _vars = tmp4_5;
          _eqns = tmp4_6;
          /* Pattern matching succeeded */
          _e = omc_Expression_makeCrefExp(threadData, _cref, _tp);

          _e = omc_Expression_expDer(threadData, _e);

          tmpMeta18 = mmc_mk_box2(4, &DAE_Exp_RCONST__desc, mmc_mk_real(_r));
          tmpMeta19 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _e, tmpMeta18, _OMC_LIT14, _OMC_LIT17);
          _eqns = omc_BackendEquation_add(threadData, tmpMeta19, _eqns);
          /* Tail recursive call */
          _inVarLst = _varlst;
          _inSolvedVals = _rlst;
          _inSources = _slst;
          _var_indxs = _vindxs;
          _inVars = _vars;
          _ieqns = _eqns;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_real tmp24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_integer tmp29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta20 = MMC_CAR(tmp4_1);
          tmpMeta21 = MMC_CDR(tmp4_1);
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta22 = MMC_CAR(tmp4_2);
          tmpMeta23 = MMC_CDR(tmp4_2);
          tmp24 = mmc_unbox_real(tmpMeta22);
          if (listEmpty(tmp4_3)) goto tmp3_end;
          tmpMeta25 = MMC_CAR(tmp4_3);
          tmpMeta26 = MMC_CDR(tmp4_3);
          if (listEmpty(tmp4_4)) goto tmp3_end;
          tmpMeta27 = MMC_CAR(tmp4_4);
          tmpMeta28 = MMC_CDR(tmp4_4);
          tmp29 = mmc_unbox_integer(tmpMeta27);
          
          _v = tmpMeta20;
          _varlst = tmpMeta21;
          _r = tmp24  /* pattern as ty=Real */;
          _rlst = tmpMeta23;
          _slst = tmpMeta26;
          _indx = tmp29  /* pattern as ty=Integer */;
          _vindxs = tmpMeta28;
          _vars = tmp4_5;
          _eqns = tmp4_6;
          /* Pattern matching succeeded */
          tmpMeta30 = mmc_mk_box2(4, &DAE_Exp_RCONST__desc, mmc_mk_real(_r));
          _v1 = omc_BackendVariable_setBindExp(threadData, _v, mmc_mk_some(tmpMeta30));

          tmpMeta31 = mmc_mk_box2(4, &DAE_Exp_RCONST__desc, mmc_mk_real(_r));
          _v1 = omc_BackendVariable_setVarStartValue(threadData, _v1, tmpMeta31);

          _vars1 = omc_BackendVariable_removeVar(threadData, _indx, _vars, NULL);

          _shared = omc_BackendVariable_addGlobalKnownVarDAE(threadData, _v1, _ishared);
          /* Tail recursive call */
          _inVarLst = _varlst;
          _inSolvedVals = _rlst;
          _inSources = _slst;
          _var_indxs = _vindxs;
          _inVars = _vars1;
          _ieqns = _eqns;
          _ishared = _shared;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVars = tmpMeta[0+0];
  _oeqns = tmpMeta[0+1];
  _oshared = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oeqns) { *out_oeqns = _oeqns; }
  if (out_oshared) { *out_oshared = _oshared; }
  return _outVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_solveLinearSystem(threadData_t *threadData, modelica_metatype _inSyst, modelica_metatype _ishared, modelica_metatype _eqn_lst, modelica_metatype _eqn_indxs, modelica_metatype _var_lst, modelica_metatype _var_indxs, modelica_metatype _jac, modelica_metatype *out_oshared)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inSyst;
    tmp4_2 = _ishared;
    {
      modelica_metatype _v = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _eqns1 = NULL;
      modelica_metatype _beqs = NULL;
      modelica_metatype _sources = NULL;
      modelica_metatype _rhsVals = NULL;
      modelica_metatype _solvedVals = NULL;
      modelica_metatype _jacVals = NULL;
      modelica_integer _linInfo;
      modelica_metatype _names = NULL;
      modelica_metatype _funcs = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _syst = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _v has no default value.
      // _eqns has no default value.
      // _eqns1 has no default value.
      // _beqs has no default value.
      // _sources has no default value.
      // _rhsVals has no default value.
      // _solvedVals has no default value.
      // _jacVals has no default value.
      // _linInfo has no default value.
      // _names has no default value.
      // _funcs has no default value.
      // _shared has no default value.
      // _syst has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 12));
          
          _syst = tmp4_1;
          _funcs = tmpMeta6;
          /* Pattern matching succeeded */
          _eqns1 = omc_BackendEquation_listEquation(threadData, _eqn_lst);

          _v = omc_BackendVariable_listVar1(threadData, _var_lst);

          _beqs = omc_BackendDAEUtil_getEqnSysRhs(threadData, _eqns1, _v, mmc_mk_some(_funcs) ,&_sources);

          _beqs = listReverse(_beqs);

          _rhsVals = omc_ValuesUtil_valueReals(threadData, omc_List_map(threadData, _beqs, boxvar_Ceval_cevalSimple));

          _jacVals = omc_SymbolicJacobian_evaluateConstantJacobian(threadData, listLength(_var_lst), _jac);

          _solvedVals = omc_System_dgesv(threadData, _jacVals, _rhsVals ,&_linInfo);

          _names = omc_List_map(threadData, _var_lst, boxvar_BackendVariable_varCref);

          omc_SymbolicJacobian_checkLinearSystem(threadData, _linInfo, _names, _jacVals, _rhsVals, _eqn_lst);

          tmpMeta7 = mmc_mk_box5(11, &DAE_SymbolicOperation_LINEAR__SOLVED__desc, _names, _jacVals, _rhsVals, _solvedVals);
          _sources = omc_List_map1(threadData, _sources, boxvar_ElementSource_addSymbolicTransformation, tmpMeta7);

          _v = omc_SymbolicJacobian_changeConstantLinearSystemVars(threadData, _var_lst, _solvedVals, _sources, _var_indxs, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))), _ishared ,&_eqns ,&_shared);

          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[2] = _v;
          _syst = tmpMeta8;

          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[3] = omc_List_fold(threadData, _eqn_indxs, boxvar_BackendEquation_delete, _eqns);
          _syst = tmpMeta9;
          tmpMeta[0+0] = omc_BackendDAEUtil_setEqSystMatrices(threadData, _syst, mmc_mk_none(), mmc_mk_none(), mmc_mk_none());
          tmpMeta[0+1] = _shared;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_constantLinearSystemWork(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _comp, modelica_integer _sysIdxIn, modelica_integer _compIdxIn, modelica_metatype *out_oshared, modelica_boolean *out_outRunMatching, modelica_integer *out_sysIdxOut, modelica_integer *out_compIdxOut)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_boolean _outRunMatching;
  modelica_integer _sysIdxOut;
  modelica_integer _compIdxOut;
  modelica_boolean tmp1_c2 __attribute__((unused)) = 0;
  modelica_integer tmp1_c3 __attribute__((unused)) = 0;
  modelica_integer tmp1_c4 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outRunMatching has no default value.
  // _sysIdxOut has no default value.
  // _compIdxOut has no default value.
  
  
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;
    tmp4_1 = _isyst;
    tmp4_2 = _ishared;
    tmp4_3 = _comp;
    {
      modelica_metatype _vars = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _eqn_lst = NULL;
      modelica_metatype _var_lst = NULL;
      modelica_metatype _eindex = NULL;
      modelica_metatype _vindx = NULL;
      modelica_metatype _jac = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_integer _sysIdx;
      modelica_metatype _order = NULL;
      modelica_metatype _bVarIdcs = NULL;
      modelica_metatype _bEqIdcs = NULL;
      modelica_metatype _bVars = NULL;
      modelica_metatype _bEqs = NULL;
      modelica_metatype _sysEqs = NULL;
      modelica_metatype _bComps = NULL;
      modelica_metatype _sysComps = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _vars has no default value.
      // _eqns has no default value.
      // _eqn_lst has no default value.
      // _var_lst has no default value.
      // _eindex has no default value.
      // _vindx has no default value.
      // _jac has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _sysIdx has no default value.
      // _order has no default value.
      // _bVarIdcs has no default value.
      // _bEqIdcs has no default value.
      // _bVars has no default value.
      // _bEqs has no default value.
      // _sysEqs has no default value.
      // _bComps has no default value.
      // _sysComps has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,1,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,1) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          if (optionNone(tmpMeta9)) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 1));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,0,0) == 0) goto tmp3_end;
          
          _eindex = tmpMeta6;
          _vindx = tmpMeta7;
          _jac = tmpMeta10;
          _syst = tmp4_1;
          _shared = tmp4_2;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _eqn_lst = omc_BackendEquation_getList(threadData, _eindex, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))));

          _var_lst = omc_List_map1r(threadData, _vindx, boxvar_BackendVariable_getVarAt, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))));

          _syst = omc_SymbolicJacobian_solveLinearSystem(threadData, _syst, _shared, _eqn_lst, _eindex, _var_lst, _vindx, _jac ,&_shared);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmp1_c2 = 1 /* true */;
          tmp1_c3 = _sysIdxIn;
          tmp1_c4 = ((modelica_integer) 1) + _compIdxIn;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_boolean tmp20;
          modelica_boolean tmp21;
          modelica_boolean tmp22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,1,5) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta14,0,1) == 0) goto tmp3_end;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 2));
          if (optionNone(tmpMeta15)) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 1));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta17,1,0) == 0) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _eindex = tmpMeta12;
          _vindx = tmpMeta13;
          _jac = tmpMeta16;
          _syst = tmp4_1;
          _vars = tmpMeta18;
          _eqns = tmpMeta19;
          _shared = tmp4_2;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp20 = omc_BackendDAEUtil_isSimulationDAE(threadData, _ishared);
          if (1 /* true */ != tmp20) goto goto_2;

          _eqn_lst = omc_BackendEquation_getList(threadData, _eindex, _eqns);

          _var_lst = omc_List_map1r(threadData, _vindx, boxvar_BackendVariable_getVarAt, _vars);

          /* Pattern-matching assignment */
          tmp21 = omc_SymbolicJacobian_jacobianIsConstant(threadData, _jac);
          if (1 /* true */ != tmp21) goto goto_2;

          /* Pattern-matching assignment */
          tmp22 = omc_Flags_isSet(threadData, _OMC_LIT335);
          if (1 /* true */ != tmp22) goto goto_2;

          _eqn_lst = omc_BackendEquation_getList(threadData, _eindex, _eqns);

          _var_lst = omc_List_map1r(threadData, _vindx, boxvar_BackendVariable_getVarAt, _vars);

          _sysEqs = omc_SymbolicJacobian_solveConstJacLinearSystem(threadData, _syst, _shared, _eqn_lst, _eindex, listReverse(_var_lst), _vindx, _jac, _sysIdxIn, _compIdxIn ,&_bEqs ,&_bVars ,&_order ,&_sysIdx);

          _bVarIdcs = omc_List_intRange2(threadData, ((modelica_integer) 1) + omc_BackendVariable_varsSize(threadData, _vars), omc_BackendVariable_varsSize(threadData, _vars) + listLength(_bVars));

          _bEqIdcs = omc_List_intRange2(threadData, ((modelica_integer) 1) + omc_BackendEquation_getNumberOfEquations(threadData, _eqns), omc_BackendEquation_getNumberOfEquations(threadData, _eqns) + listLength(_bEqs));

          _bComps = omc_List_threadMap(threadData, _bEqIdcs, _bVarIdcs, boxvar_BackendDAEUtil_makeSingleEquationComp);

          _sysComps = omc_List_threadMap(threadData, omc_List_map1(threadData, arrayList(_order), boxvar_List_getIndexFirst, _eindex), listReverse(_vindx), boxvar_BackendDAEUtil_makeSingleEquationComp);

          tmpMeta23 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta23), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta23))[2] = omc_List_fold(threadData, _bVars, boxvar_BackendVariable_addVar, _vars);
          _syst = tmpMeta23;

          _eqns = omc_BackendEquation_addList(threadData, _bEqs, _eqns);

          tmpMeta24 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta24), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta24))[3] = omc_List_threadFold(threadData, _eindex, _sysEqs, boxvar_BackendEquation_setAtIndexFirst, _eqns);
          _syst = tmpMeta24;

          _syst = omc_BackendDAEUtil_setEqSystMatrices(threadData, _syst, mmc_mk_none(), mmc_mk_none(), mmc_mk_none());

          _syst = omc_SymbolicJacobian_replaceStrongComponent(threadData, _syst, _compIdxIn, _sysComps, _bComps);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmp1_c2 = 0 /* false */;
          tmp1_c3 = _sysIdx;
          tmp1_c4 = _compIdxIn + listLength(_sysComps);
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _isyst;
          tmpMeta[0+1] = _ishared;
          tmp1_c2 = 0 /* false */;
          tmp1_c3 = _sysIdxIn;
          tmp1_c4 = ((modelica_integer) 1) + _compIdxIn;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outRunMatching = tmp1_c2;
  _sysIdxOut = tmp1_c3;
  _compIdxOut = tmp1_c4;
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outRunMatching) { *out_outRunMatching = _outRunMatching; }
  if (out_sysIdxOut) { *out_sysIdxOut = _sysIdxOut; }
  if (out_compIdxOut) { *out_compIdxOut = _compIdxOut; }
  return _osyst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_constantLinearSystemWork(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _comp, modelica_metatype _sysIdxIn, modelica_metatype _compIdxIn, modelica_metatype *out_oshared, modelica_metatype *out_outRunMatching, modelica_metatype *out_sysIdxOut, modelica_metatype *out_compIdxOut)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_boolean _outRunMatching;
  modelica_integer _sysIdxOut;
  modelica_integer _compIdxOut;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_sysIdxIn);
  tmp2 = mmc_unbox_integer(_compIdxIn);
  _osyst = omc_SymbolicJacobian_constantLinearSystemWork(threadData, _isyst, _ishared, _comp, tmp1, tmp2, out_oshared, &_outRunMatching, &_sysIdxOut, &_compIdxOut);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  if (out_outRunMatching) { *out_outRunMatching = mmc_mk_icon(_outRunMatching); }
  if (out_sysIdxOut) { *out_sysIdxOut = mmc_mk_icon(_sysIdxOut); }
  if (out_compIdxOut) { *out_compIdxOut = mmc_mk_icon(_compIdxOut); }
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_constantLinearSystem1(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inComps, modelica_boolean _inRunMatching, modelica_integer _sysIdxIn, modelica_integer _compIdxIn, modelica_metatype *out_oshared, modelica_boolean *out_runMatching, modelica_integer *out_sysIdxOut)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_boolean _runMatching;
  modelica_integer _sysIdxOut;
  modelica_boolean tmp1_c2 __attribute__((unused)) = 0;
  modelica_integer tmp1_c3 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _runMatching has no default value.
  // _sysIdxOut has no default value.
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inComps;
    {
      modelica_metatype _comps = NULL;
      modelica_metatype _comp = NULL;
      modelica_boolean _b;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_integer _sysIdx;
      modelica_integer _compIdx;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _comps has no default value.
      // _comp has no default value.
      // _b has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _sysIdx has no default value.
      // _compIdx has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _isyst;
          tmpMeta[0+1] = _ishared;
          tmp1_c2 = _inRunMatching;
          tmp1_c3 = _sysIdxIn;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          _comp = tmpMeta6;
          _comps = tmpMeta7;
          /* Pattern matching succeeded */
          _syst = omc_SymbolicJacobian_constantLinearSystemWork(threadData, _isyst, _ishared, _comp, _sysIdxIn, _compIdxIn ,&_shared ,&_b ,&_sysIdx ,&_compIdx);
          /* Tail recursive call */
          _isyst = _syst;
          _ishared = _shared;
          _inComps = _comps;
          _inRunMatching = (_b || _inRunMatching);
          _sysIdxIn = _sysIdx;
          _compIdxIn = _compIdx;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _runMatching = tmp1_c2;
  _sysIdxOut = tmp1_c3;
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_runMatching) { *out_runMatching = _runMatching; }
  if (out_sysIdxOut) { *out_sysIdxOut = _sysIdxOut; }
  return _osyst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_constantLinearSystem1(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inComps, modelica_metatype _inRunMatching, modelica_metatype _sysIdxIn, modelica_metatype _compIdxIn, modelica_metatype *out_oshared, modelica_metatype *out_runMatching, modelica_metatype *out_sysIdxOut)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_boolean _runMatching;
  modelica_integer _sysIdxOut;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_inRunMatching);
  tmp2 = mmc_unbox_integer(_sysIdxIn);
  tmp3 = mmc_unbox_integer(_compIdxIn);
  _osyst = omc_SymbolicJacobian_constantLinearSystem1(threadData, _isyst, _ishared, _inComps, tmp1, tmp2, tmp3, out_oshared, &_runMatching, &_sysIdxOut);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  if (out_runMatching) { *out_runMatching = mmc_mk_icon(_runMatching); }
  if (out_sysIdxOut) { *out_sysIdxOut = mmc_mk_icon(_sysIdxOut); }
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_constantLinearSystem2(threadData_t *threadData, modelica_boolean _b, modelica_metatype _isyst)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  { /* match expression */
    modelica_boolean tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _b;
    tmp4_2 = _isyst;
    {
      modelica_metatype _vars = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _stateSets = NULL;
      modelica_metatype _partitionKind = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _vars has no default value.
      // _eqns has no default value.
      // _stateSets has no default value.
      // _partitionKind has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (0 /* false */ != tmp4_1) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _isyst;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (1 /* true */ != tmp4_1) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 8));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 9));
          
          _vars = tmpMeta6;
          _eqns = tmpMeta7;
          _stateSets = tmpMeta8;
          _partitionKind = tmpMeta9;
          /* Pattern matching succeeded */
          _vars = omc_BackendVariable_listVar1(threadData, omc_BackendVariable_varList(threadData, _vars));

          _eqns = omc_BackendEquation_listEquation(threadData, omc_BackendEquation_equationList(threadData, _eqns));
          tmpMeta1 = omc_BackendDAEUtil_createEqSystem(threadData, _vars, _eqns, _stateSets, _partitionKind, omc_BackendEquation_emptyEqns(threadData));
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _osyst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _osyst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_constantLinearSystem2(threadData_t *threadData, modelica_metatype _b, modelica_metatype _isyst)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_b);
  _osyst = omc_SymbolicJacobian_constantLinearSystem2(threadData, tmp1, _isyst);
  /* skip box _osyst; BackendDAE.EqSystem */
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_constantLinearSystem0(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _inShared, modelica_metatype _iTpl, modelica_metatype *out_outShared, modelica_metatype *out_oTpl)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _outShared = NULL;
  modelica_metatype _oTpl = NULL;
  modelica_boolean _changed;
  modelica_integer _sysIdx;
  modelica_metatype _comps = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_metatype tmpMeta4;
  modelica_integer tmp5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _outShared has no default value.
  // _oTpl has no default value.
  // _changed has no default value.
  // _sysIdx has no default value.
  // _comps has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _iTpl;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmp3 = mmc_unbox_integer(tmpMeta2);
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmp5 = mmc_unbox_integer(tmpMeta4);
  _changed = tmp3  /* pattern as ty=Boolean */;
  _sysIdx = tmp5  /* pattern as ty=Integer */;

  /* Pattern-matching assignment */
  tmpMeta6 = _isyst;
  tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 7));
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,1,3) == 0) MMC_THROW_INTERNAL();
  tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 4));
  _comps = tmpMeta8;

  _osyst = omc_SymbolicJacobian_constantLinearSystem1(threadData, _isyst, _inShared, _comps, _changed, _sysIdx, ((modelica_integer) 1) ,&_outShared ,&_changed ,&_sysIdx);

  _osyst = omc_SymbolicJacobian_constantLinearSystem2(threadData, _changed, _osyst);

  tmpMeta9 = mmc_mk_box2(0, mmc_mk_boolean(_changed), mmc_mk_integer(((modelica_integer) 1) + _sysIdx));
  _oTpl = tmpMeta9;
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  if (out_oTpl) { *out_oTpl = _oTpl; }
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_SymbolicJacobian_rListStr(threadData_t *threadData, modelica_metatype _l)
{
  modelica_string _s = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _s has no default value.
  _s = stringDelimitList(omc_List_map(threadData, _l, boxvar_realString), _OMC_LIT314);
  _return: OMC_LABEL_UNUSED
  return _s;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_SymbolicJacobian_getPivotElement(threadData_t *threadData, modelica_metatype _A, modelica_metatype _rangeIn, modelica_integer _startIdx, modelica_integer _n, modelica_real *out_value)
{
  modelica_integer _pos;
  modelica_real _value;
  modelica_integer _i;
  modelica_real _entry;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _pos = ((modelica_integer) 0);
  _value = 0.0;
  // _i has no default value.
  // _entry has no default value.
  {
    modelica_metatype _i;
    for (tmpMeta1 = _rangeIn; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _i = MMC_CAR(tmpMeta1);
      _entry = mmc_unbox_real(arrayGet(arrayGet(_A,mmc_unbox_integer(_i)) /* DAE.ASUB */, _startIdx));

      if((fabs(_entry) > _value))
      {
        _value = _entry;

        _pos = mmc_unbox_integer(_i);
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_value) { *out_value = _value; }
  return _pos;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_getPivotElement(threadData_t *threadData, modelica_metatype _A, modelica_metatype _rangeIn, modelica_metatype _startIdx, modelica_metatype _n, modelica_metatype *out_value)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_real _value;
  modelica_integer _pos;
  modelica_metatype out_pos;
  tmp1 = mmc_unbox_integer(_startIdx);
  tmp2 = mmc_unbox_integer(_n);
  _pos = omc_SymbolicJacobian_getPivotElement(threadData, _A, _rangeIn, tmp1, tmp2, &_value);
  out_pos = mmc_mk_icon(_pos);
  if (out_value) { *out_value = mmc_mk_rcon(_value); }
  return out_pos;
}

PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_gauss(threadData_t *threadData, modelica_metatype _A, modelica_metatype _b, modelica_integer _indxIn, modelica_integer _n, modelica_metatype _rangeIn, modelica_metatype _permutation)
{
  modelica_integer _pivotIdx;
  modelica_integer _pos;
  modelica_integer _ir;
  modelica_integer _ic;
  modelica_integer _p_ir;
  modelica_real _pivot;
  modelica_real _entry;
  modelica_real _pr_entry;
  modelica_real _b_entry;
  modelica_real _first;
  modelica_metatype _range = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _pivotIdx has no default value.
  // _pos has no default value.
  // _ir has no default value.
  // _ic has no default value.
  // _p_ir has no default value.
  // _pivot has no default value.
  // _entry has no default value.
  // _pr_entry has no default value.
  // _b_entry has no default value.
  // _first has no default value.
  // _range has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_boolean tmp5;
          modelica_real tmp6;
          modelica_integer tmp7;
          modelica_integer tmp8;
          modelica_integer tmp9;
          modelica_real tmp10;
          modelica_integer tmp11;
          modelica_integer tmp12;
          modelica_integer tmp13;
          modelica_metatype tmpMeta14;
          modelica_integer tmp15;
          modelica_integer tmp16;
          modelica_integer tmp17;
          modelica_metatype tmpMeta18;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp5 = (_indxIn <= _n);
          if (1 /* true */ != tmp5) goto goto_1;

          _pivotIdx = omc_SymbolicJacobian_getPivotElement(threadData, _A, _rangeIn, _indxIn, _n ,&_pivot);

          arrayUpdate(_permutation, _indxIn, mmc_mk_integer(_pivotIdx));

          _range = omc_List_deleteMemberOnTrue(threadData, mmc_mk_integer(_pivotIdx), _rangeIn, boxvar_intEq, NULL);

          tmp7 = _indxIn; tmp8 = 1; tmp9 = _n;
          if(!(((tmp8 > 0) && (tmp7 > tmp9)) || ((tmp8 < 0) && (tmp7 < tmp9))))
          {
            modelica_integer _ic;
            for(_ic = _indxIn; in_range_integer(_ic, tmp7, tmp9); _ic += tmp8)
            {
              _entry = mmc_unbox_real(arrayGet(arrayGet(_A,_pivotIdx) /* DAE.ASUB */, _ic));

              tmp6 = _pivot;
              if (tmp6 == 0) {goto goto_1;}
              _entry = (_entry) / tmp6;

              arrayUpdate(arrayGet(_A,_pivotIdx) /* DAE.ASUB */, _ic, mmc_mk_real(_entry));
            }
          }

          tmp11 = ((modelica_integer) 1); tmp12 = 1; tmp13 = _n;
          if(!(((tmp12 > 0) && (tmp11 > tmp13)) || ((tmp12 < 0) && (tmp11 < tmp13))))
          {
            modelica_integer _ic;
            for(_ic = ((modelica_integer) 1); in_range_integer(_ic, tmp11, tmp13); _ic += tmp12)
            {
              _pos = (((modelica_integer) -1) + _pivotIdx) * (_n) + _ic;

              _b_entry = mmc_unbox_real(arrayGet(_b, _pos));

              tmp10 = _pivot;
              if (tmp10 == 0) {goto goto_1;}
              _b_entry = (_b_entry) / tmp10;

              arrayUpdate(_b, _pos, mmc_mk_real(_b_entry));
            }
          }

          {
            modelica_metatype _ir;
            for (tmpMeta14 = _range; !listEmpty(tmpMeta14); tmpMeta14=MMC_CDR(tmpMeta14))
            {
              _ir = MMC_CAR(tmpMeta14);
              _first = mmc_unbox_real(arrayGet(arrayGet(_A,mmc_unbox_integer(_ir)) /* DAE.ASUB */, _indxIn));

              tmp15 = _indxIn; tmp16 = 1; tmp17 = _n;
              if(!(((tmp16 > 0) && (tmp15 > tmp17)) || ((tmp16 < 0) && (tmp15 < tmp17))))
              {
                modelica_integer _ic;
                for(_ic = _indxIn; in_range_integer(_ic, tmp15, tmp17); _ic += tmp16)
                {
                  _pos = (((modelica_integer) -1) + mmc_unbox_integer(_ir)) * (_n) + _ic;

                  _entry = mmc_unbox_real(arrayGet(arrayGet(_A,mmc_unbox_integer(_ir)) /* DAE.ASUB */, _ic));

                  _pivot = mmc_unbox_real(arrayGet(arrayGet(_A,_pivotIdx) /* DAE.ASUB */, _ic));

                  _entry = _entry - ((_first) * (_pivot));

                  arrayUpdate(arrayGet(_A,mmc_unbox_integer(_ir)) /* DAE.ASUB */, _ic, mmc_mk_real(_entry));

                  _b_entry = mmc_unbox_real(arrayGet(_b, _pos));

                  _pivot = mmc_unbox_real(arrayGet(_b, (((modelica_integer) -1) + _pivotIdx) * (_n) + _ic));

                  _b_entry = _b_entry - ((_first) * (_pivot));

                  arrayUpdate(_b, _pos, mmc_mk_real(_b_entry));
                }
              }
            }
          }

          omc_SymbolicJacobian_gauss(threadData, _A, _b, ((modelica_integer) 1) + _indxIn, _n, _range, _permutation);
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_SymbolicJacobian_gauss(threadData_t *threadData, modelica_metatype _A, modelica_metatype _b, modelica_metatype _indxIn, modelica_metatype _n, modelica_metatype _rangeIn, modelica_metatype _permutation)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  tmp1 = mmc_unbox_integer(_indxIn);
  tmp2 = mmc_unbox_integer(_n);
  omc_SymbolicJacobian_gauss(threadData, _A, _b, tmp1, tmp2, _rangeIn, _permutation);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createBVecVars(threadData_t *threadData, modelica_integer _sysIdx, modelica_integer _compIdx, modelica_integer _size, modelica_metatype _typ, modelica_metatype _bExps, modelica_metatype *out_eqLst)
{
  modelica_metatype _varLst = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _eqLst = NULL;
  modelica_metatype tmpMeta2;
  modelica_string _ident = NULL;
  modelica_integer _i;
  modelica_metatype _cref = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype _beq = NULL;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_integer tmp12;
  modelica_integer tmp13;
  modelica_integer tmp14;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _varLst = tmpMeta1;
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _eqLst = tmpMeta2;
  // _ident has no default value.
  // _i has no default value.
  // _cref has no default value.
  // _var has no default value.
  // _beq has no default value.
  tmp12 = ((modelica_integer) 1); tmp13 = 1; tmp14 = _size;
  if(!(((tmp13 > 0) && (tmp12 > tmp14)) || ((tmp13 < 0) && (tmp12 < tmp14))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp12, tmp14); _i += tmp13)
    {
      tmpMeta3 = stringAppend(_OMC_LIT336,intString(_sysIdx));
      tmpMeta4 = stringAppend(tmpMeta3,_OMC_LIT149);
      tmpMeta5 = stringAppend(tmpMeta4,intString(_compIdx));
      tmpMeta6 = stringAppend(tmpMeta5,_OMC_LIT337);
      tmpMeta7 = stringAppend(tmpMeta6,intString(_i));
      _ident = tmpMeta7;

      tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
      _cref = omc_ComponentReference_makeCrefIdent(threadData, _ident, _typ, tmpMeta8);

      _var = omc_BackendVariable_makeVar(threadData, _cref);

      tmpMeta9 = mmc_mk_cons(_var, _varLst);
      _varLst = tmpMeta9;

      tmpMeta10 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, listGet(_bExps, _i), omc_Expression_crefExp(threadData, _cref), _OMC_LIT14, _OMC_LIT339);
      _beq = tmpMeta10;

      tmpMeta11 = mmc_mk_cons(_beq, _eqLst);
      _eqLst = tmpMeta11;
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_eqLst) { *out_eqLst = _eqLst; }
  return _varLst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createBVecVars(threadData_t *threadData, modelica_metatype _sysIdx, modelica_metatype _compIdx, modelica_metatype _size, modelica_metatype _typ, modelica_metatype _bExps, modelica_metatype *out_eqLst)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _varLst = NULL;
  modelica_metatype tmpMeta4;
  tmp1 = mmc_unbox_integer(_sysIdx);
  tmp2 = mmc_unbox_integer(_compIdx);
  tmp3 = mmc_unbox_integer(_size);
  _varLst = omc_SymbolicJacobian_createBVecVars(threadData, tmp1, tmp2, tmp3, _typ, _bExps, out_eqLst);
  /* skip box _varLst; list<BackendDAE.Var> */
  /* skip box _eqLst; list<BackendDAE.Equation> */
  return _varLst;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_makeBinaryExp(threadData_t *threadData, modelica_metatype _inLhs, modelica_metatype _inRhs, modelica_metatype _inOp)
{
  modelica_metatype _outExp = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  tmpMeta1 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, _inLhs, _inOp, _inRhs);
  _outExp = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createSysEquations(threadData_t *threadData, modelica_metatype _A, modelica_metatype _b, modelica_integer _n, modelica_metatype _order, modelica_metatype _xVars, modelica_metatype _bVars)
{
  modelica_metatype _sysEqs = NULL;
  modelica_metatype tmpMeta1;
  modelica_integer _i;
  modelica_integer _row;
  modelica_metatype _lhs = NULL;
  modelica_metatype _rhs = NULL;
  modelica_metatype _exps = NULL;
  modelica_metatype _coeffExps = NULL;
  modelica_metatype _xExps = NULL;
  modelica_metatype _bExps = NULL;
  modelica_metatype _xProds = NULL;
  modelica_metatype _bProds = NULL;
  modelica_metatype _coeffs = NULL;
  modelica_metatype _eq = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _sysEqs = tmpMeta1;
  // _i has no default value.
  // _row has no default value.
  // _lhs has no default value.
  // _rhs has no default value.
  // _exps has no default value.
  // _coeffExps has no default value.
  // _xExps has no default value.
  // _bExps has no default value.
  // _xProds has no default value.
  // _bProds has no default value.
  // _coeffs has no default value.
  // _eq has no default value.
  _xExps = omc_List_map(threadData, _xVars, boxvar_BackendVariable_varExp2);

  _bExps = omc_List_map(threadData, _bVars, boxvar_BackendVariable_varExp2);

  tmp4 = ((modelica_integer) 1); tmp5 = 1; tmp6 = _n;
  if(!(((tmp5 > 0) && (tmp4 > tmp6)) || ((tmp5 < 0) && (tmp4 < tmp6))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp4, tmp6); _i += tmp5)
    {
      _row = mmc_unbox_integer(arrayGet(_order, _i));

      _coeffs = arrayList(arrayGet(_A,_row) /* DAE.ASUB */);

      _coeffExps = omc_List_map(threadData, _coeffs, boxvar_Expression_makeRealExp);

      _xProds = omc_List_threadMap1(threadData, _coeffExps, _xExps, boxvar_SymbolicJacobian_makeBinaryExp, _OMC_LIT1);

      _lhs = omc_List_fold1(threadData, _xProds, boxvar_Expression_makeBinaryExp, _OMC_LIT4, _OMC_LIT3);

      _lhs = omc_ExpressionSimplify_simplify(threadData, _lhs, NULL);

      _coeffs = omc_Array_getRange(threadData, ((modelica_integer) 1) + (((modelica_integer) -1) + _row) * (_n), (_row) * (_n), _b);

      _coeffExps = omc_List_map(threadData, _coeffs, boxvar_Expression_makeRealExp);

      _bProds = omc_List_threadMap1(threadData, _coeffExps, _bExps, boxvar_SymbolicJacobian_makeBinaryExp, _OMC_LIT1);

      _rhs = omc_List_fold1(threadData, _bProds, boxvar_Expression_makeBinaryExp, _OMC_LIT4, _OMC_LIT3);

      _rhs = omc_ExpressionSimplify_simplify(threadData, _rhs, NULL);

      tmpMeta2 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _lhs, _rhs, _OMC_LIT14, _OMC_LIT339);
      _eq = tmpMeta2;

      tmpMeta3 = mmc_mk_cons(_eq, _sysEqs);
      _sysEqs = tmpMeta3;
    }
  }
  _return: OMC_LABEL_UNUSED
  return _sysEqs;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_createSysEquations(threadData_t *threadData, modelica_metatype _A, modelica_metatype _b, modelica_metatype _n, modelica_metatype _order, modelica_metatype _xVars, modelica_metatype _bVars)
{
  modelica_integer tmp1;
  modelica_metatype _sysEqs = NULL;
  modelica_metatype tmpMeta2;
  tmp1 = mmc_unbox_integer(_n);
  _sysEqs = omc_SymbolicJacobian_createSysEquations(threadData, _A, _b, tmp1, _order, _xVars, _bVars);
  /* skip box _sysEqs; list<BackendDAE.Equation> */
  return _sysEqs;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_solveConstJacLinearSystem(threadData_t *threadData, modelica_metatype _syst, modelica_metatype _ishared, modelica_metatype _eqn_lst, modelica_metatype _eqn_indxs, modelica_metatype _var_lst, modelica_metatype _var_indxs, modelica_metatype _jac, modelica_integer _sysIdxIn, modelica_integer _compIdxIn, modelica_metatype *out_bEqsOut, modelica_metatype *out_bVarsOut, modelica_metatype *out_orderOut, modelica_integer *out_sysIdxOut)
{
  modelica_metatype _sysEqsOut = NULL;
  modelica_metatype _bEqsOut = NULL;
  modelica_metatype _bVarsOut = NULL;
  modelica_metatype _orderOut = NULL;
  modelica_integer _sysIdxOut;
  modelica_metatype _vars = NULL;
  modelica_metatype _vars1 = NULL;
  modelica_metatype _v = NULL;
  modelica_metatype _eqns = NULL;
  modelica_metatype _eqns1 = NULL;
  modelica_metatype _eqns2 = NULL;
  modelica_metatype _beqs = NULL;
  modelica_metatype _sources = NULL;
  modelica_metatype _matching = NULL;
  modelica_metatype _funcs = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _stateSets = NULL;
  modelica_metatype _partitionKind = NULL;
  modelica_metatype _A = NULL;
  modelica_metatype _b = NULL;
  modelica_real _entry;
  modelica_integer _row;
  modelica_integer _col;
  modelica_integer _n;
  modelica_integer _systIdx;
  modelica_metatype _order = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_integer tmp9;
  modelica_integer tmp10;
  modelica_integer tmp11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_integer tmp14;
  modelica_integer tmp15;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _sysEqsOut has no default value.
  // _bEqsOut has no default value.
  // _bVarsOut has no default value.
  // _orderOut has no default value.
  // _sysIdxOut has no default value.
  // _vars has no default value.
  // _vars1 has no default value.
  // _v has no default value.
  // _eqns has no default value.
  // _eqns1 has no default value.
  // _eqns2 has no default value.
  // _beqs has no default value.
  // _sources has no default value.
  // _matching has no default value.
  // _funcs has no default value.
  // _shared has no default value.
  // _stateSets has no default value.
  // _partitionKind has no default value.
  // _A has no default value.
  // _b has no default value.
  // _entry has no default value.
  // _row has no default value.
  // _col has no default value.
  // _n has no default value.
  // _systIdx has no default value.
  // _order has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _syst;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 3));
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 7));
  tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 8));
  tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 9));
  _vars = tmpMeta2;
  _eqns = tmpMeta3;
  _matching = tmpMeta4;
  _stateSets = tmpMeta5;
  _partitionKind = tmpMeta6;

  /* Pattern-matching assignment */
  tmpMeta7 = _ishared;
  tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 12));
  _funcs = tmpMeta8;

  _eqns1 = omc_BackendEquation_listEquation(threadData, _eqn_lst);

  _v = omc_BackendVariable_listVar1(threadData, _var_lst);

  _n = listLength(_var_lst);

  _beqs = omc_BackendDAEUtil_getEqnSysRhs(threadData, _eqns1, _v, mmc_mk_some(_funcs) ,&_sources);

  _beqs = listReverse(_beqs);

  _A = omc_SymbolicJacobian_evaluateConstantJacobianArray(threadData, listLength(_var_lst), _jac);

  _b = arrayCreate((_n) * (_n), _OMC_LIT2);

  _order = arrayCreate(_n, mmc_mk_integer(((modelica_integer) 0)));

  tmp9 = ((modelica_integer) 1); tmp10 = 1; tmp11 = _n;
  if(!(((tmp10 > 0) && (tmp9 > tmp11)) || ((tmp10 < 0) && (tmp9 < tmp11))))
  {
    modelica_integer _row;
    for(_row = ((modelica_integer) 1); in_range_integer(_row, tmp9, tmp11); _row += tmp10)
    {
      arrayUpdate(_b, (((modelica_integer) -1) + _row) * (_n) + _row, _OMC_LIT340);
    }
  }

  omc_SymbolicJacobian_gauss(threadData, _A, _b, ((modelica_integer) 1), _n, omc_List_intRange(threadData, _n), _order);

  _bVarsOut = omc_SymbolicJacobian_createBVecVars(threadData, _sysIdxIn, _compIdxIn, _n, _OMC_LIT0, _beqs ,&_bEqsOut);

  _sysEqsOut = omc_SymbolicJacobian_createSysEquations(threadData, _A, _b, _n, _order, _var_lst, _bVarsOut);

  {
    modelica_metatype _a;
    for (tmpMeta12 = _A, tmp15 = arrayLength(tmpMeta12), tmp14 = 1; tmp14 <= tmp15; tmp14++)
    {
      _a = arrayGet(tmpMeta12,tmp14);
      omc_GCExt_free(threadData, _a);
    }
  }

  omc_GCExt_free(threadData, _A);

  omc_GCExt_free(threadData, _b);

  _sysIdxOut = ((modelica_integer) 1) + _sysIdxIn;

  _orderOut = _order;
  _return: OMC_LABEL_UNUSED
  if (out_bEqsOut) { *out_bEqsOut = _bEqsOut; }
  if (out_bVarsOut) { *out_bVarsOut = _bVarsOut; }
  if (out_orderOut) { *out_orderOut = _orderOut; }
  if (out_sysIdxOut) { *out_sysIdxOut = _sysIdxOut; }
  return _sysEqsOut;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_solveConstJacLinearSystem(threadData_t *threadData, modelica_metatype _syst, modelica_metatype _ishared, modelica_metatype _eqn_lst, modelica_metatype _eqn_indxs, modelica_metatype _var_lst, modelica_metatype _var_indxs, modelica_metatype _jac, modelica_metatype _sysIdxIn, modelica_metatype _compIdxIn, modelica_metatype *out_bEqsOut, modelica_metatype *out_bVarsOut, modelica_metatype *out_orderOut, modelica_metatype *out_sysIdxOut)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer _sysIdxOut;
  modelica_metatype _sysEqsOut = NULL;
  tmp1 = mmc_unbox_integer(_sysIdxIn);
  tmp2 = mmc_unbox_integer(_compIdxIn);
  _sysEqsOut = omc_SymbolicJacobian_solveConstJacLinearSystem(threadData, _syst, _ishared, _eqn_lst, _eqn_indxs, _var_lst, _var_indxs, _jac, tmp1, tmp2, out_bEqsOut, out_bVarsOut, out_orderOut, &_sysIdxOut);
  /* skip box _sysEqsOut; list<BackendDAE.Equation> */
  /* skip box _bEqsOut; list<BackendDAE.Equation> */
  /* skip box _bVarsOut; list<BackendDAE.Var> */
  /* skip box _orderOut; array<#Integer> */
  if (out_sysIdxOut) { *out_sysIdxOut = mmc_mk_icon(_sysIdxOut); }
  return _sysEqsOut;
}

PROTECTED_FUNCTION_STATIC void omc_SymbolicJacobian_updateAssignment(threadData_t *threadData, modelica_metatype _comp, modelica_metatype _ass1, modelica_metatype _ass2)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _comp;
    {
      modelica_integer _eq;
      modelica_integer _var;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _eq has no default value.
      // _var has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_integer tmp6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmp6 = mmc_unbox_integer(tmpMeta5);
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          tmp8 = mmc_unbox_integer(tmpMeta7);
          _eq = tmp6  /* pattern as ty=Integer */;
          _var = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          arrayUpdate(_ass2, _eq, mmc_mk_integer(_var));

          arrayUpdate(_ass1, _var, mmc_mk_integer(_eq));
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_replaceStrongComponent(threadData_t *threadData, modelica_metatype _systIn, modelica_integer _idx, modelica_metatype _compsNew, modelica_metatype _compsAdd)
{
  modelica_metatype _systOut = NULL;
  modelica_metatype _orderedVars = NULL;
  modelica_metatype _orderedEqs = NULL;
  modelica_metatype _matching = NULL;
  modelica_metatype _ass1 = NULL;
  modelica_metatype _ass2 = NULL;
  modelica_metatype _assAdd = NULL;
  modelica_metatype _comps = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _systOut = _systIn;
  // _orderedVars has no default value.
  // _orderedEqs has no default value.
  // _matching has no default value.
  // _ass1 has no default value.
  // _ass2 has no default value.
  // _assAdd has no default value.
  // _comps has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _systIn;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 7));
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta2,1,3) == 0) MMC_THROW_INTERNAL();
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 3));
  tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 4));
  _ass1 = tmpMeta3;
  _ass2 = tmpMeta4;
  _comps = tmpMeta5;

  if((!listEmpty(_compsAdd)))
  {
    _assAdd = arrayCreate(listLength(_compsAdd), mmc_mk_integer(((modelica_integer) 0)));

    _ass1 = arrayAppend(_ass1, _assAdd);

    _ass2 = arrayAppend(_ass2, _assAdd);

    omc_List_map2__0(threadData, _compsAdd, boxvar_SymbolicJacobian_updateAssignment, _ass1, _ass2);
  }

  omc_List_map2__0(threadData, _compsNew, boxvar_SymbolicJacobian_updateAssignment, _ass1, _ass2);

  _comps = omc_List_replaceAtWithList(threadData, _compsNew, ((modelica_integer) -1) + _idx, _comps);

  tmpMeta7 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _ass1, _ass2, listAppend(_comps, _compsAdd));
  tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(11));
  memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_systOut), 11*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[7] = tmpMeta7;
  _systOut = tmpMeta6;

  _systOut = omc_BackendDAEUtil_setEqSystMatrices(threadData, _systOut, mmc_mk_none(), mmc_mk_none(), mmc_mk_none());
  _return: OMC_LABEL_UNUSED
  return _systOut;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_replaceStrongComponent(threadData_t *threadData, modelica_metatype _systIn, modelica_metatype _idx, modelica_metatype _compsNew, modelica_metatype _compsAdd)
{
  modelica_integer tmp1;
  modelica_metatype _systOut = NULL;
  tmp1 = mmc_unbox_integer(_idx);
  _systOut = omc_SymbolicJacobian_replaceStrongComponent(threadData, _systIn, tmp1, _compsNew, _compsAdd);
  /* skip box _systOut; BackendDAE.EqSystem */
  return _systOut;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_variableResidual(threadData_t *threadData, modelica_metatype _eq)
{
  modelica_boolean _isNotConst;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isNotConst has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _eq;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isNotConst = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isNotConst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_variableResidual(threadData_t *threadData, modelica_metatype _eq)
{
  modelica_boolean _isNotConst;
  modelica_metatype out_isNotConst;
  _isNotConst = omc_SymbolicJacobian_variableResidual(threadData, _eq);
  out_isNotConst = mmc_mk_icon(_isNotConst);
  return out_isNotConst;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_SymbolicJacobian_jacobianIsConstant(threadData_t *threadData, modelica_metatype _jac)
{
  modelica_boolean _isConst;
  modelica_metatype _eqs = NULL;
  modelica_metatype _exps = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isConst has no default value.
  // _eqs has no default value.
  // _exps has no default value.
  _eqs = omc_List_map(threadData, _jac, boxvar_Util_tuple33);

  _isConst = (!omc_List_any(threadData, _eqs, boxvar_SymbolicJacobian_variableResidual));
  _return: OMC_LABEL_UNUSED
  return _isConst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_jacobianIsConstant(threadData_t *threadData, modelica_metatype _jac)
{
  modelica_boolean _isConst;
  modelica_metatype out_isConst;
  _isConst = omc_SymbolicJacobian_jacobianIsConstant(threadData, _jac);
  out_isConst = mmc_mk_icon(_isConst);
  return out_isConst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_traverserExpinputDerivativesUsed(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _tpl, modelica_boolean *out_cont, modelica_metatype *out_outTpl)
{
  modelica_metatype _outExp = NULL;
  modelica_boolean _cont;
  modelica_metatype _outTpl = NULL;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _cont has no default value.
  // _outTpl has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inExp;
    tmp4_2 = _tpl;
    {
      modelica_metatype _vars = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _var = NULL;
      modelica_metatype _explst = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _vars has no default value.
      // _e has no default value.
      // _cr has no default value.
      // _var has no default value.
      // _explst has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_boolean tmp19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (3 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT63), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmpMeta8);
          tmpMeta10 = MMC_CDR(tmpMeta8);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,13,3) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,1,1) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          if (3 != MMC_STRLEN(tmpMeta12) || strcmp(MMC_STRINGDATA(_OMC_LIT63), MMC_STRINGDATA(tmpMeta12)) != 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          if (listEmpty(tmpMeta13)) goto tmp3_end;
          tmpMeta14 = MMC_CAR(tmpMeta13);
          tmpMeta15 = MMC_CDR(tmpMeta13);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta14,6,2) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 2));
          if (!listEmpty(tmpMeta15)) goto tmp3_end;
          if (!listEmpty(tmpMeta10)) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          _e = tmp4_1;
          _cr = tmpMeta16;
          _vars = tmpMeta17;
          _explst = tmpMeta18;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _var = omc_BackendVariable_getVarSingle(threadData, _cr, _vars, NULL);

          /* Pattern-matching assignment */
          tmp19 = omc_BackendVariable_isVarOnTopLevelAndInput(threadData, _var);
          if (1 /* true */ != tmp19) goto goto_2;
          tmpMeta20 = mmc_mk_cons(_e, _explst);
          tmpMeta21 = mmc_mk_box2(0, _vars, tmpMeta20);
          tmpMeta[0+0] = _e;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = tmpMeta21;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_boolean tmp30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta22,1,1) == 0) goto tmp3_end;
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 2));
          if (3 != MMC_STRLEN(tmpMeta23) || strcmp(MMC_STRINGDATA(_OMC_LIT63), MMC_STRINGDATA(tmpMeta23)) != 0) goto tmp3_end;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta24)) goto tmp3_end;
          tmpMeta25 = MMC_CAR(tmpMeta24);
          tmpMeta26 = MMC_CDR(tmpMeta24);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta25,6,2) == 0) goto tmp3_end;
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta25), 2));
          if (!listEmpty(tmpMeta26)) goto tmp3_end;
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          _e = tmp4_1;
          _cr = tmpMeta27;
          _vars = tmpMeta28;
          _explst = tmpMeta29;
          /* Pattern matching succeeded */
          _var = omc_BackendVariable_getVarSingle(threadData, _cr, _vars, NULL);

          /* Pattern-matching assignment */
          tmp30 = omc_BackendVariable_isVarOnTopLevelAndInput(threadData, _var);
          if (1 /* true */ != tmp30) goto goto_2;
          tmpMeta31 = mmc_mk_cons(_e, _explst);
          tmpMeta32 = mmc_mk_box2(0, _vars, tmpMeta31);
          tmpMeta[0+0] = _e;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = tmpMeta32;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inExp;
          tmp1_c1 = 1 /* true */;
          tmpMeta[0+2] = _tpl;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outExp = tmpMeta[0+0];
  _cont = tmp1_c1;
  _outTpl = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_cont) { *out_cont = _cont; }
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_traverserExpinputDerivativesUsed(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _tpl, modelica_metatype *out_cont, modelica_metatype *out_outTpl)
{
  modelica_boolean _cont;
  modelica_metatype _outExp = NULL;
  _outExp = omc_SymbolicJacobian_traverserExpinputDerivativesUsed(threadData, _inExp, _tpl, &_cont, out_outTpl);
  /* skip box _outExp; DAE.Exp */
  if (out_cont) { *out_cont = mmc_mk_icon(_cont); }
  /* skip box _outTpl; tuple<BackendDAE.Variables, list<DAE.Exp>> */
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_traverserinputDerivativesUsed(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _itpl, modelica_metatype *out_tpl)
{
  modelica_metatype _e = NULL;
  modelica_metatype _tpl = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _e has no default value.
  // _tpl has no default value.
  _e = omc_Expression_traverseExpTopDown(threadData, _inExp, boxvar_SymbolicJacobian_traverserExpinputDerivativesUsed, _itpl ,&_tpl);
  _return: OMC_LABEL_UNUSED
  if (out_tpl) { *out_tpl = _tpl; }
  return _e;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_inputDerivativesUsedWork(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _inShared, modelica_boolean _inChanged, modelica_metatype *out_outShared, modelica_boolean *out_outChanged)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _outShared = NULL;
  modelica_boolean _outChanged;
  modelica_boolean _hasFailed;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  _outShared = _inShared;
  // _outChanged has no default value.
  _hasFailed = 0 /* false */;
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_metatype _orderedEqs = NULL;
      modelica_metatype _explst = NULL;
      modelica_string _s = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _orderedEqs has no default value.
      // _explst has no default value.
      // _s has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _orderedEqs = tmpMeta6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta8 = mmc_mk_box2(0, omc_BackendVariable_daeGlobalKnownVars(threadData, _inShared), tmpMeta7);
          tmpMeta9 = omc_BackendDAEUtil_traverseBackendDAEExpsEqns(threadData, _orderedEqs, boxvar_SymbolicJacobian_traverserinputDerivativesUsed, tmpMeta8);
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          if (listEmpty(tmpMeta10)) goto goto_2;
          tmpMeta11 = MMC_CAR(tmpMeta10);
          tmpMeta12 = MMC_CDR(tmpMeta10);
          _explst = tmpMeta10;

          _s = stringDelimitList(omc_List_map(threadData, _explst, boxvar_ExpressionDump_printExpStr), _OMC_LIT19);

          tmpMeta13 = mmc_mk_cons(_s, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT343, tmpMeta13);

          _hasFailed = 1 /* true */;
          tmpMeta[0+0] = omc_BackendDAEUtil_setEqSystEqs(threadData, _isyst, _orderedEqs);
          tmp1_c1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _isyst;
          tmp1_c1 = _inChanged;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _outChanged = tmp1_c1;

  if(_hasFailed)
  {
    MMC_THROW_INTERNAL();
  }
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  if (out_outChanged) { *out_outChanged = _outChanged; }
  return _osyst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_SymbolicJacobian_inputDerivativesUsedWork(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _inShared, modelica_metatype _inChanged, modelica_metatype *out_outShared, modelica_metatype *out_outChanged)
{
  modelica_integer tmp1;
  modelica_boolean _outChanged;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_inChanged);
  _osyst = omc_SymbolicJacobian_inputDerivativesUsedWork(threadData, _isyst, _inShared, tmp1, out_outShared, &_outChanged);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _outShared; BackendDAE.Shared */
  if (out_outChanged) { *out_outChanged = mmc_mk_icon(_outChanged); }
  return _osyst;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_inputDerivativesUsed(threadData_t *threadData, modelica_metatype _inDAE)
{
  modelica_metatype _outDAE = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outDAE has no default value.
  _outDAE = omc_BackendDAEUtil_mapEqSystemAndFold(threadData, _inDAE, boxvar_SymbolicJacobian_inputDerivativesUsedWork, mmc_mk_boolean(0 /* false */), NULL);
  _return: OMC_LABEL_UNUSED
  return _outDAE;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_generateSymbolicLinearizationPast(threadData_t *threadData, modelica_metatype _inBackendDAE)
{
  modelica_metatype _outBackendDAE = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outBackendDAE has no default value.
  { /* matchcontinue expression */
    {
      modelica_metatype _eqs = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _linearModelMatrices = NULL;
      modelica_metatype _funcs = NULL;
      modelica_metatype _functionTree = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _eqs has no default value.
      // _shared has no default value.
      // _linearModelMatrices has no default value.
      // _funcs has no default value.
      // _functionTree has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = omc_Flags_getConfigBool(threadData, _OMC_LIT347);
          if (1 /* true */ != tmp6) goto goto_2;

          /* Pattern-matching assignment */
          tmpMeta7 = _inBackendDAE;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          _eqs = tmpMeta8;
          _shared = tmpMeta9;

          _linearModelMatrices = omc_SymbolicJacobian_createLinearModelMatrices(threadData, _inBackendDAE, omc_Config_acceptOptimicaGrammar(threadData) ,&_funcs);

          _shared = omc_BackendDAEUtil_setSharedSymJacs(threadData, _shared, _linearModelMatrices);

          _functionTree = omc_BackendDAEUtil_getFunctions(threadData, _shared);

          _functionTree = omc_DAE_AvlTreePathFunction_join(threadData, _functionTree, _funcs, boxvar_DAE_AvlTreePathFunction_addConflictDefault);

          _shared = omc_BackendDAEUtil_setSharedFunctionTree(threadData, _shared, _functionTree);
          tmpMeta10 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, _eqs, _shared);
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          tmpMeta1 = _inBackendDAE;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outBackendDAE = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outBackendDAE;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createSymbolicJacobianforParameters(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype *out_outFunctionTree, modelica_metatype *out_outSparsePattern, modelica_metatype *out_outSparseColoring, modelica_metatype *out_outNonlinearPattern)
{
  modelica_metatype _outJacobian = NULL;
  modelica_metatype _outFunctionTree = NULL;
  modelica_metatype _outSparsePattern = NULL;
  modelica_metatype _outSparseColoring = NULL;
  modelica_metatype _outNonlinearPattern = NULL;
  modelica_metatype _backendDAE2 = NULL;
  modelica_metatype _varlst = NULL;
  modelica_metatype _knvarlst = NULL;
  modelica_metatype _states = NULL;
  modelica_metatype _inputvars = NULL;
  modelica_metatype _paramvars = NULL;
  modelica_metatype _v = NULL;
  modelica_metatype _globalKnownVars = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outJacobian has no default value.
  // _outFunctionTree has no default value.
  // _outSparsePattern has no default value.
  // _outSparseColoring has no default value.
  // _outNonlinearPattern has no default value.
  // _backendDAE2 has no default value.
  // _varlst has no default value.
  // _knvarlst has no default value.
  // _states has no default value.
  // _inputvars has no default value.
  // _paramvars has no default value.
  // _v has no default value.
  // _globalKnownVars has no default value.
  if(omc_Flags_isSet(threadData, _OMC_LIT94))
  {
    tmpMeta1 = stringAppend(_OMC_LIT348,realString(mmc_clock()));
    tmpMeta2 = stringAppend(tmpMeta1,_OMC_LIT19);
    fputs(MMC_STRINGDATA(tmpMeta2),stdout);
  }

  _backendDAE2 = omc_BackendDAEUtil_copyBackendDAE(threadData, _inBackendDAE);

  _backendDAE2 = omc_BackendDAEOptimize_collapseIndependentBlocks(threadData, _backendDAE2);

  _backendDAE2 = omc_BackendDAEUtil_transformBackendDAE(threadData, _backendDAE2, _OMC_LIT105, mmc_mk_none(), mmc_mk_none());

  /* Pattern-matching assignment */
  tmpMeta3 = _backendDAE2;
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 2));
  if (listEmpty(tmpMeta4)) MMC_THROW_INTERNAL();
  tmpMeta5 = MMC_CAR(tmpMeta4);
  tmpMeta6 = MMC_CDR(tmpMeta4);
  tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
  if (!listEmpty(tmpMeta6)) MMC_THROW_INTERNAL();
  tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 3));
  tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
  _v = tmpMeta7;
  _globalKnownVars = tmpMeta9;

  _varlst = omc_BackendVariable_varList(threadData, _v);

  _knvarlst = omc_BackendVariable_varList(threadData, _globalKnownVars);

  _states = omc_BackendVariable_getAllStateVarFromVariables(threadData, _v);

  _inputvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isInput);

  _paramvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isParam);

  if(omc_Flags_isSet(threadData, _OMC_LIT94))
  {
    tmpMeta10 = stringAppend(_OMC_LIT349,realString(mmc_clock()));
    tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT19);
    fputs(MMC_STRINGDATA(tmpMeta11),stdout);
  }

  if(omc_Flags_isSet(threadData, _OMC_LIT94))
  {
    omc_BackendDump_bltdump(threadData, _OMC_LIT350, _backendDAE2);
  }

  _outJacobian = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE2, _paramvars, omc_BackendVariable_listVar1(threadData, _states), omc_BackendVariable_listVar1(threadData, _inputvars), omc_BackendVariable_listVar1(threadData, _states), omc_BackendVariable_listVar1(threadData, _states), _varlst, _OMC_LIT351, 0 /* false */, 0 /* false */ ,&_outFunctionTree ,&_outSparsePattern ,&_outSparseColoring ,&_outNonlinearPattern);
  _return: OMC_LABEL_UNUSED
  if (out_outFunctionTree) { *out_outFunctionTree = _outFunctionTree; }
  if (out_outSparsePattern) { *out_outSparsePattern = _outSparsePattern; }
  if (out_outSparseColoring) { *out_outSparseColoring = _outSparseColoring; }
  if (out_outNonlinearPattern) { *out_outNonlinearPattern = _outNonlinearPattern; }
  return _outJacobian;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_generateSymbolicSensitivities(threadData_t *threadData, modelica_metatype _inBackendDAE)
{
  modelica_metatype _outBackendDAE = NULL;
  modelica_metatype _eqs = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _symJacS = NULL;
  modelica_metatype _sparsePattern = NULL;
  modelica_metatype _sparseColoring = NULL;
  modelica_metatype _nonlinearPattern = NULL;
  modelica_metatype _funcs = NULL;
  modelica_metatype _functionTree = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outBackendDAE has no default value.
  // _eqs has no default value.
  // _shared has no default value.
  // _symJacS has no default value.
  // _sparsePattern has no default value.
  // _sparseColoring has no default value.
  // _nonlinearPattern has no default value.
  // _funcs has no default value.
  // _functionTree has no default value.
  omc_System_realtimeTick(threadData, ((modelica_integer) 22));

  /* Pattern-matching assignment */
  tmpMeta1 = _inBackendDAE;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 3));
  _eqs = tmpMeta2;
  _shared = tmpMeta3;

  _symJacS = omc_SymbolicJacobian_createSymbolicJacobianforParameters(threadData, _inBackendDAE ,&_funcs ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

  _shared = omc_SymbolicJacobian_addBackendDAESharedJacobian(threadData, _symJacS, _sparsePattern, _sparseColoring, _nonlinearPattern, _shared);

  _functionTree = omc_BackendDAEUtil_getFunctions(threadData, _shared);

  _functionTree = omc_DAE_AvlTreePathFunction_join(threadData, _functionTree, _funcs, boxvar_DAE_AvlTreePathFunction_addConflictDefault);

  _shared = omc_BackendDAEUtil_setSharedFunctionTree(threadData, _shared, _functionTree);

  tmpMeta4 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, _eqs, _shared);
  _outBackendDAE = tmpMeta4;

  omc_System_realtimeTock(threadData, ((modelica_integer) 22));
  _return: OMC_LABEL_UNUSED
  return _outBackendDAE;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_createSymbolicJacobianforStates(threadData_t *threadData, modelica_metatype _inBackendDAE, modelica_metatype *out_outFunctionTree, modelica_metatype *out_outSparsePattern, modelica_metatype *out_outSparseColoring, modelica_metatype *out_outNonlinearPattern)
{
  modelica_metatype _outJacobian = NULL;
  modelica_metatype _outFunctionTree = NULL;
  modelica_metatype _outSparsePattern = NULL;
  modelica_metatype _outSparseColoring = NULL;
  modelica_metatype _outNonlinearPattern = NULL;
  modelica_metatype _backendDAE2 = NULL;
  modelica_metatype _varlst = NULL;
  modelica_metatype _knvarlst = NULL;
  modelica_metatype _states = NULL;
  modelica_metatype _inputvars = NULL;
  modelica_metatype _paramvars = NULL;
  modelica_metatype _v = NULL;
  modelica_metatype _globalKnownVars = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outJacobian has no default value.
  // _outFunctionTree has no default value.
  // _outSparsePattern has no default value.
  // _outSparseColoring has no default value.
  // _outNonlinearPattern has no default value.
  // _backendDAE2 has no default value.
  // _varlst has no default value.
  // _knvarlst has no default value.
  // _states has no default value.
  // _inputvars has no default value.
  // _paramvars has no default value.
  // _v has no default value.
  // _globalKnownVars has no default value.
  if(omc_Flags_isSet(threadData, _OMC_LIT94))
  {
    tmpMeta1 = stringAppend(_OMC_LIT352,realString(mmc_clock()));
    tmpMeta2 = stringAppend(tmpMeta1,_OMC_LIT19);
    fputs(MMC_STRINGDATA(tmpMeta2),stdout);
  }

  _backendDAE2 = omc_BackendDAEUtil_copyBackendDAE(threadData, _inBackendDAE);

  _backendDAE2 = omc_BackendDAEOptimize_collapseIndependentBlocks(threadData, _backendDAE2);

  _backendDAE2 = omc_BackendDAEUtil_transformBackendDAE(threadData, _backendDAE2, _OMC_LIT105, mmc_mk_none(), mmc_mk_none());

  /* Pattern-matching assignment */
  tmpMeta3 = _backendDAE2;
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 2));
  if (listEmpty(tmpMeta4)) MMC_THROW_INTERNAL();
  tmpMeta5 = MMC_CAR(tmpMeta4);
  tmpMeta6 = MMC_CDR(tmpMeta4);
  tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
  if (!listEmpty(tmpMeta6)) MMC_THROW_INTERNAL();
  tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 3));
  tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
  _v = tmpMeta7;
  _globalKnownVars = tmpMeta9;

  _varlst = omc_BackendVariable_varList(threadData, _v);

  _knvarlst = omc_BackendVariable_varList(threadData, _globalKnownVars);

  _states = omc_BackendVariable_getAllStateVarFromVariables(threadData, _v);

  _inputvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isInput);

  _paramvars = omc_List_select(threadData, _knvarlst, boxvar_BackendVariable_isParam);

  if(omc_Flags_isSet(threadData, _OMC_LIT94))
  {
    tmpMeta10 = stringAppend(_OMC_LIT353,realString(mmc_clock()));
    tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT19);
    fputs(MMC_STRINGDATA(tmpMeta11),stdout);
  }

  if(omc_Flags_isSet(threadData, _OMC_LIT94))
  {
    omc_BackendDump_bltdump(threadData, _OMC_LIT350, _backendDAE2);
  }

  _outJacobian = omc_SymbolicJacobian_generateGenericJacobian(threadData, _backendDAE2, _states, omc_BackendVariable_listVar1(threadData, _states), omc_BackendVariable_listVar1(threadData, _inputvars), omc_BackendVariable_listVar1(threadData, _paramvars), omc_BackendVariable_listVar1(threadData, _states), _varlst, _OMC_LIT247, 0 /* false */, 0 /* false */ ,&_outFunctionTree ,&_outSparsePattern ,&_outSparseColoring ,&_outNonlinearPattern);
  _return: OMC_LABEL_UNUSED
  if (out_outFunctionTree) { *out_outFunctionTree = _outFunctionTree; }
  if (out_outSparsePattern) { *out_outSparsePattern = _outSparsePattern; }
  if (out_outSparseColoring) { *out_outSparseColoring = _outSparseColoring; }
  if (out_outNonlinearPattern) { *out_outNonlinearPattern = _outNonlinearPattern; }
  return _outJacobian;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_generateSymbolicJacobianPast(threadData_t *threadData, modelica_metatype _inBackendDAE)
{
  modelica_metatype _outBackendDAE = NULL;
  modelica_metatype _eqs = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _symJacA = NULL;
  modelica_metatype _sparsePattern = NULL;
  modelica_metatype _sparseColoring = NULL;
  modelica_metatype _nonlinearPattern = NULL;
  modelica_metatype _funcs = NULL;
  modelica_metatype _functionTree = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outBackendDAE has no default value.
  // _eqs has no default value.
  // _shared has no default value.
  // _symJacA has no default value.
  // _sparsePattern has no default value.
  // _sparseColoring has no default value.
  // _nonlinearPattern has no default value.
  // _funcs has no default value.
  // _functionTree has no default value.
  omc_System_realtimeTick(threadData, ((modelica_integer) 22));

  /* Pattern-matching assignment */
  tmpMeta1 = _inBackendDAE;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 3));
  _eqs = tmpMeta2;
  _shared = tmpMeta3;

  _symJacA = omc_SymbolicJacobian_createSymbolicJacobianforStates(threadData, _inBackendDAE ,&_funcs ,&_sparsePattern ,&_sparseColoring ,&_nonlinearPattern);

  _shared = omc_SymbolicJacobian_addBackendDAESharedJacobian(threadData, _symJacA, _sparsePattern, _sparseColoring, _nonlinearPattern, _shared);

  _functionTree = omc_BackendDAEUtil_getFunctions(threadData, _shared);

  _functionTree = omc_DAE_AvlTreePathFunction_join(threadData, _functionTree, _funcs, boxvar_DAE_AvlTreePathFunction_addConflictDefault);

  _shared = omc_BackendDAEUtil_setSharedFunctionTree(threadData, _shared, _functionTree);

  tmpMeta4 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, _eqs, _shared);
  _outBackendDAE = tmpMeta4;

  omc_System_realtimeTock(threadData, ((modelica_integer) 22));
  _return: OMC_LABEL_UNUSED
  return _outBackendDAE;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_symbolicJacobianDAE(threadData_t *threadData, modelica_metatype _inBackendDAE)
{
  modelica_metatype _outBackendDAE = NULL;
  modelica_metatype _DAE = NULL;
  modelica_metatype _eqs = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _coloredCols = NULL;
  modelica_metatype _sparsePattern = NULL;
  modelica_metatype _nonlinearPattern = NULL;
  modelica_metatype _inDepVars = NULL;
  modelica_metatype _depVars = NULL;
  modelica_metatype _dummyVar = NULL;
  modelica_metatype _v = NULL;
  modelica_metatype _resVars = NULL;
  modelica_metatype _emptyVars = NULL;
  modelica_metatype _symjac = NULL;
  modelica_metatype _funcs = NULL;
  modelica_boolean _debug;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outBackendDAE has no default value.
  // _DAE has no default value.
  // _eqs has no default value.
  // _shared has no default value.
  // _coloredCols has no default value.
  // _sparsePattern has no default value.
  // _nonlinearPattern has no default value.
  // _inDepVars has no default value.
  // _depVars has no default value.
  // _dummyVar has no default value.
  // _v has no default value.
  // _resVars has no default value.
  _emptyVars = omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013));
  // _symjac has no default value.
  // _funcs has no default value.
  _debug = 0 /* false */;
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta5 = _inBackendDAE;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
          _eqs = tmpMeta6;

          _DAE = omc_BackendDAEUtil_copyBackendDAE(threadData, _inBackendDAE);

          _DAE = omc_BackendDAEOptimize_collapseIndependentBlocks(threadData, _DAE);

          _DAE = omc_BackendDAEUtil_transformBackendDAE(threadData, _DAE, _OMC_LIT105, mmc_mk_none(), mmc_mk_none());

          /* Pattern-matching assignment */
          tmpMeta7 = _DAE;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          if (listEmpty(tmpMeta8)) goto goto_1;
          tmpMeta9 = MMC_CAR(tmpMeta8);
          tmpMeta10 = MMC_CDR(tmpMeta8);
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          if (!listEmpty(tmpMeta10)) goto goto_1;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          _v = tmpMeta11;
          _shared = tmpMeta12;

          /* Pattern-matching assignment */
          tmpMeta13 = mmc_mk_box2(0, boxvar_BackendVariable_isDAEmodeResVar, _emptyVars);
          tmpMeta14 = omc_BackendVariable_traverseBackendDAEVars(threadData, _v, boxvar_BackendVariable_collectVarKindVarinVariables, tmpMeta13);
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 2));
          _resVars = tmpMeta15;

          _depVars = omc_BackendVariable_varList(threadData, _resVars);

          _inDepVars = listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 19)))), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 19)))), 3))));

          if((stringEqual(omc_Flags_getConfigString(threadData, _OMC_LIT375), _OMC_LIT364)))
          {
            _symjac = omc_SymbolicJacobian_generateGenericJacobian(threadData, _DAE, _inDepVars, omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013)), omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013)), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 2))), _resVars, omc_BackendVariable_varList(threadData, _v), _OMC_LIT247, 0 /* false */, 1 /* true */ ,&_funcs ,&_sparsePattern ,&_coloredCols ,&_nonlinearPattern);

            tmpMeta17 = mmc_mk_box4(0, _symjac, _sparsePattern, _coloredCols, _nonlinearPattern);
            tmpMeta16 = MMC_TAGPTR(mmc_alloc_words(22));
            memcpy(MMC_UNTAGPTR(tmpMeta16), MMC_UNTAGPTR(_shared), 22*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta16))[16] = omc_List_set(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 16))), ((modelica_integer) 1), tmpMeta17);
            _shared = tmpMeta16;

            tmpMeta18 = MMC_TAGPTR(mmc_alloc_words(22));
            memcpy(MMC_UNTAGPTR(tmpMeta18), MMC_UNTAGPTR(_shared), 22*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta18))[12] = _funcs;
            _shared = tmpMeta18;
          }
          else
          {
            _sparsePattern = omc_SymbolicJacobian_generateSparsePattern(threadData, _DAE, _inDepVars, _depVars, 0 /* false */ ,&_coloredCols);

            _shared = omc_SymbolicJacobian_addBackendDAESharedJacobianSparsePattern(threadData, _sparsePattern, _coloredCols, ((modelica_integer) 1), _shared);
          }

          tmpMeta19 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, _eqs, _shared);
          _outBackendDAE = tmpMeta19;
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          omc_Error_addCompilerWarning(threadData, _OMC_LIT376);

          _outBackendDAE = _inBackendDAE;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _outBackendDAE;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_SymbolicJacobian_detectSparsePatternODE(threadData_t *threadData, modelica_metatype _inBackendDAE)
{
  modelica_metatype _outBackendDAE = NULL;
  modelica_metatype _DAE = NULL;
  modelica_metatype _eqs = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _coloredCols = NULL;
  modelica_metatype _sparsePattern = NULL;
  modelica_metatype _states = NULL;
  modelica_metatype _dummyVar = NULL;
  modelica_metatype _v = NULL;
  modelica_boolean _debug;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outBackendDAE has no default value.
  // _DAE has no default value.
  // _eqs has no default value.
  // _shared has no default value.
  // _coloredCols has no default value.
  // _sparsePattern has no default value.
  // _states has no default value.
  // _dummyVar has no default value.
  // _v has no default value.
  _debug = 0 /* false */;
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta5 = _inBackendDAE;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
          _eqs = tmpMeta6;

          _DAE = omc_BackendDAEUtil_copyBackendDAE(threadData, _inBackendDAE);

          _DAE = omc_BackendDAEOptimize_collapseIndependentBlocks(threadData, _DAE);

          _DAE = omc_BackendDAEUtil_transformBackendDAE(threadData, _DAE, _OMC_LIT105, mmc_mk_none(), mmc_mk_none());

          /* Pattern-matching assignment */
          tmpMeta7 = _DAE;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          if (listEmpty(tmpMeta8)) goto goto_1;
          tmpMeta9 = MMC_CAR(tmpMeta8);
          tmpMeta10 = MMC_CDR(tmpMeta8);
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          if (!listEmpty(tmpMeta10)) goto goto_1;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          _v = tmpMeta11;
          _shared = tmpMeta12;

          _states = omc_BackendVariable_getAllStateVarFromVariables(threadData, _v);

          _sparsePattern = omc_SymbolicJacobian_generateSparsePattern(threadData, _DAE, _states, _states, 0 /* false */ ,&_coloredCols);

          _shared = omc_SymbolicJacobian_addBackendDAESharedJacobianSparsePattern(threadData, _sparsePattern, _coloredCols, ((modelica_integer) 1), _shared);

          tmpMeta13 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, _eqs, _shared);
          _outBackendDAE = tmpMeta13;
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          omc_Error_addCompilerWarning(threadData, _OMC_LIT377);

          _outBackendDAE = _inBackendDAE;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _outBackendDAE;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_constantLinearSystem(threadData_t *threadData, modelica_metatype _inDAE)
{
  modelica_metatype _outDAE = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outDAE has no default value.
  _outDAE = omc_BackendDAEUtil_mapEqSystemAndFold(threadData, _inDAE, boxvar_SymbolicJacobian_constantLinearSystem0, _OMC_LIT378, NULL);
  _return: OMC_LABEL_UNUSED
  return _outDAE;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_calculateStrongComponentJacobians(threadData_t *threadData, modelica_metatype _inDAE)
{
  modelica_metatype _outDAE = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outDAE has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          /* Pattern matching succeeded */
          _outDAE = omc_BackendDAEUtil_mapEqSystem(threadData, _inDAE, boxvar_SymbolicJacobian_calculateEqSystemJacobians);
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          _outDAE = _inDAE;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _outDAE;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_calculateStateSetsJacobians(threadData_t *threadData, modelica_metatype _inDAE)
{
  modelica_metatype _outDAE = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outDAE has no default value.
  _outDAE = omc_BackendDAEUtil_mapEqSystem(threadData, _inDAE, boxvar_SymbolicJacobian_calculateEqSystemStateSetsJacobians);
  _return: OMC_LABEL_UNUSED
  return _outDAE;
}

DLLDirection
modelica_metatype omc_SymbolicJacobian_symbolicJacobian(threadData_t *threadData, modelica_metatype _inDAE)
{
  modelica_metatype _outDAE = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outDAE has no default value.
  { /* match expression */
    modelica_string tmp4_1;
    tmp4_1 = omc_Flags_getConfigString(threadData, _OMC_LIT375);
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (4 != MMC_STRLEN(tmp4_1) || strcmp(MMC_STRINGDATA(_OMC_LIT357), MMC_STRINGDATA(tmp4_1)) != 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inDAE;
          goto tmp3_done;
        }
        case 1: {
          if (7 != MMC_STRLEN(tmp4_1) || strcmp(MMC_STRINGDATA(_OMC_LIT355), MMC_STRINGDATA(tmp4_1)) != 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_SymbolicJacobian_detectSparsePatternODE(threadData, _inDAE);
          goto tmp3_done;
        }
        case 2: {
          if (8 != MMC_STRLEN(tmp4_1) || strcmp(MMC_STRINGDATA(_OMC_LIT364), MMC_STRINGDATA(tmp4_1)) != 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_SymbolicJacobian_generateSymbolicJacobianPast(threadData, _inDAE);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outDAE = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outDAE;
}

