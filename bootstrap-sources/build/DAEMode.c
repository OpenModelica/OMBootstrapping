#include "omc_simulation_settings.h"
#include "DAEMode.h"
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT0,1,22) {&BackendDAE_VarKind_ALG__STATE__desc,}};
#define _OMC_LIT0 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT0)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT1,1,3) {&BackendDAE_BaseClockPartitionKind_UNKNOWN__PARTITION__desc,}};
#define _OMC_LIT1 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT1)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT2,1,4) {&BackendDAE_IndexType_NORMAL__desc,}};
#define _OMC_LIT2 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,1,25) {&BackendDAE_VarKind_DAE__AUX__VAR__desc,}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT4,1,8) {&BackendDAE_EquationKind_AUX__EQUATION__desc,}};
#define _OMC_LIT4 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT4)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT5,5,3) {&BackendDAE_EvaluationStages_EVALUATION__STAGES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT5 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT5)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT6,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT4,_OMC_LIT5}};
#define _OMC_LIT6 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT7,1,7) {&BackendDAE_EquationKind_DISCRETE__EQUATION__desc,}};
#define _OMC_LIT7 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT7)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT8,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT7,_OMC_LIT5}};
#define _OMC_LIT8 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT8)
#define _OMC_LIT9_data "$DAEres"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT9,7,_OMC_LIT9_data);
#define _OMC_LIT9 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT9)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT10,1,4) {&BackendDAE_EquationKind_DYNAMIC__EQUATION__desc,}};
#define _OMC_LIT10 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT10)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT11,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT10,_OMC_LIT5}};
#define _OMC_LIT11 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT11)
#define _OMC_LIT12_data "DAEMode.traverserStrongComponents failed on equation:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT12,54,_OMC_LIT12_data);
#define _OMC_LIT12 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,0,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
#define _OMC_LIT14_data "\nVariables:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT14,12,_OMC_LIT14_data);
#define _OMC_LIT14 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT14)
#define _OMC_LIT15_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT15,1,_OMC_LIT15_data);
#define _OMC_LIT15 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/BackEnd/DAEMode.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,65,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT17_6,1.758197185e9);
#define _OMC_LIT17_6 MMC_REFREALLIT(_OMC_LIT_STRUCT17_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT17,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT16,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(521)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(523)),MMC_IMMEDIATE(MMC_TAGFIXNUM(90)),_OMC_LIT17_6}};
#define _OMC_LIT17 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT17)
#define _OMC_LIT18_data "debugDAEmode"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT18,12,_OMC_LIT18_data);
#define _OMC_LIT18 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data "Dump debug output for the DAEmode."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,34,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT20,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT19}};
#define _OMC_LIT20 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT20)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT21,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(167)),_OMC_LIT18,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT20}};
#define _OMC_LIT21 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data "indexReductionMethod"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,20,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT23,1,4) {&Flags_FlagVisibility_EXTERNAL__desc,}};
#define _OMC_LIT23 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT23)
#define _OMC_LIT24_data "dynamicStateSelection"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT24,21,_OMC_LIT24_data);
#define _OMC_LIT24 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT24)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT25,2,8) {&Flags_FlagData_STRING__FLAG__desc,_OMC_LIT24}};
#define _OMC_LIT25 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data "none"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,4,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
#define _OMC_LIT27_data "Skip index reduction"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT27,20,_OMC_LIT27_data);
#define _OMC_LIT27 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT27)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT28,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT27}};
#define _OMC_LIT28 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT28)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT29,2,0) {_OMC_LIT26,_OMC_LIT28}};
#define _OMC_LIT29 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data "uode"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,4,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
#define _OMC_LIT31_data "Use the underlying ODE without the constraints."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT31,47,_OMC_LIT31_data);
#define _OMC_LIT31 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT31)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT32,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT31}};
#define _OMC_LIT32 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT32)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT33,2,0) {_OMC_LIT30,_OMC_LIT32}};
#define _OMC_LIT33 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT33)
#define _OMC_LIT34_data "Simple index reduction method, select (dynamic) dummy states based on analysis of the system."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT34,93,_OMC_LIT34_data);
#define _OMC_LIT34 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT34)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT35,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT34}};
#define _OMC_LIT35 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT35)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT36,2,0) {_OMC_LIT24,_OMC_LIT35}};
#define _OMC_LIT36 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT36)
#define _OMC_LIT37_data "dummyDerivatives"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT37,16,_OMC_LIT37_data);
#define _OMC_LIT37 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT37)
#define _OMC_LIT38_data "Simple index reduction method, select (static) dummy states based on heuristic."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT38,79,_OMC_LIT38_data);
#define _OMC_LIT38 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT38)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT39,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT38}};
#define _OMC_LIT39 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT39)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT40,2,0) {_OMC_LIT37,_OMC_LIT39}};
#define _OMC_LIT40 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT40)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT41,2,1) {_OMC_LIT40,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT41 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT41)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT42,2,1) {_OMC_LIT36,_OMC_LIT41}};
#define _OMC_LIT42 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT42)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT43,2,1) {_OMC_LIT33,_OMC_LIT42}};
#define _OMC_LIT43 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT43)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT44,2,1) {_OMC_LIT29,_OMC_LIT43}};
#define _OMC_LIT44 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT44)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT45,2,4) {&Flags_ValidOptions_STRING__DESC__OPTION__desc,_OMC_LIT44}};
#define _OMC_LIT45 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT45)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT46,1,1) {_OMC_LIT45}};
#define _OMC_LIT46 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT46)
#define _OMC_LIT47_data "Sets the index reduction method to use. See --help=optmodules for more info."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT47,76,_OMC_LIT47_data);
#define _OMC_LIT47 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT47)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT48,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT47}};
#define _OMC_LIT48 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT48)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT49,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(15)),_OMC_LIT22,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT23,_OMC_LIT25,_OMC_LIT46,_OMC_LIT48}};
#define _OMC_LIT49 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT49)
#define _OMC_LIT50_data "dumpdaelow"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT50,10,_OMC_LIT50_data);
#define _OMC_LIT50 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT50)
#define _OMC_LIT51_data "graphvizDump"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT51,12,_OMC_LIT51_data);
#define _OMC_LIT51 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data "Activates additional graphviz dumps (as .dot files). It can be used in addition to one of the following flags: {dumpdaelow|dumpinitialsystems|dumpindxdae}."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,155,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT53,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT52}};
#define _OMC_LIT53 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT53)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT54,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(92)),_OMC_LIT51,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT53}};
#define _OMC_LIT54 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT54)
#define _OMC_LIT55_data "Dumps the equation system at the beginning of the back end."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT55,59,_OMC_LIT55_data);
#define _OMC_LIT55 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT55)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT56,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT55}};
#define _OMC_LIT56 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT56)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT57,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(53)),_OMC_LIT50,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT56}};
#define _OMC_LIT57 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT57)
#define _OMC_LIT58_data "pre-optimization done (n="
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT58,25,_OMC_LIT58_data);
#define _OMC_LIT58 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT58)
#define _OMC_LIT59_data ")"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT59,1,_OMC_LIT59_data);
#define _OMC_LIT59 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT59)
#define _OMC_LIT60_data "matching and sorting (n="
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT60,24,_OMC_LIT60_data);
#define _OMC_LIT60 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT60)
#define _OMC_LIT61_data "graphml"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT61,7,_OMC_LIT61_data);
#define _OMC_LIT61 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT61)
#define _OMC_LIT62_data "Dumps .graphml files for the bipartite graph after Index Reduction and a task graph for the SCCs. Can be displayed with yEd. "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT62,125,_OMC_LIT62_data);
#define _OMC_LIT62 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT62)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT63,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT62}};
#define _OMC_LIT63 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT63)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT64,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(116)),_OMC_LIT61,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT63}};
#define _OMC_LIT64 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT64)
#define _OMC_LIT65_data "evaluateOutputsOnly (n="
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT65,23,_OMC_LIT65_data);
#define _OMC_LIT65 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT65)
#define _OMC_LIT66_data " -> n="
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT66,6,_OMC_LIT66_data);
#define _OMC_LIT66 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT66)
#define _OMC_LIT67_data "evalOutputOnly"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT67,14,_OMC_LIT67_data);
#define _OMC_LIT67 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT67)
#define _OMC_LIT68_data "Generates equations to calculate top level outputs only."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT68,56,_OMC_LIT68_data);
#define _OMC_LIT68 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT68)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT69,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT68}};
#define _OMC_LIT69 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT69)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT70,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(130)),_OMC_LIT67,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT69}};
#define _OMC_LIT70 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT70)
#define _OMC_LIT71_data "bltdump"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT71,7,_OMC_LIT71_data);
#define _OMC_LIT71 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT71)
#define _OMC_LIT72_data "Dumps information from index reduction."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT72,39,_OMC_LIT72_data);
#define _OMC_LIT72 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT72)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT73,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT72}};
#define _OMC_LIT73 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT73)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT74,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(51)),_OMC_LIT71,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT73}};
#define _OMC_LIT74 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT74)
#define _OMC_LIT75_data "dumpindxdae"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT75,11,_OMC_LIT75_data);
#define _OMC_LIT75 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT75)
#define _OMC_LIT76_data "Dumps the equation system after index reduction and optimization."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT76,65,_OMC_LIT76_data);
#define _OMC_LIT76 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT76)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT77,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT76}};
#define _OMC_LIT77 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT77)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT78,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(54)),_OMC_LIT75,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT77}};
#define _OMC_LIT78 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT78)
#define _OMC_LIT79_data "Stack overflow in DAEMode.getEqSystemDAEmode...\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT79,48,_OMC_LIT79_data);
#define _OMC_LIT79 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT79)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT80_6,1.758197185e9);
#define _OMC_LIT80_6 MMC_REFREALLIT(_OMC_LIT_STRUCT80_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT80,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT16,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(161)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(161)),MMC_IMMEDIATE(MMC_TAGFIXNUM(157)),_OMC_LIT80_6}};
#define _OMC_LIT80 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT80)
#include "util/modelica.h"

#include "DAEMode_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_setNonStateVarAlgState(threadData_t *threadData, modelica_metatype __omcQ_24in_5FvarList);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEMode_setNonStateVarAlgState,2,0) {(void*) boxptr_DAEMode_setNonStateVarAlgState,0}};
#define boxvar_DAEMode_setNonStateVarAlgState MMC_REFSTRUCTLIT(boxvar_lit_DAEMode_setNonStateVarAlgState)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_addVarsGlobalData(threadData_t *threadData, modelica_metatype __omcQ_24in_5FglobalDAEData, modelica_metatype _inVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEMode_addVarsGlobalData,2,0) {(void*) boxptr_DAEMode_addVarsGlobalData,0}};
#define boxvar_DAEMode_addVarsGlobalData MMC_REFSTRUCTLIT(boxvar_lit_DAEMode_addVarsGlobalData)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_getDiscAndContEqns(threadData_t *threadData, modelica_metatype _inAllVars, modelica_metatype _inAllEqns, modelica_metatype _inDiscVars, modelica_metatype _inContVars, modelica_metatype _functionTree, modelica_boolean _isInitial, modelica_metatype *out_contEqns);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEMode_getDiscAndContEqns(threadData_t *threadData, modelica_metatype _inAllVars, modelica_metatype _inAllEqns, modelica_metatype _inDiscVars, modelica_metatype _inContVars, modelica_metatype _functionTree, modelica_metatype _isInitial, modelica_metatype *out_contEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEMode_getDiscAndContEqns,2,0) {(void*) boxptr_DAEMode_getDiscAndContEqns,0}};
#define boxvar_DAEMode_getDiscAndContEqns MMC_REFSTRUCTLIT(boxvar_lit_DAEMode_getDiscAndContEqns)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_traverserStrongComponents(threadData_t *threadData, modelica_metatype _inEqns, modelica_metatype _inVars, modelica_metatype _varIdxs, modelica_metatype _eqnIdxs, modelica_metatype __omcQ_24in_5FtraverserArgs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEMode_traverserStrongComponents,2,0) {(void*) boxptr_DAEMode_traverserStrongComponents,0}};
#define boxvar_DAEMode_traverserStrongComponents MMC_REFSTRUCTLIT(boxvar_lit_DAEMode_traverserStrongComponents)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_createDAEmodeEqSystem(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsyst, modelica_metatype __omcQ_24in_5Fshared, modelica_metatype *out_shared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEMode_createDAEmodeEqSystem,2,0) {(void*) boxptr_DAEMode_createDAEmodeEqSystem,0}};
#define boxvar_DAEMode_createDAEmodeEqSystem MMC_REFSTRUCTLIT(boxvar_lit_DAEMode_createDAEmodeEqSystem)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_getPostOptModulesDAEString(threadData_t *threadData);
static const MMC_DEFSTRUCTLIT(boxvar_lit_DAEMode_getPostOptModulesDAEString,2,0) {(void*) boxptr_DAEMode_getPostOptModulesDAEString,0}};
#define boxvar_DAEMode_getPostOptModulesDAEString MMC_REFSTRUCTLIT(boxvar_lit_DAEMode_getPostOptModulesDAEString)

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_setNonStateVarAlgState(threadData_t *threadData, modelica_metatype __omcQ_24in_5FvarList)
{
  modelica_metatype _varList = NULL;
  modelica_metatype _tmpVarList = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta10;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _varList = __omcQ_24in_5FvarList;
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _tmpVarList = tmpMeta1;
  {
    modelica_metatype _v;
    for (tmpMeta2 = _varList; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _v = MMC_CAR(tmpMeta2);
      { /* match expression */
        modelica_metatype tmp6_1;
        tmp6_1 = _v;
        {
          volatile mmc_switch_type tmp6;
          int tmp7;
          tmp6 = 0;
          for (; tmp6 < 2; tmp6++) {
            switch (MMC_SWITCH_CAST(tmp6)) {
            case 0: {
              modelica_metatype tmpMeta8;
              tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 3));
              if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,1,3) == 0) goto tmp5_end;
              
              /* Pattern matching succeeded */
              tmpMeta3 = _v;
              goto tmp5_done;
            }
            case 1: {
              modelica_metatype tmpMeta9;
              tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 3));
              if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,0,0) == 0) goto tmp5_end;
              
              /* Pattern matching succeeded */
              tmpMeta3 = omc_BackendVariable_setVarKind(threadData, _v, _OMC_LIT0);
              goto tmp5_done;
            }
            }
            goto tmp5_end;
            tmp5_end: ;
          }
          goto goto_4;
          goto_4:;
          MMC_THROW_INTERNAL();
          goto tmp5_done;
          tmp5_done:;
        }
      }
      _v = tmpMeta3;
    }
  }

  _varList = listReverse(_varList);
  _return: OMC_LABEL_UNUSED
  return _varList;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_addVarsGlobalData(threadData_t *threadData, modelica_metatype __omcQ_24in_5FglobalDAEData, modelica_metatype _inVars)
{
  modelica_metatype _globalDAEData = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _globalDAEData = __omcQ_24in_5FglobalDAEData;
  // _vars has no default value.
  _vars = omc_List_filterOnTrue(threadData, _inVars, boxvar_BackendVariable_isNonStateVar);

  {
    modelica_metatype __omcQ_24tmpVar1;
    modelica_metatype* tmp2;
    modelica_metatype tmpMeta3;
    modelica_metatype __omcQ_24tmpVar0;
    modelica_integer tmp4;
    modelica_metatype _v_loopVar = 0;
    modelica_metatype _v;
    _v_loopVar = _vars;
    tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar1 = tmpMeta3; /* defaultValue */
    tmp2 = &__omcQ_24tmpVar1;
    while(1) {
      tmp4 = 1;
      if (!listEmpty(_v_loopVar)) {
        _v = MMC_CAR(_v_loopVar);
        _v_loopVar = MMC_CDR(_v_loopVar);
        tmp4--;
      }
      if (tmp4 == 0) {
        __omcQ_24tmpVar0 = omc_BackendVariable_setVarKind(threadData, _v, _OMC_LIT0);
        *tmp2 = mmc_mk_cons(__omcQ_24tmpVar0,0);
        tmp2 = &MMC_CDR(*tmp2);
      } else if (tmp4 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp2 = mmc_mk_nil();
    tmpMeta1 = __omcQ_24tmpVar1;
  }
  _vars = tmpMeta1;

  tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(6));
  memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_globalDAEData), 6*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[3] = listAppend(_vars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_globalDAEData), 3))));
  _globalDAEData = tmpMeta5;

  tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(6));
  memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_globalDAEData), 6*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[2] = listAppend(omc_List_filterOnTrue(threadData, _inVars, boxvar_BackendVariable_isStateVar), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_globalDAEData), 2))));
  _globalDAEData = tmpMeta6;
  _return: OMC_LABEL_UNUSED
  return _globalDAEData;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_getDiscAndContEqns(threadData_t *threadData, modelica_metatype _inAllVars, modelica_metatype _inAllEqns, modelica_metatype _inDiscVars, modelica_metatype _inContVars, modelica_metatype _functionTree, modelica_boolean _isInitial, modelica_metatype *out_contEqns)
{
  modelica_metatype _discEqns = NULL;
  modelica_metatype _contEqns = NULL;
  modelica_metatype _syst = NULL;
  modelica_metatype _adjMatrix = NULL;
  modelica_metatype _varsIndex = NULL;
  modelica_metatype _eqnIndex = NULL;
  modelica_metatype _assignVarEqn = NULL;
  modelica_metatype _assignEqnVar = NULL;
  modelica_metatype _mapEqnScalarArray = NULL;
  modelica_boolean _debug;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _discEqns has no default value.
  // _contEqns has no default value.
  // _syst has no default value.
  // _adjMatrix has no default value.
  // _varsIndex has no default value.
  // _eqnIndex has no default value.
  // _assignVarEqn has no default value.
  // _assignEqnVar has no default value.
  // _mapEqnScalarArray has no default value.
  _debug = 0 /* false */;
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_boolean tmp7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta13;
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
          _syst = omc_BackendDAEUtil_createEqSystem(threadData, omc_BackendVariable_listVar1(threadData, _inAllVars), omc_BackendEquation_listEquation(threadData, _inAllEqns), tmpMeta5, _OMC_LIT1, omc_BackendEquation_emptyEqns(threadData));

          _adjMatrix = omc_BackendDAEUtil_adjacencyMatrixScalar(threadData, _syst, _OMC_LIT2, mmc_mk_some(_functionTree), _isInitial ,NULL ,NULL ,&_mapEqnScalarArray);

          /* Pattern-matching tuple assignment */
          tmpMeta8 = omc_Matching_RegularMatching(threadData, _adjMatrix, omc_BackendDAEUtil_systemSize(threadData, _syst), omc_BackendDAEUtil_systemSize(threadData, _syst), &tmpMeta6, &tmp7, NULL, NULL);
          _assignVarEqn = tmpMeta8;
          if (1 /* true */ != tmp7) goto goto_1;
          _assignEqnVar = tmpMeta6;

          _varsIndex = omc_BackendVariable_getVarIndexFromVars(threadData, _inDiscVars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))));

          _eqnIndex = omc_List_map1(threadData, _varsIndex, boxvar_Array_getIndexFirst, _assignVarEqn);

          {
            modelica_metatype __omcQ_24tmpVar3;
            modelica_metatype* tmp10;
            modelica_metatype tmpMeta11;
            modelica_metatype __omcQ_24tmpVar2;
            modelica_integer tmp12;
            modelica_metatype _i_loopVar = 0;
            modelica_metatype _i;
            _i_loopVar = _eqnIndex;
            tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar3 = tmpMeta11; /* defaultValue */
            tmp10 = &__omcQ_24tmpVar3;
            while(1) {
              tmp12 = 1;
              if (!listEmpty(_i_loopVar)) {
                _i = MMC_CAR(_i_loopVar);
                _i_loopVar = MMC_CDR(_i_loopVar);
                tmp12--;
              }
              if (tmp12 == 0) {
                __omcQ_24tmpVar2 = arrayGet(_mapEqnScalarArray,mmc_unbox_integer(_i)) /* DAE.ASUB */;
                *tmp10 = mmc_mk_cons(__omcQ_24tmpVar2,0);
                tmp10 = &MMC_CDR(*tmp10);
              } else if (tmp12 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp10 = mmc_mk_nil();
            tmpMeta9 = __omcQ_24tmpVar3;
          }
          _eqnIndex = omc_List_unique(threadData, tmpMeta9);

          _discEqns = omc_BackendEquation_getList(threadData, _eqnIndex, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))));

          _varsIndex = omc_BackendVariable_getVarIndexFromVars(threadData, _inContVars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))));

          _eqnIndex = omc_List_map1(threadData, _varsIndex, boxvar_Array_getIndexFirst, _assignVarEqn);

          {
            modelica_metatype __omcQ_24tmpVar5;
            modelica_metatype* tmp14;
            modelica_metatype tmpMeta15;
            modelica_metatype __omcQ_24tmpVar4;
            modelica_integer tmp16;
            modelica_metatype _i_loopVar = 0;
            modelica_metatype _i;
            _i_loopVar = _eqnIndex;
            tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar5 = tmpMeta15; /* defaultValue */
            tmp14 = &__omcQ_24tmpVar5;
            while(1) {
              tmp16 = 1;
              if (!listEmpty(_i_loopVar)) {
                _i = MMC_CAR(_i_loopVar);
                _i_loopVar = MMC_CDR(_i_loopVar);
                tmp16--;
              }
              if (tmp16 == 0) {
                __omcQ_24tmpVar4 = arrayGet(_mapEqnScalarArray,mmc_unbox_integer(_i)) /* DAE.ASUB */;
                *tmp14 = mmc_mk_cons(__omcQ_24tmpVar4,0);
                tmp14 = &MMC_CDR(*tmp14);
              } else if (tmp16 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp14 = mmc_mk_nil();
            tmpMeta13 = __omcQ_24tmpVar5;
          }
          _eqnIndex = omc_List_unique(threadData, tmpMeta13);

          _contEqns = omc_BackendEquation_getList(threadData, _eqnIndex, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))));
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_contEqns) { *out_contEqns = _contEqns; }
  return _discEqns;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_DAEMode_getDiscAndContEqns(threadData_t *threadData, modelica_metatype _inAllVars, modelica_metatype _inAllEqns, modelica_metatype _inDiscVars, modelica_metatype _inContVars, modelica_metatype _functionTree, modelica_metatype _isInitial, modelica_metatype *out_contEqns)
{
  modelica_integer tmp1;
  modelica_metatype _discEqns = NULL;
  tmp1 = mmc_unbox_integer(_isInitial);
  _discEqns = omc_DAEMode_getDiscAndContEqns(threadData, _inAllVars, _inAllEqns, _inDiscVars, _inContVars, _functionTree, tmp1, out_contEqns);
  /* skip box _discEqns; list<BackendDAE.Equation> */
  /* skip box _contEqns; list<BackendDAE.Equation> */
  return _discEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_traverserStrongComponents(threadData_t *threadData, modelica_metatype _inEqns, modelica_metatype _inVars, modelica_metatype _varIdxs, modelica_metatype _eqnIdxs, modelica_metatype __omcQ_24in_5FtraverserArgs)
{
  modelica_metatype _traverserArgs = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _varCrefLst = NULL;
  modelica_boolean _recursiveStrongComponentRun;
  modelica_boolean _isStateVarInvoled;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta9;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _traverserArgs = __omcQ_24in_5FtraverserArgs;
  _vars = _inVars;
  // _varCrefLst has no default value.
  // _recursiveStrongComponentRun has no default value.
  // _isStateVarInvoled has no default value.
  {
    modelica_metatype __omcQ_24tmpVar7;
    modelica_metatype* tmp2;
    modelica_metatype tmpMeta3;
    modelica_metatype __omcQ_24tmpVar6;
    modelica_integer tmp4;
    modelica_metatype _v_loopVar = 0;
    modelica_metatype _v;
    _v_loopVar = _inVars;
    tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar7 = tmpMeta3; /* defaultValue */
    tmp2 = &__omcQ_24tmpVar7;
    while(1) {
      tmp4 = 1;
      if (!listEmpty(_v_loopVar)) {
        _v = MMC_CAR(_v_loopVar);
        _v_loopVar = MMC_CDR(_v_loopVar);
        tmp4--;
      }
      if (tmp4 == 0) {
        __omcQ_24tmpVar6 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 2)));
        *tmp2 = mmc_mk_cons(__omcQ_24tmpVar6,0);
        tmp2 = &MMC_CDR(*tmp2);
      } else if (tmp4 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp2 = mmc_mk_nil();
    tmpMeta1 = __omcQ_24tmpVar7;
  }
  _varCrefLst = tmpMeta1;

  {
    modelica_metatype __omcQ_24tmpVar9;
    modelica_metatype* tmp6;
    modelica_metatype tmpMeta7;
    modelica_metatype __omcQ_24tmpVar8;
    modelica_integer tmp8;
    modelica_metatype _v_loopVar = 0;
    modelica_metatype _v;
    _v_loopVar = _inVars;
    tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar9 = tmpMeta7; /* defaultValue */
    tmp6 = &__omcQ_24tmpVar9;
    while(1) {
      tmp8 = 1;
      if (!listEmpty(_v_loopVar)) {
        _v = MMC_CAR(_v_loopVar);
        _v_loopVar = MMC_CDR(_v_loopVar);
        tmp8--;
      }
      if (tmp8 == 0) {
        __omcQ_24tmpVar8 = mmc_mk_boolean(omc_BackendVariable_isStateVar(threadData, _v));
        *tmp6 = mmc_mk_cons(__omcQ_24tmpVar8,0);
        tmp6 = &MMC_CDR(*tmp6);
      } else if (tmp8 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp6 = mmc_mk_nil();
    tmpMeta5 = __omcQ_24tmpVar9;
  }
  _isStateVarInvoled = omc_Util_boolOrList(threadData, tmpMeta5);

  { /* matchcontinue expression */
    volatile modelica_metatype tmp12_1;volatile modelica_metatype tmp12_2;volatile modelica_boolean tmp12_3;
    tmp12_1 = _inEqns;
    tmp12_2 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 7)));
    tmp12_3 = _isStateVarInvoled;
    {
      modelica_metatype _newResEqns = NULL;
      modelica_metatype _newResVars = NULL;
      modelica_metatype _newAuxVars = NULL;
      modelica_metatype _discVars = NULL;
      modelica_metatype _contVars = NULL;
      modelica_metatype _var = NULL;
      modelica_metatype _systemVars = NULL;
      modelica_metatype _eq = NULL;
      modelica_metatype _new_eq = NULL;
      modelica_metatype _aux_eq = NULL;
      modelica_integer _size;
      modelica_integer _newnumResVars;
      modelica_metatype _exp = NULL;
      modelica_metatype _globalDAEData = NULL;
      modelica_metatype _cref = NULL;
      modelica_metatype _newCref = NULL;
      modelica_metatype _crlst = NULL;
      modelica_boolean _b1;
      modelica_boolean _b2;
      modelica_metatype _discEqns = NULL;
      modelica_metatype _contEqns = NULL;
      modelica_metatype _alg = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _crefExpand = NULL;
      volatile mmc_switch_type tmp12;
      int tmp13;
      // _newResEqns has no default value.
      // _newResVars has no default value.
      // _newAuxVars has no default value.
      // _discVars has no default value.
      // _contVars has no default value.
      // _var has no default value.
      // _systemVars has no default value.
      // _eq has no default value.
      // _new_eq has no default value.
      // _aux_eq has no default value.
      // _size has no default value.
      // _newnumResVars has no default value.
      // _exp has no default value.
      // _globalDAEData has no default value.
      // _cref has no default value.
      // _newCref has no default value.
      // _crlst has no default value.
      // _b1 has no default value.
      // _b2 has no default value.
      // _discEqns has no default value.
      // _contEqns has no default value.
      // _alg has no default value.
      // _source has no default value.
      // _crefExpand has no default value.
      tmp12 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp11_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp12 < 11; tmp12++) {
        switch (MMC_SWITCH_CAST(tmp12)) {
        case 0: {
          modelica_integer tmp14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          tmp14 = mmc_unbox_integer(tmp12_2);
          if (0 /* false */ != tmp14) goto tmp11_end;
          if (0 /* false */ != tmp12_3) goto tmp11_end;
          if (listEmpty(tmp12_1)) goto tmp11_end;
          tmpMeta15 = MMC_CAR(tmp12_1);
          tmpMeta16 = MMC_CDR(tmp12_1);
          if (!listEmpty(tmpMeta16)) goto tmp11_end;
          _eq = tmpMeta15;
          {
            modelica_metatype __omcQ_24tmpVar13;
            modelica_metatype* tmp26;
            modelica_metatype tmpMeta27;
            modelica_metatype __omcQ_24tmpVar12;
            modelica_integer tmp28;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _vars;
            tmpMeta27 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar13 = tmpMeta27; /* defaultValue */
            tmp26 = &__omcQ_24tmpVar13;
            while(1) {
              tmp28 = 1;
              if (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                tmp28--;
              }
              if (tmp28 == 0) {
                __omcQ_24tmpVar12 = mmc_mk_boolean(omc_BackendVariable_isCSEVar(threadData, _v));
                *tmp26 = mmc_mk_cons(__omcQ_24tmpVar12,0);
                tmp26 = &MMC_CDR(*tmp26);
              } else if (tmp28 == 1) {
                break;
              } else {
                goto goto_10;
              }
            }
            *tmp26 = mmc_mk_nil();
            tmpMeta25 = __omcQ_24tmpVar13;
          }
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_Util_boolAndList(threadData, tmpMeta25)) goto tmp11_end;
          {
            modelica_metatype __omcQ_24tmpVar11;
            modelica_metatype* tmp18;
            modelica_metatype tmpMeta19;
            modelica_metatype __omcQ_24tmpVar10;
            modelica_integer tmp20;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _vars;
            tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar11 = tmpMeta19; /* defaultValue */
            tmp18 = &__omcQ_24tmpVar11;
            while(1) {
              tmp20 = 1;
              if (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                tmp20--;
              }
              if (tmp20 == 0) {
                __omcQ_24tmpVar10 = omc_BackendVariable_setVarKind(threadData, _v, _OMC_LIT3);
                *tmp18 = mmc_mk_cons(__omcQ_24tmpVar10,0);
                tmp18 = &MMC_CDR(*tmp18);
              } else if (tmp20 == 1) {
                break;
              } else {
                goto goto_10;
              }
            }
            *tmp18 = mmc_mk_nil();
            tmpMeta17 = __omcQ_24tmpVar11;
          }
          _newResVars = tmpMeta17;

          _new_eq = omc_BackendEquation_setEquationAttributes(threadData, _eq, _OMC_LIT6);

          tmpMeta21 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta21), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta21))[3] = omc_BackendVariable_addNewVars(threadData, _newResVars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 3))));
          _traverserArgs = tmpMeta21;

          tmpMeta23 = mmc_mk_cons(_new_eq, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta22 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta22), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta22))[4] = omc_BackendEquation_addList(threadData, tmpMeta23, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 4))));
          _traverserArgs = tmpMeta22;

          tmpMeta24 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta24), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta24))[5] = omc_BackendVariable_removeCrefs(threadData, _varCrefLst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 5))));
          _traverserArgs = tmpMeta24;
          tmpMeta9 = _traverserArgs;
          goto tmp11_done;
        }
        case 1: {
          modelica_integer tmp29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          tmp29 = mmc_unbox_integer(tmp12_2);
          if (0 /* false */ != tmp29) goto tmp11_end;
          if (0 /* false */ != tmp12_3) goto tmp11_end;
          if (listEmpty(tmp12_1)) goto tmp11_end;
          tmpMeta30 = MMC_CAR(tmp12_1);
          tmpMeta31 = MMC_CDR(tmp12_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta30,0,4) == 0) goto tmp11_end;
          if (!listEmpty(tmpMeta31)) goto tmp11_end;
          _eq = tmpMeta30;
          tmp12 += 5; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching assignment */
          tmpMeta32 = _vars;
          if (listEmpty(tmpMeta32)) goto goto_10;
          tmpMeta33 = MMC_CAR(tmpMeta32);
          tmpMeta34 = MMC_CDR(tmpMeta32);
          if (!listEmpty(tmpMeta34)) goto goto_10;
          _var = tmpMeta33;

          tmpMeta35 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta35), MMC_UNTAGPTR(_eq), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta35))[2] = omc_ExpressionSolve_solve(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 3))), omc_Expression_crefExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)))), mmc_mk_none(), NULL);
          _eq = tmpMeta35;

          tmpMeta36 = mmc_mk_box5(5, &BackendDAE_Equation_SOLVED__EQUATION__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 5))));
          _new_eq = tmpMeta36;

          _new_eq = omc_BackendEquation_setEquationAttributes(threadData, _new_eq, _OMC_LIT6);

          tmpMeta37 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta37), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta37))[3] = omc_BackendVariable_addNewVars(threadData, _vars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 3))));
          _traverserArgs = tmpMeta37;

          tmpMeta39 = mmc_mk_cons(_new_eq, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta38 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta38), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta38))[4] = omc_BackendEquation_addList(threadData, tmpMeta39, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 4))));
          _traverserArgs = tmpMeta38;
          tmpMeta9 = _traverserArgs;
          goto tmp11_done;
        }
        case 2: {
          modelica_integer tmp40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          tmp40 = mmc_unbox_integer(tmp12_2);
          if (0 /* false */ != tmp40) goto tmp11_end;
          if (0 /* false */ != tmp12_3) goto tmp11_end;
          if (listEmpty(tmp12_1)) goto tmp11_end;
          tmpMeta41 = MMC_CAR(tmp12_1);
          tmpMeta42 = MMC_CDR(tmp12_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta41,6,5) == 0) goto tmp11_end;
          if (!listEmpty(tmpMeta42)) goto tmp11_end;
          _eq = tmpMeta41;
          tmp12 += 4; /* Pattern matching succeeded; we may skip some cases if we fail */
          _new_eq = omc_BackendEquation_setEquationAttributes(threadData, _eq, _OMC_LIT6);

          tmpMeta43 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta43), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta43))[3] = omc_BackendVariable_addNewVars(threadData, _vars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 3))));
          _traverserArgs = tmpMeta43;

          tmpMeta45 = mmc_mk_cons(_new_eq, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta44 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta44), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta44))[4] = omc_BackendEquation_addList(threadData, tmpMeta45, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 4))));
          _traverserArgs = tmpMeta44;
          tmpMeta9 = _traverserArgs;
          goto tmp11_done;
        }
        case 3: {
          modelica_integer tmp46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          tmp46 = mmc_unbox_integer(tmp12_2);
          if (0 /* false */ != tmp46) goto tmp11_end;
          if (0 /* false */ != tmp12_3) goto tmp11_end;
          if (listEmpty(tmp12_1)) goto tmp11_end;
          tmpMeta47 = MMC_CAR(tmp12_1);
          tmpMeta48 = MMC_CDR(tmp12_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta47,1,6) == 0) goto tmp11_end;
          if (!listEmpty(tmpMeta48)) goto tmp11_end;
          _eq = tmpMeta47;
          tmp12 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          _new_eq = omc_BackendEquation_setEquationAttributes(threadData, _eq, _OMC_LIT6);

          tmpMeta49 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta49), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta49))[3] = omc_BackendVariable_addNewVars(threadData, _vars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 3))));
          _traverserArgs = tmpMeta49;

          tmpMeta51 = mmc_mk_cons(_new_eq, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta50 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta50), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta50))[4] = omc_BackendEquation_addList(threadData, tmpMeta51, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 4))));
          _traverserArgs = tmpMeta50;
          tmpMeta9 = _traverserArgs;
          goto tmp11_done;
        }
        case 4: {
          modelica_integer tmp52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          modelica_metatype tmpMeta56;
          modelica_metatype tmpMeta57;
          tmp52 = mmc_unbox_integer(tmp12_2);
          if (0 /* false */ != tmp52) goto tmp11_end;
          if (listEmpty(tmp12_1)) goto tmp11_end;
          tmpMeta53 = MMC_CAR(tmp12_1);
          tmpMeta54 = MMC_CDR(tmp12_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta53,5,4) == 0) goto tmp11_end;
          if (!listEmpty(tmpMeta54)) goto tmp11_end;
          
          _eq = tmpMeta53;
          tmp12 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          _new_eq = omc_BackendEquation_setEquationAttributes(threadData, _eq, _OMC_LIT8);

          tmpMeta55 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta55), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta55))[3] = omc_BackendVariable_addNewVars(threadData, _vars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 3))));
          _traverserArgs = tmpMeta55;

          tmpMeta57 = mmc_mk_cons(_new_eq, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta56 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta56), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta56))[4] = omc_BackendEquation_addList(threadData, tmpMeta57, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 4))));
          _traverserArgs = tmpMeta56;
          tmpMeta9 = _traverserArgs;
          goto tmp11_done;
        }
        case 5: {
          modelica_integer tmp58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          modelica_metatype tmpMeta63;
          modelica_boolean tmp64;
          modelica_metatype tmpMeta65;
          modelica_metatype tmpMeta66;
          modelica_metatype tmpMeta67;
          tmp58 = mmc_unbox_integer(tmp12_2);
          if (0 /* false */ != tmp58) goto tmp11_end;
          if (0 /* false */ != tmp12_3) goto tmp11_end;
          if (listEmpty(tmp12_1)) goto tmp11_end;
          tmpMeta59 = MMC_CAR(tmp12_1);
          tmpMeta60 = MMC_CDR(tmp12_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta59,4,5) == 0) goto tmp11_end;
          tmpMeta61 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta59), 3));
          tmpMeta62 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta59), 4));
          tmpMeta63 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta59), 5));
          if (!listEmpty(tmpMeta60)) goto tmp11_end;
          _eq = tmpMeta59;
          _alg = tmpMeta61;
          _source = tmpMeta62;
          _crefExpand = tmpMeta63;
          tmp12 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching assignment */
          tmp64 = omc_CheckModel_isCrefListAlgorithmOutput(threadData, _varCrefLst, _alg, _source, _crefExpand);
          if (1 /* true */ != tmp64) goto goto_10;

          _new_eq = omc_BackendEquation_setEquationAttributes(threadData, _eq, _OMC_LIT6);

          tmpMeta65 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta65), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta65))[3] = omc_BackendVariable_addNewVars(threadData, _vars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 3))));
          _traverserArgs = tmpMeta65;

          tmpMeta67 = mmc_mk_cons(_new_eq, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta66 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta66), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta66))[4] = omc_BackendEquation_addList(threadData, tmpMeta67, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 4))));
          _traverserArgs = tmpMeta66;
          tmpMeta9 = _traverserArgs;
          goto tmp11_done;
        }
        case 6: {
          modelica_metatype tmpMeta68;
          modelica_metatype tmpMeta69;
          modelica_metatype tmpMeta70;
          modelica_integer tmp71;
          modelica_metatype tmpMeta72;
          modelica_metatype tmpMeta76;
          modelica_metatype tmpMeta80;
          modelica_metatype tmpMeta81;
          modelica_metatype tmpMeta82;
          modelica_metatype tmpMeta83;
          modelica_metatype tmpMeta84;
          modelica_metatype tmpMeta85;
          modelica_metatype tmpMeta86;
          modelica_metatype tmpMeta90;
          modelica_metatype tmpMeta91;
          modelica_metatype tmpMeta92;
          if (listEmpty(tmp12_1)) goto tmp11_end;
          tmpMeta68 = MMC_CAR(tmp12_1);
          tmpMeta69 = MMC_CDR(tmp12_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta68,1,6) == 0) goto tmp11_end;
          tmpMeta70 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta68), 3));
          if (!listEmpty(tmpMeta69)) goto tmp11_end;
          tmp71 = mmc_unbox_integer(tmp12_2);
          
          _eq = tmpMeta68;
          _exp = tmpMeta70;
          _b1 = tmp71  /* pattern as ty=Boolean */;
          _b2 = tmp12_3;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(omc_Expression_isCref(threadData, _exp) && (_b1 || _b2))) goto tmp11_end;
          _globalDAEData = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 2)));

          _cref = omc_Expression_expCref(threadData, _exp);

          _newAuxVars = omc_BackendVariable_getVar(threadData, _cref, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 5))), NULL);

          _crlst = omc_ComponentReference_expandCref(threadData, _cref, 1 /* true */);

          {
            modelica_metatype __omcQ_24tmpVar15;
            modelica_metatype* tmp73;
            modelica_metatype tmpMeta74;
            modelica_metatype __omcQ_24tmpVar14;
            modelica_integer tmp75;
            modelica_metatype _cr_loopVar = 0;
            modelica_metatype _cr;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _cr_loopVar = _crlst;
            _v_loopVar = _newAuxVars;
            tmpMeta74 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar15 = tmpMeta74; /* defaultValue */
            tmp73 = &__omcQ_24tmpVar15;
            while(1) {
              tmp75 = 2;
              if (!listEmpty(_cr_loopVar)) {
                _cr = MMC_CAR(_cr_loopVar);
                _cr_loopVar = MMC_CDR(_cr_loopVar);
                tmp75--;
              }if (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                tmp75--;
              }
              if (tmp75 == 0) {
                __omcQ_24tmpVar14 = omc_BackendVariable_copyVarNewName(threadData, omc_ComponentReference_crefPrefixAux(threadData, _cr), _v);
                *tmp73 = mmc_mk_cons(__omcQ_24tmpVar14,0);
                tmp73 = &MMC_CDR(*tmp73);
              } else if (tmp75 == 2) {
                break;
              } else {
                goto goto_10;
              }
            }
            *tmp73 = mmc_mk_nil();
            tmpMeta72 = __omcQ_24tmpVar15;
          }
          _newAuxVars = tmpMeta72;

          {
            modelica_metatype __omcQ_24tmpVar17;
            modelica_metatype* tmp77;
            modelica_metatype tmpMeta78;
            modelica_metatype __omcQ_24tmpVar16;
            modelica_integer tmp79;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _newAuxVars;
            tmpMeta78 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar17 = tmpMeta78; /* defaultValue */
            tmp77 = &__omcQ_24tmpVar17;
            while(1) {
              tmp79 = 1;
              if (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                tmp79--;
              }
              if (tmp79 == 0) {
                __omcQ_24tmpVar16 = omc_BackendVariable_setVarKind(threadData, _v, _OMC_LIT3);
                *tmp77 = mmc_mk_cons(__omcQ_24tmpVar16,0);
                tmp77 = &MMC_CDR(*tmp77);
              } else if (tmp79 == 1) {
                break;
              } else {
                goto goto_10;
              }
            }
            *tmp77 = mmc_mk_nil();
            tmpMeta76 = __omcQ_24tmpVar17;
          }
          _newAuxVars = tmpMeta76;

          tmpMeta80 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta80), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta80))[3] = omc_BackendVariable_addNewVars(threadData, _newAuxVars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 3))));
          _traverserArgs = tmpMeta80;

          _newCref = omc_ComponentReference_crefPrefixAux(threadData, _cref);

          tmpMeta81 = MMC_TAGPTR(mmc_alloc_words(8));
          memcpy(MMC_UNTAGPTR(tmpMeta81), MMC_UNTAGPTR(_eq), 8*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta81))[3] = omc_Expression_crefExp(threadData, _newCref);
          _eq = tmpMeta81;

          _aux_eq = _eq;

          _aux_eq = omc_BackendEquation_setEquationAttributes(threadData, _aux_eq, _OMC_LIT6);

          tmpMeta83 = mmc_mk_cons(_aux_eq, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta82 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta82), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta82))[4] = omc_BackendEquation_addList(threadData, tmpMeta83, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 4))));
          _traverserArgs = tmpMeta82;

          _globalDAEData = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 2)));

          tmpMeta84 = MMC_TAGPTR(mmc_alloc_words(8));
          memcpy(MMC_UNTAGPTR(tmpMeta84), MMC_UNTAGPTR(_eq), 8*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta84))[4] = omc_Expression_crefToExp(threadData, _cref);
          _eq = tmpMeta84;

          _newResEqns = omc_BackendEquation_equationToScalarResidualForm(threadData, _eq, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 6))));

          _newResEqns = omc_BackendEquation_convertResidualsIntoSolvedEquations(threadData, _newResEqns, _OMC_LIT9, mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_globalDAEData), 4)))), 1 /* true */ ,&_newResVars ,&_newnumResVars);

          tmpMeta85 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta85), MMC_UNTAGPTR(_globalDAEData), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta85))[4] = mmc_mk_integer(_newnumResVars);
          _globalDAEData = tmpMeta85;

          {
            modelica_metatype __omcQ_24tmpVar19;
            modelica_metatype* tmp87;
            modelica_metatype tmpMeta88;
            modelica_metatype __omcQ_24tmpVar18;
            modelica_integer tmp89;
            modelica_metatype _e_loopVar = 0;
            modelica_metatype _e;
            _e_loopVar = _newResEqns;
            tmpMeta88 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar19 = tmpMeta88; /* defaultValue */
            tmp87 = &__omcQ_24tmpVar19;
            while(1) {
              tmp89 = 1;
              if (!listEmpty(_e_loopVar)) {
                _e = MMC_CAR(_e_loopVar);
                _e_loopVar = MMC_CDR(_e_loopVar);
                tmp89--;
              }
              if (tmp89 == 0) {
                __omcQ_24tmpVar18 = omc_BackendEquation_setEquationAttributes(threadData, _e, _OMC_LIT11);
                *tmp87 = mmc_mk_cons(__omcQ_24tmpVar18,0);
                tmp87 = &MMC_CDR(*tmp87);
              } else if (tmp89 == 1) {
                break;
              } else {
                goto goto_10;
              }
            }
            *tmp87 = mmc_mk_nil();
            tmpMeta86 = __omcQ_24tmpVar19;
          }
          _newResEqns = tmpMeta86;

          tmpMeta90 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta90), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta90))[3] = omc_BackendVariable_addNewVars(threadData, _newResVars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 3))));
          _traverserArgs = tmpMeta90;

          tmpMeta91 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta91), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta91))[4] = omc_BackendEquation_addList(threadData, _newResEqns, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 4))));
          _traverserArgs = tmpMeta91;

          _globalDAEData = omc_DAEMode_addVarsGlobalData(threadData, _globalDAEData, _vars);

          tmpMeta92 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta92), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta92))[2] = _globalDAEData;
          _traverserArgs = tmpMeta92;
          tmpMeta9 = _traverserArgs;
          goto tmp11_done;
        }
        case 7: {
          modelica_metatype tmpMeta93;
          modelica_metatype tmpMeta94;
          modelica_integer tmp95;
          modelica_metatype tmpMeta96;
          modelica_metatype tmpMeta97;
          modelica_metatype tmpMeta101;
          modelica_metatype tmpMeta102;
          modelica_metatype tmpMeta103;
          if (listEmpty(tmp12_1)) goto tmp11_end;
          tmpMeta93 = MMC_CAR(tmp12_1);
          tmpMeta94 = MMC_CDR(tmp12_1);
          if (!listEmpty(tmpMeta94)) goto tmp11_end;
          tmp95 = mmc_unbox_integer(tmp12_2);
          
          _eq = tmpMeta93;
          _b1 = tmp95  /* pattern as ty=Boolean */;
          _b2 = tmp12_3;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(_b1 || _b2)) goto tmp11_end;
          _globalDAEData = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 2)));

          _newResEqns = omc_BackendEquation_equationToScalarResidualForm(threadData, _eq, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 6))));

          _newResEqns = omc_BackendEquation_convertResidualsIntoSolvedEquations(threadData, _newResEqns, _OMC_LIT9, mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_globalDAEData), 4)))), 1 /* true */ ,&_newResVars ,&_newnumResVars);

          tmpMeta96 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta96), MMC_UNTAGPTR(_globalDAEData), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta96))[4] = mmc_mk_integer(_newnumResVars);
          _globalDAEData = tmpMeta96;

          {
            modelica_metatype __omcQ_24tmpVar21;
            modelica_metatype* tmp98;
            modelica_metatype tmpMeta99;
            modelica_metatype __omcQ_24tmpVar20;
            modelica_integer tmp100;
            modelica_metatype _e_loopVar = 0;
            modelica_metatype _e;
            _e_loopVar = _newResEqns;
            tmpMeta99 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar21 = tmpMeta99; /* defaultValue */
            tmp98 = &__omcQ_24tmpVar21;
            while(1) {
              tmp100 = 1;
              if (!listEmpty(_e_loopVar)) {
                _e = MMC_CAR(_e_loopVar);
                _e_loopVar = MMC_CDR(_e_loopVar);
                tmp100--;
              }
              if (tmp100 == 0) {
                __omcQ_24tmpVar20 = omc_BackendEquation_setEquationAttributes(threadData, _e, _OMC_LIT11);
                *tmp98 = mmc_mk_cons(__omcQ_24tmpVar20,0);
                tmp98 = &MMC_CDR(*tmp98);
              } else if (tmp100 == 1) {
                break;
              } else {
                goto goto_10;
              }
            }
            *tmp98 = mmc_mk_nil();
            tmpMeta97 = __omcQ_24tmpVar21;
          }
          _newResEqns = tmpMeta97;

          tmpMeta101 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta101), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta101))[3] = omc_BackendVariable_addNewVars(threadData, _newResVars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 3))));
          _traverserArgs = tmpMeta101;

          tmpMeta102 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta102), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta102))[4] = omc_BackendEquation_addList(threadData, _newResEqns, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 4))));
          _traverserArgs = tmpMeta102;

          _globalDAEData = omc_DAEMode_addVarsGlobalData(threadData, _globalDAEData, _vars);

          tmpMeta103 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta103), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta103))[2] = _globalDAEData;
          _traverserArgs = tmpMeta103;
          tmpMeta9 = _traverserArgs;
          goto tmp11_done;
        }
        case 8: {
          modelica_metatype tmpMeta104;
          modelica_metatype tmpMeta105;
          modelica_metatype tmpMeta106;
          modelica_metatype tmpMeta107;
          modelica_metatype tmpMeta111;
          modelica_metatype tmpMeta115;
          modelica_metatype tmpMeta116;
          modelica_metatype tmpMeta117;
          modelica_metatype tmpMeta118;
          modelica_metatype tmpMeta119;
          modelica_metatype tmpMeta120;
          modelica_metatype tmpMeta121;
          modelica_metatype tmpMeta125;
          modelica_metatype tmpMeta126;
          modelica_metatype tmpMeta127;
          if (listEmpty(tmp12_1)) goto tmp11_end;
          tmpMeta104 = MMC_CAR(tmp12_1);
          tmpMeta105 = MMC_CDR(tmp12_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta104,6,5) == 0) goto tmp11_end;
          tmpMeta106 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta104), 3));
          if (!listEmpty(tmpMeta105)) goto tmp11_end;
          
          _eq = tmpMeta104;
          _exp = tmpMeta106;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_Expression_isCref(threadData, _exp)) goto tmp11_end;
          _cref = omc_Expression_expCref(threadData, _exp);

          {
            modelica_metatype __omcQ_24tmpVar23;
            modelica_metatype* tmp108;
            modelica_metatype tmpMeta109;
            modelica_metatype __omcQ_24tmpVar22;
            modelica_integer tmp110;
            modelica_metatype _cr_loopVar = 0;
            modelica_metatype _cr;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _cr_loopVar = _varCrefLst;
            _v_loopVar = _vars;
            tmpMeta109 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar23 = tmpMeta109; /* defaultValue */
            tmp108 = &__omcQ_24tmpVar23;
            while(1) {
              tmp110 = 2;
              if (!listEmpty(_cr_loopVar)) {
                _cr = MMC_CAR(_cr_loopVar);
                _cr_loopVar = MMC_CDR(_cr_loopVar);
                tmp110--;
              }if (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                tmp110--;
              }
              if (tmp110 == 0) {
                __omcQ_24tmpVar22 = omc_BackendVariable_copyVarNewName(threadData, omc_ComponentReference_crefPrefixAux(threadData, _cr), _v);
                *tmp108 = mmc_mk_cons(__omcQ_24tmpVar22,0);
                tmp108 = &MMC_CDR(*tmp108);
              } else if (tmp110 == 2) {
                break;
              } else {
                goto goto_10;
              }
            }
            *tmp108 = mmc_mk_nil();
            tmpMeta107 = __omcQ_24tmpVar23;
          }
          _newAuxVars = tmpMeta107;

          {
            modelica_metatype __omcQ_24tmpVar25;
            modelica_metatype* tmp112;
            modelica_metatype tmpMeta113;
            modelica_metatype __omcQ_24tmpVar24;
            modelica_integer tmp114;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = _newAuxVars;
            tmpMeta113 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar25 = tmpMeta113; /* defaultValue */
            tmp112 = &__omcQ_24tmpVar25;
            while(1) {
              tmp114 = 1;
              if (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                tmp114--;
              }
              if (tmp114 == 0) {
                __omcQ_24tmpVar24 = omc_BackendVariable_setVarKind(threadData, _v, _OMC_LIT3);
                *tmp112 = mmc_mk_cons(__omcQ_24tmpVar24,0);
                tmp112 = &MMC_CDR(*tmp112);
              } else if (tmp114 == 1) {
                break;
              } else {
                goto goto_10;
              }
            }
            *tmp112 = mmc_mk_nil();
            tmpMeta111 = __omcQ_24tmpVar25;
          }
          _newAuxVars = tmpMeta111;

          tmpMeta115 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta115), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta115))[3] = omc_BackendVariable_addNewVars(threadData, _newAuxVars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 3))));
          _traverserArgs = tmpMeta115;

          _newCref = omc_ComponentReference_crefPrefixAux(threadData, _cref);

          tmpMeta116 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta116), MMC_UNTAGPTR(_eq), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta116))[3] = omc_Expression_crefToExp(threadData, _newCref);
          _eq = tmpMeta116;

          _aux_eq = _eq;

          _aux_eq = omc_BackendEquation_setEquationAttributes(threadData, _aux_eq, _OMC_LIT6);

          tmpMeta118 = mmc_mk_cons(_aux_eq, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta117 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta117), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta117))[4] = omc_BackendEquation_addList(threadData, tmpMeta118, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 4))));
          _traverserArgs = tmpMeta117;

          _globalDAEData = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 2)));

          tmpMeta119 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta119), MMC_UNTAGPTR(_eq), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta119))[4] = omc_Expression_crefToExp(threadData, _cref);
          _eq = tmpMeta119;

          _newResEqns = omc_BackendEquation_equationToScalarResidualForm(threadData, _eq, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 6))));

          _newResEqns = omc_BackendEquation_convertResidualsIntoSolvedEquations(threadData, _newResEqns, _OMC_LIT9, mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_globalDAEData), 4)))), 1 /* true */ ,&_newResVars ,&_newnumResVars);

          tmpMeta120 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta120), MMC_UNTAGPTR(_globalDAEData), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta120))[4] = mmc_mk_integer(_newnumResVars);
          _globalDAEData = tmpMeta120;

          {
            modelica_metatype __omcQ_24tmpVar27;
            modelica_metatype* tmp122;
            modelica_metatype tmpMeta123;
            modelica_metatype __omcQ_24tmpVar26;
            modelica_integer tmp124;
            modelica_metatype _e_loopVar = 0;
            modelica_metatype _e;
            _e_loopVar = _newResEqns;
            tmpMeta123 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar27 = tmpMeta123; /* defaultValue */
            tmp122 = &__omcQ_24tmpVar27;
            while(1) {
              tmp124 = 1;
              if (!listEmpty(_e_loopVar)) {
                _e = MMC_CAR(_e_loopVar);
                _e_loopVar = MMC_CDR(_e_loopVar);
                tmp124--;
              }
              if (tmp124 == 0) {
                __omcQ_24tmpVar26 = omc_BackendEquation_setEquationAttributes(threadData, _e, _OMC_LIT11);
                *tmp122 = mmc_mk_cons(__omcQ_24tmpVar26,0);
                tmp122 = &MMC_CDR(*tmp122);
              } else if (tmp124 == 1) {
                break;
              } else {
                goto goto_10;
              }
            }
            *tmp122 = mmc_mk_nil();
            tmpMeta121 = __omcQ_24tmpVar27;
          }
          _newResEqns = tmpMeta121;

          tmpMeta125 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta125), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta125))[3] = omc_BackendVariable_addNewVars(threadData, _newResVars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 3))));
          _traverserArgs = tmpMeta125;

          tmpMeta126 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta126), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta126))[4] = omc_BackendEquation_addList(threadData, _newResEqns, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 4))));
          _traverserArgs = tmpMeta126;

          _globalDAEData = omc_DAEMode_addVarsGlobalData(threadData, _globalDAEData, _vars);

          tmpMeta127 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta127), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta127))[2] = _globalDAEData;
          _traverserArgs = tmpMeta127;
          tmpMeta9 = _traverserArgs;
          goto tmp11_done;
        }
        case 9: {
          modelica_integer tmp128;
          modelica_metatype tmpMeta129;
          modelica_metatype tmpMeta130;
          modelica_metatype tmpMeta131;
          modelica_metatype tmpMeta132;
          modelica_metatype tmpMeta133;
          modelica_metatype tmpMeta134;
          modelica_metatype tmpMeta135;
          modelica_metatype tmpMeta136;
          modelica_metatype tmpMeta137;
          modelica_metatype tmpMeta138;
          modelica_metatype tmpMeta139;
          modelica_metatype tmpMeta140;
          tmp128 = mmc_unbox_integer(tmp12_2);
          if (0 /* false */ != tmp128) goto tmp11_end;
          
          /* Pattern matching succeeded */
          _discVars = omc_List_splitOnTrue(threadData, _inVars, boxvar_BackendVariable_isVarDiscrete ,&_contVars);

          _discEqns = omc_DAEMode_getDiscAndContEqns(threadData, _inVars, _inEqns, _discVars, _contVars, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 8)))), 12))), omc_BackendDAEUtil_isInitializationDAE(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_traverserArgs), 8)))) ,&_contEqns);

          {
            modelica_metatype _e;
            for (tmpMeta129 = _discEqns; !listEmpty(tmpMeta129); tmpMeta129=MMC_CDR(tmpMeta129))
            {
              _e = MMC_CAR(tmpMeta129);
              _size = omc_BackendEquation_equationSize(threadData, _e);

              _newAuxVars = omc_List_firstN(threadData, _discVars, _size);

              tmpMeta130 = mmc_mk_cons(_e, MMC_REFSTRUCTLIT(mmc_nil));
              tmpMeta131 = MMC_REFSTRUCTLIT(mmc_nil);
              tmpMeta132 = MMC_REFSTRUCTLIT(mmc_nil);
              _traverserArgs = omc_DAEMode_traverserStrongComponents(threadData, tmpMeta130, _newAuxVars, tmpMeta131, tmpMeta132, _traverserArgs);

              _discVars = omc_List_stripN(threadData, _discVars, _size);
            }
          }

          {
            modelica_metatype _e;
            for (tmpMeta134 = _contEqns; !listEmpty(tmpMeta134); tmpMeta134=MMC_CDR(tmpMeta134))
            {
              _e = MMC_CAR(tmpMeta134);
              _size = omc_BackendEquation_equationSize(threadData, _e);

              _newAuxVars = omc_List_firstN(threadData, _contVars, _size);

              tmpMeta135 = MMC_TAGPTR(mmc_alloc_words(9));
              memcpy(MMC_UNTAGPTR(tmpMeta135), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
              ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta135))[7] = mmc_mk_boolean(1 /* true */);
              _traverserArgs = tmpMeta135;

              tmpMeta136 = mmc_mk_cons(_e, MMC_REFSTRUCTLIT(mmc_nil));
              tmpMeta137 = MMC_REFSTRUCTLIT(mmc_nil);
              tmpMeta138 = MMC_REFSTRUCTLIT(mmc_nil);
              _traverserArgs = omc_DAEMode_traverserStrongComponents(threadData, tmpMeta136, _newAuxVars, tmpMeta137, tmpMeta138, _traverserArgs);

              tmpMeta139 = MMC_TAGPTR(mmc_alloc_words(9));
              memcpy(MMC_UNTAGPTR(tmpMeta139), MMC_UNTAGPTR(_traverserArgs), 9*sizeof(modelica_metatype));
              ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta139))[7] = mmc_mk_boolean(0 /* false */);
              _traverserArgs = tmpMeta139;

              _contVars = omc_List_stripN(threadData, _contVars, _size);
            }
          }
          tmpMeta9 = _traverserArgs;
          goto tmp11_done;
        }
        case 10: {
          modelica_metatype tmpMeta141;
          modelica_metatype tmpMeta142;
          modelica_metatype tmpMeta143;
          modelica_metatype tmpMeta144;
          
          /* Pattern matching succeeded */
          tmpMeta141 = stringAppend(_OMC_LIT12,omc_BackendDump_equationListString(threadData, _inEqns, _OMC_LIT13));
          tmpMeta142 = stringAppend(tmpMeta141,_OMC_LIT14);
          tmpMeta143 = stringAppend(tmpMeta142,omc_BackendDump_varListString(threadData, _inVars, _OMC_LIT13));
          tmpMeta144 = stringAppend(tmpMeta143,_OMC_LIT15);
          omc_Error_addInternalError(threadData, tmpMeta144, _OMC_LIT17);
          goto goto_10;
          goto tmp11_done;
        }
        }
        goto tmp11_end;
        tmp11_end: ;
      }
      goto goto_10;
      tmp11_done:
      (void)tmp12;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp11_done2;
      goto_10:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp12 < 11) {
        goto tmp11_top;
      }
      MMC_THROW_INTERNAL();
      tmp11_done2:;
    }
  }
  _traverserArgs = tmpMeta9;
  _return: OMC_LABEL_UNUSED
  return _traverserArgs;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_createDAEmodeEqSystem(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsyst, modelica_metatype __omcQ_24in_5Fshared, modelica_metatype *out_shared)
{
  modelica_metatype _syst = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _travArgs = NULL;
  modelica_metatype _globalDAEData = NULL;
  modelica_metatype _tmp = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _retSystem = NULL;
  modelica_metatype _newDAEVars = NULL;
  modelica_metatype _newDAEEquations = NULL;
  modelica_metatype _resEqns = NULL;
  modelica_integer _systemSize;
  modelica_boolean _debug;
  modelica_boolean _exec;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _syst = __omcQ_24in_5Fsyst;
  _shared = __omcQ_24in_5Fshared;
  // _travArgs has no default value.
  // _globalDAEData has no default value.
  // _tmp has no default value.
  // _vars has no default value.
  // _retSystem has no default value.
  // _newDAEVars has no default value.
  // _newDAEEquations has no default value.
  // _resEqns has no default value.
  // _systemSize has no default value.
  _debug = omc_Flags_isSet(threadData, _OMC_LIT21);
  _exec = 0 /* false */;
  _globalDAEData = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 19)));

  _systemSize = omc_BackendDAEUtil_systemSize(threadData, _syst);

  _newDAEVars = omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013));

  _newDAEEquations = omc_BackendEquation_emptyEqnsSized(threadData, _systemSize);

  tmpMeta1 = mmc_mk_box8(3, &DAEMode_TraverseEqnAryFold_TRAVERSER__CREATE__DAE__desc, _globalDAEData, _newDAEVars, _newDAEEquations, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 12))), mmc_mk_boolean(0 /* false */), _shared);
  _travArgs = tmpMeta1;

  if(_debug)
  {
    omc_BackendDump_printEqSystem(threadData, _syst);
  }

  _travArgs = omc_BackendDAEUtil_traverseEqSystemStrongComponents(threadData, _syst, boxvar_DAEMode_traverserStrongComponents, _travArgs);

  _globalDAEData = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_travArgs), 2)));

  if(isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_globalDAEData), 5)))))
  {
    tmpMeta2 = MMC_TAGPTR(mmc_alloc_words(6));
    memcpy(MMC_UNTAGPTR(tmpMeta2), MMC_UNTAGPTR(_globalDAEData), 6*sizeof(modelica_metatype));
    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta2))[5] = mmc_mk_some(omc_BackendVariable_addVariables(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_travArgs), 5))), omc_Util_getOption(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_globalDAEData), 5))))));
    _globalDAEData = tmpMeta2;
  }
  else
  {
    tmpMeta3 = MMC_TAGPTR(mmc_alloc_words(6));
    memcpy(MMC_UNTAGPTR(tmpMeta3), MMC_UNTAGPTR(_globalDAEData), 6*sizeof(modelica_metatype));
    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta3))[5] = mmc_mk_some((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_travArgs), 5))));
    _globalDAEData = tmpMeta3;
  }

  tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
  _retSystem = omc_BackendDAEUtil_createEqSystem(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_travArgs), 3))), omc_BackendEquation_emptyEqns(threadData), tmpMeta4, _OMC_LIT1, omc_BackendEquation_emptyEqns(threadData));

  _retSystem = omc_BackendDAEUtil_setEqSystEqs(threadData, _retSystem, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_travArgs), 4))));

  _retSystem = omc_BackendDAEUtil_setEqSystRemovedEqns(threadData, _retSystem, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 10))));

  _retSystem = omc_BackendEquation_requationsAddDAE(threadData, omc_ExpandableArray_toList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 7)))), _retSystem);

  _syst = _retSystem;

  tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(22));
  memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_shared), 22*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[19] = _globalDAEData;
  _shared = tmpMeta5;

  if(_debug)
  {
    omc_BackendDump_printEqSystem(threadData, _syst);
  }

  if(_debug)
  {
    omc_BackendDump_dumpBackendDAEModeData(threadData, _globalDAEData);
  }
  _return: OMC_LABEL_UNUSED
  if (out_shared) { *out_shared = _shared; }
  return _syst;
}

DLLDirection
modelica_metatype omc_DAEMode_createDAEmodeBDAE(threadData_t *threadData, modelica_metatype _inDAE)
{
  modelica_metatype _outDAE = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outDAE has no default value.
  _outDAE = omc_BackendDAEUtil_mapEqSystem(threadData, _inDAE, boxvar_DAEMode_createDAEmodeEqSystem);
  _return: OMC_LABEL_UNUSED
  return _outDAE;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_DAEMode_getPostOptModulesDAEString(threadData_t *threadData)
{
  modelica_metatype _strpostOptModules = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _strpostOptModules has no default value.
  _strpostOptModules = omc_Config_getPostOptModulesDAE(threadData);
  _return: OMC_LABEL_UNUSED
  return _strpostOptModules;
}

DLLDirection
modelica_metatype omc_DAEMode_getEqSystemDAEmode(threadData_t *threadData, modelica_metatype _inDAE, modelica_string _fileNamePrefix, modelica_metatype _strPreOptModules, modelica_metatype _strmatchingAlgorithm, modelica_metatype _strdaeHandler, modelica_metatype _strPostOptModules, modelica_metatype *out_outInitDAE, modelica_metatype *out_outInitDAE_lambda0_option, modelica_metatype *out_outRemovedInitialEquationLst)
{
  modelica_metatype _outDAEmode = NULL;
  modelica_metatype _outInitDAE = NULL;
  modelica_metatype _outInitDAE_lambda0_option = NULL;
  modelica_metatype _outRemovedInitialEquationLst = NULL;
  modelica_metatype _dae = NULL;
  modelica_metatype _simDAE = NULL;
  modelica_metatype _preOptModules = NULL;
  modelica_metatype _postOptModules = NULL;
  modelica_metatype _daeHandler = NULL;
  modelica_metatype _matchingAlgorithm = NULL;
  modelica_metatype _globalKnownVars = NULL;
  modelica_integer _numCheckpoints;
  modelica_integer _oldSize;
  modelica_metatype _eqSyst = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outDAEmode has no default value.
  // _outInitDAE has no default value.
  // _outInitDAE_lambda0_option has no default value.
  // _outRemovedInitialEquationLst has no default value.
  // _dae has no default value.
  // _simDAE has no default value.
  // _preOptModules has no default value.
  // _postOptModules has no default value.
  // _daeHandler has no default value.
  // _matchingAlgorithm has no default value.
  // _globalKnownVars has no default value.
  // _numCheckpoints has no default value.
  // _oldSize has no default value.
  // _eqSyst has no default value.
  _numCheckpoints = omc_ErrorExt_getNumCheckpoints(threadData);

  { /* stack overflow check */
    {
      modelica_metatype tmpMeta4;
      modelica_string tmp9;
      modelica_metatype tmpMeta10;
      modelica_metatype tmpMeta11;
      modelica_string tmp12;
      modelica_metatype tmpMeta13;
      modelica_metatype tmpMeta14;
      modelica_metatype tmpMeta15;
      modelica_metatype tmpMeta16;
      modelica_metatype tmpMeta17;
      modelica_metatype tmpMeta18;
      modelica_metatype tmpMeta19;
      MMC_TRY_STACK()
      omc_StackOverflow_clearStacktraceMessages(threadData);

      _preOptModules = omc_BackendDAEUtil_getPreOptModules(threadData, _strPreOptModules);

      { /* match expression */
        modelica_metatype tmp7_1;
        tmp7_1 = _strPostOptModules;
        {
          volatile mmc_switch_type tmp7;
          int tmp8;
          tmp7 = 0;
          for (; tmp7 < 2; tmp7++) {
            switch (MMC_SWITCH_CAST(tmp7)) {
            case 0: {
              if (!optionNone(tmp7_1)) goto tmp6_end;
              /* Pattern matching succeeded */
              tmpMeta4 = mmc_mk_some(omc_DAEMode_getPostOptModulesDAEString(threadData));
              goto tmp6_done;
            }
            case 1: {
              
              /* Pattern matching succeeded */
              tmpMeta4 = _strPostOptModules;
              goto tmp6_done;
            }
            }
            goto tmp6_end;
            tmp6_end: ;
          }
          goto goto_5;
          goto_5:;
          MMC_THROW_INTERNAL();
          goto tmp6_done;
          tmp6_done:;
        }
      }
      _postOptModules = omc_BackendDAEUtil_getPostOptModules(threadData, tmpMeta4);

      _matchingAlgorithm = omc_BackendDAEUtil_getMatchingAlgorithm(threadData, _strmatchingAlgorithm);

      omc_FlagsUtil_setConfigString(threadData, _OMC_LIT49, _OMC_LIT37);

      _daeHandler = omc_BackendDAEUtil_getIndexReductionMethod(threadData, _strdaeHandler);

      if(omc_Flags_isSet(threadData, _OMC_LIT57))
      {
        omc_BackendDump_dumpBackendDAE(threadData, _inDAE, _OMC_LIT50);

        if(omc_Flags_isSet(threadData, _OMC_LIT54))
        {
          omc_BackendDump_graphvizAdjacencyMatrix(threadData, _inDAE, _OMC_LIT50);
        }
      }

      _dae = omc_BackendDAEUtil_preOptimizeDAE(threadData, _inDAE, _preOptModules);

      tmp9 = modelica_integer_to_modelica_string(omc_BackendDAEUtil_daeSize(threadData, _dae), ((modelica_integer) 0), 1 /* true */);
      tmpMeta10 = stringAppend(_OMC_LIT58,tmp9);
      tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT59);
      omc_ExecStat_execStat(threadData, tmpMeta11);

      _dae = omc_BackendDAEUtil_causalizeDAE(threadData, _dae, mmc_mk_none(), _matchingAlgorithm, _daeHandler, 1 /* true */);

      tmp12 = modelica_integer_to_modelica_string(omc_BackendDAEUtil_daeSize(threadData, _dae), ((modelica_integer) 0), 1 /* true */);
      tmpMeta13 = stringAppend(_OMC_LIT60,tmp12);
      tmpMeta14 = stringAppend(tmpMeta13,_OMC_LIT59);
      omc_ExecStat_execStat(threadData, tmpMeta14);

      if(omc_Flags_isSet(threadData, _OMC_LIT64))
      {
        omc_BackendDump_dumpBipartiteGraphDAE(threadData, _dae, _fileNamePrefix);
      }

      if(omc_Flags_isSet(threadData, _OMC_LIT70))
      {
        _oldSize = omc_BackendDAEUtil_daeSize(threadData, _dae);

        _dae = omc_BackendDAEOptimize_evaluateOutputsOnly(threadData, _dae);

        tmpMeta15 = stringAppend(_OMC_LIT65,intString(_oldSize));
        tmpMeta16 = stringAppend(tmpMeta15,_OMC_LIT66);
        tmpMeta17 = stringAppend(tmpMeta16,intString(omc_BackendDAEUtil_daeSize(threadData, _dae)));
        tmpMeta18 = stringAppend(tmpMeta17,_OMC_LIT59);
        omc_ExecStat_execStat(threadData, tmpMeta18);
      }

      if(omc_Flags_isSet(threadData, _OMC_LIT74))
      {
        omc_BackendDump_bltdump(threadData, _OMC_LIT71, _dae);
      }

      _outInitDAE = omc_Initialization_solveInitialSystem(threadData, _dae ,&_outInitDAE_lambda0_option ,&_outRemovedInitialEquationLst ,&_globalKnownVars ,&_dae);

      _simDAE = omc_BackendDAEUtil_setFunctionTree(threadData, _dae, omc_BackendDAEUtil_getFunctions(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outInitDAE), 3)))));

      _simDAE = omc_BackendDAEUtil_setDAEGlobalKnownVars(threadData, _simDAE, _globalKnownVars);

      _simDAE = omc_BackendDAEOptimize_addInitialStmtsToAlgorithms(threadData, _simDAE, 0 /* false */);

      _simDAE = omc_Initialization_removeInitializationStuff(threadData, _simDAE);

      _simDAE = omc_BackendDAEUtil_postOptimizeDAE(threadData, _simDAE, _postOptModules, _matchingAlgorithm, _daeHandler);

      _simDAE = omc_BackendDAEUtil_sortGlobalKnownVarsInDAE(threadData, _simDAE);

      if(omc_Flags_isSet(threadData, _OMC_LIT78))
      {
        omc_BackendDump_dumpBackendDAE(threadData, _simDAE, _OMC_LIT75);
      }

      _outDAEmode = _simDAE;

      goto _return;
      MMC_ELSE_STACK()
      setGlobalRoot(((modelica_integer) 20), mmc_mk_none());

      omc_ErrorExt_rollbackNumCheckpoints(threadData, omc_ErrorExt_getNumCheckpoints(threadData) - _numCheckpoints);

      tmpMeta19 = stringAppend(_OMC_LIT79,stringDelimitList(omc_StackOverflow_readableStacktraceMessages(threadData), _OMC_LIT15));
      omc_Error_addInternalError(threadData, tmpMeta19, _OMC_LIT80);

      omc_StackOverflow_clearStacktraceMessages(threadData);
      MMC_CATCH_STACK()
    }
  }
  ;

  MMC_THROW_INTERNAL();
  _return: OMC_LABEL_UNUSED
  if (out_outInitDAE) { *out_outInitDAE = _outInitDAE; }
  if (out_outInitDAE_lambda0_option) { *out_outInitDAE_lambda0_option = _outInitDAE_lambda0_option; }
  if (out_outRemovedInitialEquationLst) { *out_outRemovedInitialEquationLst = _outRemovedInitialEquationLst; }
  return _outDAEmode;
}

