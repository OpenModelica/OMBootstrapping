#include "omc_simulation_settings.h"
#include "NFSections.h"
#define _OMC_LIT0_data "algorithm\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT0,10,_OMC_LIT0_data);
#define _OMC_LIT0 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT0)
#define _OMC_LIT1_data "  "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT1,2,_OMC_LIT1_data);
#define _OMC_LIT1 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "external \""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,10,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
#define _OMC_LIT3_data "\""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT3,1,_OMC_LIT3_data);
#define _OMC_LIT3 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT3)
#define _OMC_LIT4_data " "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT4,1,_OMC_LIT4_data);
#define _OMC_LIT4 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT4)
#define _OMC_LIT5_data " ="
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT5,2,_OMC_LIT5_data);
#define _OMC_LIT5 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT5)
#define _OMC_LIT6_data "("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT6,1,_OMC_LIT6_data);
#define _OMC_LIT6 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT6)
#define _OMC_LIT7_data ", "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT7,2,_OMC_LIT7_data);
#define _OMC_LIT7 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT7)
#define _OMC_LIT8_data ")"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT8,1,_OMC_LIT8_data);
#define _OMC_LIT8 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT8)
#define _OMC_LIT9_data "Library"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT9,7,_OMC_LIT9_data);
#define _OMC_LIT9 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT9)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT10,2,1) {_OMC_LIT9,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT10 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data "Include"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,7,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT12,2,1) {_OMC_LIT11,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT12 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "LibraryDirectory"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,16,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT14,2,1) {_OMC_LIT13,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT14 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,1,4) {&SCode_Final_NOT__FINAL__desc,}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT16,1,4) {&SCode_Each_NOT__EACH__desc,}};
#define _OMC_LIT16 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT16)
#define _OMC_LIT17_data "modelica://"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT17,11,_OMC_LIT17_data);
#define _OMC_LIT17 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT17)
#define _OMC_LIT18_data "/Resources/Library"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT18,18,_OMC_LIT18_data);
#define _OMC_LIT18 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,0,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT20,0.0);
#define _OMC_LIT20 MMC_REFREALLIT(_OMC_LIT_STRUCT20)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT21,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT19,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT20}};
#define _OMC_LIT21 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT21)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT22,1,5) {&SCode_Mod_NOMOD__desc,}};
#define _OMC_LIT22 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT22)
#define _OMC_LIT23_data "IncludeDirectory"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT23,16,_OMC_LIT23_data);
#define _OMC_LIT23 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT23)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT24,2,1) {_OMC_LIT23,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT24 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT24)
#define _OMC_LIT25_data "/Resources/Include"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT25,18,_OMC_LIT25_data);
#define _OMC_LIT25 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT25)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT26,10,3) {&SCodeDump_SCodeDumpOptions_OPTIONS__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT26 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT26)
#define _OMC_LIT27_data ";\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT27,2,_OMC_LIT27_data);
#define _OMC_LIT27 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT27)
#define _OMC_LIT28_data "NFSections.prependAlgorithm got invalid Sections to prepend algorithm to"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT28,72,_OMC_LIT28_data);
#define _OMC_LIT28 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT28)
#define _OMC_LIT29_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/NFFrontEnd/NFSections.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT29,71,_OMC_LIT29_data);
#define _OMC_LIT29 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT29)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT30_6,1.758197185e9);
#define _OMC_LIT30_6 MMC_REFREALLIT(_OMC_LIT_STRUCT30_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT30,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT29,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(160)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(161)),MMC_IMMEDIATE(MMC_TAGFIXNUM(75)),_OMC_LIT30_6}};
#define _OMC_LIT30 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT30)
#define _OMC_LIT31_data "NFSections.prependEquation got invalid Sections to prepend equation to"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT31,70,_OMC_LIT31_data);
#define _OMC_LIT31 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT31)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT32_6,1.758197185e9);
#define _OMC_LIT32_6 MMC_REFREALLIT(_OMC_LIT_STRUCT32_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT32,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT29,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(131)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(132)),MMC_IMMEDIATE(MMC_TAGFIXNUM(74)),_OMC_LIT32_6}};
#define _OMC_LIT32 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT32)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT33,1,5) {&NFSections_EMPTY__desc,}};
#define _OMC_LIT33 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT33)
#include "util/modelica.h"

#include "NFSections_includes.h"



static modelica_metatype closure0_SCodeUtil_filterGivenSubModNames(threadData_t *thData, modelica_metatype closure, modelica_metatype submod)
{
  modelica_metatype namesToKeep = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_SCodeUtil_filterGivenSubModNames(thData, submod, namesToKeep);
}static modelica_metatype closure1_SCodeUtil_filterGivenSubModNames(threadData_t *thData, modelica_metatype closure, modelica_metatype submod)
{
  modelica_metatype namesToKeep = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_SCodeUtil_filterGivenSubModNames(thData, submod, namesToKeep);
}static modelica_metatype closure2_SCodeUtil_filterGivenSubModNames(threadData_t *thData, modelica_metatype closure, modelica_metatype submod)
{
  modelica_metatype namesToKeep = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_SCodeUtil_filterGivenSubModNames(thData, submod, namesToKeep);
}static modelica_metatype closure3_SCodeUtil_filterGivenSubModNames(threadData_t *thData, modelica_metatype closure, modelica_metatype submod)
{
  modelica_metatype namesToKeep = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_SCodeUtil_filterGivenSubModNames(thData, submod, namesToKeep);
}
DLLDirection
modelica_metatype omc_NFSections_toFlatStream(threadData_t *threadData, modelica_metatype _sections, modelica_metatype _scopeName, modelica_metatype _format, modelica_string _indent, modelica_metatype __omcQ_24in_5Fs)
{
  modelica_metatype _s = NULL;
  modelica_metatype _ann = NULL;
  modelica_metatype _mod = NULL;
  modelica_metatype _modLib = NULL;
  modelica_metatype _modInc = NULL;
  modelica_metatype _modLibDir = NULL;
  modelica_metatype _modIncDir = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _s = __omcQ_24in_5Fs;
  // _ann has no default value.
  // _mod has no default value.
  // _modLib has no default value.
  // _modInc has no default value.
  // _modLibDir has no default value.
  // _modIncDir has no default value.
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _sections;
    {
      int tmp3;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
        case 3: {
          modelica_metatype tmpMeta4;
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype _alg;
            for (tmpMeta4 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 4))); !listEmpty(tmpMeta4); tmpMeta4=MMC_CDR(tmpMeta4))
            {
              _alg = MMC_CAR(tmpMeta4);
              _s = omc_IOStream_append(threadData, _s, _indent);

              _s = omc_IOStream_append(threadData, _s, _OMC_LIT0);

              tmpMeta5 = stringAppend(_indent,_OMC_LIT1);
              _s = omc_NFStatement_toFlatStreamList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_alg), 2))), _format, tmpMeta5, _s);
            }
          }
          goto tmp2_done;
        }
        case 4: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          
          /* Pattern matching succeeded */
          _s = omc_IOStream_append(threadData, _s, _indent);

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT2);

          _s = omc_IOStream_append(threadData, _s, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 5))));

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT3);

          if(mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 7)))))
          {
            if((!omc_NFComponentRef_isEmpty(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 4))))))
            {
              _s = omc_IOStream_append(threadData, _s, _OMC_LIT4);

              _s = omc_IOStream_append(threadData, _s, omc_NFComponentRef_toFlatString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 4))), _format));

              _s = omc_IOStream_append(threadData, _s, _OMC_LIT5);
            }

            _s = omc_IOStream_append(threadData, _s, _OMC_LIT4);

            _s = omc_IOStream_append(threadData, _s, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 2))));

            _s = omc_IOStream_append(threadData, _s, _OMC_LIT6);

            {
              modelica_metatype __omcQ_24tmpVar1;
              modelica_metatype* tmp8;
              modelica_metatype tmpMeta9;
              modelica_string __omcQ_24tmpVar0;
              modelica_integer tmp10;
              modelica_metatype _e_loopVar = 0;
              modelica_metatype _e;
              _e_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 3)));
              tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
              __omcQ_24tmpVar1 = tmpMeta9; /* defaultValue */
              tmp8 = &__omcQ_24tmpVar1;
              while(1) {
                tmp10 = 1;
                if (!listEmpty(_e_loopVar)) {
                  _e = MMC_CAR(_e_loopVar);
                  _e_loopVar = MMC_CDR(_e_loopVar);
                  tmp10--;
                }
                if (tmp10 == 0) {
                  __omcQ_24tmpVar0 = omc_NFExpression_toFlatString(threadData, _e, _format);
                  *tmp8 = mmc_mk_cons(__omcQ_24tmpVar0,0);
                  tmp8 = &MMC_CDR(*tmp8);
                } else if (tmp10 == 1) {
                  break;
                } else {
                  goto goto_1;
                }
              }
              *tmp8 = mmc_mk_nil();
              tmpMeta7 = __omcQ_24tmpVar1;
            }
            _s = omc_IOStream_append(threadData, _s, stringDelimitList(tmpMeta7, _OMC_LIT7));

            _s = omc_IOStream_append(threadData, _s, _OMC_LIT8);
          }

          if(isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 6)))))
          {
            /* Pattern-matching assignment */
            tmpMeta11 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 6)));
            if (optionNone(tmpMeta11)) goto goto_1;
            tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 1));
            _ann = tmpMeta12;

            _mod = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ann), 2)));

            tmpMeta13 = mmc_mk_box1(0, _OMC_LIT10);
            _modLib = omc_SCodeUtil_filterSubMods(threadData, _mod, (modelica_fnptr) mmc_mk_box2(0,closure0_SCodeUtil_filterGivenSubModNames,tmpMeta13));

            tmpMeta14 = mmc_mk_box1(0, _OMC_LIT12);
            _modInc = omc_SCodeUtil_filterSubMods(threadData, _mod, (modelica_fnptr) mmc_mk_box2(0,closure1_SCodeUtil_filterGivenSubModNames,tmpMeta14));

            if(omc_SCodeUtil_isEmptyMod(threadData, _modLib))
            {
              _modLibDir = _OMC_LIT22;
            }
            else
            {
              tmpMeta15 = mmc_mk_box1(0, _OMC_LIT14);
              _modLibDir = omc_SCodeUtil_filterSubMods(threadData, _mod, (modelica_fnptr) mmc_mk_box2(0,closure2_SCodeUtil_filterGivenSubModNames,tmpMeta15));

              if(omc_SCodeUtil_isEmptyMod(threadData, _modLibDir))
              {
                tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
                tmpMeta18 = stringAppend(_OMC_LIT17,omc_AbsynUtil_pathFirstIdent(threadData, _scopeName));
                tmpMeta19 = stringAppend(tmpMeta18,_OMC_LIT18);
                tmpMeta20 = mmc_mk_box2(6, &Absyn_Exp_STRING__desc, tmpMeta19);
                tmpMeta21 = mmc_mk_box7(3, &SCode_Mod_MOD__desc, _OMC_LIT15, _OMC_LIT16, tmpMeta17, mmc_mk_some(tmpMeta20), mmc_mk_none(), _OMC_LIT21);
                tmpMeta22 = mmc_mk_box3(3, &SCode_SubMod_NAMEMOD__desc, _OMC_LIT13, tmpMeta21);
                tmpMeta16 = mmc_mk_cons(tmpMeta22, MMC_REFSTRUCTLIT(mmc_nil));
                tmpMeta23 = mmc_mk_box7(3, &SCode_Mod_MOD__desc, _OMC_LIT15, _OMC_LIT16, tmpMeta16, mmc_mk_none(), mmc_mk_none(), _OMC_LIT21);
                _modLibDir = tmpMeta23;
              }
            }

            if(omc_SCodeUtil_isEmptyMod(threadData, _modInc))
            {
              _modIncDir = _OMC_LIT22;
            }
            else
            {
              tmpMeta24 = mmc_mk_box1(0, _OMC_LIT24);
              _modIncDir = omc_SCodeUtil_filterSubMods(threadData, _mod, (modelica_fnptr) mmc_mk_box2(0,closure3_SCodeUtil_filterGivenSubModNames,tmpMeta24));

              if(omc_SCodeUtil_isEmptyMod(threadData, _modLibDir))
              {
                tmpMeta26 = MMC_REFSTRUCTLIT(mmc_nil);
                tmpMeta27 = stringAppend(_OMC_LIT17,omc_AbsynUtil_pathFirstIdent(threadData, _scopeName));
                tmpMeta28 = stringAppend(tmpMeta27,_OMC_LIT25);
                tmpMeta29 = mmc_mk_box2(6, &Absyn_Exp_STRING__desc, tmpMeta28);
                tmpMeta30 = mmc_mk_box7(3, &SCode_Mod_MOD__desc, _OMC_LIT15, _OMC_LIT16, tmpMeta26, mmc_mk_some(tmpMeta29), mmc_mk_none(), _OMC_LIT21);
                tmpMeta31 = mmc_mk_box3(3, &SCode_SubMod_NAMEMOD__desc, _OMC_LIT23, tmpMeta30);
                tmpMeta25 = mmc_mk_cons(tmpMeta31, MMC_REFSTRUCTLIT(mmc_nil));
                tmpMeta32 = mmc_mk_box7(3, &SCode_Mod_MOD__desc, _OMC_LIT15, _OMC_LIT16, tmpMeta25, mmc_mk_none(), mmc_mk_none(), _OMC_LIT21);
                _modLibDir = tmpMeta32;
              }
            }

            tmpMeta33 = MMC_TAGPTR(mmc_alloc_words(3));
            memcpy(MMC_UNTAGPTR(tmpMeta33), MMC_UNTAGPTR(_ann), 3*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta33))[2] = omc_SCodeUtil_mergeSCodeMods(threadData, omc_SCodeUtil_mergeSCodeMods(threadData, _modLib, _modLibDir), omc_SCodeUtil_mergeSCodeMods(threadData, _modInc, _modIncDir));
            _ann = tmpMeta33;

            tmpMeta34 = mmc_mk_box3(3, &SCode_Comment_COMMENT__desc, mmc_mk_some(_ann), mmc_mk_none());
            _s = omc_IOStream_append(threadData, _s, omc_SCodeDump_printAnnotationStr(threadData, tmpMeta34, _OMC_LIT26));
          }

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT27);
          goto tmp2_done;
        }
        default:
        tmp2_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _s;
}

DLLDirection
modelica_boolean omc_NFSections_isEmpty(threadData_t *threadData, modelica_metatype _sections)
{
  modelica_boolean _isEmpty;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isEmpty has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _sections;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isEmpty = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isEmpty;
}
modelica_metatype boxptr_NFSections_isEmpty(threadData_t *threadData, modelica_metatype _sections)
{
  modelica_boolean _isEmpty;
  modelica_metatype out_isEmpty;
  _isEmpty = omc_NFSections_isEmpty(threadData, _sections);
  out_isEmpty = mmc_mk_icon(_isEmpty);
  return out_isEmpty;
}

DLLDirection
void omc_NFSections_apply(threadData_t *threadData, modelica_metatype _sections, modelica_fnptr _eqFn, modelica_fnptr _algFn, modelica_fnptr _ieqFn, modelica_fnptr _ialgFn)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _sections;
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,4) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype _eq;
            for (tmpMeta5 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 2))); !listEmpty(tmpMeta5); tmpMeta5=MMC_CDR(tmpMeta5))
            {
              _eq = MMC_CAR(tmpMeta5);
              (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 2))) ? ((void(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 2))), _eq) : ((void(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 1)))) (threadData, _eq);
            }
          }

          {
            modelica_metatype _ieq;
            for (tmpMeta7 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 3))); !listEmpty(tmpMeta7); tmpMeta7=MMC_CDR(tmpMeta7))
            {
              _ieq = MMC_CAR(tmpMeta7);
              (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 2))) ? ((void(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 2))), _ieq) : ((void(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 1)))) (threadData, _ieq);
            }
          }

          {
            modelica_metatype _alg;
            for (tmpMeta9 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 4))); !listEmpty(tmpMeta9); tmpMeta9=MMC_CDR(tmpMeta9))
            {
              _alg = MMC_CAR(tmpMeta9);
              (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 2))) ? ((void(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 2))), _alg) : ((void(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 1)))) (threadData, _alg);
            }
          }

          {
            modelica_metatype _ialg;
            for (tmpMeta11 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 5))); !listEmpty(tmpMeta11); tmpMeta11=MMC_CDR(tmpMeta11))
            {
              _ialg = MMC_CAR(tmpMeta11);
              (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 2))) ? ((void(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 2))), _ialg) : ((void(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 1)))) (threadData, _ialg);
            }
          }
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_metatype omc_NFSections_foldExp(threadData_t *threadData, modelica_metatype _sections, modelica_fnptr _foldFn, modelica_metatype __omcQ_24in_5Farg)
{
  modelica_metatype _arg = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _arg = __omcQ_24in_5Farg;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _sections;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          _arg = omc_NFEquation_foldExpList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 2))), ((modelica_fnptr) _foldFn), _arg);

          _arg = omc_NFEquation_foldExpList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 3))), ((modelica_fnptr) _foldFn), _arg);

          _arg = omc_NFAlgorithm_foldExpList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 4))), ((modelica_fnptr) _foldFn), _arg);
          tmpMeta1 = omc_NFAlgorithm_foldExpList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 5))), ((modelica_fnptr) _foldFn), _arg);
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_List_fold(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 3))), ((modelica_fnptr) _foldFn), _arg);
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _arg;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _arg = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _arg;
}

DLLDirection
modelica_metatype omc_NFSections_mapExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsections, modelica_fnptr _mapFn)
{
  modelica_metatype _sections = NULL;
  modelica_metatype _eq = NULL;
  modelica_metatype _ieq = NULL;
  modelica_metatype _alg = NULL;
  modelica_metatype _ialg = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _sections = __omcQ_24in_5Fsections;
  // _eq has no default value.
  // _ieq has no default value.
  // _alg has no default value.
  // _ialg has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _sections;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          _eq = omc_NFEquation_mapExpList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 2))), ((modelica_fnptr) _mapFn));

          _ieq = omc_NFEquation_mapExpList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 3))), ((modelica_fnptr) _mapFn));

          _alg = omc_NFAlgorithm_mapExpList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 4))), ((modelica_fnptr) _mapFn));

          _ialg = omc_NFAlgorithm_mapExpList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 5))), ((modelica_fnptr) _mapFn));
          tmpMeta5 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, _eq, _ieq, _alg, _ialg);
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar3;
            modelica_metatype* tmp8;
            modelica_metatype tmpMeta9;
            modelica_metatype __omcQ_24tmpVar2;
            modelica_integer tmp10;
            modelica_metatype _e_loopVar = 0;
            modelica_metatype _e;
            _e_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 3)));
            tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar3 = tmpMeta9; /* defaultValue */
            tmp8 = &__omcQ_24tmpVar3;
            while(1) {
              tmp10 = 1;
              if (!listEmpty(_e_loopVar)) {
                _e = MMC_CAR(_e_loopVar);
                _e_loopVar = MMC_CDR(_e_loopVar);
                tmp10--;
              }
              if (tmp10 == 0) {
                __omcQ_24tmpVar2 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFn), 2))), _e) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFn), 1)))) (threadData, _e);
                *tmp8 = mmc_mk_cons(__omcQ_24tmpVar2,0);
                tmp8 = &MMC_CDR(*tmp8);
              } else if (tmp10 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp8 = mmc_mk_nil();
            tmpMeta7 = __omcQ_24tmpVar3;
          }
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_sections), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[3] = tmpMeta7;
          _sections = tmpMeta6;
          tmpMeta1 = _sections;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _sections;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _sections = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _sections;
}

DLLDirection
modelica_metatype omc_NFSections_map1(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsections, modelica_metatype _arg, modelica_fnptr _eqFn, modelica_fnptr _algFn, modelica_fnptr _ieqFn, modelica_fnptr _ialgFn)
{
  modelica_metatype _sections = NULL;
  modelica_metatype _eq = NULL;
  modelica_metatype _ieq = NULL;
  modelica_metatype _alg = NULL;
  modelica_metatype _ialg = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _sections = __omcQ_24in_5Fsections;
  // _eq has no default value.
  // _ieq has no default value.
  // _alg has no default value.
  // _ialg has no default value.
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _sections;
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta21;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,4) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar5;
            modelica_metatype* tmp6;
            modelica_metatype tmpMeta7;
            modelica_metatype __omcQ_24tmpVar4;
            modelica_integer tmp8;
            modelica_metatype _e_loopVar = 0;
            modelica_metatype _e;
            _e_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 2)));
            tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar5 = tmpMeta7; /* defaultValue */
            tmp6 = &__omcQ_24tmpVar5;
            while(1) {
              tmp8 = 1;
              if (!listEmpty(_e_loopVar)) {
                _e = MMC_CAR(_e_loopVar);
                _e_loopVar = MMC_CDR(_e_loopVar);
                tmp8--;
              }
              if (tmp8 == 0) {
                __omcQ_24tmpVar4 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 2))), _e, _arg) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 1)))) (threadData, _e, _arg);
                *tmp6 = mmc_mk_cons(__omcQ_24tmpVar4,0);
                tmp6 = &MMC_CDR(*tmp6);
              } else if (tmp8 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp6 = mmc_mk_nil();
            tmpMeta5 = __omcQ_24tmpVar5;
          }
          _eq = tmpMeta5;

          {
            modelica_metatype __omcQ_24tmpVar7;
            modelica_metatype* tmp10;
            modelica_metatype tmpMeta11;
            modelica_metatype __omcQ_24tmpVar6;
            modelica_integer tmp12;
            modelica_metatype _e_loopVar = 0;
            modelica_metatype _e;
            _e_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 3)));
            tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar7 = tmpMeta11; /* defaultValue */
            tmp10 = &__omcQ_24tmpVar7;
            while(1) {
              tmp12 = 1;
              if (!listEmpty(_e_loopVar)) {
                _e = MMC_CAR(_e_loopVar);
                _e_loopVar = MMC_CDR(_e_loopVar);
                tmp12--;
              }
              if (tmp12 == 0) {
                __omcQ_24tmpVar6 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 2))), _e, _arg) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 1)))) (threadData, _e, _arg);
                *tmp10 = mmc_mk_cons(__omcQ_24tmpVar6,0);
                tmp10 = &MMC_CDR(*tmp10);
              } else if (tmp12 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp10 = mmc_mk_nil();
            tmpMeta9 = __omcQ_24tmpVar7;
          }
          _ieq = tmpMeta9;

          {
            modelica_metatype __omcQ_24tmpVar9;
            modelica_metatype* tmp14;
            modelica_metatype tmpMeta15;
            modelica_metatype __omcQ_24tmpVar8;
            modelica_integer tmp16;
            modelica_metatype _a_loopVar = 0;
            modelica_metatype _a;
            _a_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 4)));
            tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar9 = tmpMeta15; /* defaultValue */
            tmp14 = &__omcQ_24tmpVar9;
            while(1) {
              tmp16 = 1;
              if (!listEmpty(_a_loopVar)) {
                _a = MMC_CAR(_a_loopVar);
                _a_loopVar = MMC_CDR(_a_loopVar);
                tmp16--;
              }
              if (tmp16 == 0) {
                __omcQ_24tmpVar8 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 2))), _a, _arg) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 1)))) (threadData, _a, _arg);
                *tmp14 = mmc_mk_cons(__omcQ_24tmpVar8,0);
                tmp14 = &MMC_CDR(*tmp14);
              } else if (tmp16 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp14 = mmc_mk_nil();
            tmpMeta13 = __omcQ_24tmpVar9;
          }
          _alg = tmpMeta13;

          {
            modelica_metatype __omcQ_24tmpVar11;
            modelica_metatype* tmp18;
            modelica_metatype tmpMeta19;
            modelica_metatype __omcQ_24tmpVar10;
            modelica_integer tmp20;
            modelica_metatype _a_loopVar = 0;
            modelica_metatype _a;
            _a_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 5)));
            tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar11 = tmpMeta19; /* defaultValue */
            tmp18 = &__omcQ_24tmpVar11;
            while(1) {
              tmp20 = 1;
              if (!listEmpty(_a_loopVar)) {
                _a = MMC_CAR(_a_loopVar);
                _a_loopVar = MMC_CDR(_a_loopVar);
                tmp20--;
              }
              if (tmp20 == 0) {
                __omcQ_24tmpVar10 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 2))), _a, _arg) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 1)))) (threadData, _a, _arg);
                *tmp18 = mmc_mk_cons(__omcQ_24tmpVar10,0);
                tmp18 = &MMC_CDR(*tmp18);
              } else if (tmp20 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp18 = mmc_mk_nil();
            tmpMeta17 = __omcQ_24tmpVar11;
          }
          _ialg = tmpMeta17;

          tmpMeta21 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, _eq, _ieq, _alg, _ialg);
          _sections = tmpMeta21;
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _sections;
}

DLLDirection
modelica_metatype omc_NFSections_map_algId(threadData_t *threadData, modelica_metatype __omcQ_24in_5Falg)
{
  modelica_metatype _alg = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _alg = __omcQ_24in_5Falg;
  _return: OMC_LABEL_UNUSED
  return _alg;
}

DLLDirection
modelica_metatype omc_NFSections_map_eqId(threadData_t *threadData, modelica_metatype __omcQ_24in_5Feq)
{
  modelica_metatype _eq = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _eq = __omcQ_24in_5Feq;
  _return: OMC_LABEL_UNUSED
  return _eq;
}

DLLDirection
modelica_metatype omc_NFSections_map(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsections, modelica_fnptr _eqFn, modelica_fnptr _algFn, modelica_fnptr _ieqFn, modelica_fnptr _ialgFn)
{
  modelica_metatype _sections = NULL;
  modelica_metatype _eq = NULL;
  modelica_metatype _ieq = NULL;
  modelica_metatype _alg = NULL;
  modelica_metatype _ialg = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _sections = __omcQ_24in_5Fsections;
  // _eq has no default value.
  // _ieq has no default value.
  // _alg has no default value.
  // _ialg has no default value.
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _sections;
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta21;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,4) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar13;
            modelica_metatype* tmp6;
            modelica_metatype tmpMeta7;
            modelica_metatype __omcQ_24tmpVar12;
            modelica_integer tmp8;
            modelica_metatype _e_loopVar = 0;
            modelica_metatype _e;
            _e_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 2)));
            tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar13 = tmpMeta7; /* defaultValue */
            tmp6 = &__omcQ_24tmpVar13;
            while(1) {
              tmp8 = 1;
              if (!listEmpty(_e_loopVar)) {
                _e = MMC_CAR(_e_loopVar);
                _e_loopVar = MMC_CDR(_e_loopVar);
                tmp8--;
              }
              if (tmp8 == 0) {
                __omcQ_24tmpVar12 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 2))), _e) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqFn), 1)))) (threadData, _e);
                *tmp6 = mmc_mk_cons(__omcQ_24tmpVar12,0);
                tmp6 = &MMC_CDR(*tmp6);
              } else if (tmp8 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp6 = mmc_mk_nil();
            tmpMeta5 = __omcQ_24tmpVar13;
          }
          _eq = tmpMeta5;

          {
            modelica_metatype __omcQ_24tmpVar15;
            modelica_metatype* tmp10;
            modelica_metatype tmpMeta11;
            modelica_metatype __omcQ_24tmpVar14;
            modelica_integer tmp12;
            modelica_metatype _e_loopVar = 0;
            modelica_metatype _e;
            _e_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 3)));
            tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar15 = tmpMeta11; /* defaultValue */
            tmp10 = &__omcQ_24tmpVar15;
            while(1) {
              tmp12 = 1;
              if (!listEmpty(_e_loopVar)) {
                _e = MMC_CAR(_e_loopVar);
                _e_loopVar = MMC_CDR(_e_loopVar);
                tmp12--;
              }
              if (tmp12 == 0) {
                __omcQ_24tmpVar14 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 2))), _e) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ieqFn), 1)))) (threadData, _e);
                *tmp10 = mmc_mk_cons(__omcQ_24tmpVar14,0);
                tmp10 = &MMC_CDR(*tmp10);
              } else if (tmp12 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp10 = mmc_mk_nil();
            tmpMeta9 = __omcQ_24tmpVar15;
          }
          _ieq = tmpMeta9;

          {
            modelica_metatype __omcQ_24tmpVar17;
            modelica_metatype* tmp14;
            modelica_metatype tmpMeta15;
            modelica_metatype __omcQ_24tmpVar16;
            modelica_integer tmp16;
            modelica_metatype _a_loopVar = 0;
            modelica_metatype _a;
            _a_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 4)));
            tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar17 = tmpMeta15; /* defaultValue */
            tmp14 = &__omcQ_24tmpVar17;
            while(1) {
              tmp16 = 1;
              if (!listEmpty(_a_loopVar)) {
                _a = MMC_CAR(_a_loopVar);
                _a_loopVar = MMC_CDR(_a_loopVar);
                tmp16--;
              }
              if (tmp16 == 0) {
                __omcQ_24tmpVar16 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 2))), _a) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_algFn), 1)))) (threadData, _a);
                *tmp14 = mmc_mk_cons(__omcQ_24tmpVar16,0);
                tmp14 = &MMC_CDR(*tmp14);
              } else if (tmp16 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp14 = mmc_mk_nil();
            tmpMeta13 = __omcQ_24tmpVar17;
          }
          _alg = tmpMeta13;

          {
            modelica_metatype __omcQ_24tmpVar19;
            modelica_metatype* tmp18;
            modelica_metatype tmpMeta19;
            modelica_metatype __omcQ_24tmpVar18;
            modelica_integer tmp20;
            modelica_metatype _a_loopVar = 0;
            modelica_metatype _a;
            _a_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 5)));
            tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar19 = tmpMeta19; /* defaultValue */
            tmp18 = &__omcQ_24tmpVar19;
            while(1) {
              tmp20 = 1;
              if (!listEmpty(_a_loopVar)) {
                _a = MMC_CAR(_a_loopVar);
                _a_loopVar = MMC_CDR(_a_loopVar);
                tmp20--;
              }
              if (tmp20 == 0) {
                __omcQ_24tmpVar18 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 2))), _a) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ialgFn), 1)))) (threadData, _a);
                *tmp18 = mmc_mk_cons(__omcQ_24tmpVar18,0);
                tmp18 = &MMC_CDR(*tmp18);
              } else if (tmp20 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp18 = mmc_mk_nil();
            tmpMeta17 = __omcQ_24tmpVar19;
          }
          _ialg = tmpMeta17;

          tmpMeta21 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, _eq, _ieq, _alg, _ialg);
          _sections = tmpMeta21;
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _sections;
}

DLLDirection
modelica_metatype omc_NFSections_join(threadData_t *threadData, modelica_metatype _sections1, modelica_metatype _sections2)
{
  modelica_metatype _sections = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _sections has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _sections1;
    tmp4_2 = _sections2;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _sections2;
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,2,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _sections1;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections2), 2)))), listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections1), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections2), 3)))), listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections1), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections2), 4)))), listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections1), 5))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections2), 5)))));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _sections = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _sections;
}

DLLDirection
modelica_metatype omc_NFSections_append(threadData_t *threadData, modelica_metatype _equations, modelica_metatype _initialEquations, modelica_metatype _algorithms, modelica_metatype _initialAlgorithms, modelica_metatype __omcQ_24in_5Fsections)
{
  modelica_metatype _sections = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _sections = __omcQ_24in_5Fsections;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _sections;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 2))), _equations), listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 3))), _initialEquations), listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 4))), _algorithms), listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 5))), _initialAlgorithms));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, _equations, _initialEquations, _algorithms, _initialAlgorithms);
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _sections = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _sections;
}

DLLDirection
modelica_metatype omc_NFSections_prependAlgorithm(threadData_t *threadData, modelica_metatype _alg, modelica_metatype __omcQ_24in_5Fsections, modelica_boolean _isInitial)
{
  modelica_metatype _sections = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _sections = __omcQ_24in_5Fsections;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _sections;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          if(_isInitial)
          {
            tmpMeta6 = mmc_mk_cons(_alg, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 5))));
            tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(6));
            memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_sections), 6*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[5] = tmpMeta6;
            _sections = tmpMeta5;
          }
          else
          {
            tmpMeta8 = mmc_mk_cons(_alg, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 4))));
            tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(6));
            memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_sections), 6*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[4] = tmpMeta8;
            _sections = tmpMeta7;
          }
          tmpMeta1 = _sections;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_boolean tmp19;
          modelica_metatype tmpMeta20;
          
          /* Pattern matching succeeded */
          tmp19 = (modelica_boolean)_isInitial;
          if(tmp19)
          {
            tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta12 = mmc_mk_cons(_alg, MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta13 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, tmpMeta9, tmpMeta10, tmpMeta11, tmpMeta12);
            tmpMeta20 = tmpMeta13;
          }
          else
          {
            tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta16 = mmc_mk_cons(_alg, MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta18 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, tmpMeta14, tmpMeta15, tmpMeta16, tmpMeta17);
            tmpMeta20 = tmpMeta18;
          }
          tmpMeta1 = tmpMeta20;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          omc_Error_assertion(threadData, 0 /* false */, _OMC_LIT28, _OMC_LIT30);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _sections = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _sections;
}
modelica_metatype boxptr_NFSections_prependAlgorithm(threadData_t *threadData, modelica_metatype _alg, modelica_metatype __omcQ_24in_5Fsections, modelica_metatype _isInitial)
{
  modelica_integer tmp1;
  modelica_metatype _sections = NULL;
  tmp1 = mmc_unbox_integer(_isInitial);
  _sections = omc_NFSections_prependAlgorithm(threadData, _alg, __omcQ_24in_5Fsections, tmp1);
  /* skip box _sections; NFSections */
  return _sections;
}

DLLDirection
modelica_metatype omc_NFSections_prependEquation(threadData_t *threadData, modelica_metatype _eq, modelica_metatype __omcQ_24in_5Fsections, modelica_boolean _isInitial)
{
  modelica_metatype _sections = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _sections = __omcQ_24in_5Fsections;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _sections;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          if(_isInitial)
          {
            tmpMeta6 = mmc_mk_cons(_eq, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 3))));
            tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(6));
            memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_sections), 6*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[3] = tmpMeta6;
            _sections = tmpMeta5;
          }
          else
          {
            tmpMeta8 = mmc_mk_cons(_eq, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 2))));
            tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(6));
            memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_sections), 6*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[2] = tmpMeta8;
            _sections = tmpMeta7;
          }
          tmpMeta1 = _sections;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_boolean tmp19;
          modelica_metatype tmpMeta20;
          
          /* Pattern matching succeeded */
          tmp19 = (modelica_boolean)_isInitial;
          if(tmp19)
          {
            tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta10 = mmc_mk_cons(_eq, MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta13 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, tmpMeta9, tmpMeta10, tmpMeta11, tmpMeta12);
            tmpMeta20 = tmpMeta13;
          }
          else
          {
            tmpMeta14 = mmc_mk_cons(_eq, MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta18 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, tmpMeta14, tmpMeta15, tmpMeta16, tmpMeta17);
            tmpMeta20 = tmpMeta18;
          }
          tmpMeta1 = tmpMeta20;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          omc_Error_assertion(threadData, 0 /* false */, _OMC_LIT31, _OMC_LIT32);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _sections = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _sections;
}
modelica_metatype boxptr_NFSections_prependEquation(threadData_t *threadData, modelica_metatype _eq, modelica_metatype __omcQ_24in_5Fsections, modelica_metatype _isInitial)
{
  modelica_integer tmp1;
  modelica_metatype _sections = NULL;
  tmp1 = mmc_unbox_integer(_isInitial);
  _sections = omc_NFSections_prependEquation(threadData, _eq, __omcQ_24in_5Fsections, tmp1);
  /* skip box _sections; NFSections */
  return _sections;
}

DLLDirection
modelica_metatype omc_NFSections_prepend(threadData_t *threadData, modelica_metatype _equations, modelica_metatype _initialEquations, modelica_metatype _algorithms, modelica_metatype _initialAlgorithms, modelica_metatype __omcQ_24in_5Fsections)
{
  modelica_metatype _sections = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _sections = __omcQ_24in_5Fsections;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _sections;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, listAppend(_equations, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 2)))), listAppend(_initialEquations, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 3)))), listAppend(_algorithms, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 4)))), listAppend(_initialAlgorithms, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 5)))));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, _equations, _initialEquations, _algorithms, _initialAlgorithms);
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _sections = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _sections;
}

DLLDirection
modelica_metatype omc_NFSections_equations(threadData_t *threadData, modelica_metatype _sections)
{
  modelica_metatype _equations = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _equations has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _sections;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sections), 2)));
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _equations = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _equations;
}

DLLDirection
modelica_metatype omc_NFSections_new(threadData_t *threadData, modelica_metatype _equations, modelica_metatype _initialEquations, modelica_metatype _algorithms, modelica_metatype _initialAlgorithms)
{
  modelica_metatype _sections = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _sections has no default value.
  if((((listEmpty(_equations) && listEmpty(_initialEquations)) && listEmpty(_algorithms)) && listEmpty(_initialAlgorithms)))
  {
    _sections = _OMC_LIT33;
  }
  else
  {
    tmpMeta1 = mmc_mk_box5(3, &NFSections_SECTIONS__desc, _equations, _initialEquations, _algorithms, _initialAlgorithms);
    _sections = tmpMeta1;
  }
  _return: OMC_LABEL_UNUSED
  return _sections;
}

