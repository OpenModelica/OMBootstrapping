#include "omc_simulation_settings.h"
#include "BackendDAECreate.h"
#define _OMC_LIT0_data "."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT0,1,_OMC_LIT0_data);
#define _OMC_LIT0 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT0)
#define _OMC_LIT1_data "_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT1,1,_OMC_LIT1_data);
#define _OMC_LIT1 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "simCodeTarget"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,13,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,1,4) {&Flags_FlagVisibility_EXTERNAL__desc,}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
#define _OMC_LIT4_data "C"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT4,1,_OMC_LIT4_data);
#define _OMC_LIT4 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT4)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT5,2,8) {&Flags_FlagData_STRING__FLAG__desc,_OMC_LIT4}};
#define _OMC_LIT5 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT5)
#define _OMC_LIT6_data "None"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT6,4,_OMC_LIT6_data);
#define _OMC_LIT6 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT6)
#define _OMC_LIT7_data "Cpp"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT7,3,_OMC_LIT7_data);
#define _OMC_LIT7 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT7)
#define _OMC_LIT8_data "omsicpp"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT8,7,_OMC_LIT8_data);
#define _OMC_LIT8 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT8)
#define _OMC_LIT9_data "ExperimentalEmbeddedC"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT9,21,_OMC_LIT9_data);
#define _OMC_LIT9 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT9)
#define _OMC_LIT10_data "JavaScript"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT10,10,_OMC_LIT10_data);
#define _OMC_LIT10 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data "omsic"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,5,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
#define _OMC_LIT12_data "XML"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT12,3,_OMC_LIT12_data);
#define _OMC_LIT12 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "MidC"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,4,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT14,2,1) {_OMC_LIT13,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT14 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,2,1) {_OMC_LIT12,_OMC_LIT14}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT16,2,1) {_OMC_LIT11,_OMC_LIT15}};
#define _OMC_LIT16 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT16)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT17,2,1) {_OMC_LIT10,_OMC_LIT16}};
#define _OMC_LIT17 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT17)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT18,2,1) {_OMC_LIT9,_OMC_LIT17}};
#define _OMC_LIT18 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT18)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT19,2,1) {_OMC_LIT8,_OMC_LIT18}};
#define _OMC_LIT19 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT19)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT20,2,1) {_OMC_LIT7,_OMC_LIT19}};
#define _OMC_LIT20 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT20)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT21,2,1) {_OMC_LIT4,_OMC_LIT20}};
#define _OMC_LIT21 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT21)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT22,2,1) {_OMC_LIT6,_OMC_LIT21}};
#define _OMC_LIT22 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT22)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT23,2,3) {&Flags_ValidOptions_STRING__OPTION__desc,_OMC_LIT22}};
#define _OMC_LIT23 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT23)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT24,1,1) {_OMC_LIT23}};
#define _OMC_LIT24 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT24)
#define _OMC_LIT25_data "Sets the target language for the code generation."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT25,49,_OMC_LIT25_data);
#define _OMC_LIT25 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT25)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT26,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT25}};
#define _OMC_LIT26 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT26)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT27,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(17)),_OMC_LIT2,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT3,_OMC_LIT5,_OMC_LIT24,_OMC_LIT26}};
#define _OMC_LIT27 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT27)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT28,1,5) {&ErrorTypes_MessageType_TRANSLATION__desc,}};
#define _OMC_LIT28 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT28)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT29,1,4) {&ErrorTypes_Severity_ERROR__desc,}};
#define _OMC_LIT29 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data "The language feature %s is not supported. Suggested workaround: %s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,66,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT31,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT30}};
#define _OMC_LIT31 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT31)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT32,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(35)),_OMC_LIT28,_OMC_LIT29,_OMC_LIT31}};
#define _OMC_LIT32 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT32)
#define _OMC_LIT33_data "partial derivative of function"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT33,30,_OMC_LIT33_data);
#define _OMC_LIT33 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT33)
#define _OMC_LIT34_data "use --newBackend flag."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT34,22,_OMC_LIT34_data);
#define _OMC_LIT34 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT34)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT35,2,1) {_OMC_LIT34,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT35 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT35)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT36,2,1) {_OMC_LIT33,_OMC_LIT35}};
#define _OMC_LIT36 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT36)
#define _OMC_LIT37_data "BackendDAECreate.detectImplicitDiscreteAlgsStatemensFor failed \n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT37,64,_OMC_LIT37_data);
#define _OMC_LIT37 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT37)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT38,1,9) {&BackendDAE_VarKind_DISCRETE__desc,}};
#define _OMC_LIT38 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT38)
#define _OMC_LIT39_data "Alias Equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT39,15,_OMC_LIT39_data);
#define _OMC_LIT39 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT39)
#define _OMC_LIT40_data " = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT40,3,_OMC_LIT40_data);
#define _OMC_LIT40 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT40)
#define _OMC_LIT41_data " found (4).\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT41,12,_OMC_LIT41_data);
#define _OMC_LIT41 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT41)
#define _OMC_LIT42_data "debugAlias"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT42,10,_OMC_LIT42_data);
#define _OMC_LIT42 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT42)
#define _OMC_LIT43_data "Dumps some information about the process of removeSimpleEquations."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT43,66,_OMC_LIT43_data);
#define _OMC_LIT43 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT43)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT44,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT43}};
#define _OMC_LIT44 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT44)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT45,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(43)),_OMC_LIT42,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT44}};
#define _OMC_LIT45 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT45)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT46,1,7) {&BackendDAE_VarKind_DUMMY__STATE__desc,}};
#define _OMC_LIT46 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT46)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT47,1,4) {&BackendDAE_EquationKind_DYNAMIC__EQUATION__desc,}};
#define _OMC_LIT47 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT47)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT48,5,3) {&BackendDAE_EvaluationStages_EVALUATION__STAGES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT48 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT48)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT49,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT47,_OMC_LIT48}};
#define _OMC_LIT49 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT49)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT50,1,5) {&BackendDAE_EquationKind_INITIAL__EQUATION__desc,}};
#define _OMC_LIT50 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT50)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT51,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT50,_OMC_LIT48}};
#define _OMC_LIT51 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data "BackendDAECreate.lowerAlgorithm failed for:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,44,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
#define _OMC_LIT53_data "Internal error %s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT53,17,_OMC_LIT53_data);
#define _OMC_LIT53 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT53)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT54,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT53}};
#define _OMC_LIT54 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT54)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT55,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(63)),_OMC_LIT28,_OMC_LIT29,_OMC_LIT54}};
#define _OMC_LIT55 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT55)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT56,1,9) {&BackendDAE_EquationKind_UNKNOWN__EQUATION__KIND__desc,}};
#define _OMC_LIT56 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT56)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT57,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT56,_OMC_LIT48}};
#define _OMC_LIT57 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT57)
#define _OMC_LIT58_data "BackendDAECreate.mergeWhenEqns: Error in mergeWhenEqns."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT58,55,_OMC_LIT58_data);
#define _OMC_LIT58 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT58)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT59,2,1) {_OMC_LIT58,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT59 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT59)
#define _OMC_LIT60_data "Failed to solve "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT60,16,_OMC_LIT60_data);
#define _OMC_LIT60 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT60)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT61,1,7) {&DAE_StateSelect_ALWAYS__desc,}};
#define _OMC_LIT61 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT61)
#define _OMC_LIT62_data "failtrace"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT62,9,_OMC_LIT62_data);
#define _OMC_LIT62 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT62)
#define _OMC_LIT63_data "Sets whether to print a failtrace or not."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT63,41,_OMC_LIT63_data);
#define _OMC_LIT63 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT63)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT64,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT63}};
#define _OMC_LIT64 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT64)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT65,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT62,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT64}};
#define _OMC_LIT65 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT65)
#define _OMC_LIT66_data "- BackendDAECreate.lowerWhenEqn2 failed on:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT66,43,_OMC_LIT66_data);
#define _OMC_LIT66 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT66)
#define _OMC_LIT67_data "checkModel"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT67,10,_OMC_LIT67_data);
#define _OMC_LIT67 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT67)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT68,1,3) {&Flags_FlagVisibility_INTERNAL__desc,}};
#define _OMC_LIT68 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT68)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT69,2,4) {&Flags_FlagData_BOOL__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT69 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT69)
#define _OMC_LIT70_data "Set when checkModel is used to turn on specific features for checking."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT70,70,_OMC_LIT70_data);
#define _OMC_LIT70 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT70)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT71,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT70}};
#define _OMC_LIT71 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT71)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT72,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(29)),_OMC_LIT67,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT68,_OMC_LIT69,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT71}};
#define _OMC_LIT72 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT72)
#define _OMC_LIT73_data "BackendDAECreate.lowerWhenEqn: equation not handled:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT73,53,_OMC_LIT73_data);
#define _OMC_LIT73 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT73)
#define _OMC_LIT74_data "$whenclk"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT74,8,_OMC_LIT74_data);
#define _OMC_LIT74 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT74)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT75,2,7) {&DAE_Type_T__CLOCK__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT75 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT75)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT76,1,3) {&BackendDAE_VarKind_VARIABLE__desc,}};
#define _OMC_LIT76 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT76)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT77,1,5) {&DAE_VarDirection_BIDIR__desc,}};
#define _OMC_LIT77 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT77)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT78,1,5) {&DAE_VarParallelism_NON__PARALLEL__desc,}};
#define _OMC_LIT78 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT78)
#define _OMC_LIT79_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT79,0,_OMC_LIT79_data);
#define _OMC_LIT79 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT79)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT80,0.0);
#define _OMC_LIT80 MMC_REFREALLIT(_OMC_LIT_STRUCT80)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT81,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT79,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT80}};
#define _OMC_LIT81 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT81)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT82,1,4) {&DAE_ComponentPrefix_NOCOMPPRE__desc,}};
#define _OMC_LIT82 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT82)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT83,8,3) {&DAE_ElementSource_SOURCE__desc,_OMC_LIT81,MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT82,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT83 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT83)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT84,1,5) {&BackendDAE_TearingSelect_DEFAULT__desc,}};
#define _OMC_LIT84 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT84)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT85,1,1) {_OMC_LIT84}};
#define _OMC_LIT85 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT85)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT86,1,6) {&DAE_ConnectorType_NON__CONNECTOR__desc,}};
#define _OMC_LIT86 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT86)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT87,1,6) {&DAE_VarInnerOuter_NOT__INNER__OUTER__desc,}};
#define _OMC_LIT87 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT87)
#define _OMC_LIT88_data "- BackendDAECreate.lowerExtendedRecordEqn failed on: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT88,53,_OMC_LIT88_data);
#define _OMC_LIT88 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT88)
#define _OMC_LIT89_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT89,1,_OMC_LIT89_data);
#define _OMC_LIT89 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT89)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT90,2,6) {&DAE_Exp_BCONST__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */))}};
#define _OMC_LIT90 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT90)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT91,1,3) {&DAE_Else_NOELSE__desc,}};
#define _OMC_LIT91 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT91)
#define _OMC_LIT92_data "nfScalarize"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT92,11,_OMC_LIT92_data);
#define _OMC_LIT92 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT92)
#define _OMC_LIT93_data "Run scalarization in NF, default true."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT93,38,_OMC_LIT93_data);
#define _OMC_LIT93 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT93)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT94,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT93}};
#define _OMC_LIT94 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT94)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT95,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(168)),_OMC_LIT92,MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),_OMC_LIT94}};
#define _OMC_LIT95 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT95)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT96,1,3) {&DAE_InlineType_NORM__INLINE__desc,}};
#define _OMC_LIT96 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT96)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT97,1,6) {&DAE_InlineType_DEFAULT__INLINE__desc,}};
#define _OMC_LIT97 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT97)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT98,2,1) {_OMC_LIT97,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT98 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT98)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT99,2,1) {_OMC_LIT96,_OMC_LIT98}};
#define _OMC_LIT99 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT99)
#define _OMC_LIT100_data "equalityConstraint"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT100,18,_OMC_LIT100_data);
#define _OMC_LIT100 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT100)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT101,1,3) {&DAE_Expand_EXPAND__desc,}};
#define _OMC_LIT101 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT101)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT102,1,4) {&DAE_Expand_NOT__EXPAND__desc,}};
#define _OMC_LIT102 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT102)
#define _OMC_LIT103_data "BackendDAECreate.lowerEqn failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT103,37,_OMC_LIT103_data);
#define _OMC_LIT103 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT103)
#define _OMC_LIT104_data "initial"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT104,7,_OMC_LIT104_data);
#define _OMC_LIT104 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT104)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT105,2,4) {&DAE_Type_T__REAL__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT105 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT105)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT106,2,3) {&DAE_Type_T__INTEGER__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT106 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT106)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT107,2,6) {&DAE_Type_T__BOOL__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT107 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT107)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT108,2,5) {&DAE_Type_T__STRING__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT108 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT108)
#define _OMC_LIT109_data "lowerType: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT109,11,_OMC_LIT109_data);
#define _OMC_LIT109 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT109)
#define _OMC_LIT110_data " failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT110,8,_OMC_LIT110_data);
#define _OMC_LIT110 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT110)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT111,1,10) {&BackendDAE_VarKind_PARAM__desc,}};
#define _OMC_LIT111 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT111)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT112,1,11) {&BackendDAE_VarKind_CONST__desc,}};
#define _OMC_LIT112 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT112)
#define _OMC_LIT113_data "function lowerKnownVarkind failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT113,33,_OMC_LIT113_data);
#define _OMC_LIT113 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT113)
#define _OMC_LIT114_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/BackEnd/BackendDAECreate.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT114,74,_OMC_LIT114_data);
#define _OMC_LIT114 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT114)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT115_6,1.758197185e9);
#define _OMC_LIT115_6 MMC_REFREALLIT(_OMC_LIT_STRUCT115_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT115,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT114,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1724)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1724)),MMC_IMMEDIATE(MMC_TAGFIXNUM(82)),_OMC_LIT115_6}};
#define _OMC_LIT115 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT115)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT116,4,4) {&BackendDAE_VarKind_STATE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT116 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT116)
#define _OMC_LIT117_data "fill"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT117,4,_OMC_LIT117_data);
#define _OMC_LIT117 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT117)
#define _OMC_LIT118_data "BackendDAECreate.lowerKnownVar failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT118,42,_OMC_LIT118_data);
#define _OMC_LIT118 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT118)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT119,1,3) {&BackendDAE_EquationKind_BINDING__EQUATION__desc,}};
#define _OMC_LIT119 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT119)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT120,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT119,_OMC_LIT48}};
#define _OMC_LIT120 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT120)
#define _OMC_LIT121_data "BackendDAECreate.lowerVar failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT121,37,_OMC_LIT121_data);
#define _OMC_LIT121 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT121)
#define _OMC_LIT122_data "delay"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT122,5,_OMC_LIT122_data);
#define _OMC_LIT122 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT122)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT123,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT122}};
#define _OMC_LIT123 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT123)
#define _OMC_LIT124_data "spatialDistribution"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT124,19,_OMC_LIT124_data);
#define _OMC_LIT124 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT124)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT125,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT124}};
#define _OMC_LIT125 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT125)
#define _OMC_LIT126_data "sample"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT126,6,_OMC_LIT126_data);
#define _OMC_LIT126 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT126)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT127,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT126}};
#define _OMC_LIT127 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT127)
#define _OMC_LIT128_data "BackendDAECreate.lower2 failed on: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT128,35,_OMC_LIT128_data);
#define _OMC_LIT128 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT128)
#define _OMC_LIT129_data "BackendDAECreate.getExternalObjectAlias3 failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT129,52,_OMC_LIT129_data);
#define _OMC_LIT129 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT129)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT130_6,1.758197185e9);
#define _OMC_LIT130_6 MMC_REFREALLIT(_OMC_LIT_STRUCT130_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT130,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT114,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(640)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(640)),MMC_IMMEDIATE(MMC_TAGFIXNUM(112)),_OMC_LIT130_6}};
#define _OMC_LIT130 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT130)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT131,2,0) {MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT131 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT131)
#define _OMC_LIT132_data "Alias equations of external objects are not Modelica compliant as in:\n    "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT132,74,_OMC_LIT132_data);
#define _OMC_LIT132 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT132)
#define _OMC_LIT133_data "\n    "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT133,5,_OMC_LIT133_data);
#define _OMC_LIT133 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT133)
#define _OMC_LIT134_data "BackendDAECreate.collapseArrayBindings failed to reshape matrix."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT134,64,_OMC_LIT134_data);
#define _OMC_LIT134 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT134)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT135_6,1.758197185e9);
#define _OMC_LIT135_6 MMC_REFREALLIT(_OMC_LIT_STRUCT135_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT135,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT114,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(478)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(478)),MMC_IMMEDIATE(MMC_TAGFIXNUM(97)),_OMC_LIT135_6}};
#define _OMC_LIT135 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT135)
#define _OMC_LIT136_data "BackendDAECreate.collapseArrayBindingsfailed. Array of dimension greater 2 not yet supported. Open a ticket about it."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT136,117,_OMC_LIT136_data);
#define _OMC_LIT136 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT136)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT137_6,1.758197185e9);
#define _OMC_LIT137_6 MMC_REFREALLIT(_OMC_LIT_STRUCT137_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT137,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT114,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(483)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(483)),MMC_IMMEDIATE(MMC_TAGFIXNUM(148)),_OMC_LIT137_6}};
#define _OMC_LIT137 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT137)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT138_6,1.758197185e9);
#define _OMC_LIT138_6 MMC_REFREALLIT(_OMC_LIT_STRUCT138_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT138,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT114,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(489)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(496)),MMC_IMMEDIATE(MMC_TAGFIXNUM(14)),_OMC_LIT138_6}};
#define _OMC_LIT138 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT138)
#define _OMC_LIT139_data "BackendDAECreate.collapseArrayBindings failed because the type is not T_COMPLEX."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT139,80,_OMC_LIT139_data);
#define _OMC_LIT139 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT139)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT140,2,1) {_OMC_LIT139,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT140 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT140)
#define _OMC_LIT141_data "BackendDAECreate.compareArrayBindingExp failed because lists have different lengths."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT141,84,_OMC_LIT141_data);
#define _OMC_LIT141 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT141)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT142_6,1.758197185e9);
#define _OMC_LIT142_6 MMC_REFREALLIT(_OMC_LIT_STRUCT142_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT142,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT114,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(420)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(420)),MMC_IMMEDIATE(MMC_TAGFIXNUM(110)),_OMC_LIT142_6}};
#define _OMC_LIT142 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT142)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT143_6,1.758197185e9);
#define _OMC_LIT143_6 MMC_REFREALLIT(_OMC_LIT_STRUCT143_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT143,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT114,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(401)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(401)),MMC_IMMEDIATE(MMC_TAGFIXNUM(62)),_OMC_LIT143_6}};
#define _OMC_LIT143 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT143)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT144,1,3) {&DAE_Const_C__CONST__desc,}};
#define _OMC_LIT144 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT144)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT145,1,5) {&DAE_Const_C__VAR__desc,}};
#define _OMC_LIT145 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT145)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT146,1,3) {&DAE_BindingSource_BINDING__FROM__DEFAULT__VALUE__desc,}};
#define _OMC_LIT146 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT146)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT147_6,1.758197185e9);
#define _OMC_LIT147_6 MMC_REFREALLIT(_OMC_LIT_STRUCT147_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT147,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT114,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(308)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(315)),MMC_IMMEDIATE(MMC_TAGFIXNUM(18)),_OMC_LIT147_6}};
#define _OMC_LIT147 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT147)
#define _OMC_LIT148_data "BackendDAECreate.collectRecordElementBindings failed because the type is not T_COMPLEX."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT148,87,_OMC_LIT148_data);
#define _OMC_LIT148 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT148)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT149,2,1) {_OMC_LIT148,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT149 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT149)
#define _OMC_LIT150_data "BackendDAECreate.collectRecordElementBindings failed because index not integer."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT150,79,_OMC_LIT150_data);
#define _OMC_LIT150 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT150)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT151,2,1) {_OMC_LIT150,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT151 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT151)
#define _OMC_LIT152_data "patchRecordBindings arrayMap:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT152,30,_OMC_LIT152_data);
#define _OMC_LIT152 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT152)
#define _OMC_LIT153_data ", "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT153,2,_OMC_LIT153_data);
#define _OMC_LIT153 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT153)
#define _OMC_LIT154_data "\npatchRecordBindings map\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT154,25,_OMC_LIT154_data);
#define _OMC_LIT154 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT154)
#define _OMC_LIT155_data "\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT155,2,_OMC_LIT155_data);
#define _OMC_LIT155 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT155)
#define _OMC_LIT156_data "["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT156,1,_OMC_LIT156_data);
#define _OMC_LIT156 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT156)
#define _OMC_LIT157_data " "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT157,1,_OMC_LIT157_data);
#define _OMC_LIT157 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT157)
#define _OMC_LIT158_data "]"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT158,1,_OMC_LIT158_data);
#define _OMC_LIT158 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT158)
#define _OMC_LIT159_data " : "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT159,3,_OMC_LIT159_data);
#define _OMC_LIT159 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT159)
#define _OMC_LIT160_data "vectorize"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT160,9,_OMC_LIT160_data);
#define _OMC_LIT160 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT160)
#define _OMC_LIT161_data "Activates vectorization in the backend."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT161,39,_OMC_LIT161_data);
#define _OMC_LIT161 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT161)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT162,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT161}};
#define _OMC_LIT162 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT162)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT163,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(123)),_OMC_LIT160,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT162}};
#define _OMC_LIT163 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT163)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT164,4,0) {MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT131,MMC_IMMEDIATE(MMC_TAGFIXNUM(-1))}};
#define _OMC_LIT164 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT164)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT165,4,0) {MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT164,MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT164}};
#define _OMC_LIT165 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT165)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT166,2,1) {_OMC_LIT165,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT166 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT166)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT167,2,1) {_OMC_LIT165,_OMC_LIT166}};
#define _OMC_LIT167 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT167)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT168,2,1) {_OMC_LIT165,_OMC_LIT167}};
#define _OMC_LIT168 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT168)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT169,2,1) {_OMC_LIT165,_OMC_LIT168}};
#define _OMC_LIT169 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT169)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT170,1,3) {&BackendDAE_BaseClockPartitionKind_UNKNOWN__PARTITION__desc,}};
#define _OMC_LIT170 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT170)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT171,1,3) {&BackendDAE_BackendDAEType_SIMULATION__desc,}};
#define _OMC_LIT171 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT171)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT172,5,3) {&BackendDAE_BackendDAEModeData_BDAE__MODE__DATA__desc,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT172 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT172)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT173,1,6) {&ErrorTypes_MessageType_SYMBOLIC__desc,}};
#define _OMC_LIT173 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT173)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT174,1,6) {&ErrorTypes_Severity_NOTIFICATION__desc,}};
#define _OMC_LIT174 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT174)
#define _OMC_LIT175_data "Model statistics after passing the front-end and creating the data structures used by the back-end:\n * Number of equations: %s\n * Number of variables: %s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT175,153,_OMC_LIT175_data);
#define _OMC_LIT175 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT175)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT176,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT175}};
#define _OMC_LIT176 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT176)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT177,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(258)),_OMC_LIT173,_OMC_LIT174,_OMC_LIT176}};
#define _OMC_LIT177 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT177)
#define _OMC_LIT178_data "backenddaeinfo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT178,14,_OMC_LIT178_data);
#define _OMC_LIT178 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT178)
#define _OMC_LIT179_data "Enables dumping of back-end information about system (Number of equations before back-end,...)."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT179,95,_OMC_LIT179_data);
#define _OMC_LIT179 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT179)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT180,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT179}};
#define _OMC_LIT180 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT180)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT181,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(68)),_OMC_LIT178,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT180}};
#define _OMC_LIT181 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT181)
#define _OMC_LIT182_data "Generate backend data structure"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT182,31,_OMC_LIT182_data);
#define _OMC_LIT182 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT182)
#define _OMC_LIT183_data "Stack overflow in BackendDAECreate.lower...\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT183,44,_OMC_LIT183_data);
#define _OMC_LIT183 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT183)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT184_6,1.758197185e9);
#define _OMC_LIT184_6 MMC_REFREALLIT(_OMC_LIT_STRUCT184_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT184,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT114,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(195)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(195)),MMC_IMMEDIATE(MMC_TAGFIXNUM(157)),_OMC_LIT184_6}};
#define _OMC_LIT184 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT184)
#include "util/modelica.h"

#include "BackendDAECreate_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_replaceParameters(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _replIn, modelica_metatype *out_replOut);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_replaceParameters,2,0) {(void*) boxptr_BackendDAECreate_replaceParameters,0}};
#define boxvar_BackendDAECreate_replaceParameters MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_replaceParameters)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_renameFunctionParameter2(threadData_t *threadData, modelica_metatype _funcIn, modelica_string _pathName);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_renameFunctionParameter2,2,0) {(void*) boxptr_BackendDAECreate_renameFunctionParameter2,0}};
#define boxvar_BackendDAECreate_renameFunctionParameter2 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_renameFunctionParameter2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_renameFunctionParameter1(threadData_t *threadData, modelica_metatype _funcIn);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_renameFunctionParameter1,2,0) {(void*) boxptr_BackendDAECreate_renameFunctionParameter1,0}};
#define boxvar_BackendDAECreate_renameFunctionParameter1 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_renameFunctionParameter1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_renameFunctionParameter(threadData_t *threadData, modelica_metatype _fTreeIn);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_renameFunctionParameter,2,0) {(void*) boxptr_BackendDAECreate_renameFunctionParameter,0}};
#define boxvar_BackendDAECreate_renameFunctionParameter MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_renameFunctionParameter)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_deriveFunction(threadData_t *threadData, modelica_metatype _key, modelica_metatype __omcQ_24in_5Fvalue);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_deriveFunction,2,0) {(void*) boxptr_BackendDAECreate_deriveFunction,0}};
#define boxvar_BackendDAECreate_deriveFunction MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_deriveFunction)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerFunctions(threadData_t *threadData, modelica_metatype __omcQ_24in_5FfuncTree);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerFunctions,2,0) {(void*) boxptr_BackendDAECreate_lowerFunctions,0}};
#define boxvar_BackendDAECreate_lowerFunctions MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerFunctions)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor(threadData_t *threadData, modelica_metatype _inIteratorExp, modelica_metatype _inExplst, modelica_metatype _inVariables, modelica_metatype _inGlobalKnownVars, modelica_metatype _inStatementLst, modelica_boolean _insideWhen);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor(threadData_t *threadData, modelica_metatype _inIteratorExp, modelica_metatype _inExplst, modelica_metatype _inVariables, modelica_metatype _inGlobalKnownVars, modelica_metatype _inStatementLst, modelica_metatype _insideWhen);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor,2,0) {(void*) boxptr_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor,0}};
#define boxvar_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inGlobalKnownVars, modelica_metatype _inStatementLst, modelica_boolean _insideWhen);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inGlobalKnownVars, modelica_metatype _inStatementLst, modelica_metatype _insideWhen);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_detectImplicitDiscreteAlgsStatemens,2,0) {(void*) boxptr_BackendDAECreate_detectImplicitDiscreteAlgsStatemens,0}};
#define boxvar_BackendDAECreate_detectImplicitDiscreteAlgsStatemens MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_detectImplicitDiscreteAlgsStatemens)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_getVarsFromExp(threadData_t *threadData, modelica_metatype _inExpLst, modelica_metatype _inVariables);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_getVarsFromExp,2,0) {(void*) boxptr_BackendDAECreate_getVarsFromExp,0}};
#define boxvar_BackendDAECreate_getVarsFromExp MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_getVarsFromExp)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_detectImplicitDiscreteFold(threadData_t *threadData, modelica_metatype _inEquation, modelica_metatype _inGlobalKnownVars, modelica_metatype _inVariables);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_detectImplicitDiscreteFold,2,0) {(void*) boxptr_BackendDAECreate_detectImplicitDiscreteFold,0}};
#define boxvar_BackendDAECreate_detectImplicitDiscreteFold MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_detectImplicitDiscreteFold)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_detectImplicitDiscrete(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inGlobalKnownVars, modelica_metatype _inEquationLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_detectImplicitDiscrete,2,0) {(void*) boxptr_BackendDAECreate_detectImplicitDiscrete,0}};
#define boxvar_BackendDAECreate_detectImplicitDiscrete MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_detectImplicitDiscrete)
PROTECTED_FUNCTION_STATIC void omc_BackendDAECreate_replaceableAlias(threadData_t *threadData, modelica_metatype _var);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_replaceableAlias,2,0) {(void*) boxptr_BackendDAECreate_replaceableAlias,0}};
#define boxvar_BackendDAECreate_replaceableAlias MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_replaceableAlias)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_selectAliasVar(threadData_t *threadData, modelica_metatype _v1, modelica_integer _index1, modelica_integer _arrayIndx1, modelica_metatype _e1, modelica_metatype _v2, modelica_integer _index2, modelica_integer _arrayIndx2, modelica_metatype _e2, modelica_metatype _source, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iRepl, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oRepl);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_selectAliasVar(threadData_t *threadData, modelica_metatype _v1, modelica_metatype _index1, modelica_metatype _arrayIndx1, modelica_metatype _e1, modelica_metatype _v2, modelica_metatype _index2, modelica_metatype _arrayIndx2, modelica_metatype _e2, modelica_metatype _source, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iRepl, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oRepl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_selectAliasVar,2,0) {(void*) boxptr_BackendDAECreate_selectAliasVar,0}};
#define boxvar_BackendDAECreate_selectAliasVar MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_selectAliasVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_selectAliasLst(threadData_t *threadData, modelica_metatype _iexplst1, modelica_metatype _iexplst2, modelica_metatype _source, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iRepl, modelica_metatype _iEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oRepl, modelica_metatype *out_oEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_selectAliasLst,2,0) {(void*) boxptr_BackendDAECreate_selectAliasLst,0}};
#define boxvar_BackendDAECreate_selectAliasLst MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_selectAliasLst)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_getVar(threadData_t *threadData, modelica_metatype _cr, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_integer *out_index, modelica_integer *out_varrArray);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_getVar(threadData_t *threadData, modelica_metatype _cr, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype *out_index, modelica_metatype *out_varrArray);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_getVar,2,0) {(void*) boxptr_BackendDAECreate_getVar,0}};
#define boxvar_BackendDAECreate_getVar MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_getVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_selectAlias(threadData_t *threadData, modelica_metatype _exp1, modelica_metatype _exp2, modelica_metatype _source, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iRepl, modelica_metatype _iEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oRepl, modelica_metatype *out_oEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_selectAlias,2,0) {(void*) boxptr_BackendDAECreate_selectAlias,0}};
#define boxvar_BackendDAECreate_selectAlias MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_selectAlias)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_handleAliasEquations2(threadData_t *threadData, modelica_metatype _iAliasEqns, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iRepl, modelica_metatype _iEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oRepl, modelica_metatype *out_oEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_handleAliasEquations2,2,0) {(void*) boxptr_BackendDAECreate_handleAliasEquations2,0}};
#define boxvar_BackendDAECreate_handleAliasEquations2 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_handleAliasEquations2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_replaceAliasVarTraverser(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inRepl, modelica_metatype *out_repl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_replaceAliasVarTraverser,2,0) {(void*) boxptr_BackendDAECreate_replaceAliasVarTraverser,0}};
#define boxvar_BackendDAECreate_replaceAliasVarTraverser MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_replaceAliasVarTraverser)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_handleAliasEquations1(threadData_t *threadData, modelica_metatype _iAliasEqns, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iEqns, modelica_metatype _iREqns, modelica_metatype _iIEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oEqns, modelica_metatype *out_oREqns, modelica_metatype *out_oIEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_handleAliasEquations1,2,0) {(void*) boxptr_BackendDAECreate_handleAliasEquations1,0}};
#define boxvar_BackendDAECreate_handleAliasEquations1 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_handleAliasEquations1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_handleAliasEquations(threadData_t *threadData, modelica_metatype _iAliasEqns, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iEqns, modelica_metatype _iREqns, modelica_metatype _iIEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oEqns, modelica_metatype *out_oREqns, modelica_metatype *out_oIEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_handleAliasEquations,2,0) {(void*) boxptr_BackendDAECreate_handleAliasEquations,0}};
#define boxvar_BackendDAECreate_handleAliasEquations MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_handleAliasEquations)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerAlgorithm(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_metatype _inCrefExpansion, modelica_boolean _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_lowerAlgorithm(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_metatype _inCrefExpansion, modelica_metatype _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerAlgorithm,2,0) {(void*) boxptr_BackendDAECreate_lowerAlgorithm,0}};
#define boxvar_BackendDAECreate_lowerAlgorithm MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerAlgorithm)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerTupleAssignment(threadData_t *threadData, modelica_metatype _target_expl, modelica_metatype _source_expl, modelica_metatype _inEq_source, modelica_metatype _funcs, modelica_metatype _iEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerTupleAssignment,2,0) {(void*) boxptr_BackendDAECreate_lowerTupleAssignment,0}};
#define boxvar_BackendDAECreate_lowerTupleAssignment MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerTupleAssignment)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_mergeWhenEqns(threadData_t *threadData, modelica_metatype _trueEqnList, modelica_metatype _elseEqnList, modelica_metatype _inEquationLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_mergeWhenEqns,2,0) {(void*) boxptr_BackendDAECreate_mergeWhenEqns,0}};
#define boxvar_BackendDAECreate_mergeWhenEqns MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_mergeWhenEqns)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenIfEqnsElse(threadData_t *threadData, modelica_metatype _elseenqs, modelica_metatype _functionTree, modelica_metatype _iHt);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenIfEqnsElse,2,0) {(void*) boxptr_BackendDAECreate_lowerWhenIfEqnsElse,0}};
#define boxvar_BackendDAECreate_lowerWhenIfEqnsElse MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenIfEqnsElse)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenIfEqnsMergeNestedIf(threadData_t *threadData, modelica_metatype _crexplst, modelica_metatype _inCond, modelica_metatype _iSource, modelica_metatype _iHt);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenIfEqnsMergeNestedIf,2,0) {(void*) boxptr_BackendDAECreate_lowerWhenIfEqnsMergeNestedIf,0}};
#define boxvar_BackendDAECreate_lowerWhenIfEqnsMergeNestedIf MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenIfEqnsMergeNestedIf)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenIfEqns1(threadData_t *threadData, modelica_metatype _condition, modelica_metatype _brancheqns, modelica_metatype _functionTree, modelica_metatype _iHt);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenIfEqns1,2,0) {(void*) boxptr_BackendDAECreate_lowerWhenIfEqns1,0}};
#define boxvar_BackendDAECreate_lowerWhenIfEqns1 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenIfEqns1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenIfEqns(threadData_t *threadData, modelica_metatype _conditions, modelica_metatype _theneqns, modelica_metatype _functionTree, modelica_metatype _iHt);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenIfEqns,2,0) {(void*) boxptr_BackendDAECreate_lowerWhenIfEqns,0}};
#define boxvar_BackendDAECreate_lowerWhenIfEqns MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenIfEqns)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenIfEqns2(threadData_t *threadData, modelica_metatype _crexplst, modelica_metatype _inCond, modelica_metatype _iSource, modelica_metatype _inEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenIfEqns2,2,0) {(void*) boxptr_BackendDAECreate_lowerWhenIfEqns2,0}};
#define boxvar_BackendDAECreate_lowerWhenIfEqns2 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenIfEqns2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenTupleEqn(threadData_t *threadData, modelica_metatype _explst, modelica_metatype _inCond, modelica_metatype _e, modelica_metatype _source, modelica_integer _i, modelica_metatype _iEquationLst);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_lowerWhenTupleEqn(threadData_t *threadData, modelica_metatype _explst, modelica_metatype _inCond, modelica_metatype _e, modelica_metatype _source, modelica_metatype _i, modelica_metatype _iEquationLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenTupleEqn,2,0) {(void*) boxptr_BackendDAECreate_lowerWhenTupleEqn,0}};
#define boxvar_BackendDAECreate_lowerWhenTupleEqn MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenTupleEqn)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenEqn2(threadData_t *threadData, modelica_metatype _inDAEElementLst, modelica_metatype _inCond, modelica_metatype _functionTree, modelica_metatype _iEquationLst, modelica_metatype _iREquationLst, modelica_metatype _inVar_lst, modelica_metatype *out_outREquationLst, modelica_metatype *out_outVar_lst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenEqn2,2,0) {(void*) boxptr_BackendDAECreate_lowerWhenEqn2,0}};
#define boxvar_BackendDAECreate_lowerWhenEqn2 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenEqn2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenEqn(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _inEquationLst, modelica_metatype _inREquationLst, modelica_metatype _inVars, modelica_metatype *out_outREquationLst, modelica_metatype *out_outVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenEqn,2,0) {(void*) boxptr_BackendDAECreate_lowerWhenEqn,0}};
#define boxvar_BackendDAECreate_lowerWhenEqn MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerWhenEqn)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_createWhenClock(threadData_t *threadData, modelica_integer _whenClkCnt, modelica_metatype _e, modelica_metatype _inEqs, modelica_metatype _inVars, modelica_metatype *out_outVars, modelica_metatype *out_outEqAttrs);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_createWhenClock(threadData_t *threadData, modelica_metatype _whenClkCnt, modelica_metatype _e, modelica_metatype _inEqs, modelica_metatype _inVars, modelica_metatype *out_outVars, modelica_metatype *out_outEqAttrs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_createWhenClock,2,0) {(void*) boxptr_BackendDAECreate_createWhenClock,0}};
#define boxvar_BackendDAECreate_createWhenClock MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_createWhenClock)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_generateEquations(threadData_t *threadData, modelica_metatype _iE1lst, modelica_metatype _iE2lst, modelica_metatype _source, modelica_metatype _inEqAttributes, modelica_metatype _iAcc);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_generateEquations,2,0) {(void*) boxptr_BackendDAECreate_generateEquations,0}};
#define boxvar_BackendDAECreate_generateEquations MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_generateEquations)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerArrayEqn(threadData_t *threadData, modelica_metatype _dims, modelica_metatype _e1, modelica_metatype _e2, modelica_metatype _source, modelica_metatype _inEqAttributes, modelica_metatype _iAcc);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerArrayEqn,2,0) {(void*) boxptr_BackendDAECreate_lowerArrayEqn,0}};
#define boxvar_BackendDAECreate_lowerArrayEqn MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerArrayEqn)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerExtendedRecordEqn(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inExp2, modelica_metatype _source, modelica_metatype _inEqAttributes, modelica_metatype _functionTree, modelica_metatype _inEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerExtendedRecordEqn,2,0) {(void*) boxptr_BackendDAECreate_lowerExtendedRecordEqn,0}};
#define boxvar_BackendDAECreate_lowerExtendedRecordEqn MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerExtendedRecordEqn)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerExtendedRecordEqns(threadData_t *threadData, modelica_metatype _explst1, modelica_metatype _explst2, modelica_metatype _source, modelica_metatype _inEqAttributes, modelica_metatype _functionTree, modelica_metatype _inEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerExtendedRecordEqns,2,0) {(void*) boxptr_BackendDAECreate_lowerExtendedRecordEqns,0}};
#define boxvar_BackendDAECreate_lowerExtendedRecordEqns MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerExtendedRecordEqns)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_makeIfExp(threadData_t *threadData, modelica_metatype _cond, modelica_metatype _else_);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_makeIfExp,2,0) {(void*) boxptr_BackendDAECreate_makeIfExp,0}};
#define boxvar_BackendDAECreate_makeIfExp MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_makeIfExp)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerIfEquationAsserts1(threadData_t *threadData, modelica_metatype _brancheqns, modelica_metatype _condition, modelica_metatype _conditions, modelica_metatype _brancheqns1, modelica_metatype _inEqns, modelica_metatype *out_outEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerIfEquationAsserts1,2,0) {(void*) boxptr_BackendDAECreate_lowerIfEquationAsserts1,0}};
#define boxvar_BackendDAECreate_lowerIfEquationAsserts1 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerIfEquationAsserts1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerIfEquationAsserts(threadData_t *threadData, modelica_metatype _conditions, modelica_metatype _theneqns, modelica_metatype _elseenqs, modelica_metatype _conditions1, modelica_metatype _theneqns1, modelica_metatype _inEqns, modelica_metatype *out_oelseenqs, modelica_metatype *out_outEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerIfEquationAsserts,2,0) {(void*) boxptr_BackendDAECreate_lowerIfEquationAsserts,0}};
#define boxvar_BackendDAECreate_lowerIfEquationAsserts MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerIfEquationAsserts)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerEqnsLst(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_boolean _inInitialization);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_lowerEqnsLst(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inInitialization);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerEqnsLst,2,0) {(void*) boxptr_BackendDAECreate_lowerEqnsLst,0}};
#define boxvar_BackendDAECreate_lowerEqnsLst MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerEqnsLst)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerEqns(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_boolean _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_lowerEqns(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_metatype _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerEqns,2,0) {(void*) boxptr_BackendDAECreate_lowerEqns,0}};
#define boxvar_BackendDAECreate_lowerEqns MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerEqns)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerIfEquation1(threadData_t *threadData, modelica_metatype _cond, modelica_metatype _conditions, modelica_metatype _theneqn, modelica_metatype _theneqns, modelica_metatype _elseenqs, modelica_metatype _conditions1, modelica_metatype _theneqns1, modelica_metatype _source, modelica_metatype _functionTree, modelica_metatype _inEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerIfEquation1,2,0) {(void*) boxptr_BackendDAECreate_lowerIfEquation1,0}};
#define boxvar_BackendDAECreate_lowerIfEquation1 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerIfEquation1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerIfEquation(threadData_t *threadData, modelica_metatype _conditions, modelica_metatype _theneqns, modelica_metatype _elseenqs, modelica_metatype _conditions1, modelica_metatype _theneqns1, modelica_metatype _inSource, modelica_metatype _functionTree, modelica_metatype _inEquations);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerIfEquation,2,0) {(void*) boxptr_BackendDAECreate_lowerIfEquation,0}};
#define boxvar_BackendDAECreate_lowerIfEquation MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerIfEquation)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerForEquation(threadData_t *threadData, modelica_metatype _eq, modelica_string _iter, modelica_metatype _range);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerForEquation,2,0) {(void*) boxptr_BackendDAECreate_lowerForEquation,0}};
#define boxvar_BackendDAECreate_lowerForEquation MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerForEquation)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerEqn(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_boolean _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_lowerEqn(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_metatype _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerEqn,2,0) {(void*) boxptr_BackendDAECreate_lowerEqn,0}};
#define boxvar_BackendDAECreate_lowerEqn MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerEqn)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerExtObjVarkind(threadData_t *threadData, modelica_metatype _inType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerExtObjVarkind,2,0) {(void*) boxptr_BackendDAECreate_lowerExtObjVarkind,0}};
#define boxvar_BackendDAECreate_lowerExtObjVarkind MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerExtObjVarkind)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerExtObjVar(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerExtObjVar,2,0) {(void*) boxptr_BackendDAECreate_lowerExtObjVar,0}};
#define boxvar_BackendDAECreate_lowerExtObjVar MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerExtObjVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerType(threadData_t *threadData, modelica_metatype _inType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerType,2,0) {(void*) boxptr_BackendDAECreate_lowerType,0}};
#define boxvar_BackendDAECreate_lowerType MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerType)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerKnownVarkind(threadData_t *threadData, modelica_metatype _varKind, modelica_metatype _componentRef, modelica_metatype _varDirection, modelica_metatype _connectorType, modelica_metatype _visibility);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerKnownVarkind,2,0) {(void*) boxptr_BackendDAECreate_lowerKnownVarkind,0}};
#define boxvar_BackendDAECreate_lowerKnownVarkind MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerKnownVarkind)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerVarkind(threadData_t *threadData, modelica_metatype _inVarKind, modelica_metatype _inType, modelica_metatype _inComponentRef, modelica_metatype _inVarDirection, modelica_metatype _inConnectorType, modelica_metatype _daeAttr, modelica_metatype _protection);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerVarkind,2,0) {(void*) boxptr_BackendDAECreate_lowerVarkind,0}};
#define boxvar_BackendDAECreate_lowerVarkind MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerVarkind)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_setMinMaxFromEnumeration1(threadData_t *threadData, modelica_metatype _inMin, modelica_metatype _inMax, modelica_metatype _inVarAttr, modelica_metatype _inPath, modelica_metatype _inNames);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_setMinMaxFromEnumeration1,2,0) {(void*) boxptr_BackendDAECreate_setMinMaxFromEnumeration1,0}};
#define boxvar_BackendDAECreate_setMinMaxFromEnumeration1 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_setMinMaxFromEnumeration1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_setMinMaxFromEnumeration(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inVarAttr);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_setMinMaxFromEnumeration,2,0) {(void*) boxptr_BackendDAECreate_setMinMaxFromEnumeration,0}};
#define boxvar_BackendDAECreate_setMinMaxFromEnumeration MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_setMinMaxFromEnumeration)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_inlineExpOpt1(threadData_t *threadData, modelica_metatype _iExp, modelica_metatype _fnstpl, modelica_metatype _iSource, modelica_metatype _iInlineHT, modelica_metatype *out_oSource, modelica_metatype *out_oInlineHT, modelica_metatype *out_assrtLstOut);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_inlineExpOpt1,2,0) {(void*) boxptr_BackendDAECreate_inlineExpOpt1,0}};
#define boxvar_BackendDAECreate_inlineExpOpt1 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_inlineExpOpt1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_inlineExpOpt(threadData_t *threadData, modelica_metatype _iOptExp, modelica_metatype _fnstpl, modelica_metatype _iSource, modelica_metatype _iInlineHT, modelica_metatype *out_oSource, modelica_metatype *out_oInlineHT, modelica_metatype *out_assrtLstOut);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_inlineExpOpt,2,0) {(void*) boxptr_BackendDAECreate_inlineExpOpt,0}};
#define boxvar_BackendDAECreate_inlineExpOpt MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_inlineExpOpt)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_buildAssertAlgorithms(threadData_t *threadData, modelica_metatype _assrtIn, modelica_metatype _source, modelica_metatype _eqIn);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_buildAssertAlgorithms,2,0) {(void*) boxptr_BackendDAECreate_buildAssertAlgorithms,0}};
#define boxvar_BackendDAECreate_buildAssertAlgorithms MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_buildAssertAlgorithms)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_replaceFillWithExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fbind);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_replaceFillWithExp,2,0) {(void*) boxptr_BackendDAECreate_replaceFillWithExp,0}};
#define boxvar_BackendDAECreate_replaceFillWithExp MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_replaceFillWithExp)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_replaceFillWithExpInAttributes(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fattr);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_replaceFillWithExpInAttributes,2,0) {(void*) boxptr_BackendDAECreate_replaceFillWithExpInAttributes,0}};
#define boxvar_BackendDAECreate_replaceFillWithExpInAttributes MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_replaceFillWithExpInAttributes)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerKnownVar(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _iInlineHT, modelica_metatype _assrtEqIn, modelica_metatype *out_oInlineHT, modelica_metatype *out_assrtEqOut);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerKnownVar,2,0) {(void*) boxptr_BackendDAECreate_lowerKnownVar,0}};
#define boxvar_BackendDAECreate_lowerKnownVar MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerKnownVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerDynamicVar(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerDynamicVar,2,0) {(void*) boxptr_BackendDAECreate_lowerDynamicVar,0}};
#define boxvar_BackendDAECreate_lowerDynamicVar MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerDynamicVar)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_BackendDAECreate_isStateOrAlgvar(threadData_t *threadData, modelica_metatype _e);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_isStateOrAlgvar(threadData_t *threadData, modelica_metatype _e);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_isStateOrAlgvar,2,0) {(void*) boxptr_BackendDAECreate_isStateOrAlgvar,0}};
#define boxvar_BackendDAECreate_isStateOrAlgvar MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_isStateOrAlgvar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerVar(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inFunctions, modelica_metatype _inVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _inExVars, modelica_metatype _inEqns, modelica_metatype _inREqns, modelica_metatype _inInlineHT, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_outExVars, modelica_metatype *out_outEqns, modelica_metatype *out_outREqns, modelica_metatype *out_outInlineHT);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerVar,2,0) {(void*) boxptr_BackendDAECreate_lowerVar,0}};
#define boxvar_BackendDAECreate_lowerVar MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lowerVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_transformBuiltinExpression(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTuple, modelica_metatype *out_outTuple);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_transformBuiltinExpression,2,0) {(void*) boxptr_BackendDAECreate_transformBuiltinExpression,0}};
#define boxvar_BackendDAECreate_transformBuiltinExpression MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_transformBuiltinExpression)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_processBuiltinExpressions(threadData_t *threadData, modelica_metatype _inDAE, modelica_metatype _functionTree, modelica_metatype *out_outTree, modelica_metatype *out_outTimeEvents);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_processBuiltinExpressions,2,0) {(void*) boxptr_BackendDAECreate_processBuiltinExpressions,0}};
#define boxvar_BackendDAECreate_processBuiltinExpressions MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_processBuiltinExpressions)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lower2(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inFunctions, modelica_metatype _inInlineHT, modelica_metatype _inVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _inExVars, modelica_metatype _inEqns, modelica_metatype _inREqns, modelica_metatype _inIEqns, modelica_metatype _inConstraints, modelica_metatype _inClassAttributes, modelica_metatype _inExtObjClasses, modelica_metatype _inAliasEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_outExVars, modelica_metatype *out_outEqns, modelica_metatype *out_outREqns, modelica_metatype *out_outIEqns, modelica_metatype *out_outConstraints, modelica_metatype *out_outClassAttributes, modelica_metatype *out_outExtObjClasses, modelica_metatype *out_outAliasEqns, modelica_metatype *out_outInlineHT);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_lower2,2,0) {(void*) boxptr_BackendDAECreate_lower2,0}};
#define boxvar_BackendDAECreate_lower2 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_lower2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_getExternalObjectAlias2(threadData_t *threadData, modelica_metatype _eqIn, modelica_metatype _extCrefs, modelica_metatype _eqTplIn);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_getExternalObjectAlias2,2,0) {(void*) boxptr_BackendDAECreate_getExternalObjectAlias2,0}};
#define boxvar_BackendDAECreate_getExternalObjectAlias2 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_getExternalObjectAlias2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_chooseExternalAlias(threadData_t *threadData, modelica_metatype _var1, modelica_metatype _var2, modelica_metatype *out_aliasVar);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_chooseExternalAlias,2,0) {(void*) boxptr_BackendDAECreate_chooseExternalAlias,0}};
#define boxvar_BackendDAECreate_chooseExternalAlias MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_chooseExternalAlias)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_addExternalObjectReplacementRules(threadData_t *threadData, modelica_metatype _crefs_lhs, modelica_metatype _crefs_rhs, modelica_metatype _extVars, modelica_metatype __omcQ_24in_5FextAliasVars, modelica_metatype __omcQ_24in_5Frepl, modelica_metatype *out_repl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_addExternalObjectReplacementRules,2,0) {(void*) boxptr_BackendDAECreate_addExternalObjectReplacementRules,0}};
#define boxvar_BackendDAECreate_addExternalObjectReplacementRules MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_addExternalObjectReplacementRules)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_getExternalObjectAlias3(threadData_t *threadData, modelica_metatype _eqIn, modelica_metatype _extVars, modelica_metatype _tplIn);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_getExternalObjectAlias3,2,0) {(void*) boxptr_BackendDAECreate_getExternalObjectAlias3,0}};
#define boxvar_BackendDAECreate_getExternalObjectAlias3 MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_getExternalObjectAlias3)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_removeExtAliasBinding(threadData_t *threadData, modelica_metatype _extVarsIn, modelica_metatype _repl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_removeExtAliasBinding,2,0) {(void*) boxptr_BackendDAECreate_removeExtAliasBinding,0}};
#define boxvar_BackendDAECreate_removeExtAliasBinding MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_removeExtAliasBinding)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_getExternalObjectAlias(threadData_t *threadData, modelica_metatype _inInitEqs, modelica_metatype _inEqs, modelica_metatype _inRemEqs, modelica_metatype _globalVarsIn, modelica_metatype _extVars, modelica_metatype *out_oEqs, modelica_metatype *out_oRemEqs, modelica_metatype *out_extAliasVars, modelica_metatype *out_globalVarsOut, modelica_metatype *out_extVarsOut);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_getExternalObjectAlias,2,0) {(void*) boxptr_BackendDAECreate_getExternalObjectAlias,0}};
#define boxvar_BackendDAECreate_getExternalObjectAlias MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_getExternalObjectAlias)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_updateRecordTypesVarLst(threadData_t *threadData, modelica_metatype _map, modelica_metatype __omcQ_24in_5FvarLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_updateRecordTypesVarLst,2,0) {(void*) boxptr_BackendDAECreate_updateRecordTypesVarLst,0}};
#define boxvar_BackendDAECreate_updateRecordTypesVarLst MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_updateRecordTypesVarLst)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_collapseArrayBindings(threadData_t *threadData, modelica_metatype _arrayMap, modelica_metatype __omcQ_24in_5Fmap);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_collapseArrayBindings,2,0) {(void*) boxptr_BackendDAECreate_collapseArrayBindings,0}};
#define boxvar_BackendDAECreate_collapseArrayBindings MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_collapseArrayBindings)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_BackendDAECreate_compareArrayBindingExp(threadData_t *threadData, modelica_metatype _inElement1, modelica_metatype _inElement2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_compareArrayBindingExp(threadData_t *threadData, modelica_metatype _inElement1, modelica_metatype _inElement2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_compareArrayBindingExp,2,0) {(void*) boxptr_BackendDAECreate_compareArrayBindingExp,0}};
#define boxvar_BackendDAECreate_compareArrayBindingExp MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_compareArrayBindingExp)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_updateRecordTypesExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Fmap, modelica_boolean *out_cont, modelica_metatype *out_map);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_updateRecordTypesExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Fmap, modelica_metatype *out_cont, modelica_metatype *out_map);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_updateRecordTypesExp,2,0) {(void*) boxptr_BackendDAECreate_updateRecordTypesExp,0}};
#define boxvar_BackendDAECreate_updateRecordTypesExp MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_updateRecordTypesExp)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_updateRecordTypesEqn(threadData_t *threadData, modelica_metatype __omcQ_24in_5Feqn, modelica_metatype _map);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_updateRecordTypesEqn,2,0) {(void*) boxptr_BackendDAECreate_updateRecordTypesEqn,0}};
#define boxvar_BackendDAECreate_updateRecordTypesEqn MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_updateRecordTypesEqn)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_collectRecordTypesExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Fmap, modelica_boolean *out_cont, modelica_metatype *out_map);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_collectRecordTypesExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Fmap, modelica_metatype *out_cont, modelica_metatype *out_map);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_collectRecordTypesExp,2,0) {(void*) boxptr_BackendDAECreate_collectRecordTypesExp,0}};
#define boxvar_BackendDAECreate_collectRecordTypesExp MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_collectRecordTypesExp)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_collectRecordTypesEqn(threadData_t *threadData, modelica_metatype __omcQ_24in_5Feqn, modelica_metatype _map);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_collectRecordTypesEqn,2,0) {(void*) boxptr_BackendDAECreate_collectRecordTypesEqn,0}};
#define boxvar_BackendDAECreate_collectRecordTypesEqn MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_collectRecordTypesEqn)
PROTECTED_FUNCTION_STATIC void omc_BackendDAECreate_collectRecordTypesVar(threadData_t *threadData, modelica_metatype _map, modelica_metatype _var);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_collectRecordTypesVar,2,0) {(void*) boxptr_BackendDAECreate_collectRecordTypesVar,0}};
#define boxvar_BackendDAECreate_collectRecordTypesVar MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_collectRecordTypesVar)
PROTECTED_FUNCTION_STATIC void omc_BackendDAECreate_collectRecordTypesVarLst(threadData_t *threadData, modelica_metatype _map, modelica_metatype _varLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_collectRecordTypesVarLst,2,0) {(void*) boxptr_BackendDAECreate_collectRecordTypesVarLst,0}};
#define boxvar_BackendDAECreate_collectRecordTypesVarLst MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_collectRecordTypesVarLst)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_updateConstantRecordElementBinding(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _binding, modelica_string _name);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_updateConstantRecordElementBinding,2,0) {(void*) boxptr_BackendDAECreate_updateConstantRecordElementBinding,0}};
#define boxvar_BackendDAECreate_updateConstantRecordElementBinding MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_updateConstantRecordElementBinding)
PROTECTED_FUNCTION_STATIC void omc_BackendDAECreate_collectRecordElementBindings(threadData_t *threadData, modelica_metatype _var, modelica_metatype _map, modelica_metatype _arrayMap);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_collectRecordElementBindings,2,0) {(void*) boxptr_BackendDAECreate_collectRecordElementBindings,0}};
#define boxvar_BackendDAECreate_collectRecordElementBindings MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_collectRecordElementBindings)
PROTECTED_FUNCTION_STATIC modelica_string omc_BackendDAECreate_printArrayBindingList(threadData_t *threadData, modelica_metatype _arrayBindingList);
static const MMC_DEFSTRUCTLIT(boxvar_lit_BackendDAECreate_printArrayBindingList,2,0) {(void*) boxptr_BackendDAECreate_printArrayBindingList,0}};
#define boxvar_BackendDAECreate_printArrayBindingList MMC_REFSTRUCTLIT(boxvar_lit_BackendDAECreate_printArrayBindingList)

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_replaceParameters(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _replIn, modelica_metatype *out_replOut)
{
  modelica_metatype _outExp = NULL;
  modelica_metatype _replOut = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _replOut has no default value.
  _replOut = _replIn;

  _outExp = omc_VarTransform_replaceExp(threadData, _inExp, _replIn, mmc_mk_none(), NULL);
  _return: OMC_LABEL_UNUSED
  if (out_replOut) { *out_replOut = _replOut; }
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_renameFunctionParameter2(threadData_t *threadData, modelica_metatype _funcIn, modelica_string _pathName)
{
  modelica_metatype _funcOut = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _funcOut has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _funcIn;
    {
      modelica_metatype _body = NULL;
      modelica_metatype _params = NULL;
      modelica_metatype _crefs = NULL;
      modelica_metatype _crefs_new = NULL;
      modelica_metatype _params_new = NULL;
      modelica_metatype _repl = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _body has no default value.
      // _params has no default value.
      // _crefs has no default value.
      // _crefs_new has no default value.
      // _params_new has no default value.
      // _repl has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_boolean tmp7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          _body = tmpMeta6;
          /* Pattern matching succeeded */
          _params = omc_List_filterOnTrue(threadData, _body, boxvar_DAEUtil_isParameter);

          /* Pattern-matching assignment */
          tmp7 = listEmpty(_params);
          if (0 /* false */ != tmp7) goto goto_2;

          _crefs = omc_List_map(threadData, _params, boxvar_DAEUtil_varCref);

          _crefs_new = omc_List_map1r(threadData, _crefs, boxvar_ComponentReference_prependStringCref, _pathName);

          _params_new = omc_List_map(threadData, _crefs_new, boxvar_Expression_crefExp);

          _repl = omc_VarTransform_emptyReplacements(threadData);

          _repl = omc_VarTransform_addReplacementLst(threadData, _repl, _crefs, _params_new);

          _body = omc_DAEUtil_traverseDAEElementList(threadData, _body, boxvar_BackendDAECreate_replaceParameters, _repl, NULL);
          tmpMeta8 = mmc_mk_box2(3, &DAE_FunctionDefinition_FUNCTION__DEF__desc, _body);
          tmpMeta1 = tmpMeta8;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _funcIn;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _funcOut = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _funcOut;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_renameFunctionParameter1(threadData_t *threadData, modelica_metatype _funcIn)
{
  modelica_metatype _funcOut = NULL;
  modelica_metatype _key = NULL;
  modelica_metatype _value = NULL;
  modelica_string _pathName = NULL;
  modelica_metatype _fn = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _funcOut has no default value.
  // _key has no default value.
  // _value has no default value.
  // _pathName has no default value.
  // _fn has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _funcIn;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _key = tmpMeta2;
  _value = tmpMeta3;

  { /* match expression */
    modelica_metatype tmp7_1;
    tmp7_1 = _value;
    {
      volatile mmc_switch_type tmp7;
      int tmp8;
      tmp7 = 0;
      for (; tmp7 < 2; tmp7++) {
        switch (MMC_SWITCH_CAST(tmp7)) {
        case 0: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta16;
          if (optionNone(tmp7_1)) goto tmp6_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,0,10) == 0) goto tmp6_end;
          
          _fn = tmpMeta9;
          /* Pattern matching succeeded */
          _pathName = omc_AbsynUtil_pathString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fn), 2))), _OMC_LIT0, 1 /* true */, 0 /* false */);

          tmpMeta10 = stringAppend(omc_Util_stringReplaceChar(threadData, _pathName, _OMC_LIT0, _OMC_LIT1),_OMC_LIT1);
          _pathName = tmpMeta10;

          {
            modelica_metatype __omcQ_24tmpVar1;
            modelica_metatype* tmp13;
            modelica_metatype tmpMeta14;
            modelica_metatype __omcQ_24tmpVar0;
            modelica_integer tmp15;
            modelica_metatype _fn_def_loopVar = 0;
            modelica_metatype _fn_def;
            _fn_def_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fn), 3)));
            tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar1 = tmpMeta14; /* defaultValue */
            tmp13 = &__omcQ_24tmpVar1;
            while(1) {
              tmp15 = 1;
              if (!listEmpty(_fn_def_loopVar)) {
                _fn_def = MMC_CAR(_fn_def_loopVar);
                _fn_def_loopVar = MMC_CDR(_fn_def_loopVar);
                tmp15--;
              }
              if (tmp15 == 0) {
                __omcQ_24tmpVar0 = omc_BackendDAECreate_renameFunctionParameter2(threadData, _fn_def, _pathName);
                *tmp13 = mmc_mk_cons(__omcQ_24tmpVar0,0);
                tmp13 = &MMC_CDR(*tmp13);
              } else if (tmp15 == 1) {
                break;
              } else {
                goto goto_5;
              }
            }
            *tmp13 = mmc_mk_nil();
            tmpMeta12 = __omcQ_24tmpVar1;
          }
          tmpMeta11 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta11), MMC_UNTAGPTR(_fn), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta11))[3] = tmpMeta12;
          _fn = tmpMeta11;
          tmpMeta16 = mmc_mk_box2(0, _key, mmc_mk_some(_fn));
          tmpMeta4 = tmpMeta16;
          goto tmp6_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta4 = _funcIn;
          goto tmp6_done;
        }
        }
        goto tmp6_end;
        tmp6_end: ;
      }
      goto goto_5;
      goto_5:;
      MMC_THROW_INTERNAL();
      goto tmp6_done;
      tmp6_done:;
    }
  }
  _funcOut = tmpMeta4;
  _return: OMC_LABEL_UNUSED
  return _funcOut;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_renameFunctionParameter(threadData_t *threadData, modelica_metatype _fTreeIn)
{
  modelica_metatype _fTreeOut = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _fTreeOut has no default value.
  { /* matchcontinue expression */
    {
      modelica_metatype _funcLst = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _funcLst has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_metatype tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (stringEqual(omc_Flags_getConfigString(threadData, _OMC_LIT27), _OMC_LIT7));
          if (1 /* true */ != tmp6) goto goto_2;

          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          _funcLst = omc_DAE_AvlTreePathFunction_toList(threadData, _fTreeIn, tmpMeta7);

          _funcLst = omc_List_map(threadData, _funcLst, boxvar_BackendDAECreate_renameFunctionParameter1);
          tmpMeta1 = omc_DAE_AvlTreePathFunction_addList(threadData, omc_DAE_AvlTreePathFunction_new(threadData), _funcLst, boxvar_DAE_AvlTreePathFunction_addConflictDefault);
          goto tmp3_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          tmpMeta1 = _fTreeIn;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _fTreeOut = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _fTreeOut;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_deriveFunction(threadData_t *threadData, modelica_metatype _key, modelica_metatype __omcQ_24in_5Fvalue)
{
  modelica_metatype _value = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _value = __omcQ_24in_5Fvalue;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _value;
    {
      modelica_metatype _fn = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _fn has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,10) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          if (listEmpty(tmpMeta7)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmpMeta7);
          tmpMeta9 = MMC_CDR(tmpMeta7);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,4,2) == 0) goto tmp3_end;
          
          _fn = tmpMeta6;
          /* Pattern matching succeeded */
          omc_Error_addSourceMessage(threadData, _OMC_LIT32, _OMC_LIT36, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fn), 10)))), 2))));
          goto goto_2;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _value;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _value = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _value;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerFunctions(threadData_t *threadData, modelica_metatype __omcQ_24in_5FfuncTree)
{
  modelica_metatype _funcTree = NULL;
  modelica_metatype _funcList = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _funcTree = __omcQ_24in_5FfuncTree;
  // _funcList has no default value.
  _funcTree = omc_DAE_AvlTreePathFunction_map(threadData, _funcTree, boxvar_BackendDAECreate_deriveFunction);
  _return: OMC_LABEL_UNUSED
  return _funcTree;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor(threadData_t *threadData, modelica_metatype _inIteratorExp, modelica_metatype _inExplst, modelica_metatype _inVariables, modelica_metatype _inGlobalKnownVars, modelica_metatype _inStatementLst, modelica_boolean _insideWhen)
{
  modelica_metatype _outVariables = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVariables has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;volatile modelica_metatype tmp4_4;volatile modelica_metatype tmp4_5;volatile modelica_boolean tmp4_6;
    tmp4_1 = _inIteratorExp;
    tmp4_2 = _inExplst;
    tmp4_3 = _inVariables;
    tmp4_4 = _inGlobalKnownVars;
    tmp4_5 = _inStatementLst;
    tmp4_6 = _insideWhen;
    {
      modelica_metatype _v = NULL;
      modelica_metatype _v_1 = NULL;
      modelica_metatype _globalKnownVars = NULL;
      modelica_metatype _statementLst = NULL;
      modelica_metatype _statementLst1 = NULL;
      modelica_boolean _b;
      modelica_metatype _e = NULL;
      modelica_metatype _ie = NULL;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _v has no default value.
      // _v_1 has no default value.
      // _globalKnownVars has no default value.
      // _statementLst has no default value.
      // _statementLst1 has no default value.
      // _b has no default value.
      // _e has no default value.
      // _ie has no default value.
      // _rest has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          
          _v = tmp4_3;
          _globalKnownVars = tmp4_4;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v, _globalKnownVars, _inStatementLst, 1 /* true */);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_2);
          tmpMeta7 = MMC_CDR(tmp4_2);
          if (!listEmpty(tmpMeta7)) goto tmp3_end;
          
          _e = tmpMeta6;
          _ie = tmp4_1;
          _v = tmp4_3;
          _globalKnownVars = tmp4_4;
          _statementLst = tmp4_5;
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_box2(0, _ie, _e);
          _statementLst1 = omc_DAEUtil_traverseDAEEquationsStmts(threadData, _statementLst, boxvar_Expression_replaceExpTpl, tmpMeta8, NULL);
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v, _globalKnownVars, _statementLst1, 1 /* true */);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmp4_2);
          tmpMeta10 = MMC_CDR(tmp4_2);
          
          _e = tmpMeta9;
          _rest = tmpMeta10;
          _ie = tmp4_1;
          _v = tmp4_3;
          _globalKnownVars = tmp4_4;
          _statementLst = tmp4_5;
          _b = tmp4_6;
          /* Pattern matching succeeded */
          tmpMeta11 = mmc_mk_box2(0, _ie, _e);
          _statementLst1 = omc_DAEUtil_traverseDAEEquationsStmts(threadData, _statementLst, boxvar_Expression_replaceExpTpl, tmpMeta11, NULL);

          _v_1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v, _globalKnownVars, _statementLst1, 1 /* true */);
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor(threadData, _ie, _rest, _v_1, _globalKnownVars, _statementLst, _b);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta12 = MMC_CAR(tmp4_2);
          tmpMeta13 = MMC_CDR(tmp4_2);
          
          _e = tmpMeta12;
          _rest = tmpMeta13;
          _ie = tmp4_1;
          _v = tmp4_3;
          _globalKnownVars = tmp4_4;
          _statementLst = tmp4_5;
          _b = tmp4_6;
          /* Pattern matching succeeded */
          tmpMeta14 = mmc_mk_box2(0, _ie, _e);
          _statementLst1 = omc_DAEUtil_traverseDAEEquationsStmts(threadData, _statementLst, boxvar_Expression_replaceExpTpl, tmpMeta14, NULL);

          _v_1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v, _globalKnownVars, _statementLst1, 1 /* true */);
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor(threadData, _ie, _rest, _v_1, _globalKnownVars, _statementLst, _b);
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          fputs(MMC_STRINGDATA(_OMC_LIT37),stdout);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVariables = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVariables;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor(threadData_t *threadData, modelica_metatype _inIteratorExp, modelica_metatype _inExplst, modelica_metatype _inVariables, modelica_metatype _inGlobalKnownVars, modelica_metatype _inStatementLst, modelica_metatype _insideWhen)
{
  modelica_integer tmp1;
  modelica_metatype _outVariables = NULL;
  tmp1 = mmc_unbox_integer(_insideWhen);
  _outVariables = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor(threadData, _inIteratorExp, _inExplst, _inVariables, _inGlobalKnownVars, _inStatementLst, tmp1);
  /* skip box _outVariables; BackendDAE.Variables */
  return _outVariables;
}

static modelica_metatype closure0_BackendVariable_setVarKind(threadData_t *thData, modelica_metatype closure, modelica_metatype inVar)
{
  modelica_metatype inVarKind = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_BackendVariable_setVarKind(thData, inVar, inVarKind);
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inGlobalKnownVars, modelica_metatype _inStatementLst, modelica_boolean _insideWhen)
{
  modelica_metatype _outVariables = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVariables has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;volatile modelica_boolean tmp4_4;
    tmp4_1 = _inVariables;
    tmp4_2 = _inGlobalKnownVars;
    tmp4_3 = _inStatementLst;
    tmp4_4 = _insideWhen;
    {
      modelica_metatype _v = NULL;
      modelica_metatype _v_1 = NULL;
      modelica_metatype _v_2 = NULL;
      modelica_metatype _globalKnownVars = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _xs = NULL;
      modelica_metatype _statementLst = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _statement = NULL;
      modelica_boolean _b;
      modelica_metatype _tp = NULL;
      modelica_string _iteratorName = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _iteratorExp = NULL;
      modelica_metatype _iteratorexps = NULL;
      modelica_metatype _expExpLst = NULL;
      modelica_metatype _subs = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _v has no default value.
      // _v_1 has no default value.
      // _v_2 has no default value.
      // _globalKnownVars has no default value.
      // _cr has no default value.
      // _xs has no default value.
      // _statementLst has no default value.
      // _vars has no default value.
      // _statement has no default value.
      // _b has no default value.
      // _tp has no default value.
      // _iteratorName has no default value.
      // _e has no default value.
      // _iteratorExp has no default value.
      // _iteratorexps has no default value.
      // _expExpLst has no default value.
      // _subs has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 10; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_3)) goto tmp3_end;
          
          _v = tmp4_1;
          tmp4 += 9; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _v;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (1 /* true */ != tmp4_4) goto tmp3_end;
          if (listEmpty(tmp4_3)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_3);
          tmpMeta7 = MMC_CDR(tmp4_3);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,4) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,6,2) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          
          _cr = tmpMeta9;
          _xs = tmpMeta7;
          _v = tmp4_1;
          _globalKnownVars = tmp4_2;
          tmp4 += 7; /* Pattern matching succeeded; we may skip some cases if we fail */
          _vars = omc_BackendVariable_getVar(threadData, _cr, _v, NULL);

          tmpMeta10 = mmc_mk_box1(0, _OMC_LIT38);
          _vars = omc_List_map(threadData, _vars, (modelica_fnptr) mmc_mk_box2(0,closure0_BackendVariable_setVarKind,tmpMeta10));

          _v_1 = omc_BackendVariable_addVars(threadData, _vars, _v);
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v_1, _globalKnownVars, _xs, 1 /* true */);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (1 /* true */ != tmp4_4) goto tmp3_end;
          if (listEmpty(tmp4_3)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_3);
          tmpMeta12 = MMC_CDR(tmp4_3);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,0,4) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta13,21,2) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta14,6,2) == 0) goto tmp3_end;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 2));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 3));
          
          _cr = tmpMeta15;
          _expExpLst = tmpMeta16;
          _xs = tmpMeta12;
          _v = tmp4_1;
          _globalKnownVars = tmp4_2;
          tmp4 += 6; /* Pattern matching succeeded; we may skip some cases if we fail */
          _subs = omc_List_map(threadData, _expExpLst, boxvar_Expression_makeIndexSubscript);

          _cr = omc_ComponentReference_subscriptCref(threadData, _cr, _subs);

          _vars = omc_BackendVariable_getVar(threadData, _cr, _v, NULL);

          _vars = omc_List_map1(threadData, _vars, boxvar_BackendVariable_setVarKind, _OMC_LIT38);

          _v_1 = omc_BackendVariable_addVars(threadData, _vars, _v);
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v_1, _globalKnownVars, _xs, 1 /* true */);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (1 /* true */ != tmp4_4) goto tmp3_end;
          if (listEmpty(tmp4_3)) goto tmp3_end;
          tmpMeta17 = MMC_CAR(tmp4_3);
          tmpMeta18 = MMC_CDR(tmp4_3);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta17,1,4) == 0) goto tmp3_end;
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 3));
          
          _expExpLst = tmpMeta19;
          _xs = tmpMeta18;
          _v = tmp4_1;
          _globalKnownVars = tmp4_2;
          tmp4 += 5; /* Pattern matching succeeded; we may skip some cases if we fail */
          _vars = omc_BackendDAECreate_getVarsFromExp(threadData, _expExpLst, _v);

          _vars = omc_List_map1(threadData, _vars, boxvar_BackendVariable_setVarKind, _OMC_LIT38);

          _v_1 = omc_BackendVariable_addVars(threadData, _vars, _v);
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v_1, _globalKnownVars, _xs, 1 /* true */);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          if (1 /* true */ != tmp4_4) goto tmp3_end;
          if (listEmpty(tmp4_3)) goto tmp3_end;
          tmpMeta20 = MMC_CAR(tmp4_3);
          tmpMeta21 = MMC_CDR(tmp4_3);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta20,2,4) == 0) goto tmp3_end;
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta20), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta22,6,2) == 0) goto tmp3_end;
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 2));
          
          _cr = tmpMeta23;
          _xs = tmpMeta21;
          _v = tmp4_1;
          _globalKnownVars = tmp4_2;
          tmp4 += 4; /* Pattern matching succeeded; we may skip some cases if we fail */
          _vars = omc_BackendVariable_getVar(threadData, _cr, _v, NULL);

          _vars = omc_List_map1(threadData, _vars, boxvar_BackendVariable_setVarKind, _OMC_LIT38);

          _v_1 = omc_BackendVariable_addVars(threadData, _vars, _v);
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v_1, _globalKnownVars, _xs, 1 /* true */);
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          if (1 /* true */ != tmp4_4) goto tmp3_end;
          if (listEmpty(tmp4_3)) goto tmp3_end;
          tmpMeta24 = MMC_CAR(tmp4_3);
          tmpMeta25 = MMC_CDR(tmp4_3);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta24,3,4) == 0) goto tmp3_end;
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta24), 3));
          
          _statementLst = tmpMeta26;
          _xs = tmpMeta25;
          _v = tmp4_1;
          _globalKnownVars = tmp4_2;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          _v_1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v, _globalKnownVars, _statementLst, 1 /* true */);
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v_1, _globalKnownVars, _xs, 1 /* true */);
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          if (1 /* true */ != tmp4_4) goto tmp3_end;
          if (listEmpty(tmp4_3)) goto tmp3_end;
          tmpMeta27 = MMC_CAR(tmp4_3);
          tmpMeta28 = MMC_CDR(tmp4_3);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta27,4,6) == 0) goto tmp3_end;
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta27), 2));
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta27), 4));
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta27), 5));
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta27), 6));
          
          _tp = tmpMeta29;
          _iteratorName = tmpMeta30;
          _e = tmpMeta31;
          _statementLst = tmpMeta32;
          _xs = tmpMeta28;
          _v = tmp4_1;
          _globalKnownVars = tmp4_2;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta33 = MMC_REFSTRUCTLIT(mmc_nil);
          _cr = omc_ComponentReference_makeCrefIdent(threadData, _iteratorName, _tp, tmpMeta33);

          _iteratorExp = omc_Expression_crefExp(threadData, _cr);

          _iteratorexps = omc_BackendDAEUtil_extendRange(threadData, _e, _globalKnownVars);

          _v_1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemensFor(threadData, _iteratorExp, _iteratorexps, _v, _globalKnownVars, _statementLst, 1 /* true */);
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v_1, _globalKnownVars, _xs, 1 /* true */);
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          if (listEmpty(tmp4_3)) goto tmp3_end;
          tmpMeta34 = MMC_CAR(tmp4_3);
          tmpMeta35 = MMC_CDR(tmp4_3);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta34,7,6) == 0) goto tmp3_end;
          tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta34), 5));
          tmpMeta37 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta34), 6));
          if (!optionNone(tmpMeta37)) goto tmp3_end;
          
          _statementLst = tmpMeta36;
          _xs = tmpMeta35;
          _v = tmp4_1;
          _globalKnownVars = tmp4_2;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _v_1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v, _globalKnownVars, _statementLst, 1 /* true */);
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v_1, _globalKnownVars, _xs, 0 /* false */);
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          if (listEmpty(tmp4_3)) goto tmp3_end;
          tmpMeta38 = MMC_CAR(tmp4_3);
          tmpMeta39 = MMC_CDR(tmp4_3);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta38,7,6) == 0) goto tmp3_end;
          tmpMeta40 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta38), 5));
          tmpMeta41 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta38), 6));
          if (optionNone(tmpMeta41)) goto tmp3_end;
          tmpMeta42 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta41), 1));
          
          _statementLst = tmpMeta40;
          _statement = tmpMeta42;
          _xs = tmpMeta39;
          _v = tmp4_1;
          _globalKnownVars = tmp4_2;
          /* Pattern matching succeeded */
          _v_1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v, _globalKnownVars, _statementLst, 1 /* true */);

          tmpMeta43 = mmc_mk_cons(_statement, MMC_REFSTRUCTLIT(mmc_nil));
          _v_2 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v_1, _globalKnownVars, tmpMeta43, 1 /* true */);
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v_2, _globalKnownVars, _xs, 0 /* false */);
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          if (listEmpty(tmp4_3)) goto tmp3_end;
          tmpMeta44 = MMC_CAR(tmp4_3);
          tmpMeta45 = MMC_CDR(tmp4_3);
          
          _xs = tmpMeta45;
          _v = tmp4_1;
          _globalKnownVars = tmp4_2;
          _b = tmp4_4;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _v, _globalKnownVars, _xs, _b);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 10) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVariables = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVariables;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inGlobalKnownVars, modelica_metatype _inStatementLst, modelica_metatype _insideWhen)
{
  modelica_integer tmp1;
  modelica_metatype _outVariables = NULL;
  tmp1 = mmc_unbox_integer(_insideWhen);
  _outVariables = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _inVariables, _inGlobalKnownVars, _inStatementLst, tmp1);
  /* skip box _outVariables; BackendDAE.Variables */
  return _outVariables;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_getVarsFromExp(threadData_t *threadData, modelica_metatype _inExpLst, modelica_metatype _inVariables)
{
  modelica_metatype _outVarLst = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVarLst has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inExpLst;
    tmp4_2 = _inVariables;
    {
      modelica_metatype _cref = NULL;
      modelica_metatype _expLst = NULL;
      modelica_metatype _variables = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _varLst = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cref has no default value.
      // _expLst has no default value.
      // _variables has no default value.
      // _vars has no default value.
      // _varLst has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,6,2) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          
          _cref = tmpMeta9;
          _expLst = tmpMeta8;
          _variables = tmp4_2;
          /* Pattern matching succeeded */
          _vars = omc_BackendVariable_getVar(threadData, _cref, _variables, NULL);

          _varLst = omc_BackendDAECreate_getVarsFromExp(threadData, _expLst, _variables);
          tmpMeta1 = listAppend(_vars, _varLst);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          
          _expLst = tmpMeta11;
          _variables = tmp4_2;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_BackendDAECreate_getVarsFromExp(threadData, _expLst, _variables);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVarLst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVarLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_detectImplicitDiscreteFold(threadData_t *threadData, modelica_metatype _inEquation, modelica_metatype _inGlobalKnownVars, modelica_metatype _inVariables)
{
  modelica_metatype _outVariables = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVariables has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inEquation;
    {
      modelica_metatype _cr = NULL;
      modelica_metatype _crefs = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _statementLst = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cr has no default value.
      // _crefs has no default value.
      // _e has no default value.
      // _vars has no default value.
      // _statementLst has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          if (listEmpty(tmpMeta7)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmpMeta7);
          tmpMeta9 = MMC_CDR(tmpMeta7);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,3) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,6,2) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 2));
          if (!listEmpty(tmpMeta9)) goto tmp3_end;
          
          _cr = tmpMeta11;
          /* Pattern matching succeeded */
          _vars = omc_BackendVariable_getVar(threadData, _cr, _inVariables, NULL);

          _vars = omc_List_map1(threadData, _vars, boxvar_BackendVariable_setVarKind, _OMC_LIT38);
          tmpMeta1 = omc_BackendVariable_addVars(threadData, _vars, _inVariables);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,4) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 3));
          if (listEmpty(tmpMeta13)) goto tmp3_end;
          tmpMeta14 = MMC_CAR(tmpMeta13);
          tmpMeta15 = MMC_CDR(tmpMeta13);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta14,0,3) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 2));
          if (!listEmpty(tmpMeta15)) goto tmp3_end;
          
          _e = tmpMeta16;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _crefs = omc_Expression_getAllCrefs(threadData, _e);

          _crefs = omc_List_flatten(threadData, omc_List_map1(threadData, _crefs, boxvar_ComponentReference_expandCref, mmc_mk_boolean(1 /* true */)));

          _vars = omc_BackendVariable_getVarLst(threadData, _crefs, _inVariables, NULL);

          _vars = omc_List_map1(threadData, _vars, boxvar_BackendVariable_setVarKind, _OMC_LIT38);
          tmpMeta1 = omc_BackendVariable_addVars(threadData, _vars, _inVariables);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,5) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 2));
          
          _statementLst = tmpMeta18;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_BackendDAECreate_detectImplicitDiscreteAlgsStatemens(threadData, _inVariables, _inGlobalKnownVars, _statementLst, 0 /* false */);
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _inVariables;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVariables = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVariables;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_detectImplicitDiscrete(threadData_t *threadData, modelica_metatype _inVariables, modelica_metatype _inGlobalKnownVars, modelica_metatype _inEquationLst)
{
  modelica_metatype _outVariables = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVariables has no default value.
  _outVariables = omc_List_fold1(threadData, _inEquationLst, boxvar_BackendDAECreate_detectImplicitDiscreteFold, _inGlobalKnownVars, _inVariables);
  _return: OMC_LABEL_UNUSED
  return _outVariables;
}

PROTECTED_FUNCTION_STATIC void omc_BackendDAECreate_replaceableAlias(threadData_t *threadData, modelica_metatype _var)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 1; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_boolean tmp5;
          modelica_boolean tmp6;
          modelica_boolean tmp7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp5 = omc_BackendVariable_isVarOnTopLevelAndOutput(threadData, _var);
          if (0 /* false */ != tmp5) goto goto_1;

          /* Pattern-matching assignment */
          tmp6 = omc_BackendVariable_isVarOnTopLevelAndInput(threadData, _var);
          if (0 /* false */ != tmp6) goto goto_1;

          /* Pattern-matching assignment */
          tmp7 = omc_BackendVariable_varHasUncertainValueRefine(threadData, _var);
          if (0 /* false */ != tmp7) goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_selectAliasVar(threadData_t *threadData, modelica_metatype _v1, modelica_integer _index1, modelica_integer _arrayIndx1, modelica_metatype _e1, modelica_metatype _v2, modelica_integer _index2, modelica_integer _arrayIndx2, modelica_metatype _e2, modelica_metatype _source, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iRepl, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oRepl)
{
  modelica_metatype _oVars = NULL;
  modelica_metatype _outGlobalKnownVars = NULL;
  modelica_metatype _oExtVars = NULL;
  modelica_metatype _oAVars = NULL;
  modelica_metatype _oRepl = NULL;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oVars has no default value.
  // _outGlobalKnownVars has no default value.
  // _oExtVars has no default value.
  // _oAVars has no default value.
  // _oRepl has no default value.
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_integer tmp4_2;modelica_metatype tmp4_3;modelica_integer tmp4_4;
    tmp4_1 = _v1;
    tmp4_2 = _arrayIndx1;
    tmp4_3 = _v2;
    tmp4_4 = _arrayIndx2;
    {
      modelica_metatype _vars = NULL;
      modelica_metatype _globalKnownVars = NULL;
      modelica_metatype _extvars = NULL;
      modelica_metatype _avars = NULL;
      modelica_metatype _repl = NULL;
      modelica_metatype _ops = NULL;
      modelica_metatype _var = NULL;
      modelica_metatype _avar = NULL;
      modelica_metatype _cr1 = NULL;
      modelica_metatype _cr2 = NULL;
      modelica_metatype _acr = NULL;
      modelica_integer _w1;
      modelica_integer _w2;
      modelica_integer _aindx;
      modelica_boolean _b;
      modelica_boolean _b1;
      modelica_boolean _b2;
      modelica_metatype _e = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _vars has no default value.
      // _globalKnownVars has no default value.
      // _extvars has no default value.
      // _avars has no default value.
      // _repl has no default value.
      // _ops has no default value.
      // _var has no default value.
      // _avar has no default value.
      // _cr1 has no default value.
      // _cr2 has no default value.
      // _acr has no default value.
      // _w1 has no default value.
      // _w2 has no default value.
      // _aindx has no default value.
      // _b has no default value.
      // _b1 has no default value.
      // _b2 has no default value.
      // _e has no default value.
      tmp4 = 0;
      for (; tmp4 < 7; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (1 != tmp4_2) goto tmp3_end;
          if (1 != tmp4_4) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,3) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
          
          _cr2 = tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp8 = omc_BackendVariable_isStateVar(threadData, _v2);
          if (0 /* false */ != tmp8) goto goto_2;

          omc_BackendDAECreate_replaceableAlias(threadData, _v2);

          _var = omc_BackendVariable_mergeAliasVars(threadData, _v1, _v2, 0 /* false */, _inGlobalKnownVars);

          _ops = omc_ElementSource_getSymbolicTransformations(threadData, _source);

          tmpMeta10 = mmc_mk_box3(10, &DAE_SymbolicOperation_SOLVED__desc, _cr2, _e1);
          tmpMeta9 = mmc_mk_cons(tmpMeta10, _ops);
          _avar = omc_BackendVariable_mergeVariableOperations(threadData, _v2, tmpMeta9);

          _avar = omc_BackendVariable_setBindExp(threadData, _avar, mmc_mk_some(_e1));

          _vars = omc_BackendVariable_removeVar(threadData, _index2, _iVars, NULL);

          _avars = omc_BackendVariable_addVar(threadData, _avar, _iAVars);

          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);

          _repl = omc_BackendVarTransform_addReplacement(threadData, _iRepl, _cr2, _e1, mmc_mk_none());

          if(omc_Flags_isSet(threadData, _OMC_LIT45))
          {
            omc_BackendDump_debugStrCrefStrExpStr(threadData, _OMC_LIT39, _cr2, _OMC_LIT40, _e1, _OMC_LIT41);
          }
          tmpMeta[0+0] = _vars;
          tmpMeta[0+1] = _inGlobalKnownVars;
          tmpMeta[0+2] = _iExtVars;
          tmpMeta[0+3] = _avars;
          tmpMeta[0+4] = _repl;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (1 != tmp4_2) goto tmp3_end;
          if (1 != tmp4_4) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,1,3) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cr1 = tmpMeta12;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp13 = omc_BackendVariable_isStateVar(threadData, _v1);
          if (0 /* false */ != tmp13) goto goto_2;

          omc_BackendDAECreate_replaceableAlias(threadData, _v1);

          _var = omc_BackendVariable_mergeAliasVars(threadData, _v2, _v1, 0 /* false */, _inGlobalKnownVars);

          _ops = omc_ElementSource_getSymbolicTransformations(threadData, _source);

          tmpMeta15 = mmc_mk_box3(10, &DAE_SymbolicOperation_SOLVED__desc, _cr1, _e2);
          tmpMeta14 = mmc_mk_cons(tmpMeta15, _ops);
          _avar = omc_BackendVariable_mergeVariableOperations(threadData, _v1, tmpMeta14);

          _avar = omc_BackendVariable_setBindExp(threadData, _avar, mmc_mk_some(_e2));

          _vars = omc_BackendVariable_removeVar(threadData, _index1, _iVars, NULL);

          _avars = omc_BackendVariable_addVar(threadData, _avar, _iAVars);

          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);

          _repl = omc_BackendVarTransform_addReplacement(threadData, _iRepl, _cr1, _e2, mmc_mk_none());

          if(omc_Flags_isSet(threadData, _OMC_LIT45))
          {
            omc_BackendDump_debugStrCrefStrExpStr(threadData, _OMC_LIT39, _cr1, _OMC_LIT40, _e2, _OMC_LIT41);
          }
          tmpMeta[0+0] = _vars;
          tmpMeta[0+1] = _inGlobalKnownVars;
          tmpMeta[0+2] = _iExtVars;
          tmpMeta[0+3] = _avars;
          tmpMeta[0+4] = _repl;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_boolean tmp18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_boolean tmp21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_integer tmp27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          if (1 != tmp4_2) goto tmp3_end;
          if (1 != tmp4_4) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
          
          _cr1 = tmpMeta16;
          _cr2 = tmpMeta17;
          /* Pattern matching succeeded */
          _b1 = omc_BackendVariable_isStateVar(threadData, _v1);

          _b2 = omc_BackendVariable_isStateVar(threadData, _v2);

          /* Pattern-matching assignment */
          tmp18 = (!_b1 == !_b2);
          if (1 /* true */ != tmp18) goto goto_2;

          omc_BackendDAECreate_replaceableAlias(threadData, _v1);

          omc_BackendDAECreate_replaceableAlias(threadData, _v2);

          _w1 = omc_BackendVariable_calcAliasKey(threadData, _v1);

          _w2 = omc_BackendVariable_calcAliasKey(threadData, _v2);

          _b = (_w2 > _w1);

          /* Pattern-matching assignment */
          tmp21 = (modelica_boolean)_b;
          if(tmp21)
          {
            tmpMeta19 = mmc_mk_box7(0, _cr2, _v2, mmc_mk_integer(_index2), _e2, _cr1, _v1, _e1);
            tmpMeta22 = tmpMeta19;
          }
          else
          {
            tmpMeta20 = mmc_mk_box7(0, _cr1, _v1, mmc_mk_integer(_index1), _e1, _cr2, _v2, _e2);
            tmpMeta22 = tmpMeta20;
          }
          tmpMeta23 = tmpMeta22;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 1));
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 2));
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 3));
          tmp27 = mmc_unbox_integer(tmpMeta26);
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 6));
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 7));
          _acr = tmpMeta24;
          _avar = tmpMeta25;
          _aindx = tmp27  /* pattern as ty=Integer */;
          _var = tmpMeta28;
          _e = tmpMeta29;

          _var = omc_BackendVariable_mergeAliasVars(threadData, _var, _avar, 0 /* false */, _inGlobalKnownVars);

          _ops = omc_ElementSource_getSymbolicTransformations(threadData, _source);

          tmpMeta31 = mmc_mk_box3(10, &DAE_SymbolicOperation_SOLVED__desc, _acr, _e);
          tmpMeta30 = mmc_mk_cons(tmpMeta31, _ops);
          _avar = omc_BackendVariable_mergeVariableOperations(threadData, _avar, tmpMeta30);

          _avar = omc_BackendVariable_setBindExp(threadData, _avar, mmc_mk_some(_e));

          _avar = (_b1?omc_BackendVariable_setVarKind(threadData, _avar, _OMC_LIT46):_avar);

          _vars = omc_BackendVariable_removeVar(threadData, _aindx, _iVars, NULL);

          _avars = omc_BackendVariable_addVar(threadData, _avar, _iAVars);

          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);

          _repl = omc_BackendVarTransform_addReplacement(threadData, _iRepl, _acr, _e, mmc_mk_none());

          if(omc_Flags_isSet(threadData, _OMC_LIT45))
          {
            omc_BackendDump_debugStrCrefStrExpStr(threadData, _OMC_LIT39, _acr, _OMC_LIT40, _e, _OMC_LIT41);
          }
          tmpMeta[0+0] = _vars;
          tmpMeta[0+1] = _inGlobalKnownVars;
          tmpMeta[0+2] = _iExtVars;
          tmpMeta[0+3] = _avars;
          tmpMeta[0+4] = _repl;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          if (1 != tmp4_2) goto tmp3_end;
          if (2 != tmp4_4) goto tmp3_end;
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cr1 = tmpMeta32;
          /* Pattern matching succeeded */
          omc_BackendDAECreate_replaceableAlias(threadData, _v1);

          _var = omc_BackendVariable_mergeAliasVars(threadData, _v2, _v1, 0 /* false */, _inGlobalKnownVars);

          _ops = omc_ElementSource_getSymbolicTransformations(threadData, _source);

          tmpMeta34 = mmc_mk_box3(10, &DAE_SymbolicOperation_SOLVED__desc, _cr1, _e2);
          tmpMeta33 = mmc_mk_cons(tmpMeta34, _ops);
          _avar = omc_BackendVariable_mergeVariableOperations(threadData, _v1, tmpMeta33);

          _avar = omc_BackendVariable_setBindExp(threadData, _avar, mmc_mk_some(_e2));

          _avar = (omc_BackendVariable_isStateVar(threadData, _v1)?omc_BackendVariable_setVarKind(threadData, _avar, _OMC_LIT46):_avar);

          _vars = omc_BackendVariable_removeVar(threadData, _index1, _iVars, NULL);

          _avars = omc_BackendVariable_addVar(threadData, _avar, _iAVars);

          _globalKnownVars = omc_BackendVariable_addVar(threadData, _var, _inGlobalKnownVars);

          _repl = omc_BackendVarTransform_addReplacement(threadData, _iRepl, _cr1, _e2, mmc_mk_none());

          if(omc_Flags_isSet(threadData, _OMC_LIT45))
          {
            omc_BackendDump_debugStrCrefStrExpStr(threadData, _OMC_LIT39, _cr1, _OMC_LIT40, _e2, _OMC_LIT41);
          }
          tmpMeta[0+0] = _vars;
          tmpMeta[0+1] = _globalKnownVars;
          tmpMeta[0+2] = _iExtVars;
          tmpMeta[0+3] = _avars;
          tmpMeta[0+4] = _repl;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          if (2 != tmp4_2) goto tmp3_end;
          if (1 != tmp4_4) goto tmp3_end;
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
          
          _cr2 = tmpMeta35;
          /* Pattern matching succeeded */
          omc_BackendDAECreate_replaceableAlias(threadData, _v2);

          _var = omc_BackendVariable_mergeAliasVars(threadData, _v1, _v2, 0 /* false */, _inGlobalKnownVars);

          _ops = omc_ElementSource_getSymbolicTransformations(threadData, _source);

          tmpMeta37 = mmc_mk_box3(10, &DAE_SymbolicOperation_SOLVED__desc, _cr2, _e1);
          tmpMeta36 = mmc_mk_cons(tmpMeta37, _ops);
          _avar = omc_BackendVariable_mergeVariableOperations(threadData, _v2, tmpMeta36);

          _avar = omc_BackendVariable_setBindExp(threadData, _avar, mmc_mk_some(_e1));

          _avar = (omc_BackendVariable_isStateVar(threadData, _v2)?omc_BackendVariable_setVarKind(threadData, _avar, _OMC_LIT46):_avar);

          _vars = omc_BackendVariable_removeVar(threadData, _index2, _iVars, NULL);

          _avars = omc_BackendVariable_addVar(threadData, _avar, _iAVars);

          _globalKnownVars = omc_BackendVariable_addVar(threadData, _var, _inGlobalKnownVars);

          _repl = omc_BackendVarTransform_addReplacement(threadData, _iRepl, _cr2, _e1, mmc_mk_none());

          if(omc_Flags_isSet(threadData, _OMC_LIT45))
          {
            omc_BackendDump_debugStrCrefStrExpStr(threadData, _OMC_LIT39, _cr2, _OMC_LIT40, _e1, _OMC_LIT41);
          }
          tmpMeta[0+0] = _vars;
          tmpMeta[0+1] = _globalKnownVars;
          tmpMeta[0+2] = _iExtVars;
          tmpMeta[0+3] = _avars;
          tmpMeta[0+4] = _repl;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          if (1 != tmp4_2) goto tmp3_end;
          if (3 != tmp4_4) goto tmp3_end;
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cr1 = tmpMeta38;
          /* Pattern matching succeeded */
          omc_BackendDAECreate_replaceableAlias(threadData, _v1);

          _var = omc_BackendVariable_mergeAliasVars(threadData, _v2, _v1, 0 /* false */, _inGlobalKnownVars);

          _ops = omc_ElementSource_getSymbolicTransformations(threadData, _source);

          tmpMeta40 = mmc_mk_box3(10, &DAE_SymbolicOperation_SOLVED__desc, _cr1, _e2);
          tmpMeta39 = mmc_mk_cons(tmpMeta40, _ops);
          _avar = omc_BackendVariable_mergeVariableOperations(threadData, _v1, tmpMeta39);

          _avar = omc_BackendVariable_setBindExp(threadData, _avar, mmc_mk_some(_e2));

          _avar = (omc_BackendVariable_isStateVar(threadData, _v1)?omc_BackendVariable_setVarKind(threadData, _avar, _OMC_LIT46):_avar);

          _vars = omc_BackendVariable_removeVar(threadData, _index1, _iVars, NULL);

          _avars = omc_BackendVariable_addVar(threadData, _avar, _iAVars);

          _extvars = omc_BackendVariable_addVar(threadData, _var, _iExtVars);

          _repl = omc_BackendVarTransform_addReplacement(threadData, _iRepl, _cr1, _e2, mmc_mk_none());

          if(omc_Flags_isSet(threadData, _OMC_LIT45))
          {
            omc_BackendDump_debugStrCrefStrExpStr(threadData, _OMC_LIT39, _cr1, _OMC_LIT40, _e2, _OMC_LIT41);
          }
          tmpMeta[0+0] = _vars;
          tmpMeta[0+1] = _inGlobalKnownVars;
          tmpMeta[0+2] = _extvars;
          tmpMeta[0+3] = _avars;
          tmpMeta[0+4] = _repl;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          if (3 != tmp4_2) goto tmp3_end;
          if (1 != tmp4_4) goto tmp3_end;
          tmpMeta41 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
          
          _cr2 = tmpMeta41;
          /* Pattern matching succeeded */
          omc_BackendDAECreate_replaceableAlias(threadData, _v2);

          _var = omc_BackendVariable_mergeAliasVars(threadData, _v1, _v2, 0 /* false */, _inGlobalKnownVars);

          _ops = omc_ElementSource_getSymbolicTransformations(threadData, _source);

          tmpMeta43 = mmc_mk_box3(10, &DAE_SymbolicOperation_SOLVED__desc, _cr2, _e1);
          tmpMeta42 = mmc_mk_cons(tmpMeta43, _ops);
          _avar = omc_BackendVariable_mergeVariableOperations(threadData, _v2, tmpMeta42);

          _avar = omc_BackendVariable_setBindExp(threadData, _avar, mmc_mk_some(_e1));

          _avar = (omc_BackendVariable_isStateVar(threadData, _v2)?omc_BackendVariable_setVarKind(threadData, _avar, _OMC_LIT46):_avar);

          _vars = omc_BackendVariable_removeVar(threadData, _index2, _iVars, NULL);

          _avars = omc_BackendVariable_addVar(threadData, _avar, _iAVars);

          _extvars = omc_BackendVariable_addVar(threadData, _var, _iExtVars);

          _repl = omc_BackendVarTransform_addReplacement(threadData, _iRepl, _cr2, _e1, mmc_mk_none());

          if(omc_Flags_isSet(threadData, _OMC_LIT45))
          {
            omc_BackendDump_debugStrCrefStrExpStr(threadData, _OMC_LIT39, _cr2, _OMC_LIT40, _e1, _OMC_LIT41);
          }
          tmpMeta[0+0] = _vars;
          tmpMeta[0+1] = _inGlobalKnownVars;
          tmpMeta[0+2] = _extvars;
          tmpMeta[0+3] = _avars;
          tmpMeta[0+4] = _repl;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oVars = tmpMeta[0+0];
  _outGlobalKnownVars = tmpMeta[0+1];
  _oExtVars = tmpMeta[0+2];
  _oAVars = tmpMeta[0+3];
  _oRepl = tmpMeta[0+4];
  _return: OMC_LABEL_UNUSED
  if (out_outGlobalKnownVars) { *out_outGlobalKnownVars = _outGlobalKnownVars; }
  if (out_oExtVars) { *out_oExtVars = _oExtVars; }
  if (out_oAVars) { *out_oAVars = _oAVars; }
  if (out_oRepl) { *out_oRepl = _oRepl; }
  return _oVars;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_selectAliasVar(threadData_t *threadData, modelica_metatype _v1, modelica_metatype _index1, modelica_metatype _arrayIndx1, modelica_metatype _e1, modelica_metatype _v2, modelica_metatype _index2, modelica_metatype _arrayIndx2, modelica_metatype _e2, modelica_metatype _source, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iRepl, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oRepl)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _oVars = NULL;
  tmp1 = mmc_unbox_integer(_index1);
  tmp2 = mmc_unbox_integer(_arrayIndx1);
  tmp3 = mmc_unbox_integer(_index2);
  tmp4 = mmc_unbox_integer(_arrayIndx2);
  _oVars = omc_BackendDAECreate_selectAliasVar(threadData, _v1, tmp1, tmp2, _e1, _v2, tmp3, tmp4, _e2, _source, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _iRepl, out_outGlobalKnownVars, out_oExtVars, out_oAVars, out_oRepl);
  /* skip box _oVars; BackendDAE.Variables */
  /* skip box _outGlobalKnownVars; BackendDAE.Variables */
  /* skip box _oExtVars; BackendDAE.Variables */
  /* skip box _oAVars; BackendDAE.Variables */
  /* skip box _oRepl; BackendVarTransform.VariableReplacements */
  return _oVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_selectAliasLst(threadData_t *threadData, modelica_metatype _iexplst1, modelica_metatype _iexplst2, modelica_metatype _source, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iRepl, modelica_metatype _iEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oRepl, modelica_metatype *out_oEqns)
{
  modelica_metatype _oVars = NULL;
  modelica_metatype _outGlobalKnownVars = NULL;
  modelica_metatype _oExtVars = NULL;
  modelica_metatype _oAVars = NULL;
  modelica_metatype _oRepl = NULL;
  modelica_metatype _oEqns = NULL;
  modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oVars has no default value.
  // _outGlobalKnownVars has no default value.
  // _oExtVars has no default value.
  // _oAVars has no default value.
  // _oRepl has no default value.
  // _oEqns has no default value.
  
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _iexplst1;
    tmp4_2 = _iexplst2;
    {
      modelica_metatype _vars = NULL;
      modelica_metatype _globalKnownVars = NULL;
      modelica_metatype _extvars = NULL;
      modelica_metatype _avars = NULL;
      modelica_metatype _repl = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _e1 = NULL;
      modelica_metatype _e2 = NULL;
      modelica_metatype _explst1 = NULL;
      modelica_metatype _explst2 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _vars has no default value.
      // _globalKnownVars has no default value.
      // _extvars has no default value.
      // _avars has no default value.
      // _repl has no default value.
      // _eqns has no default value.
      // _e1 has no default value.
      // _e2 has no default value.
      // _explst1 has no default value.
      // _explst2 has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _iVars;
          tmpMeta[0+1] = _inGlobalKnownVars;
          tmpMeta[0+2] = _iExtVars;
          tmpMeta[0+3] = _iAVars;
          tmpMeta[0+4] = _iRepl;
          tmpMeta[0+5] = _iEqns;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmp4_2);
          tmpMeta9 = MMC_CDR(tmp4_2);
          _e1 = tmpMeta6;
          _explst1 = tmpMeta7;
          _e2 = tmpMeta8;
          _explst2 = tmpMeta9;
          /* Pattern matching succeeded */
          _e1 = omc_BackendVarTransform_replaceExp(threadData, _e1, _iRepl, mmc_mk_none(), NULL);

          _e2 = omc_BackendVarTransform_replaceExp(threadData, _e2, _iRepl, mmc_mk_none(), NULL);

          _vars = omc_BackendDAECreate_selectAlias(threadData, _e1, _e2, _source, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _iRepl, _iEqns ,&_globalKnownVars ,&_extvars ,&_avars ,&_repl ,&_eqns);
          /* Tail recursive call */
          _iexplst1 = _explst1;
          _iexplst2 = _explst2;
          _iVars = _vars;
          _inGlobalKnownVars = _globalKnownVars;
          _iExtVars = _extvars;
          _iAVars = _avars;
          _iRepl = _repl;
          _iEqns = _eqns;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oVars = tmpMeta[0+0];
  _outGlobalKnownVars = tmpMeta[0+1];
  _oExtVars = tmpMeta[0+2];
  _oAVars = tmpMeta[0+3];
  _oRepl = tmpMeta[0+4];
  _oEqns = tmpMeta[0+5];
  _return: OMC_LABEL_UNUSED
  if (out_outGlobalKnownVars) { *out_outGlobalKnownVars = _outGlobalKnownVars; }
  if (out_oExtVars) { *out_oExtVars = _oExtVars; }
  if (out_oAVars) { *out_oAVars = _oAVars; }
  if (out_oRepl) { *out_oRepl = _oRepl; }
  if (out_oEqns) { *out_oEqns = _oEqns; }
  return _oVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_getVar(threadData_t *threadData, modelica_metatype _cr, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_integer *out_index, modelica_integer *out_varrArray)
{
  modelica_metatype _oVar = NULL;
  modelica_integer _index;
  modelica_integer _varrArray;
  modelica_integer tmp1_c1 __attribute__((unused)) = 0;
  modelica_integer tmp1_c2 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oVar has no default value.
  // _index has no default value.
  // _varrArray has no default value.
  
  
  
  { /* matchcontinue expression */
    {
      modelica_metatype _v = NULL;
      modelica_integer _i;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _v has no default value.
      // _i has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          /* Pattern matching succeeded */
          _v = omc_BackendVariable_getVarSingle(threadData, _cr, _iVars ,&_i);
          tmpMeta[0+0] = _v;
          tmp1_c1 = _i;
          tmp1_c2 = ((modelica_integer) 1);
          goto tmp3_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          _v = omc_BackendVariable_getVarSingle(threadData, _cr, _inGlobalKnownVars ,&_i);
          tmpMeta[0+0] = _v;
          tmp1_c1 = _i;
          tmp1_c2 = ((modelica_integer) 2);
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          _v = omc_BackendVariable_getVarSingle(threadData, _cr, _iExtVars ,&_i);
          tmpMeta[0+0] = _v;
          tmp1_c1 = _i;
          tmp1_c2 = ((modelica_integer) 3);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _oVar = tmpMeta[0+0];
  _index = tmp1_c1;
  _varrArray = tmp1_c2;
  _return: OMC_LABEL_UNUSED
  if (out_index) { *out_index = _index; }
  if (out_varrArray) { *out_varrArray = _varrArray; }
  return _oVar;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_getVar(threadData_t *threadData, modelica_metatype _cr, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype *out_index, modelica_metatype *out_varrArray)
{
  modelica_integer _index;
  modelica_integer _varrArray;
  modelica_metatype _oVar = NULL;
  _oVar = omc_BackendDAECreate_getVar(threadData, _cr, _iVars, _inGlobalKnownVars, _iExtVars, &_index, &_varrArray);
  /* skip box _oVar; BackendDAE.Var */
  if (out_index) { *out_index = mmc_mk_icon(_index); }
  if (out_varrArray) { *out_varrArray = mmc_mk_icon(_varrArray); }
  return _oVar;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_selectAlias(threadData_t *threadData, modelica_metatype _exp1, modelica_metatype _exp2, modelica_metatype _source, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iRepl, modelica_metatype _iEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oRepl, modelica_metatype *out_oEqns)
{
  modelica_metatype _oVars = NULL;
  modelica_metatype _outGlobalKnownVars = NULL;
  modelica_metatype _oExtVars = NULL;
  modelica_metatype _oAVars = NULL;
  modelica_metatype _oRepl = NULL;
  modelica_metatype _oEqns = NULL;
  modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oVars has no default value.
  // _outGlobalKnownVars has no default value.
  // _oExtVars has no default value.
  // _oAVars has no default value.
  // _oRepl has no default value.
  // _oEqns has no default value.
  
  
  
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _exp1;
    tmp4_2 = _exp2;
    {
      modelica_metatype _vars = NULL;
      modelica_metatype _globalKnownVars = NULL;
      modelica_metatype _extvars = NULL;
      modelica_metatype _avars = NULL;
      modelica_metatype _repl = NULL;
      modelica_metatype _cr1 = NULL;
      modelica_metatype _cr2 = NULL;
      modelica_metatype _explst1 = NULL;
      modelica_metatype _explst2 = NULL;
      modelica_metatype _explstlst1 = NULL;
      modelica_metatype _explstlst2 = NULL;
      modelica_metatype _crefs1 = NULL;
      modelica_metatype _crefs2 = NULL;
      modelica_metatype _dims1 = NULL;
      modelica_metatype _dims2 = NULL;
      modelica_integer _arrayTyp1;
      modelica_integer _arrayTyp2;
      modelica_integer _i1;
      modelica_integer _i2;
      modelica_metatype _v1 = NULL;
      modelica_metatype _v2 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _vars has no default value.
      // _globalKnownVars has no default value.
      // _extvars has no default value.
      // _avars has no default value.
      // _repl has no default value.
      // _cr1 has no default value.
      // _cr2 has no default value.
      // _explst1 has no default value.
      // _explst2 has no default value.
      // _explstlst1 has no default value.
      // _explstlst2 has no default value.
      // _crefs1 has no default value.
      // _crefs2 has no default value.
      // _dims1 has no default value.
      // _dims2 has no default value.
      // _arrayTyp1 has no default value.
      // _arrayTyp2 has no default value.
      // _i1 has no default value.
      // _i2 has no default value.
      // _v1 has no default value.
      // _v2 has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 8; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,16,3) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          _explst1 = tmpMeta6;
          _explst2 = tmpMeta7;
          tmp4 += 5; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = omc_BackendDAECreate_selectAliasLst(threadData, _explst1, _explst2, _source, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _iRepl, _iEqns, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4], &tmpMeta[0+5]);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,16,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,6,2) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 3));
          _explst2 = tmpMeta8;
          _cr1 = tmpMeta9;
          _dims1 = tmpMeta11;
          tmp4 += 4; /* Pattern matching succeeded; we may skip some cases if we fail */
          _crefs1 = omc_ComponentReference_expandArrayCref(threadData, _cr1, _dims1);

          _explst1 = omc_List_map(threadData, _crefs1, boxvar_Expression_crefExp);
          tmpMeta[0+0] = omc_BackendDAECreate_selectAliasLst(threadData, _explst1, _explst2, _source, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _iRepl, _iEqns, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4], &tmpMeta[0+5]);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta14,6,2) == 0) goto tmp3_end;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 3));
          _explst1 = tmpMeta12;
          _cr2 = tmpMeta13;
          _dims2 = tmpMeta15;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          _crefs2 = omc_ComponentReference_expandArrayCref(threadData, _cr2, _dims2);

          _explst2 = omc_List_map(threadData, _crefs2, boxvar_Expression_crefExp);
          tmpMeta[0+0] = omc_BackendDAECreate_selectAliasLst(threadData, _explst1, _explst2, _source, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _iRepl, _iEqns, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4], &tmpMeta[0+5]);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta17,6,2) == 0) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta20,6,2) == 0) goto tmp3_end;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta20), 3));
          _cr1 = tmpMeta16;
          _dims1 = tmpMeta18;
          _cr2 = tmpMeta19;
          _dims2 = tmpMeta21;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _crefs1 = omc_ComponentReference_expandArrayCref(threadData, _cr1, _dims1);

          _explst1 = omc_List_map(threadData, _crefs1, boxvar_Expression_crefExp);

          _crefs2 = omc_ComponentReference_expandArrayCref(threadData, _cr2, _dims2);

          _explst2 = omc_List_map(threadData, _crefs2, boxvar_Expression_crefExp);
          tmpMeta[0+0] = omc_BackendDAECreate_selectAliasLst(threadData, _explst1, _explst2, _source, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _iRepl, _iEqns, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4], &tmpMeta[0+5]);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,3) == 0) goto tmp3_end;
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,17,3) == 0) goto tmp3_end;
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          _explstlst1 = tmpMeta22;
          _explstlst2 = tmpMeta23;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = omc_BackendDAECreate_selectAliasLst(threadData, omc_List_flatten(threadData, _explstlst1), omc_List_flatten(threadData, _explstlst2), _source, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _iRepl, _iEqns, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4], &tmpMeta[0+5]);
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          
          _cr1 = tmpMeta24;
          _cr2 = tmpMeta25;
          /* Pattern matching succeeded */
          _v1 = omc_BackendDAECreate_getVar(threadData, _cr1, _iVars, _inGlobalKnownVars, _iExtVars ,&_i1 ,&_arrayTyp1);

          _v2 = omc_BackendDAECreate_getVar(threadData, _cr2, _iVars, _inGlobalKnownVars, _iExtVars ,&_i2 ,&_arrayTyp2);

          _vars = omc_BackendDAECreate_selectAliasVar(threadData, _v1, _i1, _arrayTyp1, _exp1, _v2, _i2, _arrayTyp2, _exp2, _source, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _iRepl ,&_globalKnownVars ,&_extvars ,&_avars ,&_repl);
          tmpMeta[0+0] = _vars;
          tmpMeta[0+1] = _globalKnownVars;
          tmpMeta[0+2] = _extvars;
          tmpMeta[0+3] = _avars;
          tmpMeta[0+4] = _repl;
          tmpMeta[0+5] = _iEqns;
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          _explst1 = omc_Expression_splitRecord(threadData, _exp1, omc_Expression_typeof(threadData, _exp1));

          _explst2 = omc_Expression_splitRecord(threadData, _exp2, omc_Expression_typeof(threadData, _exp2));
          tmpMeta[0+0] = omc_BackendDAECreate_selectAliasLst(threadData, _explst1, _explst2, _source, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _iRepl, _iEqns, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4], &tmpMeta[0+5]);
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          
          /* Pattern matching succeeded */
          tmpMeta27 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _exp1, _exp2, _source, _OMC_LIT49);
          tmpMeta26 = mmc_mk_cons(tmpMeta27, _iEqns);
          tmpMeta[0+0] = _iVars;
          tmpMeta[0+1] = _inGlobalKnownVars;
          tmpMeta[0+2] = _iExtVars;
          tmpMeta[0+3] = _iAVars;
          tmpMeta[0+4] = _iRepl;
          tmpMeta[0+5] = tmpMeta26;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 8) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _oVars = tmpMeta[0+0];
  _outGlobalKnownVars = tmpMeta[0+1];
  _oExtVars = tmpMeta[0+2];
  _oAVars = tmpMeta[0+3];
  _oRepl = tmpMeta[0+4];
  _oEqns = tmpMeta[0+5];
  _return: OMC_LABEL_UNUSED
  if (out_outGlobalKnownVars) { *out_outGlobalKnownVars = _outGlobalKnownVars; }
  if (out_oExtVars) { *out_oExtVars = _oExtVars; }
  if (out_oAVars) { *out_oAVars = _oAVars; }
  if (out_oRepl) { *out_oRepl = _oRepl; }
  if (out_oEqns) { *out_oEqns = _oEqns; }
  return _oVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_handleAliasEquations2(threadData_t *threadData, modelica_metatype _iAliasEqns, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iRepl, modelica_metatype _iEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oRepl, modelica_metatype *out_oEqns)
{
  modelica_metatype _oVars = NULL;
  modelica_metatype _outGlobalKnownVars = NULL;
  modelica_metatype _oExtVars = NULL;
  modelica_metatype _oAVars = NULL;
  modelica_metatype _oRepl = NULL;
  modelica_metatype _oEqns = NULL;
  modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oVars has no default value.
  // _outGlobalKnownVars has no default value.
  // _oExtVars has no default value.
  // _oAVars has no default value.
  // _oRepl has no default value.
  // _oEqns has no default value.
  
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _iAliasEqns;
    {
      modelica_metatype _vars = NULL;
      modelica_metatype _globalKnownVars = NULL;
      modelica_metatype _extvars = NULL;
      modelica_metatype _avars = NULL;
      modelica_metatype _aliaseqns = NULL;
      modelica_metatype _repl = NULL;
      modelica_metatype _cr1 = NULL;
      modelica_metatype _cr2 = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _ecr1 = NULL;
      modelica_metatype _ecr2 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _vars has no default value.
      // _globalKnownVars has no default value.
      // _extvars has no default value.
      // _avars has no default value.
      // _aliaseqns has no default value.
      // _repl has no default value.
      // _cr1 has no default value.
      // _cr2 has no default value.
      // _source has no default value.
      // _eqns has no default value.
      // _ecr1 has no default value.
      // _ecr2 has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _iVars;
          tmpMeta[0+1] = _inGlobalKnownVars;
          tmpMeta[0+2] = _iExtVars;
          tmpMeta[0+3] = _iAVars;
          tmpMeta[0+4] = _iRepl;
          tmpMeta[0+5] = _iEqns;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,4,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          _cr1 = tmpMeta8;
          _cr2 = tmpMeta9;
          _source = tmpMeta10;
          _aliaseqns = tmpMeta7;
          /* Pattern matching succeeded */
          _ecr1 = omc_Expression_crefExp(threadData, _cr1);

          _ecr1 = omc_BackendVarTransform_replaceExp(threadData, _ecr1, _iRepl, mmc_mk_none(), NULL);

          _ecr2 = omc_Expression_crefExp(threadData, _cr2);

          _ecr2 = omc_BackendVarTransform_replaceExp(threadData, _ecr2, _iRepl, mmc_mk_none(), NULL);

          _vars = omc_BackendDAECreate_selectAlias(threadData, _ecr1, _ecr2, _source, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _iRepl, _iEqns ,&_globalKnownVars ,&_extvars ,&_avars ,&_repl ,&_eqns);
          /* Tail recursive call */
          _iAliasEqns = _aliaseqns;
          _iVars = _vars;
          _inGlobalKnownVars = _globalKnownVars;
          _iExtVars = _extvars;
          _iAVars = _avars;
          _iRepl = _repl;
          _iEqns = _eqns;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oVars = tmpMeta[0+0];
  _outGlobalKnownVars = tmpMeta[0+1];
  _oExtVars = tmpMeta[0+2];
  _oAVars = tmpMeta[0+3];
  _oRepl = tmpMeta[0+4];
  _oEqns = tmpMeta[0+5];
  _return: OMC_LABEL_UNUSED
  if (out_outGlobalKnownVars) { *out_outGlobalKnownVars = _outGlobalKnownVars; }
  if (out_oExtVars) { *out_oExtVars = _oExtVars; }
  if (out_oAVars) { *out_oAVars = _oAVars; }
  if (out_oRepl) { *out_oRepl = _oRepl; }
  if (out_oEqns) { *out_oEqns = _oEqns; }
  return _oVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_replaceAliasVarTraverser(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inRepl, modelica_metatype *out_repl)
{
  modelica_metatype _outVar = NULL;
  modelica_metatype _repl = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVar has no default value.
  // _repl has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inVar;
    tmp4_2 = _inRepl;
    {
      modelica_metatype _v = NULL;
      modelica_metatype _v1 = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _e1 = NULL;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _v has no default value.
      // _v1 has no default value.
      // _e has no default value.
      // _e1 has no default value.
      // _b has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          
          _v = tmp4_1;
          _e = tmpMeta7;
          _repl = tmp4_2;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta9 = omc_BackendVarTransform_replaceExp(threadData, _e, _repl, mmc_mk_none(), &tmp8);
          _e1 = tmpMeta9;
          if (1 /* true */ != tmp8) goto goto_2;

          _b = omc_Expression_isConst(threadData, _e1);

          _v1 = ((!_b)?omc_BackendVariable_setBindExp(threadData, _v, mmc_mk_some(_e1)):_v);
          tmpMeta[0+0] = _v1;
          tmpMeta[0+1] = _repl;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inVar;
          tmpMeta[0+1] = _inRepl;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVar = tmpMeta[0+0];
  _repl = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_repl) { *out_repl = _repl; }
  return _outVar;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_handleAliasEquations1(threadData_t *threadData, modelica_metatype _iAliasEqns, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iEqns, modelica_metatype _iREqns, modelica_metatype _iIEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oEqns, modelica_metatype *out_oREqns, modelica_metatype *out_oIEqns)
{
  modelica_metatype _oVars = NULL;
  modelica_metatype _outGlobalKnownVars = NULL;
  modelica_metatype _oExtVars = NULL;
  modelica_metatype _oAVars = NULL;
  modelica_metatype _oEqns = NULL;
  modelica_metatype _oREqns = NULL;
  modelica_metatype _oIEqns = NULL;
  modelica_metatype _repl = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oVars has no default value.
  // _outGlobalKnownVars has no default value.
  // _oExtVars has no default value.
  // _oAVars has no default value.
  // _oEqns has no default value.
  // _oREqns has no default value.
  // _oIEqns has no default value.
  // _repl has no default value.
  _repl = omc_BackendVarTransform_emptyReplacements(threadData);

  _oVars = omc_BackendDAECreate_handleAliasEquations2(threadData, _iAliasEqns, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _repl, _iEqns ,&_outGlobalKnownVars ,&_oExtVars ,&_oAVars ,&_repl ,&_oEqns);

  _oAVars = omc_BackendVariable_traverseBackendDAEVarsWithUpdate(threadData, _oAVars, boxvar_BackendDAECreate_replaceAliasVarTraverser, _repl, NULL);

  _oVars = omc_BackendVariable_rehashVariables(threadData, _oVars);

  _oEqns = omc_BackendVarTransform_replaceEquations(threadData, _oEqns, _repl, mmc_mk_none(), NULL);

  _oREqns = omc_BackendVarTransform_replaceEquations(threadData, _iREqns, _repl, mmc_mk_none(), NULL);

  _oIEqns = omc_BackendVarTransform_replaceEquations(threadData, _iIEqns, _repl, mmc_mk_none(), NULL);
  _return: OMC_LABEL_UNUSED
  if (out_outGlobalKnownVars) { *out_outGlobalKnownVars = _outGlobalKnownVars; }
  if (out_oExtVars) { *out_oExtVars = _oExtVars; }
  if (out_oAVars) { *out_oAVars = _oAVars; }
  if (out_oEqns) { *out_oEqns = _oEqns; }
  if (out_oREqns) { *out_oREqns = _oREqns; }
  if (out_oIEqns) { *out_oIEqns = _oIEqns; }
  return _oVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_handleAliasEquations(threadData_t *threadData, modelica_metatype _iAliasEqns, modelica_metatype _iVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _iExtVars, modelica_metatype _iAVars, modelica_metatype _iEqns, modelica_metatype _iREqns, modelica_metatype _iIEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_oExtVars, modelica_metatype *out_oAVars, modelica_metatype *out_oEqns, modelica_metatype *out_oREqns, modelica_metatype *out_oIEqns)
{
  modelica_metatype _oVars = NULL;
  modelica_metatype _outGlobalKnownVars = NULL;
  modelica_metatype _oExtVars = NULL;
  modelica_metatype _oAVars = NULL;
  modelica_metatype _oEqns = NULL;
  modelica_metatype _oREqns = NULL;
  modelica_metatype _oIEqns = NULL;
  modelica_metatype tmpMeta[7] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oVars has no default value.
  // _outGlobalKnownVars has no default value.
  // _oExtVars has no default value.
  // _oAVars has no default value.
  // _oEqns has no default value.
  // _oREqns has no default value.
  // _oIEqns has no default value.
  
  
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _iAliasEqns;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _iVars;
          tmpMeta[0+1] = _inGlobalKnownVars;
          tmpMeta[0+2] = _iExtVars;
          tmpMeta[0+3] = _iAVars;
          tmpMeta[0+4] = _iEqns;
          tmpMeta[0+5] = _iREqns;
          tmpMeta[0+6] = _iIEqns;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_BackendDAECreate_handleAliasEquations1(threadData, _iAliasEqns, _iVars, _inGlobalKnownVars, _iExtVars, _iAVars, _iEqns, _iREqns, _iIEqns, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4], &tmpMeta[0+5], &tmpMeta[0+6]);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oVars = tmpMeta[0+0];
  _outGlobalKnownVars = tmpMeta[0+1];
  _oExtVars = tmpMeta[0+2];
  _oAVars = tmpMeta[0+3];
  _oEqns = tmpMeta[0+4];
  _oREqns = tmpMeta[0+5];
  _oIEqns = tmpMeta[0+6];
  _return: OMC_LABEL_UNUSED
  if (out_outGlobalKnownVars) { *out_outGlobalKnownVars = _outGlobalKnownVars; }
  if (out_oExtVars) { *out_oExtVars = _oExtVars; }
  if (out_oAVars) { *out_oAVars = _oAVars; }
  if (out_oEqns) { *out_oEqns = _oEqns; }
  if (out_oREqns) { *out_oREqns = _oREqns; }
  if (out_oIEqns) { *out_oIEqns = _oIEqns; }
  return _oVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerAlgorithm(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_metatype _inCrefExpansion, modelica_boolean _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations)
{
  modelica_metatype _outEquations = NULL;
  modelica_metatype _outREquations = NULL;
  modelica_metatype _outIEquations = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEquations has no default value.
  // _outREquations has no default value.
  // _outIEquations has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp12_1;
    tmp12_1 = _inElement;
    {
      modelica_metatype _cond = NULL;
      modelica_metatype _msg = NULL;
      modelica_metatype _level = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _alg = NULL;
      modelica_metatype _source = NULL;
      modelica_integer _size;
      modelica_metatype _crefLst = NULL;
      modelica_string _str = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _reqns = NULL;
      modelica_metatype _ieqns = NULL;
      modelica_metatype _eqAttributes = NULL;
      modelica_metatype tmpMeta3;
      modelica_metatype tmpMeta4;
      modelica_metatype tmpMeta5;
      modelica_metatype tmpMeta6;
      modelica_metatype tmpMeta7;
      modelica_metatype tmpMeta8;
      modelica_boolean tmp9;
      modelica_metatype tmpMeta10;
      volatile mmc_switch_type tmp12;
      int tmp13;
      // _cond has no default value.
      // _msg has no default value.
      // _level has no default value.
      // _e has no default value.
      // _alg has no default value.
      // _source has no default value.
      // _size has no default value.
      // _crefLst has no default value.
      // _str has no default value.
      // _eqns has no default value.
      // _reqns has no default value.
      // _ieqns has no default value.
      tmp9 = (modelica_boolean)_inInitialization;
      if(tmp9)
      {
        tmpMeta3 = mmc_mk_box1(5, &BackendDAE_EquationKind_INITIAL__EQUATION__desc);
        tmpMeta4 = mmc_mk_box5(3, &BackendDAE_EvaluationStages_EVALUATION__STAGES__desc, mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */));
        tmpMeta5 = mmc_mk_box4(3, &BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc, mmc_mk_boolean(0 /* false */), tmpMeta3, tmpMeta4);
        tmpMeta10 = tmpMeta5;
      }
      else
      {
        tmpMeta6 = mmc_mk_box1(4, &BackendDAE_EquationKind_DYNAMIC__EQUATION__desc);
        tmpMeta7 = mmc_mk_box5(3, &BackendDAE_EvaluationStages_EVALUATION__STAGES__desc, mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */));
        tmpMeta8 = mmc_mk_box4(3, &BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc, mmc_mk_boolean(0 /* false */), tmpMeta6, tmpMeta7);
        tmpMeta10 = tmpMeta8;
      }
      _eqAttributes = tmpMeta10;
      tmp12 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp11_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp12 < 13; tmp12++) {
        switch (MMC_SWITCH_CAST(tmp12)) {
        case 0: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,16,2) == 0) goto tmp11_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 2));
          if (!listEmpty(tmpMeta15)) goto tmp11_end;
          
          tmp12 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp11_done;
        }
        case 1: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,17,2) == 0) goto tmp11_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta16), 2));
          if (!listEmpty(tmpMeta17)) goto tmp11_end;
          
          tmp12 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp11_done;
        }
        case 2: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,16,2) == 0) goto tmp11_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 3));
          _alg = tmpMeta18;
          _source = tmpMeta19;
          tmp12 += 9; /* Pattern matching succeeded; we may skip some cases if we fail */
          _crefLst = omc_CheckModel_checkAndGetAlgorithmOutputs(threadData, _alg, _source, _inCrefExpansion);

          _size = listLength(_crefLst);

          if(_inInitialization)
          {
            tmpMeta21 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(_size), _alg, _source, _inCrefExpansion, _eqAttributes);
            tmpMeta20 = mmc_mk_cons(tmpMeta21, _inIEquations);
            _ieqns = tmpMeta20;

            _eqns = _inEquations;

            _reqns = _inREquations;
          }
          else
          {
            if((_size > ((modelica_integer) 0)))
            {
              tmpMeta23 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(_size), _alg, _source, _inCrefExpansion, _eqAttributes);
              tmpMeta22 = mmc_mk_cons(tmpMeta23, _inEquations);
              _eqns = tmpMeta22;

              _reqns = _inREquations;
            }
            else
            {
              _eqns = _inEquations;

              tmpMeta25 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(_size), _alg, _source, _inCrefExpansion, _eqAttributes);
              tmpMeta24 = mmc_mk_cons(tmpMeta25, _inREquations);
              _reqns = tmpMeta24;
            }

            _ieqns = _inIEquations;
          }
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = _reqns;
          tmpMeta[0+2] = _ieqns;
          goto tmp11_done;
        }
        case 3: {
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,17,2) == 0) goto tmp11_end;
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 3));
          _alg = tmpMeta26;
          _source = tmpMeta27;
          tmp12 += 8; /* Pattern matching succeeded; we may skip some cases if we fail */
          _crefLst = omc_CheckModel_checkAndGetAlgorithmOutputs(threadData, _alg, _source, _inCrefExpansion);

          _size = listLength(_crefLst);
          tmpMeta29 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(_size), _alg, _source, _inCrefExpansion, _eqAttributes);
          tmpMeta28 = mmc_mk_cons(tmpMeta29, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = tmpMeta28;
          goto tmp11_done;
        }
        case 4: {
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_integer tmp32;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,20,4) == 0) goto tmp11_end;
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta30,3,1) == 0) goto tmp11_end;
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta30), 2));
          tmp32 = mmc_unbox_integer(tmpMeta31);
          if (1 /* true */ != tmp32) goto tmp11_end;
          
          tmp12 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp11_done;
        }
        case 5: {
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_integer tmp35;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,21,4) == 0) goto tmp11_end;
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta33,3,1) == 0) goto tmp11_end;
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta33), 2));
          tmp35 = mmc_unbox_integer(tmpMeta34);
          if (1 /* true */ != tmp35) goto tmp11_end;
          
          tmp12 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp11_done;
        }
        case 6: {
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,20,4) == 0) goto tmp11_end;
          tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          tmpMeta37 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 3));
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 4));
          tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 5));
          _cond = tmpMeta36;
          _msg = tmpMeta37;
          _level = tmpMeta38;
          _source = tmpMeta39;
          tmp12 += 5; /* Pattern matching succeeded; we may skip some cases if we fail */
          omc_BackendDAEUtil_checkAssertCondition(threadData, _cond, _msg, _level, omc_ElementSource_getElementSourceFileInfo(threadData, _source));

          tmpMeta41 = mmc_mk_box5(11, &DAE_Statement_STMT__ASSERT__desc, _cond, _msg, _level, _source);
          tmpMeta40 = mmc_mk_cons(tmpMeta41, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta42 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta40);
          _alg = tmpMeta42;

          if(_inInitialization)
          {
            _reqns = _inREquations;

            tmpMeta44 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(((modelica_integer) 0)), _alg, _source, _inCrefExpansion, _eqAttributes);
            tmpMeta43 = mmc_mk_cons(tmpMeta44, _inIEquations);
            _ieqns = tmpMeta43;
          }
          else
          {
            tmpMeta46 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(((modelica_integer) 0)), _alg, _source, _inCrefExpansion, _eqAttributes);
            tmpMeta45 = mmc_mk_cons(tmpMeta46, _inREquations);
            _reqns = tmpMeta45;

            _ieqns = _inIEquations;
          }
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _reqns;
          tmpMeta[0+2] = _ieqns;
          goto tmp11_done;
        }
        case 7: {
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,21,4) == 0) goto tmp11_end;
          tmpMeta47 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          tmpMeta48 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 3));
          tmpMeta49 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 4));
          tmpMeta50 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 5));
          _cond = tmpMeta47;
          _msg = tmpMeta48;
          _level = tmpMeta49;
          _source = tmpMeta50;
          tmp12 += 4; /* Pattern matching succeeded; we may skip some cases if we fail */
          omc_BackendDAEUtil_checkAssertCondition(threadData, _cond, _msg, _level, omc_ElementSource_getElementSourceFileInfo(threadData, _source));

          tmpMeta52 = mmc_mk_box5(11, &DAE_Statement_STMT__ASSERT__desc, _cond, _msg, _level, _source);
          tmpMeta51 = mmc_mk_cons(tmpMeta52, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta53 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta51);
          _alg = tmpMeta53;
          tmpMeta55 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(((modelica_integer) 0)), _alg, _source, _inCrefExpansion, _OMC_LIT51);
          tmpMeta54 = mmc_mk_cons(tmpMeta55, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = tmpMeta54;
          goto tmp11_done;
        }
        case 8: {
          modelica_metatype tmpMeta56;
          modelica_metatype tmpMeta57;
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,22,2) == 0) goto tmp11_end;
          tmpMeta56 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          tmpMeta57 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 3));
          _msg = tmpMeta56;
          _source = tmpMeta57;
          tmp12 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta60 = mmc_mk_box3(12, &DAE_Statement_STMT__TERMINATE__desc, _msg, _source);
          tmpMeta59 = mmc_mk_cons(tmpMeta60, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta61 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta59);
          tmpMeta62 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(((modelica_integer) 0)), tmpMeta61, _source, _inCrefExpansion, _eqAttributes);
          tmpMeta58 = mmc_mk_cons(tmpMeta62, _inREquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = tmpMeta58;
          tmpMeta[0+2] = _inIEquations;
          goto tmp11_done;
        }
        case 9: {
          modelica_metatype tmpMeta63;
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          modelica_metatype tmpMeta66;
          modelica_metatype tmpMeta67;
          modelica_metatype tmpMeta68;
          modelica_metatype tmpMeta69;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,23,2) == 0) goto tmp11_end;
          tmpMeta63 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          tmpMeta64 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 3));
          _msg = tmpMeta63;
          _source = tmpMeta64;
          tmp12 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta67 = mmc_mk_box3(12, &DAE_Statement_STMT__TERMINATE__desc, _msg, _source);
          tmpMeta66 = mmc_mk_cons(tmpMeta67, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta68 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta66);
          tmpMeta69 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(((modelica_integer) 0)), tmpMeta68, _source, _inCrefExpansion, _eqAttributes);
          tmpMeta65 = mmc_mk_cons(tmpMeta69, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = tmpMeta65;
          goto tmp11_done;
        }
        case 10: {
          modelica_metatype tmpMeta70;
          modelica_metatype tmpMeta71;
          modelica_metatype tmpMeta72;
          modelica_metatype tmpMeta73;
          modelica_metatype tmpMeta74;
          modelica_metatype tmpMeta75;
          modelica_metatype tmpMeta76;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,25,2) == 0) goto tmp11_end;
          tmpMeta70 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          tmpMeta71 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 3));
          _e = tmpMeta70;
          _source = tmpMeta71;
          tmp12 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta73 = mmc_mk_box3(14, &DAE_Statement_STMT__NORETCALL__desc, _e, _source);
          tmpMeta72 = mmc_mk_cons(tmpMeta73, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta74 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta72);
          _alg = tmpMeta74;
          tmpMeta76 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(((modelica_integer) 0)), _alg, _source, _inCrefExpansion, _eqAttributes);
          tmpMeta75 = mmc_mk_cons(tmpMeta76, _inREquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = tmpMeta75;
          tmpMeta[0+2] = _inIEquations;
          goto tmp11_done;
        }
        case 11: {
          modelica_metatype tmpMeta77;
          modelica_metatype tmpMeta78;
          modelica_metatype tmpMeta79;
          modelica_metatype tmpMeta80;
          modelica_metatype tmpMeta81;
          modelica_metatype tmpMeta82;
          modelica_metatype tmpMeta83;
          if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,26,2) == 0) goto tmp11_end;
          tmpMeta77 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 2));
          tmpMeta78 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp12_1), 3));
          _e = tmpMeta77;
          _source = tmpMeta78;
          /* Pattern matching succeeded */
          tmpMeta80 = mmc_mk_box3(14, &DAE_Statement_STMT__NORETCALL__desc, _e, _source);
          tmpMeta79 = mmc_mk_cons(tmpMeta80, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta81 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta79);
          _alg = tmpMeta81;
          tmpMeta83 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(((modelica_integer) 0)), _alg, _source, _inCrefExpansion, _eqAttributes);
          tmpMeta82 = mmc_mk_cons(tmpMeta83, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = tmpMeta82;
          goto tmp11_done;
        }
        case 12: {
          modelica_integer tmp84;
          modelica_metatype tmpMeta85;
          modelica_metatype tmpMeta86;
          modelica_metatype tmpMeta87;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp84 = omc_Error_getNumErrorMessages(threadData);
          if (0 != tmp84) goto goto_2;

          tmpMeta85 = mmc_mk_cons(_inElement, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta86 = stringAppend(_OMC_LIT52,omc_DAEDump_dumpElementsStr(threadData, tmpMeta85));
          _str = tmpMeta86;

          tmpMeta87 = mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addSourceMessage(threadData, _OMC_LIT55, tmpMeta87, omc_ElementSource_getElementSourceFileInfo(threadData, omc_ElementSource_getElementSource(threadData, _inElement)));
          goto goto_2;
          goto tmp11_done;
        }
        }
        goto tmp11_end;
        tmp11_end: ;
      }
      goto goto_2;
      tmp11_done:
      (void)tmp12;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp11_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp12 < 13) {
        goto tmp11_top;
      }
      MMC_THROW_INTERNAL();
      tmp11_done2:;
    }
  }
  _outEquations = tmpMeta[0+0];
  _outREquations = tmpMeta[0+1];
  _outIEquations = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_outREquations) { *out_outREquations = _outREquations; }
  if (out_outIEquations) { *out_outIEquations = _outIEquations; }
  return _outEquations;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_lowerAlgorithm(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_metatype _inCrefExpansion, modelica_metatype _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations)
{
  modelica_integer tmp1;
  modelica_metatype _outEquations = NULL;
  tmp1 = mmc_unbox_integer(_inInitialization);
  _outEquations = omc_BackendDAECreate_lowerAlgorithm(threadData, _inElement, _functionTree, _inEquations, _inREquations, _inIEquations, _inCrefExpansion, tmp1, out_outREquations, out_outIEquations);
  /* skip box _outEquations; list<BackendDAE.Equation> */
  /* skip box _outREquations; list<BackendDAE.Equation> */
  /* skip box _outIEquations; list<BackendDAE.Equation> */
  return _outEquations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerTupleAssignment(threadData_t *threadData, modelica_metatype _target_expl, modelica_metatype _source_expl, modelica_metatype _inEq_source, modelica_metatype _funcs, modelica_metatype _iEqns)
{
  modelica_metatype _oEqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oEqns has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _target_expl;
    tmp4_2 = _source_expl;
    {
      modelica_metatype _target = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _rest_targets = NULL;
      modelica_metatype _rest_sources = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _eq_source = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _target has no default value.
      // _source has no default value.
      // _rest_targets has no default value.
      // _rest_sources has no default value.
      // _eqns has no default value.
      // _eq_source has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _iEqns;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_2);
          tmpMeta7 = MMC_CDR(tmp4_2);
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmp4_1);
          tmpMeta9 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,6,2) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,3,0) == 0) goto tmp3_end;
          
          _rest_sources = tmpMeta7;
          _rest_targets = tmpMeta9;
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _target_expl = _rest_targets;
          _source_expl = _rest_sources;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta13 = MMC_CAR(tmp4_2);
          tmpMeta14 = MMC_CDR(tmp4_2);
          _target = tmpMeta11;
          _rest_targets = tmpMeta12;
          _source = tmpMeta13;
          _rest_sources = tmpMeta14;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta16 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _target, _source);
          tmpMeta17 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta16, _inEq_source, &tmpMeta15);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta17,2,2) == 0) goto goto_2;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 2));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 3));
          _target = tmpMeta18;
          _source = tmpMeta19;
          _eq_source = tmpMeta15;

          _eqns = omc_BackendDAECreate_lowerExtendedRecordEqn(threadData, _target, _source, _inEq_source, _OMC_LIT57, _funcs, _iEqns);
          /* Tail recursive call */
          _target_expl = _rest_targets;
          _source_expl = _rest_sources;
          _inEq_source = _eq_source;
          _iEqns = _eqns;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oEqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _oEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_mergeWhenEqns(threadData_t *threadData, modelica_metatype _trueEqnList, modelica_metatype _elseEqnList, modelica_metatype _inEquationLst)
{
  modelica_metatype _outEquationLst = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEquationLst has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;
    tmp4_1 = _trueEqnList;
    tmp4_2 = _elseEqnList;
    tmp4_3 = _inEquationLst;
    {
      modelica_metatype _cond = NULL;
      modelica_metatype _res = NULL;
      modelica_metatype _inEqn = NULL;
      modelica_metatype _trueEqns = NULL;
      modelica_metatype _elseEqnsRest = NULL;
      modelica_metatype _result = NULL;
      modelica_metatype _source = NULL;
      modelica_integer _size;
      modelica_metatype _attr = NULL;
      modelica_metatype _whenStmtLst = NULL;
      modelica_metatype _whenEq = NULL;
      modelica_metatype _whenEqRes = NULL;
      modelica_metatype _whenElsePart = NULL;
      modelica_boolean _added;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cond has no default value.
      // _res has no default value.
      // _inEqn has no default value.
      // _trueEqns has no default value.
      // _elseEqnsRest has no default value.
      // _result has no default value.
      // _source has no default value.
      // _size has no default value.
      // _attr has no default value.
      // _whenStmtLst has no default value.
      // _whenEq has no default value.
      // _whenEqRes has no default value.
      // _whenElsePart has no default value.
      // _added has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 7; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _inEquationLst;
          goto tmp3_done;
        }
        case 1: {
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          if (!listEmpty(tmp4_3)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _trueEqnList;
          goto tmp3_done;
        }
        case 2: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_3)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _elseEqnList;
          goto tmp3_done;
        }
        case 3: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = listAppend(_inEquationLst, _elseEqnList);
          goto tmp3_done;
        }
        case 4: {
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = listAppend(_inEquationLst, _trueEqnList);
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,5,4) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmp9 = mmc_unbox_integer(tmpMeta8);
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 2));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 3));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 4));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 5));
          
          _inEqn = tmpMeta6;
          _size = tmp9  /* pattern as ty=Integer */;
          _whenEq = tmpMeta10;
          _cond = tmpMeta11;
          _whenStmtLst = tmpMeta12;
          _whenElsePart = tmpMeta13;
          _source = tmpMeta14;
          _attr = tmpMeta15;
          _trueEqns = tmpMeta7;
          /* Pattern matching succeeded */
          _result = _inEquationLst;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _elseEqnsRest = tmpMeta16;

          _added = 0 /* false */;

          {
            modelica_metatype _eqn;
            for (tmpMeta17 = _elseEqnList; !listEmpty(tmpMeta17); tmpMeta17=MMC_CDR(tmpMeta17))
            {
              _eqn = MMC_CAR(tmpMeta17);
              { /* match expression */
                modelica_metatype tmp20_1;
                tmp20_1 = _eqn;
                {
                  modelica_metatype _eq = NULL;
                  modelica_metatype _whenStmtLst2 = NULL;
                  volatile mmc_switch_type tmp20;
                  int tmp21;
                  // _eq has no default value.
                  // _whenStmtLst2 has no default value.
                  tmp20 = 0;
                  for (; tmp20 < 2; tmp20++) {
                    switch (MMC_SWITCH_CAST(tmp20)) {
                    case 0: {
                      modelica_metatype tmpMeta22;
                      modelica_metatype tmpMeta23;
                      modelica_metatype tmpMeta24;
                      modelica_metatype tmpMeta54;
                      if (mmc__uniontype__metarecord__typedef__equal(tmp20_1,5,4) == 0) goto tmp19_end;
                      tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp20_1), 3));
                      tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 3));
                      
                      _eq = tmpMeta22;
                      _whenStmtLst2 = tmpMeta23;
                      /* Pattern matching succeeded */
                      {
                        modelica_metatype _elem;
                        for (tmpMeta24 = _whenStmtLst; !listEmpty(tmpMeta24); tmpMeta24=MMC_CDR(tmpMeta24))
                        {
                          _elem = MMC_CAR(tmpMeta24);
                          { /* match expression */
                            modelica_metatype tmp27_1;
                            tmp27_1 = _elem;
                            {
                              modelica_metatype _crleft = NULL;
                              modelica_metatype _eleft = NULL;
                              int tmp27;
                              // _crleft has no default value.
                              // _eleft has no default value.
                              {
                                switch (MMC_SWITCH_CAST(valueConstructor(tmp27_1))) {
                                case 3: {
                                  modelica_metatype tmpMeta28;
                                  modelica_metatype tmpMeta29;
                                  modelica_metatype tmpMeta39;
                                  if (mmc__uniontype__metarecord__typedef__equal(tmp27_1,0,3) == 0) goto tmp26_end;
                                  tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp27_1), 2));
                                  
                                  _eleft = tmpMeta28;
                                  /* Pattern matching succeeded */
                                  {
                                    modelica_metatype _stmt;
                                    for (tmpMeta29 = _whenStmtLst2; !listEmpty(tmpMeta29); tmpMeta29=MMC_CDR(tmpMeta29))
                                    {
                                      _stmt = MMC_CAR(tmpMeta29);
                                      { /* matchcontinue expression */
                                        volatile modelica_metatype tmp32_1;
                                        tmp32_1 = _stmt;
                                        {
                                          modelica_metatype _eleft2 = NULL;
                                          volatile mmc_switch_type tmp32;
                                          int tmp33;
                                          // _eleft2 has no default value.
                                          tmp32 = 0;
                                          MMC_TRY_INTERNAL(mmc_jumper)
                                          tmp31_top:
                                          threadData->mmc_jumper = &new_mmc_jumper;
                                          for (; tmp32 < 2; tmp32++) {
                                            switch (MMC_SWITCH_CAST(tmp32)) {
                                            case 0: {
                                              modelica_metatype tmpMeta34;
                                              modelica_boolean tmp35;
                                              modelica_metatype tmpMeta36;
                                              modelica_metatype tmpMeta37;
                                              if (mmc__uniontype__metarecord__typedef__equal(tmp32_1,0,3) == 0) goto tmp31_end;
                                              tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp32_1), 2));
                                              
                                              _eleft2 = tmpMeta34;
                                              /* Pattern matching succeeded */
                                              /* Pattern-matching assignment */
                                              tmp35 = omc_Expression_expEqual(threadData, _eleft, _eleft2);
                                              if (1 /* true */ != tmp35) goto goto_30;

                                              _whenEqRes = omc_BackendEquation_setWhenElsePart(threadData, _whenEq, _eq);

                                              tmpMeta36 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(_size), _whenEqRes, _source, _attr);
                                              _res = tmpMeta36;

                                              tmpMeta37 = mmc_mk_cons(_res, _result);
                                              _result = tmpMeta37;

                                              _added = 1 /* true */;
                                              goto tmp31_done;
                                            }
                                            case 1: {
                                              modelica_metatype tmpMeta38;
                                              
                                              /* Pattern matching succeeded */
                                              tmpMeta38 = mmc_mk_cons(_eqn, _elseEqnsRest);
                                              _elseEqnsRest = tmpMeta38;
                                              goto tmp31_done;
                                            }
                                            }
                                            goto tmp31_end;
                                            tmp31_end: ;
                                          }
                                          goto goto_30;
                                          tmp31_done:
                                          (void)tmp32;
                                          MMC_RESTORE_INTERNAL(mmc_jumper);
                                          goto tmp31_done2;
                                          goto_30:;
                                          MMC_CATCH_INTERNAL(mmc_jumper);
                                          if (++tmp32 < 2) {
                                            goto tmp31_top;
                                          }
                                          goto goto_25;
                                          tmp31_done2:;
                                        }
                                      }
                                      ;
                                    }
                                  }
                                  goto tmp26_done;
                                }
                                case 4: {
                                  modelica_metatype tmpMeta40;
                                  modelica_metatype tmpMeta41;
                                  modelica_metatype tmpMeta51;
                                  if (mmc__uniontype__metarecord__typedef__equal(tmp27_1,1,3) == 0) goto tmp26_end;
                                  tmpMeta40 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp27_1), 2));
                                  
                                  _crleft = tmpMeta40;
                                  /* Pattern matching succeeded */
                                  {
                                    modelica_metatype _stmt;
                                    for (tmpMeta41 = _whenStmtLst2; !listEmpty(tmpMeta41); tmpMeta41=MMC_CDR(tmpMeta41))
                                    {
                                      _stmt = MMC_CAR(tmpMeta41);
                                      { /* matchcontinue expression */
                                        volatile modelica_metatype tmp44_1;
                                        tmp44_1 = _stmt;
                                        {
                                          modelica_metatype _crleft2 = NULL;
                                          volatile mmc_switch_type tmp44;
                                          int tmp45;
                                          // _crleft2 has no default value.
                                          tmp44 = 0;
                                          MMC_TRY_INTERNAL(mmc_jumper)
                                          tmp43_top:
                                          threadData->mmc_jumper = &new_mmc_jumper;
                                          for (; tmp44 < 2; tmp44++) {
                                            switch (MMC_SWITCH_CAST(tmp44)) {
                                            case 0: {
                                              modelica_metatype tmpMeta46;
                                              modelica_boolean tmp47;
                                              modelica_metatype tmpMeta48;
                                              modelica_metatype tmpMeta49;
                                              if (mmc__uniontype__metarecord__typedef__equal(tmp44_1,1,3) == 0) goto tmp43_end;
                                              tmpMeta46 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp44_1), 2));
                                              
                                              _crleft2 = tmpMeta46;
                                              /* Pattern matching succeeded */
                                              /* Pattern-matching assignment */
                                              tmp47 = omc_ComponentReference_crefEqualNoStringCompare(threadData, _crleft, _crleft2);
                                              if (1 /* true */ != tmp47) goto goto_42;

                                              _whenEqRes = omc_BackendEquation_setWhenElsePart(threadData, _whenEq, _eq);

                                              tmpMeta48 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(_size), _whenEqRes, _source, _attr);
                                              _res = tmpMeta48;

                                              tmpMeta49 = mmc_mk_cons(_res, _result);
                                              _result = tmpMeta49;

                                              _added = 1 /* true */;
                                              goto tmp43_done;
                                            }
                                            case 1: {
                                              modelica_metatype tmpMeta50;
                                              
                                              /* Pattern matching succeeded */
                                              tmpMeta50 = mmc_mk_cons(_eqn, _elseEqnsRest);
                                              _elseEqnsRest = tmpMeta50;
                                              goto tmp43_done;
                                            }
                                            }
                                            goto tmp43_end;
                                            tmp43_end: ;
                                          }
                                          goto goto_42;
                                          tmp43_done:
                                          (void)tmp44;
                                          MMC_RESTORE_INTERNAL(mmc_jumper);
                                          goto tmp43_done2;
                                          goto_42:;
                                          MMC_CATCH_INTERNAL(mmc_jumper);
                                          if (++tmp44 < 2) {
                                            goto tmp43_top;
                                          }
                                          goto goto_25;
                                          tmp43_done2:;
                                        }
                                      }
                                      ;
                                    }
                                  }
                                  goto tmp26_done;
                                }
                                default:
                                tmp26_default: OMC_LABEL_UNUSED; {
                                  modelica_metatype tmpMeta52;
                                  modelica_metatype tmpMeta53;
                                  
                                  /* Pattern matching succeeded */
                                  _whenEqRes = omc_BackendEquation_setWhenElsePart(threadData, _whenEq, _eq);

                                  tmpMeta52 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(_size), _whenEqRes, _source, _attr);
                                  _res = tmpMeta52;

                                  tmpMeta53 = mmc_mk_cons(_res, _result);
                                  _result = tmpMeta53;

                                  _added = 1 /* true */;
                                  goto tmp26_done;
                                }
                                }
                                goto tmp26_end;
                                tmp26_end: ;
                              }
                              goto goto_25;
                              goto_25:;
                              goto goto_18;
                              goto tmp26_done;
                              tmp26_done:;
                            }
                          }
                          ;
                        }
                      }
                      goto tmp19_done;
                    }
                    case 1: {
                      modelica_metatype tmpMeta55;
                      modelica_metatype tmpMeta56;
                      modelica_metatype tmpMeta57;
                      
                      /* Pattern matching succeeded */
                      tmpMeta55 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _cond, _whenStmtLst, _whenElsePart);
                      tmpMeta56 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(_size), tmpMeta55, _source, _attr);
                      _res = tmpMeta56;

                      tmpMeta57 = mmc_mk_cons(_res, _result);
                      _result = tmpMeta57;
                      goto tmp19_done;
                    }
                    }
                    goto tmp19_end;
                    tmp19_end: ;
                  }
                  goto goto_18;
                  goto_18:;
                  goto goto_2;
                  goto tmp19_done;
                  tmp19_done:;
                }
              }
              ;
            }
          }

          if((!_added))
          {
            tmpMeta59 = mmc_mk_cons(_inEqn, _result);
            _result = tmpMeta59;
          }
          tmpMeta1 = omc_BackendDAECreate_mergeWhenEqns(threadData, _trueEqns, _elseEqnsRest, _result);
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT55, _OMC_LIT59);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 7) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outEquationLst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEquationLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenIfEqnsElse(threadData_t *threadData, modelica_metatype _elseenqs, modelica_metatype _functionTree, modelica_metatype _iHt)
{
  modelica_metatype _oHt = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oHt has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _elseenqs;
    {
      modelica_metatype _cr = NULL;
      modelica_metatype _cr2 = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _ht = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _eqnslst = NULL;
      modelica_metatype _expl = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cr has no default value.
      // _cr2 has no default value.
      // _e has no default value.
      // _source has no default value.
      // _ht has no default value.
      // _rest has no default value.
      // _eqns has no default value.
      // _eqnslst has no default value.
      // _expl has no default value.
      tmp4 = 0;
      for (; tmp4 < 7; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _iHt;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,4,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          _cr = tmpMeta8;
          _cr2 = tmpMeta9;
          _source = tmpMeta10;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(!omc_BaseHashTable_hasKey(threadData, _cr, _iHt))) goto tmp3_end;
          _e = omc_Expression_crefExp(threadData, _cr2);

          /* Pattern-matching assignment */
          tmp11 = omc_Expression_expHasCrefNoPreorDer(threadData, _e, _cr);
          if (0 /* false */ != tmp11) goto goto_2;

          tmpMeta12 = mmc_mk_box2(0, _e, _source);
          tmpMeta13 = mmc_mk_box2(0, _cr, tmpMeta12);
          _ht = omc_BaseHashTable_add(threadData, tmpMeta13, _iHt);
          /* Tail recursive call */
          _elseenqs = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_boolean tmp19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta14 = MMC_CAR(tmp4_1);
          tmpMeta15 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta14,1,3) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 2));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 3));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 4));
          _cr = tmpMeta16;
          _e = tmpMeta17;
          _source = tmpMeta18;
          _rest = tmpMeta15;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(!omc_BaseHashTable_hasKey(threadData, _cr, _iHt))) goto tmp3_end;
          /* Pattern-matching assignment */
          tmp19 = omc_Expression_expHasCrefNoPreorDer(threadData, _e, _cr);
          if (0 /* false */ != tmp19) goto goto_2;

          tmpMeta20 = mmc_mk_box2(0, _e, _source);
          tmpMeta21 = mmc_mk_box2(0, _cr, tmpMeta20);
          _ht = omc_BaseHashTable_add(threadData, tmpMeta21, _iHt);
          /* Tail recursive call */
          _elseenqs = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_boolean tmp28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta22 = MMC_CAR(tmp4_1);
          tmpMeta23 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta22,3,3) == 0) goto tmp3_end;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta24,6,2) == 0) goto tmp3_end;
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta24), 2));
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 3));
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 4));
          _cr = tmpMeta25;
          _e = tmpMeta26;
          _source = tmpMeta27;
          _rest = tmpMeta23;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(!omc_BaseHashTable_hasKey(threadData, _cr, _iHt))) goto tmp3_end;
          /* Pattern-matching assignment */
          tmp28 = omc_Expression_expHasCrefNoPreorDer(threadData, _e, _cr);
          if (0 /* false */ != tmp28) goto goto_2;

          tmpMeta29 = mmc_mk_box2(0, _e, _source);
          tmpMeta30 = mmc_mk_box2(0, _cr, tmpMeta29);
          _ht = omc_BaseHashTable_add(threadData, tmpMeta30, _iHt);
          /* Tail recursive call */
          _elseenqs = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_boolean tmp37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta31 = MMC_CAR(tmp4_1);
          tmpMeta32 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta31,8,3) == 0) goto tmp3_end;
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta31), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta33,6,2) == 0) goto tmp3_end;
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta33), 2));
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta31), 3));
          tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta31), 4));
          _cr = tmpMeta34;
          _e = tmpMeta35;
          _source = tmpMeta36;
          _rest = tmpMeta32;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(!omc_BaseHashTable_hasKey(threadData, _cr, _iHt))) goto tmp3_end;
          /* Pattern-matching assignment */
          tmp37 = omc_Expression_expHasCrefNoPreorDer(threadData, _e, _cr);
          if (0 /* false */ != tmp37) goto goto_2;

          tmpMeta38 = mmc_mk_box2(0, _e, _source);
          tmpMeta39 = mmc_mk_box2(0, _cr, tmpMeta38);
          _ht = omc_BaseHashTable_add(threadData, tmpMeta39, _iHt);
          /* Tail recursive call */
          _elseenqs = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_boolean tmp46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta40 = MMC_CAR(tmp4_1);
          tmpMeta41 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta40,5,4) == 0) goto tmp3_end;
          tmpMeta42 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta40), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta42,6,2) == 0) goto tmp3_end;
          tmpMeta43 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta42), 2));
          tmpMeta44 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta40), 4));
          tmpMeta45 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta40), 5));
          _cr = tmpMeta43;
          _e = tmpMeta44;
          _source = tmpMeta45;
          _rest = tmpMeta41;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(!omc_BaseHashTable_hasKey(threadData, _cr, _iHt))) goto tmp3_end;
          /* Pattern-matching assignment */
          tmp46 = omc_Expression_expHasCrefNoPreorDer(threadData, _e, _cr);
          if (0 /* false */ != tmp46) goto goto_2;

          tmpMeta47 = mmc_mk_box2(0, _e, _source);
          tmpMeta48 = mmc_mk_box2(0, _cr, tmpMeta47);
          _ht = omc_BaseHashTable_add(threadData, tmpMeta48, _iHt);
          /* Tail recursive call */
          _elseenqs = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta49 = MMC_CAR(tmp4_1);
          tmpMeta50 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta49,13,4) == 0) goto tmp3_end;
          tmpMeta51 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta49), 2));
          tmpMeta52 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta49), 3));
          tmpMeta53 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta49), 4));
          
          _expl = tmpMeta51;
          _eqnslst = tmpMeta52;
          _eqns = tmpMeta53;
          _rest = tmpMeta50;
          /* Pattern matching succeeded */
          _ht = omc_BackendDAECreate_lowerWhenIfEqnsElse(threadData, _eqns, _functionTree, _iHt);

          _ht = omc_BackendDAECreate_lowerWhenIfEqns(threadData, listReverse(_expl), listReverse(_eqnslst), _functionTree, _ht);
          /* Tail recursive call */
          _elseenqs = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oHt = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _oHt;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenIfEqnsMergeNestedIf(threadData_t *threadData, modelica_metatype _crexplst, modelica_metatype _inCond, modelica_metatype _iSource, modelica_metatype _iHt)
{
  modelica_metatype _oHt = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oHt has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _crexplst;
    {
      modelica_metatype _cr = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _exp = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _ht = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cr has no default value.
      // _e has no default value.
      // _exp has no default value.
      // _source has no default value.
      // _rest has no default value.
      // _ht has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _iHt;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 1));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          _cr = tmpMeta8;
          _e = tmpMeta10;
          _source = tmpMeta11;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta12 = omc_BaseHashTable_get(threadData, _cr, _iHt);
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 1));
          _exp = tmpMeta13;

          tmpMeta14 = mmc_mk_box4(15, &DAE_Exp_IFEXP__desc, _inCond, _e, _exp);
          _exp = tmpMeta14;

          _source = omc_ElementSource_mergeSources(threadData, _iSource, _source);

          tmpMeta15 = mmc_mk_box2(0, _exp, _source);
          tmpMeta16 = mmc_mk_box2(0, _cr, tmpMeta15);
          _ht = omc_BaseHashTable_add(threadData, tmpMeta16, _iHt);
          /* Tail recursive call */
          _crexplst = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oHt = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _oHt;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenIfEqns1(threadData_t *threadData, modelica_metatype _condition, modelica_metatype _brancheqns, modelica_metatype _functionTree, modelica_metatype _iHt)
{
  modelica_metatype _oHt = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oHt has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _brancheqns;
    {
      modelica_metatype _cr = NULL;
      modelica_metatype _cr2 = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _exp = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _source1 = NULL;
      modelica_metatype _ht = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _eqnslst = NULL;
      modelica_metatype _expl = NULL;
      modelica_metatype _crexplst = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cr has no default value.
      // _cr2 has no default value.
      // _e has no default value.
      // _exp has no default value.
      // _source has no default value.
      // _source1 has no default value.
      // _ht has no default value.
      // _rest has no default value.
      // _eqns has no default value.
      // _eqnslst has no default value.
      // _expl has no default value.
      // _crexplst has no default value.
      tmp4 = 0;
      for (; tmp4 < 7; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _iHt;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,4,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          _cr = tmpMeta8;
          _cr2 = tmpMeta9;
          _source = tmpMeta10;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _e = omc_Expression_crefExp(threadData, _cr2);

          /* Pattern-matching assignment */
          tmp11 = omc_Expression_expHasCrefNoPreorDer(threadData, _e, _cr);
          if (0 /* false */ != tmp11) goto goto_2;

          /* Pattern-matching assignment */
          tmpMeta12 = omc_BaseHashTable_get(threadData, _cr, _iHt);
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 1));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 2));
          _exp = tmpMeta13;
          _source1 = tmpMeta14;

          tmpMeta15 = mmc_mk_box4(15, &DAE_Exp_IFEXP__desc, _condition, _e, _exp);
          _exp = tmpMeta15;

          _source = omc_ElementSource_mergeSources(threadData, _source, _source1);

          tmpMeta16 = mmc_mk_box2(0, _exp, _source);
          tmpMeta17 = mmc_mk_box2(0, _cr, tmpMeta16);
          _ht = omc_BaseHashTable_add(threadData, tmpMeta17, _iHt);
          /* Tail recursive call */
          _brancheqns = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_boolean tmp23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta18 = MMC_CAR(tmp4_1);
          tmpMeta19 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta18,1,3) == 0) goto tmp3_end;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 2));
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 3));
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 4));
          _cr = tmpMeta20;
          _e = tmpMeta21;
          _source = tmpMeta22;
          _rest = tmpMeta19;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp23 = omc_Expression_expHasCrefNoPreorDer(threadData, _e, _cr);
          if (0 /* false */ != tmp23) goto goto_2;

          /* Pattern-matching assignment */
          tmpMeta24 = omc_BaseHashTable_get(threadData, _cr, _iHt);
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta24), 1));
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta24), 2));
          _exp = tmpMeta25;
          _source1 = tmpMeta26;

          tmpMeta27 = mmc_mk_box4(15, &DAE_Exp_IFEXP__desc, _condition, _e, _exp);
          _exp = tmpMeta27;

          _source = omc_ElementSource_mergeSources(threadData, _source, _source1);

          tmpMeta28 = mmc_mk_box2(0, _exp, _source);
          tmpMeta29 = mmc_mk_box2(0, _cr, tmpMeta28);
          _ht = omc_BaseHashTable_add(threadData, tmpMeta29, _iHt);
          /* Tail recursive call */
          _brancheqns = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_boolean tmp36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta30 = MMC_CAR(tmp4_1);
          tmpMeta31 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta30,3,3) == 0) goto tmp3_end;
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta30), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta32,6,2) == 0) goto tmp3_end;
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta32), 2));
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta30), 3));
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta30), 4));
          _cr = tmpMeta33;
          _e = tmpMeta34;
          _source = tmpMeta35;
          _rest = tmpMeta31;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp36 = omc_Expression_expHasCrefNoPreorDer(threadData, _e, _cr);
          if (0 /* false */ != tmp36) goto goto_2;

          /* Pattern-matching assignment */
          tmpMeta37 = omc_BaseHashTable_get(threadData, _cr, _iHt);
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta37), 1));
          tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta37), 2));
          _exp = tmpMeta38;
          _source1 = tmpMeta39;

          tmpMeta40 = mmc_mk_box4(15, &DAE_Exp_IFEXP__desc, _condition, _e, _exp);
          _exp = tmpMeta40;

          _source = omc_ElementSource_mergeSources(threadData, _source, _source1);

          tmpMeta41 = mmc_mk_box2(0, _exp, _source);
          tmpMeta42 = mmc_mk_box2(0, _cr, tmpMeta41);
          _ht = omc_BaseHashTable_add(threadData, tmpMeta42, _iHt);
          /* Tail recursive call */
          _brancheqns = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_boolean tmp49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta43 = MMC_CAR(tmp4_1);
          tmpMeta44 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta43,8,3) == 0) goto tmp3_end;
          tmpMeta45 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta43), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta45,6,2) == 0) goto tmp3_end;
          tmpMeta46 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta45), 2));
          tmpMeta47 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta43), 3));
          tmpMeta48 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta43), 4));
          _cr = tmpMeta46;
          _e = tmpMeta47;
          _source = tmpMeta48;
          _rest = tmpMeta44;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp49 = omc_Expression_expHasCrefNoPreorDer(threadData, _e, _cr);
          if (0 /* false */ != tmp49) goto goto_2;

          /* Pattern-matching assignment */
          tmpMeta50 = omc_BaseHashTable_get(threadData, _cr, _iHt);
          tmpMeta51 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta50), 1));
          tmpMeta52 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta50), 2));
          _exp = tmpMeta51;
          _source1 = tmpMeta52;

          tmpMeta53 = mmc_mk_box4(15, &DAE_Exp_IFEXP__desc, _condition, _e, _exp);
          _exp = tmpMeta53;

          _source = omc_ElementSource_mergeSources(threadData, _source, _source1);

          tmpMeta54 = mmc_mk_box2(0, _exp, _source);
          tmpMeta55 = mmc_mk_box2(0, _cr, tmpMeta54);
          _ht = omc_BaseHashTable_add(threadData, tmpMeta55, _iHt);
          /* Tail recursive call */
          _brancheqns = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta56;
          modelica_metatype tmpMeta57;
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_boolean tmp62;
          modelica_metatype tmpMeta63;
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          modelica_metatype tmpMeta66;
          modelica_metatype tmpMeta67;
          modelica_metatype tmpMeta68;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta56 = MMC_CAR(tmp4_1);
          tmpMeta57 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta56,5,4) == 0) goto tmp3_end;
          tmpMeta58 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta56), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta58,6,2) == 0) goto tmp3_end;
          tmpMeta59 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta58), 2));
          tmpMeta60 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta56), 4));
          tmpMeta61 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta56), 5));
          _cr = tmpMeta59;
          _e = tmpMeta60;
          _source = tmpMeta61;
          _rest = tmpMeta57;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp62 = omc_Expression_expHasCrefNoPreorDer(threadData, _e, _cr);
          if (0 /* false */ != tmp62) goto goto_2;

          /* Pattern-matching assignment */
          tmpMeta63 = omc_BaseHashTable_get(threadData, _cr, _iHt);
          tmpMeta64 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta63), 1));
          tmpMeta65 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta63), 2));
          _exp = tmpMeta64;
          _source1 = tmpMeta65;

          tmpMeta66 = mmc_mk_box4(15, &DAE_Exp_IFEXP__desc, _condition, _e, _exp);
          _exp = tmpMeta66;

          _source = omc_ElementSource_mergeSources(threadData, _source, _source1);

          tmpMeta67 = mmc_mk_box2(0, _exp, _source);
          tmpMeta68 = mmc_mk_box2(0, _cr, tmpMeta67);
          _ht = omc_BaseHashTable_add(threadData, tmpMeta68, _iHt);
          /* Tail recursive call */
          _brancheqns = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta69;
          modelica_metatype tmpMeta70;
          modelica_metatype tmpMeta71;
          modelica_metatype tmpMeta72;
          modelica_metatype tmpMeta73;
          modelica_metatype tmpMeta74;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta69 = MMC_CAR(tmp4_1);
          tmpMeta70 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta69,13,4) == 0) goto tmp3_end;
          tmpMeta71 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta69), 2));
          tmpMeta72 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta69), 3));
          tmpMeta73 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta69), 4));
          tmpMeta74 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta69), 5));
          _expl = tmpMeta71;
          _eqnslst = tmpMeta72;
          _eqns = tmpMeta73;
          _source = tmpMeta74;
          _rest = tmpMeta70;
          /* Pattern matching succeeded */
          _ht = omc_HashTableCrToExpSourceTpl_emptyHashTable(threadData);

          _ht = omc_BackendDAECreate_lowerWhenIfEqnsElse(threadData, _eqns, _functionTree, _ht);

          _ht = omc_BackendDAECreate_lowerWhenIfEqns(threadData, listReverse(_expl), listReverse(_eqnslst), _functionTree, _ht);

          _crexplst = omc_BaseHashTable_hashTableList(threadData, _ht);

          _ht = omc_BackendDAECreate_lowerWhenIfEqnsMergeNestedIf(threadData, _crexplst, _condition, _source, _iHt);
          /* Tail recursive call */
          _brancheqns = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oHt = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _oHt;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenIfEqns(threadData_t *threadData, modelica_metatype _conditions, modelica_metatype _theneqns, modelica_metatype _functionTree, modelica_metatype _iHt)
{
  modelica_metatype _oHt = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oHt has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _conditions;
    tmp4_2 = _theneqns;
    {
      modelica_metatype _ht = NULL;
      modelica_metatype _c = NULL;
      modelica_metatype _explst = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _ht has no default value.
      // _c has no default value.
      // _explst has no default value.
      // _eqns has no default value.
      // _rest has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _iHt;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmp4_2);
          tmpMeta9 = MMC_CDR(tmp4_2);
          _c = tmpMeta6;
          _explst = tmpMeta7;
          _eqns = tmpMeta8;
          _rest = tmpMeta9;
          /* Pattern matching succeeded */
          _ht = omc_BackendDAECreate_lowerWhenIfEqns1(threadData, _c, _eqns, _functionTree, _iHt);
          /* Tail recursive call */
          _conditions = _explst;
          _theneqns = _rest;
          _iHt = _ht;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oHt = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _oHt;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenIfEqns2(threadData_t *threadData, modelica_metatype _crexplst, modelica_metatype _inCond, modelica_metatype _iSource, modelica_metatype _inEqns)
{
  modelica_metatype _outEqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqns has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _crexplst;
    {
      modelica_metatype _cr = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _rest = NULL;
      modelica_integer _size;
      modelica_metatype _whenEq = NULL;
      modelica_metatype _whenOp = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cr has no default value.
      // _e has no default value.
      // _source has no default value.
      // _rest has no default value.
      // _size has no default value.
      // _whenEq has no default value.
      // _whenOp has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inEqns;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 1));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          _cr = tmpMeta8;
          _e = tmpMeta10;
          _source = tmpMeta11;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _source = omc_ElementSource_mergeSources(threadData, _iSource, _source);

          _size = omc_Expression_sizeOf(threadData, omc_Expression_typeof(threadData, _e));

          tmpMeta12 = mmc_mk_box4(3, &BackendDAE_WhenOperator_ASSIGN__desc, omc_Expression_crefExp(threadData, _cr), _e, _source);
          _whenOp = tmpMeta12;

          tmpMeta13 = mmc_mk_cons(_whenOp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta14 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta13, mmc_mk_none());
          _whenEq = tmpMeta14;
          tmpMeta16 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(_size), _whenEq, _source, _OMC_LIT49);
          tmpMeta15 = mmc_mk_cons(tmpMeta16, _inEqns);
          /* Tail recursive call */
          _crexplst = _rest;
          _inEqns = tmpMeta15;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenTupleEqn(threadData_t *threadData, modelica_metatype _explst, modelica_metatype _inCond, modelica_metatype _e, modelica_metatype _source, modelica_integer _i, modelica_metatype _iEquationLst)
{
  modelica_metatype _outEquationLst = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEquationLst has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _explst;
    {
      modelica_metatype _cr = NULL;
      modelica_metatype _rest = NULL;
      modelica_integer _size;
      modelica_metatype _ty = NULL;
      modelica_metatype _whenEq = NULL;
      modelica_metatype _whenOp = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cr has no default value.
      // _rest has no default value.
      // _size has no default value.
      // _ty has no default value.
      // _whenEq has no default value.
      // _whenOp has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _iEquationLst;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,6,2) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          _cr = tmpMeta8;
          _ty = tmpMeta9;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _size = omc_Expression_sizeOf(threadData, _ty);

          tmpMeta10 = mmc_mk_box4(25, &DAE_Exp_TSUB__desc, _e, mmc_mk_integer(_i), _ty);
          tmpMeta11 = mmc_mk_box4(3, &BackendDAE_WhenOperator_ASSIGN__desc, omc_Expression_crefExp(threadData, _cr), tmpMeta10, _source);
          _whenOp = tmpMeta11;

          tmpMeta12 = mmc_mk_cons(_whenOp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta13 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta12, mmc_mk_none());
          _whenEq = tmpMeta13;
          tmpMeta16 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(_size), _whenEq, _source, _OMC_LIT49);
          tmpMeta15 = mmc_mk_cons(tmpMeta16, _iEquationLst);
          /* Tail recursive call */
          _explst = _rest;
          tmpMeta14 = _source;
          _i = ((modelica_integer) 1) + _i;
          _iEquationLst = tmpMeta15;
          _source = tmpMeta14;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEquationLst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEquationLst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_lowerWhenTupleEqn(threadData_t *threadData, modelica_metatype _explst, modelica_metatype _inCond, modelica_metatype _e, modelica_metatype _source, modelica_metatype _i, modelica_metatype _iEquationLst)
{
  modelica_integer tmp1;
  modelica_metatype _outEquationLst = NULL;
  tmp1 = mmc_unbox_integer(_i);
  _outEquationLst = omc_BackendDAECreate_lowerWhenTupleEqn(threadData, _explst, _inCond, _e, _source, tmp1, _iEquationLst);
  /* skip box _outEquationLst; list<BackendDAE.Equation> */
  return _outEquationLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenEqn2(threadData_t *threadData, modelica_metatype _inDAEElementLst, modelica_metatype _inCond, modelica_metatype _functionTree, modelica_metatype _iEquationLst, modelica_metatype _iREquationLst, modelica_metatype _inVar_lst, modelica_metatype *out_outREquationLst, modelica_metatype *out_outVar_lst)
{
  modelica_metatype _outEquationLst = NULL;
  modelica_metatype _outREquationLst = NULL;
  modelica_metatype _outVar_lst = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEquationLst has no default value.
  // _outREquationLst has no default value.
  _outVar_lst = _inVar_lst;
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inDAEElementLst;
    {
      modelica_integer _size;
      modelica_metatype _eqnl = NULL;
      modelica_metatype _reqnl = NULL;
      modelica_metatype _cre = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _lhs = NULL;
      modelica_metatype _cond = NULL;
      modelica_metatype _level = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _cr2 = NULL;
      modelica_metatype _xs = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _el = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _ds = NULL;
      modelica_metatype _ty = NULL;
      modelica_metatype _expl = NULL;
      modelica_metatype _eqnslst = NULL;
      modelica_metatype _ht = NULL;
      modelica_metatype _crexplst = NULL;
      modelica_metatype _eq = NULL;
      modelica_metatype _whenEq = NULL;
      modelica_metatype _whenOp = NULL;
      modelica_metatype _var_opt = NULL;
      modelica_metatype _vars = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _size has no default value.
      // _eqnl has no default value.
      // _reqnl has no default value.
      // _cre has no default value.
      // _e has no default value.
      // _lhs has no default value.
      // _cond has no default value.
      // _level has no default value.
      // _cr has no default value.
      // _cr2 has no default value.
      // _xs has no default value.
      // _eqns has no default value.
      // _el has no default value.
      // _source has no default value.
      // _ds has no default value.
      // _ty has no default value.
      // _expl has no default value.
      // _eqnslst has no default value.
      // _ht has no default value.
      // _crexplst has no default value.
      // _eq has no default value.
      // _whenEq has no default value.
      // _whenOp has no default value.
      // _var_opt has no default value.
      // _vars has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 17; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 16; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = _iEquationLst;
          tmpMeta[0+1] = _iREquationLst;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,4,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          _cr = tmpMeta8;
          _cr2 = tmpMeta9;
          _source = tmpMeta10;
          _xs = tmpMeta7;
          tmp4 += 13; /* Pattern matching succeeded; we may skip some cases if we fail */
          _e = omc_Expression_crefExp(threadData, _cr2);

          tmpMeta11 = mmc_mk_box4(3, &BackendDAE_WhenOperator_ASSIGN__desc, omc_Expression_crefExp(threadData, _cr), _e, _source);
          _whenOp = tmpMeta11;

          tmpMeta12 = mmc_mk_cons(_whenOp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta13 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta12, mmc_mk_none());
          _whenEq = tmpMeta13;

          tmpMeta14 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(((modelica_integer) 1)), _whenEq, _source, _OMC_LIT49);
          _eq = tmpMeta14;

          tmpMeta15 = mmc_mk_cons(_eq, _iEquationLst);
          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, tmpMeta15, _iREquationLst, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta16 = MMC_CAR(tmp4_1);
          tmpMeta17 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta16,1,3) == 0) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta16), 2));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta16), 3));
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta16), 4));
          _cr = tmpMeta18;
          _e = tmpMeta19;
          _source = tmpMeta20;
          _xs = tmpMeta17;
          tmp4 += 12; /* Pattern matching succeeded; we may skip some cases if we fail */
          _e = omc_ExpressionSolve_solve(threadData, omc_Expression_crefExp(threadData, _cr), _e, omc_Expression_crefExp(threadData, _cr), mmc_mk_none(), NULL);

          /* Pattern-matching tuple assignment */
          tmpMeta22 = mmc_mk_box2(3, &DAE_EquationExp_PARTIAL__EQUATION__desc, _e);
          tmpMeta23 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta22, _source, &tmpMeta21);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta23,0,1) == 0) goto goto_2;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 2));
          _e = tmpMeta24;
          _source = tmpMeta21;

          tmpMeta25 = mmc_mk_box4(3, &BackendDAE_WhenOperator_ASSIGN__desc, omc_Expression_crefExp(threadData, _cr), _e, _source);
          _whenOp = tmpMeta25;

          tmpMeta26 = mmc_mk_cons(_whenOp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta27 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta26, mmc_mk_none());
          _whenEq = tmpMeta27;

          tmpMeta28 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(((modelica_integer) 1)), _whenEq, _source, _OMC_LIT49);
          _eq = tmpMeta28;

          tmpMeta29 = mmc_mk_cons(_eq, _iEquationLst);
          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, tmpMeta29, _iREquationLst, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta30 = MMC_CAR(tmp4_1);
          tmpMeta31 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta30,3,3) == 0) goto tmp3_end;
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta30), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta32,19,1) == 0) goto tmp3_end;
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta30), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta33,13,3) == 0) goto tmp3_end;
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta30), 4));
          _lhs = tmpMeta32;
          _e = tmpMeta33;
          _source = tmpMeta34;
          _xs = tmpMeta31;
          /* Pattern matching succeeded */
          _ty = omc_Expression_typeof(threadData, _lhs);

          _size = omc_Expression_sizeOf(threadData, _ty);

          tmpMeta36 = mmc_mk_box4(3, &BackendDAE_WhenOperator_ASSIGN__desc, _lhs, _e, _source);
          tmpMeta35 = mmc_mk_cons(tmpMeta36, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta37 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta35, mmc_mk_none());
          tmpMeta38 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(_size), tmpMeta37, _source, _OMC_LIT49);
          _eq = tmpMeta38;

          tmpMeta39 = mmc_mk_cons(_eq, _iEquationLst);
          _eqnl = tmpMeta39;

          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, _eqnl, _iREquationLst, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta40 = MMC_CAR(tmp4_1);
          tmpMeta41 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta40,3,3) == 0) goto tmp3_end;
          tmpMeta42 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta40), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta42,19,1) == 0) goto tmp3_end;
          tmpMeta43 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta42), 2));
          tmpMeta44 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta40), 3));
          tmpMeta45 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta40), 4));
          _expl = tmpMeta43;
          _e = tmpMeta44;
          _source = tmpMeta45;
          _xs = tmpMeta41;
          tmp4 += 10; /* Pattern matching succeeded; we may skip some cases if we fail */
          _eqnl = omc_BackendDAECreate_lowerWhenTupleEqn(threadData, _expl, _inCond, _e, _source, ((modelica_integer) 1), _iEquationLst);

          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, _eqnl, _iREquationLst, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta57;
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          modelica_metatype tmpMeta63;
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta46 = MMC_CAR(tmp4_1);
          tmpMeta47 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta46,3,3) == 0) goto tmp3_end;
          tmpMeta48 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta46), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta48,6,2) == 0) goto tmp3_end;
          tmpMeta49 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta46), 3));
          tmpMeta50 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta46), 4));
          _el = tmpMeta46;
          _cre = tmpMeta48;
          _e = tmpMeta49;
          _source = tmpMeta50;
          _xs = tmpMeta47;
          tmp4 += 9; /* Pattern matching succeeded; we may skip some cases if we fail */
          { /* matchcontinue expression */
            {
              volatile mmc_switch_type tmp53;
              int tmp54;
              tmp53 = 0;
              MMC_TRY_INTERNAL(mmc_jumper)
              tmp52_top:
              threadData->mmc_jumper = &new_mmc_jumper;
              for (; tmp53 < 2; tmp53++) {
                switch (MMC_SWITCH_CAST(tmp53)) {
                case 0: {
                  /* Pattern matching succeeded */
                  _e = omc_ExpressionSolve_solve(threadData, _cre, _e, _cre, mmc_mk_none(), NULL);
                  goto tmp52_done;
                }
                case 1: {
                  modelica_metatype tmpMeta55;
                  modelica_metatype tmpMeta56;
                  /* Pattern matching succeeded */
                  tmpMeta55 = mmc_mk_cons(_el, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta56 = stringAppend(_OMC_LIT60,omc_DAEDump_dumpElementsStr(threadData, tmpMeta55));
                  omc_Error_addCompilerError(threadData, tmpMeta56);

                  goto goto_51;
                  goto tmp52_done;
                }
                }
                goto tmp52_end;
                tmp52_end: ;
              }
              goto goto_51;
              tmp52_done:
              (void)tmp53;
              MMC_RESTORE_INTERNAL(mmc_jumper);
              goto tmp52_done2;
              goto_51:;
              MMC_CATCH_INTERNAL(mmc_jumper);
              if (++tmp53 < 2) {
                goto tmp52_top;
              }
              goto goto_2;
              tmp52_done2:;
            }
          }
          ;

          /* Pattern-matching tuple assignment */
          tmpMeta58 = mmc_mk_box2(3, &DAE_EquationExp_PARTIAL__EQUATION__desc, _e);
          tmpMeta59 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta58, _source, &tmpMeta57);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta59,0,1) == 0) goto goto_2;
          tmpMeta60 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta59), 2));
          _e = tmpMeta60;
          _source = tmpMeta57;

          tmpMeta61 = mmc_mk_box4(3, &BackendDAE_WhenOperator_ASSIGN__desc, _cre, _e, _source);
          _whenOp = tmpMeta61;

          tmpMeta62 = mmc_mk_cons(_whenOp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta63 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta62, mmc_mk_none());
          _whenEq = tmpMeta63;

          tmpMeta64 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(((modelica_integer) 1)), _whenEq, _source, _OMC_LIT49);
          _eq = tmpMeta64;

          tmpMeta65 = mmc_mk_cons(_eq, _iEquationLst);
          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, tmpMeta65, _iREquationLst, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta66;
          modelica_metatype tmpMeta67;
          modelica_metatype tmpMeta68;
          modelica_metatype tmpMeta69;
          modelica_metatype tmpMeta70;
          modelica_metatype tmpMeta71;
          modelica_metatype tmpMeta72;
          modelica_metatype tmpMeta73;
          modelica_metatype tmpMeta74;
          modelica_metatype tmpMeta75;
          modelica_metatype tmpMeta76;
          modelica_metatype tmpMeta77;
          modelica_metatype tmpMeta78;
          modelica_metatype tmpMeta79;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta66 = MMC_CAR(tmp4_1);
          tmpMeta67 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta66,8,3) == 0) goto tmp3_end;
          tmpMeta68 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta66), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta68,6,2) == 0) goto tmp3_end;
          tmpMeta69 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta66), 3));
          tmpMeta70 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta66), 4));
          _cre = tmpMeta68;
          _e = tmpMeta69;
          _source = tmpMeta70;
          _xs = tmpMeta67;
          tmp4 += 8; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching tuple assignment */
          tmpMeta72 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _cre, _e);
          tmpMeta73 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta72, _source, &tmpMeta71);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta73,2,2) == 0) goto goto_2;
          tmpMeta74 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta73), 3));
          _e = tmpMeta74;
          _source = tmpMeta71;

          _size = omc_Expression_sizeOf(threadData, omc_Expression_typeof(threadData, _cre));

          tmpMeta75 = mmc_mk_box4(3, &BackendDAE_WhenOperator_ASSIGN__desc, _cre, _e, _source);
          _whenOp = tmpMeta75;

          tmpMeta76 = mmc_mk_cons(_whenOp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta77 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta76, mmc_mk_none());
          _whenEq = tmpMeta77;

          tmpMeta78 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(_size), _whenEq, _source, _OMC_LIT49);
          _eq = tmpMeta78;

          tmpMeta79 = mmc_mk_cons(_eq, _iEquationLst);
          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, tmpMeta79, _iREquationLst, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta80;
          modelica_metatype tmpMeta81;
          modelica_metatype tmpMeta82;
          modelica_metatype tmpMeta83;
          modelica_metatype tmpMeta84;
          modelica_metatype tmpMeta85;
          modelica_metatype tmpMeta86;
          modelica_metatype tmpMeta87;
          modelica_metatype tmpMeta88;
          modelica_metatype tmpMeta89;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta80 = MMC_CAR(tmp4_1);
          tmpMeta81 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta80,8,3) == 0) goto tmp3_end;
          tmpMeta82 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta80), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta82,19,1) == 0) goto tmp3_end;
          tmpMeta83 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta82), 2));
          tmpMeta84 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta80), 3));
          tmpMeta85 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta80), 4));
          _cre = tmpMeta82;
          _expl = tmpMeta83;
          _e = tmpMeta84;
          _source = tmpMeta85;
          _xs = tmpMeta81;
          tmp4 += 7; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching tuple assignment */
          tmpMeta87 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _cre, _e);
          tmpMeta88 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta87, _source, &tmpMeta86);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta88,2,2) == 0) goto goto_2;
          tmpMeta89 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta88), 3));
          _e = tmpMeta89;
          _source = tmpMeta86;

          _eqnl = omc_BackendDAECreate_lowerWhenTupleEqn(threadData, _expl, _inCond, _e, _source, ((modelica_integer) 1), _iEquationLst);

          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, _eqnl, _iREquationLst, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta90;
          modelica_metatype tmpMeta91;
          modelica_metatype tmpMeta92;
          modelica_metatype tmpMeta93;
          modelica_metatype tmpMeta94;
          modelica_metatype tmpMeta95;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta90 = MMC_CAR(tmp4_1);
          tmpMeta91 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta90,13,4) == 0) goto tmp3_end;
          tmpMeta92 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta90), 2));
          tmpMeta93 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta90), 3));
          tmpMeta94 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta90), 4));
          tmpMeta95 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta90), 5));
          _expl = tmpMeta92;
          _eqnslst = tmpMeta93;
          _eqns = tmpMeta94;
          _source = tmpMeta95;
          _xs = tmpMeta91;
          tmp4 += 6; /* Pattern matching succeeded; we may skip some cases if we fail */
          _ht = omc_HashTableCrToExpSourceTpl_emptyHashTable(threadData);

          _ht = omc_BackendDAECreate_lowerWhenIfEqnsElse(threadData, _eqns, _functionTree, _ht);

          _ht = omc_BackendDAECreate_lowerWhenIfEqns(threadData, listReverse(_expl), listReverse(_eqnslst), _functionTree, _ht);

          _crexplst = omc_BaseHashTable_hashTableList(threadData, _ht);

          _eqnl = omc_BackendDAECreate_lowerWhenIfEqns2(threadData, _crexplst, _inCond, _source, _iEquationLst);

          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, _eqnl, _iREquationLst, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta96;
          modelica_metatype tmpMeta97;
          modelica_metatype tmpMeta98;
          modelica_metatype tmpMeta99;
          modelica_metatype tmpMeta100;
          modelica_metatype tmpMeta101;
          modelica_metatype tmpMeta102;
          modelica_metatype tmpMeta103;
          modelica_metatype tmpMeta104;
          modelica_metatype tmpMeta105;
          modelica_metatype tmpMeta106;
          modelica_metatype tmpMeta107;
          modelica_metatype tmpMeta108;
          modelica_metatype tmpMeta109;
          modelica_metatype tmpMeta110;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta96 = MMC_CAR(tmp4_1);
          tmpMeta97 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta96,5,4) == 0) goto tmp3_end;
          tmpMeta98 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta96), 2));
          tmpMeta99 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta96), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta99,6,2) == 0) goto tmp3_end;
          tmpMeta100 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta96), 4));
          tmpMeta101 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta96), 5));
          _ds = tmpMeta98;
          _cre = tmpMeta99;
          _e = tmpMeta100;
          _source = tmpMeta101;
          _xs = tmpMeta97;
          tmp4 += 5; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching tuple assignment */
          tmpMeta103 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _cre, _e);
          tmpMeta104 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta103, _source, &tmpMeta102);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta104,2,2) == 0) goto goto_2;
          tmpMeta105 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta104), 3));
          _e = tmpMeta105;
          _source = tmpMeta102;

          _size = mmc_unbox_integer(omc_List_fold(threadData, omc_Expression_dimensionsSizes(threadData, _ds), boxvar_intMul, mmc_mk_integer(((modelica_integer) 1))));

          tmpMeta106 = mmc_mk_box4(3, &BackendDAE_WhenOperator_ASSIGN__desc, _cre, _e, _source);
          _whenOp = tmpMeta106;

          tmpMeta107 = mmc_mk_cons(_whenOp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta108 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta107, mmc_mk_none());
          _whenEq = tmpMeta108;

          tmpMeta109 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(_size), _whenEq, _source, _OMC_LIT49);
          _eq = tmpMeta109;

          tmpMeta110 = mmc_mk_cons(_eq, _iEquationLst);
          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, tmpMeta110, _iREquationLst, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta111;
          modelica_metatype tmpMeta112;
          modelica_metatype tmpMeta113;
          modelica_metatype tmpMeta114;
          modelica_metatype tmpMeta115;
          modelica_metatype tmpMeta116;
          modelica_metatype tmpMeta117;
          modelica_metatype tmpMeta118;
          modelica_metatype tmpMeta119;
          modelica_metatype tmpMeta120;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta111 = MMC_CAR(tmp4_1);
          tmpMeta112 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta111,5,4) == 0) goto tmp3_end;
          tmpMeta113 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta111), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta113,19,1) == 0) goto tmp3_end;
          tmpMeta114 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta113), 2));
          tmpMeta115 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta111), 4));
          tmpMeta116 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta111), 5));
          _cre = tmpMeta113;
          _expl = tmpMeta114;
          _e = tmpMeta115;
          _source = tmpMeta116;
          _xs = tmpMeta112;
          tmp4 += 4; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching tuple assignment */
          tmpMeta118 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _cre, _e);
          tmpMeta119 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta118, _source, &tmpMeta117);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta119,2,2) == 0) goto goto_2;
          tmpMeta120 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta119), 3));
          _e = tmpMeta120;
          _source = tmpMeta117;

          _eqnl = omc_BackendDAECreate_lowerWhenTupleEqn(threadData, _expl, _inCond, _e, _source, ((modelica_integer) 1), _iEquationLst);

          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, _eqnl, _iREquationLst, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta121;
          modelica_metatype tmpMeta122;
          modelica_metatype tmpMeta123;
          modelica_metatype tmpMeta124;
          modelica_metatype tmpMeta125;
          modelica_metatype tmpMeta126;
          modelica_metatype tmpMeta127;
          modelica_metatype tmpMeta128;
          modelica_metatype tmpMeta129;
          modelica_metatype tmpMeta130;
          modelica_metatype tmpMeta131;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta121 = MMC_CAR(tmp4_1);
          tmpMeta122 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta121,20,4) == 0) goto tmp3_end;
          tmpMeta123 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta121), 2));
          tmpMeta124 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta121), 3));
          tmpMeta125 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta121), 4));
          tmpMeta126 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta121), 5));
          _cond = tmpMeta123;
          _e = tmpMeta124;
          _level = tmpMeta125;
          _source = tmpMeta126;
          _xs = tmpMeta122;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta127 = mmc_mk_box5(5, &BackendDAE_WhenOperator_ASSERT__desc, _cond, _e, _level, _source);
          _whenOp = tmpMeta127;

          tmpMeta128 = mmc_mk_cons(_whenOp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta129 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta128, mmc_mk_none());
          _whenEq = tmpMeta129;

          tmpMeta130 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(((modelica_integer) 0)), _whenEq, _source, _OMC_LIT49);
          _eq = tmpMeta130;

          tmpMeta131 = mmc_mk_cons(_eq, _iREquationLst);
          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, _iEquationLst, tmpMeta131, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 12: {
          modelica_metatype tmpMeta132;
          modelica_metatype tmpMeta133;
          modelica_metatype tmpMeta134;
          modelica_metatype tmpMeta135;
          modelica_metatype tmpMeta136;
          modelica_metatype tmpMeta137;
          modelica_metatype tmpMeta138;
          modelica_metatype tmpMeta139;
          modelica_metatype tmpMeta140;
          modelica_metatype tmpMeta141;
          modelica_metatype tmpMeta142;
          modelica_metatype tmpMeta143;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta132 = MMC_CAR(tmp4_1);
          tmpMeta133 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta132,24,3) == 0) goto tmp3_end;
          tmpMeta134 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta132), 2));
          tmpMeta135 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta132), 3));
          tmpMeta136 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta132), 4));
          _cr = tmpMeta134;
          _e = tmpMeta135;
          _source = tmpMeta136;
          _xs = tmpMeta133;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta137 = mmc_mk_box4(4, &BackendDAE_WhenOperator_REINIT__desc, _cr, _e, _source);
          _whenOp = tmpMeta137;

          tmpMeta138 = mmc_mk_cons(_whenOp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta139 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta138, mmc_mk_none());
          _whenEq = tmpMeta139;

          tmpMeta140 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(((modelica_integer) 0)), _whenEq, _source, _OMC_LIT49);
          _eq = tmpMeta140;

          _vars = omc_BackendVariable_listVar(threadData, _outVar_lst);

          _var_opt = omc_BackendVariable_getVarTryHard(threadData, _cr, _vars);

          if(isSome(_var_opt))
          {
            {
              modelica_metatype _var;
              for (tmpMeta141 = omc_Util_getOption(threadData, _var_opt); !listEmpty(tmpMeta141); tmpMeta141=MMC_CDR(tmpMeta141))
              {
                _var = MMC_CAR(tmpMeta141);
                _var = omc_BackendVariable_setVarStateSelect(threadData, _var, _OMC_LIT61);

                _vars = omc_BackendVariable_addVar(threadData, _var, _vars);
              }
            }
          }

          _outVar_lst = omc_BackendVariable_varList(threadData, _vars);

          tmpMeta143 = mmc_mk_cons(_eq, _iREquationLst);
          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, _iEquationLst, tmpMeta143, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 13: {
          modelica_metatype tmpMeta144;
          modelica_metatype tmpMeta145;
          modelica_metatype tmpMeta146;
          modelica_metatype tmpMeta147;
          modelica_metatype tmpMeta148;
          modelica_metatype tmpMeta149;
          modelica_metatype tmpMeta150;
          modelica_metatype tmpMeta151;
          modelica_metatype tmpMeta152;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta144 = MMC_CAR(tmp4_1);
          tmpMeta145 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta144,22,2) == 0) goto tmp3_end;
          tmpMeta146 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta144), 2));
          tmpMeta147 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta144), 3));
          _e = tmpMeta146;
          _source = tmpMeta147;
          _xs = tmpMeta145;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta148 = mmc_mk_box3(6, &BackendDAE_WhenOperator_TERMINATE__desc, _e, _source);
          _whenOp = tmpMeta148;

          tmpMeta149 = mmc_mk_cons(_whenOp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta150 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta149, mmc_mk_none());
          _whenEq = tmpMeta150;

          tmpMeta151 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(((modelica_integer) 0)), _whenEq, _source, _OMC_LIT49);
          _eq = tmpMeta151;

          tmpMeta152 = mmc_mk_cons(_eq, _iREquationLst);
          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, _iEquationLst, tmpMeta152, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 14: {
          modelica_metatype tmpMeta153;
          modelica_metatype tmpMeta154;
          modelica_metatype tmpMeta155;
          modelica_metatype tmpMeta156;
          modelica_metatype tmpMeta157;
          modelica_metatype tmpMeta158;
          modelica_metatype tmpMeta159;
          modelica_metatype tmpMeta160;
          modelica_metatype tmpMeta161;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta153 = MMC_CAR(tmp4_1);
          tmpMeta154 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta153,25,2) == 0) goto tmp3_end;
          tmpMeta155 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta153), 2));
          tmpMeta156 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta153), 3));
          _e = tmpMeta155;
          _source = tmpMeta156;
          _xs = tmpMeta154;
          /* Pattern matching succeeded */
          tmpMeta157 = mmc_mk_box3(7, &BackendDAE_WhenOperator_NORETCALL__desc, _e, _source);
          _whenOp = tmpMeta157;

          tmpMeta158 = mmc_mk_cons(_whenOp, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta159 = mmc_mk_box4(3, &BackendDAE_WhenEquation_WHEN__STMTS__desc, _inCond, tmpMeta158, mmc_mk_none());
          _whenEq = tmpMeta159;

          tmpMeta160 = mmc_mk_box5(8, &BackendDAE_Equation_WHEN__EQUATION__desc, mmc_mk_integer(((modelica_integer) 0)), _whenEq, _source, _OMC_LIT49);
          _eq = tmpMeta160;

          tmpMeta161 = mmc_mk_cons(_eq, _iREquationLst);
          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, _iEquationLst, tmpMeta161, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        case 15: {
          modelica_metatype tmpMeta162;
          modelica_metatype tmpMeta163;
          modelica_boolean tmp164;
          modelica_metatype tmpMeta165;
          modelica_metatype tmpMeta166;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta162 = MMC_CAR(tmp4_1);
          tmpMeta163 = MMC_CDR(tmp4_1);
          _el = tmpMeta162;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp164 = omc_Flags_isSet(threadData, _OMC_LIT65);
          if (1 /* true */ != tmp164) goto goto_2;

          tmpMeta165 = mmc_mk_cons(_el, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta166 = stringAppend(_OMC_LIT66,omc_DAEDump_dumpElementsStr(threadData, tmpMeta165));
          omc_Debug_traceln(threadData, tmpMeta166);
          goto goto_2;
          goto tmp3_done;
        }
        case 16: {
          modelica_metatype tmpMeta167;
          modelica_metatype tmpMeta168;
          modelica_boolean tmp169;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta167 = MMC_CAR(tmp4_1);
          tmpMeta168 = MMC_CDR(tmp4_1);
          _xs = tmpMeta168;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp169 = omc_Flags_getConfigBool(threadData, _OMC_LIT72);
          if (1 /* true */ != tmp169) goto goto_2;

          _eqnl = omc_BackendDAECreate_lowerWhenEqn2(threadData, _xs, _inCond, _functionTree, _iEquationLst, _iREquationLst, _outVar_lst ,&_reqnl ,&_outVar_lst);
          tmpMeta[0+0] = _eqnl;
          tmpMeta[0+1] = _reqnl;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 17) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outEquationLst = tmpMeta[0+0];
  _outREquationLst = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outREquationLst) { *out_outREquationLst = _outREquationLst; }
  if (out_outVar_lst) { *out_outVar_lst = _outVar_lst; }
  return _outEquationLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerWhenEqn(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _inEquationLst, modelica_metatype _inREquationLst, modelica_metatype _inVars, modelica_metatype *out_outREquationLst, modelica_metatype *out_outVars)
{
  modelica_metatype _outEquationLst = NULL;
  modelica_metatype _outREquationLst = NULL;
  modelica_metatype _outVars = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEquationLst has no default value.
  // _outREquationLst has no default value.
  _outVars = _inVars;
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inElement;
    {
      modelica_metatype _res = NULL;
      modelica_metatype _rEqns = NULL;
      modelica_metatype _trueEqnLst = NULL;
      modelica_metatype _trueREqns = NULL;
      modelica_metatype _cond = NULL;
      modelica_metatype _eqnl = NULL;
      modelica_metatype _elsePart = NULL;
      modelica_string _str = NULL;
      modelica_metatype _source = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _res has no default value.
      // _rEqns has no default value.
      // _trueEqnLst has no default value.
      // _trueREqns has no default value.
      // _cond has no default value.
      // _eqnl has no default value.
      // _elsePart has no default value.
      // _str has no default value.
      // _source has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (!optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          _cond = tmpMeta6;
          _eqnl = tmpMeta7;
          _source = tmpMeta9;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching tuple assignment */
          tmpMeta10 = mmc_mk_box2(3, &DAE_EquationExp_PARTIAL__EQUATION__desc, _cond);
          tmpMeta11 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta10, _source, NULL);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,0,1) == 0) goto goto_2;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          _cond = tmpMeta12;

          tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _res = omc_BackendDAECreate_lowerWhenEqn2(threadData, listReverse(_eqnl), _cond, _functionTree, tmpMeta13, tmpMeta14, _outVars ,&_rEqns ,&_outVars);

          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          _res = omc_BackendDAECreate_mergeWhenEqns(threadData, _inEquationLst, _res, tmpMeta15);

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _rEqns = omc_BackendDAECreate_mergeWhenEqns(threadData, _inREquationLst, _rEqns, tmpMeta16);
          tmpMeta[0+0] = _res;
          tmpMeta[0+1] = _rEqns;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta19)) goto tmp3_end;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta19), 1));
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          _cond = tmpMeta17;
          _eqnl = tmpMeta18;
          _elsePart = tmpMeta20;
          _source = tmpMeta21;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta22 = mmc_mk_box2(3, &DAE_EquationExp_PARTIAL__EQUATION__desc, _cond);
          tmpMeta23 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta22, _source, NULL);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta23,0,1) == 0) goto goto_2;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 2));
          _cond = tmpMeta24;

          tmpMeta25 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta26 = MMC_REFSTRUCTLIT(mmc_nil);
          _trueEqnLst = omc_BackendDAECreate_lowerWhenEqn2(threadData, listReverse(_eqnl), _cond, _functionTree, tmpMeta25, tmpMeta26, _outVars ,&_trueREqns ,&_outVars);

          tmpMeta27 = MMC_REFSTRUCTLIT(mmc_nil);
          _res = omc_BackendDAECreate_mergeWhenEqns(threadData, _inEquationLst, _trueEqnLst, tmpMeta27);

          tmpMeta28 = MMC_REFSTRUCTLIT(mmc_nil);
          _rEqns = omc_BackendDAECreate_mergeWhenEqns(threadData, _inREquationLst, _trueREqns, tmpMeta28);

          _res = omc_BackendDAECreate_lowerWhenEqn(threadData, _elsePart, _functionTree, _res, _rEqns, _outVars ,&_rEqns ,&_outVars);
          tmpMeta[0+0] = _res;
          tmpMeta[0+1] = _rEqns;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          
          /* Pattern matching succeeded */
          _source = omc_ElementSource_getElementSource(threadData, _inElement);

          tmpMeta29 = mmc_mk_cons(_inElement, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta30 = stringAppend(_OMC_LIT73,omc_DAEDump_dumpElementsStr(threadData, tmpMeta29));
          _str = tmpMeta30;

          tmpMeta31 = mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addSourceMessage(threadData, _OMC_LIT55, tmpMeta31, omc_ElementSource_getElementSourceFileInfo(threadData, _source));
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outEquationLst = tmpMeta[0+0];
  _outREquationLst = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outREquationLst) { *out_outREquationLst = _outREquationLst; }
  if (out_outVars) { *out_outVars = _outVars; }
  return _outEquationLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_createWhenClock(threadData_t *threadData, modelica_integer _whenClkCnt, modelica_metatype _e, modelica_metatype _inEqs, modelica_metatype _inVars, modelica_metatype *out_outVars, modelica_metatype *out_outEqAttrs)
{
  modelica_metatype _outEqs = NULL;
  modelica_metatype _outVars = NULL;
  modelica_metatype _outEqAttrs = NULL;
  modelica_metatype _eqAttrs = NULL;
  modelica_metatype _cr = NULL;
  modelica_metatype _eq = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqs has no default value.
  // _outVars has no default value.
  // _outEqAttrs has no default value.
  // _eqAttrs has no default value.
  // _cr has no default value.
  // _eq has no default value.
  // _var has no default value.
  tmpMeta1 = stringAppend(_OMC_LIT74,intString(_whenClkCnt));
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta3 = mmc_mk_box4(4, &DAE_ComponentRef_CREF__IDENT__desc, tmpMeta1, _OMC_LIT75, tmpMeta2);
  _cr = tmpMeta3;

  tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta6 = mmc_mk_box19(3, &BackendDAE_Var_VAR__desc, _cr, _OMC_LIT76, _OMC_LIT77, _OMC_LIT78, _OMC_LIT75, mmc_mk_none(), mmc_mk_none(), tmpMeta5, _OMC_LIT83, mmc_mk_none(), _OMC_LIT85, mmc_mk_none(), mmc_mk_none(), _OMC_LIT86, _OMC_LIT87, mmc_mk_boolean(1 /* true */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */));
  tmpMeta4 = mmc_mk_cons(tmpMeta6, _inVars);
  _outVars = tmpMeta4;

  tmpMeta8 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _OMC_LIT75);
  tmpMeta9 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, tmpMeta8, _e, _OMC_LIT83, _OMC_LIT49);
  tmpMeta7 = mmc_mk_cons(tmpMeta9, _inEqs);
  _outEqs = tmpMeta7;

  _outEqAttrs = omc_BackendEquation_defaultClockedEqAttr(threadData, _whenClkCnt);
  _return: OMC_LABEL_UNUSED
  if (out_outVars) { *out_outVars = _outVars; }
  if (out_outEqAttrs) { *out_outEqAttrs = _outEqAttrs; }
  return _outEqs;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_createWhenClock(threadData_t *threadData, modelica_metatype _whenClkCnt, modelica_metatype _e, modelica_metatype _inEqs, modelica_metatype _inVars, modelica_metatype *out_outVars, modelica_metatype *out_outEqAttrs)
{
  modelica_integer tmp1;
  modelica_metatype _outEqs = NULL;
  tmp1 = mmc_unbox_integer(_whenClkCnt);
  _outEqs = omc_BackendDAECreate_createWhenClock(threadData, tmp1, _e, _inEqs, _inVars, out_outVars, out_outEqAttrs);
  /* skip box _outEqs; list<BackendDAE.Equation> */
  /* skip box _outVars; list<BackendDAE.Var> */
  /* skip box _outEqAttrs; BackendDAE.EquationAttributes */
  return _outEqs;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_generateEquations(threadData_t *threadData, modelica_metatype _iE1lst, modelica_metatype _iE2lst, modelica_metatype _source, modelica_metatype _inEqAttributes, modelica_metatype _iAcc)
{
  modelica_metatype _oEqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oEqns has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _iE1lst;
    tmp4_2 = _iE2lst;
    {
      modelica_metatype _e1 = NULL;
      modelica_metatype _e2 = NULL;
      modelica_metatype _e1lst = NULL;
      modelica_metatype _e2lst = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _e1 has no default value.
      // _e2 has no default value.
      // _e1lst has no default value.
      // _e2lst has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _iAcc;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmp4_2);
          tmpMeta9 = MMC_CDR(tmp4_2);
          _e1 = tmpMeta6;
          _e1lst = tmpMeta7;
          _e2 = tmpMeta8;
          _e2lst = tmpMeta9;
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _e1, _e2, _source, _inEqAttributes);
          tmpMeta12 = mmc_mk_cons(tmpMeta13, _iAcc);
          /* Tail recursive call */
          _iE1lst = _e1lst;
          _iE2lst = _e2lst;
          tmpMeta10 = _source;
          tmpMeta11 = _inEqAttributes;
          _iAcc = tmpMeta12;
          _source = tmpMeta10;
          _inEqAttributes = tmpMeta11;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oEqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _oEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerArrayEqn(threadData_t *threadData, modelica_metatype _dims, modelica_metatype _e1, modelica_metatype _e2, modelica_metatype _source, modelica_metatype _inEqAttributes, modelica_metatype _iAcc)
{
  modelica_metatype _outEqsLst = NULL;
  modelica_metatype _dimensions = NULL;
  modelica_metatype _ea1 = NULL;
  modelica_metatype _ea2 = NULL;
  modelica_metatype _tp = NULL;
  modelica_integer _recordSize;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqsLst has no default value.
  // _dimensions has no default value.
  // _ea1 has no default value.
  // _ea2 has no default value.
  // _tp has no default value.
  // _recordSize has no default value.
  _tp = omc_Expression_typeof(threadData, _e1);

  _tp = omc_DAEUtil_expTypeElementType(threadData, _tp);

  if(omc_DAEUtil_expTypeComplex(threadData, _tp))
  {
    _recordSize = omc_Expression_sizeOf(threadData, _tp);

    _dimensions = omc_Expression_dimensionsSizes(threadData, _dims);

    tmpMeta2 = mmc_mk_box7(4, &BackendDAE_Equation_ARRAY__EQUATION__desc, _dimensions, _e1, _e2, _source, _inEqAttributes, mmc_mk_some(mmc_mk_integer(_recordSize)));
    tmpMeta1 = mmc_mk_cons(tmpMeta2, _iAcc);
    _outEqsLst = tmpMeta1;
  }
  else
  {
    if(((omc_Expression_isArray(threadData, _e1) || omc_Expression_isMatrix(threadData, _e1)) && (omc_Expression_isArray(threadData, _e2) || omc_Expression_isMatrix(threadData, _e2))))
    {
      _ea1 = omc_Expression_flattenArrayExpToList(threadData, _e1);

      _ea2 = omc_Expression_flattenArrayExpToList(threadData, _e2);

      _outEqsLst = omc_BackendDAECreate_generateEquations(threadData, _ea1, _ea2, _source, _inEqAttributes, _iAcc);
    }
    else
    {
      _dimensions = omc_Expression_dimensionsSizes(threadData, _dims);

      tmpMeta4 = mmc_mk_box7(4, &BackendDAE_Equation_ARRAY__EQUATION__desc, _dimensions, _e1, _e2, _source, _inEqAttributes, mmc_mk_none());
      tmpMeta3 = mmc_mk_cons(tmpMeta4, _iAcc);
      _outEqsLst = tmpMeta3;
    }
  }
  _return: OMC_LABEL_UNUSED
  return _outEqsLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerExtendedRecordEqn(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inExp2, modelica_metatype _source, modelica_metatype _inEqAttributes, modelica_metatype _functionTree, modelica_metatype _inEqns)
{
  modelica_metatype _outEqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqns has no default value.
  { /* matchcontinue expression */
    {
      modelica_metatype _tp = NULL;
      modelica_integer _size;
      modelica_metatype _dims = NULL;
      modelica_metatype _explst1 = NULL;
      modelica_metatype _explst2 = NULL;
      modelica_boolean _b1;
      modelica_boolean _b2;
      modelica_boolean _b3;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _tp has no default value.
      // _size has no default value.
      // _dims has no default value.
      // _explst1 has no default value.
      // _explst2 has no default value.
      // _b1 has no default value.
      // _b2 has no default value.
      // _b3 has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 6; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          /* Pattern matching succeeded */
          _explst1 = omc_Expression_splitRecord(threadData, _inExp1, omc_Expression_typeof(threadData, _inExp1));

          _explst2 = omc_Expression_splitRecord(threadData, _inExp2, omc_Expression_typeof(threadData, _inExp2));
          tmpMeta1 = omc_BackendDAECreate_lowerExtendedRecordEqns(threadData, _explst1, _explst2, _source, _inEqAttributes, _functionTree, _inEqns);
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          /* Pattern matching succeeded */
          _tp = omc_Expression_typeof(threadData, _inExp1);

          /* Pattern-matching assignment */
          tmp6 = omc_DAEUtil_expTypeComplex(threadData, _tp);
          if (1 /* true */ != tmp6) goto goto_2;

          _size = omc_Expression_sizeOf(threadData, _tp);
          tmpMeta8 = mmc_mk_box6(9, &BackendDAE_Equation_COMPLEX__EQUATION__desc, mmc_mk_integer(_size), _inExp1, _inExp2, _source, _inEqAttributes);
          tmpMeta7 = mmc_mk_cons(tmpMeta8, _inEqns);
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        case 2: {
          modelica_boolean tmp9;
          /* Pattern matching succeeded */
          _tp = omc_Expression_typeof(threadData, _inExp1);

          /* Pattern-matching assignment */
          tmp9 = omc_DAEUtil_expTypeArray(threadData, _tp);
          if (1 /* true */ != tmp9) goto goto_2;

          _dims = omc_Expression_arrayDimension(threadData, _tp);
          tmpMeta1 = omc_BackendDAECreate_lowerArrayEqn(threadData, _dims, _inExp1, _inExp2, _source, _inEqAttributes, _inEqns);
          goto tmp3_done;
        }
        case 3: {
          modelica_boolean tmp10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          /* Pattern matching succeeded */
          _tp = omc_Expression_typeof(threadData, _inExp1);

          /* Pattern-matching assignment */
          tmp10 = omc_Types_isTuple(threadData, _tp);
          if (1 /* true */ != tmp10) goto goto_2;

          _size = omc_Expression_sizeOf(threadData, _tp);
          tmpMeta12 = mmc_mk_box6(9, &BackendDAE_Equation_COMPLEX__EQUATION__desc, mmc_mk_integer(_size), _inExp1, _inExp2, _source, _inEqAttributes);
          tmpMeta11 = mmc_mk_cons(tmpMeta12, _inEqns);
          tmpMeta1 = tmpMeta11;
          goto tmp3_done;
        }
        case 4: {
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          /* Pattern matching succeeded */
          _tp = omc_Expression_typeof(threadData, _inExp1);

          _b1 = omc_DAEUtil_expTypeComplex(threadData, _tp);

          _b2 = omc_DAEUtil_expTypeArray(threadData, _tp);

          _b3 = omc_Types_isTuple(threadData, _tp);

          /* Pattern-matching assignment */
          tmp13 = ((_b1 || _b2) || _b3);
          if (0 /* false */ != tmp13) goto goto_2;
          tmpMeta15 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _inExp1, _inExp2, _source, _inEqAttributes);
          tmpMeta14 = mmc_mk_cons(tmpMeta15, _inEqns);
          tmpMeta1 = tmpMeta14;
          goto tmp3_done;
        }
        case 5: {
          modelica_boolean tmp16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp16 = omc_Flags_isSet(threadData, _OMC_LIT65);
          if (1 /* true */ != tmp16) goto goto_2;

          tmpMeta17 = stringAppend(_OMC_LIT88,omc_ExpressionDump_printExpStr(threadData, _inExp1));
          tmpMeta18 = stringAppend(tmpMeta17,_OMC_LIT40);
          tmpMeta19 = stringAppend(tmpMeta18,omc_ExpressionDump_printExpStr(threadData, _inExp2));
          tmpMeta20 = stringAppend(tmpMeta19,_OMC_LIT89);
          omc_Debug_traceln(threadData, tmpMeta20);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 6) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outEqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerExtendedRecordEqns(threadData_t *threadData, modelica_metatype _explst1, modelica_metatype _explst2, modelica_metatype _source, modelica_metatype _inEqAttributes, modelica_metatype _functionTree, modelica_metatype _inEqns)
{
  modelica_metatype _outEqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqns has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _explst1;
    tmp4_2 = _explst2;
    {
      modelica_metatype _e1 = NULL;
      modelica_metatype _e2 = NULL;
      modelica_metatype _elst1 = NULL;
      modelica_metatype _elst2 = NULL;
      modelica_metatype _eqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _e1 has no default value.
      // _e2 has no default value.
      // _elst1 has no default value.
      // _elst2 has no default value.
      // _eqns has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inEqns;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmp4_2);
          tmpMeta9 = MMC_CDR(tmp4_2);
          _e1 = tmpMeta6;
          _elst1 = tmpMeta7;
          _e2 = tmpMeta8;
          _elst2 = tmpMeta9;
          /* Pattern matching succeeded */
          _eqns = omc_BackendDAECreate_lowerExtendedRecordEqn(threadData, _e1, _e2, _source, _inEqAttributes, _functionTree, _inEqns);
          /* Tail recursive call */
          _explst1 = _elst1;
          _explst2 = _elst2;
          _inEqns = _eqns;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_makeIfExp(threadData_t *threadData, modelica_metatype _cond, modelica_metatype _else_)
{
  modelica_metatype _oExp = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oExp has no default value.
  tmpMeta1 = mmc_mk_box4(15, &DAE_Exp_IFEXP__desc, _cond, _OMC_LIT90, _else_);
  _oExp = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _oExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerIfEquationAsserts1(threadData_t *threadData, modelica_metatype _brancheqns, modelica_metatype _condition, modelica_metatype _conditions, modelica_metatype _brancheqns1, modelica_metatype _inEqns, modelica_metatype *out_outEqns)
{
  modelica_metatype _obrancheqns = NULL;
  modelica_metatype _outEqns = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _obrancheqns has no default value.
  // _outEqns has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _brancheqns;
    tmp4_2 = _condition;
    {
      modelica_metatype _e = NULL;
      modelica_metatype _exp = NULL;
      modelica_metatype _cond = NULL;
      modelica_metatype _msg = NULL;
      modelica_metatype _level = NULL;
      modelica_metatype _eqn = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _source = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _e has no default value.
      // _exp has no default value.
      // _cond has no default value.
      // _msg has no default value.
      // _level has no default value.
      // _eqn has no default value.
      // _eqns has no default value.
      // _source has no default value.
      tmp4 = 0;
      for (; tmp4 < 8; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = listReverse(_brancheqns1);
          tmpMeta[0+1] = _inEqns;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (!optionNone(tmp4_2)) goto tmp3_end;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,20,4) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 5));
          _cond = tmpMeta8;
          _msg = tmpMeta9;
          _level = tmpMeta10;
          _source = tmpMeta11;
          _eqns = tmpMeta7;
          /* Pattern matching succeeded */
          _e = omc_List_fold(threadData, _conditions, boxvar_BackendDAECreate_makeIfExp, _cond);
          tmpMeta13 = mmc_mk_box5(23, &DAE_Element_ASSERT__desc, _e, _msg, _level, _source);
          tmpMeta12 = mmc_mk_cons(tmpMeta13, _inEqns);
          /* Tail recursive call */
          _brancheqns = _eqns;
          _inEqns = tmpMeta12;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          if (optionNone(tmp4_2)) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta15 = MMC_CAR(tmp4_1);
          tmpMeta16 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta15,20,4) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 2));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 3));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 4));
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 5));
          _e = tmpMeta14;
          _cond = tmpMeta17;
          _msg = tmpMeta18;
          _level = tmpMeta19;
          _source = tmpMeta20;
          _eqns = tmpMeta16;
          /* Pattern matching succeeded */
          tmpMeta21 = mmc_mk_box4(15, &DAE_Exp_IFEXP__desc, _e, _cond, _OMC_LIT90);
          _e = tmpMeta21;

          _e = omc_List_fold(threadData, _conditions, boxvar_BackendDAECreate_makeIfExp, _e);
          tmpMeta23 = mmc_mk_box5(23, &DAE_Element_ASSERT__desc, _e, _msg, _level, _source);
          tmpMeta22 = mmc_mk_cons(tmpMeta23, _inEqns);
          /* Tail recursive call */
          _brancheqns = _eqns;
          _inEqns = tmpMeta22;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          if (!optionNone(tmp4_2)) goto tmp3_end;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta24 = MMC_CAR(tmp4_1);
          tmpMeta25 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta24,22,2) == 0) goto tmp3_end;
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta24), 2));
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta24), 3));
          _msg = tmpMeta26;
          _source = tmpMeta27;
          _eqns = tmpMeta25;
          /* Pattern matching succeeded */
          _e = omc_List_fold(threadData, _conditions, boxvar_BackendDAECreate_makeIfExp, _OMC_LIT90);
          tmpMeta31 = mmc_mk_box3(12, &DAE_Statement_STMT__TERMINATE__desc, _msg, _source);
          tmpMeta30 = mmc_mk_cons(tmpMeta31, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta32 = mmc_mk_box5(6, &DAE_Statement_STMT__IF__desc, _e, tmpMeta30, _OMC_LIT91, _source);
          tmpMeta29 = mmc_mk_cons(tmpMeta32, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta33 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta29);
          tmpMeta34 = mmc_mk_box3(19, &DAE_Element_ALGORITHM__desc, tmpMeta33, _source);
          tmpMeta28 = mmc_mk_cons(tmpMeta34, _inEqns);
          /* Tail recursive call */
          _brancheqns = _eqns;
          _inEqns = tmpMeta28;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          if (optionNone(tmp4_2)) goto tmp3_end;
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta36 = MMC_CAR(tmp4_1);
          tmpMeta37 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta36,22,2) == 0) goto tmp3_end;
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta36), 2));
          tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta36), 3));
          _e = tmpMeta35;
          _msg = tmpMeta38;
          _source = tmpMeta39;
          _eqns = tmpMeta37;
          /* Pattern matching succeeded */
          _e = omc_List_fold(threadData, _conditions, boxvar_BackendDAECreate_makeIfExp, _e);
          tmpMeta43 = mmc_mk_box3(12, &DAE_Statement_STMT__TERMINATE__desc, _msg, _source);
          tmpMeta42 = mmc_mk_cons(tmpMeta43, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta44 = mmc_mk_box5(6, &DAE_Statement_STMT__IF__desc, _e, tmpMeta42, _OMC_LIT91, _source);
          tmpMeta41 = mmc_mk_cons(tmpMeta44, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta45 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta41);
          tmpMeta46 = mmc_mk_box3(19, &DAE_Element_ALGORITHM__desc, tmpMeta45, _source);
          tmpMeta40 = mmc_mk_cons(tmpMeta46, _inEqns);
          /* Tail recursive call */
          _brancheqns = _eqns;
          _inEqns = tmpMeta40;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          modelica_metatype tmpMeta56;
          modelica_metatype tmpMeta57;
          if (!optionNone(tmp4_2)) goto tmp3_end;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta47 = MMC_CAR(tmp4_1);
          tmpMeta48 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta47,25,2) == 0) goto tmp3_end;
          tmpMeta49 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta47), 2));
          tmpMeta50 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta47), 3));
          _exp = tmpMeta49;
          _source = tmpMeta50;
          _eqns = tmpMeta48;
          /* Pattern matching succeeded */
          tmpMeta54 = mmc_mk_box3(14, &DAE_Statement_STMT__NORETCALL__desc, _exp, _source);
          tmpMeta53 = mmc_mk_cons(tmpMeta54, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta55 = mmc_mk_box5(6, &DAE_Statement_STMT__IF__desc, _exp, tmpMeta53, _OMC_LIT91, _source);
          tmpMeta52 = mmc_mk_cons(tmpMeta55, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta56 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta52);
          tmpMeta57 = mmc_mk_box3(19, &DAE_Element_ALGORITHM__desc, tmpMeta56, _source);
          tmpMeta51 = mmc_mk_cons(tmpMeta57, _inEqns);
          /* Tail recursive call */
          _brancheqns = _eqns;
          _inEqns = tmpMeta51;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          modelica_metatype tmpMeta63;
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          modelica_metatype tmpMeta66;
          modelica_metatype tmpMeta67;
          modelica_metatype tmpMeta68;
          modelica_metatype tmpMeta69;
          if (optionNone(tmp4_2)) goto tmp3_end;
          tmpMeta58 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta59 = MMC_CAR(tmp4_1);
          tmpMeta60 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta59,25,2) == 0) goto tmp3_end;
          tmpMeta61 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta59), 2));
          tmpMeta62 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta59), 3));
          _e = tmpMeta58;
          _exp = tmpMeta61;
          _source = tmpMeta62;
          _eqns = tmpMeta60;
          /* Pattern matching succeeded */
          _e = omc_List_fold(threadData, _conditions, boxvar_BackendDAECreate_makeIfExp, _e);
          tmpMeta66 = mmc_mk_box3(14, &DAE_Statement_STMT__NORETCALL__desc, _exp, _source);
          tmpMeta65 = mmc_mk_cons(tmpMeta66, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta67 = mmc_mk_box5(6, &DAE_Statement_STMT__IF__desc, _e, tmpMeta65, _OMC_LIT91, _source);
          tmpMeta64 = mmc_mk_cons(tmpMeta67, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta68 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta64);
          tmpMeta69 = mmc_mk_box3(19, &DAE_Element_ALGORITHM__desc, tmpMeta68, _source);
          tmpMeta63 = mmc_mk_cons(tmpMeta69, _inEqns);
          /* Tail recursive call */
          _brancheqns = _eqns;
          _inEqns = tmpMeta63;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta70;
          modelica_metatype tmpMeta71;
          modelica_metatype tmpMeta72;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta70 = MMC_CAR(tmp4_1);
          tmpMeta71 = MMC_CDR(tmp4_1);
          
          _eqn = tmpMeta70;
          _eqns = tmpMeta71;
          /* Pattern matching succeeded */
          tmpMeta72 = mmc_mk_cons(_eqn, _brancheqns1);
          /* Tail recursive call */
          _brancheqns = _eqns;
          _brancheqns1 = tmpMeta72;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _obrancheqns = tmpMeta[0+0];
  _outEqns = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outEqns) { *out_outEqns = _outEqns; }
  return _obrancheqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerIfEquationAsserts(threadData_t *threadData, modelica_metatype _conditions, modelica_metatype _theneqns, modelica_metatype _elseenqs, modelica_metatype _conditions1, modelica_metatype _theneqns1, modelica_metatype _inEqns, modelica_metatype *out_oelseenqs, modelica_metatype *out_outEqns)
{
  modelica_metatype _otheneqns = NULL;
  modelica_metatype _oelseenqs = NULL;
  modelica_metatype _outEqns = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _otheneqns has no default value.
  // _oelseenqs has no default value.
  // _outEqns has no default value.
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _conditions;
    tmp4_2 = _theneqns;
    {
      modelica_metatype _e = NULL;
      modelica_metatype _explst = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _beqns = NULL;
      modelica_metatype _eqnslst = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _e has no default value.
      // _explst has no default value.
      // _eqns has no default value.
      // _beqns has no default value.
      // _eqnslst has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          _beqns = omc_BackendDAECreate_lowerIfEquationAsserts1(threadData, _elseenqs, mmc_mk_none(), _conditions1, tmpMeta6, _inEqns ,&_eqns);
          tmpMeta[0+0] = listReverse(_theneqns1);
          tmpMeta[0+1] = _beqns;
          tmpMeta[0+2] = _eqns;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmp4_2);
          tmpMeta10 = MMC_CDR(tmp4_2);
          _e = tmpMeta7;
          _explst = tmpMeta8;
          _eqns = tmpMeta9;
          _eqnslst = tmpMeta10;
          /* Pattern matching succeeded */
          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          _beqns = omc_BackendDAECreate_lowerIfEquationAsserts1(threadData, _eqns, mmc_mk_some(_e), _conditions1, tmpMeta11, _inEqns ,&_eqns);
          tmpMeta12 = mmc_mk_cons(_e, _conditions1);
          tmpMeta13 = mmc_mk_cons(_beqns, _theneqns1);
          /* Tail recursive call */
          _conditions = _explst;
          _theneqns = _eqnslst;
          _conditions1 = tmpMeta12;
          _theneqns1 = tmpMeta13;
          _inEqns = _eqns;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _otheneqns = tmpMeta[0+0];
  _oelseenqs = tmpMeta[0+1];
  _outEqns = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oelseenqs) { *out_oelseenqs = _oelseenqs; }
  if (out_outEqns) { *out_outEqns = _outEqns; }
  return _otheneqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerEqnsLst(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_boolean _inInitialization)
{
  modelica_metatype _outEquations = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEquations has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inElements;
    {
      modelica_metatype _element = NULL;
      modelica_metatype _elements = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _reqns = NULL;
      modelica_metatype _ieqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _element has no default value.
      // _elements has no default value.
      // _eqns has no default value.
      // _reqns has no default value.
      // _ieqns has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inEquations;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          _element = tmpMeta6;
          _elements = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqns = omc_BackendDAECreate_lowerEqns(threadData, _element, _functionTree, tmpMeta8, tmpMeta9, tmpMeta10, _inInitialization ,&_reqns ,&_ieqns);

          tmpMeta11 = mmc_mk_cons(_eqns, mmc_mk_cons(_reqns, mmc_mk_cons(_ieqns, MMC_REFSTRUCTLIT(mmc_nil))));
          _eqns = omc_List_flatten(threadData, tmpMeta11);
          tmpMeta12 = mmc_mk_cons(_eqns, _inEquations);
          /* Tail recursive call */
          _inElements = _elements;
          _inEquations = tmpMeta12;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEquations = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEquations;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_lowerEqnsLst(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inInitialization)
{
  modelica_integer tmp1;
  modelica_metatype _outEquations = NULL;
  tmp1 = mmc_unbox_integer(_inInitialization);
  _outEquations = omc_BackendDAECreate_lowerEqnsLst(threadData, _inElements, _functionTree, _inEquations, tmp1);
  /* skip box _outEquations; list<list<BackendDAE.Equation>> */
  return _outEquations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerEqns(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_boolean _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations)
{
  modelica_metatype _outEquations = NULL;
  modelica_metatype _outREquations = NULL;
  modelica_metatype _outIEquations = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEquations has no default value.
  // _outREquations has no default value.
  // _outIEquations has no default value.
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inElements;
    {
      modelica_metatype _element = NULL;
      modelica_metatype _elements = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _reqns = NULL;
      modelica_metatype _ieqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _element has no default value.
      // _elements has no default value.
      // _eqns has no default value.
      // _reqns has no default value.
      // _ieqns has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          _element = tmpMeta6;
          _elements = tmpMeta7;
          /* Pattern matching succeeded */
          _eqns = omc_BackendDAECreate_lowerEqn(threadData, _element, _functionTree, _inEquations, _inREquations, _inIEquations, _inInitialization ,&_reqns ,&_ieqns);
          /* Tail recursive call */
          _inElements = _elements;
          _inEquations = _eqns;
          _inREquations = _reqns;
          _inIEquations = _ieqns;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEquations = tmpMeta[0+0];
  _outREquations = tmpMeta[0+1];
  _outIEquations = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_outREquations) { *out_outREquations = _outREquations; }
  if (out_outIEquations) { *out_outIEquations = _outIEquations; }
  return _outEquations;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_lowerEqns(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_metatype _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations)
{
  modelica_integer tmp1;
  modelica_metatype _outEquations = NULL;
  tmp1 = mmc_unbox_integer(_inInitialization);
  _outEquations = omc_BackendDAECreate_lowerEqns(threadData, _inElements, _functionTree, _inEquations, _inREquations, _inIEquations, tmp1, out_outREquations, out_outIEquations);
  /* skip box _outEquations; list<BackendDAE.Equation> */
  /* skip box _outREquations; list<BackendDAE.Equation> */
  /* skip box _outIEquations; list<BackendDAE.Equation> */
  return _outEquations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerIfEquation1(threadData_t *threadData, modelica_metatype _cond, modelica_metatype _conditions, modelica_metatype _theneqn, modelica_metatype _theneqns, modelica_metatype _elseenqs, modelica_metatype _conditions1, modelica_metatype _theneqns1, modelica_metatype _source, modelica_metatype _functionTree, modelica_metatype _inEqns)
{
  modelica_metatype _outEqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqns has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;
    tmp4_1 = _cond;
    tmp4_2 = _conditions1;
    tmp4_3 = _theneqns1;
    {
      modelica_metatype _explst = NULL;
      modelica_metatype _beqnslst = NULL;
      modelica_metatype _beqns = NULL;
      modelica_metatype _breqns = NULL;
      modelica_metatype _bieqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _explst has no default value.
      // _beqnslst has no default value.
      // _beqns has no default value.
      // _breqns has no default value.
      // _bieqns has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          if (!listEmpty(tmp4_3)) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmp7 = mmc_unbox_integer(tmpMeta6);
          if (1 /* true */ != tmp7) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _beqns = omc_BackendDAECreate_lowerEqns(threadData, _theneqn, _functionTree, tmpMeta8, tmpMeta9, tmpMeta10, 0 /* false */ ,&_breqns ,&_bieqns);
          tmpMeta11 = mmc_mk_cons(_beqns, mmc_mk_cons(_breqns, mmc_mk_cons(_bieqns, mmc_mk_cons(_inEqns, MMC_REFSTRUCTLIT(mmc_nil)))));
          tmpMeta1 = omc_List_flatten(threadData, tmpMeta11);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta12;
          modelica_integer tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          if (!listEmpty(tmp4_3)) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmp13 = mmc_unbox_integer(tmpMeta12);
          if (1 /* true */ != tmp13) goto tmp3_end;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _explst = listReverse(_conditions1);

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _beqnslst = omc_BackendDAECreate_lowerEqnsLst(threadData, _theneqns1, _functionTree, tmpMeta14, 0 /* false */);

          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _beqns = omc_BackendDAECreate_lowerEqns(threadData, _theneqn, _functionTree, tmpMeta15, tmpMeta16, tmpMeta17, 0 /* false */ ,&_breqns ,&_bieqns);

          tmpMeta18 = mmc_mk_cons(_beqns, mmc_mk_cons(_breqns, mmc_mk_cons(_bieqns, MMC_REFSTRUCTLIT(mmc_nil))));
          _beqns = omc_List_flatten(threadData, tmpMeta18);
          tmpMeta20 = mmc_mk_box6(10, &BackendDAE_Equation_IF__EQUATION__desc, _explst, _beqnslst, _beqns, _source, _OMC_LIT57);
          tmpMeta19 = mmc_mk_cons(tmpMeta20, _inEqns);
          tmpMeta1 = tmpMeta19;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta21;
          modelica_integer tmp22;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmp22 = mmc_unbox_integer(tmpMeta21);
          if (0 /* false */ != tmp22) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_BackendDAECreate_lowerIfEquation(threadData, _conditions, _theneqns, _elseenqs, _conditions1, _theneqns1, _source, _functionTree, _inEqns);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          
          /* Pattern matching succeeded */
          tmpMeta23 = mmc_mk_cons(_cond, _conditions1);
          tmpMeta24 = mmc_mk_cons(_theneqn, _theneqns1);
          tmpMeta1 = omc_BackendDAECreate_lowerIfEquation(threadData, _conditions, _theneqns, _elseenqs, tmpMeta23, tmpMeta24, _source, _functionTree, _inEqns);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outEqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerIfEquation(threadData_t *threadData, modelica_metatype _conditions, modelica_metatype _theneqns, modelica_metatype _elseenqs, modelica_metatype _conditions1, modelica_metatype _theneqns1, modelica_metatype _inSource, modelica_metatype _functionTree, modelica_metatype _inEquations)
{
  modelica_metatype _outEquations = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEquations has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;volatile modelica_metatype tmp4_4;
    tmp4_1 = _conditions;
    tmp4_2 = _theneqns;
    tmp4_3 = _conditions1;
    tmp4_4 = _theneqns1;
    {
      modelica_metatype _e = NULL;
      modelica_metatype _explst = NULL;
      modelica_metatype _eqnslst = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _beqnslst = NULL;
      modelica_metatype _beqns = NULL;
      modelica_metatype _breqns = NULL;
      modelica_metatype _bieqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _e has no default value.
      // _explst has no default value.
      // _eqnslst has no default value.
      // _eqns has no default value.
      // _source has no default value.
      // _beqnslst has no default value.
      // _beqns has no default value.
      // _breqns has no default value.
      // _bieqns has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          if (!listEmpty(tmp4_3)) goto tmp3_end;
          if (!listEmpty(tmp4_4)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          _beqns = omc_BackendDAECreate_lowerEqns(threadData, _elseenqs, _functionTree, tmpMeta6, tmpMeta7, tmpMeta8, 0 /* false */ ,&_breqns ,&_bieqns);
          tmpMeta9 = mmc_mk_cons(_beqns, mmc_mk_cons(_breqns, mmc_mk_cons(_bieqns, mmc_mk_cons(_inEquations, MMC_REFSTRUCTLIT(mmc_nil)))));
          tmpMeta1 = omc_List_flatten(threadData, tmpMeta9);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _explst = listReverse(_conditions1);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _beqnslst = omc_BackendDAECreate_lowerEqnsLst(threadData, _theneqns1, _functionTree, tmpMeta10, 0 /* false */);

          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
          _beqns = omc_BackendDAECreate_lowerEqns(threadData, _elseenqs, _functionTree, tmpMeta11, tmpMeta12, tmpMeta13, 0 /* false */ ,&_breqns ,&_bieqns);

          tmpMeta14 = mmc_mk_cons(_beqns, mmc_mk_cons(_breqns, mmc_mk_cons(_bieqns, MMC_REFSTRUCTLIT(mmc_nil))));
          _beqns = omc_List_flatten(threadData, tmpMeta14);
          tmpMeta16 = mmc_mk_box6(10, &BackendDAE_Equation_IF__EQUATION__desc, _explst, _beqnslst, _beqns, _inSource, _OMC_LIT57);
          tmpMeta15 = mmc_mk_cons(tmpMeta16, _inEquations);
          tmpMeta1 = tmpMeta15;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta17 = MMC_CAR(tmp4_1);
          tmpMeta18 = MMC_CDR(tmp4_1);
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta19 = MMC_CAR(tmp4_2);
          tmpMeta20 = MMC_CDR(tmp4_2);
          
          _e = tmpMeta17;
          _explst = tmpMeta18;
          _eqns = tmpMeta19;
          _eqnslst = tmpMeta20;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta22 = mmc_mk_box2(3, &DAE_EquationExp_PARTIAL__EQUATION__desc, _e);
          tmpMeta23 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta22, _inSource, &tmpMeta21);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta23,0,1) == 0) goto goto_2;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 2));
          _e = tmpMeta24;
          _source = tmpMeta21;
          tmpMeta1 = omc_BackendDAECreate_lowerIfEquation1(threadData, _e, _explst, _eqns, _eqnslst, _elseenqs, _conditions1, _theneqns1, _source, _functionTree, _inEquations);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outEquations = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEquations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerForEquation(threadData_t *threadData, modelica_metatype _eq, modelica_string _iter, modelica_metatype _range)
{
  modelica_metatype _forEq = NULL;
  modelica_metatype _iterExp = NULL;
  modelica_metatype _start = NULL;
  modelica_metatype _stop = NULL;
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _forEq has no default value.
  // _iterExp has no default value.
  // _start has no default value.
  // _stop has no default value.
  // _ty has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _range;
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta1,18,4) == 0) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 3));
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 5));
  _ty = tmpMeta2;
  _start = tmpMeta3;
  _stop = tmpMeta4;

  _ty = omc_Types_unliftArray(threadData, _ty);

  tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta6 = mmc_mk_box4(4, &DAE_ComponentRef_CREF__IDENT__desc, _iter, _ty, tmpMeta5);
  tmpMeta7 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, tmpMeta6, _ty);
  _iterExp = tmpMeta7;

  tmpMeta8 = mmc_mk_box7(11, &BackendDAE_Equation_FOR__EQUATION__desc, _iterExp, _start, _stop, _eq, omc_BackendEquation_equationSource(threadData, _eq), omc_BackendEquation_getEquationAttributes(threadData, _eq));
  _forEq = tmpMeta8;
  _return: OMC_LABEL_UNUSED
  return _forEq;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerEqn(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_boolean _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations)
{
  modelica_metatype _outEquations = NULL;
  modelica_metatype _outREquations = NULL;
  modelica_metatype _outIEquations = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEquations has no default value.
  // _outREquations has no default value.
  // _outIEquations has no default value.
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inElement;
    {
      modelica_metatype _e1 = NULL;
      modelica_metatype _e1_1 = NULL;
      modelica_metatype _e2 = NULL;
      modelica_metatype _e2_1 = NULL;
      modelica_metatype _msg = NULL;
      modelica_metatype _cr1 = NULL;
      modelica_metatype _cr2 = NULL;
      modelica_metatype _source = NULL;
      modelica_boolean _b1;
      modelica_metatype _dims = NULL;
      modelica_metatype _explst = NULL;
      modelica_metatype _explst1 = NULL;
      modelica_metatype _eqnslstlst = NULL;
      modelica_metatype _eqnslst = NULL;
      modelica_metatype _daeElts = NULL;
      modelica_string _s = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _reqns = NULL;
      modelica_metatype _ieqns = NULL;
      modelica_metatype _path = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _e1 has no default value.
      // _e1_1 has no default value.
      // _e2 has no default value.
      // _e2_1 has no default value.
      // _msg has no default value.
      // _cr1 has no default value.
      // _cr2 has no default value.
      // _source has no default value.
      // _b1 has no default value.
      // _dims has no default value.
      // _explst has no default value.
      // _explst1 has no default value.
      // _eqnslstlst has no default value.
      // _eqnslst has no default value.
      // _daeElts has no default value.
      // _s has no default value.
      // _eqns has no default value.
      // _reqns has no default value.
      // _ieqns has no default value.
      // _path has no default value.
      tmp4 = 0;
      for (; tmp4 < 30; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,19,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,19,1) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _explst = tmpMeta7;
          _explst1 = tmpMeta9;
          _source = tmpMeta10;
          /* Pattern matching succeeded */
          _eqns = omc_BackendDAECreate_lowerTupleAssignment(threadData, _explst, _explst1, _source, _functionTree, _inEquations);
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,3) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,19,1) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta13,19,1) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 2));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _explst = tmpMeta12;
          _explst1 = tmpMeta14;
          _source = tmpMeta15;
          /* Pattern matching succeeded */
          _eqns = omc_BackendDAECreate_lowerTupleAssignment(threadData, _explst, _explst1, _source, _functionTree, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _eqns;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,3) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta16,19,1) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta17,13,3) == 0) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _e1 = tmpMeta16;
          _e2 = tmpMeta17;
          _source = tmpMeta18;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta20 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta21 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta20, _source, &tmpMeta19);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta21,2,2) == 0) goto goto_2;
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 2));
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 3));
          _e1_1 = tmpMeta22;
          _e2_1 = tmpMeta23;
          _source = tmpMeta19;

          _eqns = omc_BackendDAECreate_lowerExtendedRecordEqn(threadData, _e1_1, _e2_1, _source, _OMC_LIT49, _functionTree, _inEquations);
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,3) == 0) goto tmp3_end;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta24,13,3) == 0) goto tmp3_end;
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta25,19,1) == 0) goto tmp3_end;
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _e2 = tmpMeta24;
          _e1 = tmpMeta25;
          _source = tmpMeta26;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta28 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta29 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta28, _source, &tmpMeta27);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta29,2,2) == 0) goto goto_2;
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta29), 2));
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta29), 3));
          _e1_1 = tmpMeta30;
          _e2_1 = tmpMeta31;
          _source = tmpMeta27;

          _eqns = omc_BackendDAECreate_lowerExtendedRecordEqn(threadData, _e1_1, _e2_1, _source, _OMC_LIT49, _functionTree, _inEquations);
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,3) == 0) goto tmp3_end;
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta32,19,1) == 0) goto tmp3_end;
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta33,13,3) == 0) goto tmp3_end;
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _e1 = tmpMeta32;
          _e2 = tmpMeta33;
          _source = tmpMeta34;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta36 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta37 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta36, _source, &tmpMeta35);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta37,2,2) == 0) goto goto_2;
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta37), 2));
          tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta37), 3));
          _e1_1 = tmpMeta38;
          _e2_1 = tmpMeta39;
          _source = tmpMeta35;

          _eqns = omc_BackendDAECreate_lowerExtendedRecordEqn(threadData, _e1_1, _e2_1, _source, _OMC_LIT51, _functionTree, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _eqns;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,3) == 0) goto tmp3_end;
          tmpMeta40 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta40,13,3) == 0) goto tmp3_end;
          tmpMeta41 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta41,19,1) == 0) goto tmp3_end;
          tmpMeta42 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _e2 = tmpMeta40;
          _e1 = tmpMeta41;
          _source = tmpMeta42;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta44 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta45 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta44, _source, &tmpMeta43);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta45,2,2) == 0) goto goto_2;
          tmpMeta46 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta45), 2));
          tmpMeta47 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta45), 3));
          _e1_1 = tmpMeta46;
          _e2_1 = tmpMeta47;
          _source = tmpMeta43;

          _eqns = omc_BackendDAECreate_lowerExtendedRecordEqn(threadData, _e1_1, _e2_1, _source, _OMC_LIT51, _functionTree, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _eqns;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          modelica_metatype tmpMeta56;
          modelica_metatype tmpMeta57;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,3) == 0) goto tmp3_end;
          tmpMeta48 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta49 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta50 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _e1 = tmpMeta48;
          _e2 = tmpMeta49;
          _source = tmpMeta50;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta52 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta53 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta52, _source, &tmpMeta51);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta53,2,2) == 0) goto goto_2;
          tmpMeta54 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta53), 2));
          tmpMeta55 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta53), 3));
          _e1_1 = tmpMeta54;
          _e2_1 = tmpMeta55;
          _source = tmpMeta51;
          tmpMeta57 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _e1_1, _e2_1, _source, _OMC_LIT49);
          tmpMeta56 = mmc_mk_cons(tmpMeta57, _inEquations);
          tmpMeta[0+0] = tmpMeta56;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          modelica_metatype tmpMeta63;
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          modelica_metatype tmpMeta66;
          modelica_metatype tmpMeta67;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,3) == 0) goto tmp3_end;
          tmpMeta58 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta59 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta60 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _e1 = tmpMeta58;
          _e2 = tmpMeta59;
          _source = tmpMeta60;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta62 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta63 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta62, _source, &tmpMeta61);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta63,2,2) == 0) goto goto_2;
          tmpMeta64 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta63), 2));
          tmpMeta65 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta63), 3));
          _e1_1 = tmpMeta64;
          _e2_1 = tmpMeta65;
          _source = tmpMeta61;
          tmpMeta67 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _e1_1, _e2_1, _source, _OMC_LIT51);
          tmpMeta66 = mmc_mk_cons(tmpMeta67, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = tmpMeta66;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta68;
          modelica_metatype tmpMeta69;
          modelica_metatype tmpMeta70;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,3) == 0) goto tmp3_end;
          tmpMeta68 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta69 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta70 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _cr1 = tmpMeta68;
          _cr2 = tmpMeta69;
          _source = tmpMeta70;
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT95))
          {
            _e1 = omc_Expression_crefExp(threadData, _cr1);

            _e2 = omc_Expression_crefExp(threadData, _cr2);
          }
          else
          {
            _e1 = omc_Expression_crefToExp(threadData, _cr1);

            _e2 = omc_Expression_crefToExp(threadData, _cr2);
          }

          _eqns = omc_BackendDAECreate_lowerExtendedRecordEqn(threadData, _e1, _e2, _source, _OMC_LIT49, _functionTree, _inEquations);
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta71;
          modelica_metatype tmpMeta72;
          modelica_metatype tmpMeta73;
          modelica_metatype tmpMeta74;
          modelica_metatype tmpMeta75;
          modelica_metatype tmpMeta76;
          modelica_metatype tmpMeta77;
          modelica_metatype tmpMeta78;
          modelica_metatype tmpMeta79;
          modelica_metatype tmpMeta80;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,3) == 0) goto tmp3_end;
          tmpMeta71 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta72 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta73 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _cr1 = tmpMeta71;
          _e2 = tmpMeta72;
          _source = tmpMeta73;
          /* Pattern matching succeeded */
          _e1 = omc_Expression_crefExp(threadData, _cr1);

          /* Pattern-matching tuple assignment */
          tmpMeta75 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta76 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta75, _source, &tmpMeta74);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta76,2,2) == 0) goto goto_2;
          tmpMeta77 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta76), 2));
          tmpMeta78 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta76), 3));
          _e1_1 = tmpMeta77;
          _e2_1 = tmpMeta78;
          _source = tmpMeta74;
          tmpMeta80 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _e1_1, _e2_1, _source, _OMC_LIT49);
          tmpMeta79 = mmc_mk_cons(tmpMeta80, _inEquations);
          tmpMeta[0+0] = tmpMeta79;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta81;
          modelica_metatype tmpMeta82;
          modelica_metatype tmpMeta83;
          modelica_metatype tmpMeta84;
          modelica_metatype tmpMeta85;
          modelica_metatype tmpMeta86;
          modelica_metatype tmpMeta87;
          modelica_metatype tmpMeta88;
          modelica_metatype tmpMeta89;
          modelica_metatype tmpMeta90;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,3) == 0) goto tmp3_end;
          tmpMeta81 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta82 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta83 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _cr1 = tmpMeta81;
          _e2 = tmpMeta82;
          _source = tmpMeta83;
          /* Pattern matching succeeded */
          _e1 = omc_Expression_crefExp(threadData, _cr1);

          /* Pattern-matching tuple assignment */
          tmpMeta85 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta86 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta85, _source, &tmpMeta84);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta86,2,2) == 0) goto goto_2;
          tmpMeta87 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta86), 2));
          tmpMeta88 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta86), 3));
          _e1_1 = tmpMeta87;
          _e2_1 = tmpMeta88;
          _source = tmpMeta84;
          tmpMeta90 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _e1_1, _e2_1, _source, _OMC_LIT49);
          tmpMeta89 = mmc_mk_cons(tmpMeta90, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = tmpMeta89;
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta91;
          modelica_metatype tmpMeta92;
          modelica_metatype tmpMeta93;
          modelica_metatype tmpMeta94;
          modelica_metatype tmpMeta95;
          modelica_metatype tmpMeta96;
          modelica_metatype tmpMeta97;
          modelica_metatype tmpMeta98;
          modelica_metatype tmpMeta99;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,3) == 0) goto tmp3_end;
          tmpMeta91 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta92 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta93 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _e1 = tmpMeta91;
          _e2 = tmpMeta92;
          _source = tmpMeta93;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta95 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta96 = mmc_mk_box2(0, mmc_mk_some(_functionTree), _OMC_LIT99);
          tmpMeta97 = omc_Inline_simplifyAndForceInlineEquationExp(threadData, tmpMeta95, tmpMeta96, _source, &tmpMeta94);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta97,2,2) == 0) goto goto_2;
          tmpMeta98 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta97), 2));
          tmpMeta99 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta97), 3));
          _e1_1 = tmpMeta98;
          _e2_1 = tmpMeta99;
          _source = tmpMeta94;

          _eqns = omc_BackendDAECreate_lowerExtendedRecordEqn(threadData, _e1_1, _e2_1, _source, _OMC_LIT49, _functionTree, _inEquations);
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp3_done;
        }
        case 12: {
          modelica_metatype tmpMeta100;
          modelica_metatype tmpMeta101;
          modelica_metatype tmpMeta102;
          modelica_metatype tmpMeta103;
          modelica_metatype tmpMeta104;
          modelica_metatype tmpMeta105;
          modelica_metatype tmpMeta106;
          modelica_metatype tmpMeta107;
          modelica_metatype tmpMeta108;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
          tmpMeta100 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta101 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta102 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _e1 = tmpMeta100;
          _e2 = tmpMeta101;
          _source = tmpMeta102;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta104 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta105 = mmc_mk_box2(0, mmc_mk_some(_functionTree), _OMC_LIT99);
          tmpMeta106 = omc_Inline_simplifyAndForceInlineEquationExp(threadData, tmpMeta104, tmpMeta105, _source, &tmpMeta103);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta106,2,2) == 0) goto goto_2;
          tmpMeta107 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta106), 2));
          tmpMeta108 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta106), 3));
          _e1_1 = tmpMeta107;
          _e2_1 = tmpMeta108;
          _source = tmpMeta103;

          _eqns = omc_BackendDAECreate_lowerExtendedRecordEqn(threadData, _e1_1, _e2_1, _source, _OMC_LIT49, _functionTree, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _eqns;
          goto tmp3_done;
        }
        case 13: {
          modelica_metatype tmpMeta109;
          modelica_metatype tmpMeta110;
          modelica_metatype tmpMeta111;
          modelica_metatype tmpMeta112;
          modelica_metatype tmpMeta113;
          modelica_metatype tmpMeta114;
          modelica_metatype tmpMeta115;
          modelica_metatype tmpMeta116;
          modelica_metatype tmpMeta117;
          modelica_metatype tmpMeta118;
          modelica_metatype tmpMeta119;
          modelica_metatype tmpMeta120;
          modelica_metatype tmpMeta121;
          modelica_boolean tmp122;
          modelica_metatype tmpMeta123;
          modelica_metatype tmpMeta124;
          modelica_metatype tmpMeta125;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,4) == 0) goto tmp3_end;
          tmpMeta109 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta110 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta110,16,3) == 0) goto tmp3_end;
          tmpMeta111 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta110), 4));
          if (!listEmpty(tmpMeta111)) goto tmp3_end;
          tmpMeta112 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta112,13,3) == 0) goto tmp3_end;
          tmpMeta113 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta112), 2));
          tmpMeta114 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          _dims = tmpMeta109;
          _e1 = tmpMeta110;
          _e2 = tmpMeta112;
          _path = tmpMeta113;
          _source = tmpMeta114;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta116 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta117 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta116, _source, &tmpMeta115);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta117,2,2) == 0) goto goto_2;
          tmpMeta118 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta117), 2));
          tmpMeta119 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta117), 3));
          _e1_1 = tmpMeta118;
          _e2_1 = tmpMeta119;
          _source = tmpMeta115;

          _b1 = (stringEqual(omc_AbsynUtil_pathLastIdent(threadData, _path), _OMC_LIT100));

          _eqns = (_b1?_inREquations:_inEquations);

          _eqns = omc_BackendDAECreate_lowerArrayEqn(threadData, _dims, _e1_1, _e2_1, _source, _OMC_LIT49, _eqns);

          /* Pattern-matching assignment */
          tmp122 = (modelica_boolean)_b1;
          if(tmp122)
          {
            tmpMeta120 = mmc_mk_box2(0, _inEquations, _eqns);
            tmpMeta123 = tmpMeta120;
          }
          else
          {
            tmpMeta121 = mmc_mk_box2(0, _eqns, _inREquations);
            tmpMeta123 = tmpMeta121;
          }
          tmpMeta124 = tmpMeta123;
          tmpMeta125 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta124), 1));
          _eqns = tmpMeta125;
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp3_done;
        }
        case 14: {
          modelica_metatype tmpMeta126;
          modelica_metatype tmpMeta127;
          modelica_metatype tmpMeta128;
          modelica_metatype tmpMeta129;
          modelica_metatype tmpMeta130;
          modelica_metatype tmpMeta131;
          modelica_metatype tmpMeta132;
          modelica_metatype tmpMeta133;
          modelica_metatype tmpMeta134;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,4) == 0) goto tmp3_end;
          tmpMeta126 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta127 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta128 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta129 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          _dims = tmpMeta126;
          _e1 = tmpMeta127;
          _e2 = tmpMeta128;
          _source = tmpMeta129;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta131 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta132 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta131, _source, &tmpMeta130);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta132,2,2) == 0) goto goto_2;
          tmpMeta133 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta132), 2));
          tmpMeta134 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta132), 3));
          _e1_1 = tmpMeta133;
          _e2_1 = tmpMeta134;
          _source = tmpMeta130;

          _eqns = omc_BackendDAECreate_lowerArrayEqn(threadData, _dims, _e1_1, _e2_1, _source, _OMC_LIT49, _inEquations);
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _inIEquations;
          goto tmp3_done;
        }
        case 15: {
          modelica_metatype tmpMeta135;
          modelica_metatype tmpMeta136;
          modelica_metatype tmpMeta137;
          modelica_metatype tmpMeta138;
          modelica_metatype tmpMeta139;
          modelica_metatype tmpMeta140;
          modelica_metatype tmpMeta141;
          modelica_metatype tmpMeta142;
          modelica_metatype tmpMeta143;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,4) == 0) goto tmp3_end;
          tmpMeta135 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta136 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta137 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta138 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          _dims = tmpMeta135;
          _e1 = tmpMeta136;
          _e2 = tmpMeta137;
          _source = tmpMeta138;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta140 = mmc_mk_box3(5, &DAE_EquationExp_EQUALITY__EXPS__desc, _e1, _e2);
          tmpMeta141 = omc_ExpressionSimplify_simplifyAddSymbolicOperation(threadData, tmpMeta140, _source, &tmpMeta139);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta141,2,2) == 0) goto goto_2;
          tmpMeta142 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta141), 2));
          tmpMeta143 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta141), 3));
          _e1_1 = tmpMeta142;
          _e2_1 = tmpMeta143;
          _source = tmpMeta139;

          _eqns = omc_BackendDAECreate_lowerArrayEqn(threadData, _dims, _e1_1, _e2_1, _source, _OMC_LIT49, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _eqns;
          goto tmp3_done;
        }
        case 16: {
          modelica_metatype tmpMeta144;
          modelica_metatype tmpMeta145;
          modelica_metatype tmpMeta146;
          modelica_metatype tmpMeta147;
          modelica_metatype tmpMeta148;
          modelica_metatype tmpMeta149;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,7) == 0) goto tmp3_end;
          tmpMeta144 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta145 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta146 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          
          _s = tmpMeta144;
          _e1 = tmpMeta145;
          _eqnslst = tmpMeta146;
          /* Pattern matching succeeded */
          tmpMeta147 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta148 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta149 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqns = omc_BackendDAECreate_lowerEqns(threadData, _eqnslst, _functionTree, tmpMeta147, tmpMeta148, tmpMeta149, _inInitialization ,&_reqns ,&_ieqns);

          _eqns = listAppend(omc_List_map2(threadData, _eqns, boxvar_BackendDAECreate_lowerForEquation, _s, _e1), _inEquations);

          _reqns = listAppend(omc_List_map2(threadData, _reqns, boxvar_BackendDAECreate_lowerForEquation, _s, _e1), _inREquations);

          _ieqns = listAppend(omc_List_map2(threadData, _ieqns, boxvar_BackendDAECreate_lowerForEquation, _s, _e1), _inIEquations);
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = _reqns;
          tmpMeta[0+2] = _ieqns;
          goto tmp3_done;
        }
        case 17: {
          modelica_metatype tmpMeta150;
          modelica_metatype tmpMeta151;
          modelica_metatype tmpMeta152;
          modelica_metatype tmpMeta153;
          modelica_metatype tmpMeta154;
          modelica_metatype tmpMeta155;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,7) == 0) goto tmp3_end;
          tmpMeta150 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta151 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta152 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          
          _s = tmpMeta150;
          _e1 = tmpMeta151;
          _eqnslst = tmpMeta152;
          /* Pattern matching succeeded */
          tmpMeta153 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta154 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta155 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqns = omc_BackendDAECreate_lowerEqns(threadData, _eqnslst, _functionTree, tmpMeta153, tmpMeta154, tmpMeta155, _inInitialization ,&_reqns ,&_ieqns);

          _eqns = listAppend(omc_List_map2(threadData, _eqns, boxvar_BackendDAECreate_lowerForEquation, _s, _e1), _inEquations);

          _reqns = listAppend(omc_List_map2(threadData, _reqns, boxvar_BackendDAECreate_lowerForEquation, _s, _e1), _inREquations);

          _ieqns = listAppend(omc_List_map2(threadData, _ieqns, boxvar_BackendDAECreate_lowerForEquation, _s, _e1), _inIEquations);
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = _reqns;
          tmpMeta[0+2] = _ieqns;
          goto tmp3_done;
        }
        case 18: {
          modelica_metatype tmpMeta156;
          modelica_metatype tmpMeta157;
          modelica_metatype tmpMeta158;
          modelica_metatype tmpMeta159;
          modelica_metatype tmpMeta160;
          modelica_metatype tmpMeta161;
          modelica_metatype tmpMeta162;
          modelica_metatype tmpMeta163;
          modelica_metatype tmpMeta164;
          modelica_metatype tmpMeta165;
          modelica_metatype tmpMeta166;
          modelica_metatype tmpMeta167;
          modelica_metatype tmpMeta168;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,4) == 0) goto tmp3_end;
          tmpMeta156 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (listEmpty(tmpMeta156)) goto tmp3_end;
          tmpMeta157 = MMC_CAR(tmpMeta156);
          tmpMeta158 = MMC_CDR(tmpMeta156);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta157,13,3) == 0) goto tmp3_end;
          tmpMeta159 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta157), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta159,1,1) == 0) goto tmp3_end;
          tmpMeta160 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta159), 2));
          if (7 != MMC_STRLEN(tmpMeta160) || strcmp(MMC_STRINGDATA(_OMC_LIT104), MMC_STRINGDATA(tmpMeta160)) != 0) goto tmp3_end;
          if (!listEmpty(tmpMeta158)) goto tmp3_end;
          tmpMeta161 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta161)) goto tmp3_end;
          tmpMeta162 = MMC_CAR(tmpMeta161);
          tmpMeta163 = MMC_CDR(tmpMeta161);
          if (!listEmpty(tmpMeta163)) goto tmp3_end;
          tmpMeta164 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (!listEmpty(tmpMeta164)) goto tmp3_end;
          
          _eqnslst = tmpMeta162;
          /* Pattern matching succeeded */
          tmpMeta165 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta166 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta167 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqns = omc_BackendDAECreate_lowerEqns(threadData, _eqnslst, _functionTree, tmpMeta165, tmpMeta166, tmpMeta167, _inInitialization ,&_reqns ,&_ieqns);

          tmpMeta168 = mmc_mk_cons(_eqns, mmc_mk_cons(_reqns, mmc_mk_cons(_ieqns, mmc_mk_cons(_inIEquations, MMC_REFSTRUCTLIT(mmc_nil)))));
          _ieqns = omc_List_flatten(threadData, tmpMeta168);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _ieqns;
          goto tmp3_done;
        }
        case 19: {
          modelica_metatype tmpMeta169;
          modelica_metatype tmpMeta170;
          modelica_metatype tmpMeta171;
          modelica_metatype tmpMeta172;
          modelica_metatype tmpMeta173;
          modelica_metatype tmpMeta174;
          modelica_metatype tmpMeta175;
          modelica_metatype tmpMeta176;
          modelica_metatype tmpMeta177;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,4) == 0) goto tmp3_end;
          tmpMeta169 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta170 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta171 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta172 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          _explst = tmpMeta169;
          _eqnslstlst = tmpMeta170;
          _eqnslst = tmpMeta171;
          _source = tmpMeta172;
          /* Pattern matching succeeded */
          tmpMeta173 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta174 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta175 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqnslstlst = omc_BackendDAECreate_lowerIfEquationAsserts(threadData, _explst, _eqnslstlst, _eqnslst, tmpMeta173, tmpMeta174, tmpMeta175 ,&_eqnslst ,&_daeElts);

          _eqns = omc_BackendDAECreate_lowerEqns(threadData, _daeElts, _functionTree, _inEquations, _inREquations, _inIEquations, _inInitialization ,&_reqns ,&_ieqns);

          tmpMeta176 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta177 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqns = omc_BackendDAECreate_lowerIfEquation(threadData, _explst, _eqnslstlst, _eqnslst, tmpMeta176, tmpMeta177, _source, _functionTree, _eqns);
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = _reqns;
          tmpMeta[0+2] = _ieqns;
          goto tmp3_done;
        }
        case 20: {
          modelica_metatype tmpMeta178;
          modelica_metatype tmpMeta179;
          modelica_metatype tmpMeta180;
          modelica_metatype tmpMeta181;
          modelica_metatype tmpMeta182;
          modelica_metatype tmpMeta183;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,4) == 0) goto tmp3_end;
          tmpMeta178 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta179 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta180 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta181 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          _explst = tmpMeta178;
          _eqnslstlst = tmpMeta179;
          _eqnslst = tmpMeta180;
          _source = tmpMeta181;
          /* Pattern matching succeeded */
          tmpMeta182 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta183 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqns = omc_BackendDAECreate_lowerIfEquation(threadData, _explst, _eqnslstlst, _eqnslst, tmpMeta182, tmpMeta183, _source, _functionTree, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = _eqns;
          goto tmp3_done;
        }
        case 21: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_BackendDAECreate_lowerAlgorithm(threadData, _inElement, _functionTree, _inEquations, _inREquations, _inIEquations, _OMC_LIT101, 0 /* false */, &tmpMeta[0+1], &tmpMeta[0+2]);
          goto tmp3_done;
        }
        case 22: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_BackendDAECreate_lowerAlgorithm(threadData, _inElement, _functionTree, _inEquations, _inREquations, _inIEquations, _OMC_LIT101, 1 /* true */, &tmpMeta[0+1], &tmpMeta[0+2]);
          goto tmp3_done;
        }
        case 23: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,20,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_BackendDAECreate_lowerAlgorithm(threadData, _inElement, _functionTree, _inEquations, _inREquations, _inIEquations, _OMC_LIT102, _inInitialization, &tmpMeta[0+1], &tmpMeta[0+2]);
          goto tmp3_done;
        }
        case 24: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_BackendDAECreate_lowerAlgorithm(threadData, _inElement, _functionTree, _inEquations, _inREquations, _inIEquations, _OMC_LIT102, _inInitialization, &tmpMeta[0+1], &tmpMeta[0+2]);
          goto tmp3_done;
        }
        case 25: {
          modelica_metatype tmpMeta184;
          modelica_metatype tmpMeta185;
          modelica_metatype tmpMeta186;
          modelica_metatype tmpMeta187;
          modelica_metatype tmpMeta188;
          modelica_metatype tmpMeta189;
          modelica_metatype tmpMeta190;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,22,2) == 0) goto tmp3_end;
          tmpMeta184 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta185 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _msg = tmpMeta184;
          _source = tmpMeta185;
          /* Pattern matching succeeded */
          tmpMeta188 = mmc_mk_box3(12, &DAE_Statement_STMT__TERMINATE__desc, _msg, _source);
          tmpMeta187 = mmc_mk_cons(tmpMeta188, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta189 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta187);
          tmpMeta190 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(((modelica_integer) 0)), tmpMeta189, _source, _OMC_LIT102, _OMC_LIT49);
          tmpMeta186 = mmc_mk_cons(tmpMeta190, _inREquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = tmpMeta186;
          tmpMeta[0+2] = _inIEquations;
          goto tmp3_done;
        }
        case 26: {
          modelica_metatype tmpMeta191;
          modelica_metatype tmpMeta192;
          modelica_metatype tmpMeta193;
          modelica_metatype tmpMeta194;
          modelica_metatype tmpMeta195;
          modelica_metatype tmpMeta196;
          modelica_metatype tmpMeta197;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,23,2) == 0) goto tmp3_end;
          tmpMeta191 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta192 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _msg = tmpMeta191;
          _source = tmpMeta192;
          /* Pattern matching succeeded */
          tmpMeta195 = mmc_mk_box3(12, &DAE_Statement_STMT__TERMINATE__desc, _msg, _source);
          tmpMeta194 = mmc_mk_cons(tmpMeta195, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta196 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta194);
          tmpMeta197 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(((modelica_integer) 0)), tmpMeta196, _source, _OMC_LIT102, _OMC_LIT49);
          tmpMeta193 = mmc_mk_cons(tmpMeta197, _inIEquations);
          tmpMeta[0+0] = _inEquations;
          tmpMeta[0+1] = _inREquations;
          tmpMeta[0+2] = tmpMeta193;
          goto tmp3_done;
        }
        case 27: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,25,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_BackendDAECreate_lowerAlgorithm(threadData, _inElement, _functionTree, _inEquations, _inREquations, _inIEquations, _OMC_LIT102, 0 /* false */, &tmpMeta[0+1], &tmpMeta[0+2]);
          goto tmp3_done;
        }
        case 28: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,26,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_BackendDAECreate_lowerAlgorithm(threadData, _inElement, _functionTree, _inEquations, _inREquations, _inIEquations, _OMC_LIT102, 1 /* true */, &tmpMeta[0+1], &tmpMeta[0+2]);
          goto tmp3_done;
        }
        case 29: {
          modelica_metatype tmpMeta198;
          modelica_metatype tmpMeta199;
          modelica_metatype tmpMeta200;
          
          /* Pattern matching succeeded */
          tmpMeta198 = mmc_mk_cons(_inElement, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta199 = stringAppend(_OMC_LIT103,omc_DAEDump_dumpElementsStr(threadData, tmpMeta198));
          _s = tmpMeta199;

          tmpMeta200 = mmc_mk_cons(_s, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addSourceMessage(threadData, _OMC_LIT55, tmpMeta200, omc_ElementSource_getElementSourceFileInfo(threadData, omc_ElementSource_getElementSource(threadData, _inElement)));
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEquations = tmpMeta[0+0];
  _outREquations = tmpMeta[0+1];
  _outIEquations = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_outREquations) { *out_outREquations = _outREquations; }
  if (out_outIEquations) { *out_outIEquations = _outIEquations; }
  return _outEquations;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_lowerEqn(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _inEquations, modelica_metatype _inREquations, modelica_metatype _inIEquations, modelica_metatype _inInitialization, modelica_metatype *out_outREquations, modelica_metatype *out_outIEquations)
{
  modelica_integer tmp1;
  modelica_metatype _outEquations = NULL;
  tmp1 = mmc_unbox_integer(_inInitialization);
  _outEquations = omc_BackendDAECreate_lowerEqn(threadData, _inElement, _functionTree, _inEquations, _inREquations, _inIEquations, tmp1, out_outREquations, out_outIEquations);
  /* skip box _outEquations; list<BackendDAE.Equation> */
  /* skip box _outREquations; list<BackendDAE.Equation> */
  /* skip box _outIEquations; list<BackendDAE.Equation> */
  return _outEquations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerExtObjVarkind(threadData_t *threadData, modelica_metatype _inType)
{
  modelica_metatype _outVarKind = NULL;
  modelica_metatype _path = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVarKind has no default value.
  // _path has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inType;
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta1,9,4) == 0) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta2,17,1) == 0) MMC_THROW_INTERNAL();
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
  _path = tmpMeta3;

  tmpMeta4 = mmc_mk_box2(12, &BackendDAE_VarKind_EXTOBJ__desc, _path);
  _outVarKind = tmpMeta4;
  _return: OMC_LABEL_UNUSED
  return _outVarKind;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerExtObjVar(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree)
{
  modelica_metatype _outVar = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVar has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inElement;
    {
      modelica_metatype _dims = NULL;
      modelica_metatype _name = NULL;
      modelica_metatype _kind_1 = NULL;
      modelica_metatype _bind = NULL;
      modelica_metatype _dir = NULL;
      modelica_metatype _prl = NULL;
      modelica_metatype _tp = NULL;
      modelica_metatype _ct = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _dae_var_attr = NULL;
      modelica_metatype _ts = NULL;
      modelica_metatype _hideResult = NULL;
      modelica_metatype _comment = NULL;
      modelica_metatype _t = NULL;
      modelica_metatype _io = NULL;
      modelica_boolean _encrypted;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _dims has no default value.
      // _name has no default value.
      // _kind_1 has no default value.
      // _bind has no default value.
      // _dir has no default value.
      // _prl has no default value.
      // _tp has no default value.
      // _ct has no default value.
      // _source has no default value.
      // _dae_var_attr has no default value.
      // _ts has no default value.
      // _hideResult has no default value.
      // _comment has no default value.
      // _t has no default value.
      // _io has no default value.
      // _encrypted has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_integer tmp18;
          modelica_metatype tmpMeta19;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,14) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 8));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 10));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 12));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 13));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 14));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 15));
          tmp18 = mmc_unbox_integer(tmpMeta17);
          _name = tmpMeta6;
          _dir = tmpMeta7;
          _prl = tmpMeta8;
          _t = tmpMeta9;
          _bind = tmpMeta10;
          _dims = tmpMeta11;
          _ct = tmpMeta12;
          _source = tmpMeta13;
          _dae_var_attr = tmpMeta14;
          _comment = tmpMeta15;
          _io = tmpMeta16;
          _encrypted = tmp18  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          _kind_1 = omc_BackendDAECreate_lowerExtObjVarkind(threadData, _t);

          _tp = omc_BackendDAECreate_lowerType(threadData, _t);

          _ts = mmc_mk_none();

          _hideResult = mmc_mk_none();
          tmpMeta19 = mmc_mk_box19(3, &BackendDAE_Var_VAR__desc, _name, _kind_1, _dir, _prl, _tp, _bind, mmc_mk_none(), _dims, _source, _dae_var_attr, _ts, _hideResult, _comment, _ct, omc_DAEUtil_toDAEInnerOuter(threadData, _io), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(_encrypted));
          tmpMeta1 = tmpMeta19;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVar = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVar;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerType(threadData_t *threadData, modelica_metatype _inType)
{
  modelica_metatype _outType = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outType has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inType;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 11; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
          
          tmp4 += 9; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _OMC_LIT105;
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
          
          tmp4 += 8; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _OMC_LIT106;
          goto tmp3_done;
        }
        case 2: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
          
          tmp4 += 7; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _OMC_LIT107;
          goto tmp3_done;
        }
        case 3: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
          
          tmp4 += 6; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _OMC_LIT108;
          goto tmp3_done;
        }
        case 4: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,1) == 0) goto tmp3_end;
          
          tmp4 += 5; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _OMC_LIT75;
          goto tmp3_done;
        }
        case 5: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
          
          tmp4 += 4; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _inType;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,17,1) == 0) goto tmp3_end;
          
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _inType;
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,4) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,3,1) == 0) goto tmp3_end;
          
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _inType;
          goto tmp3_done;
        }
        case 8: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _inType;
          goto tmp3_done;
        }
        case 9: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _inType;
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          
          /* Pattern matching succeeded */
          tmpMeta8 = stringAppend(_OMC_LIT109,omc_Types_printTypeStr(threadData, _inType));
          tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT110);
          fputs(MMC_STRINGDATA(tmpMeta9),stdout);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 11) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outType = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outType;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerKnownVarkind(threadData_t *threadData, modelica_metatype _varKind, modelica_metatype _componentRef, modelica_metatype _varDirection, modelica_metatype _connectorType, modelica_metatype _visibility)
{
  modelica_metatype _outVarKind = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVarKind has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _varKind;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,0) == 0) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _OMC_LIT111;
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,0) == 0) goto tmp3_end;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _OMC_LIT112;
          goto tmp3_done;
        }
        case 2: {
          modelica_boolean tmp6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = omc_DAEUtil_topLevelInput(threadData, _componentRef, _varDirection, _connectorType, _visibility);
          if (1 /* true */ != tmp6) goto goto_2;
          tmpMeta1 = _OMC_LIT76;
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT113, _OMC_LIT115);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVarKind = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVarKind;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerVarkind(threadData_t *threadData, modelica_metatype _inVarKind, modelica_metatype _inType, modelica_metatype _inComponentRef, modelica_metatype _inVarDirection, modelica_metatype _inConnectorType, modelica_metatype _daeAttr, modelica_metatype _protection)
{
  modelica_metatype _outVarKind = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVarKind has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inVarKind;
    tmp4_2 = _daeAttr;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
          if (optionNone(tmp4_2)) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,15) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 10));
          if (optionNone(tmpMeta7)) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,4,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(!omc_Types_isDiscreteType(threadData, _inType))) goto tmp3_end;
          tmpMeta1 = _OMC_LIT116;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
          if (optionNone(tmp4_2)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,0,15) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 10));
          if (optionNone(tmpMeta10)) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,3,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(!omc_Types_isDiscreteType(threadData, _inType))) goto tmp3_end;
          tmpMeta1 = _OMC_LIT116;
          goto tmp3_done;
        }
        case 2: {
          modelica_boolean tmp12;
          modelica_metatype tmpMeta13;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp12 = omc_DAEUtil_topLevelInput(threadData, _inComponentRef, _inVarDirection, _inConnectorType, _protection);
          if (0 /* false */ != tmp12) goto goto_2;
          { /* match expression */
            modelica_metatype tmp16_1;modelica_metatype tmp16_2;
            tmp16_1 = _inVarKind;
            tmp16_2 = _inType;
            {
              volatile mmc_switch_type tmp16;
              int tmp17;
              tmp16 = 0;
              for (; tmp16 < 5; tmp16++) {
                switch (MMC_SWITCH_CAST(tmp16)) {
                case 0: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp16_1,0,0) == 0) goto tmp15_end;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp16_2,3,1) == 0) goto tmp15_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta13 = _OMC_LIT38;
                  goto tmp15_done;
                }
                case 1: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp16_1,0,0) == 0) goto tmp15_end;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp16_2,0,1) == 0) goto tmp15_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta13 = _OMC_LIT38;
                  goto tmp15_done;
                }
                case 2: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp16_1,0,0) == 0) goto tmp15_end;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp16_2,5,5) == 0) goto tmp15_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta13 = _OMC_LIT38;
                  goto tmp15_done;
                }
                case 3: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp16_1,0,0) == 0) goto tmp15_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta13 = _OMC_LIT76;
                  goto tmp15_done;
                }
                case 4: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp16_1,1,0) == 0) goto tmp15_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta13 = _OMC_LIT38;
                  goto tmp15_done;
                }
                }
                goto tmp15_end;
                tmp15_end: ;
              }
              goto goto_14;
              goto_14:;
              goto goto_2;
              goto tmp15_done;
              tmp15_done:;
            }
          }tmpMeta1 = tmpMeta13;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVarKind = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVarKind;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_setMinMaxFromEnumeration1(threadData_t *threadData, modelica_metatype _inMin, modelica_metatype _inMax, modelica_metatype _inVarAttr, modelica_metatype _inPath, modelica_metatype _inNames)
{
  modelica_metatype _outVarAttr = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVarAttr has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inMin;
    tmp4_2 = _inMax;
    {
      modelica_integer _i;
      modelica_metatype _namee1 = NULL;
      modelica_metatype _nameen = NULL;
      modelica_string _s1 = NULL;
      modelica_string _sn = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _i has no default value.
      // _namee1 has no default value.
      // _nameen has no default value.
      // _s1 has no default value.
      // _sn has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (!optionNone(tmp4_1)) goto tmp3_end;
          if (!optionNone(tmp4_2)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          _i = listLength(_inNames);

          _s1 = listHead(_inNames);

          tmpMeta6 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _s1);
          _namee1 = omc_AbsynUtil_joinPaths(threadData, _inPath, tmpMeta6);

          _sn = listGet(_inNames, _i);

          tmpMeta7 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _sn);
          _nameen = omc_AbsynUtil_joinPaths(threadData, _inPath, tmpMeta7);
          tmpMeta8 = mmc_mk_box3(8, &DAE_Exp_ENUM__LITERAL__desc, _namee1, mmc_mk_integer(((modelica_integer) 1)));
          tmpMeta9 = mmc_mk_box3(8, &DAE_Exp_ENUM__LITERAL__desc, _nameen, mmc_mk_integer(_i));
          tmpMeta1 = omc_DAEUtil_setMinMax(threadData, _inVarAttr, mmc_mk_some(tmpMeta8), mmc_mk_some(tmpMeta9));
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (!optionNone(tmp4_1)) goto tmp3_end;
          if (optionNone(tmp4_2)) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _s1 = listHead(_inNames);

          tmpMeta11 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _s1);
          _namee1 = omc_AbsynUtil_joinPaths(threadData, _inPath, tmpMeta11);
          tmpMeta12 = mmc_mk_box3(8, &DAE_Exp_ENUM__LITERAL__desc, _namee1, mmc_mk_integer(((modelica_integer) 1)));
          tmpMeta1 = omc_DAEUtil_setMinMax(threadData, _inVarAttr, mmc_mk_some(tmpMeta12), _inMax);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          if (!optionNone(tmp4_2)) goto tmp3_end;
          /* Pattern matching succeeded */
          _i = listLength(_inNames);

          _sn = listGet(_inNames, _i);

          tmpMeta14 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _sn);
          _nameen = omc_AbsynUtil_joinPaths(threadData, _inPath, tmpMeta14);
          tmpMeta15 = mmc_mk_box3(8, &DAE_Exp_ENUM__LITERAL__desc, _nameen, mmc_mk_integer(_i));
          tmpMeta1 = omc_DAEUtil_setMinMax(threadData, _inVarAttr, _inMin, mmc_mk_some(tmpMeta15));
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _inVarAttr;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVarAttr = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVarAttr;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_setMinMaxFromEnumeration(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inVarAttr)
{
  modelica_metatype _outVarAttr = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVarAttr has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inType;
    {
      modelica_metatype _min = NULL;
      modelica_metatype _max = NULL;
      modelica_metatype _names = NULL;
      modelica_metatype _path = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _min has no default value.
      // _max has no default value.
      // _names has no default value.
      // _path has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _path = tmpMeta6;
          _names = tmpMeta7;
          /* Pattern matching succeeded */
          _min = omc_DAEUtil_getMinMaxValues(threadData, _inVarAttr ,&_max);
          tmpMeta1 = omc_BackendDAECreate_setMinMaxFromEnumeration1(threadData, _min, _max, _inVarAttr, _path, _names);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _inVarAttr;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVarAttr = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVarAttr;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_inlineExpOpt1(threadData_t *threadData, modelica_metatype _iExp, modelica_metatype _fnstpl, modelica_metatype _iSource, modelica_metatype _iInlineHT, modelica_metatype *out_oSource, modelica_metatype *out_oInlineHT, modelica_metatype *out_assrtLstOut)
{
  modelica_metatype _oExp = NULL;
  modelica_metatype _oSource = NULL;
  modelica_metatype _oInlineHT = NULL;
  modelica_metatype _assrtLstOut = NULL;
  modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oExp has no default value.
  // _oSource has no default value.
  // _oInlineHT has no default value.
  // _assrtLstOut has no default value.
  
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _iExp;
    {
      modelica_metatype _e = NULL;
      modelica_metatype _e1 = NULL;
      modelica_metatype _elst = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _inlineHT = NULL;
      modelica_boolean _inlined;
      modelica_metatype _assrtLst = NULL;
      modelica_metatype _assrtLst1 = NULL;
      modelica_metatype _assrtLst2 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _e has no default value.
      // _e1 has no default value.
      // _elst has no default value.
      // _source has no default value.
      // _inlineHT has no default value.
      // _inlined has no default value.
      // _assrtLst has no default value.
      // _assrtLst1 has no default value.
      // _assrtLst2 has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _e1 = omc_BaseHashTable_get(threadData, _iExp, _iInlineHT);

          tmpMeta6 = mmc_mk_box2(3, &DAE_EquationExp_PARTIAL__EQUATION__desc, _iExp);
          tmpMeta7 = mmc_mk_box2(3, &DAE_EquationExp_PARTIAL__EQUATION__desc, _e1);
          tmpMeta8 = mmc_mk_box3(6, &DAE_SymbolicOperation_OP__INLINE__desc, tmpMeta6, tmpMeta7);
          _source = omc_ElementSource_addSymbolicTransformation(threadData, _iSource, tmpMeta8);
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = _e1;
          tmpMeta[0+1] = _source;
          tmpMeta[0+2] = _iInlineHT;
          tmpMeta[0+3] = tmpMeta9;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          _e1 = omc_Inline_inlineExp(threadData, _iExp, _fnstpl, _iSource ,&_source ,&_inlined ,NULL);

          tmp11 = (modelica_boolean)_inlined;
          if(tmp11)
          {
            tmpMeta10 = mmc_mk_box2(0, _iExp, _e1);
            tmpMeta12 = omc_BaseHashTable_add(threadData, tmpMeta10, _iInlineHT);
          }
          else
          {
            tmpMeta12 = _iInlineHT;
          }
          _inlineHT = tmpMeta12;
          tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = _e1;
          tmpMeta[0+1] = _source;
          tmpMeta[0+2] = _inlineHT;
          tmpMeta[0+3] = tmpMeta13;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,2) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _e = tmpMeta14;
          _elst = tmpMeta15;
          /* Pattern matching succeeded */
          _e1 = omc_BaseHashTable_get(threadData, _e, _iInlineHT);

          tmpMeta16 = mmc_mk_box2(3, &DAE_EquationExp_PARTIAL__EQUATION__desc, _e);
          tmpMeta17 = mmc_mk_box2(3, &DAE_EquationExp_PARTIAL__EQUATION__desc, _e1);
          tmpMeta18 = mmc_mk_box3(6, &DAE_SymbolicOperation_OP__INLINE__desc, tmpMeta16, tmpMeta17);
          _source = omc_ElementSource_addSymbolicTransformation(threadData, _iSource, tmpMeta18);

          tmpMeta19 = mmc_mk_box3(24, &DAE_Exp_ASUB__desc, _e1, _elst);
          _e = omc_Inline_inlineExp(threadData, tmpMeta19, _fnstpl, _source ,&_source ,NULL ,NULL);
          tmpMeta20 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = _e;
          tmpMeta[0+1] = _source;
          tmpMeta[0+2] = _iInlineHT;
          tmpMeta[0+3] = tmpMeta20;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_boolean tmp24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,2) == 0) goto tmp3_end;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _e = tmpMeta21;
          _elst = tmpMeta22;
          /* Pattern matching succeeded */
          _e1 = omc_Inline_inlineExp(threadData, _e, _fnstpl, _iSource ,NULL ,&_inlined ,&_assrtLst1);

          tmp24 = (modelica_boolean)_inlined;
          if(tmp24)
          {
            tmpMeta23 = mmc_mk_box2(0, _e, _e1);
            tmpMeta25 = omc_BaseHashTable_add(threadData, tmpMeta23, _iInlineHT);
          }
          else
          {
            tmpMeta25 = _iInlineHT;
          }
          _inlineHT = tmpMeta25;

          tmpMeta26 = mmc_mk_box3(24, &DAE_Exp_ASUB__desc, _e1, _elst);
          _e = omc_Inline_inlineExp(threadData, tmpMeta26, _fnstpl, _iSource ,&_source ,NULL ,&_assrtLst2);

          _assrtLst = listAppend(_assrtLst1, _assrtLst2);
          tmpMeta[0+0] = _e;
          tmpMeta[0+1] = _source;
          tmpMeta[0+2] = _inlineHT;
          tmpMeta[0+3] = _assrtLst;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta27;
          
          /* Pattern matching succeeded */
          _e = omc_Inline_inlineExp(threadData, _iExp, _fnstpl, _iSource ,&_source ,NULL ,NULL);
          tmpMeta27 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = _e;
          tmpMeta[0+1] = _source;
          tmpMeta[0+2] = _iInlineHT;
          tmpMeta[0+3] = tmpMeta27;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _oExp = tmpMeta[0+0];
  _oSource = tmpMeta[0+1];
  _oInlineHT = tmpMeta[0+2];
  _assrtLstOut = tmpMeta[0+3];
  _return: OMC_LABEL_UNUSED
  if (out_oSource) { *out_oSource = _oSource; }
  if (out_oInlineHT) { *out_oInlineHT = _oInlineHT; }
  if (out_assrtLstOut) { *out_assrtLstOut = _assrtLstOut; }
  return _oExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_inlineExpOpt(threadData_t *threadData, modelica_metatype _iOptExp, modelica_metatype _fnstpl, modelica_metatype _iSource, modelica_metatype _iInlineHT, modelica_metatype *out_oSource, modelica_metatype *out_oInlineHT, modelica_metatype *out_assrtLstOut)
{
  modelica_metatype _oOptExp = NULL;
  modelica_metatype _oSource = NULL;
  modelica_metatype _oInlineHT = NULL;
  modelica_metatype _assrtLstOut = NULL;
  modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oOptExp has no default value.
  // _oSource has no default value.
  // _oInlineHT has no default value.
  // _assrtLstOut has no default value.
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _iOptExp;
    {
      modelica_metatype _e = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _inlineHT = NULL;
      modelica_metatype _assrtLst = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _e has no default value.
      // _source has no default value.
      // _inlineHT has no default value.
      // _assrtLst has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!optionNone(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = _iOptExp;
          tmpMeta[0+1] = _iSource;
          tmpMeta[0+2] = _iInlineHT;
          tmpMeta[0+3] = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          _e = tmpMeta7;
          /* Pattern matching succeeded */
          _e = omc_BackendDAECreate_inlineExpOpt1(threadData, _e, _fnstpl, _iSource, _iInlineHT ,&_source ,&_inlineHT ,&_assrtLst);
          tmpMeta[0+0] = mmc_mk_some(_e);
          tmpMeta[0+1] = _source;
          tmpMeta[0+2] = _inlineHT;
          tmpMeta[0+3] = _assrtLst;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oOptExp = tmpMeta[0+0];
  _oSource = tmpMeta[0+1];
  _oInlineHT = tmpMeta[0+2];
  _assrtLstOut = tmpMeta[0+3];
  _return: OMC_LABEL_UNUSED
  if (out_oSource) { *out_oSource = _oSource; }
  if (out_oInlineHT) { *out_oInlineHT = _oInlineHT; }
  if (out_assrtLstOut) { *out_assrtLstOut = _assrtLstOut; }
  return _oOptExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_buildAssertAlgorithms(threadData_t *threadData, modelica_metatype _assrtIn, modelica_metatype _source, modelica_metatype _eqIn)
{
  modelica_metatype _eqOut = NULL;
  modelica_metatype _eq = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _eqOut = _eqIn;
  // _eq has no default value.
  {
    modelica_metatype _assrt;
    for (tmpMeta1 = _assrtIn; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _assrt = MMC_CAR(tmpMeta1);
      tmpMeta3 = mmc_mk_cons(_assrt, MMC_REFSTRUCTLIT(mmc_nil));
      tmpMeta4 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta3);
      tmpMeta5 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(((modelica_integer) 0)), tmpMeta4, _source, _OMC_LIT101, _OMC_LIT49);
      tmpMeta2 = mmc_mk_cons(tmpMeta5, _eqOut);
      _eqOut = tmpMeta2;
    }
  }
  _return: OMC_LABEL_UNUSED
  return _eqOut;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_replaceFillWithExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fbind)
{
  modelica_metatype _bind = NULL;
  modelica_metatype _e1 = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _bind = __omcQ_24in_5Fbind;
  // _e1 has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _bind;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,13,3) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,1,1) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          if (4 != MMC_STRLEN(tmpMeta8) || strcmp(MMC_STRINGDATA(_OMC_LIT117), MMC_STRINGDATA(tmpMeta8)) != 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          if (listEmpty(tmpMeta9)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmpMeta9);
          tmpMeta11 = MMC_CDR(tmpMeta9);
          if (listEmpty(tmpMeta11)) goto tmp3_end;
          tmpMeta12 = MMC_CAR(tmpMeta11);
          tmpMeta13 = MMC_CDR(tmpMeta11);
          if (!listEmpty(tmpMeta13)) goto tmp3_end;
          
          _e1 = tmpMeta10;
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_some(_e1);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _bind;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _bind = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _bind;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_replaceFillWithExpInAttributes(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fattr)
{
  modelica_metatype _attr = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _attr = __omcQ_24in_5Fattr;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _attr;
    {
      modelica_metatype _q = NULL;
      modelica_metatype _u = NULL;
      modelica_metatype _du = NULL;
      modelica_metatype _i = NULL;
      modelica_metatype _f = NULL;
      modelica_metatype _n = NULL;
      modelica_metatype _so = NULL;
      modelica_metatype _min = NULL;
      modelica_metatype _max = NULL;
      modelica_metatype _ss = NULL;
      modelica_metatype _unc = NULL;
      modelica_metatype _distOpt = NULL;
      modelica_metatype _eb = NULL;
      modelica_metatype _ip = NULL;
      modelica_metatype _fn = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _q has no default value.
      // _u has no default value.
      // _du has no default value.
      // _i has no default value.
      // _f has no default value.
      // _n has no default value.
      // _so has no default value.
      // _min has no default value.
      // _max has no default value.
      // _ss has no default value.
      // _unc has no default value.
      // _distOpt has no default value.
      // _eb has no default value.
      // _ip has no default value.
      // _fn has no default value.
      tmp4 = 0;
      for (; tmp4 < 6; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,15) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 5));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 6));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 7));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 8));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 9));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 10));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 11));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 12));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 13));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 14));
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 15));
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 16));
          _q = tmpMeta7;
          _u = tmpMeta8;
          _du = tmpMeta9;
          _min = tmpMeta10;
          _max = tmpMeta11;
          _i = tmpMeta12;
          _f = tmpMeta13;
          _n = tmpMeta14;
          _ss = tmpMeta15;
          _unc = tmpMeta16;
          _distOpt = tmpMeta17;
          _eb = tmpMeta18;
          _ip = tmpMeta19;
          _fn = tmpMeta20;
          _so = tmpMeta21;
          /* Pattern matching succeeded */
          _q = omc_BackendDAECreate_replaceFillWithExp(threadData, _q);

          _u = omc_BackendDAECreate_replaceFillWithExp(threadData, _u);

          _du = omc_BackendDAECreate_replaceFillWithExp(threadData, _du);

          _min = omc_BackendDAECreate_replaceFillWithExp(threadData, _min);

          _max = omc_BackendDAECreate_replaceFillWithExp(threadData, _max);

          _i = omc_BackendDAECreate_replaceFillWithExp(threadData, _i);

          _f = omc_BackendDAECreate_replaceFillWithExp(threadData, _f);

          _n = omc_BackendDAECreate_replaceFillWithExp(threadData, _n);
          tmpMeta22 = mmc_mk_box16(3, &DAE_VariableAttributes_VAR__ATTR__REAL__desc, _q, _u, _du, _min, _max, _i, _f, _n, _ss, _unc, _distOpt, _eb, _ip, _fn, _so);
          tmpMeta1 = mmc_mk_some(tmpMeta22);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta23,1,11) == 0) goto tmp3_end;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 2));
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 3));
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 4));
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 5));
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 6));
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 7));
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 8));
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 9));
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 10));
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 11));
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 12));
          _q = tmpMeta24;
          _min = tmpMeta25;
          _max = tmpMeta26;
          _i = tmpMeta27;
          _f = tmpMeta28;
          _unc = tmpMeta29;
          _distOpt = tmpMeta30;
          _eb = tmpMeta31;
          _ip = tmpMeta32;
          _fn = tmpMeta33;
          _so = tmpMeta34;
          /* Pattern matching succeeded */
          _q = omc_BackendDAECreate_replaceFillWithExp(threadData, _q);

          _min = omc_BackendDAECreate_replaceFillWithExp(threadData, _min);

          _max = omc_BackendDAECreate_replaceFillWithExp(threadData, _max);

          _i = omc_BackendDAECreate_replaceFillWithExp(threadData, _i);

          _f = omc_BackendDAECreate_replaceFillWithExp(threadData, _f);
          tmpMeta35 = mmc_mk_box12(4, &DAE_VariableAttributes_VAR__ATTR__INT__desc, _q, _min, _max, _i, _f, _unc, _distOpt, _eb, _ip, _fn, _so);
          tmpMeta1 = mmc_mk_some(tmpMeta35);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta36,2,7) == 0) goto tmp3_end;
          tmpMeta37 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta36), 2));
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta36), 3));
          tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta36), 4));
          tmpMeta40 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta36), 5));
          tmpMeta41 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta36), 6));
          tmpMeta42 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta36), 7));
          tmpMeta43 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta36), 8));
          _q = tmpMeta37;
          _i = tmpMeta38;
          _f = tmpMeta39;
          _eb = tmpMeta40;
          _ip = tmpMeta41;
          _fn = tmpMeta42;
          _so = tmpMeta43;
          /* Pattern matching succeeded */
          _q = omc_BackendDAECreate_replaceFillWithExp(threadData, _q);

          _i = omc_BackendDAECreate_replaceFillWithExp(threadData, _i);

          _f = omc_BackendDAECreate_replaceFillWithExp(threadData, _f);
          tmpMeta44 = mmc_mk_box8(5, &DAE_VariableAttributes_VAR__ATTR__BOOL__desc, _q, _i, _f, _eb, _ip, _fn, _so);
          tmpMeta1 = mmc_mk_some(tmpMeta44);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta45 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta45,4,7) == 0) goto tmp3_end;
          tmpMeta46 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta45), 2));
          tmpMeta47 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta45), 3));
          tmpMeta48 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta45), 4));
          tmpMeta49 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta45), 5));
          tmpMeta50 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta45), 6));
          tmpMeta51 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta45), 7));
          tmpMeta52 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta45), 8));
          _q = tmpMeta46;
          _i = tmpMeta47;
          _f = tmpMeta48;
          _eb = tmpMeta49;
          _ip = tmpMeta50;
          _fn = tmpMeta51;
          _so = tmpMeta52;
          /* Pattern matching succeeded */
          _q = omc_BackendDAECreate_replaceFillWithExp(threadData, _q);

          _i = omc_BackendDAECreate_replaceFillWithExp(threadData, _i);

          _f = omc_BackendDAECreate_replaceFillWithExp(threadData, _f);
          tmpMeta53 = mmc_mk_box8(7, &DAE_VariableAttributes_VAR__ATTR__STRING__desc, _q, _i, _f, _eb, _ip, _fn, _so);
          tmpMeta1 = mmc_mk_some(tmpMeta53);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          modelica_metatype tmpMeta56;
          modelica_metatype tmpMeta57;
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          modelica_metatype tmpMeta63;
          modelica_metatype tmpMeta64;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta54 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta54,5,9) == 0) goto tmp3_end;
          tmpMeta55 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta54), 2));
          tmpMeta56 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta54), 3));
          tmpMeta57 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta54), 4));
          tmpMeta58 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta54), 5));
          tmpMeta59 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta54), 6));
          tmpMeta60 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta54), 7));
          tmpMeta61 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta54), 8));
          tmpMeta62 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta54), 9));
          tmpMeta63 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta54), 10));
          _q = tmpMeta55;
          _min = tmpMeta56;
          _max = tmpMeta57;
          _u = tmpMeta58;
          _du = tmpMeta59;
          _eb = tmpMeta60;
          _ip = tmpMeta61;
          _fn = tmpMeta62;
          _so = tmpMeta63;
          /* Pattern matching succeeded */
          _q = omc_BackendDAECreate_replaceFillWithExp(threadData, _q);

          _min = omc_BackendDAECreate_replaceFillWithExp(threadData, _min);

          _max = omc_BackendDAECreate_replaceFillWithExp(threadData, _max);

          _u = omc_BackendDAECreate_replaceFillWithExp(threadData, _u);

          _du = omc_BackendDAECreate_replaceFillWithExp(threadData, _du);
          tmpMeta64 = mmc_mk_box10(8, &DAE_VariableAttributes_VAR__ATTR__ENUMERATION__desc, _q, _min, _max, _u, _du, _eb, _ip, _fn, _so);
          tmpMeta1 = mmc_mk_some(tmpMeta64);
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _attr;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _attr = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _attr;
}

DLLDirection
modelica_metatype omc_BackendDAECreate_lowerKnownVarSingle(threadData_t *threadData, modelica_metatype _element)
{
  modelica_metatype _var_opt = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var_opt has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _element;
    {
      modelica_metatype _elem = NULL;
      modelica_boolean _visibility;
      modelica_metatype _var = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _elem has no default value.
      // _visibility has no default value.
      // _var has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,14) == 0) goto tmp3_end;
          
          _elem = tmp4_1;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_DAEUtil_isParamOrConstVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 3))))) goto tmp3_end;
          _visibility = omc_DAEUtil_boolVarVisibility(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 6))));

          tmpMeta6 = mmc_mk_box19(3, &BackendDAE_Var_VAR__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 2))), omc_BackendDAECreate_lowerKnownVarkind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 10))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 6)))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 5))), omc_BackendDAECreate_lowerType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 7)))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 8))), mmc_mk_none(), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_element), 9))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_element), 11))), omc_BackendDAECreate_setMinMaxFromEnumeration(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 7))), omc_DAEUtil_setProtectedAttr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 12))), _visibility)), mmc_mk_none(), omc_BackendDAEUtil_setHideResultAttribute(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_element), 13))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 2)))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_element), 13))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_element), 10))), omc_DAEUtil_toDAEInnerOuter(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_element), 14)))), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elem), 15))));
          _var = tmpMeta6;
          tmpMeta1 = mmc_mk_some(_var);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_none();
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var_opt = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var_opt;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerKnownVar(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree, modelica_metatype _iInlineHT, modelica_metatype _assrtEqIn, modelica_metatype *out_oInlineHT, modelica_metatype *out_assrtEqOut)
{
  modelica_metatype _outVar = NULL;
  modelica_metatype _oInlineHT = NULL;
  modelica_metatype _assrtEqOut = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVar has no default value.
  // _oInlineHT has no default value.
  // _assrtEqOut has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inElement;
    {
      modelica_metatype _dims = NULL;
      modelica_metatype _name = NULL;
      modelica_metatype _kind_1 = NULL;
      modelica_metatype _bind = NULL;
      modelica_metatype _kind = NULL;
      modelica_metatype _dir = NULL;
      modelica_metatype _prl = NULL;
      modelica_metatype _tp = NULL;
      modelica_metatype _ct = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _dae_var_attr = NULL;
      modelica_metatype _ts = NULL;
      modelica_metatype _hideResult = NULL;
      modelica_metatype _comment = NULL;
      modelica_metatype _t = NULL;
      modelica_metatype _protection = NULL;
      modelica_boolean _b;
      modelica_string _str = NULL;
      modelica_metatype _eqLst = NULL;
      modelica_metatype _io = NULL;
      modelica_boolean _encrypted;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _dims has no default value.
      // _name has no default value.
      // _kind_1 has no default value.
      // _bind has no default value.
      // _kind has no default value.
      // _dir has no default value.
      // _prl has no default value.
      // _tp has no default value.
      // _ct has no default value.
      // _source has no default value.
      // _dae_var_attr has no default value.
      // _ts has no default value.
      // _hideResult has no default value.
      // _comment has no default value.
      // _t has no default value.
      // _protection has no default value.
      // _b has no default value.
      // _str has no default value.
      // _eqLst has no default value.
      // _io has no default value.
      // _encrypted has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_integer tmp20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,14) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 8));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 10));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 12));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 13));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 14));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 15));
          tmp20 = mmc_unbox_integer(tmpMeta19);
          _name = tmpMeta6;
          _kind = tmpMeta7;
          _dir = tmpMeta8;
          _prl = tmpMeta9;
          _protection = tmpMeta10;
          _t = tmpMeta11;
          _bind = tmpMeta12;
          _dims = tmpMeta13;
          _ct = tmpMeta14;
          _source = tmpMeta15;
          _dae_var_attr = tmpMeta16;
          _comment = tmpMeta17;
          _io = tmpMeta18;
          _encrypted = tmp20  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          _kind_1 = omc_BackendDAECreate_lowerKnownVarkind(threadData, _kind, _name, _dir, _ct, _protection);

          if(((!omc_Flags_isSet(threadData, _OMC_LIT95)) && (!listEmpty(_dims))))
          {
            _bind = omc_BackendDAECreate_replaceFillWithExp(threadData, _bind);

            _dae_var_attr = omc_BackendDAECreate_replaceFillWithExpInAttributes(threadData, _dae_var_attr);
          }

          _tp = omc_BackendDAECreate_lowerType(threadData, _t);

          _b = omc_DAEUtil_boolVarVisibility(threadData, _protection);

          _dae_var_attr = omc_DAEUtil_setProtectedAttr(threadData, _dae_var_attr, _b);

          _dae_var_attr = omc_BackendDAECreate_setMinMaxFromEnumeration(threadData, _t, _dae_var_attr);

          tmpMeta21 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqLst = omc_BackendDAECreate_buildAssertAlgorithms(threadData, tmpMeta21, _source, _assrtEqIn);

          _ts = mmc_mk_none();

          _hideResult = omc_BackendDAEUtil_setHideResultAttribute(threadData, _comment, _name);
          tmpMeta22 = mmc_mk_box19(3, &BackendDAE_Var_VAR__desc, _name, _kind_1, _dir, _prl, _tp, _bind, mmc_mk_none(), _dims, _source, _dae_var_attr, _ts, _hideResult, _comment, _ct, omc_DAEUtil_toDAEInnerOuter(threadData, _io), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(_encrypted));
          tmpMeta[0+0] = tmpMeta22;
          tmpMeta[0+1] = _iInlineHT;
          tmpMeta[0+2] = _eqLst;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          
          /* Pattern matching succeeded */
          tmpMeta23 = mmc_mk_cons(_inElement, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta24 = stringAppend(_OMC_LIT118,omc_DAEDump_dumpElementsStr(threadData, tmpMeta23));
          _str = tmpMeta24;

          tmpMeta25 = mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT55, tmpMeta25);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVar = tmpMeta[0+0];
  _oInlineHT = tmpMeta[0+1];
  _assrtEqOut = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oInlineHT) { *out_oInlineHT = _oInlineHT; }
  if (out_assrtEqOut) { *out_assrtEqOut = _assrtEqOut; }
  return _outVar;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerDynamicVar(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _functionTree)
{
  modelica_metatype _outVar = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVar has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inElement;
    {
      modelica_metatype _dims = NULL;
      modelica_metatype _name = NULL;
      modelica_metatype _kind_1 = NULL;
      modelica_metatype _kind = NULL;
      modelica_metatype _dir = NULL;
      modelica_metatype _prl = NULL;
      modelica_metatype _tp = NULL;
      modelica_metatype _ct = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _dae_var_attr = NULL;
      modelica_metatype _ts = NULL;
      modelica_metatype _hideResult = NULL;
      modelica_metatype _comment = NULL;
      modelica_metatype _t = NULL;
      modelica_metatype _protection = NULL;
      modelica_boolean _b;
      modelica_metatype _io = NULL;
      modelica_boolean _encrypted;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _dims has no default value.
      // _name has no default value.
      // _kind_1 has no default value.
      // _kind has no default value.
      // _dir has no default value.
      // _prl has no default value.
      // _tp has no default value.
      // _ct has no default value.
      // _source has no default value.
      // _dae_var_attr has no default value.
      // _ts has no default value.
      // _hideResult has no default value.
      // _comment has no default value.
      // _t has no default value.
      // _protection has no default value.
      // _b has no default value.
      // _io has no default value.
      // _encrypted has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_integer tmp19;
          modelica_metatype tmpMeta20;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,14) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 10));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 12));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 13));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 14));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 15));
          tmp19 = mmc_unbox_integer(tmpMeta18);
          _name = tmpMeta6;
          _kind = tmpMeta7;
          _dir = tmpMeta8;
          _prl = tmpMeta9;
          _protection = tmpMeta10;
          _t = tmpMeta11;
          _dims = tmpMeta12;
          _ct = tmpMeta13;
          _source = tmpMeta14;
          _dae_var_attr = tmpMeta15;
          _comment = tmpMeta16;
          _io = tmpMeta17;
          _encrypted = tmp19  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          _kind_1 = omc_BackendDAECreate_lowerVarkind(threadData, _kind, _t, _name, _dir, _ct, _dae_var_attr, _protection);

          _tp = omc_BackendDAECreate_lowerType(threadData, _t);

          _b = omc_DAEUtil_boolVarVisibility(threadData, _protection);

          _dae_var_attr = omc_DAEUtil_setProtectedAttr(threadData, _dae_var_attr, _b);

          _dae_var_attr = omc_BackendDAECreate_setMinMaxFromEnumeration(threadData, _t, _dae_var_attr);

          if(((!omc_Flags_isSet(threadData, _OMC_LIT95)) && (!listEmpty(_dims))))
          {
            _dae_var_attr = omc_BackendDAECreate_replaceFillWithExpInAttributes(threadData, _dae_var_attr);
          }

          _ts = omc_BackendDAEUtil_setTearingSelectAttribute(threadData, _comment);

          _hideResult = omc_BackendDAEUtil_setHideResultAttribute(threadData, _comment, _name);
          tmpMeta20 = mmc_mk_box19(3, &BackendDAE_Var_VAR__desc, _name, _kind_1, _dir, _prl, _tp, mmc_mk_none(), mmc_mk_none(), _dims, _source, _dae_var_attr, _ts, _hideResult, _comment, _ct, omc_DAEUtil_toDAEInnerOuter(threadData, _io), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(_encrypted));
          tmpMeta1 = tmpMeta20;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVar = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVar;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_BackendDAECreate_isStateOrAlgvar(threadData_t *threadData, modelica_metatype _e)
{
  modelica_boolean _out;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _e;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,14) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,14) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,1,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out = tmp1;
  _return: OMC_LABEL_UNUSED
  return _out;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_isStateOrAlgvar(threadData_t *threadData, modelica_metatype _e)
{
  modelica_boolean _out;
  modelica_metatype out_out;
  _out = omc_BackendDAECreate_isStateOrAlgvar(threadData, _e);
  out_out = mmc_mk_icon(_out);
  return out_out;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lowerVar(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inFunctions, modelica_metatype _inVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _inExVars, modelica_metatype _inEqns, modelica_metatype _inREqns, modelica_metatype _inInlineHT, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_outExVars, modelica_metatype *out_outEqns, modelica_metatype *out_outREqns, modelica_metatype *out_outInlineHT)
{
  modelica_metatype _outVars = NULL;
  modelica_metatype _outGlobalKnownVars = NULL;
  modelica_metatype _outExVars = NULL;
  modelica_metatype _outEqns = NULL;
  modelica_metatype _outREqns = NULL;
  modelica_metatype _outInlineHT = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outVars = _inVars;
  _outGlobalKnownVars = _inGlobalKnownVars;
  _outExVars = _inExVars;
  _outEqns = _inEqns;
  _outREqns = _inREqns;
  _outInlineHT = _inInlineHT;
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _inElement;
    {
      modelica_metatype _cr = NULL;
      modelica_metatype _src = NULL;
      modelica_metatype _e1 = NULL;
      modelica_metatype _e2 = NULL;
      modelica_metatype _dims = NULL;
      modelica_metatype _tp = NULL;
      modelica_metatype _attr = NULL;
      modelica_metatype _var = NULL;
      modelica_metatype _recordSize = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _cr has no default value.
      // _src has no default value.
      // _e1 has no default value.
      // _e2 has no default value.
      // _dims has no default value.
      // _tp has no default value.
      // _attr has no default value.
      // _var has no default value.
      // _recordSize has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 5; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,14) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta5,9,4) == 0) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,17,1) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_cons(omc_BackendDAECreate_lowerExtObjVar(threadData, _inElement, _inFunctions), _outExVars);
          _outExVars = tmpMeta7;
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,14) == 0) goto tmp2_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 8));
          if (optionNone(tmpMeta9)) goto tmp2_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 1));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 11));
          
          _cr = tmpMeta8;
          _e2 = tmpMeta10;
          _src = tmpMeta11;
          tmp3 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Check guard condition after assignments */
          if (!omc_BackendDAECreate_isStateOrAlgvar(threadData, _inElement)) goto tmp2_end;
          tmpMeta12 = mmc_mk_cons(omc_BackendDAECreate_lowerDynamicVar(threadData, _inElement, _inFunctions), _outVars);
          _outVars = tmpMeta12;

          _attr = _OMC_LIT120;

          tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
          _tp = omc_ComponentReference_crefTypeFull2(threadData, _cr, tmpMeta13 ,&_dims);

          _tp = omc_DAEUtil_expTypeElementType(threadData, _tp);

          if(omc_DAEUtil_expTypeComplex(threadData, _tp))
          {
            _recordSize = mmc_mk_some(mmc_mk_integer(omc_Expression_sizeOf(threadData, _tp)));
          }
          else
          {
            _recordSize = mmc_mk_none();
          }

          { /* match expression */
            modelica_boolean tmp17_1;modelica_boolean tmp17_2;modelica_metatype tmp17_3;
            tmp17_1 = omc_Flags_isSet(threadData, _OMC_LIT95);
            tmp17_2 = listEmpty(_dims);
            tmp17_3 = _e2;
            {
              volatile mmc_switch_type tmp17;
              int tmp18;
              tmp17 = 0;
              for (; tmp17 < 2; tmp17++) {
                switch (MMC_SWITCH_CAST(tmp17)) {
                case 0: {
                  modelica_metatype tmpMeta19;
                  modelica_metatype tmpMeta20;
                  modelica_metatype tmpMeta21;
                  modelica_metatype tmpMeta22;
                  modelica_metatype tmpMeta23;
                  modelica_metatype tmpMeta24;
                  modelica_metatype tmpMeta25;
                  if (0 /* false */ != tmp17_1) goto tmp16_end;
                  if (0 /* false */ != tmp17_2) goto tmp16_end;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp17_3,13,3) == 0) goto tmp16_end;
                  tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp17_3), 2));
                  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta19,1,1) == 0) goto tmp16_end;
                  tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta19), 2));
                  if (4 != MMC_STRLEN(tmpMeta20) || strcmp(MMC_STRINGDATA(_OMC_LIT117), MMC_STRINGDATA(tmpMeta20)) != 0) goto tmp16_end;
                  tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp17_3), 3));
                  if (listEmpty(tmpMeta21)) goto tmp16_end;
                  tmpMeta22 = MMC_CAR(tmpMeta21);
                  tmpMeta23 = MMC_CDR(tmpMeta21);
                  if (listEmpty(tmpMeta23)) goto tmp16_end;
                  tmpMeta24 = MMC_CAR(tmpMeta23);
                  tmpMeta25 = MMC_CDR(tmpMeta23);
                  if (!listEmpty(tmpMeta25)) goto tmp16_end;
                  
                  _e1 = tmpMeta22;
                  /* Pattern matching succeeded */
                  tmpMeta14 = _e1;
                  goto tmp16_done;
                }
                case 1: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta14 = _e2;
                  goto tmp16_done;
                }
                }
                goto tmp16_end;
                tmp16_end: ;
              }
              goto goto_15;
              goto_15:;
              goto goto_1;
              goto tmp16_done;
              tmp16_done:;
            }
          }
          _e2 = tmpMeta14;

          _e1 = omc_Expression_crefExp(threadData, _cr);

          if(listEmpty(_dims))
          {
            tmpMeta27 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _e1, _e2, _src, _attr);
            tmpMeta26 = mmc_mk_cons(tmpMeta27, _outEqns);
            _outEqns = tmpMeta26;
          }
          else
          {
            tmpMeta29 = mmc_mk_box7(4, &BackendDAE_Equation_ARRAY__EQUATION__desc, omc_Expression_dimensionsSizes(threadData, _dims), _e1, _e2, _src, _attr, _recordSize);
            tmpMeta28 = mmc_mk_cons(tmpMeta29, _outEqns);
            _outEqns = tmpMeta28;
          }
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,14) == 0) goto tmp2_end;
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 8));
          if (!optionNone(tmpMeta30)) goto tmp2_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_BackendDAECreate_isStateOrAlgvar(threadData, _inElement)) goto tmp2_end;
          tmpMeta31 = mmc_mk_cons(omc_BackendDAECreate_lowerDynamicVar(threadData, _inElement, _inFunctions), _outVars);
          _outVars = tmpMeta31;
          goto tmp2_done;
        }
        case 3: {
          modelica_metatype tmpMeta32;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,14) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          _var = omc_BackendDAECreate_lowerKnownVar(threadData, _inElement, _inFunctions, _outInlineHT, _outREqns ,&_outInlineHT ,&_outREqns);

          tmpMeta32 = mmc_mk_cons(_var, _outGlobalKnownVars);
          _outGlobalKnownVars = tmpMeta32;
          goto tmp2_done;
        }
        case 4: {
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          
          /* Pattern matching succeeded */
          tmpMeta34 = mmc_mk_cons(_inElement, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta35 = stringAppend(_OMC_LIT121,omc_DAEDump_dumpElementsStr(threadData, tmpMeta34));
          tmpMeta33 = mmc_mk_cons(tmpMeta35, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT55, tmpMeta33);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 5) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_outGlobalKnownVars) { *out_outGlobalKnownVars = _outGlobalKnownVars; }
  if (out_outExVars) { *out_outExVars = _outExVars; }
  if (out_outEqns) { *out_outEqns = _outEqns; }
  if (out_outREqns) { *out_outREqns = _outREqns; }
  if (out_outInlineHT) { *out_outInlineHT = _outInlineHT; }
  return _outVars;
}

DLLDirection
modelica_metatype omc_BackendDAECreate_lowerVars(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _functionTree, modelica_metatype _inVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _inExVars, modelica_metatype _inEqns, modelica_metatype _inREqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_outExVars, modelica_metatype *out_outEqns, modelica_metatype *out_outREqns)
{
  modelica_metatype _outVars = NULL;
  modelica_metatype _outGlobalKnownVars = NULL;
  modelica_metatype _outExVars = NULL;
  modelica_metatype _outEqns = NULL;
  modelica_metatype _outREqns = NULL;
  modelica_metatype _cr = NULL;
  modelica_metatype _arr_ty = NULL;
  modelica_metatype _crefs = NULL;
  modelica_metatype _new_vars = NULL;
  modelica_metatype _inline_ht = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta14;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outVars = _inVars;
  _outGlobalKnownVars = _inGlobalKnownVars;
  _outExVars = _inExVars;
  _outEqns = _inEqns;
  _outREqns = _inREqns;
  // _cr has no default value.
  // _arr_ty has no default value.
  // _crefs has no default value.
  // _new_vars has no default value.
  _inline_ht = omc_HashTableExpToExp_emptyHashTable(threadData);
  {
    modelica_metatype _el;
    for (tmpMeta1 = _inElements; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _el = MMC_CAR(tmpMeta1);
      { /* matchcontinue expression */
        {
          volatile mmc_switch_type tmp4;
          int tmp5;
          tmp4 = 0;
          MMC_TRY_INTERNAL(mmc_jumper)
          tmp3_top:
          threadData->mmc_jumper = &new_mmc_jumper;
          for (; tmp4 < 2; tmp4++) {
            switch (MMC_SWITCH_CAST(tmp4)) {
            case 0: {
              modelica_metatype tmpMeta6;
              modelica_metatype tmpMeta7;
              modelica_metatype tmpMeta8;
              modelica_metatype tmpMeta9;
              modelica_metatype tmpMeta10;
              /* Pattern matching succeeded */
              /* Pattern-matching assignment */
              tmpMeta6 = _el;
              if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,14) == 0) goto goto_2;
              tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
              tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 7));
              if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,6,2) == 0) goto goto_2;
              tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
              _cr = tmpMeta7;
              _arr_ty = tmpMeta9;

              _crefs = omc_ComponentReference_expandCref(threadData, _cr, 0 /* false */);

              _el = omc_DAEUtil_replaceTypeInVar(threadData, _arr_ty, _el);

              {
                modelica_metatype __omcQ_24tmpVar3;
                modelica_metatype* tmp11;
                modelica_metatype tmpMeta12;
                modelica_metatype __omcQ_24tmpVar2;
                modelica_integer tmp13;
                modelica_metatype _c_loopVar = 0;
                modelica_metatype _c;
                _c_loopVar = _crefs;
                tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
                __omcQ_24tmpVar3 = tmpMeta12; /* defaultValue */
                tmp11 = &__omcQ_24tmpVar3;
                while(1) {
                  tmp13 = 1;
                  if (!listEmpty(_c_loopVar)) {
                    _c = MMC_CAR(_c_loopVar);
                    _c_loopVar = MMC_CDR(_c_loopVar);
                    tmp13--;
                  }
                  if (tmp13 == 0) {
                    __omcQ_24tmpVar2 = omc_DAEUtil_replaceCrefInVar(threadData, _c, _el);
                    *tmp11 = mmc_mk_cons(__omcQ_24tmpVar2,0);
                    tmp11 = &MMC_CDR(*tmp11);
                  } else if (tmp13 == 1) {
                    break;
                  } else {
                    goto goto_2;
                  }
                }
                *tmp11 = mmc_mk_nil();
                tmpMeta10 = __omcQ_24tmpVar3;
              }
              _new_vars = tmpMeta10;

              _outVars = omc_BackendDAECreate_lowerVars(threadData, _new_vars, _functionTree, _outVars, _outGlobalKnownVars, _outExVars, _outEqns, _outREqns ,&_outGlobalKnownVars ,&_outExVars ,&_outEqns ,&_outREqns);
              goto tmp3_done;
            }
            case 1: {
              /* Pattern matching succeeded */
              _outVars = omc_BackendDAECreate_lowerVar(threadData, _el, _functionTree, _outVars, _outGlobalKnownVars, _outExVars, _outEqns, _outREqns, _inline_ht ,&_outGlobalKnownVars ,&_outExVars ,&_outEqns ,&_outREqns, NULL);
              goto tmp3_done;
            }
            }
            goto tmp3_end;
            tmp3_end: ;
          }
          goto goto_2;
          tmp3_done:
          (void)tmp4;
          MMC_RESTORE_INTERNAL(mmc_jumper);
          goto tmp3_done2;
          goto_2:;
          MMC_CATCH_INTERNAL(mmc_jumper);
          if (++tmp4 < 2) {
            goto tmp3_top;
          }
          MMC_THROW_INTERNAL();
          tmp3_done2:;
        }
      }
      ;
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_outGlobalKnownVars) { *out_outGlobalKnownVars = _outGlobalKnownVars; }
  if (out_outExVars) { *out_outExVars = _outExVars; }
  if (out_outEqns) { *out_outEqns = _outEqns; }
  if (out_outREqns) { *out_outREqns = _outREqns; }
  return _outVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_transformBuiltinExpression(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTuple, modelica_metatype *out_outTuple)
{
  modelica_metatype _outExp = NULL;
  modelica_metatype _outTuple = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _outTuple has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inExp;
    tmp4_2 = _inTuple;
    {
      modelica_metatype _start = NULL;
      modelica_metatype _interval = NULL;
      modelica_metatype _es = NULL;
      modelica_metatype _ht = NULL;
      modelica_integer _iDelay;
      modelica_integer _iSample;
      modelica_integer _iSpatial;
      modelica_metatype _timeEvents = NULL;
      modelica_metatype _attr = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _start has no default value.
      // _interval has no default value.
      // _es has no default value.
      // _ht has no default value.
      // _iDelay has no default value.
      // _iSample has no default value.
      // _iSpatial has no default value.
      // _timeEvents has no default value.
      // _attr has no default value.
      tmp4 = 0;
      for (; tmp4 < 7; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (5 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT122), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          
          _es = tmpMeta8;
          _attr = tmpMeta9;
          _ht = tmpMeta10;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_BaseHashTable_hasKey(threadData, _inExp, _ht)) goto tmp3_end;
          tmpMeta12 = mmc_mk_box2(3, &DAE_Exp_ICONST__desc, omc_BaseHashTable_get(threadData, _inExp, _ht));
          tmpMeta11 = mmc_mk_cons(tmpMeta12, _es);
          tmpMeta13 = mmc_mk_box4(16, &DAE_Exp_CALL__desc, _OMC_LIT123, tmpMeta11, _attr);
          tmpMeta[0+0] = tmpMeta13;
          tmpMeta[0+1] = _inTuple;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_integer tmp20;
          modelica_metatype tmpMeta21;
          modelica_integer tmp22;
          modelica_metatype tmpMeta23;
          modelica_integer tmp24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta14,1,1) == 0) goto tmp3_end;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 2));
          if (5 != MMC_STRLEN(tmpMeta15) || strcmp(MMC_STRINGDATA(_OMC_LIT122), MMC_STRINGDATA(tmpMeta15)) != 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmp20 = mmc_unbox_integer(tmpMeta19);
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmp22 = mmc_unbox_integer(tmpMeta21);
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmp24 = mmc_unbox_integer(tmpMeta23);
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          _es = tmpMeta16;
          _attr = tmpMeta17;
          _ht = tmpMeta18;
          _iDelay = tmp20  /* pattern as ty=Integer */;
          _iSample = tmp22  /* pattern as ty=Integer */;
          _iSpatial = tmp24  /* pattern as ty=Integer */;
          _timeEvents = tmpMeta25;
          /* Pattern matching succeeded */
          tmpMeta26 = mmc_mk_box2(0, _inExp, mmc_mk_integer(((modelica_integer) 1) + _iDelay));
          _ht = omc_BaseHashTable_add(threadData, tmpMeta26, _ht);
          tmpMeta28 = mmc_mk_box2(3, &DAE_Exp_ICONST__desc, mmc_mk_integer(_iDelay));
          tmpMeta27 = mmc_mk_cons(tmpMeta28, _es);
          tmpMeta29 = mmc_mk_box4(16, &DAE_Exp_CALL__desc, _OMC_LIT123, tmpMeta27, _attr);
          tmpMeta30 = mmc_mk_box5(0, _ht, mmc_mk_integer(((modelica_integer) 1) + _iDelay), mmc_mk_integer(_iSample), mmc_mk_integer(_iSpatial), _timeEvents);
          tmpMeta[0+0] = tmpMeta29;
          tmpMeta[0+1] = tmpMeta30;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta31,1,1) == 0) goto tmp3_end;
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta31), 2));
          if (19 != MMC_STRLEN(tmpMeta32) || strcmp(MMC_STRINGDATA(_OMC_LIT124), MMC_STRINGDATA(tmpMeta32)) != 0) goto tmp3_end;
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          
          _es = tmpMeta33;
          _attr = tmpMeta34;
          _ht = tmpMeta35;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_BaseHashTable_hasKey(threadData, _inExp, _ht)) goto tmp3_end;
          tmpMeta37 = mmc_mk_box2(3, &DAE_Exp_ICONST__desc, omc_BaseHashTable_get(threadData, _inExp, _ht));
          tmpMeta36 = mmc_mk_cons(tmpMeta37, _es);
          tmpMeta38 = mmc_mk_box4(16, &DAE_Exp_CALL__desc, _OMC_LIT125, tmpMeta36, _attr);
          tmpMeta[0+0] = tmpMeta38;
          tmpMeta[0+1] = _inTuple;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_integer tmp45;
          modelica_metatype tmpMeta46;
          modelica_integer tmp47;
          modelica_metatype tmpMeta48;
          modelica_integer tmp49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta39,1,1) == 0) goto tmp3_end;
          tmpMeta40 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta39), 2));
          if (19 != MMC_STRLEN(tmpMeta40) || strcmp(MMC_STRINGDATA(_OMC_LIT124), MMC_STRINGDATA(tmpMeta40)) != 0) goto tmp3_end;
          tmpMeta41 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta42 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta43 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta44 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmp45 = mmc_unbox_integer(tmpMeta44);
          tmpMeta46 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmp47 = mmc_unbox_integer(tmpMeta46);
          tmpMeta48 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmp49 = mmc_unbox_integer(tmpMeta48);
          tmpMeta50 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          _es = tmpMeta41;
          _attr = tmpMeta42;
          _ht = tmpMeta43;
          _iDelay = tmp45  /* pattern as ty=Integer */;
          _iSample = tmp47  /* pattern as ty=Integer */;
          _iSpatial = tmp49  /* pattern as ty=Integer */;
          _timeEvents = tmpMeta50;
          /* Pattern matching succeeded */
          tmpMeta51 = mmc_mk_box2(0, _inExp, mmc_mk_integer(((modelica_integer) 1) + _iSpatial));
          _ht = omc_BaseHashTable_add(threadData, tmpMeta51, _ht);
          tmpMeta53 = mmc_mk_box2(3, &DAE_Exp_ICONST__desc, mmc_mk_integer(_iSpatial));
          tmpMeta52 = mmc_mk_cons(tmpMeta53, _es);
          tmpMeta54 = mmc_mk_box4(16, &DAE_Exp_CALL__desc, _OMC_LIT125, tmpMeta52, _attr);
          tmpMeta55 = mmc_mk_box5(0, _ht, mmc_mk_integer(_iDelay), mmc_mk_integer(_iSample), mmc_mk_integer(((modelica_integer) 1) + _iSpatial), _timeEvents);
          tmpMeta[0+0] = tmpMeta54;
          tmpMeta[0+1] = tmpMeta55;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta56;
          modelica_metatype tmpMeta57;
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          modelica_metatype tmpMeta63;
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          modelica_metatype tmpMeta66;
          modelica_metatype tmpMeta67;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta56 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta56,1,1) == 0) goto tmp3_end;
          tmpMeta57 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta56), 2));
          if (6 != MMC_STRLEN(tmpMeta57) || strcmp(MMC_STRINGDATA(_OMC_LIT126), MMC_STRINGDATA(tmpMeta57)) != 0) goto tmp3_end;
          tmpMeta58 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta58)) goto tmp3_end;
          tmpMeta59 = MMC_CAR(tmpMeta58);
          tmpMeta60 = MMC_CDR(tmpMeta58);
          if (listEmpty(tmpMeta60)) goto tmp3_end;
          tmpMeta61 = MMC_CAR(tmpMeta60);
          tmpMeta62 = MMC_CDR(tmpMeta60);
          if (!listEmpty(tmpMeta62)) goto tmp3_end;
          tmpMeta63 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta64 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          
          _es = tmpMeta58;
          _interval = tmpMeta61;
          _attr = tmpMeta63;
          _ht = tmpMeta64;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!((!omc_Types_isClockOrSubTypeClock(threadData, omc_Expression_typeof(threadData, _interval))) && omc_BaseHashTable_hasKey(threadData, _inExp, _ht))) goto tmp3_end;
          tmpMeta66 = mmc_mk_box2(3, &DAE_Exp_ICONST__desc, omc_BaseHashTable_get(threadData, _inExp, _ht));
          tmpMeta65 = mmc_mk_cons(tmpMeta66, _es);
          tmpMeta67 = mmc_mk_box4(16, &DAE_Exp_CALL__desc, _OMC_LIT127, tmpMeta65, _attr);
          tmpMeta[0+0] = tmpMeta67;
          tmpMeta[0+1] = _inTuple;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta68;
          modelica_metatype tmpMeta69;
          modelica_metatype tmpMeta70;
          modelica_metatype tmpMeta71;
          modelica_metatype tmpMeta72;
          modelica_metatype tmpMeta73;
          modelica_metatype tmpMeta74;
          modelica_metatype tmpMeta75;
          modelica_metatype tmpMeta76;
          modelica_metatype tmpMeta77;
          modelica_integer tmp78;
          modelica_metatype tmpMeta79;
          modelica_integer tmp80;
          modelica_metatype tmpMeta81;
          modelica_integer tmp82;
          modelica_metatype tmpMeta83;
          modelica_metatype tmpMeta84;
          modelica_metatype tmpMeta85;
          modelica_metatype tmpMeta86;
          modelica_metatype tmpMeta87;
          modelica_metatype tmpMeta88;
          modelica_metatype tmpMeta89;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta68 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta68,1,1) == 0) goto tmp3_end;
          tmpMeta69 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta68), 2));
          if (6 != MMC_STRLEN(tmpMeta69) || strcmp(MMC_STRINGDATA(_OMC_LIT126), MMC_STRINGDATA(tmpMeta69)) != 0) goto tmp3_end;
          tmpMeta70 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta70)) goto tmp3_end;
          tmpMeta71 = MMC_CAR(tmpMeta70);
          tmpMeta72 = MMC_CDR(tmpMeta70);
          if (listEmpty(tmpMeta72)) goto tmp3_end;
          tmpMeta73 = MMC_CAR(tmpMeta72);
          tmpMeta74 = MMC_CDR(tmpMeta72);
          if (!listEmpty(tmpMeta74)) goto tmp3_end;
          tmpMeta75 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta76 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta77 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmp78 = mmc_unbox_integer(tmpMeta77);
          tmpMeta79 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmp80 = mmc_unbox_integer(tmpMeta79);
          tmpMeta81 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmp82 = mmc_unbox_integer(tmpMeta81);
          tmpMeta83 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          _es = tmpMeta70;
          _start = tmpMeta71;
          _interval = tmpMeta73;
          _attr = tmpMeta75;
          _ht = tmpMeta76;
          _iDelay = tmp78  /* pattern as ty=Integer */;
          _iSample = tmp80  /* pattern as ty=Integer */;
          _iSpatial = tmp82  /* pattern as ty=Integer */;
          _timeEvents = tmpMeta83;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(!omc_Types_isClockOrSubTypeClock(threadData, omc_Expression_typeof(threadData, _interval)))) goto tmp3_end;
          _iSample = ((modelica_integer) 1) + _iSample;

          tmpMeta84 = mmc_mk_box4(4, &BackendDAE_TimeEvent_SAMPLE__TIME__EVENT__desc, mmc_mk_integer(_iSample), _start, _interval);
          _timeEvents = omc_List_appendElt(threadData, tmpMeta84, _timeEvents);

          tmpMeta85 = mmc_mk_box2(0, _inExp, mmc_mk_integer(_iSample));
          _ht = omc_BaseHashTable_add(threadData, tmpMeta85, _ht);
          tmpMeta87 = mmc_mk_box2(3, &DAE_Exp_ICONST__desc, mmc_mk_integer(_iSample));
          tmpMeta86 = mmc_mk_cons(tmpMeta87, _es);
          tmpMeta88 = mmc_mk_box4(16, &DAE_Exp_CALL__desc, _OMC_LIT127, tmpMeta86, _attr);
          tmpMeta89 = mmc_mk_box5(0, _ht, mmc_mk_integer(_iDelay), mmc_mk_integer(_iSample), mmc_mk_integer(_iSpatial), _timeEvents);
          tmpMeta[0+0] = tmpMeta88;
          tmpMeta[0+1] = tmpMeta89;
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inExp;
          tmpMeta[0+1] = _inTuple;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outExp = tmpMeta[0+0];
  _outTuple = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outTuple) { *out_outTuple = _outTuple; }
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_processBuiltinExpressions(threadData_t *threadData, modelica_metatype _inDAE, modelica_metatype _functionTree, modelica_metatype *out_outTree, modelica_metatype *out_outTimeEvents)
{
  modelica_metatype _outDAE = NULL;
  modelica_metatype _outTree = NULL;
  modelica_metatype _outTimeEvents = NULL;
  modelica_metatype _ht = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outDAE has no default value.
  // _outTree has no default value.
  // _outTimeEvents has no default value.
  // _ht has no default value.
  _ht = omc_HashTableExpToIndex_emptyHashTable(threadData);

  /* Pattern-matching tuple assignment */
  tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta6 = mmc_mk_box5(0, _ht, mmc_mk_integer(((modelica_integer) 0)), mmc_mk_integer(((modelica_integer) 0)), mmc_mk_integer(((modelica_integer) 0)), tmpMeta5);
  tmpMeta7 = mmc_mk_box2(0, boxvar_BackendDAECreate_transformBuiltinExpression, tmpMeta6);
  tmpMeta8 = omc_DAEUtil_traverseDAE(threadData, _inDAE, _functionTree, boxvar_Expression_traverseSubexpressionsHelper, tmpMeta7, &tmpMeta1, &tmpMeta2);
  _outDAE = tmpMeta8;
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 5));
  _outTree = tmpMeta1;
  _outTimeEvents = tmpMeta4;
  _return: OMC_LABEL_UNUSED
  if (out_outTree) { *out_outTree = _outTree; }
  if (out_outTimeEvents) { *out_outTimeEvents = _outTimeEvents; }
  return _outDAE;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_lower2(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inFunctions, modelica_metatype _inInlineHT, modelica_metatype _inVars, modelica_metatype _inGlobalKnownVars, modelica_metatype _inExVars, modelica_metatype _inEqns, modelica_metatype _inREqns, modelica_metatype _inIEqns, modelica_metatype _inConstraints, modelica_metatype _inClassAttributes, modelica_metatype _inExtObjClasses, modelica_metatype _inAliasEqns, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_outExVars, modelica_metatype *out_outEqns, modelica_metatype *out_outREqns, modelica_metatype *out_outIEqns, modelica_metatype *out_outConstraints, modelica_metatype *out_outClassAttributes, modelica_metatype *out_outExtObjClasses, modelica_metatype *out_outAliasEqns, modelica_metatype *out_outInlineHT)
{
  modelica_metatype _outVars = NULL;
  modelica_metatype _outGlobalKnownVars = NULL;
  modelica_metatype _outExVars = NULL;
  modelica_metatype _outEqns = NULL;
  modelica_metatype _outREqns = NULL;
  modelica_metatype _outIEqns = NULL;
  modelica_metatype _outConstraints = NULL;
  modelica_metatype _outClassAttributes = NULL;
  modelica_metatype _outExtObjClasses = NULL;
  modelica_metatype _outAliasEqns = NULL;
  modelica_metatype _outInlineHT = NULL;
  modelica_metatype _path = NULL;
  modelica_metatype _src = NULL;
  modelica_metatype _dae_elts = NULL;
  modelica_metatype _class_attrs = NULL;
  modelica_metatype _constraints = NULL;
  modelica_metatype _el = NULL;
  modelica_metatype _eq_attrs = NULL;
  modelica_integer _whenClkCnt;
  modelica_metatype _e = NULL;
  modelica_metatype _eqns = NULL;
  modelica_metatype _reqns = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta23;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outVars = _inVars;
  _outGlobalKnownVars = _inGlobalKnownVars;
  _outExVars = _inExVars;
  _outEqns = _inEqns;
  _outREqns = _inREqns;
  _outIEqns = _inIEqns;
  _outConstraints = _inConstraints;
  _outClassAttributes = _inClassAttributes;
  _outExtObjClasses = _inExtObjClasses;
  _outAliasEqns = _inAliasEqns;
  _outInlineHT = _inInlineHT;
  // _path has no default value.
  // _src has no default value.
  // _dae_elts has no default value.
  // _class_attrs has no default value.
  // _constraints has no default value.
  // _el has no default value.
  // _eq_attrs has no default value.
  _whenClkCnt = ((modelica_integer) 1);
  // _e has no default value.
  // _eqns has no default value.
  // _reqns has no default value.
  {
    modelica_metatype _el;
    for (tmpMeta1 = _inElements; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _el = MMC_CAR(tmpMeta1);
      { /* match expression */
        modelica_metatype tmp4_1;
        tmp4_1 = _el;
        {
          int tmp4;
          {
            switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
            case 22: {
              modelica_metatype tmpMeta5;
              modelica_metatype tmpMeta6;
              modelica_metatype tmpMeta7;
              modelica_metatype tmpMeta8;
              if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,2) == 0) goto tmp3_end;
              tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
              tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
              _path = tmpMeta5;
              _src = tmpMeta6;
              /* Pattern matching succeeded */
              tmpMeta8 = mmc_mk_box3(3, &BackendDAE_ExternalObjectClass_EXTOBJCLASS__desc, _path, _src);
              tmpMeta7 = mmc_mk_cons(tmpMeta8, _outExtObjClasses);
              _outExtObjClasses = tmpMeta7;
              goto tmp3_done;
            }
            case 3: {
              
              /* Pattern matching succeeded */
              _outVars = omc_BackendDAECreate_lowerVar(threadData, _el, _inFunctions, _outVars, _outGlobalKnownVars, _outExVars, _outEqns, _outREqns, _outInlineHT ,&_outGlobalKnownVars ,&_outExVars ,&_outEqns ,&_outREqns ,&_outInlineHT);
              goto tmp3_done;
            }
            case 6: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 0 /* false */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 18: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 1 /* true */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 7: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 0 /* false */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 4: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 0 /* false */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 5: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 1 /* true */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 11: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 0 /* false */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 12: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 1 /* true */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 8: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 0 /* false */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 15: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 0 /* false */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 14: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 1 /* true */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 9: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 1 /* true */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 13: {
              modelica_metatype tmpMeta9;
              modelica_metatype tmpMeta10;
              modelica_metatype tmpMeta11;
              modelica_metatype tmpMeta12;
              modelica_metatype tmpMeta13;
              modelica_metatype tmpMeta14;
              if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
              tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
              tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
              
              _e = tmpMeta9;
              _dae_elts = tmpMeta10;
              /* Pattern matching succeeded */
              if((omc_Config_synchronousFeaturesAllowed(threadData) && omc_Types_isClockOrSubTypeClock(threadData, omc_Expression_typeof(threadData, _e))))
              {
                _outEqns = omc_BackendDAECreate_createWhenClock(threadData, _whenClkCnt, _e, _outEqns, _outVars ,&_outVars ,&_eq_attrs);

                _whenClkCnt = ((modelica_integer) 1) + _whenClkCnt;

                tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
                tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
                _outVars = omc_BackendDAECreate_lower2(threadData, _dae_elts, _inFunctions, _outInlineHT, _outVars, _outGlobalKnownVars, _outExVars, tmpMeta11, tmpMeta12, _outIEqns, _outConstraints, _outClassAttributes, _outExtObjClasses, _outAliasEqns ,&_outGlobalKnownVars ,&_outExVars ,&_eqns ,&_reqns ,&_outIEqns ,&_outConstraints ,&_outClassAttributes ,&_outExtObjClasses ,&_outAliasEqns ,&_outInlineHT);

                _outEqns = listAppend(omc_List_map1(threadData, _eqns, boxvar_BackendEquation_setEquationAttributes, _eq_attrs), _outEqns);

                _outREqns = listAppend(omc_List_map1(threadData, _reqns, boxvar_BackendEquation_setEquationAttributes, _eq_attrs), _outREqns);
              }
              else
              {
                tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
                tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
                _eqns = omc_BackendDAECreate_lowerWhenEqn(threadData, _el, _inFunctions, tmpMeta13, tmpMeta14, _outVars ,&_reqns ,&_outVars);

                _outEqns = listAppend(_outEqns, _eqns);

                _outREqns = listAppend(_outREqns, _reqns);
              }
              goto tmp3_done;
            }
            case 16: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 0 /* false */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 17: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerEqn(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, 1 /* true */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 19: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerAlgorithm(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, _OMC_LIT101, 0 /* false */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 20: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerAlgorithm(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, _OMC_LIT101, 1 /* true */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 21: {
              modelica_metatype tmpMeta15;
              if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,18,4) == 0) goto tmp3_end;
              tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
              
              _dae_elts = tmpMeta15;
              /* Pattern matching succeeded */
              _outVars = omc_BackendDAECreate_lower2(threadData, listReverse(_dae_elts), _inFunctions, _outInlineHT, _outVars, _outGlobalKnownVars, _outExVars, _outEqns, _outREqns, _outIEqns, _outConstraints, _outClassAttributes, _outExtObjClasses, _outAliasEqns ,&_outGlobalKnownVars ,&_outExVars ,&_outEqns ,&_outREqns ,&_outIEqns ,&_outConstraints ,&_outClassAttributes ,&_outExtObjClasses ,&_outAliasEqns ,&_outInlineHT);
              goto tmp3_done;
            }
            case 23: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerAlgorithm(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, _OMC_LIT102, 0 /* false */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 24: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerAlgorithm(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, _OMC_LIT102, 1 /* true */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 25: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerAlgorithm(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, _OMC_LIT102, 0 /* false */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 26: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerAlgorithm(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, _OMC_LIT102, 1 /* true */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 28: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerAlgorithm(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, _OMC_LIT102, 0 /* false */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 29: {
              
              /* Pattern matching succeeded */
              _outEqns = omc_BackendDAECreate_lowerAlgorithm(threadData, _el, _inFunctions, _outEqns, _outREqns, _outIEqns, _OMC_LIT102, 1 /* true */ ,&_outREqns ,&_outIEqns);
              goto tmp3_done;
            }
            case 30: {
              modelica_metatype tmpMeta16;
              modelica_metatype tmpMeta17;
              if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,27,2) == 0) goto tmp3_end;
              tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
              
              _constraints = tmpMeta16;
              /* Pattern matching succeeded */
              tmpMeta17 = mmc_mk_cons(_constraints, _outConstraints);
              _outConstraints = tmpMeta17;
              goto tmp3_done;
            }
            case 31: {
              modelica_metatype tmpMeta18;
              modelica_metatype tmpMeta19;
              if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,28,1) == 0) goto tmp3_end;
              tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
              _class_attrs = tmpMeta18;
              /* Pattern matching succeeded */
              tmpMeta19 = mmc_mk_cons(_class_attrs, _outClassAttributes);
              _outClassAttributes = tmpMeta19;
              goto tmp3_done;
            }
            default:
            tmp3_default: OMC_LABEL_UNUSED; {
              modelica_boolean tmp20;
              modelica_metatype tmpMeta21;
              modelica_metatype tmpMeta22;
              
              /* Pattern matching succeeded */
              /* Pattern-matching assignment */
              tmp20 = omc_Flags_isSet(threadData, _OMC_LIT65);
              if (1 /* true */ != tmp20) goto goto_2;

              tmpMeta21 = mmc_mk_cons(_el, MMC_REFSTRUCTLIT(mmc_nil));
              tmpMeta22 = stringAppend(_OMC_LIT128,omc_DAEDump_dumpElementsStr(threadData, tmpMeta21));
              omc_Debug_traceln(threadData, tmpMeta22);
              goto goto_2;
              goto tmp3_done;
            }
            }
            goto tmp3_end;
            tmp3_end: ;
          }
          goto goto_2;
          goto_2:;
          MMC_THROW_INTERNAL();
          goto tmp3_done;
          tmp3_done:;
        }
      }
      ;
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_outGlobalKnownVars) { *out_outGlobalKnownVars = _outGlobalKnownVars; }
  if (out_outExVars) { *out_outExVars = _outExVars; }
  if (out_outEqns) { *out_outEqns = _outEqns; }
  if (out_outREqns) { *out_outREqns = _outREqns; }
  if (out_outIEqns) { *out_outIEqns = _outIEqns; }
  if (out_outConstraints) { *out_outConstraints = _outConstraints; }
  if (out_outClassAttributes) { *out_outClassAttributes = _outClassAttributes; }
  if (out_outExtObjClasses) { *out_outExtObjClasses = _outExtObjClasses; }
  if (out_outAliasEqns) { *out_outAliasEqns = _outAliasEqns; }
  if (out_outInlineHT) { *out_outInlineHT = _outInlineHT; }
  return _outVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_getExternalObjectAlias2(threadData_t *threadData, modelica_metatype _eqIn, modelica_metatype _extCrefs, modelica_metatype _eqTplIn)
{
  modelica_metatype _eqTplOut = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _eqTplOut has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _eqIn;
    tmp4_2 = _eqTplIn;
    {
      modelica_metatype _noAliasEqs = NULL;
      modelica_metatype _aliasEqs = NULL;
      modelica_metatype _cr1 = NULL;
      modelica_metatype _cr2 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _noAliasEqs has no default value.
      // _aliasEqs has no default value.
      // _cr1 has no default value.
      // _cr2 has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_boolean tmp12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,6,2) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,6,2) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          _cr1 = tmpMeta7;
          _cr2 = tmpMeta9;
          _noAliasEqs = tmpMeta10;
          _aliasEqs = tmpMeta11;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching assignment */
          tmp12 = (omc_List_exist1(threadData, _extCrefs, boxvar_ComponentReference_crefEqual, _cr1) && omc_List_exist1(threadData, _extCrefs, boxvar_ComponentReference_crefEqual, _cr2));
          if (1 /* true */ != tmp12) goto goto_2;
          tmpMeta13 = mmc_mk_cons(_eqIn, _aliasEqs);
          tmpMeta14 = mmc_mk_box2(0, _noAliasEqs, tmpMeta13);
          tmpMeta1 = tmpMeta14;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_boolean tmp25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,4) == 0) goto tmp3_end;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta15,6,2) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 2));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta17,9,4) == 0) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta18,17,1) == 0) goto tmp3_end;
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta19,6,2) == 0) goto tmp3_end;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta19), 2));
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta19), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta21,9,4) == 0) goto tmp3_end;
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta22,17,1) == 0) goto tmp3_end;
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          _cr1 = tmpMeta16;
          _cr2 = tmpMeta20;
          _noAliasEqs = tmpMeta23;
          _aliasEqs = tmpMeta24;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching assignment */
          tmp25 = (omc_List_exist1(threadData, _extCrefs, boxvar_ComponentReference_crefEqual, _cr1) && omc_List_exist1(threadData, _extCrefs, boxvar_ComponentReference_crefEqual, _cr2));
          if (1 /* true */ != tmp25) goto goto_2;
          tmpMeta26 = mmc_mk_cons(_eqIn, _aliasEqs);
          tmpMeta27 = mmc_mk_box2(0, _noAliasEqs, tmpMeta26);
          tmpMeta1 = tmpMeta27;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,6) == 0) goto tmp3_end;
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta28,6,2) == 0) goto tmp3_end;
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta28), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta29,6,2) == 0) goto tmp3_end;
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta29), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta30,9,4) == 0) goto tmp3_end;
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta30), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta31,17,1) == 0) goto tmp3_end;
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta32,16,3) == 0) goto tmp3_end;
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          _noAliasEqs = tmpMeta33;
          _aliasEqs = tmpMeta34;
          /* Pattern matching succeeded */
          tmpMeta35 = mmc_mk_cons(_eqIn, _aliasEqs);
          tmpMeta36 = mmc_mk_box2(0, _noAliasEqs, tmpMeta35);
          tmpMeta1 = tmpMeta36;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta37 = _eqTplIn;
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta37), 1));
          tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta37), 2));
          _noAliasEqs = tmpMeta38;
          _aliasEqs = tmpMeta39;
          tmpMeta40 = mmc_mk_cons(_eqIn, _noAliasEqs);
          tmpMeta41 = mmc_mk_box2(0, tmpMeta40, _aliasEqs);
          tmpMeta1 = tmpMeta41;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _eqTplOut = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _eqTplOut;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_chooseExternalAlias(threadData_t *threadData, modelica_metatype _var1, modelica_metatype _var2, modelica_metatype *out_aliasVar)
{
  modelica_metatype _simVar = NULL;
  modelica_metatype _aliasVar = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _simVar has no default value.
  // _aliasVar has no default value.
  if((omc_BackendVariable_varHasBindExp(threadData, _var1) && (!omc_BackendVariable_varHasBindExp(threadData, _var2))))
  {
    _simVar = _var1;

    _aliasVar = omc_BackendVariable_setBindExp(threadData, _var2, mmc_mk_some(omc_Expression_crefExp(threadData, omc_BackendVariable_varCref(threadData, _simVar))));
  }
  else
  {
    if((omc_BackendVariable_varHasBindExp(threadData, _var2) && (!omc_BackendVariable_varHasBindExp(threadData, _var1))))
    {
      _simVar = _var2;

      _aliasVar = omc_BackendVariable_setBindExp(threadData, _var1, mmc_mk_some(omc_Expression_crefExp(threadData, omc_BackendVariable_varCref(threadData, _simVar))));
    }
    else
    {
      if((omc_BackendVariable_varHasBindExp(threadData, _var2) && omc_BackendVariable_varHasBindExp(threadData, _var1)))
      {
        if(omc_Expression_isCall(threadData, omc_BackendVariable_varBindExp(threadData, _var1)))
        {
          _simVar = _var1;

          _aliasVar = omc_BackendVariable_setBindExp(threadData, _var2, mmc_mk_some(omc_Expression_crefExp(threadData, omc_BackendVariable_varCref(threadData, _simVar))));
        }
        else
        {
          _simVar = _var2;

          _aliasVar = omc_BackendVariable_setBindExp(threadData, _var1, mmc_mk_some(omc_Expression_crefExp(threadData, omc_BackendVariable_varCref(threadData, _simVar))));
        }
      }
      else
      {
        _simVar = _var1;

        _aliasVar = omc_BackendVariable_setBindExp(threadData, _var2, mmc_mk_some(omc_Expression_crefExp(threadData, omc_BackendVariable_varCref(threadData, _simVar))));
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_aliasVar) { *out_aliasVar = _aliasVar; }
  return _simVar;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_addExternalObjectReplacementRules(threadData_t *threadData, modelica_metatype _crefs_lhs, modelica_metatype _crefs_rhs, modelica_metatype _extVars, modelica_metatype __omcQ_24in_5FextAliasVars, modelica_metatype __omcQ_24in_5Frepl, modelica_metatype *out_repl)
{
  modelica_metatype _extAliasVars = NULL;
  modelica_metatype _repl = NULL;
  modelica_metatype _lhs = NULL;
  modelica_metatype _rhs = NULL;
  modelica_metatype _v1 = NULL;
  modelica_metatype _v2 = NULL;
  modelica_metatype _simVar = NULL;
  modelica_metatype _aliasVar = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _extAliasVars = __omcQ_24in_5FextAliasVars;
  _repl = __omcQ_24in_5Frepl;
  // _lhs has no default value.
  // _rhs has no default value.
  // _v1 has no default value.
  // _v2 has no default value.
  // _simVar has no default value.
  // _aliasVar has no default value.
  if((listLength(_crefs_lhs) == listLength(_crefs_rhs)))
  {
    {
      modelica_metatype _tpl;
      for (tmpMeta1 = omc_List_zip(threadData, _crefs_lhs, _crefs_rhs); !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
      {
        _tpl = MMC_CAR(tmpMeta1);
        /* Pattern-matching assignment */
        tmpMeta2 = _tpl;
        tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 1));
        tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
        _lhs = tmpMeta3;
        _rhs = tmpMeta4;

        /* Pattern-matching tuple assignment */
        tmpMeta5 = omc_BackendVariable_getVar(threadData, _lhs, _extVars, NULL);
        if (listEmpty(tmpMeta5)) MMC_THROW_INTERNAL();
        tmpMeta6 = MMC_CAR(tmpMeta5);
        tmpMeta7 = MMC_CDR(tmpMeta5);
        if (!listEmpty(tmpMeta7)) MMC_THROW_INTERNAL();
        _v1 = tmpMeta6;

        /* Pattern-matching tuple assignment */
        tmpMeta8 = omc_BackendVariable_getVar(threadData, _rhs, _extVars, NULL);
        if (listEmpty(tmpMeta8)) MMC_THROW_INTERNAL();
        tmpMeta9 = MMC_CAR(tmpMeta8);
        tmpMeta10 = MMC_CDR(tmpMeta8);
        if (!listEmpty(tmpMeta10)) MMC_THROW_INTERNAL();
        _v2 = tmpMeta9;

        _simVar = omc_BackendDAECreate_chooseExternalAlias(threadData, _v1, _v2 ,&_aliasVar);

        tmpMeta11 = mmc_mk_cons(_aliasVar, _extAliasVars);
        _extAliasVars = tmpMeta11;

        _repl = omc_BackendVarTransform_addReplacement(threadData, _repl, omc_BackendVariable_varCref(threadData, _aliasVar), omc_Expression_crefExp(threadData, omc_BackendVariable_varCref(threadData, _simVar)), mmc_mk_none());
      }
    }
  }
  else
  {
    MMC_THROW_INTERNAL();
  }
  _return: OMC_LABEL_UNUSED
  if (out_repl) { *out_repl = _repl; }
  return _extAliasVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_getExternalObjectAlias3(threadData_t *threadData, modelica_metatype _eqIn, modelica_metatype _extVars, modelica_metatype _tplIn)
{
  modelica_metatype _tplOut = NULL;
  modelica_metatype _eq = NULL;
  modelica_metatype _v1 = NULL;
  modelica_metatype _v2 = NULL;
  modelica_metatype _simVar = NULL;
  modelica_metatype _aliasVar = NULL;
  modelica_metatype _crefs_lhs = NULL;
  modelica_metatype _crefs_rhs = NULL;
  modelica_metatype _extAliasVars = NULL;
  modelica_metatype _repl = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _tplOut has no default value.
  // _eq has no default value.
  // _v1 has no default value.
  // _v2 has no default value.
  // _simVar has no default value.
  // _aliasVar has no default value.
  // _crefs_lhs has no default value.
  // _crefs_rhs has no default value.
  // _extAliasVars has no default value.
  // _repl has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _tplIn;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _extAliasVars = tmpMeta2;
  _repl = tmpMeta3;

  /* Pattern-matching tuple assignment */
  tmpMeta4 = mmc_mk_cons(_eqIn, MMC_REFSTRUCTLIT(mmc_nil));
  tmpMeta5 = omc_BackendVarTransform_replaceEquations(threadData, tmpMeta4, _repl, mmc_mk_none(), NULL);
  if (listEmpty(tmpMeta5)) MMC_THROW_INTERNAL();
  tmpMeta6 = MMC_CAR(tmpMeta5);
  tmpMeta7 = MMC_CDR(tmpMeta5);
  if (!listEmpty(tmpMeta7)) MMC_THROW_INTERNAL();
  _eq = tmpMeta6;

  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp10;
      int tmp11;
      tmp10 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp9_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp10 < 2; tmp10++) {
        switch (MMC_SWITCH_CAST(tmp10)) {
        case 0: {
          modelica_metatype tmpMeta25;
          /* Pattern matching succeeded */
          _crefs_lhs = omc_BackendEquation_equationCrefsSolved(threadData, _eq ,&_crefs_rhs);

          
          
          { /* match expression */
            modelica_metatype tmp15_1;modelica_metatype tmp15_2;
            tmp15_1 = _crefs_lhs;
            tmp15_2 = _crefs_rhs;
            {
              modelica_metatype _lhs = NULL;
              modelica_metatype _rhs = NULL;
              volatile mmc_switch_type tmp15;
              int tmp16;
              // _lhs has no default value.
              // _rhs has no default value.
              tmp15 = 0;
              for (; tmp15 < 4; tmp15++) {
                switch (MMC_SWITCH_CAST(tmp15)) {
                case 0: {
                  modelica_metatype tmpMeta17;
                  modelica_metatype tmpMeta18;
                  modelica_metatype tmpMeta19;
                  modelica_metatype tmpMeta20;
                  if (listEmpty(tmp15_1)) goto tmp14_end;
                  tmpMeta17 = MMC_CAR(tmp15_1);
                  tmpMeta18 = MMC_CDR(tmp15_1);
                  if (!listEmpty(tmpMeta18)) goto tmp14_end;
                  if (listEmpty(tmp15_2)) goto tmp14_end;
                  tmpMeta19 = MMC_CAR(tmp15_2);
                  tmpMeta20 = MMC_CDR(tmp15_2);
                  if (!listEmpty(tmpMeta20)) goto tmp14_end;
                  _lhs = tmpMeta17;
                  _rhs = tmpMeta19;
                  /* Pattern matching succeeded */
                  _crefs_lhs = omc_ComponentReference_expandCref(threadData, _lhs, 1 /* true */);

                  _crefs_rhs = omc_ComponentReference_expandCref(threadData, _rhs, 1 /* true */);
                  tmpMeta[0+0] = omc_BackendDAECreate_addExternalObjectReplacementRules(threadData, _crefs_lhs, _crefs_rhs, _extVars, _extAliasVars, _repl, &tmpMeta[0+1]);
                  goto tmp14_done;
                }
                case 1: {
                  modelica_metatype tmpMeta21;
                  modelica_metatype tmpMeta22;
                  if (listEmpty(tmp15_1)) goto tmp14_end;
                  tmpMeta21 = MMC_CAR(tmp15_1);
                  tmpMeta22 = MMC_CDR(tmp15_1);
                  if (!listEmpty(tmpMeta22)) goto tmp14_end;
                  
                  _lhs = tmpMeta21;
                  /* Pattern matching succeeded */
                  _crefs_lhs = omc_ComponentReference_expandCref(threadData, _lhs, 1 /* true */);
                  tmpMeta[0+0] = omc_BackendDAECreate_addExternalObjectReplacementRules(threadData, _crefs_lhs, _crefs_rhs, _extVars, _extAliasVars, _repl, &tmpMeta[0+1]);
                  goto tmp14_done;
                }
                case 2: {
                  modelica_metatype tmpMeta23;
                  modelica_metatype tmpMeta24;
                  if (listEmpty(tmp15_2)) goto tmp14_end;
                  tmpMeta23 = MMC_CAR(tmp15_2);
                  tmpMeta24 = MMC_CDR(tmp15_2);
                  if (!listEmpty(tmpMeta24)) goto tmp14_end;
                  
                  _rhs = tmpMeta23;
                  /* Pattern matching succeeded */
                  _crefs_rhs = omc_ComponentReference_expandCref(threadData, _rhs, 1 /* true */);
                  tmpMeta[0+0] = omc_BackendDAECreate_addExternalObjectReplacementRules(threadData, _crefs_lhs, _crefs_rhs, _extVars, _extAliasVars, _repl, &tmpMeta[0+1]);
                  goto tmp14_done;
                }
                case 3: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta[0+0] = omc_BackendDAECreate_addExternalObjectReplacementRules(threadData, _crefs_lhs, _crefs_rhs, _extVars, _extAliasVars, _repl, &tmpMeta[0+1]);
                  goto tmp14_done;
                }
                }
                goto tmp14_end;
                tmp14_end: ;
              }
              goto goto_13;
              goto_13:;
              goto goto_8;
              goto tmp14_done;
              tmp14_done:;
            }
          }
          _extAliasVars = tmpMeta[0+0];
          _repl = tmpMeta[0+1];

          tmpMeta25 = mmc_mk_box2(0, _extAliasVars, _repl);
          _tplOut = tmpMeta25;
          goto tmp9_done;
        }
        case 1: {
          modelica_metatype tmpMeta26;
          /* Pattern matching succeeded */
          tmpMeta26 = stringAppend(_OMC_LIT129,omc_BackendDump_equationString(threadData, _eqIn));
          omc_Error_addInternalError(threadData, tmpMeta26, _OMC_LIT130);

          _tplOut = _tplIn;
          goto tmp9_done;
        }
        }
        goto tmp9_end;
        tmp9_end: ;
      }
      goto goto_8;
      tmp9_done:
      (void)tmp10;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp9_done2;
      goto_8:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp10 < 2) {
        goto tmp9_top;
      }
      MMC_THROW_INTERNAL();
      tmp9_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _tplOut;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_removeExtAliasBinding(threadData_t *threadData, modelica_metatype _extVarsIn, modelica_metatype _repl)
{
  modelica_metatype _extVarsOut = NULL;
  modelica_metatype _varLst = NULL;
  modelica_metatype _extVarLst = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _extVarsOut has no default value.
  // _varLst has no default value.
  // _extVarLst has no default value.
  // _cref has no default value.
  _varLst = omc_BackendVariable_varList(threadData, _extVarsIn);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _extVarLst = tmpMeta1;

  {
    modelica_metatype _var;
    for (tmpMeta2 = _varLst; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _var = MMC_CAR(tmpMeta2);
      { /* match expression */
        modelica_metatype tmp6_1;
        tmp6_1 = _var;
        {
          volatile mmc_switch_type tmp6;
          int tmp7;
          tmp6 = 0;
          for (; tmp6 < 2; tmp6++) {
            switch (MMC_SWITCH_CAST(tmp6)) {
            case 0: {
              modelica_metatype tmpMeta8;
              modelica_metatype tmpMeta9;
              modelica_metatype tmpMeta10;
              modelica_metatype tmpMeta11;
              tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 7));
              if (optionNone(tmpMeta8)) goto tmp5_end;
              tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
              if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,6,2) == 0) goto tmp5_end;
              tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
              
              _cref = tmpMeta10;
              /* Pattern matching succeeded */
              if(omc_BackendVarTransform_hasReplacement(threadData, _repl, _cref))
              {
                tmpMeta11 = MMC_TAGPTR(mmc_alloc_words(20));
                memcpy(MMC_UNTAGPTR(tmpMeta11), MMC_UNTAGPTR(_var), 20*sizeof(modelica_metatype));
                ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta11))[7] = mmc_mk_none();
                _var = tmpMeta11;
              }
              tmpMeta3 = _var;
              goto tmp5_done;
            }
            case 1: {
              
              /* Pattern matching succeeded */
              tmpMeta3 = _var;
              goto tmp5_done;
            }
            }
            goto tmp5_end;
            tmp5_end: ;
          }
          goto goto_4;
          goto_4:;
          MMC_THROW_INTERNAL();
          goto tmp5_done;
          tmp5_done:;
        }
      }
      _var = tmpMeta3;

      tmpMeta12 = mmc_mk_cons(_var, _extVarLst);
      _extVarLst = tmpMeta12;
    }
  }

  _extVarsOut = omc_BackendVariable_listVar(threadData, _extVarLst);
  _return: OMC_LABEL_UNUSED
  return _extVarsOut;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_getExternalObjectAlias(threadData_t *threadData, modelica_metatype _inInitEqs, modelica_metatype _inEqs, modelica_metatype _inRemEqs, modelica_metatype _globalVarsIn, modelica_metatype _extVars, modelica_metatype *out_oEqs, modelica_metatype *out_oRemEqs, modelica_metatype *out_extAliasVars, modelica_metatype *out_globalVarsOut, modelica_metatype *out_extVarsOut)
{
  modelica_metatype _oInitEqs = NULL;
  modelica_metatype _oEqs = NULL;
  modelica_metatype _oRemEqs = NULL;
  modelica_metatype _extAliasVars = NULL;
  modelica_metatype _globalVarsOut = NULL;
  modelica_metatype _extVarsOut = NULL;
  modelica_metatype _extCrefs = NULL;
  modelica_metatype _aliasEqs = NULL;
  modelica_metatype _aliasVarLst = NULL;
  modelica_metatype _repl = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta20;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oInitEqs has no default value.
  // _oEqs has no default value.
  // _oRemEqs has no default value.
  // _extAliasVars has no default value.
  // _globalVarsOut has no default value.
  // _extVarsOut has no default value.
  // _extCrefs has no default value.
  // _aliasEqs has no default value.
  // _aliasVarLst has no default value.
  // _repl has no default value.
  _extCrefs = omc_BackendVariable_getAllCrefFromVariables(threadData, _extVars);

  /* Pattern-matching assignment */
  tmpMeta1 = omc_List_fold1(threadData, _inEqs, boxvar_BackendDAECreate_getExternalObjectAlias2, _extCrefs, _OMC_LIT131);
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _oEqs = tmpMeta2;
  _aliasEqs = tmpMeta3;

  /* Pattern-matching assignment */
  tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta5 = mmc_mk_box2(0, tmpMeta4, _aliasEqs);
  tmpMeta6 = omc_List_fold1(threadData, _inInitEqs, boxvar_BackendDAECreate_getExternalObjectAlias2, _extCrefs, tmpMeta5);
  tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
  tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
  _oInitEqs = tmpMeta7;
  _aliasEqs = tmpMeta8;

  /* Pattern-matching assignment */
  tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta10 = mmc_mk_box2(0, tmpMeta9, _aliasEqs);
  tmpMeta11 = omc_List_fold1(threadData, _inRemEqs, boxvar_BackendDAECreate_getExternalObjectAlias2, _extCrefs, tmpMeta10);
  tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 1));
  tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
  _oRemEqs = tmpMeta12;
  _aliasEqs = tmpMeta13;

  if((!listEmpty(_aliasEqs)))
  {
    tmpMeta14 = stringAppend(_OMC_LIT132,stringDelimitList(omc_List_map(threadData, _aliasEqs, boxvar_BackendDump_equationString), _OMC_LIT133));
    tmpMeta15 = stringAppend(tmpMeta14,_OMC_LIT89);
    omc_Error_addCompilerWarning(threadData, tmpMeta15);
  }

  _repl = omc_BackendVarTransform_emptyReplacements(threadData);

  /* Pattern-matching assignment */
  tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta17 = mmc_mk_box2(0, tmpMeta16, _repl);
  tmpMeta18 = omc_List_fold1(threadData, _aliasEqs, boxvar_BackendDAECreate_getExternalObjectAlias3, _extVars, tmpMeta17);
  tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 1));
  tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 2));
  _aliasVarLst = tmpMeta19;
  _repl = tmpMeta20;

  _extAliasVars = omc_BackendVariable_listVar1(threadData, _aliasVarLst);

  _extVarsOut = omc_BackendVariable_deleteVars(threadData, _extAliasVars, _extVars);

  _extVarsOut = omc_BackendDAECreate_removeExtAliasBinding(threadData, _extVarsOut, _repl);

  _oEqs = omc_BackendVarTransform_replaceEquations(threadData, _oEqs, _repl, mmc_mk_none(), NULL);

  _oInitEqs = omc_BackendVarTransform_replaceEquations(threadData, _oInitEqs, _repl, mmc_mk_none(), NULL);

  _oRemEqs = omc_BackendVarTransform_replaceEquations(threadData, _oRemEqs, _repl, mmc_mk_none(), NULL);

  _globalVarsOut = omc_BackendVariable_traverseBackendDAEVarsWithUpdate(threadData, _globalVarsIn, boxvar_BackendVarTransform_replaceVarTraverser, _repl, NULL);

  _oEqs = listReverse(_oEqs);

  _oInitEqs = listReverse(_oInitEqs);

  _oRemEqs = listReverse(_oRemEqs);
  _return: OMC_LABEL_UNUSED
  if (out_oEqs) { *out_oEqs = _oEqs; }
  if (out_oRemEqs) { *out_oRemEqs = _oRemEqs; }
  if (out_extAliasVars) { *out_extAliasVars = _extAliasVars; }
  if (out_globalVarsOut) { *out_globalVarsOut = _globalVarsOut; }
  if (out_extVarsOut) { *out_extVarsOut = _extVarsOut; }
  return _oInitEqs;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_updateRecordTypesVarLst(threadData_t *threadData, modelica_metatype _map, modelica_metatype __omcQ_24in_5FvarLst)
{
  modelica_metatype _varLst = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _varLst = __omcQ_24in_5FvarLst;
  {
    modelica_metatype __omcQ_24tmpVar5;
    modelica_metatype* tmp2;
    modelica_metatype tmpMeta3;
    modelica_metatype tmpMeta4;
    modelica_metatype __omcQ_24tmpVar4;
    modelica_integer tmp11;
    modelica_metatype _var_loopVar = 0;
    modelica_metatype _var;
    _var_loopVar = _varLst;
    tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar5 = tmpMeta3; /* defaultValue */
    tmp2 = &__omcQ_24tmpVar5;
    while(1) {
      tmp11 = 1;
      if (!listEmpty(_var_loopVar)) {
        _var = MMC_CAR(_var_loopVar);
        _var_loopVar = MMC_CDR(_var_loopVar);
        tmp11--;
      }
      if (tmp11 == 0) {
        { /* match expression */
          modelica_metatype tmp7_1;
          tmp7_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 7)));
          {
            modelica_metatype _exp = NULL;
            volatile mmc_switch_type tmp7;
            int tmp8;
            // _exp has no default value.
            tmp7 = 0;
            for (; tmp7 < 2; tmp7++) {
              switch (MMC_SWITCH_CAST(tmp7)) {
              case 0: {
                modelica_metatype tmpMeta9;
                modelica_metatype tmpMeta10;
                if (optionNone(tmp7_1)) goto tmp6_end;
                tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 1));
                _exp = tmpMeta9;
                /* Pattern matching succeeded */
                _exp = omc_Expression_traverseExpTopDown(threadData, _exp, boxvar_BackendDAECreate_updateRecordTypesExp, _map, NULL);

                tmpMeta10 = MMC_TAGPTR(mmc_alloc_words(20));
                memcpy(MMC_UNTAGPTR(tmpMeta10), MMC_UNTAGPTR(_var), 20*sizeof(modelica_metatype));
                ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta10))[7] = mmc_mk_some(_exp);
                _var = tmpMeta10;
                tmpMeta4 = _var;
                goto tmp6_done;
              }
              case 1: {
                
                /* Pattern matching succeeded */
                tmpMeta4 = _var;
                goto tmp6_done;
              }
              }
              goto tmp6_end;
              tmp6_end: ;
            }
            goto goto_5;
            goto_5:;
            MMC_THROW_INTERNAL();
            goto tmp6_done;
            tmp6_done:;
          }
        }__omcQ_24tmpVar4 = tmpMeta4;
        *tmp2 = mmc_mk_cons(__omcQ_24tmpVar4,0);
        tmp2 = &MMC_CDR(*tmp2);
      } else if (tmp11 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp2 = mmc_mk_nil();
    tmpMeta1 = __omcQ_24tmpVar5;
  }
  _varLst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _varLst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_collapseArrayBindings(threadData_t *threadData, modelica_metatype _arrayMap, modelica_metatype __omcQ_24in_5Fmap)
{
  modelica_metatype _map = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype _rec_cref = NULL;
  modelica_metatype _arrayBindingExpList = NULL;
  modelica_metatype _subscriptLst = NULL;
  modelica_metatype _binding = NULL;
  modelica_metatype _scalarBinding = NULL;
  modelica_metatype _expLst = NULL;
  modelica_metatype _ty = NULL;
  modelica_metatype _dims = NULL;
  modelica_integer _firstDim;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_boolean tmp29;
  modelica_metatype tmpMeta30;
  modelica_metatype tmpMeta31;
  modelica_metatype tmpMeta41;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _map = __omcQ_24in_5Fmap;
  // _cref has no default value.
  // _rec_cref has no default value.
  // _arrayBindingExpList has no default value.
  // _subscriptLst has no default value.
  // _binding has no default value.
  // _scalarBinding has no default value.
  // _expLst has no default value.
  // _ty has no default value.
  // _dims has no default value.
  // _firstDim has no default value.
  {
    modelica_metatype _pair;
    for (tmpMeta1 = omc_UnorderedMap_toList(threadData, _arrayMap); !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _pair = MMC_CAR(tmpMeta1);
      /* Pattern-matching assignment */
      tmpMeta2 = _pair;
      tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 1));
      tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
      _cref = tmpMeta3;
      _arrayBindingExpList = tmpMeta4;

      _arrayBindingExpList = omc_List_sort(threadData, _arrayBindingExpList, boxvar_BackendDAECreate_compareArrayBindingExp);

      tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
      _expLst = tmpMeta5;

      {
        modelica_metatype _scalBind;
        for (tmpMeta6 = _arrayBindingExpList; !listEmpty(tmpMeta6); tmpMeta6=MMC_CDR(tmpMeta6))
        {
          _scalBind = MMC_CAR(tmpMeta6);
          /* Pattern-matching assignment */
          tmpMeta7 = _scalBind;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          _subscriptLst = tmpMeta8;
          _scalarBinding = tmpMeta9;

          tmpMeta10 = mmc_mk_cons(_scalarBinding, _expLst);
          _expLst = tmpMeta10;
        }
      }

      { /* match expression */
        modelica_integer tmp15_1;
        tmp15_1 = listLength(_subscriptLst);
        {
          modelica_metatype _matLst = NULL;
          int tmp15;
          // _matLst has no default value.
          {
            switch (MMC_SWITCH_CAST(tmp15_1)) {
            case 1: {
              modelica_metatype tmpMeta16;
              if (1 != tmp15_1) goto tmp14_end;
              /* Pattern matching succeeded */
              tmpMeta16 = mmc_mk_box4(19, &DAE_Exp_ARRAY__desc, omc_ComponentReference_crefTypeFull(threadData, _cref), mmc_mk_boolean(1 /* true */), _expLst);
              tmpMeta12 = tmpMeta16;
              goto tmp14_done;
            }
            case 2: {
              modelica_integer tmp17 = 0;
              modelica_metatype tmpMeta28;
              if (2 != tmp15_1) goto tmp14_end;
              /* Pattern matching succeeded */
              _dims = omc_Types_getDimensions(threadData, omc_ComponentReference_crefLastType(threadData, _cref));

              { /* match expression */
                modelica_metatype tmp20_1;
                tmp20_1 = listHead(_dims);
                {
                  volatile mmc_switch_type tmp20;
                  int tmp21;
                  tmp20 = 0;
                  for (; tmp20 < 1; tmp20++) {
                    switch (MMC_SWITCH_CAST(tmp20)) {
                    case 0: {
                      modelica_metatype tmpMeta22;
                      modelica_integer tmp23;
                      if (mmc__uniontype__metarecord__typedef__equal(tmp20_1,0,1) == 0) goto tmp19_end;
                      tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp20_1), 2));
                      tmp23 = mmc_unbox_integer(tmpMeta22);
                      _firstDim = tmp23  /* pattern as ty=Integer */;
                      /* Pattern matching succeeded */
                      tmp17 = _firstDim;
                      goto tmp19_done;
                    }
                    }
                    goto tmp19_end;
                    tmp19_end: ;
                  }
                  goto goto_18;
                  goto_18:;
                  goto goto_13;
                  goto tmp19_done;
                  tmp19_done:;
                }
              }
              _firstDim = tmp17;

              { /* matchcontinue expression */
                {
                  volatile mmc_switch_type tmp26;
                  int tmp27;
                  tmp26 = 0;
                  MMC_TRY_INTERNAL(mmc_jumper)
                  tmp25_top:
                  threadData->mmc_jumper = &new_mmc_jumper;
                  for (; tmp26 < 2; tmp26++) {
                    switch (MMC_SWITCH_CAST(tmp26)) {
                    case 0: {
                      /* Pattern matching succeeded */
                      _matLst = omc_List_splitEqualParts(threadData, _expLst, _firstDim);
                      goto tmp25_done;
                    }
                    case 1: {
                      /* Pattern matching succeeded */
                      omc_Error_addInternalError(threadData, _OMC_LIT134, _OMC_LIT135);

                      goto goto_24;
                      goto tmp25_done;
                    }
                    }
                    goto tmp25_end;
                    tmp25_end: ;
                  }
                  goto goto_24;
                  tmp25_done:
                  (void)tmp26;
                  MMC_RESTORE_INTERNAL(mmc_jumper);
                  goto tmp25_done2;
                  goto_24:;
                  MMC_CATCH_INTERNAL(mmc_jumper);
                  if (++tmp26 < 2) {
                    goto tmp25_top;
                  }
                  goto goto_13;
                  tmp25_done2:;
                }
              }
              ;
              tmpMeta28 = mmc_mk_box4(20, &DAE_Exp_MATRIX__desc, omc_ComponentReference_crefTypeFull(threadData, _cref), mmc_mk_integer(_firstDim), _matLst);
              tmpMeta12 = tmpMeta28;
              goto tmp14_done;
            }
            default:
            tmp14_default: OMC_LABEL_UNUSED; {
              
              /* Pattern matching succeeded */
              omc_Error_addInternalError(threadData, _OMC_LIT136, _OMC_LIT137);
              goto goto_13;
              goto tmp14_done;
            }
            }
            goto tmp14_end;
            tmp14_end: ;
          }
          goto goto_13;
          goto_13:;
          MMC_THROW_INTERNAL();
          goto tmp14_done;
          tmp14_done:;
        }
      }
      _binding = tmpMeta12;

      /* Pattern-matching tuple assignment */
      tmpMeta30 = omc_ComponentReference_crefGetFirstRec(threadData, _cref, &tmp29);
      _rec_cref = tmpMeta30;
      if (1 /* true */ != tmp29) MMC_THROW_INTERNAL();

      { /* match expression */
        modelica_metatype tmp34_1;
        tmp34_1 = omc_UnorderedMap_getSafe(threadData, _rec_cref, _map, _OMC_LIT138);
        {
          volatile mmc_switch_type tmp34;
          int tmp35;
          tmp34 = 0;
          for (; tmp34 < 2; tmp34++) {
            switch (MMC_SWITCH_CAST(tmp34)) {
            case 0: {
              modelica_metatype tmpMeta36;
              modelica_metatype tmpMeta37;
              if (mmc__uniontype__metarecord__typedef__equal(tmp34_1,9,4) == 0) goto tmp33_end;
              
              _ty = tmp34_1;
              /* Pattern matching succeeded */
              {
                modelica_metatype __omcQ_24tmpVar7;
                modelica_metatype* tmp38;
                modelica_metatype tmpMeta39;
                modelica_metatype __omcQ_24tmpVar6;
                modelica_integer tmp40;
                modelica_metatype _v_loopVar = 0;
                modelica_metatype _v;
                _v_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)));
                tmpMeta39 = MMC_REFSTRUCTLIT(mmc_nil);
                __omcQ_24tmpVar7 = tmpMeta39; /* defaultValue */
                tmp38 = &__omcQ_24tmpVar7;
                while(1) {
                  tmp40 = 1;
                  if (!listEmpty(_v_loopVar)) {
                    _v = MMC_CAR(_v_loopVar);
                    _v_loopVar = MMC_CDR(_v_loopVar);
                    tmp40--;
                  }
                  if (tmp40 == 0) {
                    __omcQ_24tmpVar6 = omc_BackendDAECreate_updateConstantRecordElementBinding(threadData, _v, _binding, omc_ComponentReference_crefLastIdent(threadData, _cref));
                    *tmp38 = mmc_mk_cons(__omcQ_24tmpVar6,0);
                    tmp38 = &MMC_CDR(*tmp38);
                  } else if (tmp40 == 1) {
                    break;
                  } else {
                    goto goto_32;
                  }
                }
                *tmp38 = mmc_mk_nil();
                tmpMeta37 = __omcQ_24tmpVar7;
              }
              tmpMeta36 = MMC_TAGPTR(mmc_alloc_words(6));
              memcpy(MMC_UNTAGPTR(tmpMeta36), MMC_UNTAGPTR(_ty), 6*sizeof(modelica_metatype));
              ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta36))[3] = tmpMeta37;
              _ty = tmpMeta36;
              tmpMeta31 = _ty;
              goto tmp33_done;
            }
            case 1: {
              
              /* Pattern matching succeeded */
              omc_Error_addMessage(threadData, _OMC_LIT55, _OMC_LIT140);
              goto goto_32;
              goto tmp33_done;
            }
            }
            goto tmp33_end;
            tmp33_end: ;
          }
          goto goto_32;
          goto_32:;
          MMC_THROW_INTERNAL();
          goto tmp33_done;
          tmp33_done:;
        }
      }
      _ty = tmpMeta31;

      omc_UnorderedMap_add(threadData, _rec_cref, _ty, _map);
    }
  }
  _return: OMC_LABEL_UNUSED
  return _map;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_BackendDAECreate_compareArrayBindingExp(threadData_t *threadData, modelica_metatype _inElement1, modelica_metatype _inElement2)
{
  modelica_boolean _inRes;
  modelica_metatype _indiceLstElem1 = NULL;
  modelica_metatype _indiceLstElem2 = NULL;
  modelica_metatype _rest_e2 = NULL;
  modelica_integer _e2;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_integer tmp9;
  modelica_metatype tmpMeta10;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _inRes = 0 /* false */;
  // _indiceLstElem1 has no default value.
  // _indiceLstElem2 has no default value.
  // _rest_e2 has no default value.
  // _e2 has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inElement1;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  _indiceLstElem1 = tmpMeta2;

  /* Pattern-matching assignment */
  tmpMeta3 = _inElement2;
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 1));
  _indiceLstElem2 = tmpMeta4;

  if((listLength(_indiceLstElem1) != listLength(_indiceLstElem2)))
  {
    omc_Error_addInternalError(threadData, _OMC_LIT141, _OMC_LIT142);

    MMC_THROW_INTERNAL();
  }

  _rest_e2 = _indiceLstElem2;

  {
    modelica_metatype _e1;
    for (tmpMeta5 = _indiceLstElem1; !listEmpty(tmpMeta5); tmpMeta5=MMC_CDR(tmpMeta5))
    {
      _e1 = MMC_CAR(tmpMeta5);
      /* Pattern-matching assignment */
      tmpMeta6 = _rest_e2;
      if (listEmpty(tmpMeta6)) MMC_THROW_INTERNAL();
      tmpMeta7 = MMC_CAR(tmpMeta6);
      tmpMeta8 = MMC_CDR(tmpMeta6);
      tmp9 = mmc_unbox_integer(tmpMeta7);
      _e2 = tmp9  /* pattern as ty=Integer */;
      _rest_e2 = tmpMeta8;

      if((mmc_unbox_integer(_e1) < _e2))
      {
        _inRes = 1 /* true */;

        goto _return;
      }
      else
      {
        if((mmc_unbox_integer(_e1) > _e2))
        {
          _inRes = 0 /* false */;

          goto _return;
        }
      }
    }
  }

  _inRes = 1 /* true */;

  goto _return;
  _return: OMC_LABEL_UNUSED
  return _inRes;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_compareArrayBindingExp(threadData_t *threadData, modelica_metatype _inElement1, modelica_metatype _inElement2)
{
  modelica_boolean _inRes;
  modelica_metatype out_inRes;
  _inRes = omc_BackendDAECreate_compareArrayBindingExp(threadData, _inElement1, _inElement2);
  out_inRes = mmc_mk_icon(_inRes);
  return out_inRes;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_updateRecordTypesExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Fmap, modelica_boolean *out_cont, modelica_metatype *out_map)
{
  modelica_metatype _exp = NULL;
  modelica_boolean _cont;
  modelica_metatype _map = NULL;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _exp = __omcQ_24in_5Fexp;
  // _cont has no default value.
  _map = __omcQ_24in_5Fmap;
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _exp;
    {
      modelica_metatype _cref = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cref has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cref = tmpMeta6;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_UnorderedMap_contains(threadData, _cref, _map)) goto tmp3_end;
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_exp), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[3] = omc_UnorderedMap_getSafe(threadData, _cref, _map, _OMC_LIT143);
          _exp = tmpMeta7;
          tmpMeta[0+0] = _exp;
          tmp1_c1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _exp;
          tmp1_c1 = 1 /* true */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _exp = tmpMeta[0+0];
  _cont = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_cont) { *out_cont = _cont; }
  if (out_map) { *out_map = _map; }
  return _exp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_updateRecordTypesExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Fmap, modelica_metatype *out_cont, modelica_metatype *out_map)
{
  modelica_boolean _cont;
  modelica_metatype _exp = NULL;
  _exp = omc_BackendDAECreate_updateRecordTypesExp(threadData, __omcQ_24in_5Fexp, __omcQ_24in_5Fmap, &_cont, out_map);
  /* skip box _exp; DAE.Exp */
  if (out_cont) { *out_cont = mmc_mk_icon(_cont); }
  /* skip box _map; UnorderedMap<DAE.ComponentRef,DAE.Type> */
  return _exp;
}

static modelica_metatype closure1_Expression_traverseExpTopDown(threadData_t *thData, modelica_metatype closure, modelica_metatype inExp, modelica_metatype ext_arg, modelica_metatype tmp1)
{
  modelica_fnptr func = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_Expression_traverseExpTopDown(thData, inExp, func, ext_arg, tmp1);
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_updateRecordTypesEqn(threadData_t *threadData, modelica_metatype __omcQ_24in_5Feqn, modelica_metatype _map)
{
  modelica_metatype _eqn = NULL;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _eqn = __omcQ_24in_5Feqn;
  tmpMeta2 = mmc_mk_box1(0, boxvar_BackendDAECreate_updateRecordTypesExp);
  _eqn = omc_BackendEquation_traverseExpsOfEquation(threadData, _eqn, (modelica_fnptr) mmc_mk_box2(0,closure1_Expression_traverseExpTopDown,tmpMeta2), _map, NULL);
  _return: OMC_LABEL_UNUSED
  return _eqn;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_collectRecordTypesExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Fmap, modelica_boolean *out_cont, modelica_metatype *out_map)
{
  modelica_metatype _exp = NULL;
  modelica_boolean _cont;
  modelica_metatype _map = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _exp = __omcQ_24in_5Fexp;
  // _cont has no default value.
  _map = __omcQ_24in_5Fmap;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _exp;
    {
      modelica_metatype _cref = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cref has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cref = tmpMeta6;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(omc_Types_isRecord(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3)))) && omc_Types_recordHasConstVar(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3)))))) goto tmp3_end;
          omc_UnorderedMap_add(threadData, _cref, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3))), _map);
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _cont = tmp1;
  _return: OMC_LABEL_UNUSED
  if (out_cont) { *out_cont = _cont; }
  if (out_map) { *out_map = _map; }
  return _exp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_BackendDAECreate_collectRecordTypesExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype __omcQ_24in_5Fmap, modelica_metatype *out_cont, modelica_metatype *out_map)
{
  modelica_boolean _cont;
  modelica_metatype _exp = NULL;
  _exp = omc_BackendDAECreate_collectRecordTypesExp(threadData, __omcQ_24in_5Fexp, __omcQ_24in_5Fmap, &_cont, out_map);
  /* skip box _exp; DAE.Exp */
  if (out_cont) { *out_cont = mmc_mk_icon(_cont); }
  /* skip box _map; UnorderedMap<DAE.ComponentRef,DAE.Type> */
  return _exp;
}

static modelica_metatype closure2_Expression_traverseExpTopDown(threadData_t *thData, modelica_metatype closure, modelica_metatype inExp, modelica_metatype ext_arg, modelica_metatype tmp1)
{
  modelica_fnptr func = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_Expression_traverseExpTopDown(thData, inExp, func, ext_arg, tmp1);
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_collectRecordTypesEqn(threadData_t *threadData, modelica_metatype __omcQ_24in_5Feqn, modelica_metatype _map)
{
  modelica_metatype _eqn = NULL;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _eqn = __omcQ_24in_5Feqn;
  tmpMeta2 = mmc_mk_box1(0, boxvar_BackendDAECreate_collectRecordTypesExp);
  _eqn = omc_BackendEquation_traverseExpsOfEquation(threadData, _eqn, (modelica_fnptr) mmc_mk_box2(0,closure2_Expression_traverseExpTopDown,tmpMeta2), _map, NULL);
  _return: OMC_LABEL_UNUSED
  return _eqn;
}

PROTECTED_FUNCTION_STATIC void omc_BackendDAECreate_collectRecordTypesVar(threadData_t *threadData, modelica_metatype _map, modelica_metatype _var)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 7)));
    {
      modelica_metatype _exp = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _exp has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          _exp = tmpMeta5;
          /* Pattern matching succeeded */
          omc_Expression_traverseExpTopDown(threadData, _exp, boxvar_BackendDAECreate_collectRecordTypesExp, _map, NULL);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_BackendDAECreate_collectRecordTypesVarLst(threadData_t *threadData, modelica_metatype _map, modelica_metatype _varLst)
{
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  {
    modelica_metatype _var;
    for (tmpMeta1 = _varLst; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _var = MMC_CAR(tmpMeta1);
      omc_BackendDAECreate_collectRecordTypesVar(threadData, _map, _var);
    }
  }
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_BackendDAECreate_updateConstantRecordElementBinding(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _binding, modelica_string _name)
{
  modelica_metatype _var = NULL;
  modelica_metatype _const = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = __omcQ_24in_5Fvar;
  // _const has no default value.
  if((omc_DAEUtil_isConstVar(threadData, _var) && (stringEqual((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), _name))))
  {
    _const = (omc_Expression_isConst(threadData, _binding)?_OMC_LIT144:_OMC_LIT145);

    tmpMeta2 = mmc_mk_box5(4, &DAE_Binding_EQBOUND__desc, _binding, mmc_mk_none(), _const, _OMC_LIT146);
    tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(8));
    memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 8*sizeof(modelica_metatype));
    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[5] = tmpMeta2;
    _var = tmpMeta1;
  }
  _return: OMC_LABEL_UNUSED
  return _var;
}

PROTECTED_FUNCTION_STATIC void omc_BackendDAECreate_collectRecordElementBindings(threadData_t *threadData, modelica_metatype _var, modelica_metatype _map, modelica_metatype _arrayMap)
{
  modelica_metatype _rec_cref = NULL;
  modelica_boolean _is_rec;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _rec_cref has no default value.
  // _is_rec has no default value.
  _rec_cref = omc_ComponentReference_crefGetFirstRec(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))) ,&_is_rec);

  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 7)));
    {
      modelica_metatype _binding = NULL;
      modelica_metatype _ty = NULL;
      modelica_metatype _arrayCref = NULL;
      modelica_metatype _arrayBindingExpList = NULL;
      modelica_metatype _subscriptLst = NULL;
      modelica_metatype _intSubLst = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _binding has no default value.
      // _ty has no default value.
      // _arrayCref has no default value.
      // _arrayBindingExpList has no default value.
      // _subscriptLst has no default value.
      // _intSubLst has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          _binding = tmpMeta5;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!((_is_rec && omc_UnorderedMap_contains(threadData, _rec_cref, _map)) && omc_Expression_isConst(threadData, _binding))) goto tmp2_end;
          if(omc_ComponentReference_isArrayElement(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)))))
          {
            _arrayCref = omc_ComponentReference_crefStripSubsExceptModelSubs(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))));

            tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
            _arrayBindingExpList = omc_UnorderedMap_getOrDefault(threadData, _arrayCref, _arrayMap, tmpMeta6);

            _subscriptLst = omc_ComponentReference_crefSubs(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))));

            {
              modelica_metatype __omcQ_24tmpVar9;
              modelica_metatype* tmp8;
              modelica_metatype tmpMeta9;
              modelica_metatype tmpMeta10;
              modelica_metatype __omcQ_24tmpVar8;
              modelica_integer tmp18;
              modelica_metatype _subscript_loopVar = 0;
              modelica_metatype _subscript;
              _subscript_loopVar = _subscriptLst;
              tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
              __omcQ_24tmpVar9 = tmpMeta9; /* defaultValue */
              tmp8 = &__omcQ_24tmpVar9;
              while(1) {
                tmp18 = 1;
                if (!listEmpty(_subscript_loopVar)) {
                  _subscript = MMC_CAR(_subscript_loopVar);
                  _subscript_loopVar = MMC_CDR(_subscript_loopVar);
                  tmp18--;
                }
                if (tmp18 == 0) {
                  { /* match expression */
                    modelica_metatype tmp13_1;
                    tmp13_1 = _subscript;
                    {
                      modelica_integer _i;
                      volatile mmc_switch_type tmp13;
                      int tmp14;
                      // _i has no default value.
                      tmp13 = 0;
                      for (; tmp13 < 2; tmp13++) {
                        switch (MMC_SWITCH_CAST(tmp13)) {
                        case 0: {
                          modelica_metatype tmpMeta15;
                          modelica_metatype tmpMeta16;
                          modelica_integer tmp17;
                          if (mmc__uniontype__metarecord__typedef__equal(tmp13_1,2,1) == 0) goto tmp12_end;
                          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp13_1), 2));
                          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta15,0,1) == 0) goto tmp12_end;
                          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 2));
                          tmp17 = mmc_unbox_integer(tmpMeta16);
                          _i = tmp17  /* pattern as ty=Integer */;
                          /* Pattern matching succeeded */
                          tmpMeta10 = mmc_mk_integer(_i);
                          goto tmp12_done;
                        }
                        case 1: {
                          
                          /* Pattern matching succeeded */
                          omc_Error_addMessage(threadData, _OMC_LIT55, _OMC_LIT151);
                          goto goto_11;
                          goto tmp12_done;
                        }
                        }
                        goto tmp12_end;
                        tmp12_end: ;
                      }
                      goto goto_11;
                      goto_11:;
                      goto goto_1;
                      goto tmp12_done;
                      tmp12_done:;
                    }
                  }__omcQ_24tmpVar8 = tmpMeta10;
                  *tmp8 = mmc_mk_cons(__omcQ_24tmpVar8,0);
                  tmp8 = &MMC_CDR(*tmp8);
                } else if (tmp18 == 1) {
                  break;
                } else {
                  goto goto_1;
                }
              }
              *tmp8 = mmc_mk_nil();
              tmpMeta7 = __omcQ_24tmpVar9;
            }
            _intSubLst = tmpMeta7;

            tmpMeta20 = mmc_mk_box2(0, _intSubLst, _binding);
            tmpMeta19 = mmc_mk_cons(tmpMeta20, _arrayBindingExpList);
            omc_UnorderedMap_add(threadData, _arrayCref, tmpMeta19, _arrayMap);
          }
          else
          {
            { /* match expression */
              modelica_metatype tmp24_1;
              tmp24_1 = omc_UnorderedMap_getSafe(threadData, _rec_cref, _map, _OMC_LIT147);
              {
                volatile mmc_switch_type tmp24;
                int tmp25;
                tmp24 = 0;
                for (; tmp24 < 2; tmp24++) {
                  switch (MMC_SWITCH_CAST(tmp24)) {
                  case 0: {
                    modelica_metatype tmpMeta26;
                    modelica_metatype tmpMeta27;
                    if (mmc__uniontype__metarecord__typedef__equal(tmp24_1,9,4) == 0) goto tmp23_end;
                    
                    _ty = tmp24_1;
                    /* Pattern matching succeeded */
                    {
                      modelica_metatype __omcQ_24tmpVar11;
                      modelica_metatype* tmp28;
                      modelica_metatype tmpMeta29;
                      modelica_metatype __omcQ_24tmpVar10;
                      modelica_integer tmp30;
                      modelica_metatype _v_loopVar = 0;
                      modelica_metatype _v;
                      _v_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3)));
                      tmpMeta29 = MMC_REFSTRUCTLIT(mmc_nil);
                      __omcQ_24tmpVar11 = tmpMeta29; /* defaultValue */
                      tmp28 = &__omcQ_24tmpVar11;
                      while(1) {
                        tmp30 = 1;
                        if (!listEmpty(_v_loopVar)) {
                          _v = MMC_CAR(_v_loopVar);
                          _v_loopVar = MMC_CDR(_v_loopVar);
                          tmp30--;
                        }
                        if (tmp30 == 0) {
                          __omcQ_24tmpVar10 = omc_BackendDAECreate_updateConstantRecordElementBinding(threadData, _v, _binding, omc_ComponentReference_crefLastIdent(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)))));
                          *tmp28 = mmc_mk_cons(__omcQ_24tmpVar10,0);
                          tmp28 = &MMC_CDR(*tmp28);
                        } else if (tmp30 == 1) {
                          break;
                        } else {
                          goto goto_22;
                        }
                      }
                      *tmp28 = mmc_mk_nil();
                      tmpMeta27 = __omcQ_24tmpVar11;
                    }
                    tmpMeta26 = MMC_TAGPTR(mmc_alloc_words(6));
                    memcpy(MMC_UNTAGPTR(tmpMeta26), MMC_UNTAGPTR(_ty), 6*sizeof(modelica_metatype));
                    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta26))[3] = tmpMeta27;
                    _ty = tmpMeta26;
                    tmpMeta21 = _ty;
                    goto tmp23_done;
                  }
                  case 1: {
                    
                    /* Pattern matching succeeded */
                    omc_Error_addMessage(threadData, _OMC_LIT55, _OMC_LIT149);
                    goto goto_22;
                    goto tmp23_done;
                  }
                  }
                  goto tmp23_end;
                  tmp23_end: ;
                }
                goto goto_22;
                goto_22:;
                goto goto_1;
                goto tmp23_done;
                tmp23_done:;
              }
            }
            _ty = tmpMeta21;

            omc_UnorderedMap_add(threadData, _rec_cref, _ty, _map);
          }
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

static modelica_metatype closure3_BackendDAECreate_collectRecordTypesEqn(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_eqn)
{
  modelica_metatype map = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_BackendDAECreate_collectRecordTypesEqn(thData, $in_eqn, map);
}static modelica_metatype closure4_BackendDAECreate_collectRecordTypesEqn(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_eqn)
{
  modelica_metatype map = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_BackendDAECreate_collectRecordTypesEqn(thData, $in_eqn, map);
}static modelica_metatype closure5_BackendDAECreate_collectRecordTypesEqn(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_eqn)
{
  modelica_metatype map = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_BackendDAECreate_collectRecordTypesEqn(thData, $in_eqn, map);
}static void closure6_BackendDAECreate_collectRecordElementBindings(threadData_t *thData, modelica_metatype closure, modelica_metatype var)
{
  modelica_metatype map = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype arrayMap = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  boxptr_BackendDAECreate_collectRecordElementBindings(thData, var, map, arrayMap);
}static void closure7_BackendDAECreate_collectRecordElementBindings(threadData_t *thData, modelica_metatype closure, modelica_metatype var)
{
  modelica_metatype map = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype arrayMap = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  boxptr_BackendDAECreate_collectRecordElementBindings(thData, var, map, arrayMap);
}static void closure8_BackendDAECreate_collectRecordElementBindings(threadData_t *thData, modelica_metatype closure, modelica_metatype var)
{
  modelica_metatype map = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype arrayMap = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  boxptr_BackendDAECreate_collectRecordElementBindings(thData, var, map, arrayMap);
}static modelica_metatype closure9_BackendDAECreate_updateRecordTypesEqn(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_eqn)
{
  modelica_metatype map = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_BackendDAECreate_updateRecordTypesEqn(thData, $in_eqn, map);
}static modelica_metatype closure10_BackendDAECreate_updateRecordTypesEqn(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_eqn)
{
  modelica_metatype map = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_BackendDAECreate_updateRecordTypesEqn(thData, $in_eqn, map);
}static modelica_metatype closure11_BackendDAECreate_updateRecordTypesEqn(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_eqn)
{
  modelica_metatype map = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_BackendDAECreate_updateRecordTypesEqn(thData, $in_eqn, map);
}
DLLDirection
modelica_metatype omc_BackendDAECreate_patchRecordBindings(threadData_t *threadData, modelica_metatype _varlst, modelica_metatype _extvarlst, modelica_metatype __omcQ_24in_5FglobalKnownVarLst, modelica_metatype __omcQ_24in_5Feqns, modelica_metatype __omcQ_24in_5Freqns, modelica_metatype __omcQ_24in_5Fieqns, modelica_metatype *out_eqns, modelica_metatype *out_reqns, modelica_metatype *out_ieqns)
{
  modelica_metatype _globalKnownVarLst = NULL;
  modelica_metatype _eqns = NULL;
  modelica_metatype _reqns = NULL;
  modelica_metatype _ieqns = NULL;
  modelica_metatype _map = NULL;
  modelica_metatype _arrayMap = NULL;
  modelica_boolean _debug;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _globalKnownVarLst = __omcQ_24in_5FglobalKnownVarLst;
  _eqns = __omcQ_24in_5Feqns;
  _reqns = __omcQ_24in_5Freqns;
  _ieqns = __omcQ_24in_5Fieqns;
  // _map has no default value.
  // _arrayMap has no default value.
  _debug = 0 /* false */;
  _map = omc_UnorderedMap_new(threadData, boxvar_ComponentReference_hashComponentRef, boxvar_ComponentReference_crefEqual, ((modelica_integer) 1));

  omc_BackendDAECreate_collectRecordTypesVarLst(threadData, _map, _globalKnownVarLst);

  tmpMeta1 = mmc_mk_box1(0, _map);
  _eqns = omc_List_map(threadData, _eqns, (modelica_fnptr) mmc_mk_box2(0,closure3_BackendDAECreate_collectRecordTypesEqn,tmpMeta1));

  tmpMeta2 = mmc_mk_box1(0, _map);
  _reqns = omc_List_map(threadData, _reqns, (modelica_fnptr) mmc_mk_box2(0,closure4_BackendDAECreate_collectRecordTypesEqn,tmpMeta2));

  tmpMeta3 = mmc_mk_box1(0, _map);
  _ieqns = omc_List_map(threadData, _ieqns, (modelica_fnptr) mmc_mk_box2(0,closure5_BackendDAECreate_collectRecordTypesEqn,tmpMeta3));

  _arrayMap = omc_UnorderedMap_new(threadData, boxvar_ComponentReference_hashComponentRef, boxvar_ComponentReference_crefEqual, ((modelica_integer) 1));

  tmpMeta4 = mmc_mk_box2(0, _map, _arrayMap);
  omc_List_map(threadData, _varlst, (modelica_fnptr) mmc_mk_box2(0,closure6_BackendDAECreate_collectRecordElementBindings,tmpMeta4));

  tmpMeta5 = mmc_mk_box2(0, _map, _arrayMap);
  omc_List_map(threadData, _globalKnownVarLst, (modelica_fnptr) mmc_mk_box2(0,closure7_BackendDAECreate_collectRecordElementBindings,tmpMeta5));

  tmpMeta6 = mmc_mk_box2(0, _map, _arrayMap);
  omc_List_map(threadData, _extvarlst, (modelica_fnptr) mmc_mk_box2(0,closure8_BackendDAECreate_collectRecordElementBindings,tmpMeta6));

  _map = omc_BackendDAECreate_collapseArrayBindings(threadData, _arrayMap, _map);

  if(_debug)
  {
    fputs(MMC_STRINGDATA(_OMC_LIT152),stdout);

    tmpMeta7 = stringAppend(omc_UnorderedMap_toString(threadData, _arrayMap, boxvar_ComponentReference_printComponentRefStr, boxvar_BackendDAECreate_printArrayBindingList, _OMC_LIT89, _OMC_LIT153),_OMC_LIT89);
    fputs(MMC_STRINGDATA(tmpMeta7),stdout);

    fputs(MMC_STRINGDATA(_OMC_LIT154),stdout);

    tmpMeta8 = stringAppend(omc_UnorderedMap_toString(threadData, _map, boxvar_ComponentReference_printComponentRefStr, boxvar_Types_printTypeStr, _OMC_LIT89, _OMC_LIT153),_OMC_LIT155);
    fputs(MMC_STRINGDATA(tmpMeta8),stdout);
  }

  _globalKnownVarLst = omc_BackendDAECreate_updateRecordTypesVarLst(threadData, _map, _globalKnownVarLst);

  tmpMeta9 = mmc_mk_box1(0, _map);
  _eqns = omc_List_map(threadData, _eqns, (modelica_fnptr) mmc_mk_box2(0,closure9_BackendDAECreate_updateRecordTypesEqn,tmpMeta9));

  tmpMeta10 = mmc_mk_box1(0, _map);
  _reqns = omc_List_map(threadData, _reqns, (modelica_fnptr) mmc_mk_box2(0,closure10_BackendDAECreate_updateRecordTypesEqn,tmpMeta10));

  tmpMeta11 = mmc_mk_box1(0, _map);
  _ieqns = omc_List_map(threadData, _ieqns, (modelica_fnptr) mmc_mk_box2(0,closure11_BackendDAECreate_updateRecordTypesEqn,tmpMeta11));
  _return: OMC_LABEL_UNUSED
  if (out_eqns) { *out_eqns = _eqns; }
  if (out_reqns) { *out_reqns = _reqns; }
  if (out_ieqns) { *out_ieqns = _ieqns; }
  return _globalKnownVarLst;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_BackendDAECreate_printArrayBindingList(threadData_t *threadData, modelica_metatype _arrayBindingList)
{
  modelica_string _str = NULL;
  modelica_metatype _subscriptLst = NULL;
  modelica_metatype _bindingExp = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _str = _OMC_LIT79;
  // _subscriptLst has no default value.
  // _bindingExp has no default value.
  {
    modelica_metatype _tpl;
    for (tmpMeta1 = _arrayBindingList; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _tpl = MMC_CAR(tmpMeta1);
      /* Pattern-matching assignment */
      tmpMeta2 = _tpl;
      tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 1));
      tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
      _subscriptLst = tmpMeta3;
      _bindingExp = tmpMeta4;

      tmpMeta5 = stringAppend(_str,_OMC_LIT156);
      _str = tmpMeta5;

      {
        modelica_metatype _subscript;
        for (tmpMeta6 = _subscriptLst; !listEmpty(tmpMeta6); tmpMeta6=MMC_CDR(tmpMeta6))
        {
          _subscript = MMC_CAR(tmpMeta6);
          tmpMeta7 = stringAppend(_str,intString(mmc_unbox_integer(_subscript)));
          tmpMeta8 = stringAppend(tmpMeta7,_OMC_LIT157);
          _str = tmpMeta8;
        }
      }

      tmpMeta10 = stringAppend(_str,_OMC_LIT158);
      _str = tmpMeta10;

      tmpMeta11 = stringAppend(_str,_OMC_LIT159);
      tmpMeta12 = stringAppend(tmpMeta11,omc_ExpressionDump_dumpExpStr(threadData, _bindingExp, ((modelica_integer) 0)));
      _str = tmpMeta12;
    }
  }
  _return: OMC_LABEL_UNUSED
  return _str;
}

DLLDirection
modelica_metatype omc_BackendDAECreate_lower(threadData_t *threadData, modelica_metatype _lst, modelica_metatype _inCache, modelica_metatype _inEnv, modelica_metatype _inExtraInfo)
{
  modelica_metatype _outBackendDAE = NULL;
  modelica_metatype _varlst = NULL;
  modelica_metatype _globalKnownVarLst = NULL;
  modelica_metatype _extvarlst = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _globalKnownVars = NULL;
  modelica_metatype _localKnownVars = NULL;
  modelica_metatype _vars_1 = NULL;
  modelica_metatype _extVars = NULL;
  modelica_metatype _aliasVars = NULL;
  modelica_metatype _extAliasVars = NULL;
  modelica_metatype _eqns = NULL;
  modelica_metatype _reqns = NULL;
  modelica_metatype _ieqns = NULL;
  modelica_metatype _constrs = NULL;
  modelica_metatype _clsAttrs = NULL;
  modelica_metatype _eqnarr = NULL;
  modelica_metatype _reqnarr = NULL;
  modelica_metatype _ieqnarr = NULL;
  modelica_metatype _extObjCls = NULL;
  modelica_metatype _symjacs = NULL;
  modelica_metatype _einfo = NULL;
  modelica_metatype _elems = NULL;
  modelica_metatype _aliaseqns = NULL;
  modelica_metatype _functionTree = NULL;
  modelica_metatype _timeEvents = NULL;
  modelica_string _neqStr = NULL;
  modelica_string _nvarStr = NULL;
  modelica_integer _varSize;
  modelica_integer _eqnSize;
  modelica_integer _numCheckpoints;
  modelica_metatype _syst = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outBackendDAE has no default value.
  // _varlst has no default value.
  // _globalKnownVarLst has no default value.
  // _extvarlst has no default value.
  // _vars has no default value.
  // _globalKnownVars has no default value.
  // _localKnownVars has no default value.
  // _vars_1 has no default value.
  // _extVars has no default value.
  // _aliasVars has no default value.
  // _extAliasVars has no default value.
  // _eqns has no default value.
  // _reqns has no default value.
  // _ieqns has no default value.
  // _constrs has no default value.
  // _clsAttrs has no default value.
  // _eqnarr has no default value.
  // _reqnarr has no default value.
  // _ieqnarr has no default value.
  // _extObjCls has no default value.
  // _symjacs has no default value.
  // _einfo has no default value.
  // _elems has no default value.
  // _aliaseqns has no default value.
  // _functionTree has no default value.
  // _timeEvents has no default value.
  // _neqStr has no default value.
  // _nvarStr has no default value.
  // _varSize has no default value.
  // _eqnSize has no default value.
  // _numCheckpoints has no default value.
  // _syst has no default value.
  _numCheckpoints = omc_ErrorExt_getNumCheckpoints(threadData);

  { /* stack overflow check */
    {
      modelica_metatype tmpMeta4;
      modelica_metatype tmpMeta5;
      modelica_metatype tmpMeta6;
      modelica_metatype tmpMeta7;
      modelica_metatype tmpMeta8;
      modelica_metatype tmpMeta9;
      modelica_metatype tmpMeta10;
      modelica_metatype tmpMeta11;
      modelica_metatype tmpMeta12;
      modelica_metatype tmpMeta13;
      modelica_metatype tmpMeta14;
      modelica_metatype tmpMeta15;
      modelica_metatype tmpMeta16;
      modelica_metatype tmpMeta17;
      modelica_metatype tmpMeta18;
      modelica_metatype tmpMeta19;
      modelica_metatype tmpMeta20;
      modelica_metatype tmpMeta21;
      modelica_metatype tmpMeta22;
      modelica_metatype tmpMeta23;
      modelica_metatype tmpMeta24;
      modelica_string tmp25;
      modelica_string tmp26;
      modelica_metatype tmpMeta27;
      MMC_TRY_STACK()
      omc_StackOverflow_clearStacktraceMessages(threadData);

      omc_System_tmpTickResetIndex(threadData, ((modelica_integer) 0), ((modelica_integer) 20));

      omc_System_tmpTickResetIndex(threadData, ((modelica_integer) 1), ((modelica_integer) 23));

      omc_System_tmpTickResetIndex(threadData, ((modelica_integer) 0), ((modelica_integer) 24));

      _functionTree = omc_FCore_getFunctionTree(threadData, _inCache);

      _functionTree = omc_BackendDAECreate_lowerFunctions(threadData, _functionTree);

      /* Pattern-matching tuple assignment */
      tmpMeta6 = omc_BackendDAECreate_processBuiltinExpressions(threadData, _lst, _functionTree, &tmpMeta4, &tmpMeta5);
      tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
      _elems = tmpMeta7;
      _functionTree = tmpMeta4;
      _timeEvents = tmpMeta5;

      tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
      _varlst = omc_BackendDAECreate_lower2(threadData, listReverse(_elems), _functionTree, omc_HashTableExpToExp_emptyHashTable(threadData), tmpMeta8, tmpMeta9, tmpMeta10, tmpMeta11, tmpMeta12, tmpMeta13, tmpMeta14, tmpMeta15, tmpMeta16, tmpMeta17 ,&_globalKnownVarLst ,&_extvarlst ,&_eqns ,&_reqns ,&_ieqns ,&_constrs ,&_clsAttrs ,&_extObjCls ,&_aliaseqns ,NULL);

      _globalKnownVars = omc_BackendVariable_listVar(threadData, _globalKnownVarLst);

      _localKnownVars = omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013));

      _extVars = omc_BackendVariable_listVar(threadData, _extvarlst);

      _aliasVars = omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013));

      if(omc_Flags_isSet(threadData, _OMC_LIT163))
      {
        _varlst = omc_Vectorization_collectForLoops(threadData, _varlst, _eqns ,&_eqns);
      }

      _vars = omc_BackendVariable_listVar(threadData, _varlst);

      _vars = omc_BackendDAECreate_handleAliasEquations(threadData, _aliaseqns, _vars, _globalKnownVars, _extVars, _aliasVars, _eqns, _reqns, _ieqns ,&_globalKnownVars ,&_extVars ,&_aliasVars ,&_eqns ,&_reqns ,&_ieqns);

      _ieqns = omc_BackendDAECreate_getExternalObjectAlias(threadData, _ieqns, _eqns, _reqns, _globalKnownVars, _extVars ,&_eqns ,&_reqns ,&_extAliasVars ,&_globalKnownVars ,&_extVars);

      _aliasVars = omc_BackendVariable_addVariables(threadData, _extAliasVars, _aliasVars);

      _globalKnownVarLst = omc_BackendDAECreate_patchRecordBindings(threadData, _varlst, _extvarlst, _globalKnownVarLst, _eqns, _reqns, _ieqns ,&_eqns ,&_reqns ,&_ieqns);

      _vars_1 = omc_BackendDAECreate_detectImplicitDiscrete(threadData, _vars, _globalKnownVars, _eqns);

      _eqnarr = omc_BackendEquation_listEquation(threadData, _eqns);

      _reqnarr = omc_BackendEquation_listEquation(threadData, _reqns);

      _ieqnarr = omc_BackendEquation_listEquation(threadData, _ieqns);

      tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta19 = mmc_mk_box6(3, &BackendDAE_EventInfo_EVENT__INFO__desc, _timeEvents, omc_ZeroCrossings_new(threadData), omc_DoubleEnded_fromList(threadData, tmpMeta18), omc_ZeroCrossings_new(threadData), mmc_mk_integer(((modelica_integer) 0)));
      _einfo = tmpMeta19;

      _symjacs = _OMC_LIT169;

      tmpMeta20 = MMC_REFSTRUCTLIT(mmc_nil);
      _syst = omc_BackendDAEUtil_createEqSystem(threadData, _vars_1, _eqnarr, tmpMeta20, _OMC_LIT170, _reqnarr);

      tmpMeta21 = mmc_mk_cons(_syst, MMC_REFSTRUCTLIT(mmc_nil));
      tmpMeta22 = mmc_mk_box(21, 3, &BackendDAE_Shared_SHARED__desc, _globalKnownVars, _localKnownVars, _extVars, _aliasVars, _ieqnarr, omc_BackendEquation_emptyEqns(threadData), _constrs, _clsAttrs, _inCache, _inEnv, _functionTree, _einfo, _extObjCls, _OMC_LIT171, _symjacs, _inExtraInfo, omc_BackendDAEUtil_emptyPartitionsInfo(threadData), _OMC_LIT172, mmc_mk_none(), mmc_mk_none());
      tmpMeta23 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta21, tmpMeta22);
      _outBackendDAE = tmpMeta23;

      omc_BackendDAEUtil_checkBackendDAEWithErrorMsg(threadData, _outBackendDAE);

      omc_BackendDAEUtil_checkAdjacencyMatrixSolvability(threadData, _syst, _functionTree, omc_BackendDAEUtil_isInitializationDAE(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outBackendDAE), 3)))));

      if(omc_Flags_isSet(threadData, _OMC_LIT181))
      {
        tmp25 = modelica_integer_to_modelica_string(omc_BackendEquation_equationArraySize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3)))), ((modelica_integer) 0), 1 /* true */);
        tmp26 = modelica_integer_to_modelica_string(omc_BackendVariable_varsSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2)))), ((modelica_integer) 0), 1 /* true */);
        tmpMeta24 = mmc_mk_cons(tmp25, mmc_mk_cons(tmp26, MMC_REFSTRUCTLIT(mmc_nil)));
        omc_Error_addSourceMessage(threadData, _OMC_LIT177, tmpMeta24, _OMC_LIT81);
      }

      omc_ExecStat_execStat(threadData, _OMC_LIT182);

      goto _return;
      MMC_ELSE_STACK()
      setGlobalRoot(((modelica_integer) 20), mmc_mk_none());

      omc_ErrorExt_rollbackNumCheckpoints(threadData, omc_ErrorExt_getNumCheckpoints(threadData) - _numCheckpoints);

      tmpMeta27 = stringAppend(_OMC_LIT183,stringDelimitList(omc_StackOverflow_readableStacktraceMessages(threadData), _OMC_LIT89));
      omc_Error_addInternalError(threadData, tmpMeta27, _OMC_LIT184);

      omc_StackOverflow_clearStacktraceMessages(threadData);
      MMC_CATCH_STACK()
    }
  }
  ;

  MMC_THROW_INTERNAL();
  _return: OMC_LABEL_UNUSED
  return _outBackendDAE;
}

