#include "omc_simulation_settings.h"
#include "NFClass.h"
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT0,4,3) {&BaseModelica_OutputFormat_OUTPUT__FORMAT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(2)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT0 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT0)
#define _OMC_LIT1_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT1,0,_OMC_LIT1_data);
#define _OMC_LIT1 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "NFClass.toFlatString"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,20,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,1,4) {&IOStream_IOStreamType_LIST__desc,}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
#define _OMC_LIT4_data "."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT4,1,_OMC_LIT4_data);
#define _OMC_LIT4 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT4)
#define _OMC_LIT5_data " "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT5,1,_OMC_LIT5_data);
#define _OMC_LIT5 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT5)
#define _OMC_LIT6_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT6,1,_OMC_LIT6_data);
#define _OMC_LIT6 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT6)
#define _OMC_LIT7_data "  "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT7,2,_OMC_LIT7_data);
#define _OMC_LIT7 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT7)
#define _OMC_LIT8_data ";\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT8,2,_OMC_LIT8_data);
#define _OMC_LIT8 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT8)
#define _OMC_LIT9_data "end "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT9,4,_OMC_LIT9_data);
#define _OMC_LIT9 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT9)
#define _OMC_LIT10_data "INSTANCED_BUILTIN("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT10,18,_OMC_LIT10_data);
#define _OMC_LIT10 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data ")"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,1,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
#define _OMC_LIT12_data " = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT12,3,_OMC_LIT12_data);
#define _OMC_LIT12 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "UNKNOWN_CLASS("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,14,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT14,1,4) {&SCode_Encapsulated_NOT__ENCAPSULATED__desc,}};
#define _OMC_LIT14 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,1,4) {&SCode_Partial_NOT__PARTIAL__desc,}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT16,1,4) {&SCode_Final_NOT__FINAL__desc,}};
#define _OMC_LIT16 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT16)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT17,1,6) {&Absyn_InnerOuter_NOT__INNER__OUTER__desc,}};
#define _OMC_LIT17 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT17)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT18,1,4) {&SCode_Replaceable_NOT__REPLACEABLE__desc,}};
#define _OMC_LIT18 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT18)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT19,6,3) {&NFClass_Prefixes_PREFIXES__desc,_OMC_LIT14,_OMC_LIT15,_OMC_LIT16,_OMC_LIT17,_OMC_LIT18}};
#define _OMC_LIT19 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data "equalityConstraint"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,18,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
#define _OMC_LIT21_data "builtin"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT21,7,_OMC_LIT21_data);
#define _OMC_LIT21 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT21)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT22,1,16) {&NFRestriction_UNKNOWN__desc,}};
#define _OMC_LIT22 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT22)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT23,1,13) {&NFType_UNKNOWN__desc,}};
#define _OMC_LIT23 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT23)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT24,1,4) {&NFPrefixes_Replaceable_NOT__REPLACEABLE__desc,}};
#define _OMC_LIT24 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT24)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT25,10,3) {&NFAttributes_ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT24,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT25 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data "NFClass.mergeModifier got non-modifiable class"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,46,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
#define _OMC_LIT27_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/NFFrontEnd/NFClass.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT27,68,_OMC_LIT27_data);
#define _OMC_LIT27 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT27)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT28_6,1.758197185e9);
#define _OMC_LIT28_6 MMC_REFREALLIT(_OMC_LIT_STRUCT28_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT28,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT27,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(469)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(469)),MMC_IMMEDIATE(MMC_TAGFIXNUM(96)),_OMC_LIT28_6}};
#define _OMC_LIT28 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT28)
#define _OMC_LIT29_data "NFClass.setModifier got non-modifiable class"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT29,44,_OMC_LIT29_data);
#define _OMC_LIT29 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT29)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT30_6,1.758197185e9);
#define _OMC_LIT30_6 MMC_REFREALLIT(_OMC_LIT_STRUCT30_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT30,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT27,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(436)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(436)),MMC_IMMEDIATE(MMC_TAGFIXNUM(96)),_OMC_LIT30_6}};
#define _OMC_LIT30 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT30)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT31,1,5) {&NFModifier_Modifier_NOMOD__desc,}};
#define _OMC_LIT31 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT31)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT32,1,7) {&NFClassTree_ClassTree_EMPTY__TREE__desc,}};
#define _OMC_LIT32 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT32)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT33,1,3) {&NFBinding_UNBOUND__desc,}};
#define _OMC_LIT33 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT33)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT34,1,5) {&NFSections_EMPTY__desc,}};
#define _OMC_LIT34 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT34)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT35,1,14) {&NFRestriction_RECORD__CONSTRUCTOR__desc,}};
#define _OMC_LIT35 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT35)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT36,1,7) {&NFRestriction_ENUMERATION__desc,}};
#define _OMC_LIT36 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT36)
#include "util/modelica.h"

#include "NFClass_includes.h"



DLLDirection
modelica_string omc_NFClass_toFlatString(threadData_t *threadData, modelica_metatype _cls, modelica_metatype _clsNode, modelica_metatype _format, modelica_string _indent)
{
  modelica_string _str = NULL;
  modelica_metatype _s = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _str has no default value.
  // _s has no default value.
  _s = omc_IOStream_create(threadData, _OMC_LIT2, _OMC_LIT3);

  _s = omc_NFClass_toFlatStream(threadData, _cls, _clsNode, _format, _indent, _s);

  _str = omc_IOStream_string(threadData, _s);

  omc_IOStream_delete(threadData, _s);
  _return: OMC_LABEL_UNUSED
  return _str;
}

DLLDirection
modelica_metatype omc_NFClass_toFlatStream(threadData_t *threadData, modelica_metatype _cls, modelica_metatype _clsNode, modelica_metatype _format, modelica_string _indent, modelica_metatype __omcQ_24in_5Fs)
{
  modelica_metatype _s = NULL;
  modelica_string _name = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _s = __omcQ_24in_5Fs;
  // _name has no default value.
  _name = omc_Util_makeQuotedIdentifier(threadData, omc_AbsynUtil_pathString(threadData, omc_NFInstNode_InstNode_scopePath(threadData, _clsNode, 1, 0 /* false */), _OMC_LIT4, 1 /* true */, 0 /* false */));

  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 8: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_integer tmp9;
          
          /* Pattern matching succeeded */
          _s = omc_IOStream_append(threadData, _s, _indent);

          _s = omc_IOStream_append(threadData, _s, omc_NFRestriction_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 6)))));

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT5);

          _s = omc_IOStream_append(threadData, _s, _name);

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT6);

          {
            modelica_metatype _comp;
            for (tmpMeta5 = omc_NFClassTree_ClassTree_getComponents(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3)))), tmp9 = arrayLength(tmpMeta5), tmp8 = 1; tmp8 <= tmp9; tmp8++)
            {
              _comp = arrayGet(tmpMeta5,tmp8);
              tmpMeta6 = stringAppend(_indent,_OMC_LIT7);
              _s = omc_IOStream_append(threadData, _s, omc_NFInstNode_InstNode_toFlatString(threadData, _comp, _format, tmpMeta6));

              _s = omc_IOStream_append(threadData, _s, _OMC_LIT8);
            }
          }

          _s = omc_IOStream_append(threadData, _s, _indent);

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT9);
          tmpMeta1 = omc_IOStream_append(threadData, _s, _name);
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          _s = omc_IOStream_append(threadData, _s, _indent);

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT10);

          _s = omc_IOStream_append(threadData, _s, _name);
          tmpMeta1 = omc_IOStream_append(threadData, _s, _OMC_LIT11);
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          _s = omc_IOStream_append(threadData, _s, _indent);

          _s = omc_IOStream_append(threadData, _s, omc_NFRestriction_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 4)))));

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT5);

          _s = omc_IOStream_append(threadData, _s, _name);

          _s = omc_IOStream_append(threadData, _s, _OMC_LIT12);
          tmpMeta1 = omc_IOStream_append(threadData, _s, omc_Util_makeQuotedIdentifier(threadData, omc_AbsynUtil_pathString(threadData, omc_NFInstNode_InstNode_scopePath(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))), 1, 0 /* false */), _OMC_LIT4, 1 /* true */, 0 /* false */)));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          
          /* Pattern matching succeeded */
          tmpMeta10 = stringAppend(_OMC_LIT13,_name);
          tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT11);
          tmpMeta1 = omc_IOStream_append(threadData, _s, tmpMeta11);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _s = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _s;
}

DLLDirection
modelica_metatype omc_NFClass_makeRecordExp(threadData_t *threadData, modelica_metatype _clsNode, modelica_metatype _scope, modelica_boolean _typed)
{
  modelica_metatype _exp = NULL;
  modelica_metatype _cls = NULL;
  modelica_metatype _ty = NULL;
  modelica_metatype _ty_node = NULL;
  modelica_metatype _fields = NULL;
  modelica_metatype _comps = NULL;
  modelica_metatype _args = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_integer tmp14;
  modelica_integer tmp15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _exp has no default value.
  // _cls has no default value.
  // _ty has no default value.
  // _ty_node has no default value.
  // _fields has no default value.
  // _comps has no default value.
  // _args has no default value.
  _cls = omc_NFInstNode_InstNode_getClass(threadData, _clsNode);

  /* Pattern-matching assignment */
  tmpMeta1 = omc_NFClass_getType(threadData, _cls, _clsNode);
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta1,11,2) == 0) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 3));
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta2,4,3) == 0) MMC_THROW_INTERNAL();
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
  _ty = tmpMeta1;
  _ty_node = tmpMeta3;

  _comps = omc_NFClassTree_ClassTree_getComponents(threadData, omc_NFClass_classTree(threadData, _cls));

  if(_typed)
  {
    {
      modelica_metatype __omcQ_24tmpVar1;
      modelica_metatype* tmp5;
      modelica_metatype tmpMeta6;
      modelica_metatype __omcQ_24tmpVar0;
      modelica_integer tmp7;
      modelica_metatype _c_loopVar = 0;
      modelica_integer tmp8;
      modelica_metatype _c;
      _c_loopVar = _comps;
      tmp8 = 1;
      tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar1 = tmpMeta6; /* defaultValue */
      tmp5 = &__omcQ_24tmpVar1;
      while(1) {
        tmp7 = 1;
        if (tmp8 <= arrayLength(_c_loopVar)) {
          _c = arrayGet(_c_loopVar, tmp8++);
          tmp7--;
        }
        if (tmp7 == 0) {
          __omcQ_24tmpVar0 = omc_NFBinding_getExp(threadData, omc_NFComponent_getImplicitBinding(threadData, omc_NFInstNode_InstNode_component(threadData, _c), _scope));
          *tmp5 = mmc_mk_cons(__omcQ_24tmpVar0,0);
          tmp5 = &MMC_CDR(*tmp5);
        } else if (tmp7 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp5 = mmc_mk_nil();
      tmpMeta4 = __omcQ_24tmpVar1;
    }
    _args = tmpMeta4;

    _exp = omc_NFExpression_makeRecord(threadData, omc_NFInstNode_InstNode_fullPath(threadData, _ty_node, 0 /* false */), _ty, _args);
  }
  else
  {
    tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
    _args = tmpMeta9;

    {
      modelica_metatype _c;
      for (tmpMeta10 = _comps, tmp15 = arrayLength(tmpMeta10), tmp14 = 1; tmp14 <= tmp15; tmp14++)
      {
        _c = arrayGet(tmpMeta10,tmp14);
        tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
        _fields = omc_NFRecord_collectRecordField(threadData, _c, tmpMeta11);

        if(((!listEmpty(_fields)) && omc_NFRecord_Field_isInput(threadData, listHead(_fields))))
        {
          tmpMeta12 = mmc_mk_cons(omc_NFBinding_getExp(threadData, omc_NFComponent_getImplicitBinding(threadData, omc_NFInstNode_InstNode_component(threadData, _c), _scope)), _args);
          _args = tmpMeta12;
        }
      }
    }

    _args = listReverseInPlace(_args);

    tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
    tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
    tmpMeta18 = mmc_mk_box5(3, &NFCall_UNTYPED__CALL__desc, omc_NFComponentRef_fromNode(threadData, _ty_node, _ty, tmpMeta16, 1), _args, tmpMeta17, _scope);
    tmpMeta19 = mmc_mk_box2(16, &NFExpression_CALL__desc, tmpMeta18);
    _exp = tmpMeta19;
  }
  _return: OMC_LABEL_UNUSED
  return _exp;
}
modelica_metatype boxptr_NFClass_makeRecordExp(threadData_t *threadData, modelica_metatype _clsNode, modelica_metatype _scope, modelica_metatype _typed)
{
  modelica_integer tmp1;
  modelica_metatype _exp = NULL;
  tmp1 = mmc_unbox_integer(_typed);
  _exp = omc_NFClass_makeRecordExp(threadData, _clsNode, _scope, tmp1);
  /* skip box _exp; NFExpression */
  return _exp;
}

DLLDirection
modelica_boolean omc_NFClass_hasOperator(threadData_t *threadData, modelica_string _name, modelica_metatype _cls)
{
  modelica_boolean _hasOperator;
  modelica_metatype _op_node = NULL;
  modelica_metatype _op_cls = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _hasOperator has no default value.
  // _op_node has no default value.
  // _op_cls has no default value.
  if(omc_NFRestriction_isOperatorRecord(threadData, omc_NFClass_restriction(threadData, _cls)))
  {
    { /* matchcontinue expression */
      {
        volatile mmc_switch_type tmp3;
        int tmp4;
        tmp3 = 0;
        MMC_TRY_INTERNAL(mmc_jumper)
        tmp2_top:
        threadData->mmc_jumper = &new_mmc_jumper;
        for (; tmp3 < 2; tmp3++) {
          switch (MMC_SWITCH_CAST(tmp3)) {
          case 0: {
            /* Pattern matching succeeded */
            _op_node = omc_NFClass_lookupElement(threadData, _name, _cls, NULL);

            _hasOperator = omc_SCodeUtil_isOperator(threadData, omc_NFInstNode_InstNode_definition(threadData, _op_node));
            goto tmp2_done;
          }
          case 1: {
            /* Pattern matching succeeded */
            _hasOperator = 0 /* false */;
            goto tmp2_done;
          }
          }
          goto tmp2_end;
          tmp2_end: ;
        }
        goto goto_1;
        tmp2_done:
        (void)tmp3;
        MMC_RESTORE_INTERNAL(mmc_jumper);
        goto tmp2_done2;
        goto_1:;
        MMC_CATCH_INTERNAL(mmc_jumper);
        if (++tmp3 < 2) {
          goto tmp2_top;
        }
        MMC_THROW_INTERNAL();
        tmp2_done2:;
      }
    }
    ;
  }
  else
  {
    _hasOperator = 0 /* false */;
  }
  _return: OMC_LABEL_UNUSED
  return _hasOperator;
}
modelica_metatype boxptr_NFClass_hasOperator(threadData_t *threadData, modelica_metatype _name, modelica_metatype _cls)
{
  modelica_boolean _hasOperator;
  modelica_metatype out_hasOperator;
  _hasOperator = omc_NFClass_hasOperator(threadData, _name, _cls);
  out_hasOperator = mmc_mk_icon(_hasOperator);
  return out_hasOperator;
}

DLLDirection
modelica_metatype omc_NFClass_constrainingClassPath(threadData_t *threadData, modelica_metatype _clsNode)
{
  modelica_metatype _path = NULL;
  modelica_metatype _cls_node = NULL;
  modelica_metatype _prefs = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _path has no default value.
  _cls_node = omc_NFClass_lastBaseClass(threadData, _clsNode);
  _prefs = omc_NFClass_getPrefixes(threadData, omc_NFInstNode_InstNode_getClass(threadData, _cls_node));
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _prefs;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (optionNone(tmpMeta7)) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          
          _path = tmpMeta9;
          /* Pattern matching succeeded */
          tmpMeta1 = _path;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFInstNode_InstNode_enclosingScopePath(threadData, _cls_node, 0 /* false */);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _path = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _path;
}

DLLDirection
modelica_metatype omc_NFClass_getDerivedComments(threadData_t *threadData, modelica_metatype _cls, modelica_metatype __omcQ_24in_5Fcmts)
{
  modelica_metatype _cmts = NULL;
  modelica_metatype _cls_tree = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cmts = __omcQ_24in_5Fcmts;
  // _cls_tree has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 7: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFInstNode_InstNode_getComments(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))), _cmts);
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFInstNode_InstNode_getComments(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))), _cmts);
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          modelica_integer tmp8;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype _ext;
            for (tmpMeta5 = omc_NFClassTree_ClassTree_getExtends(threadData, omc_NFClass_classTree(threadData, _cls)), tmp8 = arrayLength(tmpMeta5), tmp7 = 1; tmp7 <= tmp8; tmp7++)
            {
              _ext = arrayGet(tmpMeta5,tmp7);
              _cmts = omc_NFInstNode_InstNode_getComments(threadData, _ext, _cmts);
            }
          }
          tmpMeta1 = _cmts;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _cmts = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _cmts;
}

DLLDirection
modelica_metatype omc_NFClass_lastBaseClass(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fnode)
{
  modelica_metatype _node = NULL;
  modelica_metatype _cls = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _node = __omcQ_24in_5Fnode;
  _cls = omc_NFInstNode_InstNode_getClass(threadData, _node);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 7: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          __omcQ_24in_5Fnode = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          __omcQ_24in_5Fnode = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _node;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _node = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _node;
}

DLLDirection
modelica_boolean omc_NFClass_isPartial(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isPartial;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isPartial = omc_NFClass_Prefixes_isPartial(threadData, omc_NFClass_getPrefixes(threadData, _cls));
  _return: OMC_LABEL_UNUSED
  return _isPartial;
}
modelica_metatype boxptr_NFClass_isPartial(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isPartial;
  modelica_metatype out_isPartial;
  _isPartial = omc_NFClass_isPartial(threadData, _cls);
  out_isPartial = mmc_mk_icon(_isPartial);
  return out_isPartial;
}

DLLDirection
modelica_boolean omc_NFClass_isEncapsulated(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isEncapsulated;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isEncapsulated = omc_NFClass_Prefixes_isEncapsulated(threadData, omc_NFClass_getPrefixes(threadData, _cls));
  _return: OMC_LABEL_UNUSED
  return _isEncapsulated;
}
modelica_metatype boxptr_NFClass_isEncapsulated(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isEncapsulated;
  modelica_metatype out_isEncapsulated;
  _isEncapsulated = omc_NFClass_isEncapsulated(threadData, _cls);
  out_isEncapsulated = mmc_mk_icon(_isEncapsulated);
  return out_isEncapsulated;
}

DLLDirection
modelica_metatype omc_NFClass_setPrefixes(threadData_t *threadData, modelica_metatype _prefs, modelica_metatype __omcQ_24in_5Fcls)
{
  modelica_metatype _cls = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cls = __omcQ_24in_5Fcls;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _cls;
    {
      int tmp3;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
        case 4: {
          modelica_metatype tmpMeta4;
          
          /* Pattern matching succeeded */
          tmpMeta4 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta4), MMC_UNTAGPTR(_cls), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta4))[5] = _prefs;
          _cls = tmpMeta4;
          goto tmp2_done;
        }
        case 5: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[5] = _prefs;
          _cls = tmpMeta5;
          goto tmp2_done;
        }
        case 6: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[5] = _prefs;
          _cls = tmpMeta6;
          goto tmp2_done;
        }
        case 7: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_cls), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[6] = _prefs;
          _cls = tmpMeta7;
          goto tmp2_done;
        }
        case 8: {
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[5] = _prefs;
          _cls = tmpMeta8;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_getPrefixes(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_metatype _prefs = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _prefs has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 4: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 5)));
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 5)));
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 5)));
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 6)));
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 5)));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _cls = omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT19;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _prefs = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _prefs;
}

DLLDirection
modelica_boolean omc_NFClass_isOverdetermined(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isOverdetermined;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isOverdetermined has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          /* Pattern matching succeeded */
          omc_NFClass_lookupElement(threadData, _OMC_LIT20, _cls, NULL);

          omc_System_setHasOverconstrainedConnectors(threadData, 1 /* true */);

          _isOverdetermined = 1 /* true */;
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          _isOverdetermined = 0 /* false */;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _isOverdetermined;
}
modelica_metatype boxptr_NFClass_isOverdetermined(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isOverdetermined;
  modelica_metatype out_isOverdetermined;
  _isOverdetermined = omc_NFClass_isOverdetermined(threadData, _cls);
  out_isOverdetermined = mmc_mk_icon(_isOverdetermined);
  return out_isOverdetermined;
}

DLLDirection
modelica_boolean omc_NFClass_isExternalFunction(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isExtFunc;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isExtFunc has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      modelica_string _lang = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _lang has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,7) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _cls = omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 5));
          
          _lang = tmpMeta7;
          /* Pattern matching succeeded */
          tmp1 = (!stringEqual(_lang, _OMC_LIT21));
          goto tmp3_done;
        }
        case 2: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _cls = omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isExtFunc = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isExtFunc;
}
modelica_metatype boxptr_NFClass_isExternalFunction(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isExtFunc;
  modelica_metatype out_isExtFunc;
  _isExtFunc = omc_NFClass_isExternalFunction(threadData, _cls);
  out_isExtFunc = mmc_mk_icon(_isExtFunc);
  return out_isExtFunc;
}

DLLDirection
modelica_boolean omc_NFClass_isEnumeration(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isEnum;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isEnum has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,3) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,7) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _cls = omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 3: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _cls = omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isEnum = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isEnum;
}
modelica_metatype boxptr_NFClass_isEnumeration(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isEnum;
  modelica_metatype out_isEnum;
  _isEnum = omc_NFClass_isEnumeration(threadData, _cls);
  out_isEnum = mmc_mk_icon(_isEnum);
  return out_isEnum;
}

DLLDirection
modelica_boolean omc_NFClass_isFunction(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isFunction;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isFunction = omc_NFRestriction_isFunction(threadData, omc_NFClass_restriction(threadData, _cls));
  _return: OMC_LABEL_UNUSED
  return _isFunction;
}
modelica_metatype boxptr_NFClass_isFunction(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isFunction;
  modelica_metatype out_isFunction;
  _isFunction = omc_NFClass_isFunction(threadData, _cls);
  out_isFunction = mmc_mk_icon(_isFunction);
  return out_isFunction;
}

DLLDirection
modelica_boolean omc_NFClass_isExternalObject(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isExternalObject;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isExternalObject = omc_NFRestriction_isExternalObject(threadData, omc_NFClass_restriction(threadData, _cls));
  _return: OMC_LABEL_UNUSED
  return _isExternalObject;
}
modelica_metatype boxptr_NFClass_isExternalObject(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isExternalObject;
  modelica_metatype out_isExternalObject;
  _isExternalObject = omc_NFClass_isExternalObject(threadData, _cls);
  out_isExternalObject = mmc_mk_icon(_isExternalObject);
  return out_isExternalObject;
}

DLLDirection
modelica_boolean omc_NFClass_isExpandableConnectorClass(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isConnector;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isConnector = omc_NFRestriction_isExpandableConnector(threadData, omc_NFClass_restriction(threadData, _cls));
  _return: OMC_LABEL_UNUSED
  return _isConnector;
}
modelica_metatype boxptr_NFClass_isExpandableConnectorClass(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isConnector;
  modelica_metatype out_isConnector;
  _isConnector = omc_NFClass_isExpandableConnectorClass(threadData, _cls);
  out_isConnector = mmc_mk_icon(_isConnector);
  return out_isConnector;
}

DLLDirection
modelica_boolean omc_NFClass_isNonexpandableConnectorClass(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isConnector;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isConnector = omc_NFRestriction_isNonexpandableConnector(threadData, omc_NFClass_restriction(threadData, _cls));
  _return: OMC_LABEL_UNUSED
  return _isConnector;
}
modelica_metatype boxptr_NFClass_isNonexpandableConnectorClass(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isConnector;
  modelica_metatype out_isConnector;
  _isConnector = omc_NFClass_isNonexpandableConnectorClass(threadData, _cls);
  out_isConnector = mmc_mk_icon(_isConnector);
  return out_isConnector;
}

DLLDirection
modelica_boolean omc_NFClass_isConnectorClass(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isConnector;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isConnector = omc_NFRestriction_isConnector(threadData, omc_NFClass_restriction(threadData, _cls));
  _return: OMC_LABEL_UNUSED
  return _isConnector;
}
modelica_metatype boxptr_NFClass_isConnectorClass(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isConnector;
  modelica_metatype out_isConnector;
  _isConnector = omc_NFClass_isConnectorClass(threadData, _cls);
  out_isConnector = mmc_mk_icon(_isConnector);
  return out_isConnector;
}

DLLDirection
modelica_metatype omc_NFClass_setRestriction(threadData_t *threadData, modelica_metatype _res, modelica_metatype __omcQ_24in_5Fcls)
{
  modelica_metatype _cls = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cls = __omcQ_24in_5Fcls;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _cls;
    {
      int tmp3;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
        case 6: {
          modelica_metatype tmpMeta4;
          
          /* Pattern matching succeeded */
          tmpMeta4 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta4), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta4))[6] = _res;
          _cls = tmpMeta4;
          goto tmp2_done;
        }
        case 7: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_cls), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[8] = _res;
          _cls = tmpMeta5;
          goto tmp2_done;
        }
        case 8: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[6] = _res;
          _cls = tmpMeta6;
          goto tmp2_done;
        }
        case 9: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_cls), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[4] = _res;
          _cls = tmpMeta7;
          goto tmp2_done;
        }
        case 10: {
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_cls), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[4] = _res;
          _cls = tmpMeta8;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_restriction(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_metatype _res = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _res has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 5: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 6)));
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 6)));
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 8)));
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 6)));
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 4)));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 4)));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT22;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _res = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _res;
}

DLLDirection
modelica_metatype omc_NFClass_setType(threadData_t *threadData, modelica_metatype _ty, modelica_metatype __omcQ_24in_5Fcls)
{
  modelica_metatype _cls = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cls = __omcQ_24in_5Fcls;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _cls;
    {
      int tmp3;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
        case 5: {
          modelica_metatype tmpMeta4;
          
          /* Pattern matching succeeded */
          tmpMeta4 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta4), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta4))[2] = _ty;
          _cls = tmpMeta4;
          goto tmp2_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          omc_NFInstNode_InstNode_classApply(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))), boxvar_NFClass_setType, _ty);
          goto tmp2_done;
        }
        case 8: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[2] = _ty;
          _cls = tmpMeta5;
          goto tmp2_done;
        }
        case 9: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_cls), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[2] = _ty;
          _cls = tmpMeta6;
          goto tmp2_done;
        }
        case 10: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_cls), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[2] = _ty;
          _cls = tmpMeta7;
          goto tmp2_done;
        }
        default:
        tmp2_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_getType(threadData_t *threadData, modelica_metatype _cls, modelica_metatype _clsNode)
{
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _ty has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 5: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2)));
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          tmpMeta5 = omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          _clsNode = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2)));
          _cls = tmpMeta5;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2)));
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2)));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2)));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT23;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _ty = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _ty;
}

DLLDirection
modelica_metatype omc_NFClass_getTypeAttributes(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_metatype _attributes = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _comps = NULL;
  modelica_metatype _mod = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _attributes = tmpMeta1;
  // _comps has no default value.
  // _mod has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          modelica_integer tmp10;
          /* Pattern matching succeeded */
          _comps = omc_NFClassTree_ClassTree_getComponents(threadData, omc_NFClass_classTree(threadData, _cls));

          {
            modelica_metatype _c;
            for (tmpMeta6 = _comps, tmp10 = arrayLength(tmpMeta6), tmp9 = 1; tmp9 <= tmp10; tmp9++)
            {
              _c = arrayGet(tmpMeta6,tmp9);
              _mod = omc_NFComponent_getModifier(threadData, omc_NFInstNode_InstNode_component(threadData, _c));

              if((!omc_NFModifier_Modifier_isEmpty(threadData, _mod)))
              {
                tmpMeta7 = mmc_mk_cons(_mod, _attributes);
                _attributes = tmpMeta7;
              }
            }
          }
          goto tmp3_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _attributes;
}

DLLDirection
modelica_metatype omc_NFClass_getAttributes(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_metatype _attr = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _attr has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,7) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 7)));
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT25;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _attr = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _attr;
}

DLLDirection
modelica_integer omc_NFClass_dimensionCount(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_integer _count;
  modelica_integer tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _count has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 7: {
          
          /* Pattern matching succeeded */
          tmp1 = arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 5))));
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFType_dimensionCount(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFType_dimensionCount(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFType_dimensionCount(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = ((modelica_integer) 0);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _count = tmp1;
  _return: OMC_LABEL_UNUSED
  return _count;
}
modelica_metatype boxptr_NFClass_dimensionCount(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_integer _count;
  modelica_metatype out_count;
  _count = omc_NFClass_dimensionCount(threadData, _cls);
  out_count = mmc_mk_icon(_count);
  return out_count;
}

DLLDirection
modelica_metatype omc_NFClass_getDimensions(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_metatype _dims = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _dims has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 8: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFType_arrayDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFType_arrayDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFType_arrayDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _dims = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _dims;
}

DLLDirection
modelica_boolean omc_NFClass_hasDimensions(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _hasDims;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _hasDims has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 7: {
          
          /* Pattern matching succeeded */
          tmp1 = ((arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 5)))) > ((modelica_integer) 0)) || omc_NFClass_hasDimensions(threadData, omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))))));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFType_isArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _hasDims = tmp1;
  _return: OMC_LABEL_UNUSED
  return _hasDims;
}
modelica_metatype boxptr_NFClass_hasDimensions(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _hasDims;
  modelica_metatype out_hasDims;
  _hasDims = omc_NFClass_hasDimensions(threadData, _cls);
  out_hasDims = mmc_mk_icon(_hasDims);
  return out_hasDims;
}

DLLDirection
modelica_boolean omc_NFClass_isIdentical(threadData_t *threadData, modelica_metatype _cls1, modelica_metatype _cls2)
{
  modelica_boolean _identical;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _identical = 0 /* false */;
  if(referenceEq(_cls1, _cls2))
  {
    _identical = 1 /* true */;
  }
  else
  {
    { /* match expression */
      modelica_metatype tmp4_1;modelica_metatype tmp4_2;
      tmp4_1 = _cls1;
      tmp4_2 = _cls2;
      {
        volatile mmc_switch_type tmp4;
        int tmp5;
        tmp4 = 0;
        for (; tmp4 < 3; tmp4++) {
          switch (MMC_SWITCH_CAST(tmp4)) {
          case 0: {
            if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,5) == 0) goto tmp3_end;
            if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,3,5) == 0) goto tmp3_end;
            
            /* Pattern matching succeeded */
            tmp1 = (omc_NFClass_Prefixes_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls1), 5))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls2), 5)))) && omc_NFClassTree_ClassTree_isIdentical(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls2), 2)))));
            goto tmp3_done;
          }
          case 1: {
            if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,3) == 0) goto tmp3_end;
            if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,3) == 0) goto tmp3_end;
            
            /* Pattern matching succeeded */
            if((!omc_NFType_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls2), 2))))))
            {
              goto _return;
            }
            tmp1 = 1 /* true */;
            goto tmp3_done;
          }
          case 2: {
            
            /* Pattern matching succeeded */
            tmp1 = 1 /* true */;
            goto tmp3_done;
          }
          }
          goto tmp3_end;
          tmp3_end: ;
        }
        goto goto_2;
        goto_2:;
        MMC_THROW_INTERNAL();
        goto tmp3_done;
        tmp3_done:;
      }
    }
    _identical = tmp1;
  }
  _return: OMC_LABEL_UNUSED
  return _identical;
}
modelica_metatype boxptr_NFClass_isIdentical(threadData_t *threadData, modelica_metatype _cls1, modelica_metatype _cls2)
{
  modelica_boolean _identical;
  modelica_metatype out_identical;
  _identical = omc_NFClass_isIdentical(threadData, _cls1, _cls2);
  out_identical = mmc_mk_icon(_identical);
  return out_identical;
}

DLLDirection
modelica_metatype omc_NFClass_mergeModifier(threadData_t *threadData, modelica_metatype _modifier, modelica_metatype __omcQ_24in_5Fcls)
{
  modelica_metatype _cls = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cls = __omcQ_24in_5Fcls;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _cls;
    {
      int tmp3;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
        case 4: {
          modelica_metatype tmpMeta4;
          
          /* Pattern matching succeeded */
          tmpMeta4 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta4), MMC_UNTAGPTR(_cls), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta4))[3] = omc_NFModifier_Modifier_merge(threadData, _modifier, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))), _OMC_LIT1);
          _cls = tmpMeta4;
          goto tmp2_done;
        }
        case 6: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[3] = omc_NFModifier_Modifier_merge(threadData, _modifier, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))), _OMC_LIT1);
          _cls = tmpMeta5;
          goto tmp2_done;
        }
        case 7: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_cls), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[3] = omc_NFModifier_Modifier_merge(threadData, _modifier, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))), _OMC_LIT1);
          _cls = tmpMeta6;
          goto tmp2_done;
        }
        case 5: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[4] = omc_NFModifier_Modifier_merge(threadData, _modifier, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 4))), _OMC_LIT1);
          _cls = tmpMeta7;
          goto tmp2_done;
        }
        default:
        tmp2_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          omc_Error_assertion(threadData, 0 /* false */, _OMC_LIT26, _OMC_LIT28);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_setModifier(threadData_t *threadData, modelica_metatype _modifier, modelica_metatype __omcQ_24in_5Fcls)
{
  modelica_metatype _cls = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cls = __omcQ_24in_5Fcls;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _cls;
    {
      int tmp3;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
        case 4: {
          modelica_metatype tmpMeta4;
          
          /* Pattern matching succeeded */
          tmpMeta4 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta4), MMC_UNTAGPTR(_cls), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta4))[3] = _modifier;
          _cls = tmpMeta4;
          goto tmp2_done;
        }
        case 6: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[3] = _modifier;
          _cls = tmpMeta5;
          goto tmp2_done;
        }
        case 7: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_cls), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[3] = _modifier;
          _cls = tmpMeta6;
          goto tmp2_done;
        }
        case 5: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[4] = _modifier;
          _cls = tmpMeta7;
          goto tmp2_done;
        }
        default:
        tmp2_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          omc_Error_assertion(threadData, 0 /* false */, _OMC_LIT29, _OMC_LIT30);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_getCCModifier(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_metatype _modifier = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _modifier has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 4: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 4)));
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 4)));
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 4)));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT31;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _modifier = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _modifier;
}

DLLDirection
modelica_metatype omc_NFClass_getModifier(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_metatype _modifier = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _modifier has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 4: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3)));
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3)));
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3)));
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 4)));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT31;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _modifier = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _modifier;
}

DLLDirection
modelica_metatype omc_NFClass_classTreeApply(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcls, modelica_fnptr _func)
{
  modelica_metatype _cls = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cls = __omcQ_24in_5Fcls;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _cls;
    {
      int tmp3;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
        case 4: {
          modelica_metatype tmpMeta4;
          
          /* Pattern matching succeeded */
          tmpMeta4 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta4), MMC_UNTAGPTR(_cls), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta4))[2] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2)))) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          _cls = tmpMeta4;
          goto tmp2_done;
        }
        case 6: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[2] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2)))) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          _cls = tmpMeta5;
          goto tmp2_done;
        }
        case 5: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[3] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3)))) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))));
          _cls = tmpMeta6;
          goto tmp2_done;
        }
        case 8: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[3] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3)))) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))));
          _cls = tmpMeta7;
          goto tmp2_done;
        }
        case 9: {
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_cls), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[3] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3)))) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))));
          _cls = tmpMeta8;
          goto tmp2_done;
        }
        default:
        tmp2_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_setClassTree(threadData_t *threadData, modelica_metatype _tree, modelica_metatype __omcQ_24in_5Fcls)
{
  modelica_metatype _cls = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cls = __omcQ_24in_5Fcls;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _cls;
    {
      int tmp3;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
        case 4: {
          modelica_metatype tmpMeta4;
          
          /* Pattern matching succeeded */
          tmpMeta4 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta4), MMC_UNTAGPTR(_cls), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta4))[2] = _tree;
          _cls = tmpMeta4;
          goto tmp2_done;
        }
        case 6: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[2] = _tree;
          _cls = tmpMeta5;
          goto tmp2_done;
        }
        case 5: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[3] = _tree;
          _cls = tmpMeta6;
          goto tmp2_done;
        }
        case 8: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_cls), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[3] = _tree;
          _cls = tmpMeta7;
          goto tmp2_done;
        }
        case 9: {
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_cls), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[3] = _tree;
          _cls = tmpMeta8;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_classTree(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_metatype _tree = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _tree has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 4: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2)));
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3)));
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2)));
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _cls = omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3)));
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3)));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _cls = omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT32;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _tree = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _tree;
}

DLLDirection
modelica_boolean omc_NFClass_isBuiltin(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isBuiltin;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isBuiltin has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _cls = omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _cls = omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isBuiltin = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isBuiltin;
}
modelica_metatype boxptr_NFClass_isBuiltin(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _isBuiltin;
  modelica_metatype out_isBuiltin;
  _isBuiltin = omc_NFClass_isBuiltin(threadData, _cls);
  out_isBuiltin = mmc_mk_icon(_isBuiltin);
  return out_isBuiltin;
}

DLLDirection
modelica_boolean omc_NFClass_isOnlyBuiltin(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _builtin;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _builtin has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _builtin = tmp1;
  _return: OMC_LABEL_UNUSED
  return _builtin;
}
modelica_metatype boxptr_NFClass_isOnlyBuiltin(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_boolean _builtin;
  modelica_metatype out_builtin;
  _builtin = omc_NFClass_isOnlyBuiltin(threadData, _cls);
  out_builtin = mmc_mk_icon(_builtin);
  return out_builtin;
}

DLLDirection
modelica_metatype omc_NFClass_lookupAttributeValue(threadData_t *threadData, modelica_string _name, modelica_metatype _cls)
{
  modelica_metatype _value = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _value = omc_NFBinding_typedExp(threadData, omc_NFClass_lookupAttributeBinding(threadData, _name, _cls));
  _return: OMC_LABEL_UNUSED
  return _value;
}

DLLDirection
modelica_metatype omc_NFClass_lookupAttributeBinding(threadData_t *threadData, modelica_string _name, modelica_metatype _cls)
{
  modelica_metatype _binding = NULL;
  modelica_metatype _attr_node = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _binding has no default value.
  // _attr_node has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          /* Pattern matching succeeded */
          _attr_node = omc_NFClassTree_ClassTree_lookupElement(threadData, _name, omc_NFClass_classTree(threadData, _cls), NULL);

          _binding = omc_NFComponent_getBinding(threadData, omc_NFInstNode_InstNode_component(threadData, _attr_node));
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          _binding = _OMC_LIT33;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _binding;
}

DLLDirection
modelica_metatype omc_NFClass_getComponents(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_metatype _comps = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _comps = omc_NFClassTree_ClassTree_getComponents(threadData, omc_NFClass_classTree(threadData, _cls));
  _return: OMC_LABEL_UNUSED
  return _comps;
}

DLLDirection
modelica_metatype omc_NFClass_nthComponent(threadData_t *threadData, modelica_integer _index, modelica_metatype _cls)
{
  modelica_metatype _component = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _component has no default value.
  _component = omc_NFClassTree_ClassTree_nthComponent(threadData, _index, omc_NFClass_classTree(threadData, _cls));
  _return: OMC_LABEL_UNUSED
  return _component;
}
modelica_metatype boxptr_NFClass_nthComponent(threadData_t *threadData, modelica_metatype _index, modelica_metatype _cls)
{
  modelica_integer tmp1;
  modelica_metatype _component = NULL;
  tmp1 = mmc_unbox_integer(_index);
  _component = omc_NFClass_nthComponent(threadData, tmp1, _cls);
  /* skip box _component; NFInstNode.InstNode */
  return _component;
}

DLLDirection
modelica_integer omc_NFClass_lookupComponentIndex(threadData_t *threadData, modelica_string _name, modelica_metatype _cls)
{
  modelica_integer _index;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _index has no default value.
  _index = omc_NFClassTree_ClassTree_lookupComponentIndex(threadData, _name, omc_NFClass_classTree(threadData, _cls));
  _return: OMC_LABEL_UNUSED
  return _index;
}
modelica_metatype boxptr_NFClass_lookupComponentIndex(threadData_t *threadData, modelica_metatype _name, modelica_metatype _cls)
{
  modelica_integer _index;
  modelica_metatype out_index;
  _index = omc_NFClass_lookupComponentIndex(threadData, _name, _cls);
  out_index = mmc_mk_icon(_index);
  return out_index;
}

DLLDirection
modelica_metatype omc_NFClass_tryLookupElement(threadData_t *threadData, modelica_string _name, modelica_metatype _cls, modelica_boolean *out_isImport)
{
  modelica_metatype _node = NULL;
  modelica_boolean _isImport;
  modelica_metatype _n = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _node has no default value.
  // _isImport has no default value.
  // _n has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          /* Pattern matching succeeded */
          _n = omc_NFClassTree_ClassTree_lookupElement(threadData, _name, omc_NFClass_classTree(threadData, _cls) ,&_isImport);

          _node = mmc_mk_some(_n);
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          _node = mmc_mk_none();

          _isImport = 0 /* false */;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_isImport) { *out_isImport = _isImport; }
  return _node;
}
modelica_metatype boxptr_NFClass_tryLookupElement(threadData_t *threadData, modelica_metatype _name, modelica_metatype _cls, modelica_metatype *out_isImport)
{
  modelica_boolean _isImport;
  modelica_metatype _node = NULL;
  _node = omc_NFClass_tryLookupElement(threadData, _name, _cls, &_isImport);
  /* skip box _node; Option<NFInstNode.InstNode> */
  if (out_isImport) { *out_isImport = mmc_mk_icon(_isImport); }
  return _node;
}

DLLDirection
modelica_metatype omc_NFClass_lookupElement(threadData_t *threadData, modelica_string _name, modelica_metatype _cls, modelica_boolean *out_isImport)
{
  modelica_metatype _node = NULL;
  modelica_boolean _isImport;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _node has no default value.
  // _isImport has no default value.
  _node = omc_NFClassTree_ClassTree_lookupElement(threadData, _name, omc_NFClass_classTree(threadData, _cls) ,&_isImport);
  _return: OMC_LABEL_UNUSED
  if (out_isImport) { *out_isImport = _isImport; }
  return _node;
}
modelica_metatype boxptr_NFClass_lookupElement(threadData_t *threadData, modelica_metatype _name, modelica_metatype _cls, modelica_metatype *out_isImport)
{
  modelica_boolean _isImport;
  modelica_metatype _node = NULL;
  _node = omc_NFClass_lookupElement(threadData, _name, _cls, &_isImport);
  /* skip box _node; NFInstNode.InstNode */
  if (out_isImport) { *out_isImport = mmc_mk_icon(_isImport); }
  return _node;
}

DLLDirection
modelica_metatype omc_NFClass_setSections(threadData_t *threadData, modelica_metatype _sections, modelica_metatype __omcQ_24in_5Fcls)
{
  modelica_metatype _cls = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cls = __omcQ_24in_5Fcls;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box6(8, &NFClass_INSTANCED__CLASS__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))), _sections, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 5))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 6))));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          omc_NFInstNode_InstNode_classApply(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))), boxvar_NFClass_setSections, _sections);
          tmpMeta1 = _cls;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _cls = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_getSections(threadData_t *threadData, modelica_metatype _cls)
{
  modelica_metatype _sections = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _sections has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 8: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 4)));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _cls = omc_NFInstNode_InstNode_getClass(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT34;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _sections = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _sections;
}

DLLDirection
modelica_metatype omc_NFClass_initExpandedClass(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcls)
{
  modelica_metatype _cls = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cls = __omcQ_24in_5Fcls;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cls;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box6(6, &NFClass_EXPANDED__CLASS__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 5))), _OMC_LIT22);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _cls = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_makeRecordConstructor(threadData_t *threadData, modelica_metatype _fields, modelica_metatype _out)
{
  modelica_metatype _cls = NULL;
  modelica_metatype _tree = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _cls has no default value.
  // _tree has no default value.
  _tree = omc_NFClassTree_ClassTree_fromRecordConstructor(threadData, _fields, _out);

  tmpMeta1 = mmc_mk_box6(8, &NFClass_INSTANCED__CLASS__desc, _OMC_LIT23, _tree, _OMC_LIT34, _OMC_LIT19, _OMC_LIT35);
  _cls = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_fromEnumeration(threadData_t *threadData, modelica_metatype _literals, modelica_metatype _enumType, modelica_metatype _prefixes, modelica_metatype _enumClass)
{
  modelica_metatype _cls = NULL;
  modelica_metatype _tree = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _cls has no default value.
  // _tree has no default value.
  _tree = omc_NFClassTree_ClassTree_fromEnumeration(threadData, _literals, _enumType, _enumClass);

  tmpMeta1 = mmc_mk_box6(5, &NFClass_PARTIAL__BUILTIN__desc, _enumType, _tree, _OMC_LIT31, _prefixes, _OMC_LIT36);
  _cls = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_initImports(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcls, modelica_metatype _parent)
{
  modelica_metatype _cls = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cls = __omcQ_24in_5Fcls;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _cls;
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,4) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_cls), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[2] = omc_NFClassTree_ClassTree_initImports(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))), _parent);
          _cls = tmpMeta5;
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _cls;
}

DLLDirection
modelica_metatype omc_NFClass_fromSCode(threadData_t *threadData, modelica_metatype _elements, modelica_boolean _isClassExtends, modelica_metatype _scope, modelica_metatype _prefixes)
{
  modelica_metatype _cls = NULL;
  modelica_metatype _tree = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _cls has no default value.
  // _tree has no default value.
  _tree = omc_NFClassTree_ClassTree_fromSCode(threadData, _elements, _isClassExtends, _scope);

  tmpMeta1 = mmc_mk_box5(4, &NFClass_PARTIAL__CLASS__desc, _tree, _OMC_LIT31, _OMC_LIT31, _prefixes);
  _cls = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _cls;
}
modelica_metatype boxptr_NFClass_fromSCode(threadData_t *threadData, modelica_metatype _elements, modelica_metatype _isClassExtends, modelica_metatype _scope, modelica_metatype _prefixes)
{
  modelica_integer tmp1;
  modelica_metatype _cls = NULL;
  tmp1 = mmc_unbox_integer(_isClassExtends);
  _cls = omc_NFClass_fromSCode(threadData, _elements, tmp1, _scope, _prefixes);
  /* skip box _cls; NFClass */
  return _cls;
}

DLLDirection
modelica_boolean omc_NFClass_Prefixes_isEncapsulated(threadData_t *threadData, modelica_metatype _prefs)
{
  modelica_boolean _isEncapsulated;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isEncapsulated = omc_SCodeUtil_encapsulatedBool(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_prefs), 2))));
  _return: OMC_LABEL_UNUSED
  return _isEncapsulated;
}
modelica_metatype boxptr_NFClass_Prefixes_isEncapsulated(threadData_t *threadData, modelica_metatype _prefs)
{
  modelica_boolean _isEncapsulated;
  modelica_metatype out_isEncapsulated;
  _isEncapsulated = omc_NFClass_Prefixes_isEncapsulated(threadData, _prefs);
  out_isEncapsulated = mmc_mk_icon(_isEncapsulated);
  return out_isEncapsulated;
}

DLLDirection
modelica_boolean omc_NFClass_Prefixes_isPartial(threadData_t *threadData, modelica_metatype _prefs)
{
  modelica_boolean _isPartial;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isPartial = omc_SCodeUtil_partialBool(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_prefs), 3))));
  _return: OMC_LABEL_UNUSED
  return _isPartial;
}
modelica_metatype boxptr_NFClass_Prefixes_isPartial(threadData_t *threadData, modelica_metatype _prefs)
{
  modelica_boolean _isPartial;
  modelica_metatype out_isPartial;
  _isPartial = omc_NFClass_Prefixes_isPartial(threadData, _prefs);
  out_isPartial = mmc_mk_icon(_isPartial);
  return out_isPartial;
}

DLLDirection
modelica_boolean omc_NFClass_Prefixes_isEqual(threadData_t *threadData, modelica_metatype _prefs1, modelica_metatype _prefs2)
{
  modelica_boolean _isEqual;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _isEqual = valueEq(_prefs1, _prefs2);
  _return: OMC_LABEL_UNUSED
  return _isEqual;
}
modelica_metatype boxptr_NFClass_Prefixes_isEqual(threadData_t *threadData, modelica_metatype _prefs1, modelica_metatype _prefs2)
{
  modelica_boolean _isEqual;
  modelica_metatype out_isEqual;
  _isEqual = omc_NFClass_Prefixes_isEqual(threadData, _prefs1, _prefs2);
  out_isEqual = mmc_mk_icon(_isEqual);
  return out_isEqual;
}

