#include "omc_simulation_settings.h"
#include "NFSCodeDependency.h"
#define _OMC_LIT0_data "GraphicalAnnotationsProgram____"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT0,31,_OMC_LIT0_data);
#define _OMC_LIT0 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT0)
#define _OMC_LIT1_data "$base"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT1,5,_OMC_LIT1_data);
#define _OMC_LIT1 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "derivative"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,10,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
#define _OMC_LIT3_data "inverse"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT3,7,_OMC_LIT3_data);
#define _OMC_LIT3 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT3)
#define _OMC_LIT4_data "polymorphic"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT4,11,_OMC_LIT4_data);
#define _OMC_LIT4 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT4)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT5,1,5) {&ErrorTypes_MessageType_TRANSLATION__desc,}};
#define _OMC_LIT5 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT5)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT6,1,4) {&ErrorTypes_Severity_ERROR__desc,}};
#define _OMC_LIT6 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT6)
#define _OMC_LIT7_data "Class %s not found in scope %s."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT7,31,_OMC_LIT7_data);
#define _OMC_LIT7 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT7)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT8,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT7}};
#define _OMC_LIT8 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT8)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT9,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(3)),_OMC_LIT5,_OMC_LIT6,_OMC_LIT8}};
#define _OMC_LIT9 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT9)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT10,1,1) {_OMC_LIT9}};
#define _OMC_LIT10 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT10)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT11,1,3) {&SCode_Restriction_R__CLASS__desc,}};
#define _OMC_LIT11 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT11)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT12,2,3) {&NFInstPrefix_Prefix_EMPTY__PREFIX__desc,MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT12 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "Only classes of type 'operator record' may contain elements of type 'operator function'; %s was found in a class that has restriction '%s'."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,139,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT14,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT13}};
#define _OMC_LIT14 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(252)),_OMC_LIT5,_OMC_LIT6,_OMC_LIT14}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data "'operator record' classes may only contain elements of type 'operator function'; %s has restriction '%s'."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,105,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT17,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT16}};
#define _OMC_LIT17 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT17)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT18,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(253)),_OMC_LIT5,_OMC_LIT6,_OMC_LIT17}};
#define _OMC_LIT18 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data "ExternalObject"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,14,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data "equalityConstraint"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,18,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
#define _OMC_LIT21_data "failtrace"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT21,9,_OMC_LIT21_data);
#define _OMC_LIT21 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data "Sets whether to print a failtrace or not."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,41,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT23,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT22}};
#define _OMC_LIT23 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT23)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT24,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT21,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT23}};
#define _OMC_LIT24 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT24)
#define _OMC_LIT25_data "- NFSCodeDependency.analyseRedeclaredClass2 failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT25,55,_OMC_LIT25_data);
#define _OMC_LIT25 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data " in "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,4,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT27,1,3) {&NFSCodeEnv_ClassType_USERDEFINED__desc,}};
#define _OMC_LIT27 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT27)
#define _OMC_LIT28_data "constructor"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT28,11,_OMC_LIT28_data);
#define _OMC_LIT28 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT28)
#define _OMC_LIT29_data "destructor"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT29,10,_OMC_LIT29_data);
#define _OMC_LIT29 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data ", "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,2,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
#define _OMC_LIT31_data "contains invalid elements: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT31,27,_OMC_LIT31_data);
#define _OMC_LIT31 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT31)
#define _OMC_LIT32_data "Invalid external object %s, %s."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT32,31,_OMC_LIT32_data);
#define _OMC_LIT32 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT32)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT33,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT32}};
#define _OMC_LIT33 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT33)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT34,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(169)),_OMC_LIT5,_OMC_LIT6,_OMC_LIT33}};
#define _OMC_LIT34 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT34)
#define _OMC_LIT35_data "missing constructor"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT35,19,_OMC_LIT35_data);
#define _OMC_LIT35 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT35)
#define _OMC_LIT36_data "missing destructor"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT36,18,_OMC_LIT36_data);
#define _OMC_LIT36 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT36)
#define _OMC_LIT37_data "missing both constructor and destructor"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT37,39,_OMC_LIT37_data);
#define _OMC_LIT37 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT37)
#define _OMC_LIT38_data "."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT38,1,_OMC_LIT38_data);
#define _OMC_LIT38 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT38)
#define _OMC_LIT39_data "extends "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT39,8,_OMC_LIT39_data);
#define _OMC_LIT39 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT39)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT40,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT28}};
#define _OMC_LIT40 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT40)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT41,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT29}};
#define _OMC_LIT41 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT41)
#define _OMC_LIT42_data "Internal error %s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT42,17,_OMC_LIT42_data);
#define _OMC_LIT42 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT42)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT43,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT42}};
#define _OMC_LIT43 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT43)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT44,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(63)),_OMC_LIT5,_OMC_LIT6,_OMC_LIT43}};
#define _OMC_LIT44 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT44)
#define _OMC_LIT45_data "NFSCodeDependency.analyseClassDef failed on CLASS_EXTENDS"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT45,57,_OMC_LIT45_data);
#define _OMC_LIT45 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT45)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT46,2,1) {_OMC_LIT45,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT46 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT46)
#define _OMC_LIT47_data "OMC_NO_CLOCK"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT47,12,_OMC_LIT47_data);
#define _OMC_LIT47 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT47)
#define _OMC_LIT48_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT48,0,_OMC_LIT48_data);
#define _OMC_LIT48 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT48)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT49,0.0);
#define _OMC_LIT49 MMC_REFREALLIT(_OMC_LIT_STRUCT49)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT50,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT48,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT49}};
#define _OMC_LIT50 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT50)
#define _OMC_LIT51_data "- NFSCodeDependency.analyseItemNoStopOnUsed failed on "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT51,54,_OMC_LIT51_data);
#define _OMC_LIT51 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data "cardinality"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,11,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
#define _OMC_LIT53_data "- NFSCodeDependency.analyseItem failed on "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT53,42,_OMC_LIT53_data);
#define _OMC_LIT53 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT53)
#define _OMC_LIT54_data "Found a component with same name when looking for type %s."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT54,58,_OMC_LIT54_data);
#define _OMC_LIT54 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT54)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT55,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT54}};
#define _OMC_LIT55 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT55)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT56,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(58)),_OMC_LIT5,_OMC_LIT6,_OMC_LIT55}};
#define _OMC_LIT56 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT56)
#define _OMC_LIT57_data "$ce"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT57,3,_OMC_LIT57_data);
#define _OMC_LIT57 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT57)
#define _OMC_LIT58_data "- NFSCodeDependency.analyseClass failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT58,44,_OMC_LIT58_data);
#define _OMC_LIT58 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT58)
#include "util/modelica.h"

#include "NFSCodeDependency_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_removeUnusedRedeclares3(threadData_t *threadData, modelica_metatype _inRedeclare, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_removeUnusedRedeclares3,2,0) {(void*) boxptr_NFSCodeDependency_removeUnusedRedeclares3,0}};
#define boxvar_NFSCodeDependency_removeUnusedRedeclares3 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_removeUnusedRedeclares3)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_removeUnusedRedeclares2(threadData_t *threadData, modelica_metatype _inExtends, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_removeUnusedRedeclares2,2,0) {(void*) boxptr_NFSCodeDependency_removeUnusedRedeclares2,0}};
#define boxvar_NFSCodeDependency_removeUnusedRedeclares2 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_removeUnusedRedeclares2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_removeUnusedRedeclares(threadData_t *threadData, modelica_metatype _inEnv, modelica_metatype _inTotalEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_removeUnusedRedeclares,2,0) {(void*) boxptr_NFSCodeDependency_removeUnusedRedeclares,0}};
#define boxvar_NFSCodeDependency_removeUnusedRedeclares MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_removeUnusedRedeclares)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedElement(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inEnclosingEnv, modelica_metatype _inClsAndVars, modelica_metatype _inAccumEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_boolean _inCollectConstants, modelica_metatype *out_outAccumEnv);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_collectUsedElement(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inEnclosingEnv, modelica_metatype _inClsAndVars, modelica_metatype _inAccumEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_metatype _inCollectConstants, modelica_metatype *out_outAccumEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedElement,2,0) {(void*) boxptr_NFSCodeDependency_collectUsedElement,0}};
#define boxvar_NFSCodeDependency_collectUsedElement MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedElement)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedElements2(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnclosingEnv, modelica_metatype _inClsAndVars, modelica_metatype _inAccumElements, modelica_metatype _inAccumEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_boolean _inCollectConstants, modelica_metatype *out_accum_env);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_collectUsedElements2(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnclosingEnv, modelica_metatype _inClsAndVars, modelica_metatype _inAccumElements, modelica_metatype _inAccumEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_metatype _inCollectConstants, modelica_metatype *out_accum_env);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedElements2,2,0) {(void*) boxptr_NFSCodeDependency_collectUsedElements2,0}};
#define boxvar_NFSCodeDependency_collectUsedElements2 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedElements2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedElements(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnv, modelica_metatype _inClassEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_metatype *out_outNewEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedElements,2,0) {(void*) boxptr_NFSCodeDependency_collectUsedElements,0}};
#define boxvar_NFSCodeDependency_collectUsedElements MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedElements)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedClassDef(threadData_t *threadData, modelica_metatype __omcQ_24in_5FclassDef, modelica_metatype __omcQ_24in_5Fenv, modelica_metatype _inClassEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_metatype *out_env);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedClassDef,2,0) {(void*) boxptr_NFSCodeDependency_collectUsedClassDef,0}};
#define boxvar_NFSCodeDependency_collectUsedClassDef MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedClassDef)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_updateItemEnv(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inClass, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_updateItemEnv,2,0) {(void*) boxptr_NFSCodeDependency_updateItemEnv,0}};
#define boxvar_NFSCodeDependency_updateItemEnv MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_updateItemEnv)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_NFSCodeDependency_checkClassUsed(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inClassDef);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_checkClassUsed(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inClassDef);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_checkClassUsed,2,0) {(void*) boxptr_NFSCodeDependency_checkClassUsed,0}};
#define boxvar_NFSCodeDependency_checkClassUsed MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_checkClassUsed)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedClass(threadData_t *threadData, modelica_metatype _inClass, modelica_metatype _inEnv, modelica_metatype _inClsAndVars, modelica_metatype _inClassName, modelica_metatype _inAccumEnv, modelica_metatype _inAccumPath, modelica_metatype *out_outAccumEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedClass,2,0) {(void*) boxptr_NFSCodeDependency_collectUsedClass,0}};
#define boxvar_NFSCodeDependency_collectUsedClass MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedClass)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedProgram2(threadData_t *threadData, modelica_metatype _clsAndVars, modelica_metatype _inEnv, modelica_metatype _inProgram, modelica_metatype _inClassName, modelica_metatype _inAccumEnv, modelica_metatype *out_outAccumEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedProgram2,2,0) {(void*) boxptr_NFSCodeDependency_collectUsedProgram2,0}};
#define boxvar_NFSCodeDependency_collectUsedProgram2 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedProgram2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedProgram(threadData_t *threadData, modelica_metatype _inEnv, modelica_metatype _inProgram, modelica_metatype _inClassName, modelica_metatype *out_outProgram);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedProgram,2,0) {(void*) boxptr_NFSCodeDependency_collectUsedProgram,0}};
#define boxvar_NFSCodeDependency_collectUsedProgram MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_collectUsedProgram)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseClassExtendsDef(threadData_t *threadData, modelica_metatype _inClass, modelica_metatype _inClassType, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseClassExtendsDef,2,0) {(void*) boxptr_NFSCodeDependency_analyseClassExtendsDef,0}};
#define boxvar_NFSCodeDependency_analyseClassExtendsDef MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseClassExtendsDef)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseAvlValue(threadData_t *threadData, modelica_string _key, modelica_metatype _value, modelica_metatype __omcQ_24in_5Fenv, modelica_boolean *out_cont);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_analyseAvlValue(threadData_t *threadData, modelica_metatype _key, modelica_metatype _value, modelica_metatype __omcQ_24in_5Fenv, modelica_metatype *out_cont);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAvlValue,2,0) {(void*) boxptr_NFSCodeDependency_analyseAvlValue,0}};
#define boxvar_NFSCodeDependency_analyseAvlValue MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAvlValue)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseClassExtends(threadData_t *threadData, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseClassExtends,2,0) {(void*) boxptr_NFSCodeDependency_analyseClassExtends,0}};
#define boxvar_NFSCodeDependency_analyseClassExtends MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseClassExtends)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseStatementTraverser(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fstmt, modelica_metatype __omcQ_24in_5Fenv, modelica_metatype *out_env);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseStatementTraverser,2,0) {(void*) boxptr_NFSCodeDependency_analyseStatementTraverser,0}};
#define boxvar_NFSCodeDependency_analyseStatementTraverser MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseStatementTraverser)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseStatement(threadData_t *threadData, modelica_metatype _inStatement, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseStatement,2,0) {(void*) boxptr_NFSCodeDependency_analyseStatement,0}};
#define boxvar_NFSCodeDependency_analyseStatement MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseStatement)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseAlgorithm(threadData_t *threadData, modelica_metatype _inAlgorithm, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAlgorithm,2,0) {(void*) boxptr_NFSCodeDependency_analyseAlgorithm,0}};
#define boxvar_NFSCodeDependency_analyseAlgorithm MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAlgorithm)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_traverseExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTuple, modelica_metatype *out_outTuple);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_traverseExp,2,0) {(void*) boxptr_NFSCodeDependency_traverseExp,0}};
#define boxvar_NFSCodeDependency_traverseExp MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_traverseExp)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseEquationTraverser(threadData_t *threadData, modelica_metatype __omcQ_24in_5Feq, modelica_metatype __omcQ_24in_5Fenv, modelica_metatype *out_env);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseEquationTraverser,2,0) {(void*) boxptr_NFSCodeDependency_analyseEquationTraverser,0}};
#define boxvar_NFSCodeDependency_analyseEquationTraverser MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseEquationTraverser)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseEquation(threadData_t *threadData, modelica_metatype _inEquation, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseEquation,2,0) {(void*) boxptr_NFSCodeDependency_analyseEquation,0}};
#define boxvar_NFSCodeDependency_analyseEquation MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseEquation)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseExpTraverserExit(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTuple, modelica_metatype *out_outTuple);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExpTraverserExit,2,0) {(void*) boxptr_NFSCodeDependency_analyseExpTraverserExit,0}};
#define boxvar_NFSCodeDependency_analyseExpTraverserExit MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExpTraverserExit)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseCref(threadData_t *threadData, modelica_metatype _inCref, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseCref,2,0) {(void*) boxptr_NFSCodeDependency_analyseCref,0}};
#define boxvar_NFSCodeDependency_analyseCref MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseCref)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseExp2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExp2,2,0) {(void*) boxptr_NFSCodeDependency_analyseExp2,0}};
#define boxvar_NFSCodeDependency_analyseExp2 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExp2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseExpTraverserEnter(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTuple, modelica_metatype *out_outTuple);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExpTraverserEnter,2,0) {(void*) boxptr_NFSCodeDependency_analyseExpTraverserEnter,0}};
#define boxvar_NFSCodeDependency_analyseExpTraverserEnter MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExpTraverserEnter)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseOptExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseOptExp,2,0) {(void*) boxptr_NFSCodeDependency_analyseOptExp,0}};
#define boxvar_NFSCodeDependency_analyseOptExp MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseOptExp)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExp,2,0) {(void*) boxptr_NFSCodeDependency_analyseExp,0}};
#define boxvar_NFSCodeDependency_analyseExp MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExp)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseAnnotationName(threadData_t *threadData, modelica_string _inName, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAnnotationName,2,0) {(void*) boxptr_NFSCodeDependency_analyseAnnotationName,0}};
#define boxvar_NFSCodeDependency_analyseAnnotationName MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAnnotationName)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseAnnotationMod(threadData_t *threadData, modelica_metatype _inMod, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAnnotationMod,2,0) {(void*) boxptr_NFSCodeDependency_analyseAnnotationMod,0}};
#define boxvar_NFSCodeDependency_analyseAnnotationMod MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAnnotationMod)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseAnnotation(threadData_t *threadData, modelica_metatype _inAnnotation, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAnnotation,2,0) {(void*) boxptr_NFSCodeDependency_analyseAnnotation,0}};
#define boxvar_NFSCodeDependency_analyseAnnotation MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAnnotation)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseComment(threadData_t *threadData, modelica_metatype _inComment, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseComment,2,0) {(void*) boxptr_NFSCodeDependency_analyseComment,0}};
#define boxvar_NFSCodeDependency_analyseComment MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseComment)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseExternalDecl(threadData_t *threadData, modelica_metatype _inExtDecl, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExternalDecl,2,0) {(void*) boxptr_NFSCodeDependency_analyseExternalDecl,0}};
#define boxvar_NFSCodeDependency_analyseExternalDecl MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExternalDecl)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseTypeSpecDim(threadData_t *threadData, modelica_metatype _inDim, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseTypeSpecDim,2,0) {(void*) boxptr_NFSCodeDependency_analyseTypeSpecDim,0}};
#define boxvar_NFSCodeDependency_analyseTypeSpecDim MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseTypeSpecDim)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseTypeSpecDims(threadData_t *threadData, modelica_metatype _inDims, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseTypeSpecDims,2,0) {(void*) boxptr_NFSCodeDependency_analyseTypeSpecDims,0}};
#define boxvar_NFSCodeDependency_analyseTypeSpecDims MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseTypeSpecDims)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseTypeSpec(threadData_t *threadData, modelica_metatype _inTypeSpec, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseTypeSpec,2,0) {(void*) boxptr_NFSCodeDependency_analyseTypeSpec,0}};
#define boxvar_NFSCodeDependency_analyseTypeSpec MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseTypeSpec)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseModBinding(threadData_t *threadData, modelica_metatype _inBinding, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseModBinding,2,0) {(void*) boxptr_NFSCodeDependency_analyseModBinding,0}};
#define boxvar_NFSCodeDependency_analyseModBinding MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseModBinding)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseSubscript(threadData_t *threadData, modelica_metatype _inSubscript, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseSubscript,2,0) {(void*) boxptr_NFSCodeDependency_analyseSubscript,0}};
#define boxvar_NFSCodeDependency_analyseSubscript MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseSubscript)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_lookupNameMod(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inEnv, modelica_metatype _inInfo, modelica_metatype *out_outEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_lookupNameMod,2,0) {(void*) boxptr_NFSCodeDependency_lookupNameMod,0}};
#define boxvar_NFSCodeDependency_lookupNameMod MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_lookupNameMod)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseNameMod2(threadData_t *threadData, modelica_string _inIdent, modelica_metatype _inItem, modelica_metatype _inItemEnv, modelica_metatype _inEnv, modelica_metatype _inTypeEnv, modelica_metatype _inModifier, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseNameMod2,2,0) {(void*) boxptr_NFSCodeDependency_analyseNameMod2,0}};
#define boxvar_NFSCodeDependency_analyseNameMod2 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseNameMod2)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseNameMod(threadData_t *threadData, modelica_string _inIdent, modelica_metatype _inEnv, modelica_metatype _inTypeEnv, modelica_metatype _inMod, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseNameMod,2,0) {(void*) boxptr_NFSCodeDependency_analyseNameMod,0}};
#define boxvar_NFSCodeDependency_analyseNameMod MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseNameMod)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseSubMod(threadData_t *threadData, modelica_metatype _inSubMod, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseSubMod,2,0) {(void*) boxptr_NFSCodeDependency_analyseSubMod,0}};
#define boxvar_NFSCodeDependency_analyseSubMod MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseSubMod)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseConstrainClass(threadData_t *threadData, modelica_metatype _inCC, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseConstrainClass,2,0) {(void*) boxptr_NFSCodeDependency_analyseConstrainClass,0}};
#define boxvar_NFSCodeDependency_analyseConstrainClass MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseConstrainClass)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseRedeclareModifier(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inEnv, modelica_metatype _inTypeEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseRedeclareModifier,2,0) {(void*) boxptr_NFSCodeDependency_analyseRedeclareModifier,0}};
#define boxvar_NFSCodeDependency_analyseRedeclareModifier MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseRedeclareModifier)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseModifier(threadData_t *threadData, modelica_metatype _inModifier, modelica_metatype _inEnv, modelica_metatype _inTypeEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseModifier,2,0) {(void*) boxptr_NFSCodeDependency_analyseModifier,0}};
#define boxvar_NFSCodeDependency_analyseModifier MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseModifier)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseAttributes(threadData_t *threadData, modelica_metatype _inAttributes, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAttributes,2,0) {(void*) boxptr_NFSCodeDependency_analyseAttributes,0}};
#define boxvar_NFSCodeDependency_analyseAttributes MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseAttributes)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseExtends(threadData_t *threadData, modelica_metatype _inClassName, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExtends,2,0) {(void*) boxptr_NFSCodeDependency_analyseExtends,0}};
#define boxvar_NFSCodeDependency_analyseExtends MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseExtends)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_NFSCodeDependency_markAsUsedOnRestriction2(threadData_t *threadData, modelica_metatype _inRestriction);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_markAsUsedOnRestriction2(threadData_t *threadData, modelica_metatype _inRestriction);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markAsUsedOnRestriction2,2,0) {(void*) boxptr_NFSCodeDependency_markAsUsedOnRestriction2,0}};
#define boxvar_NFSCodeDependency_markAsUsedOnRestriction2 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markAsUsedOnRestriction2)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markAsUsedOnRestriction(threadData_t *threadData, modelica_string _inName, modelica_metatype _inRestriction, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markAsUsedOnRestriction,2,0) {(void*) boxptr_NFSCodeDependency_markAsUsedOnRestriction,0}};
#define boxvar_NFSCodeDependency_markAsUsedOnRestriction MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markAsUsedOnRestriction)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markAsUsedOnConstant(threadData_t *threadData, modelica_string _inName, modelica_metatype _inAttr, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markAsUsedOnConstant,2,0) {(void*) boxptr_NFSCodeDependency_markAsUsedOnConstant,0}};
#define boxvar_NFSCodeDependency_markAsUsedOnConstant MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markAsUsedOnConstant)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseElement(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inEnv, modelica_metatype _inExtends, modelica_metatype _inClassRestriction);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseElement,2,0) {(void*) boxptr_NFSCodeDependency_analyseElement,0}};
#define boxvar_NFSCodeDependency_analyseElement MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseElement)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseElements2(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnv, modelica_metatype _inExtends, modelica_metatype _inClassRestriction);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseElements2,2,0) {(void*) boxptr_NFSCodeDependency_analyseElements2,0}};
#define boxvar_NFSCodeDependency_analyseElements2 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseElements2)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseElements(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnv, modelica_metatype _inClassRestriction);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseElements,2,0) {(void*) boxptr_NFSCodeDependency_analyseElements,0}};
#define boxvar_NFSCodeDependency_analyseElements MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseElements)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseRedeclaredClass2(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseRedeclaredClass2,2,0) {(void*) boxptr_NFSCodeDependency_analyseRedeclaredClass2,0}};
#define boxvar_NFSCodeDependency_analyseRedeclaredClass2 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseRedeclaredClass2)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseRedeclaredClass(threadData_t *threadData, modelica_metatype _inClass, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseRedeclaredClass,2,0) {(void*) boxptr_NFSCodeDependency_analyseRedeclaredClass,0}};
#define boxvar_NFSCodeDependency_analyseRedeclaredClass MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseRedeclaredClass)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseMetaType(threadData_t *threadData, modelica_metatype _inRestriction, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseMetaType,2,0) {(void*) boxptr_NFSCodeDependency_analyseMetaType,0}};
#define boxvar_NFSCodeDependency_analyseMetaType MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseMetaType)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_checkExternalObject2(threadData_t *threadData, modelica_metatype _inElements, modelica_boolean _inHasConstructor, modelica_boolean _inHasDestructor, modelica_string _inObjectName, modelica_metatype _inInfo);
PROTECTED_FUNCTION_STATIC void boxptr_NFSCodeDependency_checkExternalObject2(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inHasConstructor, modelica_metatype _inHasDestructor, modelica_metatype _inObjectName, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_checkExternalObject2,2,0) {(void*) boxptr_NFSCodeDependency_checkExternalObject2,0}};
#define boxvar_NFSCodeDependency_checkExternalObject2 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_checkExternalObject2)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_checkExternalObject(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_checkExternalObject,2,0) {(void*) boxptr_NFSCodeDependency_checkExternalObject,0}};
#define boxvar_NFSCodeDependency_checkExternalObject MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_checkExternalObject)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_NFSCodeDependency_isNotExternalObject(threadData_t *threadData, modelica_metatype _inElement);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_isNotExternalObject(threadData_t *threadData, modelica_metatype _inElement);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_isNotExternalObject,2,0) {(void*) boxptr_NFSCodeDependency_isNotExternalObject,0}};
#define boxvar_NFSCodeDependency_isNotExternalObject MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_isNotExternalObject)
PROTECTED_FUNCTION_STATIC modelica_string omc_NFSCodeDependency_elementName(threadData_t *threadData, modelica_metatype _inElement);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_elementName,2,0) {(void*) boxptr_NFSCodeDependency_elementName,0}};
#define boxvar_NFSCodeDependency_elementName MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_elementName)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_isExternalObject(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_isExternalObject,2,0) {(void*) boxptr_NFSCodeDependency_isExternalObject,0}};
#define boxvar_NFSCodeDependency_isExternalObject MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_isExternalObject)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseClassDef(threadData_t *threadData, modelica_metatype _inClassDef, modelica_metatype _inRestriction, modelica_metatype _inEnv, modelica_boolean _inInModifierScope, modelica_metatype _inInfo);
PROTECTED_FUNCTION_STATIC void boxptr_NFSCodeDependency_analyseClassDef(threadData_t *threadData, modelica_metatype _inClassDef, modelica_metatype _inRestriction, modelica_metatype _inEnv, modelica_metatype _inInModifierScope, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseClassDef,2,0) {(void*) boxptr_NFSCodeDependency_analyseClassDef,0}};
#define boxvar_NFSCodeDependency_analyseClassDef MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseClassDef)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markEnvAsUsed2(threadData_t *threadData, modelica_metatype _inFrame, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markEnvAsUsed2,2,0) {(void*) boxptr_NFSCodeDependency_markEnvAsUsed2,0}};
#define boxvar_NFSCodeDependency_markEnvAsUsed2 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markEnvAsUsed2)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markEnvAsUsed(threadData_t *threadData, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markEnvAsUsed,2,0) {(void*) boxptr_NFSCodeDependency_markEnvAsUsed,0}};
#define boxvar_NFSCodeDependency_markEnvAsUsed MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markEnvAsUsed)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markFrameAsUsed(threadData_t *threadData, modelica_metatype _inFrame);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markFrameAsUsed,2,0) {(void*) boxptr_NFSCodeDependency_markFrameAsUsed,0}};
#define boxvar_NFSCodeDependency_markFrameAsUsed MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markFrameAsUsed)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markItemAsUsed(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markItemAsUsed,2,0) {(void*) boxptr_NFSCodeDependency_markItemAsUsed,0}};
#define boxvar_NFSCodeDependency_markItemAsUsed MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_markItemAsUsed)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseItemNoStopOnUsed(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseItemNoStopOnUsed,2,0) {(void*) boxptr_NFSCodeDependency_analyseItemNoStopOnUsed,0}};
#define boxvar_NFSCodeDependency_analyseItemNoStopOnUsed MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseItemNoStopOnUsed)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseItemIfRedeclares(threadData_t *threadData, modelica_metatype _inRepls, modelica_metatype _inItem, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseItemIfRedeclares,2,0) {(void*) boxptr_NFSCodeDependency_analyseItemIfRedeclares,0}};
#define boxvar_NFSCodeDependency_analyseItemIfRedeclares MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseItemIfRedeclares)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseItem(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseItem,2,0) {(void*) boxptr_NFSCodeDependency_analyseItem,0}};
#define boxvar_NFSCodeDependency_analyseItem MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseItem)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_checkItemIsClass(threadData_t *threadData, modelica_metatype _inItem);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_checkItemIsClass,2,0) {(void*) boxptr_NFSCodeDependency_checkItemIsClass,0}};
#define boxvar_NFSCodeDependency_checkItemIsClass MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_checkItemIsClass)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_lookupNameInItem(threadData_t *threadData, modelica_metatype _inName, modelica_metatype _inItem, modelica_metatype _inEnv, modelica_metatype _inErrorType, modelica_metatype *out_outEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_lookupNameInItem,2,0) {(void*) boxptr_NFSCodeDependency_lookupNameInItem,0}};
#define boxvar_NFSCodeDependency_lookupNameInItem MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_lookupNameInItem)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_lookupClass2(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inEnv, modelica_boolean _inBuiltinPossible, modelica_metatype _inInfo, modelica_metatype _inErrorType, modelica_metatype *out_outEnv);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_lookupClass2(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inEnv, modelica_metatype _inBuiltinPossible, modelica_metatype _inInfo, modelica_metatype _inErrorType, modelica_metatype *out_outEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_lookupClass2,2,0) {(void*) boxptr_NFSCodeDependency_lookupClass2,0}};
#define boxvar_NFSCodeDependency_lookupClass2 MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_lookupClass2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_lookupClass(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inEnv, modelica_boolean _inBuiltinPossible, modelica_metatype _inInfo, modelica_metatype _inErrorType, modelica_metatype *out_outEnv);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_lookupClass(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inEnv, modelica_metatype _inBuiltinPossible, modelica_metatype _inInfo, modelica_metatype _inErrorType, modelica_metatype *out_outEnv);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_lookupClass,2,0) {(void*) boxptr_NFSCodeDependency_lookupClass,0}};
#define boxvar_NFSCodeDependency_lookupClass MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_lookupClass)
PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseClass(threadData_t *threadData, modelica_metatype _inClassName, modelica_metatype _inEnv, modelica_metatype _inInfo);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseClass,2,0) {(void*) boxptr_NFSCodeDependency_analyseClass,0}};
#define boxvar_NFSCodeDependency_analyseClass MMC_REFSTRUCTLIT(boxvar_lit_NFSCodeDependency_analyseClass)

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_removeUnusedRedeclares3(threadData_t *threadData, modelica_metatype _inRedeclare, modelica_metatype _inEnv)
{
  modelica_string _name = NULL;
  modelica_metatype _item = NULL;
  modelica_boolean tmp1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _name has no default value.
  // _item has no default value.
  _name = omc_NFSCodeEnv_getRedeclarationNameInfo(threadData, _inRedeclare, NULL);

  _item = omc_NFSCodeLookup_lookupSimpleName(threadData, _name, _inEnv, NULL, NULL);

  /* Pattern-matching assignment */
  tmp1 = omc_NFSCodeEnv_isItemUsed(threadData, _item);
  if (1 /* true */ != tmp1) MMC_THROW_INTERNAL();
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_removeUnusedRedeclares2(threadData_t *threadData, modelica_metatype _inExtends, modelica_metatype _inEnv)
{
  modelica_metatype _outExtends = NULL;
  modelica_metatype _bc = NULL;
  modelica_metatype _redeclares = NULL;
  modelica_integer _index;
  modelica_metatype _info = NULL;
  modelica_metatype _env = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_integer tmp5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExtends has no default value.
  // _bc has no default value.
  // _redeclares has no default value.
  // _index has no default value.
  // _info has no default value.
  // _env has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inExtends;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 3));
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 4));
  tmp5 = mmc_unbox_integer(tmpMeta4);
  tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 5));
  _bc = tmpMeta2;
  _redeclares = tmpMeta3;
  _index = tmp5  /* pattern as ty=Integer */;
  _info = tmpMeta6;

  _redeclares = omc_List_filter1(threadData, _redeclares, boxvar_NFSCodeDependency_removeUnusedRedeclares3, _inEnv);

  tmpMeta7 = mmc_mk_box5(3, &NFSCodeEnv_Extends_EXTENDS__desc, _bc, _redeclares, mmc_mk_integer(_index), _info);
  _outExtends = tmpMeta7;
  _return: OMC_LABEL_UNUSED
  return _outExtends;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_removeUnusedRedeclares(threadData_t *threadData, modelica_metatype _inEnv, modelica_metatype _inTotalEnv)
{
  modelica_metatype _outEnv = NULL;
  modelica_metatype _name = NULL;
  modelica_metatype _ty = NULL;
  modelica_metatype _cls_and_vars = NULL;
  modelica_metatype _bcl = NULL;
  modelica_metatype _re = NULL;
  modelica_metatype _cei = NULL;
  modelica_metatype _imps = NULL;
  modelica_metatype _is_used = NULL;
  modelica_metatype _env = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEnv has no default value.
  // _name has no default value.
  // _ty has no default value.
  // _cls_and_vars has no default value.
  // _bcl has no default value.
  // _re has no default value.
  // _cei has no default value.
  // _imps has no default value.
  // _is_used has no default value.
  // _env has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inEnv;
  if (listEmpty(tmpMeta1)) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_CAR(tmpMeta1);
  tmpMeta3 = MMC_CDR(tmpMeta1);
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
  tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 3));
  tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 4));
  tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 5));
  tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
  tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
  tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 4));
  tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 6));
  tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 7));
  if (!listEmpty(tmpMeta3)) MMC_THROW_INTERNAL();
  _name = tmpMeta4;
  _ty = tmpMeta5;
  _cls_and_vars = tmpMeta6;
  _bcl = tmpMeta8;
  _re = tmpMeta9;
  _cei = tmpMeta10;
  _imps = tmpMeta11;
  _is_used = tmpMeta12;

  _env = omc_NFSCodeEnv_removeRedeclaresFromLocalScope(threadData, _inTotalEnv);

  _bcl = omc_List_map1(threadData, _bcl, boxvar_NFSCodeDependency_removeUnusedRedeclares2, _env);

  tmpMeta14 = mmc_mk_box4(3, &NFSCodeEnv_ExtendsTable_EXTENDS__TABLE__desc, _bcl, _re, _cei);
  tmpMeta15 = mmc_mk_box7(3, &NFSCodeEnv_Frame_FRAME__desc, _name, _ty, _cls_and_vars, tmpMeta14, _imps, _is_used);
  tmpMeta13 = mmc_mk_cons(tmpMeta15, MMC_REFSTRUCTLIT(mmc_nil));
  _outEnv = tmpMeta13;
  _return: OMC_LABEL_UNUSED
  return _outEnv;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedElement(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inEnclosingEnv, modelica_metatype _inClsAndVars, modelica_metatype _inAccumEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_boolean _inCollectConstants, modelica_metatype *out_outAccumEnv)
{
  modelica_metatype _outElement = NULL;
  modelica_metatype _outAccumEnv = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outElement has no default value.
  // _outAccumEnv has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inElement;
    tmp4_2 = _inAccumEnv;
    {
      modelica_string _name = NULL;
      modelica_metatype _env = NULL;
      modelica_metatype _item = NULL;
      modelica_metatype _cls_path = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _name has no default value.
      // _env has no default value.
      // _item has no default value.
      // _cls_path has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _name = tmpMeta6;
          _env = tmp4_2;
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _name);
          _cls_path = omc_AbsynUtil_joinPaths(threadData, _inAccumPath, tmpMeta7);
          tmpMeta[0+0] = omc_NFSCodeDependency_collectUsedClass(threadData, _inElement, _inEnclosingEnv, _inClsAndVars, _inClassName, _env, _cls_path, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_boolean tmp11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,8) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,3,0) == 0) goto tmp3_end;
          
          _name = tmpMeta8;
          /* Pattern matching succeeded */
          _item = omc_NFSCodeEnv_EnvTree_get(threadData, _inClsAndVars, _name);

          /* Pattern-matching assignment */
          tmp11 = (_inCollectConstants || omc_NFSCodeEnv_isItemUsed(threadData, _item));
          if (1 /* true */ != tmp11) goto goto_2;

          _env = omc_NFSCodeEnv_extendEnvWithItem(threadData, _item, _inAccumEnv, _name);
          tmpMeta[0+0] = _inElement;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,8) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _name = tmpMeta12;
          /* Pattern matching succeeded */
          _item = omc_NFSCodeEnv_newVarItem(threadData, _inElement, 1 /* true */);

          _env = omc_NFSCodeEnv_extendEnvWithItem(threadData, _item, _inAccumEnv, _name);
          tmpMeta[0+0] = _inElement;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inElement;
          tmpMeta[0+1] = _inAccumEnv;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outElement = tmpMeta[0+0];
  _outAccumEnv = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outAccumEnv) { *out_outAccumEnv = _outAccumEnv; }
  return _outElement;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_collectUsedElement(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inEnclosingEnv, modelica_metatype _inClsAndVars, modelica_metatype _inAccumEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_metatype _inCollectConstants, modelica_metatype *out_outAccumEnv)
{
  modelica_integer tmp1;
  modelica_metatype _outElement = NULL;
  tmp1 = mmc_unbox_integer(_inCollectConstants);
  _outElement = omc_NFSCodeDependency_collectUsedElement(threadData, _inElement, _inEnclosingEnv, _inClsAndVars, _inAccumEnv, _inClassName, _inAccumPath, tmp1, out_outAccumEnv);
  /* skip box _outElement; SCode.Element */
  /* skip box _outAccumEnv; list<NFSCodeEnv.Frame> */
  return _outElement;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedElements2(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnclosingEnv, modelica_metatype _inClsAndVars, modelica_metatype _inAccumElements, modelica_metatype _inAccumEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_boolean _inCollectConstants, modelica_metatype *out_accum_env)
{
  modelica_metatype _outAccumElements = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _accum_env = NULL;
  modelica_metatype _accum_el = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta8;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _outAccumElements = tmpMeta1;
  _accum_env = _inAccumEnv;
  // _accum_el has no default value.
  {
    modelica_metatype _el;
    for (tmpMeta2 = _inElements; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _el = MMC_CAR(tmpMeta2);
      { /* matchcontinue expression */
        {
          volatile mmc_switch_type tmp5;
          int tmp6;
          tmp5 = 0;
          MMC_TRY_INTERNAL(mmc_jumper)
          tmp4_top:
          threadData->mmc_jumper = &new_mmc_jumper;
          for (; tmp5 < 2; tmp5++) {
            switch (MMC_SWITCH_CAST(tmp5)) {
            case 0: {
              modelica_metatype tmpMeta7;
              /* Pattern matching succeeded */
              _accum_el = omc_NFSCodeDependency_collectUsedElement(threadData, _el, _inEnclosingEnv, _inClsAndVars, _accum_env, _inClassName, _inAccumPath, _inCollectConstants ,&_accum_env);

              tmpMeta7 = mmc_mk_cons(_accum_el, _outAccumElements);
              _outAccumElements = tmpMeta7;
              goto tmp4_done;
            }
            case 1: {
              /* Pattern matching succeeded */
              goto tmp4_done;
            }
            }
            goto tmp4_end;
            tmp4_end: ;
          }
          goto goto_3;
          tmp4_done:
          (void)tmp5;
          MMC_RESTORE_INTERNAL(mmc_jumper);
          goto tmp4_done2;
          goto_3:;
          MMC_CATCH_INTERNAL(mmc_jumper);
          if (++tmp5 < 2) {
            goto tmp4_top;
          }
          MMC_THROW_INTERNAL();
          tmp4_done2:;
        }
      }
      ;
    }
  }

  _outAccumElements = listReverse(_outAccumElements);
  _return: OMC_LABEL_UNUSED
  if (out_accum_env) { *out_accum_env = _accum_env; }
  return _outAccumElements;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_collectUsedElements2(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnclosingEnv, modelica_metatype _inClsAndVars, modelica_metatype _inAccumElements, modelica_metatype _inAccumEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_metatype _inCollectConstants, modelica_metatype *out_accum_env)
{
  modelica_integer tmp1;
  modelica_metatype _outAccumElements = NULL;
  modelica_metatype tmpMeta2;
  tmp1 = mmc_unbox_integer(_inCollectConstants);
  _outAccumElements = omc_NFSCodeDependency_collectUsedElements2(threadData, _inElements, _inEnclosingEnv, _inClsAndVars, _inAccumElements, _inAccumEnv, _inClassName, _inAccumPath, tmp1, out_accum_env);
  /* skip box _outAccumElements; list<SCode.Element> */
  /* skip box _accum_env; list<NFSCodeEnv.Frame> */
  return _outAccumElements;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedElements(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnv, modelica_metatype _inClassEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_metatype *out_outNewEnv)
{
  modelica_metatype _outUsedElements = NULL;
  modelica_metatype _outNewEnv = NULL;
  modelica_metatype _empty_class_env = NULL;
  modelica_metatype _cls_and_vars = NULL;
  modelica_boolean _collect_constants;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outUsedElements has no default value.
  // _outNewEnv has no default value.
  // _empty_class_env has no default value.
  // _cls_and_vars has no default value.
  // _collect_constants has no default value.
  _empty_class_env = omc_NFSCodeEnv_removeClsAndVarsFromFrame(threadData, _inClassEnv ,&_cls_and_vars);

  _collect_constants = omc_AbsynUtil_pathEqual(threadData, _inClassName, _inAccumPath);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta2 = mmc_mk_cons(_empty_class_env, MMC_REFSTRUCTLIT(mmc_nil));
  _outUsedElements = omc_NFSCodeDependency_collectUsedElements2(threadData, _inElements, _inEnv, _cls_and_vars, tmpMeta1, tmpMeta2, _inClassName, _inAccumPath, _collect_constants ,&_outNewEnv);

  _outNewEnv = omc_NFSCodeDependency_removeUnusedRedeclares(threadData, _outNewEnv, _inEnv);
  _return: OMC_LABEL_UNUSED
  if (out_outNewEnv) { *out_outNewEnv = _outNewEnv; }
  return _outUsedElements;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedClassDef(threadData_t *threadData, modelica_metatype __omcQ_24in_5FclassDef, modelica_metatype __omcQ_24in_5Fenv, modelica_metatype _inClassEnv, modelica_metatype _inClassName, modelica_metatype _inAccumPath, modelica_metatype *out_env)
{
  modelica_metatype _classDef = NULL;
  modelica_metatype _env = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _classDef = __omcQ_24in_5FclassDef;
  _env = __omcQ_24in_5Fenv;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _classDef;
    {
      modelica_metatype _el = NULL;
      modelica_metatype _cdef = NULL;
      int tmp3;
      // _el has no default value.
      // _cdef has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
        case 3: {
          modelica_metatype tmpMeta4;
          modelica_metatype tmpMeta5;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,8) == 0) goto tmp2_end;
          tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          
          _el = tmpMeta4;
          /* Pattern matching succeeded */
          _el = omc_NFSCodeDependency_collectUsedElements(threadData, _el, _env, _inClassEnv, _inClassName, _inAccumPath ,&_env);

          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(10));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_classDef), 10*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[2] = _el;
          _classDef = tmpMeta5;
          goto tmp2_done;
        }
        case 4: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,2) == 0) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          _cdef = tmpMeta6;
          /* Pattern matching succeeded */
          _cdef = omc_NFSCodeDependency_collectUsedClassDef(threadData, _cdef, _env, _inClassEnv, _inClassName, _inAccumPath ,&_env);

          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_classDef), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[3] = _cdef;
          _classDef = tmpMeta7;
          goto tmp2_done;
        }
        default:
        tmp2_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_cons(_inClassEnv, MMC_REFSTRUCTLIT(mmc_nil));
          _env = tmpMeta8;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_env) { *out_env = _env; }
  return _classDef;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_updateItemEnv(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inClass, modelica_metatype _inEnv)
{
  modelica_metatype _outItem = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outItem has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inItem;
    {
      modelica_metatype _cls_ty = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cls_ty has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _cls_ty = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box4(4, &NFSCodeEnv_Item_CLASS__desc, _inClass, _inEnv, _cls_ty);
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outItem = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outItem;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_NFSCodeDependency_checkClassUsed(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inClassDef)
{
  modelica_boolean _isUsed;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isUsed has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inItem;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,2,8) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (31 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT0), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFSCodeEnv_isItemUsed(threadData, _inItem);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isUsed = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isUsed;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_checkClassUsed(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inClassDef)
{
  modelica_boolean _isUsed;
  modelica_metatype out_isUsed;
  _isUsed = omc_NFSCodeDependency_checkClassUsed(threadData, _inItem, _inClassDef);
  out_isUsed = mmc_mk_icon(_isUsed);
  return out_isUsed;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedClass(threadData_t *threadData, modelica_metatype _inClass, modelica_metatype _inEnv, modelica_metatype _inClsAndVars, modelica_metatype _inClassName, modelica_metatype _inAccumEnv, modelica_metatype _inAccumPath, modelica_metatype *out_outAccumEnv)
{
  modelica_metatype _outClass = NULL;
  modelica_metatype _outAccumEnv = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outClass has no default value.
  // _outAccumEnv has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inClass;
    {
      modelica_string _name = NULL;
      modelica_string _basename = NULL;
      modelica_metatype _prefixes = NULL;
      modelica_metatype _res = NULL;
      modelica_metatype _cdef = NULL;
      modelica_metatype _ep = NULL;
      modelica_metatype _pp = NULL;
      modelica_metatype _info = NULL;
      modelica_metatype _item = NULL;
      modelica_metatype _resolved_item = NULL;
      modelica_metatype _class_frame = NULL;
      modelica_metatype _class_env = NULL;
      modelica_metatype _env = NULL;
      modelica_metatype _enclosing_env = NULL;
      modelica_metatype _cls = NULL;
      modelica_metatype _cmt = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _name has no default value.
      // _basename has no default value.
      // _prefixes has no default value.
      // _res has no default value.
      // _cdef has no default value.
      // _ep has no default value.
      // _pp has no default value.
      // _info has no default value.
      // _item has no default value.
      // _resolved_item has no default value.
      // _class_frame has no default value.
      // _class_env has no default value.
      // _env has no default value.
      // _enclosing_env has no default value.
      // _cls has no default value.
      // _cmt has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,1) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 8));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          _name = tmpMeta6;
          _prefixes = tmpMeta7;
          _ep = tmpMeta9;
          _pp = tmpMeta10;
          _res = tmpMeta11;
          _cdef = tmpMeta12;
          _cmt = tmpMeta13;
          _info = tmpMeta14;
          /* Pattern matching succeeded */
          _item = omc_NFSCodeEnv_EnvTree_get(threadData, _inClsAndVars, _name);

          _resolved_item = omc_NFSCodeLookup_resolveAlias(threadData, _item, _inEnv, NULL);

          /* Pattern-matching assignment */
          tmp15 = omc_NFSCodeDependency_checkClassUsed(threadData, _resolved_item, _cdef);
          if (1 /* true */ != tmp15) goto goto_2;

          /* Pattern-matching assignment */
          tmpMeta16 = omc_NFSCodeEnv_getItemEnv(threadData, _resolved_item);
          if (listEmpty(tmpMeta16)) goto goto_2;
          tmpMeta17 = MMC_CAR(tmpMeta16);
          tmpMeta18 = MMC_CDR(tmpMeta16);
          if (!listEmpty(tmpMeta18)) goto goto_2;
          _class_frame = tmpMeta17;

          _enclosing_env = omc_NFSCodeEnv_enterScope(threadData, _inEnv, _name);

          _cdef = omc_NFSCodeDependency_collectUsedClassDef(threadData, _cdef, _enclosing_env, _class_frame, _inClassName, _inAccumPath ,&_class_env);

          tmpMeta19 = mmc_mk_box9(5, &SCode_Element_CLASS__desc, _name, _prefixes, _ep, _pp, _res, _cdef, _cmt, _info);
          _cls = tmpMeta19;

          _resolved_item = omc_NFSCodeDependency_updateItemEnv(threadData, _resolved_item, _cls, _class_env);

          tmpMeta20 = stringAppend(_name,_OMC_LIT1);
          _basename = tmpMeta20;

          _env = omc_NFSCodeEnv_extendEnvWithItem(threadData, _resolved_item, _inAccumEnv, _basename);

          _env = omc_NFSCodeEnv_extendEnvWithItem(threadData, _item, _env, _name);
          tmpMeta[0+0] = _cls;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_boolean tmp29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 8));
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          _name = tmpMeta21;
          _prefixes = tmpMeta22;
          _ep = tmpMeta23;
          _pp = tmpMeta24;
          _res = tmpMeta25;
          _cdef = tmpMeta26;
          _cmt = tmpMeta27;
          _info = tmpMeta28;
          /* Pattern matching succeeded */
          omc_SCodeUtil_replaceableOptConstraint(threadData, omc_SCodeUtil_prefixesReplaceable(threadData, _prefixes));

          _item = omc_NFSCodeEnv_EnvTree_get(threadData, _inClsAndVars, _name);

          /* Pattern-matching assignment */
          tmp29 = omc_NFSCodeDependency_checkClassUsed(threadData, _item, _cdef);
          if (1 /* true */ != tmp29) goto goto_2;

          /* Pattern-matching assignment */
          tmpMeta30 = omc_NFSCodeEnv_getItemEnv(threadData, _item);
          if (listEmpty(tmpMeta30)) goto goto_2;
          tmpMeta31 = MMC_CAR(tmpMeta30);
          tmpMeta32 = MMC_CDR(tmpMeta30);
          if (!listEmpty(tmpMeta32)) goto goto_2;
          _class_frame = tmpMeta31;

          _enclosing_env = omc_NFSCodeEnv_enterScope(threadData, _inEnv, _name);

          _cdef = omc_NFSCodeDependency_collectUsedClassDef(threadData, _cdef, _enclosing_env, _class_frame, _inClassName, _inAccumPath ,&_class_env);

          tmpMeta33 = mmc_mk_box9(5, &SCode_Element_CLASS__desc, _name, _prefixes, _ep, _pp, _res, _cdef, _cmt, _info);
          _cls = tmpMeta33;

          _item = omc_NFSCodeDependency_updateItemEnv(threadData, _item, _cls, _class_env);

          _env = omc_NFSCodeEnv_extendEnvWithItem(threadData, _item, _inAccumEnv, _name);
          tmpMeta[0+0] = _cls;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outClass = tmpMeta[0+0];
  _outAccumEnv = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outAccumEnv) { *out_outAccumEnv = _outAccumEnv; }
  return _outClass;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedProgram2(threadData_t *threadData, modelica_metatype _clsAndVars, modelica_metatype _inEnv, modelica_metatype _inProgram, modelica_metatype _inClassName, modelica_metatype _inAccumEnv, modelica_metatype *out_outAccumEnv)
{
  modelica_metatype _outProgram = NULL;
  modelica_metatype _outAccumEnv = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outProgram has no default value.
  // _outAccumEnv has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inProgram;
    tmp4_2 = _inAccumEnv;
    {
      modelica_metatype _cls_el = NULL;
      modelica_metatype _cls = NULL;
      modelica_metatype _rest_prog = NULL;
      modelica_string _name = NULL;
      modelica_metatype _env = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cls_el has no default value.
      // _cls has no default value.
      // _rest_prog has no default value.
      // _name has no default value.
      // _env has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = _inProgram;
          tmpMeta[0+1] = _inAccumEnv;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,2,8) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          
          _cls = tmpMeta6;
          _name = tmpMeta8;
          _rest_prog = tmpMeta7;
          _env = tmp4_2;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta10 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _name);
          tmpMeta11 = omc_NFSCodeDependency_collectUsedClass(threadData, _cls, _inEnv, _clsAndVars, _inClassName, _env, tmpMeta10, &tmpMeta9);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,2,8) == 0) goto goto_2;
          _cls_el = tmpMeta11;
          _env = tmpMeta9;

          _rest_prog = omc_NFSCodeDependency_collectUsedProgram2(threadData, _clsAndVars, _inEnv, _rest_prog, _inClassName, _env ,&_env);
          tmpMeta12 = mmc_mk_cons(_cls_el, _rest_prog);
          tmpMeta[0+0] = tmpMeta12;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta13 = MMC_CAR(tmp4_1);
          tmpMeta14 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta13,2,8) == 0) goto tmp3_end;
          
          _rest_prog = tmpMeta14;
          _env = tmp4_2;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_NFSCodeDependency_collectUsedProgram2(threadData, _clsAndVars, _inEnv, _rest_prog, _inClassName, _env, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outProgram = tmpMeta[0+0];
  _outAccumEnv = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outAccumEnv) { *out_outAccumEnv = _outAccumEnv; }
  return _outProgram;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_collectUsedProgram(threadData_t *threadData, modelica_metatype _inEnv, modelica_metatype _inProgram, modelica_metatype _inClassName, modelica_metatype *out_outProgram)
{
  modelica_metatype _outEnv = NULL;
  modelica_metatype _outProgram = NULL;
  modelica_metatype _env = NULL;
  modelica_metatype _cls_and_vars = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEnv has no default value.
  // _outProgram has no default value.
  // _env has no default value.
  // _cls_and_vars has no default value.
  _env = omc_NFSCodeEnv_buildInitialEnv(threadData);

  /* Pattern-matching assignment */
  tmpMeta1 = _inEnv;
  if (listEmpty(tmpMeta1)) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_CAR(tmpMeta1);
  tmpMeta3 = MMC_CDR(tmpMeta1);
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 4));
  _cls_and_vars = tmpMeta4;

  _outProgram = omc_NFSCodeDependency_collectUsedProgram2(threadData, _cls_and_vars, _inEnv, _inProgram, _inClassName, _env ,&_outEnv);
  _return: OMC_LABEL_UNUSED
  if (out_outProgram) { *out_outProgram = _outProgram; }
  return _outEnv;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseClassExtendsDef(threadData_t *threadData, modelica_metatype _inClass, modelica_metatype _inClassType, modelica_metatype _inEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
    tmp3_1 = _inClass;
    tmp3_2 = _inClassType;
    {
      modelica_metatype _item = NULL;
      modelica_metatype _info = NULL;
      modelica_metatype _bc = NULL;
      modelica_string _cls_name = NULL;
      modelica_metatype _env = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _item has no default value.
      // _info has no default value.
      // _bc has no default value.
      // _cls_name has no default value.
      // _env has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_boolean tmp12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,2,0) == 0) goto tmp2_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,8) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,8) == 0) goto tmp2_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (listEmpty(tmpMeta7)) goto tmp2_end;
          tmpMeta8 = MMC_CAR(tmpMeta7);
          tmpMeta9 = MMC_CDR(tmpMeta7);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,1,5) == 0) goto tmp2_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 9));
          _cls_name = tmpMeta5;
          _bc = tmpMeta10;
          _info = tmpMeta11;
          tmp3 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _item = omc_NFSCodeLookup_lookupBaseClassName(threadData, _bc, _inEnv, _info ,NULL ,&_env);

          /* Pattern-matching assignment */
          tmp12 = omc_NFSCodeEnv_isItemUsed(threadData, _item);
          if (1 /* true */ != tmp12) goto goto_1;

          /* Pattern-matching assignment */
          tmpMeta13 = _inEnv;
          if (listEmpty(tmpMeta13)) goto goto_1;
          tmpMeta14 = MMC_CAR(tmpMeta13);
          tmpMeta15 = MMC_CDR(tmpMeta13);
          _env = tmpMeta15;

          tmpMeta16 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _cls_name);
          omc_NFSCodeDependency_analyseClass(threadData, tmpMeta16, _env, _info);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_boolean tmp19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_boolean tmp25;
          modelica_metatype tmpMeta26;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,8) == 0) goto tmp2_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 9));
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,0) == 0) goto tmp2_end;
          _cls_name = tmpMeta17;
          _info = tmpMeta18;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp19 = omc_SCodeUtil_isElementRedeclare(threadData, _inClass);
          if (1 /* true */ != tmp19) goto goto_1;

          /* Pattern-matching assignment */
          tmpMeta20 = _inEnv;
          if (listEmpty(tmpMeta20)) goto goto_1;
          tmpMeta21 = MMC_CAR(tmpMeta20);
          tmpMeta22 = MMC_CDR(tmpMeta20);
          _env = tmpMeta22;

          tmpMeta23 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta24 = mmc_mk_box4(4, &NFSCodeEnv_Item_CLASS__desc, _inClass, tmpMeta23, _inClassType);
          _item = tmpMeta24;

          _item = omc_NFSCodeLookup_lookupRedeclaredClassByItem(threadData, _item, _env, _info, NULL);

          /* Pattern-matching assignment */
          tmp25 = omc_NFSCodeEnv_isItemUsed(threadData, _item);
          if (1 /* true */ != tmp25) goto goto_1;

          tmpMeta26 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _cls_name);
          omc_NFSCodeDependency_analyseClass(threadData, tmpMeta26, _env, _info);
          goto tmp2_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 3) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseAvlValue(threadData_t *threadData, modelica_string _key, modelica_metatype _value, modelica_metatype __omcQ_24in_5Fenv, modelica_boolean *out_cont)
{
  modelica_metatype _env = NULL;
  modelica_boolean _cont;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _env = __omcQ_24in_5Fenv;
  // _cont has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _value;
    tmp4_2 = _env;
    {
      modelica_metatype _cls_env = NULL;
      modelica_metatype _env2 = NULL;
      modelica_metatype _cls = NULL;
      modelica_metatype _cls_ty = NULL;
      modelica_metatype _is_used = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cls_env has no default value.
      // _env2 has no default value.
      // _cls has no default value.
      // _cls_ty has no default value.
      // _is_used has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_integer tmp13;
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_2);
          tmpMeta7 = MMC_CDR(tmp4_2);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 7));
          if (optionNone(tmpMeta10)) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 1));
          
          _is_used = tmpMeta11;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta12 = omc_Mutable_access(threadData, _is_used);
          tmp13 = mmc_unbox_integer(tmpMeta12);
          if (0 /* false */ != tmp13) goto goto_2;
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,3) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta15)) goto tmp3_end;
          tmpMeta16 = MMC_CAR(tmpMeta15);
          tmpMeta17 = MMC_CDR(tmpMeta15);
          if (!listEmpty(tmpMeta17)) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _cls = tmpMeta14;
          _cls_env = tmpMeta16;
          _cls_ty = tmpMeta18;
          /* Pattern matching succeeded */
          _env2 = omc_NFSCodeEnv_enterFrame(threadData, _cls_env, _env);

          omc_NFSCodeDependency_analyseClassExtendsDef(threadData, _cls, _cls_ty, _env2);

          omc_NFSCodeDependency_analyseClassExtends(threadData, _env2);
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _cont = tmp1;
  _return: OMC_LABEL_UNUSED
  if (out_cont) { *out_cont = _cont; }
  return _env;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_analyseAvlValue(threadData_t *threadData, modelica_metatype _key, modelica_metatype _value, modelica_metatype __omcQ_24in_5Fenv, modelica_metatype *out_cont)
{
  modelica_boolean _cont;
  modelica_metatype _env = NULL;
  _env = omc_NFSCodeDependency_analyseAvlValue(threadData, _key, _value, __omcQ_24in_5Fenv, &_cont);
  /* skip box _env; list<NFSCodeEnv.Frame> */
  if (out_cont) { *out_cont = mmc_mk_icon(_cont); }
  return _env;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseClassExtends(threadData_t *threadData, modelica_metatype _inEnv)
{
  modelica_metatype _tree = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _tree has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inEnv;
  if (listEmpty(tmpMeta1)) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_CAR(tmpMeta1);
  tmpMeta3 = MMC_CDR(tmpMeta1);
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 4));
  _tree = tmpMeta4;

  omc_NFSCodeEnv_EnvTree_foldCond(threadData, _tree, boxvar_NFSCodeDependency_analyseAvlValue, _inEnv);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseStatementTraverser(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fstmt, modelica_metatype __omcQ_24in_5Fenv, modelica_metatype *out_env)
{
  modelica_metatype _stmt = NULL;
  modelica_metatype _env = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _stmt = __omcQ_24in_5Fstmt;
  _env = __omcQ_24in_5Fenv;
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _stmt;
    {
      modelica_metatype _info = NULL;
      modelica_string _iter_name = NULL;
      int tmp4;
      // _info has no default value.
      // _iter_name has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 5: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,5) == 0) goto tmp3_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          _iter_name = tmpMeta5;
          _info = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_box4(3, &Absyn_ForIterator_ITERATOR__desc, _iter_name, mmc_mk_none(), mmc_mk_none());
          tmpMeta7 = mmc_mk_cons(tmpMeta8, MMC_REFSTRUCTLIT(mmc_nil));
          _env = omc_NFSCodeEnv_extendEnvWithIterators(threadData, tmpMeta7, omc_System_tmpTickIndex(threadData, ((modelica_integer) 2)), _env);

          tmpMeta9 = mmc_mk_box2(0, _env, _info);
          omc_SCodeUtil_mapFoldStatementExps(threadData, _stmt, boxvar_NFSCodeDependency_traverseExp, tmpMeta9, NULL);
          tmpMeta[0+0] = _stmt;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,5) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          _iter_name = tmpMeta10;
          _info = tmpMeta11;
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_box4(3, &Absyn_ForIterator_ITERATOR__desc, _iter_name, mmc_mk_none(), mmc_mk_none());
          tmpMeta12 = mmc_mk_cons(tmpMeta13, MMC_REFSTRUCTLIT(mmc_nil));
          _env = omc_NFSCodeEnv_extendEnvWithIterators(threadData, tmpMeta12, omc_System_tmpTickIndex(threadData, ((modelica_integer) 2)), _env);

          tmpMeta14 = mmc_mk_box2(0, _env, _info);
          omc_SCodeUtil_mapFoldStatementExps(threadData, _stmt, boxvar_NFSCodeDependency_traverseExp, tmpMeta14, NULL);
          tmpMeta[0+0] = _stmt;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta15;
          
          /* Pattern matching succeeded */
          _info = omc_SCodeUtil_getStatementInfo(threadData, _stmt);

          tmpMeta15 = mmc_mk_box2(0, _env, _info);
          omc_SCodeUtil_mapFoldStatementExps(threadData, _stmt, boxvar_NFSCodeDependency_traverseExp, tmpMeta15, NULL);
          tmpMeta[0+0] = _stmt;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _stmt = tmpMeta[0+0];
  _env = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_env) { *out_env = _env; }
  return _stmt;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseStatement(threadData_t *threadData, modelica_metatype _inStatement, modelica_metatype _inEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  omc_SCodeUtil_mapFoldStatements(threadData, _inStatement, boxvar_NFSCodeDependency_analyseStatementTraverser, _inEnv, NULL);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseAlgorithm(threadData_t *threadData, modelica_metatype _inAlgorithm, modelica_metatype _inEnv)
{
  modelica_metatype _stmts = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _stmts has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inAlgorithm;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _stmts = tmpMeta2;

  omc_List_map1__0(threadData, _stmts, boxvar_NFSCodeDependency_analyseStatement, _inEnv);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_traverseExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTuple, modelica_metatype *out_outTuple)
{
  modelica_metatype _outExp = NULL;
  modelica_metatype _outTuple = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _outTuple has no default value.
  _outExp = omc_AbsynUtil_traverseExpBidir(threadData, _inExp, boxvar_NFSCodeDependency_analyseExpTraverserEnter, boxvar_NFSCodeDependency_analyseExpTraverserExit, _inTuple ,&_outTuple);
  _return: OMC_LABEL_UNUSED
  if (out_outTuple) { *out_outTuple = _outTuple; }
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseEquationTraverser(threadData_t *threadData, modelica_metatype __omcQ_24in_5Feq, modelica_metatype __omcQ_24in_5Fenv, modelica_metatype *out_env)
{
  modelica_metatype _eq = NULL;
  modelica_metatype _env = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _eq = __omcQ_24in_5Feq;
  _env = __omcQ_24in_5Fenv;
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _eq;
    {
      modelica_string _iter_name = NULL;
      modelica_metatype _info = NULL;
      modelica_metatype _cref1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _iter_name has no default value.
      // _info has no default value.
      // _cref1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          _iter_name = tmpMeta6;
          _info = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_box4(3, &Absyn_ForIterator_ITERATOR__desc, _iter_name, mmc_mk_none(), mmc_mk_none());
          tmpMeta8 = mmc_mk_cons(tmpMeta9, MMC_REFSTRUCTLIT(mmc_nil));
          _env = omc_NFSCodeEnv_extendEnvWithIterators(threadData, tmpMeta8, omc_System_tmpTickIndex(threadData, ((modelica_integer) 2)), _env);

          tmpMeta10 = mmc_mk_box2(0, _env, _info);
          _eq = omc_SCodeUtil_mapFoldEquationExps(threadData, _eq, boxvar_NFSCodeDependency_traverseExp, tmpMeta10, NULL);
          tmpMeta[0+0] = _eq;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,4) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,2,1) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          _cref1 = tmpMeta12;
          _info = tmpMeta13;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseCref(threadData, _cref1, _env, _info);

          tmpMeta14 = mmc_mk_box2(0, _env, _info);
          _eq = omc_SCodeUtil_mapFoldEquationExps(threadData, _eq, boxvar_NFSCodeDependency_traverseExp, tmpMeta14, NULL);
          tmpMeta[0+0] = _eq;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta15;
          
          /* Pattern matching succeeded */
          _info = omc_SCodeUtil_getEquationInfo(threadData, _eq);

          tmpMeta15 = mmc_mk_box2(0, _env, _info);
          _eq = omc_SCodeUtil_mapFoldEquationExps(threadData, _eq, boxvar_NFSCodeDependency_traverseExp, tmpMeta15, NULL);
          tmpMeta[0+0] = _eq;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _eq = tmpMeta[0+0];
  _env = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_env) { *out_env = _env; }
  return _eq;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseEquation(threadData_t *threadData, modelica_metatype _inEquation, modelica_metatype _inEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  omc_SCodeUtil_mapFoldEquations(threadData, _inEquation, boxvar_NFSCodeDependency_analyseEquationTraverser, _inEnv, NULL);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseExpTraverserExit(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTuple, modelica_metatype *out_outTuple)
{
  modelica_metatype _outExp = NULL;
  modelica_metatype _outTuple = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _outTuple has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inExp;
    tmp4_2 = _inTuple;
    {
      modelica_metatype _env = NULL;
      modelica_metatype _info = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _env has no default value.
      // _info has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,3) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (listEmpty(tmpMeta7)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmpMeta7);
          tmpMeta9 = MMC_CDR(tmpMeta7);
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,2,1) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          _env = tmpMeta9;
          _info = tmpMeta11;
          /* Pattern matching succeeded */
          tmpMeta12 = mmc_mk_box2(0, _env, _info);
          tmpMeta[0+0] = _inExp;
          tmpMeta[0+1] = tmpMeta12;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,5) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (listEmpty(tmpMeta13)) goto tmp3_end;
          tmpMeta14 = MMC_CAR(tmpMeta13);
          tmpMeta15 = MMC_CDR(tmpMeta13);
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta16,2,1) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          _env = tmpMeta15;
          _info = tmpMeta17;
          /* Pattern matching succeeded */
          tmpMeta18 = mmc_mk_box2(0, _env, _info);
          tmpMeta[0+0] = _inExp;
          tmpMeta[0+1] = tmpMeta18;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inExp;
          tmpMeta[0+1] = _inTuple;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outExp = tmpMeta[0+0];
  _outTuple = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outTuple) { *out_outTuple = _outTuple; }
  return _outExp;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseCref(threadData_t *threadData, modelica_metatype _inCref, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _inCref;
    {
      modelica_metatype _path = NULL;
      modelica_metatype _item = NULL;
      modelica_metatype _env = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _path has no default value.
      // _item has no default value.
      // _env has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,0) == 0) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _path = omc_AbsynUtil_crefToPathIgnoreSubs(threadData, _inCref);

          _item = omc_NFSCodeDependency_lookupClass(threadData, _path, _inEnv, 1 /* true */, _inInfo, mmc_mk_none() ,&_env);

          omc_NFSCodeDependency_analyseItem(threadData, _item, _env);
          goto tmp2_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 3) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseExp2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  modelica_metatype _outEnv = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEnv has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inExp;
    {
      modelica_metatype _cref = NULL;
      modelica_metatype _iters = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cref has no default value.
      // _iters has no default value.
      tmp4 = 0;
      for (; tmp4 < 6; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          _cref = tmpMeta6;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseCref(threadData, _cref, _inEnv, _inInfo);
          tmpMeta1 = _inEnv;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,3) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,1,3) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 4));
          
          _cref = tmpMeta7;
          _iters = tmpMeta9;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseCref(threadData, _cref, _inEnv, _inInfo);
          tmpMeta1 = omc_NFSCodeEnv_extendEnvWithIterators(threadData, _iters, omc_System_tmpTickIndex(threadData, ((modelica_integer) 2)), _inEnv);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,3) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cref = tmpMeta10;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseCref(threadData, _cref, _inEnv, _inInfo);
          tmpMeta1 = _inEnv;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,2) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cref = tmpMeta11;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseCref(threadData, _cref, _inEnv, _inInfo);
          tmpMeta1 = _inEnv;
          goto tmp3_done;
        }
        case 4: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,5) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NFSCodeEnv_extendEnvWithMatch(threadData, _inExp, omc_System_tmpTickIndex(threadData, ((modelica_integer) 2)), _inEnv);
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _inEnv;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEnv = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEnv;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseExpTraverserEnter(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inTuple, modelica_metatype *out_outTuple)
{
  modelica_metatype _outExp = NULL;
  modelica_metatype _outTuple = NULL;
  modelica_metatype _env = NULL;
  modelica_metatype _info = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _outTuple has no default value.
  // _env has no default value.
  // _info has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inTuple;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _env = tmpMeta2;
  _info = tmpMeta3;

  _env = omc_NFSCodeDependency_analyseExp2(threadData, _inExp, _env, _info);

  _outExp = _inExp;

  tmpMeta4 = mmc_mk_box2(0, _env, _info);
  _outTuple = tmpMeta4;
  _return: OMC_LABEL_UNUSED
  if (out_outTuple) { *out_outTuple = _outTuple; }
  return _outExp;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseOptExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inExp;
    {
      modelica_metatype _exp = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _exp has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          _exp = tmpMeta5;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseExp(threadData, _exp, _inEnv, _inInfo);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = mmc_mk_box2(0, _inEnv, _inInfo);
  omc_AbsynUtil_traverseExpBidir(threadData, _inExp, boxvar_NFSCodeDependency_analyseExpTraverserEnter, boxvar_NFSCodeDependency_analyseExpTraverserExit, tmpMeta1, NULL);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseAnnotationName(threadData_t *threadData, modelica_string _inName, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  modelica_metatype _item = NULL;
  modelica_metatype _env = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _item has no default value.
  // _env has no default value.
  tmpMeta1 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _inName);
  _item = omc_NFSCodeLookup_lookupNameSilent(threadData, tmpMeta1, _inEnv, _inInfo ,NULL ,&_env);

  _item = omc_NFSCodeEnv_resolveRedeclaredItem(threadData, _item, _env ,&_env ,NULL);

  omc_NFSCodeDependency_analyseItem(threadData, _item, _env);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseAnnotationMod(threadData_t *threadData, modelica_metatype _inMod, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _inMod;
    {
      modelica_metatype _mods = NULL;
      modelica_string _id = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _mods has no default value.
      // _id has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 4; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (10 != MMC_STRLEN(tmpMeta5) || strcmp(MMC_STRINGDATA(_OMC_LIT2), MMC_STRINGDATA(tmpMeta5)) != 0) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          _mods = tmpMeta6;
          tmp3 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_NFSCodeDependency_analyseModifier(threadData, _mods, _inEnv, tmpMeta7, _inInfo);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (7 != MMC_STRLEN(tmpMeta8) || strcmp(MMC_STRINGDATA(_OMC_LIT3), MMC_STRINGDATA(tmpMeta8)) != 0) goto tmp2_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          _mods = tmpMeta9;
          /* Pattern matching succeeded */
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_NFSCodeDependency_analyseModifier(threadData, _mods, _inEnv, tmpMeta10, _inInfo);
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          _id = tmpMeta11;
          _mods = tmpMeta12;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseAnnotationName(threadData, _id, _inEnv, _inInfo);

          tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_NFSCodeDependency_analyseModifier(threadData, _mods, _inEnv, tmpMeta13, _inInfo);
          goto tmp2_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 4) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseAnnotation(threadData_t *threadData, modelica_metatype _inAnnotation, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inAnnotation;
    {
      modelica_metatype _sub_mods = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _sub_mods has no default value.
      tmp3 = 0;
      for (; tmp3 < 1; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta5,0,6) == 0) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 4));
          
          _sub_mods = tmpMeta6;
          /* Pattern matching succeeded */
          omc_List_map2__0(threadData, _sub_mods, boxvar_NFSCodeDependency_analyseAnnotationMod, _inEnv, _inInfo);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseComment(threadData_t *threadData, modelica_metatype _inComment, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inComment;
    {
      modelica_metatype _ann = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _ann has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (optionNone(tmpMeta5)) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 1));
          
          _ann = tmpMeta6;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseAnnotation(threadData, _ann, _inEnv, _inInfo);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseExternalDecl(threadData_t *threadData, modelica_metatype _inExtDecl, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inExtDecl;
    {
      modelica_metatype _ann = NULL;
      modelica_metatype _args = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _ann has no default value.
      // _args has no default value.
      tmp3 = 0;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 5));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 6));
          if (!optionNone(tmpMeta7)) goto tmp2_end;
          _args = tmpMeta6;
          /* Pattern matching succeeded */
          omc_List_map2__0(threadData, _args, boxvar_NFSCodeDependency_analyseExp, _inEnv, _inInfo);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 5));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 6));
          if (optionNone(tmpMeta10)) goto tmp2_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 1));
          _args = tmpMeta9;
          _ann = tmpMeta11;
          /* Pattern matching succeeded */
          omc_List_map2__0(threadData, _args, boxvar_NFSCodeDependency_analyseExp, _inEnv, _inInfo);

          omc_NFSCodeDependency_analyseAnnotation(threadData, _ann, _inEnv, _inInfo);
          goto tmp2_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseTypeSpecDim(threadData_t *threadData, modelica_metatype _inDim, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inDim;
    {
      modelica_metatype _dim = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _dim has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,0) == 0) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          _dim = tmpMeta5;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseExp(threadData, _dim, _inEnv, _inInfo);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseTypeSpecDims(threadData_t *threadData, modelica_metatype _inDims, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inDims;
    {
      modelica_metatype _dims = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _dims has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          _dims = tmpMeta5;
          /* Pattern matching succeeded */
          omc_List_map2__0(threadData, _dims, boxvar_NFSCodeDependency_analyseTypeSpecDim, _inEnv, _inInfo);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseTypeSpec(threadData_t *threadData, modelica_metatype _inTypeSpec, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inTypeSpec;
    {
      modelica_metatype _type_path = NULL;
      modelica_metatype _tys = NULL;
      modelica_metatype _ad = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _type_path has no default value.
      // _tys has no default value.
      // _ad has no default value.
      tmp3 = 0;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          _type_path = tmpMeta5;
          _ad = tmpMeta6;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseClass(threadData, _type_path, _inEnv, _inInfo);

          omc_NFSCodeDependency_analyseTypeSpecDims(threadData, _ad, _inEnv, _inInfo);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,1,1) == 0) goto tmp2_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          if (11 != MMC_STRLEN(tmpMeta8) || strcmp(MMC_STRINGDATA(_OMC_LIT4), MMC_STRINGDATA(tmpMeta8)) != 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          
          _tys = tmpMeta9;
          /* Pattern matching succeeded */
          omc_List_map2__0(threadData, _tys, boxvar_NFSCodeDependency_analyseTypeSpec, _inEnv, _inInfo);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseModBinding(threadData_t *threadData, modelica_metatype _inBinding, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inBinding;
    {
      modelica_metatype _bind_exp = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _bind_exp has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!optionNone(tmp3_1)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          _bind_exp = tmpMeta5;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseExp(threadData, _bind_exp, _inEnv, _inInfo);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseSubscript(threadData_t *threadData, modelica_metatype _inSubscript, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inSubscript;
    {
      modelica_metatype _sub_exp = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _sub_exp has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,0) == 0) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          _sub_exp = tmpMeta5;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseExp(threadData, _sub_exp, _inEnv, _inInfo);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_lookupNameMod(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inEnv, modelica_metatype _inInfo, modelica_metatype *out_outEnv)
{
  modelica_metatype _outItem = NULL;
  modelica_metatype _outEnv = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outItem has no default value.
  // _outEnv has no default value.
  
  
  { /* matchcontinue expression */
    {
      modelica_metatype _item = NULL;
      modelica_metatype _env = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _item has no default value.
      // _env has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          /* Pattern matching succeeded */
          _item = omc_NFSCodeLookup_lookupNameSilent(threadData, _inPath, _inEnv, _inInfo ,NULL ,&_env);

          _item = omc_NFSCodeEnv_resolveRedeclaredItem(threadData, _item, _env ,&_env ,NULL);
          tmpMeta[0+0] = mmc_mk_some(_item);
          tmpMeta[0+1] = mmc_mk_some(_env);
          goto tmp3_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          tmpMeta[0+0] = mmc_mk_none();
          tmpMeta[0+1] = mmc_mk_none();
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outItem = tmpMeta[0+0];
  _outEnv = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outEnv) { *out_outEnv = _outEnv; }
  return _outItem;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseNameMod2(threadData_t *threadData, modelica_string _inIdent, modelica_metatype _inItem, modelica_metatype _inItemEnv, modelica_metatype _inEnv, modelica_metatype _inTypeEnv, modelica_metatype _inModifier, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;modelica_metatype tmp3_2;
    tmp3_1 = _inItem;
    tmp3_2 = _inItemEnv;
    {
      modelica_metatype _item = NULL;
      modelica_metatype _env = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _item has no default value.
      // _env has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          if (optionNone(tmp3_2)) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 1));
          _item = tmpMeta5;
          _env = tmpMeta6;
          /* Pattern matching succeeded */
          omc_NFSCodeCheck_checkModifierIfRedeclare(threadData, _item, _inModifier, _inInfo);

          omc_NFSCodeDependency_analyseItem(threadData, _item, _env);

          _env = omc_NFSCodeEnv_mergeItemEnv(threadData, _item, _env);

          omc_NFSCodeDependency_analyseModifier(threadData, _inModifier, _inEnv, _env, _inInfo);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseModifier(threadData, _inModifier, _inEnv, _inTypeEnv, _inInfo);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseNameMod(threadData_t *threadData, modelica_string _inIdent, modelica_metatype _inEnv, modelica_metatype _inTypeEnv, modelica_metatype _inMod, modelica_metatype _inInfo)
{
  modelica_metatype _item = NULL;
  modelica_metatype _env = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _item has no default value.
  // _env has no default value.
  tmpMeta1 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _inIdent);
  _item = omc_NFSCodeDependency_lookupNameMod(threadData, tmpMeta1, _inTypeEnv, _inInfo ,&_env);

  omc_NFSCodeDependency_analyseNameMod2(threadData, _inIdent, _item, _env, _inEnv, _inTypeEnv, _inMod, _inInfo);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseSubMod(threadData_t *threadData, modelica_metatype _inSubMod, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;modelica_metatype tmp3_2;
    tmp3_1 = _inSubMod;
    tmp3_2 = _inEnv;
    {
      modelica_string _ident = NULL;
      modelica_metatype _m = NULL;
      modelica_metatype _env = NULL;
      modelica_metatype _ty_env = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _ident has no default value.
      // _m has no default value.
      // _env has no default value.
      // _ty_env has no default value.
      tmp3 = 0;
      for (; tmp3 < 1; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
          _ident = tmpMeta5;
          _m = tmpMeta6;
          _env = tmpMeta7;
          _ty_env = tmpMeta8;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseNameMod(threadData, _ident, _env, _ty_env, _m, _inInfo);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseConstrainClass(threadData_t *threadData, modelica_metatype _inCC, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inCC;
    {
      modelica_metatype _path = NULL;
      modelica_metatype _mod = NULL;
      modelica_metatype _env = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _path has no default value.
      // _mod has no default value.
      // _env has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 3));
          
          _path = tmpMeta6;
          _mod = tmpMeta7;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseClass(threadData, _path, _inEnv, _inInfo);

          omc_NFSCodeDependency_lookupClass(threadData, _path, _inEnv, 1 /* true */, _inInfo, _OMC_LIT10 ,&_env);

          omc_NFSCodeDependency_analyseModifier(threadData, _mod, _inEnv, _env, _inInfo);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseRedeclareModifier(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inEnv, modelica_metatype _inTypeEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _inElement;
    {
      modelica_metatype _cdef = NULL;
      modelica_metatype _info = NULL;
      modelica_metatype _restr = NULL;
      modelica_metatype _prefixes = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _cdef has no default value.
      // _info has no default value.
      // _restr has no default value.
      // _prefixes has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,8) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 6));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 7));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 9));
          _prefixes = tmpMeta5;
          _restr = tmpMeta6;
          _cdef = tmpMeta7;
          _info = tmpMeta8;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseClassDef(threadData, _cdef, _restr, _inEnv, 1 /* true */, _info);

          omc_NFSCodeDependency_analyseConstrainClass(threadData, omc_SCodeUtil_replaceableOptConstraint(threadData, omc_SCodeUtil_prefixesReplaceable(threadData, _prefixes)), _inEnv, _info);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          
          /* Pattern matching succeeded */
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_NFSCodeDependency_analyseElement(threadData, _inElement, _inEnv, tmpMeta9, _OMC_LIT11);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseModifier(threadData_t *threadData, modelica_metatype _inModifier, modelica_metatype _inEnv, modelica_metatype _inTypeEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inModifier;
    {
      modelica_metatype _el = NULL;
      modelica_metatype _sub_mods = NULL;
      modelica_metatype _bind_exp = NULL;
      int tmp3;
      // _el has no default value.
      // _sub_mods has no default value.
      // _bind_exp has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
        case 5: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 3: {
          modelica_metatype tmpMeta4;
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,6) == 0) goto tmp2_end;
          tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
          
          _sub_mods = tmpMeta4;
          _bind_exp = tmpMeta5;
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box2(0, _inEnv, _inTypeEnv);
          omc_List_map2__0(threadData, _sub_mods, boxvar_NFSCodeDependency_analyseSubMod, tmpMeta6, _inInfo);

          omc_NFSCodeDependency_analyseModBinding(threadData, _bind_exp, _inEnv, _inInfo);
          goto tmp2_done;
        }
        case 4: {
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
          _el = tmpMeta7;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseRedeclareModifier(threadData, _el, _inEnv, _inTypeEnv);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseAttributes(threadData_t *threadData, modelica_metatype _inAttributes, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  modelica_metatype _ad = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _ad has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inAttributes;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _ad = tmpMeta2;

  omc_List_map2__0(threadData, _ad, boxvar_NFSCodeDependency_analyseSubscript, _inEnv, _inInfo);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseExtends(threadData_t *threadData, modelica_metatype _inClassName, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  modelica_metatype _item = NULL;
  modelica_metatype _env = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _item has no default value.
  // _env has no default value.
  _item = omc_NFSCodeDependency_lookupClass(threadData, _inClassName, _inEnv, 1 /* true */, _inInfo, mmc_mk_none() ,&_env);

  omc_NFSCodeDependency_analyseItem(threadData, _item, _env);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_NFSCodeDependency_markAsUsedOnRestriction2(threadData_t *threadData, modelica_metatype _inRestriction)
{
  modelica_boolean _isRestricted;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isRestricted has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inRestriction;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 8: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isRestricted = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isRestricted;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_markAsUsedOnRestriction2(threadData_t *threadData, modelica_metatype _inRestriction)
{
  modelica_boolean _isRestricted;
  modelica_metatype out_isRestricted;
  _isRestricted = omc_NFSCodeDependency_markAsUsedOnRestriction2(threadData, _inRestriction);
  out_isRestricted = mmc_mk_icon(_isRestricted);
  return out_isRestricted;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markAsUsedOnRestriction(threadData_t *threadData, modelica_string _inName, modelica_metatype _inRestriction, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _inEnv;
    {
      modelica_metatype _cls_and_vars = NULL;
      modelica_metatype _is_used = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _cls_and_vars has no default value.
      // _is_used has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 4));
          
          _cls_and_vars = tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp8 = omc_NFSCodeDependency_markAsUsedOnRestriction2(threadData, _inRestriction);
          if (1 /* true */ != tmp8) goto goto_1;

          /* Pattern-matching assignment */
          tmpMeta9 = omc_NFSCodeEnv_EnvTree_get(threadData, _cls_and_vars, _inName);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,0,2) == 0) goto goto_1;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          if (optionNone(tmpMeta10)) goto goto_1;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 1));
          _is_used = tmpMeta11;

          omc_Mutable_update(threadData, _is_used, mmc_mk_boolean(1 /* true */));
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markAsUsedOnConstant(threadData_t *threadData, modelica_string _inName, modelica_metatype _inAttr, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
    tmp3_1 = _inAttr;
    tmp3_2 = _inEnv;
    {
      modelica_metatype _cls_and_vars = NULL;
      modelica_metatype _is_used = NULL;
      modelica_metatype _var = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _cls_and_vars has no default value.
      // _is_used has no default value.
      // _var has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_boolean tmp9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp3_2)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_2);
          tmpMeta6 = MMC_CDR(tmp3_2);
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 4));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
          
          _cls_and_vars = tmpMeta7;
          _var = tmpMeta8;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = omc_SCodeUtil_isParameterOrConst(threadData, _var);
          if (1 /* true */ != tmp9) goto goto_1;

          /* Pattern-matching assignment */
          tmpMeta10 = omc_NFSCodeEnv_EnvTree_get(threadData, _cls_and_vars, _inName);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,0,2) == 0) goto goto_1;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 3));
          if (optionNone(tmpMeta11)) goto goto_1;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 1));
          _is_used = tmpMeta12;

          omc_Mutable_update(threadData, _is_used, mmc_mk_boolean(1 /* true */));
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_analyseElement(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inEnv, modelica_metatype _inExtends, modelica_metatype _inClassRestriction)
{
  modelica_metatype _outExtends = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExtends has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;modelica_metatype tmp4_3;
    tmp4_1 = _inElement;
    tmp4_2 = _inExtends;
    tmp4_3 = _inClassRestriction;
    {
      modelica_metatype _bc = NULL;
      modelica_metatype _mods = NULL;
      modelica_metatype _ty = NULL;
      modelica_metatype _info = NULL;
      modelica_metatype _attr = NULL;
      modelica_metatype _cond_exp = NULL;
      modelica_metatype _ty_item = NULL;
      modelica_metatype _ty_env = NULL;
      modelica_string _name = NULL;
      modelica_metatype _prefixes = NULL;
      modelica_metatype _res = NULL;
      modelica_string _str = NULL;
      modelica_metatype _exts = NULL;
      modelica_metatype _redecls = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _bc has no default value.
      // _mods has no default value.
      // _ty has no default value.
      // _info has no default value.
      // _attr has no default value.
      // _cond_exp has no default value.
      // _ty_item has no default value.
      // _ty_env has no default value.
      // _name has no default value.
      // _prefixes has no default value.
      // _res has no default value.
      // _str has no default value.
      // _exts has no default value.
      // _redecls has no default value.
      tmp4 = 0;
      for (; tmp4 < 14; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (14 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT19), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          goto goto_2;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,5) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_2);
          tmpMeta11 = MMC_CDR(tmp4_2);
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 2));
          
          _mods = tmpMeta8;
          _info = tmpMeta9;
          _bc = tmpMeta12;
          _exts = tmpMeta11;
          /* Pattern matching succeeded */
          _ty_item = omc_NFSCodeLookup_lookupBaseClassName(threadData, _bc, _inEnv, _info ,NULL ,&_ty_env);

          omc_NFSCodeDependency_analyseExtends(threadData, _bc, _inEnv, _info);

          _ty_env = omc_NFSCodeEnv_mergeItemEnv(threadData, _ty_item, _ty_env);

          omc_NFSCodeDependency_analyseModifier(threadData, _mods, _inEnv, _ty_env, _info);
          tmpMeta1 = _exts;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,8) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 8));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          
          _name = tmpMeta13;
          _prefixes = tmpMeta14;
          _attr = tmpMeta15;
          _ty = tmpMeta16;
          _mods = tmpMeta17;
          _cond_exp = tmpMeta18;
          _info = tmpMeta19;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_markAsUsedOnRestriction(threadData, _name, _inClassRestriction, _inEnv, _info);

          omc_NFSCodeDependency_analyseAttributes(threadData, _attr, _inEnv, _info);

          omc_NFSCodeDependency_analyseTypeSpec(threadData, _ty, _inEnv, _info);

          _ty_item = omc_NFSCodeLookup_lookupTypeSpec(threadData, _ty, _inEnv, _info ,NULL ,&_ty_env);

          _ty_item = omc_NFSCodeEnv_resolveRedeclaredItem(threadData, _ty_item, _ty_env ,&_ty_env ,NULL);

          _ty_env = omc_NFSCodeEnv_mergeItemEnv(threadData, _ty_item, _ty_env);

          omc_NFSCodeCheck_checkRecursiveComponentDeclaration(threadData, _name, _info, _ty_env, _ty_item, _inEnv);

          _redecls = omc_NFSCodeFlattenRedeclare_extractRedeclaresFromModifier(threadData, _mods);

          _ty_item = omc_NFSCodeFlattenRedeclare_replaceRedeclaredElementsInEnv(threadData, _redecls, _ty_item, _ty_env, _inEnv, _OMC_LIT12 ,&_ty_env ,NULL);

          omc_NFSCodeDependency_analyseModifier(threadData, _mods, _inEnv, _ty_env, _info);

          omc_NFSCodeDependency_analyseOptExp(threadData, _cond_exp, _inEnv, _info);

          omc_NFSCodeDependency_analyseConstrainClass(threadData, omc_SCodeUtil_replaceableOptConstraint(threadData, omc_SCodeUtil_prefixesReplaceable(threadData, _prefixes)), _inEnv, _info);
          tmpMeta1 = _inExtends;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta20;
          modelica_integer tmp21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,3,1) == 0) goto tmp3_end;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
          tmp21 = mmc_unbox_integer(tmpMeta20);
          if (1 /* true */ != tmp21) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta23,6,0) == 0) goto tmp3_end;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          
          _name = tmpMeta22;
          _info = tmpMeta24;
          /* Pattern matching succeeded */
          tmpMeta25 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _name);
          omc_NFSCodeDependency_analyseClass(threadData, tmpMeta25, _inEnv, _info);
          tmpMeta1 = _inExtends;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta27,6,0) == 0) goto tmp3_end;
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          
          _name = tmpMeta26;
          _info = tmpMeta28;
          /* Pattern matching succeeded */
          _str = omc_SCodeDump_restrString(threadData, _inClassRestriction);

          tmpMeta29 = mmc_mk_cons(_name, mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addSourceMessage(threadData, _OMC_LIT15, tmpMeta29, _info);
          goto goto_2;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta30;
          modelica_integer tmp31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,3,1) == 0) goto tmp3_end;
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
          tmp31 = mmc_unbox_integer(tmpMeta30);
          if (1 /* true */ != tmp31) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta33,9,1) == 0) goto tmp3_end;
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta33), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta34,2,0) == 0) goto tmp3_end;
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          
          _name = tmpMeta32;
          _info = tmpMeta35;
          /* Pattern matching succeeded */
          tmpMeta36 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _name);
          omc_NFSCodeDependency_analyseClass(threadData, tmpMeta36, _inEnv, _info);
          tmpMeta1 = _inExtends;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta37 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta38,9,1) == 0) goto tmp3_end;
          tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta38), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta39,2,0) == 0) goto tmp3_end;
          tmpMeta40 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          
          _name = tmpMeta37;
          _info = tmpMeta40;
          /* Pattern matching succeeded */
          _str = omc_SCodeDump_restrString(threadData, _inClassRestriction);

          tmpMeta41 = mmc_mk_cons(_name, mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addSourceMessage(threadData, _OMC_LIT15, tmpMeta41, _info);
          goto goto_2;
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_boolean tmp45;
          modelica_metatype tmpMeta46;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta42 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta43 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta44 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,0) == 0) goto tmp3_end;
          
          _name = tmpMeta42;
          _res = tmpMeta43;
          _info = tmpMeta44;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp45 = omc_SCodeUtil_isFunctionOrExtFunctionRestriction(threadData, _res);
          if (1 /* true */ != tmp45) goto goto_2;

          tmpMeta46 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _name);
          omc_NFSCodeDependency_analyseClass(threadData, tmpMeta46, _inEnv, _info);
          tmpMeta1 = _inExtends;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_boolean tmp50;
          modelica_metatype tmpMeta51;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta47 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta48 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta49 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,0) == 0) goto tmp3_end;
          
          _name = tmpMeta47;
          _res = tmpMeta48;
          _info = tmpMeta49;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp50 = omc_SCodeUtil_isFunctionOrExtFunctionRestriction(threadData, _res);
          if (0 /* false */ != tmp50) goto goto_2;

          _str = omc_SCodeDump_restrString(threadData, _res);

          tmpMeta51 = mmc_mk_cons(_name, mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addSourceMessage(threadData, _OMC_LIT18, tmpMeta51, _info);
          goto goto_2;
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta52 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (18 != MMC_STRLEN(tmpMeta52) || strcmp(MMC_STRINGDATA(_OMC_LIT20), MMC_STRINGDATA(tmpMeta52)) != 0) goto tmp3_end;
          tmpMeta53 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          
          _name = tmpMeta52;
          _info = tmpMeta53;
          /* Pattern matching succeeded */
          tmpMeta54 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _name);
          omc_NFSCodeDependency_analyseClass(threadData, tmpMeta54, _inEnv, _info);
          tmpMeta1 = _inExtends;
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta55;
          modelica_metatype tmpMeta56;
          modelica_metatype tmpMeta57;
          modelica_metatype tmpMeta58;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta55 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta56 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta56,1,2) == 0) goto tmp3_end;
          tmpMeta57 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          
          _name = tmpMeta55;
          _info = tmpMeta57;
          /* Pattern matching succeeded */
          tmpMeta58 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _name);
          omc_NFSCodeDependency_analyseClass(threadData, tmpMeta58, _inEnv, _info);
          tmpMeta1 = _inExtends;
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          modelica_metatype tmpMeta63;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta59 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta60 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta61 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta60), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta61,0,0) == 0) goto tmp3_end;
          tmpMeta62 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          
          _name = tmpMeta59;
          _info = tmpMeta62;
          /* Pattern matching succeeded */
          tmpMeta63 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _name);
          omc_NFSCodeDependency_analyseClass(threadData, tmpMeta63, _inEnv, _info);
          tmpMeta1 = _inExtends;
          goto tmp3_done;
        }
        case 12: {
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          modelica_metatype tmpMeta66;
          modelica_metatype tmpMeta67;
          modelica_metatype tmpMeta68;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta64 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta65 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta66 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta65), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta66,2,0) == 0) goto tmp3_end;
          tmpMeta67 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          
          _name = tmpMeta64;
          _info = tmpMeta67;
          /* Pattern matching succeeded */
          tmpMeta68 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _name);
          omc_NFSCodeDependency_analyseClass(threadData, tmpMeta68, _inEnv, _info);
          tmpMeta1 = _inExtends;
          goto tmp3_done;
        }
        case 13: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _inExtends;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outExtends = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outExtends;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseElements2(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnv, modelica_metatype _inExtends, modelica_metatype _inClassRestriction)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inElements;
    {
      modelica_metatype _el = NULL;
      modelica_metatype _rest_el = NULL;
      modelica_metatype _exts = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _el has no default value.
      // _rest_el has no default value.
      // _exts has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          _el = tmpMeta5;
          _rest_el = tmpMeta6;
          /* Pattern matching succeeded */
          _exts = omc_NFSCodeDependency_analyseElement(threadData, _el, _inEnv, _inExtends, _inClassRestriction);

          /* Tail recursive call */
          _inElements = _rest_el;
          _inExtends = _exts;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 1: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseElements(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnv, modelica_metatype _inClassRestriction)
{
  modelica_metatype _exts = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _exts has no default value.
  _exts = omc_NFSCodeEnv_getEnvExtendsFromTable(threadData, _inEnv);

  omc_NFSCodeDependency_analyseElements2(threadData, _inElements, _inEnv, _exts, _inClassRestriction);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseRedeclaredClass2(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _inItem;
    {
      modelica_metatype _item = NULL;
      modelica_metatype _env = NULL;
      modelica_metatype _info = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _item has no default value.
      // _env has no default value.
      // _info has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta5,2,8) == 0) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 9));
          
          _info = tmpMeta6;
          /* Pattern matching succeeded */
          _item = omc_NFSCodeLookup_lookupRedeclaredClassByItem(threadData, _inItem, _inEnv, _info ,&_env);

          omc_NFSCodeDependency_analyseItem(threadData, _item, _env);
          goto tmp2_done;
        }
        case 1: {
          modelica_boolean tmp7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp7 = omc_Flags_isSet(threadData, _OMC_LIT24);
          if (1 /* true */ != tmp7) goto goto_1;

          tmpMeta8 = stringAppend(_OMC_LIT25,omc_NFSCodeEnv_getItemName(threadData, _inItem));
          tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT26);
          tmpMeta10 = stringAppend(tmpMeta9,omc_NFSCodeEnv_getEnvName(threadData, _inEnv));
          omc_Debug_traceln(threadData, tmpMeta10);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseRedeclaredClass(threadData_t *threadData, modelica_metatype _inClass, modelica_metatype _inEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _inClass;
    {
      modelica_metatype _item = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _item has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_boolean tmp5;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,8) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp5 = omc_SCodeUtil_isElementRedeclare(threadData, _inClass);
          if (0 /* false */ != tmp5) goto goto_1;
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,8) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta7 = mmc_mk_box4(4, &NFSCodeEnv_Item_CLASS__desc, _inClass, tmpMeta6, _OMC_LIT27);
          _item = tmpMeta7;

          omc_NFSCodeDependency_analyseRedeclaredClass2(threadData, _item, _inEnv);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseMetaType(threadData_t *threadData, modelica_metatype _inRestriction, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inRestriction;
    {
      modelica_metatype _union_name = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _union_name has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,17,5) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          
          _union_name = tmpMeta5;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseClass(threadData, _union_name, _inEnv, _inInfo);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_checkExternalObject2(threadData_t *threadData, modelica_metatype _inElements, modelica_boolean _inHasConstructor, modelica_boolean _inHasDestructor, modelica_string _inObjectName, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;modelica_boolean tmp3_2;modelica_boolean tmp3_3;
    tmp3_1 = _inElements;
    tmp3_2 = _inHasConstructor;
    tmp3_3 = _inHasDestructor;
    {
      modelica_metatype _el = NULL;
      modelica_string _el_str = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _el has no default value.
      // _el_str has no default value.
      tmp3 = 0;
      for (; tmp3 < 4; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          if (1 /* true */ != tmp3_2) goto tmp2_end;
          if (1 /* true */ != tmp3_3) goto tmp2_end;
          
          _el = tmp3_1;
          /* Pattern matching succeeded */
          _el = omc_List_deleteMemberOnTrue(threadData, _OMC_LIT28, _el, boxvar_stringEqual, NULL);

          _el = omc_List_deleteMemberOnTrue(threadData, _OMC_LIT29, _el, boxvar_stringEqual, NULL);

          _el_str = stringDelimitList(_el, _OMC_LIT30);

          tmpMeta5 = stringAppend(_OMC_LIT31,_el_str);
          _el_str = tmpMeta5;

          tmpMeta6 = mmc_mk_cons(_inObjectName, mmc_mk_cons(_el_str, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addSourceMessage(threadData, _OMC_LIT34, tmpMeta6, _inInfo);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          if (0 /* false */ != tmp3_2) goto tmp2_end;
          if (1 /* true */ != tmp3_3) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_cons(_inObjectName, mmc_mk_cons(_OMC_LIT35, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addSourceMessage(threadData, _OMC_LIT34, tmpMeta7, _inInfo);
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta8;
          if (1 /* true */ != tmp3_2) goto tmp2_end;
          if (0 /* false */ != tmp3_3) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_cons(_inObjectName, mmc_mk_cons(_OMC_LIT36, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addSourceMessage(threadData, _OMC_LIT34, tmpMeta8, _inInfo);
          goto tmp2_done;
        }
        case 3: {
          modelica_metatype tmpMeta9;
          if (0 /* false */ != tmp3_2) goto tmp2_end;
          if (0 /* false */ != tmp3_3) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_cons(_inObjectName, mmc_mk_cons(_OMC_LIT37, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addSourceMessage(threadData, _OMC_LIT34, tmpMeta9, _inInfo);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_NFSCodeDependency_checkExternalObject2(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inHasConstructor, modelica_metatype _inHasDestructor, modelica_metatype _inObjectName, modelica_metatype _inInfo)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  tmp1 = mmc_unbox_integer(_inHasConstructor);
  tmp2 = mmc_unbox_integer(_inHasDestructor);
  omc_NFSCodeDependency_checkExternalObject2(threadData, _inElements, tmp1, tmp2, _inObjectName, _inInfo);
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_checkExternalObject(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inElements;
    {
      modelica_string _env_str = NULL;
      modelica_boolean _has_con;
      modelica_boolean _has_des;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _env_str has no default value.
      // _has_con has no default value.
      // _has_des has no default value.
      tmp3 = 0;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          if (11 != MMC_STRLEN(tmpMeta5) || strcmp(MMC_STRINGDATA(_OMC_LIT28), MMC_STRINGDATA(tmpMeta5)) != 0) goto tmp2_end;
          if (listEmpty(tmpMeta6)) goto tmp2_end;
          tmpMeta7 = MMC_CAR(tmpMeta6);
          tmpMeta8 = MMC_CDR(tmpMeta6);
          if (10 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT29), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp2_end;
          if (!listEmpty(tmpMeta8)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta9 = MMC_CAR(tmp3_1);
          tmpMeta10 = MMC_CDR(tmp3_1);
          if (10 != MMC_STRLEN(tmpMeta9) || strcmp(MMC_STRINGDATA(_OMC_LIT29), MMC_STRINGDATA(tmpMeta9)) != 0) goto tmp2_end;
          if (listEmpty(tmpMeta10)) goto tmp2_end;
          tmpMeta11 = MMC_CAR(tmpMeta10);
          tmpMeta12 = MMC_CDR(tmpMeta10);
          if (11 != MMC_STRLEN(tmpMeta11) || strcmp(MMC_STRINGDATA(_OMC_LIT28), MMC_STRINGDATA(tmpMeta11)) != 0) goto tmp2_end;
          if (!listEmpty(tmpMeta12)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          _has_con = omc_List_isMemberOnTrue(threadData, _OMC_LIT28, _inElements, boxvar_stringEqual);

          _has_des = omc_List_isMemberOnTrue(threadData, _OMC_LIT29, _inElements, boxvar_stringEqual);

          _env_str = omc_NFSCodeEnv_getEnvName(threadData, _inEnv);

          omc_NFSCodeDependency_checkExternalObject2(threadData, _inElements, _has_con, _has_des, _env_str, _inInfo);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_NFSCodeDependency_isNotExternalObject(threadData_t *threadData, modelica_metatype _inElement)
{
  modelica_boolean _b;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inElement;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (14 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT19), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_isNotExternalObject(threadData_t *threadData, modelica_metatype _inElement)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NFSCodeDependency_isNotExternalObject(threadData, _inElement);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_NFSCodeDependency_elementName(threadData_t *threadData, modelica_metatype _inElement)
{
  modelica_string _outString = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outString has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inElement;
    {
      modelica_string _name = NULL;
      modelica_metatype _bc = NULL;
      int tmp4;
      // _name has no default value.
      // _bc has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 6: {
          modelica_metatype tmpMeta5;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,8) == 0) goto tmp3_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _name = tmpMeta5;
          /* Pattern matching succeeded */
          tmp1 = _name;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _name = tmpMeta6;
          /* Pattern matching succeeded */
          tmp1 = _name;
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,5) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _name = tmpMeta7;
          /* Pattern matching succeeded */
          tmp1 = _name;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,5) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _bc = tmpMeta8;
          /* Pattern matching succeeded */
          _name = omc_AbsynUtil_pathString(threadData, _bc, _OMC_LIT38, 1 /* true */, 0 /* false */);
          tmpMeta9 = stringAppend(_OMC_LIT39,_name);
          tmp1 = tmpMeta9;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outString = tmp1;
  _return: OMC_LABEL_UNUSED
  return _outString;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_isExternalObject(threadData_t *threadData, modelica_metatype _inElements, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  modelica_metatype _el = NULL;
  modelica_metatype _el_names = NULL;
  modelica_boolean tmp1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _el has no default value.
  // _el_names has no default value.
  _el = omc_List_filterOnTrue(threadData, _inElements, boxvar_NFSCodeDependency_isNotExternalObject);

  /* Pattern-matching assignment */
  tmp1 = (listLength(_el) == listLength(_inElements));
  if (0 /* false */ != tmp1) MMC_THROW_INTERNAL();

  _el_names = omc_List_filterMap(threadData, _el, boxvar_NFSCodeDependency_elementName);

  omc_NFSCodeDependency_checkExternalObject(threadData, _el_names, _inEnv, _inInfo);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseClassDef(threadData_t *threadData, modelica_metatype _inClassDef, modelica_metatype _inRestriction, modelica_metatype _inEnv, modelica_boolean _inInModifierScope, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
    tmp3_1 = _inClassDef;
    tmp3_2 = _inEnv;
    {
      modelica_metatype _el = NULL;
      modelica_metatype _mods = NULL;
      modelica_metatype _ty = NULL;
      modelica_metatype _nel = NULL;
      modelica_metatype _iel = NULL;
      modelica_metatype _nal = NULL;
      modelica_metatype _ial = NULL;
      modelica_metatype _ext_decl = NULL;
      modelica_metatype _ty_env = NULL;
      modelica_metatype _env = NULL;
      modelica_metatype _nore_env = NULL;
      modelica_metatype _ty_item = NULL;
      modelica_metatype _paths = NULL;
      modelica_metatype _redecls = NULL;
      modelica_metatype _repls = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _el has no default value.
      // _mods has no default value.
      // _ty has no default value.
      // _nel has no default value.
      // _iel has no default value.
      // _nal has no default value.
      // _ial has no default value.
      // _ext_decl has no default value.
      // _ty_env has no default value.
      // _env has no default value.
      // _nore_env has no default value.
      // _ty_item has no default value.
      // _paths has no default value.
      // _redecls has no default value.
      // _repls has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 7; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,8) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 6));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 9));
          
          _el = tmpMeta5;
          _nel = tmpMeta6;
          _iel = tmpMeta7;
          _nal = tmpMeta8;
          _ial = tmpMeta9;
          _ext_decl = tmpMeta10;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_analyseElements(threadData, _el, _inEnv, _inRestriction);

          omc_List_map1__0(threadData, _nel, boxvar_NFSCodeDependency_analyseEquation, _inEnv);

          omc_List_map1__0(threadData, _iel, boxvar_NFSCodeDependency_analyseEquation, _inEnv);

          omc_List_map1__0(threadData, _nal, boxvar_NFSCodeDependency_analyseAlgorithm, _inEnv);

          omc_List_map1__0(threadData, _ial, boxvar_NFSCodeDependency_analyseAlgorithm, _inEnv);

          omc_NFSCodeDependency_analyseExternalDecl(threadData, _ext_decl, _inEnv, _inInfo);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,8) == 0) goto tmp2_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          
          _el = tmpMeta11;
          tmp3 += 5; /* Pattern matching succeeded; we may skip some cases if we fail */
          omc_NFSCodeDependency_isExternalObject(threadData, _el, _inEnv, _inInfo);

          omc_NFSCodeDependency_analyseClass(threadData, _OMC_LIT40, _inEnv, _inInfo);

          omc_NFSCodeDependency_analyseClass(threadData, _OMC_LIT41, _inEnv, _inInfo);
          goto tmp2_done;
        }
        case 2: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,2) == 0) goto tmp2_end;
          
          tmp3 += 4; /* Pattern matching succeeded; we may skip some cases if we fail */
          omc_Error_addSourceMessage(threadData, _OMC_LIT44, _OMC_LIT46, _inInfo);
          goto goto_1;
          goto tmp2_done;
        }
        case 3: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,3) == 0) goto tmp2_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          if (listEmpty(tmp3_2)) goto tmp2_end;
          tmpMeta14 = MMC_CAR(tmp3_2);
          tmpMeta15 = MMC_CDR(tmp3_2);
          _ty = tmpMeta12;
          _mods = tmpMeta13;
          _env = tmpMeta15;
          tmp3 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          _env = (_inInModifierScope?_inEnv:_env);

          _nore_env = omc_NFSCodeEnv_removeRedeclaresFromLocalScope(threadData, _env);

          omc_NFSCodeDependency_analyseTypeSpec(threadData, _ty, _nore_env, _inInfo);

          _ty_item = omc_NFSCodeLookup_lookupTypeSpec(threadData, _ty, _env, _inInfo ,NULL ,&_ty_env);

          _ty_item = omc_NFSCodeEnv_resolveRedeclaredItem(threadData, _ty_item, _ty_env ,&_ty_env ,NULL);

          _ty_env = omc_NFSCodeEnv_mergeItemEnv(threadData, _ty_item, _ty_env);

          _redecls = omc_NFSCodeFlattenRedeclare_extractRedeclaresFromModifier(threadData, _mods);

          _ty_item = omc_NFSCodeFlattenRedeclare_replaceRedeclaredElementsInEnv(threadData, _redecls, _ty_item, _ty_env, _inEnv, _OMC_LIT12 ,&_ty_env ,&_repls);

          omc_NFSCodeDependency_analyseItemIfRedeclares(threadData, _repls, _ty_item, _ty_env);

          omc_NFSCodeDependency_analyseModifier(threadData, _mods, _inEnv, _ty_env, _inInfo);
          goto tmp2_done;
        }
        case 4: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,1) == 0) goto tmp2_end;
          
          tmp3 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          goto tmp2_done;
        }
        case 5: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,4,1) == 0) goto tmp2_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          
          _paths = tmpMeta16;
          tmp3 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          if(((!omc_Config_synchronousFeaturesAllowed(threadData)) && (stringEqual(omc_AbsynUtil_pathFirstIdent(threadData, listHead(_paths)), _OMC_LIT47))))
          {
            tmpMeta17 = mmc_mk_cons(listHead(_paths), MMC_REFSTRUCTLIT(mmc_nil));
            omc_List_map2__0(threadData, tmpMeta17, boxvar_NFSCodeDependency_analyseClass, _inEnv, _inInfo);
          }
          else
          {
            omc_List_map2__0(threadData, _paths, boxvar_NFSCodeDependency_analyseClass, _inEnv, _inInfo);
          }
          goto tmp2_done;
        }
        case 6: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,2) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 7) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_NFSCodeDependency_analyseClassDef(threadData_t *threadData, modelica_metatype _inClassDef, modelica_metatype _inRestriction, modelica_metatype _inEnv, modelica_metatype _inInModifierScope, modelica_metatype _inInfo)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_inInModifierScope);
  omc_NFSCodeDependency_analyseClassDef(threadData, _inClassDef, _inRestriction, _inEnv, tmp1, _inInfo);
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markEnvAsUsed2(threadData_t *threadData, modelica_metatype _inFrame, modelica_metatype _inEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inFrame;
    {
      modelica_string _name = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _name has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta5,2,1) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (optionNone(tmpMeta6)) goto tmp2_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          
          _name = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _name);
          omc_NFSCodeDependency_analyseClass(threadData, tmpMeta8, _inEnv, _OMC_LIT50);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markEnvAsUsed(threadData_t *threadData, modelica_metatype _inEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _inEnv;
    {
      modelica_metatype _is_used = NULL;
      modelica_metatype _rest_env = NULL;
      modelica_metatype _f = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _is_used has no default value.
      // _rest_env has no default value.
      // _f has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_integer tmp10;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 7));
          if (optionNone(tmpMeta7)) goto tmp2_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          _f = tmpMeta5;
          _is_used = tmpMeta8;
          _rest_env = tmpMeta6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta9 = omc_Mutable_access(threadData, _is_used);
          tmp10 = mmc_unbox_integer(tmpMeta9);
          if (0 /* false */ != tmp10) goto goto_1;

          omc_NFSCodeDependency_markEnvAsUsed2(threadData, _f, _rest_env);

          omc_Mutable_update(threadData, _is_used, mmc_mk_boolean(1 /* true */));

          omc_NFSCodeDependency_markEnvAsUsed(threadData, _rest_env);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markFrameAsUsed(threadData_t *threadData, modelica_metatype _inFrame)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inFrame;
    {
      modelica_metatype _is_used = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _is_used has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 7));
          if (optionNone(tmpMeta5)) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 1));
          _is_used = tmpMeta6;
          /* Pattern matching succeeded */
          omc_Mutable_update(threadData, _is_used, mmc_mk_boolean(1 /* true */));
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_markItemAsUsed(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inItem;
    {
      modelica_metatype _cls_env = NULL;
      modelica_metatype _is_used = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _cls_env has no default value.
      // _is_used has no default value.
      tmp3 = 0;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          if (optionNone(tmpMeta5)) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 1));
          _is_used = tmpMeta6;
          /* Pattern matching succeeded */
          omc_Mutable_update(threadData, _is_used, mmc_mk_boolean(1 /* true */));

          omc_NFSCodeDependency_markEnvAsUsed(threadData, _inEnv);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          if (!optionNone(tmpMeta7)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,2,8) == 0) goto tmp2_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          if (listEmpty(tmpMeta9)) goto tmp2_end;
          tmpMeta10 = MMC_CAR(tmpMeta9);
          tmpMeta11 = MMC_CDR(tmpMeta9);
          if (!listEmpty(tmpMeta11)) goto tmp2_end;
          
          _cls_env = tmpMeta10;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_markFrameAsUsed(threadData, _cls_env);

          omc_NFSCodeDependency_markEnvAsUsed(threadData, _inEnv);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseItemNoStopOnUsed(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
    tmp3_1 = _inItem;
    tmp3_2 = _inEnv;
    {
      modelica_metatype _cdef = NULL;
      modelica_metatype _cls_env = NULL;
      modelica_metatype _env = NULL;
      modelica_metatype _info = NULL;
      modelica_metatype _res = NULL;
      modelica_metatype _cls = NULL;
      modelica_metatype _cmt = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _cdef has no default value.
      // _cls_env has no default value.
      // _env has no default value.
      // _info has no default value.
      // _res has no default value.
      // _cls has no default value.
      // _cmt has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 4; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
          
          _env = tmp3_2;
          tmp3 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          omc_NFSCodeDependency_markItemAsUsed(threadData, _inItem, _env);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta5,3,0) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,2,8) == 0) goto tmp2_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 6));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 7));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 8));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 9));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          if (listEmpty(tmpMeta11)) goto tmp2_end;
          tmpMeta12 = MMC_CAR(tmpMeta11);
          tmpMeta13 = MMC_CDR(tmpMeta11);
          if (!listEmpty(tmpMeta13)) goto tmp2_end;
          
          _cls = tmpMeta6;
          _res = tmpMeta7;
          _cdef = tmpMeta8;
          _cmt = tmpMeta9;
          _info = tmpMeta10;
          _cls_env = tmpMeta12;
          _env = tmp3_2;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_markItemAsUsed(threadData, _inItem, _env);

          _env = omc_NFSCodeEnv_enterFrame(threadData, _cls_env, _env);

          omc_NFSCodeDependency_analyseClassDef(threadData, _cdef, _res, _env, 0 /* false */, _info);

          omc_NFSCodeDependency_analyseMetaType(threadData, _res, _env, _info);

          omc_NFSCodeDependency_analyseComment(threadData, _cmt, _env, _info);

          /* Pattern-matching assignment */
          tmpMeta14 = _env;
          if (listEmpty(tmpMeta14)) goto goto_1;
          tmpMeta15 = MMC_CAR(tmpMeta14);
          tmpMeta16 = MMC_CDR(tmpMeta14);
          _env = tmpMeta16;

          omc_NFSCodeDependency_analyseRedeclaredClass(threadData, _cls, _env);
          goto tmp2_done;
        }
        case 3: {
          modelica_boolean tmp17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp17 = omc_Flags_isSet(threadData, _OMC_LIT24);
          if (1 /* true */ != tmp17) goto goto_1;

          tmpMeta18 = stringAppend(_OMC_LIT51,omc_NFSCodeEnv_getItemName(threadData, _inItem));
          tmpMeta19 = stringAppend(tmpMeta18,_OMC_LIT26);
          tmpMeta20 = stringAppend(tmpMeta19,omc_NFSCodeEnv_getEnvName(threadData, _inEnv));
          omc_Debug_traceln(threadData, tmpMeta20);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 4) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseItemIfRedeclares(threadData_t *threadData, modelica_metatype _inRepls, modelica_metatype _inItem, modelica_metatype _inEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _inRepls;
    {
      modelica_metatype _env = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _env has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta5 = _inEnv;
          if (listEmpty(tmpMeta5)) goto goto_1;
          tmpMeta6 = MMC_CAR(tmpMeta5);
          tmpMeta7 = MMC_CDR(tmpMeta5);
          _env = tmpMeta7;

          omc_NFSCodeDependency_analyseItemNoStopOnUsed(threadData, _inItem, _env);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseItem(threadData_t *threadData, modelica_metatype _inItem, modelica_metatype _inEnv)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  if(omc_NFSCodeEnv_isItemUsed(threadData, _inItem))
  {
    goto _return;
  }

  { /* match expression */
    modelica_metatype tmp3_1;modelica_metatype tmp3_2;
    tmp3_1 = _inItem;
    tmp3_2 = _inEnv;
    {
      modelica_metatype _cdef = NULL;
      modelica_metatype _cls_env = NULL;
      modelica_metatype _env = NULL;
      modelica_metatype _info = NULL;
      modelica_metatype _res = NULL;
      modelica_metatype _cls = NULL;
      modelica_metatype _cmt = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _cdef has no default value.
      // _cls_env has no default value.
      // _env has no default value.
      // _info has no default value.
      // _res has no default value.
      // _cls has no default value.
      // _cmt has no default value.
      tmp3 = 0;
      for (; tmp3 < 4; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
          
          _env = tmp3_2;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_markItemAsUsed(threadData, _inItem, _env);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta5,3,0) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_boolean tmp14 = 0;
          modelica_boolean tmp22;
          modelica_boolean tmp23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,2,8) == 0) goto tmp2_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 6));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 7));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 8));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 9));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          if (listEmpty(tmpMeta11)) goto tmp2_end;
          tmpMeta12 = MMC_CAR(tmpMeta11);
          tmpMeta13 = MMC_CDR(tmpMeta11);
          if (!listEmpty(tmpMeta13)) goto tmp2_end;
          
          _cls = tmpMeta6;
          _res = tmpMeta7;
          _cdef = tmpMeta8;
          _cmt = tmpMeta9;
          _info = tmpMeta10;
          _cls_env = tmpMeta12;
          _env = tmp3_2;
          /* Pattern matching succeeded */
          omc_NFSCodeDependency_markItemAsUsed(threadData, _inItem, _env);

          _env = omc_NFSCodeEnv_enterFrame(threadData, _cls_env, _env);

          tmp22 = (modelica_boolean)(stringEqual((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_cls), 2))), _OMC_LIT52));
          if(tmp22)
          {
            { /* match expression */
              modelica_metatype tmp17_1;
              tmp17_1 = _inEnv;
              {
                volatile mmc_switch_type tmp17;
                int tmp18;
                tmp17 = 0;
                for (; tmp17 < 2; tmp17++) {
                  switch (MMC_SWITCH_CAST(tmp17)) {
                  case 0: {
                    modelica_metatype tmpMeta19;
                    modelica_metatype tmpMeta20;
                    modelica_metatype tmpMeta21;
                    if (listEmpty(tmp17_1)) goto tmp16_end;
                    tmpMeta19 = MMC_CAR(tmp17_1);
                    tmpMeta20 = MMC_CDR(tmp17_1);
                    tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta19), 2));
                    if (!optionNone(tmpMeta21)) goto tmp16_end;
                    if (!listEmpty(tmpMeta20)) goto tmp16_end;
                    /* Pattern matching succeeded */
                    tmp14 = 1 /* true */;
                    goto tmp16_done;
                  }
                  case 1: {
                    
                    /* Pattern matching succeeded */
                    tmp14 = 0 /* false */;
                    goto tmp16_done;
                  }
                  }
                  goto tmp16_end;
                  tmp16_end: ;
                }
                goto goto_15;
                goto_15:;
                goto goto_1;
                goto tmp16_done;
                tmp16_done:;
              }
            }
            tmp23 = tmp14;
          }
          else
          {
            tmp23 = 0 /* false */;
          }
          if(tmp23)
          {
            omc_System_setUsesCardinality(threadData, 1 /* true */);
          }

          omc_NFSCodeDependency_analyseClassDef(threadData, _cdef, _res, _env, 0 /* false */, _info);

          omc_NFSCodeDependency_analyseMetaType(threadData, _res, _env, _info);

          omc_NFSCodeDependency_analyseComment(threadData, _cmt, _env, _info);

          /* Pattern-matching assignment */
          tmpMeta24 = _env;
          if (listEmpty(tmpMeta24)) goto goto_1;
          tmpMeta25 = MMC_CAR(tmpMeta24);
          tmpMeta26 = MMC_CDR(tmpMeta24);
          _env = tmpMeta26;

          omc_NFSCodeDependency_analyseRedeclaredClass(threadData, _cls, _env);
          goto tmp2_done;
        }
        case 3: {
          modelica_boolean tmp27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp27 = omc_Flags_isSet(threadData, _OMC_LIT24);
          if (1 /* true */ != tmp27) goto goto_1;

          tmpMeta28 = stringAppend(_OMC_LIT53,omc_NFSCodeEnv_getItemName(threadData, _inItem));
          tmpMeta29 = stringAppend(tmpMeta28,_OMC_LIT26);
          tmpMeta30 = stringAppend(tmpMeta29,omc_NFSCodeEnv_getEnvName(threadData, _inEnv));
          omc_Debug_traceln(threadData, tmpMeta30);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_checkItemIsClass(threadData_t *threadData, modelica_metatype _inItem)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _inItem;
    {
      modelica_string _name = NULL;
      modelica_metatype _info = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _name has no default value.
      // _info has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta5,3,8) == 0) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 9));
          
          _name = tmpMeta6;
          _info = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_cons(_name, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addSourceMessage(threadData, _OMC_LIT56, tmpMeta8, _info);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_lookupNameInItem(threadData_t *threadData, modelica_metatype _inName, modelica_metatype _inItem, modelica_metatype _inEnv, modelica_metatype _inErrorType, modelica_metatype *out_outEnv)
{
  modelica_metatype _outItem = NULL;
  modelica_metatype _outEnv = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outItem has no default value.
  // _outEnv has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inItem;
    tmp4_2 = _inEnv;
    {
      modelica_metatype _type_path = NULL;
      modelica_metatype _mods = NULL;
      modelica_metatype _info = NULL;
      modelica_metatype _env = NULL;
      modelica_metatype _type_env = NULL;
      modelica_metatype _class_env = NULL;
      modelica_metatype _redeclares = NULL;
      modelica_metatype _item = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _type_path has no default value.
      // _mods has no default value.
      // _info has no default value.
      // _env has no default value.
      // _type_env has no default value.
      // _class_env has no default value.
      // _redeclares has no default value.
      // _item has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inItem;
          tmpMeta[0+1] = _inEnv;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_boolean tmp11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,3,8) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,0,2) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 6));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 9));
          
          _type_path = tmpMeta8;
          _mods = tmpMeta9;
          _info = tmpMeta10;
          /* Pattern matching succeeded */
          _item = omc_NFSCodeDependency_lookupClass(threadData, _type_path, _inEnv, 1 /* true */, _info, _inErrorType ,&_type_env);

          /* Pattern-matching assignment */
          tmp11 = omc_NFSCodeEnv_isClassItem(threadData, _item);
          if (1 /* true */ != tmp11) goto goto_2;

          _redeclares = omc_NFSCodeFlattenRedeclare_extractRedeclaresFromModifier(threadData, _mods);

          _item = omc_NFSCodeFlattenRedeclare_replaceRedeclaredElementsInEnv(threadData, _redeclares, _item, _type_env, _inEnv, _OMC_LIT12 ,&_type_env ,NULL);
          /* Tail recursive call */
          _inItem = _item;
          _inEnv = _type_env;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,3) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta12,2,8) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 9));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta14)) goto tmp3_end;
          tmpMeta15 = MMC_CAR(tmpMeta14);
          tmpMeta16 = MMC_CDR(tmpMeta14);
          if (!listEmpty(tmpMeta16)) goto tmp3_end;
          
          _info = tmpMeta13;
          _class_env = tmpMeta15;
          /* Pattern matching succeeded */
          _env = omc_NFSCodeEnv_enterFrame(threadData, _class_env, _inEnv);
          tmpMeta[0+0] = omc_NFSCodeDependency_lookupClass(threadData, _inName, _env, 0 /* false */, _info, _inErrorType, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outItem = tmpMeta[0+0];
  _outEnv = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outEnv) { *out_outEnv = _outEnv; }
  return _outItem;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_lookupClass2(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inEnv, modelica_boolean _inBuiltinPossible, modelica_metatype _inInfo, modelica_metatype _inErrorType, modelica_metatype *out_outEnv)
{
  modelica_metatype _outItem = NULL;
  modelica_metatype _outEnv = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outItem has no default value.
  // _outEnv has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;modelica_boolean tmp4_3;
    tmp4_1 = _inPath;
    tmp4_2 = _inEnv;
    tmp4_3 = _inBuiltinPossible;
    {
      modelica_metatype _item = NULL;
      modelica_metatype _env = NULL;
      modelica_string _id = NULL;
      modelica_metatype _rest_path = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _item has no default value.
      // _env has no default value.
      // _id has no default value.
      // _rest_path has no default value.
      tmp4 = 0;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (1 /* true */ != tmp4_3) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _item = omc_NFSCodeLookup_lookupNameSilent(threadData, _inPath, _inEnv, _inInfo ,NULL ,&_env);
          tmpMeta[0+0] = _item;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        case 1: {
          if (0 /* false */ != tmp4_3) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _item = omc_NFSCodeLookup_lookupNameSilentNoBuiltin(threadData, _inPath, _inEnv, _inInfo ,NULL ,&_env);
          tmpMeta[0+0] = _item;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_2)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_2);
          tmpMeta7 = MMC_CDR(tmp4_2);
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,2) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (3 != MMC_STRLEN(tmpMeta8) || strcmp(MMC_STRINGDATA(_OMC_LIT57), MMC_STRINGDATA(tmpMeta8)) != 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,1,1) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          
          _env = tmpMeta7;
          _id = tmpMeta10;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_NFSCodeLookup_lookupInheritedName(threadData, _id, _env, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,2) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _id = tmpMeta11;
          _rest_path = tmpMeta12;
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _id);
          _item = omc_NFSCodeLookup_lookupNameSilent(threadData, tmpMeta13, _inEnv, _inInfo ,NULL ,&_env);

          _item = omc_NFSCodeEnv_resolveRedeclaredItem(threadData, _item, _env ,&_env ,NULL);

          omc_NFSCodeDependency_analyseItem(threadData, _item, _env);
          tmpMeta[0+0] = omc_NFSCodeDependency_lookupNameInItem(threadData, _rest_path, _item, _env, _inErrorType, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _rest_path = tmpMeta14;
          /* Pattern matching succeeded */
          _env = omc_NFSCodeEnv_getEnvTopScope(threadData, _inEnv);
          /* Tail recursive call */
          _inPath = _rest_path;
          _inEnv = _env;
          _inBuiltinPossible = 0 /* false */;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outItem = tmpMeta[0+0];
  _outEnv = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outEnv) { *out_outEnv = _outEnv; }
  return _outItem;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_lookupClass2(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inEnv, modelica_metatype _inBuiltinPossible, modelica_metatype _inInfo, modelica_metatype _inErrorType, modelica_metatype *out_outEnv)
{
  modelica_integer tmp1;
  modelica_metatype _outItem = NULL;
  tmp1 = mmc_unbox_integer(_inBuiltinPossible);
  _outItem = omc_NFSCodeDependency_lookupClass2(threadData, _inPath, _inEnv, tmp1, _inInfo, _inErrorType, out_outEnv);
  /* skip box _outItem; NFSCodeEnv.Item */
  /* skip box _outEnv; list<NFSCodeEnv.Frame> */
  return _outItem;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFSCodeDependency_lookupClass(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inEnv, modelica_boolean _inBuiltinPossible, modelica_metatype _inInfo, modelica_metatype _inErrorType, modelica_metatype *out_outEnv)
{
  modelica_metatype _outItem = NULL;
  modelica_metatype _outEnv = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outItem has no default value.
  // _outEnv has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inErrorType;
    {
      modelica_metatype _item = NULL;
      modelica_metatype _env = NULL;
      modelica_string _name_str = NULL;
      modelica_string _env_str = NULL;
      modelica_metatype _error_id = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _item has no default value.
      // _env has no default value.
      // _name_str has no default value.
      // _env_str has no default value.
      // _error_id has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          
          /* Pattern matching succeeded */
          _item = omc_NFSCodeDependency_lookupClass2(threadData, _inPath, _inEnv, _inBuiltinPossible, _inInfo, _inErrorType ,&_env);

          _item = omc_NFSCodeEnv_resolveRedeclaredItem(threadData, _item, _env ,&_env ,NULL);
          tmpMeta[0+0] = _item;
          tmpMeta[0+1] = _env;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          _error_id = tmpMeta6;
          /* Pattern matching succeeded */
          _name_str = omc_AbsynUtil_pathString(threadData, _inPath, _OMC_LIT38, 1 /* true */, 0 /* false */);

          _env_str = omc_NFSCodeEnv_getEnvName(threadData, _inEnv);

          tmpMeta7 = mmc_mk_cons(_name_str, mmc_mk_cons(_env_str, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addSourceMessage(threadData, _error_id, tmpMeta7, _inInfo);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outItem = tmpMeta[0+0];
  _outEnv = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outEnv) { *out_outEnv = _outEnv; }
  return _outItem;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFSCodeDependency_lookupClass(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inEnv, modelica_metatype _inBuiltinPossible, modelica_metatype _inInfo, modelica_metatype _inErrorType, modelica_metatype *out_outEnv)
{
  modelica_integer tmp1;
  modelica_metatype _outItem = NULL;
  tmp1 = mmc_unbox_integer(_inBuiltinPossible);
  _outItem = omc_NFSCodeDependency_lookupClass(threadData, _inPath, _inEnv, tmp1, _inInfo, _inErrorType, out_outEnv);
  /* skip box _outItem; NFSCodeEnv.Item */
  /* skip box _outEnv; list<NFSCodeEnv.Frame> */
  return _outItem;
}

PROTECTED_FUNCTION_STATIC void omc_NFSCodeDependency_analyseClass(threadData_t *threadData, modelica_metatype _inClassName, modelica_metatype _inEnv, modelica_metatype _inInfo)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    {
      modelica_metatype _item = NULL;
      modelica_metatype _env = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _item has no default value.
      // _env has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          /* Pattern matching succeeded */
          _item = omc_NFSCodeDependency_lookupClass(threadData, _inClassName, _inEnv, 1 /* true */, _inInfo, _OMC_LIT10 ,&_env);

          omc_NFSCodeDependency_checkItemIsClass(threadData, _item);

          omc_NFSCodeDependency_analyseItem(threadData, _item, _env);
          goto tmp2_done;
        }
        case 1: {
          modelica_boolean tmp5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp5 = omc_Flags_isSet(threadData, _OMC_LIT24);
          if (1 /* true */ != tmp5) goto goto_1;

          tmpMeta6 = stringAppend(_OMC_LIT58,omc_AbsynUtil_pathString(threadData, _inClassName, _OMC_LIT38, 1 /* true */, 0 /* false */));
          tmpMeta7 = stringAppend(tmpMeta6,_OMC_LIT26);
          tmpMeta8 = stringAppend(tmpMeta7,omc_NFSCodeEnv_getEnvName(threadData, _inEnv));
          omc_Debug_traceln(threadData, tmpMeta8);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_metatype omc_NFSCodeDependency_analyse(threadData_t *threadData, modelica_metatype _inClassName, modelica_metatype _inEnv, modelica_metatype _inProgram, modelica_metatype *out_outEnv)
{
  modelica_metatype _outProgram = NULL;
  modelica_metatype _outEnv = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outProgram has no default value.
  // _outEnv has no default value.
  omc_NFSCodeDependency_analyseClass(threadData, _inClassName, _inEnv, _OMC_LIT50);

  omc_NFSCodeDependency_analyseClassExtends(threadData, _inEnv);

  _outEnv = omc_NFSCodeDependency_collectUsedProgram(threadData, _inEnv, _inProgram, _inClassName ,&_outProgram);
  _return: OMC_LABEL_UNUSED
  if (out_outEnv) { *out_outEnv = _outEnv; }
  return _outProgram;
}

