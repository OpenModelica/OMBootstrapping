#include "omc_simulation_settings.h"
#include "Matching.h"
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT0,1,6) {&ErrorTypes_MessageType_SYMBOLIC__desc,}};
#define _OMC_LIT0 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT0)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT1,1,4) {&ErrorTypes_Severity_ERROR__desc,}};
#define _OMC_LIT1 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "Model is structurally singular, error found sorting equations\n%s\nfor variables\n%s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,81,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT2}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT4,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(34)),_OMC_LIT0,_OMC_LIT1,_OMC_LIT3}};
#define _OMC_LIT4 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT4)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT5,1,4) {&BackendDAE_IndexType_NORMAL__desc,}};
#define _OMC_LIT5 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT5)
#define _OMC_LIT6_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT6,1,_OMC_LIT6_data);
#define _OMC_LIT6 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT6)
#define _OMC_LIT7_data "failed!\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT7,8,_OMC_LIT7_data);
#define _OMC_LIT7 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT7)
#define _OMC_LIT8_data "Systemsize: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT8,12,_OMC_LIT8_data);
#define _OMC_LIT8 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT8)
#define _OMC_LIT9_data "OMCNew:   "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT9,10,_OMC_LIT9_data);
#define _OMC_LIT9 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT9)
#define _OMC_LIT10_data "BFSB:     "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT10,10,_OMC_LIT10_data);
#define _OMC_LIT10 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data "DFSB:     "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,10,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
#define _OMC_LIT12_data "MC21A:    "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT12,10,_OMC_LIT12_data);
#define _OMC_LIT12 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "PF:       "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,10,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
#define _OMC_LIT14_data "PFPlus:   "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT14,10,_OMC_LIT14_data);
#define _OMC_LIT14 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT14)
#define _OMC_LIT15_data "HK:       "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT15,10,_OMC_LIT15_data);
#define _OMC_LIT15 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data "HKDW:     "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,10,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
#define _OMC_LIT17_data "ABMP:     "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT17,10,_OMC_LIT17_data);
#define _OMC_LIT17 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT17)
#define _OMC_LIT18_data "PR:       "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT18,10,_OMC_LIT18_data);
#define _OMC_LIT18 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data "SetMEXT:     "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,13,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data "DFSEXT:   "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,10,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT21,2,0) {_OMC_LIT20,MMC_IMMEDIATE(MMC_TAGFIXNUM(1))}};
#define _OMC_LIT21 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data "BFSEXT:   "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,10,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT23,2,0) {_OMC_LIT22,MMC_IMMEDIATE(MMC_TAGFIXNUM(2))}};
#define _OMC_LIT23 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT23)
#define _OMC_LIT24_data "MC21AEXT: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT24,10,_OMC_LIT24_data);
#define _OMC_LIT24 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT24)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT25,2,0) {_OMC_LIT24,MMC_IMMEDIATE(MMC_TAGFIXNUM(3))}};
#define _OMC_LIT25 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data "PFEXT:    "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,10,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT27,2,0) {_OMC_LIT26,MMC_IMMEDIATE(MMC_TAGFIXNUM(4))}};
#define _OMC_LIT27 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT27)
#define _OMC_LIT28_data "PFPlusEXT:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT28,10,_OMC_LIT28_data);
#define _OMC_LIT28 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT28)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT29,2,0) {_OMC_LIT28,MMC_IMMEDIATE(MMC_TAGFIXNUM(5))}};
#define _OMC_LIT29 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data "HKEXT:    "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,10,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT31,2,0) {_OMC_LIT30,MMC_IMMEDIATE(MMC_TAGFIXNUM(6))}};
#define _OMC_LIT31 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT31)
#define _OMC_LIT32_data "HKDWEXT   "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT32,10,_OMC_LIT32_data);
#define _OMC_LIT32 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT32)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT33,2,0) {_OMC_LIT32,MMC_IMMEDIATE(MMC_TAGFIXNUM(7))}};
#define _OMC_LIT33 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT33)
#define _OMC_LIT34_data "ABMPEXT   "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT34,10,_OMC_LIT34_data);
#define _OMC_LIT34 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT34)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT35,2,0) {_OMC_LIT34,MMC_IMMEDIATE(MMC_TAGFIXNUM(8))}};
#define _OMC_LIT35 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT35)
#define _OMC_LIT36_data "PREXT:    "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT36,10,_OMC_LIT36_data);
#define _OMC_LIT36 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT36)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT37,2,0) {_OMC_LIT36,MMC_IMMEDIATE(MMC_TAGFIXNUM(10))}};
#define _OMC_LIT37 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT37)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT38,2,1) {_OMC_LIT37,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT38 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT38)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT39,2,1) {_OMC_LIT35,_OMC_LIT38}};
#define _OMC_LIT39 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT39)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT40,2,1) {_OMC_LIT33,_OMC_LIT39}};
#define _OMC_LIT40 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT40)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT41,2,1) {_OMC_LIT31,_OMC_LIT40}};
#define _OMC_LIT41 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT41)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT42,2,1) {_OMC_LIT29,_OMC_LIT41}};
#define _OMC_LIT42 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT42)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT43,2,1) {_OMC_LIT27,_OMC_LIT42}};
#define _OMC_LIT43 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT43)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT44,2,1) {_OMC_LIT25,_OMC_LIT43}};
#define _OMC_LIT44 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT44)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT45,2,1) {_OMC_LIT23,_OMC_LIT44}};
#define _OMC_LIT45 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT45)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT46,2,1) {_OMC_LIT21,_OMC_LIT45}};
#define _OMC_LIT46 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT46)
#define _OMC_LIT47_data "GetAssEXT:   "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT47,13,_OMC_LIT47_data);
#define _OMC_LIT47 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT47)
#define _OMC_LIT48_data "function assignmentsArrayExpand failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT48,38,_OMC_LIT48_data);
#define _OMC_LIT48 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT48)
#define _OMC_LIT49_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/BackEnd/Matching.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT49,66,_OMC_LIT49_data);
#define _OMC_LIT49 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT49)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT50_6,1.758197185e9);
#define _OMC_LIT50_6 MMC_REFREALLIT(_OMC_LIT_STRUCT50_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT50,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(6448)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(6448)),MMC_IMMEDIATE(MMC_TAGFIXNUM(87)),_OMC_LIT50_6}};
#define _OMC_LIT50 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT50)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT51_6,1.758197185e9);
#define _OMC_LIT51_6 MMC_REFREALLIT(_OMC_LIT_STRUCT51_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT51,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(6420)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(6420)),MMC_IMMEDIATE(MMC_TAGFIXNUM(87)),_OMC_LIT51_6}};
#define _OMC_LIT51 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data "bltdump"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,7,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
#define _OMC_LIT53_data "Dumps information from index reduction."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT53,39,_OMC_LIT53_data);
#define _OMC_LIT53 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT53)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT54,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT53}};
#define _OMC_LIT54 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT54)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT55,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(51)),_OMC_LIT52,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT54}};
#define _OMC_LIT55 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT55)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT56,1,3) {&DAE_InlineType_NORM__INLINE__desc,}};
#define _OMC_LIT56 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT56)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT57,1,6) {&DAE_InlineType_DEFAULT__INLINE__desc,}};
#define _OMC_LIT57 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT57)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT58,2,1) {_OMC_LIT57,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT58 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT58)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT59,2,1) {_OMC_LIT56,_OMC_LIT58}};
#define _OMC_LIT59 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT59)
#define _OMC_LIT60_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT60,0,_OMC_LIT60_data);
#define _OMC_LIT60 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT60)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT61,0.0);
#define _OMC_LIT61 MMC_REFREALLIT(_OMC_LIT_STRUCT61)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT62,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT60,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT61}};
#define _OMC_LIT62 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT62)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT63,1,4) {&DAE_ComponentPrefix_NOCOMPPRE__desc,}};
#define _OMC_LIT63 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT63)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT64,8,3) {&DAE_ElementSource_SOURCE__desc,_OMC_LIT62,MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT63,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT64 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT64)
#define _OMC_LIT65_data "### The Equation ### \n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT65,22,_OMC_LIT65_data);
#define _OMC_LIT65 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT65)
#define _OMC_LIT66_data "\n\n--- could not be differentiated for artificial variable ---\n "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT66,63,_OMC_LIT66_data);
#define _OMC_LIT66 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT66)
#define _OMC_LIT67_data ".\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT67,3,_OMC_LIT67_data);
#define _OMC_LIT67 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT67)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT68,1,3) {&BackendDAE_VarKind_VARIABLE__desc,}};
#define _OMC_LIT68 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT68)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT69,1,5) {&BackendDAE_IndexType_SOLVABLE__desc,}};
#define _OMC_LIT69 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT69)
#define _OMC_LIT70_data "----------------------------- INFO -----------------------------\n Artificial states are those which do not naturally appear\n differentiated in the system of DAEs, but have been forced\n to be states with 'StateSelect.always' or 'StateSelect.prefer'.\n The ones mentioned above will be treated as if they had \n'StateSelect.default'.\n----------------------------------------------------------------\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT70,396,_OMC_LIT70_data);
#define _OMC_LIT70 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT70)
#define _OMC_LIT71_data "They will be treated as if they had stateSelect=StateSelect.default"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT71,67,_OMC_LIT71_data);
#define _OMC_LIT71 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT71)
#define _OMC_LIT72_data "Please use -d=bltdump for more information.\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT72,44,_OMC_LIT72_data);
#define _OMC_LIT72 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT72)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT73,1,5) {&ErrorTypes_MessageType_TRANSLATION__desc,}};
#define _OMC_LIT73 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT73)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT74,1,5) {&ErrorTypes_Severity_WARNING__desc,}};
#define _OMC_LIT74 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT74)
#define _OMC_LIT75_data "Some equations could not be differentiated for following variables having attribute stateSelect=StateSelect.prefer. %s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT75,118,_OMC_LIT75_data);
#define _OMC_LIT75 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT75)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT76,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT75}};
#define _OMC_LIT76 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT76)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT77,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(600)),_OMC_LIT73,_OMC_LIT74,_OMC_LIT76}};
#define _OMC_LIT77 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT77)
#define _OMC_LIT78_data "noASSC"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT78,6,_OMC_LIT78_data);
#define _OMC_LIT78 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT78)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT79,1,4) {&Flags_FlagVisibility_EXTERNAL__desc,}};
#define _OMC_LIT79 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT79)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT80,2,4) {&Flags_FlagData_BOOL__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT80 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT80)
#define _OMC_LIT81_data "Disables analytical to structural singularity conversion."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT81,57,_OMC_LIT81_data);
#define _OMC_LIT81 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT81)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT82,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT81}};
#define _OMC_LIT82 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT82)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT83,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(123)),_OMC_LIT78,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT79,_OMC_LIT80,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT82}};
#define _OMC_LIT83 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT83)
#define _OMC_LIT84_data "BeforMatching_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT84,14,_OMC_LIT84_data);
#define _OMC_LIT84 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT84)
#define _OMC_LIT85_data "_unmatched "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT85,11,_OMC_LIT85_data);
#define _OMC_LIT85 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT85)
#define _OMC_LIT86_data "graphml"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT86,7,_OMC_LIT86_data);
#define _OMC_LIT86 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT86)
#define _OMC_LIT87_data "Dumps .graphml files for the bipartite graph after Index Reduction and a task graph for the SCCs. Can be displayed with yEd. "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT87,125,_OMC_LIT87_data);
#define _OMC_LIT87 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT87)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT88,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT87}};
#define _OMC_LIT88 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT88)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT89,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(116)),_OMC_LIT86,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT88}};
#define _OMC_LIT89 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT89)
#define _OMC_LIT90_data "unmatched equations: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT90,21,_OMC_LIT90_data);
#define _OMC_LIT90 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT90)
#define _OMC_LIT91_data ", "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT91,2,_OMC_LIT91_data);
#define _OMC_LIT91 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT91)
#define _OMC_LIT92_data "\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT92,2,_OMC_LIT92_data);
#define _OMC_LIT92 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT92)
#define _OMC_LIT93_data "Index Reduction neccessary!\nMSS subsets:\n "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT93,42,_OMC_LIT93_data);
#define _OMC_LIT93 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT93)
#define _OMC_LIT94_data "\n "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT94,2,_OMC_LIT94_data);
#define _OMC_LIT94 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT94)
#define _OMC_LIT95_data "- Matching.PR_FIFO_FAIRExternal failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT95,39,_OMC_LIT95_data);
#define _OMC_LIT95 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT95)
#define _OMC_LIT96_data "failtrace"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT96,9,_OMC_LIT96_data);
#define _OMC_LIT96 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT96)
#define _OMC_LIT97_data "Sets whether to print a failtrace or not."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT97,41,_OMC_LIT97_data);
#define _OMC_LIT97 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT97)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT98,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT97}};
#define _OMC_LIT98 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT98)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT99,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT96,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT98}};
#define _OMC_LIT99 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT99)
#define _OMC_LIT100_data "- Matching.ABMPExternal failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT100,31,_OMC_LIT100_data);
#define _OMC_LIT100 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT100)
#define _OMC_LIT101_data "- Matching.HKDWExternal failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT101,31,_OMC_LIT101_data);
#define _OMC_LIT101 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT101)
#define _OMC_LIT102_data "- Matching.HKExternal failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT102,29,_OMC_LIT102_data);
#define _OMC_LIT102 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT102)
#define _OMC_LIT103_data "- Matching.PFPlusExternal failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT103,33,_OMC_LIT103_data);
#define _OMC_LIT103 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT103)
#define _OMC_LIT104_data "- Matching.PFExternal failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT104,29,_OMC_LIT104_data);
#define _OMC_LIT104 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT104)
#define _OMC_LIT105_data "- Matching.MC21AExternal failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT105,32,_OMC_LIT105_data);
#define _OMC_LIT105 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT105)
#define _OMC_LIT106_data "- Matching.BFSBExternal failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT106,31,_OMC_LIT106_data);
#define _OMC_LIT106 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT106)
#define _OMC_LIT107_data "- Matching.DFSBExternal failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT107,31,_OMC_LIT107_data);
#define _OMC_LIT107 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT107)
#define _OMC_LIT108_data "function cheapmatching failed in equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT108,42,_OMC_LIT108_data);
#define _OMC_LIT108 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT108)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT109_6,1.758197185e9);
#define _OMC_LIT109_6 MMC_REFREALLIT(_OMC_LIT_STRUCT109_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT109,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(4715)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(4715)),MMC_IMMEDIATE(MMC_TAGFIXNUM(106)),_OMC_LIT109_6}};
#define _OMC_LIT109 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT109)
#define _OMC_LIT110_data "function PR_FIFO_FAIRphase_traverseRows failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT110,46,_OMC_LIT110_data);
#define _OMC_LIT110 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT110)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT111_6,1.758197185e9);
#define _OMC_LIT111_6 MMC_REFREALLIT(_OMC_LIT_STRUCT111_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT111,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(4585)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(4585)),MMC_IMMEDIATE(MMC_TAGFIXNUM(95)),_OMC_LIT111_6}};
#define _OMC_LIT111 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT111)
#define _OMC_LIT112_data "function PR_Global_Relabel_traverseCollums failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT112,49,_OMC_LIT112_data);
#define _OMC_LIT112 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT112)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT113_6,1.758197185e9);
#define _OMC_LIT113_6 MMC_REFREALLIT(_OMC_LIT_STRUCT113_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT113,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(4407)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(4407)),MMC_IMMEDIATE(MMC_TAGFIXNUM(98)),_OMC_LIT113_6}};
#define _OMC_LIT113 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT113)
#define _OMC_LIT114_data "- Matching.PR_FIFO_FAIR failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT114,31,_OMC_LIT114_data);
#define _OMC_LIT114 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT114)
#define _OMC_LIT115_data "function ABMPDFSBtraverseCollums failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT115,39,_OMC_LIT115_data);
#define _OMC_LIT115 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT115)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT116_6,1.758197185e9);
#define _OMC_LIT116_6 MMC_REFREALLIT(_OMC_LIT_STRUCT116_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT116,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(4026)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(4026)),MMC_IMMEDIATE(MMC_TAGFIXNUM(88)),_OMC_LIT116_6}};
#define _OMC_LIT116 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT116)
#define _OMC_LIT117_data "function ABMPDFSphase failed in phase "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT117,38,_OMC_LIT117_data);
#define _OMC_LIT117 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT117)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT118_6,1.758197185e9);
#define _OMC_LIT118_6 MMC_REFREALLIT(_OMC_LIT_STRUCT118_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT118,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3961)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3961)),MMC_IMMEDIATE(MMC_TAGFIXNUM(102)),_OMC_LIT118_6}};
#define _OMC_LIT118 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT118)
#define _OMC_LIT119_data "function ABMPBFS1 failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT119,24,_OMC_LIT119_data);
#define _OMC_LIT119 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT119)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT120_6,1.758197185e9);
#define _OMC_LIT120_6 MMC_REFREALLIT(_OMC_LIT_STRUCT120_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT120,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3920)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3920)),MMC_IMMEDIATE(MMC_TAGFIXNUM(73)),_OMC_LIT120_6}};
#define _OMC_LIT120 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT120)
#define _OMC_LIT121_data "function ABMPBFS failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT121,23,_OMC_LIT121_data);
#define _OMC_LIT121 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT121)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT122_6,1.758197185e9);
#define _OMC_LIT122_6 MMC_REFREALLIT(_OMC_LIT_STRUCT122_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT122,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3844)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3844)),MMC_IMMEDIATE(MMC_TAGFIXNUM(72)),_OMC_LIT122_6}};
#define _OMC_LIT122 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT122)
#define _OMC_LIT123_data "function ABMPBFStraverseRows failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT123,35,_OMC_LIT123_data);
#define _OMC_LIT123 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT123)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT124_6,1.758197185e9);
#define _OMC_LIT124_6 MMC_REFREALLIT(_OMC_LIT_STRUCT124_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT124,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3800)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3800)),MMC_IMMEDIATE(MMC_TAGFIXNUM(84)),_OMC_LIT124_6}};
#define _OMC_LIT124 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT124)
#define _OMC_LIT125_data "function ABMPBFSphase1 failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT125,29,_OMC_LIT125_data);
#define _OMC_LIT125 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT125)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT126_6,1.758197185e9);
#define _OMC_LIT126_6 MMC_REFREALLIT(_OMC_LIT_STRUCT126_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT126,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3738)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3738)),MMC_IMMEDIATE(MMC_TAGFIXNUM(78)),_OMC_LIT126_6}};
#define _OMC_LIT126 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT126)
#define _OMC_LIT127_data "function ABMPBFSphase failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT127,28,_OMC_LIT127_data);
#define _OMC_LIT127 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT127)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT128_6,1.758197185e9);
#define _OMC_LIT128_6 MMC_REFREALLIT(_OMC_LIT_STRUCT128_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT128,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3703)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3703)),MMC_IMMEDIATE(MMC_TAGFIXNUM(77)),_OMC_LIT128_6}};
#define _OMC_LIT128 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT128)
#define _OMC_LIT129_data "function ABMPphase2 failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT129,26,_OMC_LIT129_data);
#define _OMC_LIT129 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT129)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT130_6,1.758197185e9);
#define _OMC_LIT130_6 MMC_REFREALLIT(_OMC_LIT_STRUCT130_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT130,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3655)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3655)),MMC_IMMEDIATE(MMC_TAGFIXNUM(75)),_OMC_LIT130_6}};
#define _OMC_LIT130 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT130)
#define _OMC_LIT131_data "function ABMPphase1 failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT131,26,_OMC_LIT131_data);
#define _OMC_LIT131 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT131)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT132_6,1.758197185e9);
#define _OMC_LIT132_6 MMC_REFREALLIT(_OMC_LIT_STRUCT132_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT132,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3615)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3615)),MMC_IMMEDIATE(MMC_TAGFIXNUM(75)),_OMC_LIT132_6}};
#define _OMC_LIT132 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT132)
#define _OMC_LIT133_data "function ABMPphase failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT133,25,_OMC_LIT133_data);
#define _OMC_LIT133 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT133)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT134_6,1.758197185e9);
#define _OMC_LIT134_6 MMC_REFREALLIT(_OMC_LIT_STRUCT134_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT134,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3573)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3573)),MMC_IMMEDIATE(MMC_TAGFIXNUM(74)),_OMC_LIT134_6}};
#define _OMC_LIT134 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT134)
#define _OMC_LIT135_data "- Matching.ABMP failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT135,23,_OMC_LIT135_data);
#define _OMC_LIT135 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT135)
#define _OMC_LIT136_data "function HKDWDFStraverseCollums failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT136,38,_OMC_LIT136_data);
#define _OMC_LIT136 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT136)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT137_6,1.758197185e9);
#define _OMC_LIT137_6 MMC_REFREALLIT(_OMC_LIT_STRUCT137_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT137,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3329)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3329)),MMC_IMMEDIATE(MMC_TAGFIXNUM(87)),_OMC_LIT137_6}};
#define _OMC_LIT137 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT137)
#define _OMC_LIT138_data "function HKDWDFSphase failed in phase "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT138,38,_OMC_LIT138_data);
#define _OMC_LIT138 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT138)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT139_6,1.758197185e9);
#define _OMC_LIT139_6 MMC_REFREALLIT(_OMC_LIT_STRUCT139_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT139,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3272)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3272)),MMC_IMMEDIATE(MMC_TAGFIXNUM(102)),_OMC_LIT139_6}};
#define _OMC_LIT139 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT139)
#define _OMC_LIT140_data "function HKDWDFS failed in phase "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT140,33,_OMC_LIT140_data);
#define _OMC_LIT140 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT140)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT141_6,1.758197185e9);
#define _OMC_LIT141_6 MMC_REFREALLIT(_OMC_LIT_STRUCT141_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT141,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3236)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3236)),MMC_IMMEDIATE(MMC_TAGFIXNUM(97)),_OMC_LIT141_6}};
#define _OMC_LIT141 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT141)
#define _OMC_LIT142_data "function HKDWphase failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT142,25,_OMC_LIT142_data);
#define _OMC_LIT142 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT142)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT143_6,1.758197185e9);
#define _OMC_LIT143_6 MMC_REFREALLIT(_OMC_LIT_STRUCT143_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT143,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3202)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(3202)),MMC_IMMEDIATE(MMC_TAGFIXNUM(74)),_OMC_LIT143_6}};
#define _OMC_LIT143 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT143)
#define _OMC_LIT144_data "- Matching.HKDW failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT144,23,_OMC_LIT144_data);
#define _OMC_LIT144 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT144)
#define _OMC_LIT145_data "function HKDFStraverseCollums failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT145,36,_OMC_LIT145_data);
#define _OMC_LIT145 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT145)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT146_6,1.758197185e9);
#define _OMC_LIT146_6 MMC_REFREALLIT(_OMC_LIT_STRUCT146_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT146,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2981)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2981)),MMC_IMMEDIATE(MMC_TAGFIXNUM(85)),_OMC_LIT146_6}};
#define _OMC_LIT146 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT146)
#define _OMC_LIT147_data "function HKDFSphase failed in phase "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT147,36,_OMC_LIT147_data);
#define _OMC_LIT147 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT147)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT148_6,1.758197185e9);
#define _OMC_LIT148_6 MMC_REFREALLIT(_OMC_LIT_STRUCT148_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT148,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2910)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2910)),MMC_IMMEDIATE(MMC_TAGFIXNUM(100)),_OMC_LIT148_6}};
#define _OMC_LIT148 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT148)
#define _OMC_LIT149_data "function HKDFS failed in phase "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT149,31,_OMC_LIT149_data);
#define _OMC_LIT149 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT149)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT150_6,1.758197185e9);
#define _OMC_LIT150_6 MMC_REFREALLIT(_OMC_LIT_STRUCT150_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT150,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2872)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2872)),MMC_IMMEDIATE(MMC_TAGFIXNUM(95)),_OMC_LIT150_6}};
#define _OMC_LIT150 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT150)
#define _OMC_LIT151_data "function HKBFStraverseRows failed in phase "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT151,43,_OMC_LIT151_data);
#define _OMC_LIT151 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT151)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT152_6,1.758197185e9);
#define _OMC_LIT152_6 MMC_REFREALLIT(_OMC_LIT_STRUCT152_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT152,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2832)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2832)),MMC_IMMEDIATE(MMC_TAGFIXNUM(107)),_OMC_LIT152_6}};
#define _OMC_LIT152 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT152)
#define _OMC_LIT153_data "function HKBFSBphase1 failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT153,28,_OMC_LIT153_data);
#define _OMC_LIT153 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT153)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT154_6,1.758197185e9);
#define _OMC_LIT154_6 MMC_REFREALLIT(_OMC_LIT_STRUCT154_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT154,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2773)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2773)),MMC_IMMEDIATE(MMC_TAGFIXNUM(77)),_OMC_LIT154_6}};
#define _OMC_LIT154 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT154)
#define _OMC_LIT155_data "function HKBFSBphase failed in phase "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT155,37,_OMC_LIT155_data);
#define _OMC_LIT155 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT155)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT156_6,1.758197185e9);
#define _OMC_LIT156_6 MMC_REFREALLIT(_OMC_LIT_STRUCT156_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT156,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2732)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2732)),MMC_IMMEDIATE(MMC_TAGFIXNUM(101)),_OMC_LIT156_6}};
#define _OMC_LIT156 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT156)
#define _OMC_LIT157_data "function HKBFS failed in phase "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT157,31,_OMC_LIT157_data);
#define _OMC_LIT157 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT157)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT158_6,1.758197185e9);
#define _OMC_LIT158_6 MMC_REFREALLIT(_OMC_LIT_STRUCT158_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT158,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2672)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2672)),MMC_IMMEDIATE(MMC_TAGFIXNUM(95)),_OMC_LIT158_6}};
#define _OMC_LIT158 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT158)
#define _OMC_LIT159_data "function HKphase failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT159,23,_OMC_LIT159_data);
#define _OMC_LIT159 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT159)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT160_6,1.758197185e9);
#define _OMC_LIT160_6 MMC_REFREALLIT(_OMC_LIT_STRUCT160_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT160,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2610)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2610)),MMC_IMMEDIATE(MMC_TAGFIXNUM(72)),_OMC_LIT160_6}};
#define _OMC_LIT160 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT160)
#define _OMC_LIT161_data "- Matching.HK failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT161,21,_OMC_LIT161_data);
#define _OMC_LIT161 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT161)
#define _OMC_LIT162_data "function PFPlustraverseRows failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT162,34,_OMC_LIT162_data);
#define _OMC_LIT162 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT162)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT163_6,1.758197185e9);
#define _OMC_LIT163_6 MMC_REFREALLIT(_OMC_LIT_STRUCT163_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT163,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2355)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2355)),MMC_IMMEDIATE(MMC_TAGFIXNUM(83)),_OMC_LIT163_6}};
#define _OMC_LIT163 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT163)
#define _OMC_LIT164_data "function PFPlusphase failed in equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT164,40,_OMC_LIT164_data);
#define _OMC_LIT164 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT164)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT165_6,1.758197185e9);
#define _OMC_LIT165_6 MMC_REFREALLIT(_OMC_LIT_STRUCT165_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT165,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2237)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2237)),MMC_IMMEDIATE(MMC_TAGFIXNUM(104)),_OMC_LIT165_6}};
#define _OMC_LIT165 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT165)
#define _OMC_LIT166_data "function PFPlusaugmentmatching failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT166,37,_OMC_LIT166_data);
#define _OMC_LIT166 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT166)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT167_6,1.758197185e9);
#define _OMC_LIT167_6 MMC_REFREALLIT(_OMC_LIT_STRUCT167_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT167,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2192)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2192)),MMC_IMMEDIATE(MMC_TAGFIXNUM(86)),_OMC_LIT167_6}};
#define _OMC_LIT167 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT167)
#define _OMC_LIT168_data "- Matching.PFPlus failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT168,25,_OMC_LIT168_data);
#define _OMC_LIT168 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT168)
#define _OMC_LIT169_data "function PFtraverseRows failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT169,30,_OMC_LIT169_data);
#define _OMC_LIT169 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT169)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT170_6,1.758197185e9);
#define _OMC_LIT170_6 MMC_REFREALLIT(_OMC_LIT_STRUCT170_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT170,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2000)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2000)),MMC_IMMEDIATE(MMC_TAGFIXNUM(79)),_OMC_LIT170_6}};
#define _OMC_LIT170 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT170)
#define _OMC_LIT171_data "function PFphase failed in equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT171,36,_OMC_LIT171_data);
#define _OMC_LIT171 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT171)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT172_6,1.758197185e9);
#define _OMC_LIT172_6 MMC_REFREALLIT(_OMC_LIT_STRUCT172_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT172,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1885)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1885)),MMC_IMMEDIATE(MMC_TAGFIXNUM(100)),_OMC_LIT172_6}};
#define _OMC_LIT172 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT172)
#define _OMC_LIT173_data "function PFaugmentmatching failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT173,33,_OMC_LIT173_data);
#define _OMC_LIT173 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT173)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT174_6,1.758197185e9);
#define _OMC_LIT174_6 MMC_REFREALLIT(_OMC_LIT_STRUCT174_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT174,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1848)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1848)),MMC_IMMEDIATE(MMC_TAGFIXNUM(82)),_OMC_LIT174_6}};
#define _OMC_LIT174 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT174)
#define _OMC_LIT175_data "- Matching.PF failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT175,21,_OMC_LIT175_data);
#define _OMC_LIT175 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT175)
#define _OMC_LIT176_data "function MC21AtraverseRows failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT176,33,_OMC_LIT176_data);
#define _OMC_LIT176 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT176)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT177_6,1.758197185e9);
#define _OMC_LIT177_6 MMC_REFREALLIT(_OMC_LIT_STRUCT177_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT177,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1596)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1596)),MMC_IMMEDIATE(MMC_TAGFIXNUM(82)),_OMC_LIT177_6}};
#define _OMC_LIT177 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT177)
#define _OMC_LIT178_data "function MC21Aphase failed in equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT178,39,_OMC_LIT178_data);
#define _OMC_LIT178 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT178)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT179_6,1.758197185e9);
#define _OMC_LIT179_6 MMC_REFREALLIT(_OMC_LIT_STRUCT179_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT179,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1480)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1480)),MMC_IMMEDIATE(MMC_TAGFIXNUM(103)),_OMC_LIT179_6}};
#define _OMC_LIT179 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT179)
#define _OMC_LIT180_data "function MC21A1fixArray failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT180,30,_OMC_LIT180_data);
#define _OMC_LIT180 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT180)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT181_6,1.758197185e9);
#define _OMC_LIT181_6 MMC_REFREALLIT(_OMC_LIT_STRUCT181_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT181,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1441)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1441)),MMC_IMMEDIATE(MMC_TAGFIXNUM(79)),_OMC_LIT181_6}};
#define _OMC_LIT181 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT181)
#define _OMC_LIT182_data "function MC21A1fixArrays failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT182,31,_OMC_LIT182_data);
#define _OMC_LIT182 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT182)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT183_6,1.758197185e9);
#define _OMC_LIT183_6 MMC_REFREALLIT(_OMC_LIT_STRUCT183_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT183,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1416)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1416)),MMC_IMMEDIATE(MMC_TAGFIXNUM(80)),_OMC_LIT183_6}};
#define _OMC_LIT183 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT183)
#define _OMC_LIT184_data "function MC21A1 failed in equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT184,35,_OMC_LIT184_data);
#define _OMC_LIT184 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT184)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT185_6,1.758197185e9);
#define _OMC_LIT185_6 MMC_REFREALLIT(_OMC_LIT_STRUCT185_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT185,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1382)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1382)),MMC_IMMEDIATE(MMC_TAGFIXNUM(99)),_OMC_LIT185_6}};
#define _OMC_LIT185 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT185)
#define _OMC_LIT186_data "- Matching.MC21A failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT186,24,_OMC_LIT186_data);
#define _OMC_LIT186 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT186)
#define _OMC_LIT187_data "function DFSBtraverseRows failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT187,32,_OMC_LIT187_data);
#define _OMC_LIT187 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT187)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT188_6,1.758197185e9);
#define _OMC_LIT188_6 MMC_REFREALLIT(_OMC_LIT_STRUCT188_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT188,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1206)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1206)),MMC_IMMEDIATE(MMC_TAGFIXNUM(81)),_OMC_LIT188_6}};
#define _OMC_LIT188 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT188)
#define _OMC_LIT189_data "function DFSBphase failed in equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT189,38,_OMC_LIT189_data);
#define _OMC_LIT189 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT189)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT190_6,1.758197185e9);
#define _OMC_LIT190_6 MMC_REFREALLIT(_OMC_LIT_STRUCT190_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT190,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1155)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1155)),MMC_IMMEDIATE(MMC_TAGFIXNUM(102)),_OMC_LIT190_6}};
#define _OMC_LIT190 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT190)
#define _OMC_LIT191_data "function DFSB1 failed in equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT191,34,_OMC_LIT191_data);
#define _OMC_LIT191 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT191)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT192_6,1.758197185e9);
#define _OMC_LIT192_6 MMC_REFREALLIT(_OMC_LIT_STRUCT192_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT192,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1118)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1118)),MMC_IMMEDIATE(MMC_TAGFIXNUM(98)),_OMC_LIT192_6}};
#define _OMC_LIT192 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT192)
#define _OMC_LIT193_data "- Matching.BFSB failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT193,23,_OMC_LIT193_data);
#define _OMC_LIT193 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT193)
#define _OMC_LIT194_data "function BFSBenque failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT194,25,_OMC_LIT194_data);
#define _OMC_LIT194 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT194)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT195_6,1.758197185e9);
#define _OMC_LIT195_6 MMC_REFREALLIT(_OMC_LIT_STRUCT195_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT195,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(987)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(987)),MMC_IMMEDIATE(MMC_TAGFIXNUM(74)),_OMC_LIT195_6}};
#define _OMC_LIT195 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT195)
#define _OMC_LIT196_data "function BFSBreasign failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT196,27,_OMC_LIT196_data);
#define _OMC_LIT196 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT196)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT197_6,1.758197185e9);
#define _OMC_LIT197_6 MMC_REFREALLIT(_OMC_LIT_STRUCT197_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT197,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(955)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(955)),MMC_IMMEDIATE(MMC_TAGFIXNUM(76)),_OMC_LIT197_6}};
#define _OMC_LIT197 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT197)
#define _OMC_LIT198_data "function BFSBtraverseRows failed in equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT198,45,_OMC_LIT198_data);
#define _OMC_LIT198 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT198)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT199_6,1.758197185e9);
#define _OMC_LIT199_6 MMC_REFREALLIT(_OMC_LIT_STRUCT199_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT199,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(917)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(917)),MMC_IMMEDIATE(MMC_TAGFIXNUM(109)),_OMC_LIT199_6}};
#define _OMC_LIT199 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT199)
#define _OMC_LIT200_data "function BFSBphase1 failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT200,26,_OMC_LIT200_data);
#define _OMC_LIT200 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT200)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT201_6,1.758197185e9);
#define _OMC_LIT201_6 MMC_REFREALLIT(_OMC_LIT_STRUCT201_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT201,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(867)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(867)),MMC_IMMEDIATE(MMC_TAGFIXNUM(75)),_OMC_LIT201_6}};
#define _OMC_LIT201 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT201)
#define _OMC_LIT202_data "function BFSBphase failed in equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT202,38,_OMC_LIT202_data);
#define _OMC_LIT202 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT202)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT203_6,1.758197185e9);
#define _OMC_LIT203_6 MMC_REFREALLIT(_OMC_LIT_STRUCT203_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT203,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(833)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(833)),MMC_IMMEDIATE(MMC_TAGFIXNUM(102)),_OMC_LIT203_6}};
#define _OMC_LIT203 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT203)
#define _OMC_LIT204_data "function BFSB1 failed in equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT204,34,_OMC_LIT204_data);
#define _OMC_LIT204 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT204)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT205_6,1.758197185e9);
#define _OMC_LIT205_6 MMC_REFREALLIT(_OMC_LIT_STRUCT205_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT205,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(788)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(788)),MMC_IMMEDIATE(MMC_TAGFIXNUM(98)),_OMC_LIT205_6}};
#define _OMC_LIT205 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT205)
#define _OMC_LIT206_data "- Matching.DFSLH failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT206,24,_OMC_LIT206_data);
#define _OMC_LIT206 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT206)
#define _OMC_LIT207_data "\nSingular System!!!\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT207,20,_OMC_LIT207_data);
#define _OMC_LIT207 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT207)
#include "util/modelica.h"

#include "Matching_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC void omc_Matching_clearArrayWithKnownSetIndexes(threadData_t *threadData, modelica_metatype _arr, modelica_metatype _arrIx, modelica_integer _n);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_clearArrayWithKnownSetIndexes(threadData_t *threadData, modelica_metatype _arr, modelica_metatype _arrIx, modelica_metatype _n);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_clearArrayWithKnownSetIndexes,2,0) {(void*) boxptr_Matching_clearArrayWithKnownSetIndexes,0}};
#define boxvar_Matching_clearArrayWithKnownSetIndexes MMC_REFSTRUCTLIT(boxvar_lit_Matching_clearArrayWithKnownSetIndexes)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getAssignedVars(threadData_t *threadData, modelica_integer _e, modelica_metatype _ass, modelica_metatype _iAcc);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getAssignedVars(threadData_t *threadData, modelica_metatype _e, modelica_metatype _ass, modelica_metatype _iAcc);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_getAssignedVars,2,0) {(void*) boxptr_Matching_getAssignedVars,0}};
#define boxvar_Matching_getAssignedVars MMC_REFSTRUCTLIT(boxvar_lit_Matching_getAssignedVars)
PROTECTED_FUNCTION_STATIC void omc_Matching_singularSystemError(threadData_t *threadData, modelica_metatype _eqns, modelica_integer _actualEqn, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inAssignments1, modelica_metatype _inAssignments2, modelica_metatype _inArg);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_singularSystemError(threadData_t *threadData, modelica_metatype _eqns, modelica_metatype _actualEqn, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inAssignments1, modelica_metatype _inAssignments2, modelica_metatype _inArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_singularSystemError,2,0) {(void*) boxptr_Matching_singularSystemError,0}};
#define boxvar_Matching_singularSystemError MMC_REFSTRUCTLIT(boxvar_lit_Matching_singularSystemError)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_randSortSystem1(threadData_t *threadData, modelica_integer _index, modelica_integer _offset, modelica_metatype _randarr, modelica_metatype _oldTypeA, modelica_metatype _newTypeA, modelica_fnptr _get, modelica_fnptr _set);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_randSortSystem1(threadData_t *threadData, modelica_metatype _index, modelica_metatype _offset, modelica_metatype _randarr, modelica_metatype _oldTypeA, modelica_metatype _newTypeA, modelica_fnptr _get, modelica_fnptr _set);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_randSortSystem1,2,0) {(void*) boxptr_Matching_randSortSystem1,0}};
#define boxvar_Matching_randSortSystem1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_randSortSystem1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_randSortSystem(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_randSortSystem,2,0) {(void*) boxptr_Matching_randSortSystem,0}};
#define boxvar_Matching_randSortSystem MMC_REFSTRUCTLIT(boxvar_lit_Matching_randSortSystem)
PROTECTED_FUNCTION_STATIC void omc_Matching_testMatchingAlgorithm(threadData_t *threadData, modelica_integer _index, modelica_fnptr _matchingAlgorithm, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_testMatchingAlgorithm(threadData_t *threadData, modelica_metatype _index, modelica_fnptr _matchingAlgorithm, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_testMatchingAlgorithm,2,0) {(void*) boxptr_Matching_testMatchingAlgorithm,0}};
#define boxvar_Matching_testMatchingAlgorithm MMC_REFSTRUCTLIT(boxvar_lit_Matching_testMatchingAlgorithm)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getAssignment(threadData_t *threadData, modelica_boolean _clearMatching, modelica_integer _nVars, modelica_integer _nEqns, modelica_metatype _iSyst, modelica_metatype *out_ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getAssignment(threadData_t *threadData, modelica_metatype _clearMatching, modelica_metatype _nVars, modelica_metatype _nEqns, modelica_metatype _iSyst, modelica_metatype *out_ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_getAssignment,2,0) {(void*) boxptr_Matching_getAssignment,0}};
#define boxvar_Matching_getAssignment MMC_REFSTRUCTLIT(boxvar_lit_Matching_getAssignment)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_checkAssignment(threadData_t *threadData, modelica_integer _indx, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnassigned);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_checkAssignment(threadData_t *threadData, modelica_metatype _indx, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnassigned);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_checkAssignment,2,0) {(void*) boxptr_Matching_checkAssignment,0}};
#define boxvar_Matching_checkAssignment MMC_REFSTRUCTLIT(boxvar_lit_Matching_checkAssignment)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_assignmentsArrayBooleanExpand(threadData_t *threadData, modelica_metatype _ass, modelica_integer _needed, modelica_integer _memsize, modelica_boolean _default);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_assignmentsArrayBooleanExpand(threadData_t *threadData, modelica_metatype _ass, modelica_metatype _needed, modelica_metatype _memsize, modelica_metatype _default);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_assignmentsArrayBooleanExpand,2,0) {(void*) boxptr_Matching_assignmentsArrayBooleanExpand,0}};
#define boxvar_Matching_assignmentsArrayBooleanExpand MMC_REFSTRUCTLIT(boxvar_lit_Matching_assignmentsArrayBooleanExpand)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_assignmentsArrayExpand(threadData_t *threadData, modelica_metatype _ass, modelica_integer _needed, modelica_integer _memsize, modelica_integer _default);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_assignmentsArrayExpand(threadData_t *threadData, modelica_metatype _ass, modelica_metatype _needed, modelica_metatype _memsize, modelica_metatype _default);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_assignmentsArrayExpand,2,0) {(void*) boxptr_Matching_assignmentsArrayExpand,0}};
#define boxvar_Matching_assignmentsArrayExpand MMC_REFSTRUCTLIT(boxvar_lit_Matching_assignmentsArrayExpand)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_reduceIndexifNecessary(threadData_t *threadData, modelica_metatype _meqns, modelica_integer _actualEqn, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_integer *out_continueEqn, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_integer *out_nvars, modelica_integer *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_reduceIndexifNecessary(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _actualEqn, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_continueEqn, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_nvars, modelica_metatype *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_reduceIndexifNecessary,2,0) {(void*) boxptr_Matching_reduceIndexifNecessary,0}};
#define boxvar_Matching_reduceIndexifNecessary MMC_REFSTRUCTLIT(boxvar_lit_Matching_reduceIndexifNecessary)
PROTECTED_FUNCTION_STATIC void omc_Matching_mergeSubsets(threadData_t *threadData, modelica_integer _mark, modelica_integer _markColum, modelica_metatype _inSubsets, modelica_metatype _colummarks);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_mergeSubsets(threadData_t *threadData, modelica_metatype _mark, modelica_metatype _markColum, modelica_metatype _inSubsets, modelica_metatype _colummarks);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_mergeSubsets,2,0) {(void*) boxptr_Matching_mergeSubsets,0}};
#define boxvar_Matching_mergeSubsets MMC_REFSTRUCTLIT(boxvar_lit_Matching_mergeSubsets)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getEqnsforIndexReductiontraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _nextColums, modelica_metatype _m, modelica_metatype _mT, modelica_integer _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets, modelica_metatype _inEqns);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getEqnsforIndexReductiontraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _nextColums, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets, modelica_metatype _inEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_getEqnsforIndexReductiontraverseRows,2,0) {(void*) boxptr_Matching_getEqnsforIndexReductiontraverseRows,0}};
#define boxvar_Matching_getEqnsforIndexReductiontraverseRows MMC_REFSTRUCTLIT(boxvar_lit_Matching_getEqnsforIndexReductiontraverseRows)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getEqnsforIndexReductionphase(threadData_t *threadData, modelica_metatype _elst, modelica_metatype _m, modelica_metatype _mT, modelica_integer _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets, modelica_metatype _inEqns);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getEqnsforIndexReductionphase(threadData_t *threadData, modelica_metatype _elst, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets, modelica_metatype _inEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_getEqnsforIndexReductionphase,2,0) {(void*) boxptr_Matching_getEqnsforIndexReductionphase,0}};
#define boxvar_Matching_getEqnsforIndexReductionphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_getEqnsforIndexReductionphase)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getEqnsforIndexReduction1(threadData_t *threadData, modelica_metatype _U, modelica_metatype _m, modelica_metatype _mT, modelica_integer _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getEqnsforIndexReduction1(threadData_t *threadData, modelica_metatype _U, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_getEqnsforIndexReduction1,2,0) {(void*) boxptr_Matching_getEqnsforIndexReduction1,0}};
#define boxvar_Matching_getEqnsforIndexReduction1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_getEqnsforIndexReduction1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_appendNonEmpty(threadData_t *threadData, modelica_metatype _eqns, modelica_metatype _iAcc);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_appendNonEmpty,2,0) {(void*) boxptr_Matching_appendNonEmpty,0}};
#define boxvar_Matching_appendNonEmpty MMC_REFSTRUCTLIT(boxvar_lit_Matching_appendNonEmpty)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_removeEmptySubsets(threadData_t *threadData, modelica_integer _index, modelica_integer _length, modelica_metatype _subsets, modelica_metatype _iAcc);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_removeEmptySubsets(threadData_t *threadData, modelica_metatype _index, modelica_metatype _length, modelica_metatype _subsets, modelica_metatype _iAcc);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_removeEmptySubsets,2,0) {(void*) boxptr_Matching_removeEmptySubsets,0}};
#define boxvar_Matching_removeEmptySubsets MMC_REFSTRUCTLIT(boxvar_lit_Matching_removeEmptySubsets)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_countadjacencyMatrixEntries(threadData_t *threadData, modelica_integer _n, modelica_metatype _m);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_countadjacencyMatrixEntries(threadData_t *threadData, modelica_metatype _n, modelica_metatype _m);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_countadjacencyMatrixEntries,2,0) {(void*) boxptr_Matching_countadjacencyMatrixEntries,0}};
#define boxvar_Matching_countadjacencyMatrixEntries MMC_REFSTRUCTLIT(boxvar_lit_Matching_countadjacencyMatrixEntries)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_removeEdgesForNoDerivativeFunctionInputs(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _sys, modelica_metatype _shared, modelica_metatype *out_mtOut);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_removeEdgesForNoDerivativeFunctionInputs,2,0) {(void*) boxptr_Matching_removeEdgesForNoDerivativeFunctionInputs,0}};
#define boxvar_Matching_removeEdgesForNoDerivativeFunctionInputs MMC_REFSTRUCTLIT(boxvar_lit_Matching_removeEdgesForNoDerivativeFunctionInputs)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_removeEdgesToDiscreteEquations(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _sys, modelica_metatype _shared, modelica_metatype *out_mtOut);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_removeEdgesToDiscreteEquations,2,0) {(void*) boxptr_Matching_removeEdgesToDiscreteEquations,0}};
#define boxvar_Matching_removeEdgesToDiscreteEquations MMC_REFSTRUCTLIT(boxvar_lit_Matching_removeEdgesToDiscreteEquations)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_sanityCheckArtificialStates(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsyst, modelica_metatype _shared, modelica_integer _nv, modelica_integer _ne, modelica_metatype __omcQ_24in_5Feqns, modelica_metatype __omcQ_24in_5Fass1, modelica_metatype __omcQ_24in_5Fass2, modelica_integer _algIndx, modelica_integer _cheapMatching, modelica_integer _clearMatching, modelica_metatype _arg, modelica_metatype *out_eqns, modelica_metatype *out_ass1, modelica_metatype *out_ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_sanityCheckArtificialStates(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsyst, modelica_metatype _shared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype __omcQ_24in_5Feqns, modelica_metatype __omcQ_24in_5Fass1, modelica_metatype __omcQ_24in_5Fass2, modelica_metatype _algIndx, modelica_metatype _cheapMatching, modelica_metatype _clearMatching, modelica_metatype _arg, modelica_metatype *out_eqns, modelica_metatype *out_ass1, modelica_metatype *out_ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_sanityCheckArtificialStates,2,0) {(void*) boxptr_Matching_sanityCheckArtificialStates,0}};
#define boxvar_Matching_sanityCheckArtificialStates MMC_REFSTRUCTLIT(boxvar_lit_Matching_sanityCheckArtificialStates)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_matchingExternal(threadData_t *threadData, modelica_metatype _meqns, modelica_boolean _internalCall, modelica_integer _algIndx, modelica_integer _cheapMatching, modelica_integer _clearMatching, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_matchingExternal(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _internalCall, modelica_metatype _algIndx, modelica_metatype _cheapMatching, modelica_metatype _clearMatching, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_matchingExternal,2,0) {(void*) boxptr_Matching_matchingExternal,0}};
#define boxvar_Matching_matchingExternal MMC_REFSTRUCTLIT(boxvar_lit_Matching_matchingExternal)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__match__degree(threadData_t *threadData, modelica_metatype _entries, modelica_metatype _degrees, modelica_metatype _ass, modelica_metatype _inStack);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ks__rand__match__degree,2,0) {(void*) boxptr_Matching_ks__rand__match__degree,0}};
#define boxvar_Matching_ks__rand__match__degree MMC_REFSTRUCTLIT(boxvar_lit_Matching_ks__rand__match__degree)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__match1(threadData_t *threadData, modelica_integer _i, modelica_metatype _entries, modelica_metatype _stack, modelica_metatype _degrees1, modelica_metatype _degrees2, modelica_metatype _adjacency, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ks__rand__match1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _entries, modelica_metatype _stack, modelica_metatype _degrees1, modelica_metatype _degrees2, modelica_metatype _adjacency, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ks__rand__match1,2,0) {(void*) boxptr_Matching_ks__rand__match1,0}};
#define boxvar_Matching_ks__rand__match1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ks__rand__match1)
PROTECTED_FUNCTION_STATIC void omc_Matching_ks__rand__match(threadData_t *threadData, modelica_metatype _stack1, modelica_metatype _stack2, modelica_metatype _degrees1, modelica_metatype _degrees2, modelica_metatype _m1, modelica_metatype _m2, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ks__rand__match,2,0) {(void*) boxptr_Matching_ks__rand__match,0}};
#define boxvar_Matching_ks__rand__match MMC_REFSTRUCTLIT(boxvar_lit_Matching_ks__rand__match)
PROTECTED_FUNCTION_STATIC void omc_Matching_setrandArray(threadData_t *threadData, modelica_integer _n, modelica_metatype _randarr);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_setrandArray(threadData_t *threadData, modelica_metatype _n, modelica_metatype _randarr);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_setrandArray,2,0) {(void*) boxptr_Matching_setrandArray,0}};
#define boxvar_Matching_setrandArray MMC_REFSTRUCTLIT(boxvar_lit_Matching_setrandArray)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getOneRows(threadData_t *threadData, modelica_integer _n, modelica_metatype _m, modelica_metatype _degrees, modelica_metatype _inOneRows);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getOneRows(threadData_t *threadData, modelica_metatype _n, modelica_metatype _m, modelica_metatype _degrees, modelica_metatype _inOneRows);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_getOneRows,2,0) {(void*) boxptr_Matching_getOneRows,0}};
#define boxvar_Matching_getOneRows MMC_REFSTRUCTLIT(boxvar_lit_Matching_getOneRows)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__cheapmatching4(threadData_t *threadData, modelica_metatype _cols, modelica_integer _count, modelica_metatype _col_degrees, modelica_metatype _ass1, modelica_metatype _inStack);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ks__rand__cheapmatching4(threadData_t *threadData, modelica_metatype _cols, modelica_metatype _count, modelica_metatype _col_degrees, modelica_metatype _ass1, modelica_metatype _inStack);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ks__rand__cheapmatching4,2,0) {(void*) boxptr_Matching_ks__rand__cheapmatching4,0}};
#define boxvar_Matching_ks__rand__cheapmatching4 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ks__rand__cheapmatching4)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__cheapmatching3(threadData_t *threadData, modelica_integer _e_id, modelica_metatype _rows, modelica_metatype _row_degrees, modelica_integer _c, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _onerows, modelica_integer _inR, modelica_integer *out_outR);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ks__rand__cheapmatching3(threadData_t *threadData, modelica_metatype _e_id, modelica_metatype _rows, modelica_metatype _row_degrees, modelica_metatype _c, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _onerows, modelica_metatype _inR, modelica_metatype *out_outR);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ks__rand__cheapmatching3,2,0) {(void*) boxptr_Matching_ks__rand__cheapmatching3,0}};
#define boxvar_Matching_ks__rand__cheapmatching3 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ks__rand__cheapmatching3)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__cheapmatching2(threadData_t *threadData, modelica_boolean _b, modelica_integer _c, modelica_metatype _col_degrees, modelica_metatype _row_degrees, modelica_metatype _randarr, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_onerows);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ks__rand__cheapmatching2(threadData_t *threadData, modelica_metatype _b, modelica_metatype _c, modelica_metatype _col_degrees, modelica_metatype _row_degrees, modelica_metatype _randarr, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_onerows);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ks__rand__cheapmatching2,2,0) {(void*) boxptr_Matching_ks__rand__cheapmatching2,0}};
#define boxvar_Matching_ks__rand__cheapmatching2 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ks__rand__cheapmatching2)
PROTECTED_FUNCTION_STATIC void omc_Matching_ks__rand__cheapmatching1(threadData_t *threadData, modelica_integer _i, modelica_integer _ne, modelica_metatype _onecolums, modelica_metatype _onerows, modelica_metatype _col_degrees, modelica_metatype _row_degrees, modelica_metatype _randarr, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_ks__rand__cheapmatching1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _ne, modelica_metatype _onecolums, modelica_metatype _onerows, modelica_metatype _col_degrees, modelica_metatype _row_degrees, modelica_metatype _randarr, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ks__rand__cheapmatching1,2,0) {(void*) boxptr_Matching_ks__rand__cheapmatching1,0}};
#define boxvar_Matching_ks__rand__cheapmatching1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ks__rand__cheapmatching1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__cheapmatching(threadData_t *threadData, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ks__rand__cheapmatching(threadData_t *threadData, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ks__rand__cheapmatching,2,0) {(void*) boxptr_Matching_ks__rand__cheapmatching,0}};
#define boxvar_Matching_ks__rand__cheapmatching MMC_REFSTRUCTLIT(boxvar_lit_Matching_ks__rand__cheapmatching)
PROTECTED_FUNCTION_STATIC void omc_Matching_cheapmatching1(threadData_t *threadData, modelica_metatype _rows, modelica_integer _c, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_cheapmatching1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _c, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_cheapmatching1,2,0) {(void*) boxptr_Matching_cheapmatching1,0}};
#define boxvar_Matching_cheapmatching1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_cheapmatching1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_cheapmatching(threadData_t *threadData, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnMatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_cheapmatching(threadData_t *threadData, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_cheapmatching,2,0) {(void*) boxptr_Matching_cheapmatching,0}};
#define boxvar_Matching_cheapmatching MMC_REFSTRUCTLIT(boxvar_lit_Matching_cheapmatching)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_cheapmatchingalgorithm1(threadData_t *threadData, modelica_integer _algorithmid, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _intRangeUsed);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_cheapmatchingalgorithm1(threadData_t *threadData, modelica_metatype _algorithmid, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _intRangeUsed);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_cheapmatchingalgorithm1,2,0) {(void*) boxptr_Matching_cheapmatchingalgorithm1,0}};
#define boxvar_Matching_cheapmatchingalgorithm1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_cheapmatchingalgorithm1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_cheapmatchingalgorithm(threadData_t *threadData, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _intRangeUsed);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_cheapmatchingalgorithm(threadData_t *threadData, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _intRangeUsed);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_cheapmatchingalgorithm,2,0) {(void*) boxptr_Matching_cheapmatchingalgorithm,0}};
#define boxvar_Matching_cheapmatchingalgorithm MMC_REFSTRUCTLIT(boxvar_lit_Matching_cheapmatchingalgorithm)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PR__FIFO__FAIRrelabel(threadData_t *threadData, modelica_integer _max_vertex, modelica_integer _min_vertex, modelica_integer _min_label, modelica_integer _max, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inQueue);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIRrelabel(threadData_t *threadData, modelica_metatype _max_vertex, modelica_metatype _min_vertex, modelica_metatype _min_label, modelica_metatype _max, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inQueue);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIRrelabel,2,0) {(void*) boxptr_Matching_PR__FIFO__FAIRrelabel,0}};
#define boxvar_Matching_PR__FIFO__FAIRrelabel MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIRrelabel)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PR__FIFO__FAIRphase__traverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_integer _relabels, modelica_integer _max_vertex, modelica_integer _min_vertex, modelica_integer _min_label, modelica_integer _max, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer *out_outMinLabels, modelica_integer *out_outMinVertex);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIRphase__traverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _relabels, modelica_metatype _max_vertex, modelica_metatype _min_vertex, modelica_metatype _min_label, modelica_metatype _max, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outMinLabels, modelica_metatype *out_outMinVertex);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIRphase__traverseRows,2,0) {(void*) boxptr_Matching_PR__FIFO__FAIRphase__traverseRows,0}};
#define boxvar_Matching_PR__FIFO__FAIRphase__traverseRows MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIRphase__traverseRows)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PR__FIFO__FAIRphase2(threadData_t *threadData, modelica_boolean _b, modelica_integer _relabels, modelica_integer _max_vertex, modelica_integer _min_vertec, modelica_integer _min_label, modelica_integer _max, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer *out_outMinLabels, modelica_integer *out_outMinVertex);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIRphase2(threadData_t *threadData, modelica_metatype _b, modelica_metatype _relabels, modelica_metatype _max_vertex, modelica_metatype _min_vertec, modelica_metatype _min_label, modelica_metatype _max, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outMinLabels, modelica_metatype *out_outMinVertex);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIRphase2,2,0) {(void*) boxptr_Matching_PR__FIFO__FAIRphase2,0}};
#define boxvar_Matching_PR__FIFO__FAIRphase2 MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIRphase2)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PR__FIFO__FAIRphase1(threadData_t *threadData, modelica_boolean _b, modelica_integer _relabels, modelica_integer _max_vertex, modelica_integer _min_vertec, modelica_integer _min_label, modelica_integer _max, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer *out_outMinLabels, modelica_integer *out_outMinVertex);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIRphase1(threadData_t *threadData, modelica_metatype _b, modelica_metatype _relabels, modelica_metatype _max_vertex, modelica_metatype _min_vertec, modelica_metatype _min_label, modelica_metatype _max, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outMinLabels, modelica_metatype *out_outMinVertex);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIRphase1,2,0) {(void*) boxptr_Matching_PR__FIFO__FAIRphase1,0}};
#define boxvar_Matching_PR__FIFO__FAIRphase1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIRphase1)
PROTECTED_FUNCTION_STATIC void omc_Matching_PR__FIFO__FAIRphase(threadData_t *threadData, modelica_integer _relabels, modelica_metatype _U, modelica_integer _max, modelica_integer _min_vertex, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_PR__FIFO__FAIRphase(threadData_t *threadData, modelica_metatype _relabels, modelica_metatype _U, modelica_metatype _max, modelica_metatype _min_vertex, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIRphase,2,0) {(void*) boxptr_Matching_PR__FIFO__FAIRphase,0}};
#define boxvar_Matching_PR__FIFO__FAIRphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIRphase)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PR__Global__Relabel__traverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_integer _max, modelica_integer _r, modelica_metatype _l_label, modelica_metatype _r_label, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__Global__Relabel__traverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _max, modelica_metatype _r, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__Global__Relabel__traverseCollums,2,0) {(void*) boxptr_Matching_PR__Global__Relabel__traverseCollums,0}};
#define boxvar_Matching_PR__Global__Relabel__traverseCollums MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__Global__Relabel__traverseCollums)
PROTECTED_FUNCTION_STATIC void omc_Matching_PR__Global__Relabel1(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _l_label, modelica_metatype _r_label, modelica_integer _max, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_PR__Global__Relabel1(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _max, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__Global__Relabel1,2,0) {(void*) boxptr_Matching_PR__Global__Relabel1,0}};
#define boxvar_Matching_PR__Global__Relabel1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__Global__Relabel1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PR__Global__Relabel__init__r__label(threadData_t *threadData, modelica_integer _i, modelica_integer _nv, modelica_integer _max, modelica_metatype _r_label, modelica_metatype _ass2, modelica_metatype _inQueue);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__Global__Relabel__init__r__label(threadData_t *threadData, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _max, modelica_metatype _r_label, modelica_metatype _ass2, modelica_metatype _inQueue);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__Global__Relabel__init__r__label,2,0) {(void*) boxptr_Matching_PR__Global__Relabel__init__r__label,0}};
#define boxvar_Matching_PR__Global__Relabel__init__r__label MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__Global__Relabel__init__r__label)
PROTECTED_FUNCTION_STATIC void omc_Matching_PR__Global__Relabel__init__l__label(threadData_t *threadData, modelica_integer _i, modelica_integer _ne, modelica_integer _max, modelica_metatype _l_label);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_PR__Global__Relabel__init__l__label(threadData_t *threadData, modelica_metatype _i, modelica_metatype _ne, modelica_metatype _max, modelica_metatype _l_label);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__Global__Relabel__init__l__label,2,0) {(void*) boxptr_Matching_PR__Global__Relabel__init__l__label,0}};
#define boxvar_Matching_PR__Global__Relabel__init__l__label MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__Global__Relabel__init__l__label)
PROTECTED_FUNCTION_STATIC void omc_Matching_PR__Global__Relabel(threadData_t *threadData, modelica_metatype _l_label, modelica_metatype _r_label, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_PR__Global__Relabel(threadData_t *threadData, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__Global__Relabel,2,0) {(void*) boxptr_Matching_PR__Global__Relabel,0}};
#define boxvar_Matching_PR__Global__Relabel MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__Global__Relabel)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PR__FIFO__FAIR2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outl_label, modelica_metatype *out_outr_label, modelica_integer *out_nvars, modelica_integer *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIR2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outl_label, modelica_metatype *out_outr_label, modelica_metatype *out_nvars, modelica_metatype *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIR2,2,0) {(void*) boxptr_Matching_PR__FIFO__FAIR2,0}};
#define boxvar_Matching_PR__FIFO__FAIR2 MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIR2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PR__FIFO__FAIR1(threadData_t *threadData, modelica_metatype _unmatched, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIR1(threadData_t *threadData, modelica_metatype _unmatched, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIR1,2,0) {(void*) boxptr_Matching_PR__FIFO__FAIR1,0}};
#define boxvar_Matching_PR__FIFO__FAIR1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_PR__FIFO__FAIR1)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_ABMPDFStraverseCollums1(threadData_t *threadData, modelica_boolean _inMatched, modelica_integer _counter, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _r, modelica_integer _i, modelica_integer _desL, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean *out_matched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPDFStraverseCollums1(threadData_t *threadData, modelica_metatype _inMatched, modelica_metatype _counter, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _r, modelica_metatype _i, modelica_metatype _desL, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_matched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMPDFStraverseCollums1,2,0) {(void*) boxptr_Matching_ABMPDFStraverseCollums1,0}};
#define boxvar_Matching_ABMPDFStraverseCollums1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMPDFStraverseCollums1)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_ABMPDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_integer _counter, modelica_metatype _stack, modelica_integer _r, modelica_integer _i, modelica_integer _desL, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean *out_matched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _counter, modelica_metatype _stack, modelica_metatype _r, modelica_metatype _i, modelica_metatype _desL, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_matched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMPDFStraverseCollums,2,0) {(void*) boxptr_Matching_ABMPDFStraverseCollums,0}};
#define boxvar_Matching_ABMPDFStraverseCollums MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMPDFStraverseCollums)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_ABMPDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _r, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean *out_matched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _r, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_matched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMPDFSphase,2,0) {(void*) boxptr_Matching_ABMPDFSphase,0}};
#define boxvar_Matching_ABMPDFSphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMPDFSphase)
PROTECTED_FUNCTION_STATIC void omc_Matching_ABMPDFS1(threadData_t *threadData, modelica_boolean _inMatched, modelica_integer _r, modelica_metatype _unmatchedRows, modelica_metatype _unMatched, modelica_integer _i, modelica_integer _L, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_ABMPDFS1(threadData_t *threadData, modelica_metatype _inMatched, modelica_metatype _r, modelica_metatype _unmatchedRows, modelica_metatype _unMatched, modelica_metatype _i, modelica_metatype _L, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMPDFS1,2,0) {(void*) boxptr_Matching_ABMPDFS1,0}};
#define boxvar_Matching_ABMPDFS1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMPDFS1)
PROTECTED_FUNCTION_STATIC void omc_Matching_ABMPDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_integer _i, modelica_integer _L, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _unMatched);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_ABMPDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_metatype _i, modelica_metatype _L, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _unMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMPDFS,2,0) {(void*) boxptr_Matching_ABMPDFS,0}};
#define boxvar_Matching_ABMPDFS MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMPDFS)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPBFStraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_integer _i, modelica_integer _L, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _queue, modelica_metatype _unMatched, modelica_metatype *out_outUnmatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPBFStraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _i, modelica_metatype _L, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _queue, modelica_metatype _unMatched, modelica_metatype *out_outUnmatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMPBFStraverseRows,2,0) {(void*) boxptr_Matching_ABMPBFStraverseRows,0}};
#define boxvar_Matching_ABMPBFStraverseRows MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMPBFStraverseRows)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPBFSphase1(threadData_t *threadData, modelica_boolean _inStop, modelica_metatype _queue, modelica_integer _i, modelica_integer _L, modelica_integer _lim, modelica_integer _lim1, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue, modelica_metatype _unMatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPBFSphase1(threadData_t *threadData, modelica_metatype _inStop, modelica_metatype _queue, modelica_metatype _i, modelica_metatype _L, modelica_metatype _lim, modelica_metatype _lim1, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue, modelica_metatype _unMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMPBFSphase1,2,0) {(void*) boxptr_Matching_ABMPBFSphase1,0}};
#define boxvar_Matching_ABMPBFSphase1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMPBFSphase1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPBFSphase(threadData_t *threadData, modelica_metatype _queue, modelica_integer _i, modelica_integer _L, modelica_integer _lim, modelica_integer _lim1, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue, modelica_metatype _unMatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPBFSphase(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _i, modelica_metatype _L, modelica_metatype _lim, modelica_metatype _lim1, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue, modelica_metatype _unMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMPBFSphase,2,0) {(void*) boxptr_Matching_ABMPBFSphase,0}};
#define boxvar_Matching_ABMPBFSphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMPBFSphase)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPphase2(threadData_t *threadData, modelica_metatype _U, modelica_integer _i, modelica_integer _L, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_integer _lim, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPphase2(threadData_t *threadData, modelica_metatype _U, modelica_metatype _i, modelica_metatype _L, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _lim, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMPphase2,2,0) {(void*) boxptr_Matching_ABMPphase2,0}};
#define boxvar_Matching_ABMPphase2 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMPphase2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPphase1(threadData_t *threadData, modelica_metatype _U, modelica_metatype _unmatchedRows, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_integer _lim, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPphase1(threadData_t *threadData, modelica_metatype _U, modelica_metatype _unmatchedRows, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _lim, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMPphase1,2,0) {(void*) boxptr_Matching_ABMPphase1,0}};
#define boxvar_Matching_ABMPphase1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMPphase1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPphase(threadData_t *threadData, modelica_metatype _U, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_integer _lim, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPphase(threadData_t *threadData, modelica_metatype _U, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _lim, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMPphase,2,0) {(void*) boxptr_Matching_ABMPphase,0}};
#define boxvar_Matching_ABMPphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMPphase)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMP2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _rlevel, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outcollummarks, modelica_metatype *out_outlevel, modelica_metatype *out_outrlevel, modelica_integer *out_nvars, modelica_integer *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMP2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _rlevel, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outcollummarks, modelica_metatype *out_outlevel, modelica_metatype *out_outrlevel, modelica_metatype *out_nvars, modelica_metatype *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMP2,2,0) {(void*) boxptr_Matching_ABMP2,0}};
#define boxvar_Matching_ABMP2 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMP2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMP1(threadData_t *threadData, modelica_integer _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _rlevel, modelica_metatype _colptrs, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMP1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _rlevel, modelica_metatype _colptrs, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_ABMP1,2,0) {(void*) boxptr_Matching_ABMP1,0}};
#define boxvar_Matching_ABMP1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_ABMP1)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDWDFStraverseCollums1(threadData_t *threadData, modelica_boolean _inMatched, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDWDFStraverseCollums1(threadData_t *threadData, modelica_metatype _inMatched, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKDWDFStraverseCollums1,2,0) {(void*) boxptr_Matching_HKDWDFStraverseCollums1,0}};
#define boxvar_Matching_HKDWDFStraverseCollums1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKDWDFStraverseCollums1)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDWDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDWDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKDWDFStraverseCollums,2,0) {(void*) boxptr_Matching_HKDWDFStraverseCollums,0}};
#define boxvar_Matching_HKDWDFStraverseCollums MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKDWDFStraverseCollums)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDWDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _r, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDWDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _r, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKDWDFSphase,2,0) {(void*) boxptr_Matching_HKDWDFSphase,0}};
#define boxvar_Matching_HKDWDFSphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKDWDFSphase)
PROTECTED_FUNCTION_STATIC void omc_Matching_HKDWDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_HKDWDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKDWDFS,2,0) {(void*) boxptr_Matching_HKDWDFS,0}};
#define boxvar_Matching_HKDWDFS MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKDWDFS)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_HKDWphase(threadData_t *threadData, modelica_integer _i, modelica_metatype _U, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outunMatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDWphase(threadData_t *threadData, modelica_metatype _i, modelica_metatype _U, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outunMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKDWphase,2,0) {(void*) boxptr_Matching_HKDWphase,0}};
#define boxvar_Matching_HKDWphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKDWphase)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKDW1(threadData_t *threadData, modelica_integer _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDW1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKDW1,2,0) {(void*) boxptr_Matching_HKDW1,0}};
#define boxvar_Matching_HKDW1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKDW1)
PROTECTED_FUNCTION_STATIC void omc_Matching_HKDFSreasign(threadData_t *threadData, modelica_metatype _stack, modelica_integer _c, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_HKDFSreasign(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _c, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKDFSreasign,2,0) {(void*) boxptr_Matching_HKDFSreasign,0}};
#define boxvar_Matching_HKDFSreasign MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKDFSreasign)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDFStraverseCollums1(threadData_t *threadData, modelica_boolean _inMatched, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDFStraverseCollums1(threadData_t *threadData, modelica_metatype _inMatched, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKDFStraverseCollums1,2,0) {(void*) boxptr_Matching_HKDFStraverseCollums1,0}};
#define boxvar_Matching_HKDFStraverseCollums1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKDFStraverseCollums1)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _stack, modelica_integer _i, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKDFStraverseCollums,2,0) {(void*) boxptr_Matching_HKDFStraverseCollums,0}};
#define boxvar_Matching_HKDFStraverseCollums MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKDFStraverseCollums)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _r, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _r, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKDFSphase,2,0) {(void*) boxptr_Matching_HKDFSphase,0}};
#define boxvar_Matching_HKDFSphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKDFSphase)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnmatchedRows);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnmatchedRows);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKDFS,2,0) {(void*) boxptr_Matching_HKDFS,0}};
#define boxvar_Matching_HKDFS MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKDFS)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKBFStraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _queue, modelica_integer _i, modelica_integer _l, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_boolean _inunmarowFound, modelica_metatype *out_outRows, modelica_boolean *out_unmarowFound);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKBFStraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _queue, modelica_metatype _i, modelica_metatype _l, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_metatype _inunmarowFound, modelica_metatype *out_outRows, modelica_metatype *out_unmarowFound);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKBFStraverseRows,2,0) {(void*) boxptr_Matching_HKBFStraverseRows,0}};
#define boxvar_Matching_HKBFStraverseRows MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKBFStraverseRows)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKBFSBphase1(threadData_t *threadData, modelica_boolean _inUnMaRowFound, modelica_metatype _queue, modelica_integer _i, modelica_integer _l, modelica_metatype _lowestL, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_metatype _queue1, modelica_metatype *out_outlowestL);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKBFSBphase1(threadData_t *threadData, modelica_metatype _inUnMaRowFound, modelica_metatype _queue, modelica_metatype _i, modelica_metatype _l, modelica_metatype _lowestL, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_metatype _queue1, modelica_metatype *out_outlowestL);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKBFSBphase1,2,0) {(void*) boxptr_Matching_HKBFSBphase1,0}};
#define boxvar_Matching_HKBFSBphase1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKBFSBphase1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKBFSBphase(threadData_t *threadData, modelica_metatype _queue, modelica_integer _i, modelica_integer _l, modelica_metatype _lowestL, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_metatype _queue1, modelica_metatype *out_outlowestL);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKBFSBphase(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _i, modelica_metatype _l, modelica_metatype _lowestL, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_metatype _queue1, modelica_metatype *out_outlowestL);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKBFSBphase,2,0) {(void*) boxptr_Matching_HKBFSBphase,0}};
#define boxvar_Matching_HKBFSBphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKBFSBphase)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKBFS(threadData_t *threadData, modelica_metatype _colums, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_integer _i, modelica_metatype _level, modelica_metatype _lowestL, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKBFS(threadData_t *threadData, modelica_metatype _colums, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _i, modelica_metatype _level, modelica_metatype _lowestL, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKBFS,2,0) {(void*) boxptr_Matching_HKBFS,0}};
#define boxvar_Matching_HKBFS MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKBFS)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKgetUnmatched(threadData_t *threadData, modelica_metatype _U, modelica_metatype _ass1, modelica_metatype _inUnmatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKgetUnmatched,2,0) {(void*) boxptr_Matching_HKgetUnmatched,0}};
#define boxvar_Matching_HKgetUnmatched MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKgetUnmatched)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_HKphase(threadData_t *threadData, modelica_integer _i, modelica_metatype _U, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outunMatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKphase(threadData_t *threadData, modelica_metatype _i, modelica_metatype _U, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outunMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HKphase,2,0) {(void*) boxptr_Matching_HKphase,0}};
#define boxvar_Matching_HKphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_HKphase)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HK2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outcollummarks, modelica_metatype *out_outlevel, modelica_integer *out_nvars, modelica_integer *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HK2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outcollummarks, modelica_metatype *out_outlevel, modelica_metatype *out_nvars, modelica_metatype *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HK2,2,0) {(void*) boxptr_Matching_HK2,0}};
#define boxvar_Matching_HK2 MMC_REFSTRUCTLIT(boxvar_lit_Matching_HK2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HK1(threadData_t *threadData, modelica_integer _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HK1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_HK1,2,0) {(void*) boxptr_Matching_HK1,0}};
#define boxvar_Matching_HK1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_HK1)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFPlustraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched, modelica_boolean _reverseRows);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlustraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched, modelica_metatype _reverseRows);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFPlustraverseRows1,2,0) {(void*) boxptr_Matching_PFPlustraverseRows1,0}};
#define boxvar_Matching_PFPlustraverseRows1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFPlustraverseRows1)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFPlustraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _reverseRows);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlustraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _reverseRows);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFPlustraverseRows,2,0) {(void*) boxptr_Matching_PFPlustraverseRows,0}};
#define boxvar_Matching_PFPlustraverseRows MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFPlustraverseRows)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFPlustraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _reverseRows);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlustraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _reverseRows);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFPlustraverseRowsUnmatched,2,0) {(void*) boxptr_Matching_PFPlustraverseRowsUnmatched,0}};
#define boxvar_Matching_PFPlustraverseRowsUnmatched MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFPlustraverseRowsUnmatched)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFPluschecklookahead(threadData_t *threadData, modelica_boolean _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _reverseRows);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPluschecklookahead(threadData_t *threadData, modelica_metatype _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _reverseRows);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFPluschecklookahead,2,0) {(void*) boxptr_Matching_PFPluschecklookahead,0}};
#define boxvar_Matching_PFPluschecklookahead MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFPluschecklookahead)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFPlusphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _reverseRows);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlusphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _reverseRows);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFPlusphase,2,0) {(void*) boxptr_Matching_PFPlusphase,0}};
#define boxvar_Matching_PFPlusphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFPlusphase)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PFPlusaugmentmatching(threadData_t *threadData, modelica_integer _i, modelica_metatype _U, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer _previousUnmatched, modelica_metatype _unMatched, modelica_boolean _reverseRows, modelica_metatype *out_outUnMatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlusaugmentmatching(threadData_t *threadData, modelica_metatype _i, modelica_metatype _U, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _previousUnmatched, modelica_metatype _unMatched, modelica_metatype _reverseRows, modelica_metatype *out_outUnMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFPlusaugmentmatching,2,0) {(void*) boxptr_Matching_PFPlusaugmentmatching,0}};
#define boxvar_Matching_PFPlusaugmentmatching MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFPlusaugmentmatching)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PFPlus1(threadData_t *threadData, modelica_integer _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlus1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFPlus1,2,0) {(void*) boxptr_Matching_PFPlus1,0}};
#define boxvar_Matching_PFPlus1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFPlus1)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFtraverseRows1,2,0) {(void*) boxptr_Matching_PFtraverseRows1,0}};
#define boxvar_Matching_PFtraverseRows1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFtraverseRows1)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFtraverseRows,2,0) {(void*) boxptr_Matching_PFtraverseRows,0}};
#define boxvar_Matching_PFtraverseRows MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFtraverseRows)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFtraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFtraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFtraverseRowsUnmatched,2,0) {(void*) boxptr_Matching_PFtraverseRowsUnmatched,0}};
#define boxvar_Matching_PFtraverseRowsUnmatched MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFtraverseRowsUnmatched)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFchecklookahead(threadData_t *threadData, modelica_boolean _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFchecklookahead(threadData_t *threadData, modelica_metatype _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFchecklookahead,2,0) {(void*) boxptr_Matching_PFchecklookahead,0}};
#define boxvar_Matching_PFchecklookahead MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFchecklookahead)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFphase,2,0) {(void*) boxptr_Matching_PFphase,0}};
#define boxvar_Matching_PFphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFphase)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PFaugmentmatching(threadData_t *threadData, modelica_integer _i, modelica_metatype _U, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outUnmatched);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFaugmentmatching(threadData_t *threadData, modelica_metatype _i, modelica_metatype _U, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outUnmatched);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PFaugmentmatching,2,0) {(void*) boxptr_Matching_PFaugmentmatching,0}};
#define boxvar_Matching_PFaugmentmatching MMC_REFSTRUCTLIT(boxvar_lit_Matching_PFaugmentmatching)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PF2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outlookahead, modelica_integer *out_nvars, modelica_integer *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PF2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outlookahead, modelica_metatype *out_nvars, modelica_metatype *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PF2,2,0) {(void*) boxptr_Matching_PF2,0}};
#define boxvar_Matching_PF2 MMC_REFSTRUCTLIT(boxvar_lit_Matching_PF2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PF1(threadData_t *threadData, modelica_integer _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PF1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_PF1,2,0) {(void*) boxptr_Matching_PF1,0}};
#define boxvar_Matching_PF1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_PF1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21AtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21AtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_MC21AtraverseRows1,2,0) {(void*) boxptr_Matching_MC21AtraverseRows1,0}};
#define boxvar_Matching_MC21AtraverseRows1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_MC21AtraverseRows1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21AtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21AtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_MC21AtraverseRows,2,0) {(void*) boxptr_Matching_MC21AtraverseRows,0}};
#define boxvar_Matching_MC21AtraverseRows MMC_REFSTRUCTLIT(boxvar_lit_Matching_MC21AtraverseRows)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21AtraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21AtraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_MC21AtraverseRowsUnmatched,2,0) {(void*) boxptr_Matching_MC21AtraverseRowsUnmatched,0}};
#define boxvar_Matching_MC21AtraverseRowsUnmatched MMC_REFSTRUCTLIT(boxvar_lit_Matching_MC21AtraverseRowsUnmatched)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21Achecklookahead(threadData_t *threadData, modelica_boolean _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21Achecklookahead(threadData_t *threadData, modelica_metatype _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_MC21Achecklookahead,2,0) {(void*) boxptr_Matching_MC21Achecklookahead,0}};
#define boxvar_Matching_MC21Achecklookahead MMC_REFSTRUCTLIT(boxvar_lit_Matching_MC21Achecklookahead)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21Aphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21Aphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_MC21Aphase,2,0) {(void*) boxptr_Matching_MC21Aphase,0}};
#define boxvar_Matching_MC21Aphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_MC21Aphase)
PROTECTED_FUNCTION_STATIC void omc_Matching_MC21A1fixArray(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _arr);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_MC21A1fixArray,2,0) {(void*) boxptr_Matching_MC21A1fixArray,0}};
#define boxvar_Matching_MC21A1fixArray MMC_REFSTRUCTLIT(boxvar_lit_Matching_MC21A1fixArray)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21A1fixArrays(threadData_t *threadData, modelica_metatype _meqns, modelica_integer _nv, modelica_integer _ne, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _changedEqns, modelica_metatype *out_outlookahead);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21A1fixArrays(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _changedEqns, modelica_metatype *out_outlookahead);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_MC21A1fixArrays,2,0) {(void*) boxptr_Matching_MC21A1fixArrays,0}};
#define boxvar_Matching_MC21A1fixArrays MMC_REFSTRUCTLIT(boxvar_lit_Matching_MC21A1fixArrays)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21A1(threadData_t *threadData, modelica_integer _i, modelica_integer _rowmark, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21A1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _rowmark, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_MC21A1,2,0) {(void*) boxptr_Matching_MC21A1,0}};
#define boxvar_Matching_MC21A1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_MC21A1)
PROTECTED_FUNCTION_STATIC void omc_Matching_DFSBreasign(threadData_t *threadData, modelica_metatype _stack, modelica_integer _r, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_DFSBreasign(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _r, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_DFSBreasign,2,0) {(void*) boxptr_Matching_DFSBreasign,0}};
#define boxvar_Matching_DFSBreasign MMC_REFSTRUCTLIT(boxvar_lit_Matching_DFSBreasign)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_DFSBtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_DFSBtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_DFSBtraverseRows1,2,0) {(void*) boxptr_Matching_DFSBtraverseRows1,0}};
#define boxvar_Matching_DFSBtraverseRows1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_DFSBtraverseRows1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_DFSBtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_DFSBtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_DFSBtraverseRows,2,0) {(void*) boxptr_Matching_DFSBtraverseRows,0}};
#define boxvar_Matching_DFSBtraverseRows MMC_REFSTRUCTLIT(boxvar_lit_Matching_DFSBtraverseRows)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_DFSBphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_DFSBphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_DFSBphase,2,0) {(void*) boxptr_Matching_DFSBphase,0}};
#define boxvar_Matching_DFSBphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_DFSBphase)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_DFSB1(threadData_t *threadData, modelica_integer _i, modelica_integer _rowmark, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_DFSB1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _rowmark, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_DFSB1,2,0) {(void*) boxptr_Matching_DFSB1,0}};
#define boxvar_Matching_DFSB1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_DFSB1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_BFSBenque(threadData_t *threadData, modelica_metatype _queue, modelica_integer _rowmark, modelica_integer _c, modelica_integer _rc, modelica_integer _r, modelica_boolean _visited, modelica_metatype _rowmarks, modelica_metatype _parentcolum);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BFSBenque(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _rowmark, modelica_metatype _c, modelica_metatype _rc, modelica_metatype _r, modelica_metatype _visited, modelica_metatype _rowmarks, modelica_metatype _parentcolum);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_BFSBenque,2,0) {(void*) boxptr_Matching_BFSBenque,0}};
#define boxvar_Matching_BFSBenque MMC_REFSTRUCTLIT(boxvar_lit_Matching_BFSBenque)
PROTECTED_FUNCTION_STATIC void omc_Matching_BFSBreasign(threadData_t *threadData, modelica_integer _i, modelica_integer _c, modelica_metatype _parentcolum, modelica_integer _l, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_BFSBreasign(threadData_t *threadData, modelica_metatype _i, modelica_metatype _c, modelica_metatype _parentcolum, modelica_metatype _l, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_BFSBreasign,2,0) {(void*) boxptr_Matching_BFSBreasign,0}};
#define boxvar_Matching_BFSBreasign MMC_REFSTRUCTLIT(boxvar_lit_Matching_BFSBreasign)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_BFSBtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _queue, modelica_integer _rowmark, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean *out_pathFound);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BFSBtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _queue, modelica_metatype _rowmark, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_pathFound);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_BFSBtraverseRows,2,0) {(void*) boxptr_Matching_BFSBtraverseRows,0}};
#define boxvar_Matching_BFSBtraverseRows MMC_REFSTRUCTLIT(boxvar_lit_Matching_BFSBtraverseRows)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_BFSBphase1(threadData_t *threadData, modelica_boolean _inPathFound, modelica_metatype _queue, modelica_integer _rowmark, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextQueue, modelica_metatype _inVisitedColums);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BFSBphase1(threadData_t *threadData, modelica_metatype _inPathFound, modelica_metatype _queue, modelica_metatype _rowmark, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextQueue, modelica_metatype _inVisitedColums);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_BFSBphase1,2,0) {(void*) boxptr_Matching_BFSBphase1,0}};
#define boxvar_Matching_BFSBphase1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_BFSBphase1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_BFSBphase(threadData_t *threadData, modelica_metatype _queue, modelica_integer _rowmark, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextQueue, modelica_metatype _inVisitedColums);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BFSBphase(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _rowmark, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextQueue, modelica_metatype _inVisitedColums);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_BFSBphase,2,0) {(void*) boxptr_Matching_BFSBphase,0}};
#define boxvar_Matching_BFSBphase MMC_REFSTRUCTLIT(boxvar_lit_Matching_BFSBphase)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_BFSB1(threadData_t *threadData, modelica_integer _i, modelica_integer _rowmark, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BFSB1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _rowmark, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_BFSB1,2,0) {(void*) boxptr_Matching_BFSB1,0}};
#define boxvar_Matching_BFSB1 MMC_REFSTRUCTLIT(boxvar_lit_Matching_BFSB1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_forallUnmarkedVarsInEqnBody(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_integer _i, modelica_integer _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _inIntegerLst4, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_forallUnmarkedVarsInEqnBody(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _i, modelica_metatype _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _inIntegerLst4, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_forallUnmarkedVarsInEqnBody,2,0) {(void*) boxptr_Matching_forallUnmarkedVarsInEqnBody,0}};
#define boxvar_Matching_forallUnmarkedVarsInEqnBody MMC_REFSTRUCTLIT(boxvar_lit_Matching_forallUnmarkedVarsInEqnBody)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_isNotVMarked(threadData_t *threadData, modelica_integer _i, modelica_metatype _inTpl);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_isNotVMarked(threadData_t *threadData, modelica_metatype _i, modelica_metatype _inTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_isNotVMarked,2,0) {(void*) boxptr_Matching_isNotVMarked,0}};
#define boxvar_Matching_isNotVMarked MMC_REFSTRUCTLIT(boxvar_lit_Matching_isNotVMarked)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_forallUnmarkedVarsInEqn(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_integer _i, modelica_integer _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_forallUnmarkedVarsInEqn(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _i, modelica_metatype _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_forallUnmarkedVarsInEqn,2,0) {(void*) boxptr_Matching_forallUnmarkedVarsInEqn,0}};
#define boxvar_Matching_forallUnmarkedVarsInEqn MMC_REFSTRUCTLIT(boxvar_lit_Matching_forallUnmarkedVarsInEqn)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_assignFirstUnassigned(threadData_t *threadData, modelica_integer _i, modelica_metatype _inIntegerLst2, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_assignFirstUnassigned(threadData_t *threadData, modelica_metatype _i, modelica_metatype _inIntegerLst2, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_assignFirstUnassigned,2,0) {(void*) boxptr_Matching_assignFirstUnassigned,0}};
#define boxvar_Matching_assignFirstUnassigned MMC_REFSTRUCTLIT(boxvar_lit_Matching_assignFirstUnassigned)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_assignOneInEqn(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_integer _i, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_assignOneInEqn(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _i, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_assignOneInEqn,2,0) {(void*) boxptr_Matching_assignOneInEqn,0}};
#define boxvar_Matching_assignOneInEqn MMC_REFSTRUCTLIT(boxvar_lit_Matching_assignOneInEqn)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_pathFound(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_integer _i, modelica_integer _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_pathFound(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _i, modelica_metatype _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_pathFound,2,0) {(void*) boxptr_Matching_pathFound,0}};
#define boxvar_Matching_pathFound MMC_REFSTRUCTLIT(boxvar_lit_Matching_pathFound)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_DFSLH2(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _nf, modelica_integer _i, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _match_opts, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAssignments2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_DFSLH2(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _nf, modelica_metatype _i, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _match_opts, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAssignments2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_DFSLH2,2,0) {(void*) boxptr_Matching_DFSLH2,0}};
#define boxvar_Matching_DFSLH2 MMC_REFSTRUCTLIT(boxvar_lit_Matching_DFSLH2)
PROTECTED_FUNCTION_STATIC void omc_Matching_BBCheapMatching(threadData_t *threadData, modelica_integer _nEqns, modelica_metatype _m, modelica_metatype _ass1, modelica_metatype _ass2);
PROTECTED_FUNCTION_STATIC void boxptr_Matching_BBCheapMatching(threadData_t *threadData, modelica_metatype _nEqns, modelica_metatype _m, modelica_metatype _ass1, modelica_metatype _ass2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_BBCheapMatching,2,0) {(void*) boxptr_Matching_BBCheapMatching,0}};
#define boxvar_Matching_BBCheapMatching MMC_REFSTRUCTLIT(boxvar_lit_Matching_BBCheapMatching)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_BBPathFound(threadData_t *threadData, modelica_integer _i, modelica_metatype _m, modelica_metatype _eMark, modelica_metatype _vMark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _eMarkIx, modelica_metatype _vMarkIx, modelica_integer __omcQ_24in_5FeMarkN, modelica_integer __omcQ_24in_5FvMarkN, modelica_integer *out_eMarkN, modelica_integer *out_vMarkN);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BBPathFound(threadData_t *threadData, modelica_metatype _i, modelica_metatype _m, modelica_metatype _eMark, modelica_metatype _vMark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _eMarkIx, modelica_metatype _vMarkIx, modelica_metatype __omcQ_24in_5FeMarkN, modelica_metatype __omcQ_24in_5FvMarkN, modelica_metatype *out_eMarkN, modelica_metatype *out_vMarkN);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Matching_BBPathFound,2,0) {(void*) boxptr_Matching_BBPathFound,0}};
#define boxvar_Matching_BBPathFound MMC_REFSTRUCTLIT(boxvar_lit_Matching_BBPathFound)

PROTECTED_FUNCTION_STATIC void omc_Matching_clearArrayWithKnownSetIndexes(threadData_t *threadData, modelica_metatype _arr, modelica_metatype _arrIx, modelica_integer _n)
{
  modelica_boolean _debug;
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_boolean tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _debug = 0 /* false */;
  if((((modelica_real)_n) > (0.3) * (((modelica_real)arrayLength(_arr)))))
  {
    tmp1 = ((modelica_integer) 1); tmp2 = 1; tmp3 = arrayLength(_arr);
    if(!(((tmp2 > 0) && (tmp1 > tmp3)) || ((tmp2 < 0) && (tmp1 < tmp3))))
    {
      modelica_integer _i;
      for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp1, tmp3); _i += tmp2)
      {
        arrayUpdateNoBoundsChecking(_arr, _i, mmc_mk_boolean(0 /* false */));
      }
    }
  }
  else
  {
    /* Pattern-matching assignment */
    tmp4 = (_n <= arrayLength(_arrIx));
    if (1 /* true */ != tmp4) MMC_THROW_INTERNAL();

    tmp5 = ((modelica_integer) 1); tmp6 = 1; tmp7 = _n;
    if(!(((tmp6 > 0) && (tmp5 > tmp7)) || ((tmp6 < 0) && (tmp5 < tmp7))))
    {
      modelica_integer _i;
      for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp5, tmp7); _i += tmp6)
      {
        arrayUpdate(_arr, mmc_unbox_integer(arrayGetNoBoundsChecking(_arrIx, _i)), mmc_mk_boolean(0 /* false */));
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_clearArrayWithKnownSetIndexes(threadData_t *threadData, modelica_metatype _arr, modelica_metatype _arrIx, modelica_metatype _n)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_n);
  omc_Matching_clearArrayWithKnownSetIndexes(threadData, _arr, _arrIx, tmp1);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getAssignedVars(threadData_t *threadData, modelica_integer _e, modelica_metatype _ass, modelica_metatype _iAcc)
{
  modelica_metatype _oAcc = NULL;
  modelica_integer _i;
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oAcc has no default value.
  // _i has no default value.
  // _b has no default value.
  _i = mmc_unbox_integer(arrayGet(_ass,_e) /* DAE.ASUB */);

  _b = (_i > ((modelica_integer) 0));

  _oAcc = omc_List_consOnTrue(threadData, _b, mmc_mk_integer(_i), _iAcc);
  _return: OMC_LABEL_UNUSED
  return _oAcc;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getAssignedVars(threadData_t *threadData, modelica_metatype _e, modelica_metatype _ass, modelica_metatype _iAcc)
{
  modelica_integer tmp1;
  modelica_metatype _oAcc = NULL;
  tmp1 = mmc_unbox_integer(_e);
  _oAcc = omc_Matching_getAssignedVars(threadData, tmp1, _ass, _iAcc);
  /* skip box _oAcc; list<#Integer> */
  return _oAcc;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_singularSystemError(threadData_t *threadData, modelica_metatype _eqns, modelica_integer _actualEqn, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inAssignments1, modelica_metatype _inAssignments2, modelica_metatype _inArg)
{
  modelica_integer _n;
  modelica_metatype _unmatched = NULL;
  modelica_metatype _unmatched1 = NULL;
  modelica_metatype _vars = NULL;
  modelica_string _eqn_str = NULL;
  modelica_string _var_str = NULL;
  modelica_metatype _source = NULL;
  modelica_metatype _info = NULL;
  modelica_metatype _mapIncRowEqn = NULL;
  modelica_metatype _syst = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _n has no default value.
  // _unmatched has no default value.
  // _unmatched1 has no default value.
  // _vars has no default value.
  // _eqn_str has no default value.
  // _var_str has no default value.
  // _source has no default value.
  // _info has no default value.
  // _mapIncRowEqn has no default value.
  // _syst has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inArg;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 4));
  _mapIncRowEqn = tmpMeta2;

  _n = omc_BackendDAEUtil_systemSize(threadData, _isyst);

  _unmatched = omc_List_flatten(threadData, _eqns);

  _unmatched1 = omc_List_map1r(threadData, _unmatched, boxvar_arrayGet, _mapIncRowEqn);

  _unmatched1 = omc_List_uniqueIntN(threadData, _unmatched1, arrayLength(_mapIncRowEqn));

  _eqn_str = omc_BackendDump_dumpMarkedEqns(threadData, _isyst, _unmatched1);

  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  _vars = omc_Matching_getUnassigned(threadData, _n, _inAssignments2, tmpMeta3);

  _vars = omc_List_fold1(threadData, _unmatched, boxvar_Matching_getAssignedVars, _inAssignments1, _vars);

  _var_str = omc_BackendDump_dumpMarkedVars(threadData, _isyst, _vars);

  _source = omc_BackendEquation_markedEquationSource(threadData, _isyst, mmc_unbox_integer(listHead(_unmatched1)));

  _info = omc_ElementSource_getElementSourceFileInfo(threadData, _source);

  tmpMeta4 = mmc_mk_cons(_eqn_str, mmc_mk_cons(_var_str, MMC_REFSTRUCTLIT(mmc_nil)));
  omc_Error_addSourceMessage(threadData, _OMC_LIT4, tmpMeta4, _info);
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_singularSystemError(threadData_t *threadData, modelica_metatype _eqns, modelica_metatype _actualEqn, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inAssignments1, modelica_metatype _inAssignments2, modelica_metatype _inArg)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_actualEqn);
  omc_Matching_singularSystemError(threadData, _eqns, tmp1, _isyst, _ishared, _inAssignments1, _inAssignments2, _inArg);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_randSortSystem1(threadData_t *threadData, modelica_integer _index, modelica_integer _offset, modelica_metatype _randarr, modelica_metatype _oldTypeA, modelica_metatype _newTypeA, modelica_fnptr _get, modelica_fnptr _set)
{
  modelica_metatype _outTypeA = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outTypeA has no default value.
  { /* match expression */
    modelica_integer tmp4_1;
    tmp4_1 = _index;
    {
      modelica_metatype _tb = NULL;
      modelica_metatype _ta = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _tb has no default value.
      // _ta has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (0 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _newTypeA;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _tb = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_get), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_get), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_get), 2))), _oldTypeA, mmc_mk_integer(mmc_unbox_integer(arrayGet(_randarr,_index) /* DAE.ASUB */) + _offset)) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_get), 1)))) (threadData, _oldTypeA, mmc_mk_integer(mmc_unbox_integer(arrayGet(_randarr,_index) /* DAE.ASUB */) + _offset));

          _ta = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_set), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_set), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_set), 2))), _tb, _newTypeA) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_set), 1)))) (threadData, _tb, _newTypeA);
          /* Tail recursive call */
          _index = ((modelica_integer) -1) + _index;
          _newTypeA = _ta;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outTypeA = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outTypeA;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_randSortSystem1(threadData_t *threadData, modelica_metatype _index, modelica_metatype _offset, modelica_metatype _randarr, modelica_metatype _oldTypeA, modelica_metatype _newTypeA, modelica_fnptr _get, modelica_fnptr _set)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outTypeA = NULL;
  tmp1 = mmc_unbox_integer(_index);
  tmp2 = mmc_unbox_integer(_offset);
  _outTypeA = omc_Matching_randSortSystem1(threadData, tmp1, tmp2, _randarr, _oldTypeA, _newTypeA, _get, _set);
  /* skip box _outTypeA; polymorphic<Type_a> */
  return _outTypeA;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_randSortSystem(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_integer _ne;
      modelica_integer _nv;
      modelica_metatype _randarr = NULL;
      modelica_metatype _randarr1 = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _syst = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _ne has no default value.
      // _nv has no default value.
      // _randarr has no default value.
      // _randarr1 has no default value.
      // _vars has no default value.
      // _eqns has no default value.
      // _syst has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _syst = tmp4_1;
          _vars = tmpMeta6;
          _eqns = tmpMeta7;
          /* Pattern matching succeeded */
          _ne = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nv = omc_BackendVariable_daenumVariables(threadData, _isyst);

          _randarr = omc_Array_createIntRange(threadData, _ne);

          omc_Matching_setrandArray(threadData, _ne, _randarr);

          _randarr1 = omc_Array_createIntRange(threadData, _nv);

          omc_Matching_setrandArray(threadData, _nv, _randarr1);

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[3] = omc_Matching_randSortSystem1(threadData, _ne, ((modelica_integer) 0), _randarr, _eqns, omc_BackendEquation_listEquation(threadData, tmpMeta9), boxvar_BackendEquation_get, boxvar_BackendEquation_add);
          _syst = tmpMeta8;

          tmpMeta10 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta10), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta10))[2] = omc_Matching_randSortSystem1(threadData, _nv, ((modelica_integer) 0), _randarr1, _vars, omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013)), boxvar_BackendVariable_getVarAt, boxvar_BackendVariable_addVar);
          _syst = tmpMeta10;
          tmpMeta1 = omc_BackendDAEUtil_getAdjacencyMatrix(threadData, omc_BackendDAEUtil_clearEqSyst(threadData, _syst), _OMC_LIT5, mmc_mk_none(), omc_BackendDAEUtil_isInitializationDAE(threadData, _ishared), NULL, NULL);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _osyst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _osyst;
}

DLLDirection
void omc_Matching_testExternMatchingAlgorithm(threadData_t *threadData, modelica_integer _index, modelica_integer _matchingAlgorithm, modelica_integer _cheapId, modelica_integer _nv, modelica_integer _ne)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_integer tmp3_1;
    tmp3_1 = _index;
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (0 != tmp3_1) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          omc_BackendDAEEXT_matching(threadData, _nv, _ne, _matchingAlgorithm, _cheapId, 1.0, ((modelica_integer) 1));

          omc_Matching_testExternMatchingAlgorithm(threadData, ((modelica_integer) -1) + _index, _matchingAlgorithm, _cheapId, _nv, _ne);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
void boxptr_Matching_testExternMatchingAlgorithm(threadData_t *threadData, modelica_metatype _index, modelica_metatype _matchingAlgorithm, modelica_metatype _cheapId, modelica_metatype _nv, modelica_metatype _ne)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  tmp1 = mmc_unbox_integer(_index);
  tmp2 = mmc_unbox_integer(_matchingAlgorithm);
  tmp3 = mmc_unbox_integer(_cheapId);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  omc_Matching_testExternMatchingAlgorithm(threadData, tmp1, tmp2, tmp3, tmp4, tmp5);
  return;
}

DLLDirection
void omc_Matching_testExternMatchingAlgorithms1(threadData_t *threadData, modelica_metatype _matchingAlgorithms, modelica_integer _cheapId, modelica_integer _nv, modelica_integer _ne)
{
  modelica_string _str = NULL;
  modelica_integer _matchingAlgorithm;
  modelica_real _t;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_integer tmp5;
  modelica_metatype tmpMeta13;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _str has no default value.
  // _matchingAlgorithm has no default value.
  // _t has no default value.
  {
    modelica_metatype _alg;
    for (tmpMeta1 = _matchingAlgorithms; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _alg = MMC_CAR(tmpMeta1);
      /* Pattern-matching assignment */
      tmpMeta2 = _alg;
      tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 1));
      tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
      tmp5 = mmc_unbox_integer(tmpMeta4);
      _str = tmpMeta3;
      _matchingAlgorithm = tmp5  /* pattern as ty=Integer */;

      { /* matchcontinue expression */
        {
          volatile mmc_switch_type tmp8;
          int tmp9;
          tmp8 = 0;
          MMC_TRY_INTERNAL(mmc_jumper)
          tmp7_top:
          threadData->mmc_jumper = &new_mmc_jumper;
          for (; tmp8 < 2; tmp8++) {
            switch (MMC_SWITCH_CAST(tmp8)) {
            case 0: {
              modelica_metatype tmpMeta10;
              modelica_metatype tmpMeta11;
              /* Pattern matching succeeded */
              omc_System_realtimeTick(threadData, ((modelica_integer) 19));

              omc_Matching_testExternMatchingAlgorithm(threadData, ((modelica_integer) 10), _matchingAlgorithm, _cheapId, _nv, _ne);

              _t = omc_System_realtimeTock(threadData, ((modelica_integer) 19));

              tmpMeta10 = stringAppend(_str,realString((0.1) * (_t)));
              tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT6);
              fputs(MMC_STRINGDATA(tmpMeta11),stdout);
              goto tmp7_done;
            }
            case 1: {
              modelica_metatype tmpMeta12;
              /* Pattern matching succeeded */
              tmpMeta12 = stringAppend(_str,_OMC_LIT7);
              fputs(MMC_STRINGDATA(tmpMeta12),stdout);
              goto tmp7_done;
            }
            }
            goto tmp7_end;
            tmp7_end: ;
          }
          goto goto_6;
          tmp7_done:
          (void)tmp8;
          MMC_RESTORE_INTERNAL(mmc_jumper);
          goto tmp7_done2;
          goto_6:;
          MMC_CATCH_INTERNAL(mmc_jumper);
          if (++tmp8 < 2) {
            goto tmp7_top;
          }
          MMC_THROW_INTERNAL();
          tmp7_done2:;
        }
      }
      ;
    }
  }
  _return: OMC_LABEL_UNUSED
  return;
}
void boxptr_Matching_testExternMatchingAlgorithms1(threadData_t *threadData, modelica_metatype _matchingAlgorithms, modelica_metatype _cheapId, modelica_metatype _nv, modelica_metatype _ne)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  tmp1 = mmc_unbox_integer(_cheapId);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  omc_Matching_testExternMatchingAlgorithms1(threadData, _matchingAlgorithms, tmp1, tmp2, tmp3);
  return;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_testMatchingAlgorithm(threadData_t *threadData, modelica_integer _index, modelica_fnptr _matchingAlgorithm, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_integer tmp3_1;
    tmp3_1 = _index;
    {
      modelica_metatype _arg = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _arg has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (0 != tmp3_1) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          _arg = omc_IndexReduction_getStructurallySingularSystemHandlerArg(threadData, _isyst, _ishared, listArray(tmpMeta5), listArray(tmpMeta6));

          (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_matchingAlgorithm), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_fnptr, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_matchingAlgorithm), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_matchingAlgorithm), 2))), _isyst, _ishared, mmc_mk_boolean(1 /* true */), _inMatchingOptions, boxvar_IndexReduction_pantelidesIndexReduction, _arg, NULL, NULL) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_fnptr, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_matchingAlgorithm), 1)))) (threadData, _isyst, _ishared, mmc_mk_boolean(1 /* true */), _inMatchingOptions, boxvar_IndexReduction_pantelidesIndexReduction, _arg, NULL, NULL);

          omc_Matching_testMatchingAlgorithm(threadData, ((modelica_integer) -1) + _index, ((modelica_fnptr) _matchingAlgorithm), _isyst, _ishared, _inMatchingOptions);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_testMatchingAlgorithm(threadData_t *threadData, modelica_metatype _index, modelica_fnptr _matchingAlgorithm, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_index);
  omc_Matching_testMatchingAlgorithm(threadData, tmp1, _matchingAlgorithm, _isyst, _ishared, _inMatchingOptions);
  return;
}

DLLDirection
void omc_Matching_testMatchingAlgorithms1(threadData_t *threadData, modelica_metatype _matchingAlgorithms, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _matchingAlgorithms;
    {
      modelica_metatype _rest = NULL;
      modelica_string _str = NULL;
      modelica_fnptr _matchingAlgorithm;
      modelica_real _t;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _rest has no default value.
      // _str has no default value.
      // _t has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          tmp3 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
          _str = tmpMeta7;
          _matchingAlgorithm = tmpMeta8;
          _rest = tmpMeta6;
          /* Pattern matching succeeded */
          omc_System_realtimeTick(threadData, ((modelica_integer) 19));

          omc_Matching_testMatchingAlgorithm(threadData, ((modelica_integer) 10), ((modelica_fnptr) _matchingAlgorithm), _isyst, _ishared, _inMatchingOptions);

          _t = omc_System_realtimeTock(threadData, ((modelica_integer) 19));

          tmpMeta9 = stringAppend(_str,realString((0.1) * (_t)));
          tmpMeta10 = stringAppend(tmpMeta9,_OMC_LIT6);
          fputs(MMC_STRINGDATA(tmpMeta10),stdout);

          omc_Matching_testMatchingAlgorithms1(threadData, _rest, _isyst, _ishared, _inMatchingOptions);
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta11 = MMC_CAR(tmp3_1);
          tmpMeta12 = MMC_CDR(tmp3_1);
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 1));
          
          _str = tmpMeta13;
          _rest = tmpMeta12;
          /* Pattern matching succeeded */
          tmpMeta14 = stringAppend(_str,_OMC_LIT7);
          fputs(MMC_STRINGDATA(tmpMeta14),stdout);

          omc_Matching_testMatchingAlgorithms1(threadData, _rest, _isyst, _ishared, _inMatchingOptions);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 3) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
void omc_Matching_testMatchingAlgorithms(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions)
{
  modelica_real _t;
  modelica_integer _nv;
  modelica_integer _ne;
  modelica_integer _cheapID;
  modelica_metatype _m = NULL;
  modelica_metatype _vec1 = NULL;
  modelica_metatype _vec2 = NULL;
  modelica_metatype _unassigned = NULL;
  modelica_metatype _meqns = NULL;
  modelica_metatype _matchingAlgorithms = NULL;
  modelica_metatype _extmatchingAlgorithms = NULL;
  modelica_metatype _syst = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _t has no default value.
  // _nv has no default value.
  // _ne has no default value.
  // _cheapID has no default value.
  // _m has no default value.
  // _vec1 has no default value.
  // _vec2 has no default value.
  // _unassigned has no default value.
  // _meqns has no default value.
  // _matchingAlgorithms has no default value.
  // _extmatchingAlgorithms has no default value.
  // _syst has no default value.
  _ne = omc_BackendDAEUtil_systemSize(threadData, _isyst);

  _nv = omc_BackendVariable_daenumVariables(threadData, _isyst);

  tmpMeta1 = stringAppend(_OMC_LIT8,intString(_ne));
  tmpMeta2 = stringAppend(tmpMeta1,_OMC_LIT6);
  fputs(MMC_STRINGDATA(tmpMeta2),stdout);

  tmpMeta4 = mmc_mk_box2(0, _OMC_LIT9, boxvar_Matching_DFSLH);
  tmpMeta5 = mmc_mk_box2(0, _OMC_LIT10, boxvar_Matching_BFSB);
  tmpMeta6 = mmc_mk_box2(0, _OMC_LIT11, boxvar_Matching_DFSB);
  tmpMeta7 = mmc_mk_box2(0, _OMC_LIT12, boxvar_Matching_MC21A);
  tmpMeta8 = mmc_mk_box2(0, _OMC_LIT13, boxvar_Matching_PF);
  tmpMeta9 = mmc_mk_box2(0, _OMC_LIT14, boxvar_Matching_PFPlus);
  tmpMeta10 = mmc_mk_box2(0, _OMC_LIT15, boxvar_Matching_HK);
  tmpMeta11 = mmc_mk_box2(0, _OMC_LIT16, boxvar_Matching_HKDW);
  tmpMeta12 = mmc_mk_box2(0, _OMC_LIT17, boxvar_Matching_ABMP);
  tmpMeta13 = mmc_mk_box2(0, _OMC_LIT18, boxvar_Matching_PR__FIFO__FAIR);
  tmpMeta3 = mmc_mk_cons(tmpMeta4, mmc_mk_cons(tmpMeta5, mmc_mk_cons(tmpMeta6, mmc_mk_cons(tmpMeta7, mmc_mk_cons(tmpMeta8, mmc_mk_cons(tmpMeta9, mmc_mk_cons(tmpMeta10, mmc_mk_cons(tmpMeta11, mmc_mk_cons(tmpMeta12, mmc_mk_cons(tmpMeta13, MMC_REFSTRUCTLIT(mmc_nil)))))))))));
  _matchingAlgorithms = tmpMeta3;

  _syst = omc_Matching_randSortSystem(threadData, _isyst, _ishared);

  omc_Matching_testMatchingAlgorithms1(threadData, _matchingAlgorithms, _syst, _ishared, _inMatchingOptions);

  omc_System_realtimeTick(threadData, ((modelica_integer) 19));

  omc_BackendDAEUtil_getAdjacencyMatrixfromOption(threadData, _syst, _OMC_LIT5, mmc_mk_none(), omc_BackendDAEUtil_isInitializationDAE(threadData, _ishared) ,&_m ,NULL);

  omc_Matching_matchingExternalsetAdjacencyMatrix(threadData, _nv, _ne, _m);

  _cheapID = ((modelica_integer) 3);

  _t = omc_System_realtimeTock(threadData, ((modelica_integer) 19));

  tmpMeta14 = stringAppend(_OMC_LIT19,realString(_t));
  tmpMeta15 = stringAppend(tmpMeta14,_OMC_LIT6);
  fputs(MMC_STRINGDATA(tmpMeta15),stdout);

  _extmatchingAlgorithms = _OMC_LIT46;

  omc_Matching_testExternMatchingAlgorithms1(threadData, _extmatchingAlgorithms, _cheapID, _nv, _ne);

  omc_System_realtimeTick(threadData, ((modelica_integer) 19));

  _vec1 = arrayCreate(_ne, mmc_mk_integer(((modelica_integer) -1)));

  _vec2 = arrayCreate(_nv, mmc_mk_integer(((modelica_integer) -1)));

  omc_BackendDAEEXT_getAssignment(threadData, _vec1, _vec2);

  tmpMeta16 = stringAppend(_OMC_LIT47,realString(_t));
  tmpMeta17 = stringAppend(tmpMeta16,_OMC_LIT6);
  fputs(MMC_STRINGDATA(tmpMeta17),stdout);

  omc_System_realtimeTick(threadData, ((modelica_integer) 19));
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getAssignment(threadData_t *threadData, modelica_boolean _clearMatching, modelica_integer _nVars, modelica_integer _nEqns, modelica_metatype _iSyst, modelica_metatype *out_ass2)
{
  modelica_metatype _ass1 = NULL;
  modelica_metatype _ass2 = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _ass1 has no default value.
  // _ass2 has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_boolean tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _clearMatching;
    tmp4_2 = _iSyst;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          if (0 /* false */ != tmp4_1) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,3) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          
          _ass1 = tmpMeta7;
          _ass2 = tmpMeta8;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (_nVars >= arrayLength(_ass1));
          if (1 /* true */ != tmp9) goto goto_2;

          /* Pattern-matching assignment */
          tmp10 = (_nEqns >= arrayLength(_ass2));
          if (1 /* true */ != tmp10) goto goto_2;
          tmpMeta[0+0] = _ass2;
          tmpMeta[0+1] = _ass1;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _ass2 = arrayCreate(_nEqns, mmc_mk_integer(((modelica_integer) -1)));

          _ass1 = arrayCreate(_nVars, mmc_mk_integer(((modelica_integer) -1)));
          tmpMeta[0+0] = _ass2;
          tmpMeta[0+1] = _ass1;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _ass1 = tmpMeta[0+0];
  _ass2 = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_ass2) { *out_ass2 = _ass2; }
  return _ass1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getAssignment(threadData_t *threadData, modelica_metatype _clearMatching, modelica_metatype _nVars, modelica_metatype _nEqns, modelica_metatype _iSyst, modelica_metatype *out_ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _ass1 = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  tmp2 = mmc_unbox_integer(_nVars);
  tmp3 = mmc_unbox_integer(_nEqns);
  _ass1 = omc_Matching_getAssignment(threadData, tmp1, tmp2, tmp3, _iSyst, out_ass2);
  /* skip box _ass1; array<#Integer> */
  /* skip box _ass2; array<#Integer> */
  return _ass1;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_checkAssignment(threadData_t *threadData, modelica_integer _indx, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnassigned)
{
  modelica_metatype _outUnassigned = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outUnassigned has no default value.
  { /* matchcontinue expression */
    {
      modelica_integer _r;
      modelica_metatype _unassigned = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _r has no default value.
      // _unassigned has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_indx > _ne);
          if (1 /* true */ != tmp6) goto goto_2;
          tmpMeta1 = _inUnassigned;
          goto tmp3_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          _r = mmc_unbox_integer(arrayGet(_ass1,_indx) /* DAE.ASUB */);

          _unassigned = omc_List_consOnTrue(threadData, (_r < ((modelica_integer) 0)), mmc_mk_integer(_indx), _inUnassigned);
          tmpMeta1 = omc_Matching_checkAssignment(threadData, ((modelica_integer) 1) + _indx, _ne, _ass1, _ass2, _unassigned);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outUnassigned = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outUnassigned;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_checkAssignment(threadData_t *threadData, modelica_metatype _indx, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnassigned)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outUnassigned = NULL;
  tmp1 = mmc_unbox_integer(_indx);
  tmp2 = mmc_unbox_integer(_ne);
  _outUnassigned = omc_Matching_checkAssignment(threadData, tmp1, tmp2, _ass1, _ass2, _inUnassigned);
  /* skip box _outUnassigned; list<#Integer> */
  return _outUnassigned;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_assignmentsArrayBooleanExpand(threadData_t *threadData, modelica_metatype _ass, modelica_integer _needed, modelica_integer _memsize, modelica_boolean _default)
{
  modelica_metatype _outAss = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_memsize > _needed);
          if (1 /* true */ != tmp6) goto goto_2;
          tmpMeta1 = _ass;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp7 = (_memsize > _needed);
          if (0 /* false */ != tmp7) goto goto_2;
          tmpMeta1 = omc_Array_expand(threadData, _needed - _memsize, _ass, mmc_mk_boolean(_default));
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT48, _OMC_LIT50);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outAss = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outAss;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_assignmentsArrayBooleanExpand(threadData_t *threadData, modelica_metatype _ass, modelica_metatype _needed, modelica_metatype _memsize, modelica_metatype _default)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outAss = NULL;
  tmp1 = mmc_unbox_integer(_needed);
  tmp2 = mmc_unbox_integer(_memsize);
  tmp3 = mmc_unbox_integer(_default);
  _outAss = omc_Matching_assignmentsArrayBooleanExpand(threadData, _ass, tmp1, tmp2, tmp3);
  /* skip box _outAss; array<#Boolean> */
  return _outAss;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_assignmentsArrayExpand(threadData_t *threadData, modelica_metatype _ass, modelica_integer _needed, modelica_integer _memsize, modelica_integer _default)
{
  modelica_metatype _outAss = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_memsize > _needed);
          if (1 /* true */ != tmp6) goto goto_2;
          tmpMeta1 = _ass;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp7 = (_memsize > _needed);
          if (0 /* false */ != tmp7) goto goto_2;
          tmpMeta1 = omc_Array_expand(threadData, _needed - _memsize, _ass, mmc_mk_integer(_default));
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT48, _OMC_LIT51);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outAss = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outAss;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_assignmentsArrayExpand(threadData_t *threadData, modelica_metatype _ass, modelica_metatype _needed, modelica_metatype _memsize, modelica_metatype _default)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outAss = NULL;
  tmp1 = mmc_unbox_integer(_needed);
  tmp2 = mmc_unbox_integer(_memsize);
  tmp3 = mmc_unbox_integer(_default);
  _outAss = omc_Matching_assignmentsArrayExpand(threadData, _ass, tmp1, tmp2, tmp3);
  /* skip box _outAss; array<#Integer> */
  return _outAss;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_reduceIndexifNecessary(threadData_t *threadData, modelica_metatype _meqns, modelica_integer _actualEqn, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_integer *out_continueEqn, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_integer *out_nvars, modelica_integer *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_outArg)
{
  modelica_metatype _outchangedEqns = NULL;
  modelica_integer _continueEqn;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_integer _nvars;
  modelica_integer _neqns;
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _outArg = NULL;
  modelica_integer tmp1_c1 __attribute__((unused)) = 0;
  modelica_integer tmp1_c4 __attribute__((unused)) = 0;
  modelica_integer tmp1_c5 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[9] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outchangedEqns has no default value.
  // _continueEqn has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _nvars has no default value.
  // _neqns has no default value.
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _outArg has no default value.
  
  
  
  
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _meqns;
    tmp4_2 = _inMatchingOptions;
    {
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_integer _i_1;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass1_2 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _ass2_2 = NULL;
      modelica_metatype _changedEqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _i_1 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass1_2 has no default value.
      // _ass2_1 has no default value.
      // _ass2_2 has no default value.
      // _changedEqns has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = tmpMeta6;
          tmp1_c1 = ((modelica_integer) 1) + _actualEqn;
          tmpMeta[0+2] = _isyst;
          tmpMeta[0+3] = _ishared;
          tmp1_c4 = _nv;
          tmp1_c5 = _ne;
          tmpMeta[0+6] = _ass1;
          tmpMeta[0+7] = _ass2;
          tmpMeta[0+8] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_integer tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,0,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmpMeta17 = mmc_mk_cons(_meqns, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta18 = mmc_mk_cons(_meqns, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta19 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))), tmpMeta18, mmc_mk_integer(_actualEqn), _isyst, _ishared, _ass2, _ass1, _inArg, &tmpMeta10, &tmpMeta12, &tmpMeta13, &tmpMeta14, &tmpMeta15, &tmpMeta16) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, tmpMeta17, mmc_mk_integer(_actualEqn), _isyst, _ishared, _ass2, _ass1, _inArg, &tmpMeta10, &tmpMeta12, &tmpMeta13, &tmpMeta14, &tmpMeta15, &tmpMeta16);
          _changedEqns = tmpMeta19;
          tmp11 = mmc_unbox_integer(tmpMeta10);
          _i_1 = tmp11  /* pattern as ty=Integer */;
          _syst = tmpMeta12;
          _shared = tmpMeta13;
          _ass2_1 = tmpMeta14;
          _ass1_1 = tmpMeta15;
          _arg = tmpMeta16;

          _ne_1 = omc_BackendDAEUtil_systemSize(threadData, _syst);

          _nv_1 = omc_BackendVariable_daenumVariables(threadData, _syst);

          _ass1_2 = omc_Matching_assignmentsArrayExpand(threadData, _ass1_1, _ne_1, arrayLength(_ass1_1), ((modelica_integer) -1));

          _ass2_2 = omc_Matching_assignmentsArrayExpand(threadData, _ass2_1, _nv_1, arrayLength(_ass2_1), ((modelica_integer) -1));
          tmpMeta[0+0] = _changedEqns;
          tmp1_c1 = _i_1;
          tmpMeta[0+2] = _syst;
          tmpMeta[0+3] = _shared;
          tmp1_c4 = _nv_1;
          tmp1_c5 = _ne_1;
          tmpMeta[0+6] = _ass1_2;
          tmpMeta[0+7] = _ass2_2;
          tmpMeta[0+8] = _arg;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta20;
          
          /* Pattern matching succeeded */
          tmpMeta20 = mmc_mk_cons(_meqns, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Matching_singularSystemError(threadData, tmpMeta20, _actualEqn, _isyst, _ishared, _ass1, _ass2, _inArg);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outchangedEqns = tmpMeta[0+0];
  _continueEqn = tmp1_c1;
  _osyst = tmpMeta[0+2];
  _oshared = tmpMeta[0+3];
  _nvars = tmp1_c4;
  _neqns = tmp1_c5;
  _outAss1 = tmpMeta[0+6];
  _outAss2 = tmpMeta[0+7];
  _outArg = tmpMeta[0+8];
  _return: OMC_LABEL_UNUSED
  if (out_continueEqn) { *out_continueEqn = _continueEqn; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_nvars) { *out_nvars = _nvars; }
  if (out_neqns) { *out_neqns = _neqns; }
  if (out_outAss1) { *out_outAss1 = _outAss1; }
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outchangedEqns;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_reduceIndexifNecessary(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _actualEqn, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_continueEqn, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_nvars, modelica_metatype *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer _continueEqn;
  modelica_integer _nvars;
  modelica_integer _neqns;
  modelica_metatype _outchangedEqns = NULL;
  tmp1 = mmc_unbox_integer(_actualEqn);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outchangedEqns = omc_Matching_reduceIndexifNecessary(threadData, _meqns, tmp1, _isyst, _ishared, tmp2, tmp3, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, &_continueEqn, out_osyst, out_oshared, &_nvars, &_neqns, out_outAss1, out_outAss2, out_outArg);
  /* skip box _outchangedEqns; list<#Integer> */
  if (out_continueEqn) { *out_continueEqn = mmc_mk_icon(_continueEqn); }
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  if (out_nvars) { *out_nvars = mmc_mk_icon(_nvars); }
  if (out_neqns) { *out_neqns = mmc_mk_icon(_neqns); }
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outchangedEqns;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_mergeSubsets(threadData_t *threadData, modelica_integer _mark, modelica_integer _markColum, modelica_metatype _inSubsets, modelica_metatype _colummarks)
{
  modelica_metatype _eqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _eqns has no default value.
  _eqns = arrayGet(_inSubsets,_markColum) /* DAE.ASUB */;

  omc_Array_appendToElement(threadData, _mark, _eqns, _inSubsets);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  arrayUpdate(_inSubsets, _markColum, tmpMeta1);

  omc_List_fold1r(threadData, _eqns, boxvar_arrayUpdate, mmc_mk_integer(_mark), _colummarks);
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_mergeSubsets(threadData_t *threadData, modelica_metatype _mark, modelica_metatype _markColum, modelica_metatype _inSubsets, modelica_metatype _colummarks)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  tmp1 = mmc_unbox_integer(_mark);
  tmp2 = mmc_unbox_integer(_markColum);
  omc_Matching_mergeSubsets(threadData, tmp1, tmp2, _inSubsets, _colummarks);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getEqnsforIndexReductiontraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _nextColums, modelica_metatype _m, modelica_metatype _mT, modelica_integer _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets, modelica_metatype _inEqns)
{
  modelica_metatype _outEqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqns has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _rows;
    tmp4_2 = _nextColums;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _queue = NULL;
      modelica_metatype _nextqueue = NULL;
      modelica_metatype _eqns = NULL;
      modelica_integer _rc;
      modelica_integer _r;
      modelica_integer _e;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _queue has no default value.
      // _nextqueue has no default value.
      // _eqns has no default value.
      // _rc has no default value.
      // _r has no default value.
      // _e has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inEqns;
          goto tmp3_done;
        }
        case 1: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_getEqnsforIndexReductionphase(threadData, _nextColums, _m, _mT, _mark, _colummarks, _ass1, _ass2, _mapEqnIncRow, _mapIncRowEqn, _inSubsets, _inEqns);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          
          _r = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _rc = mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */);

          if(((omc_List_exist1(threadData, arrayGet(_mT,_r) /* DAE.ASUB */, boxvar_intEq, mmc_mk_integer(_rc)) && (_rc > ((modelica_integer) 0))) && (!(mmc_unbox_integer(arrayGet(_colummarks,_rc) /* DAE.ASUB */) == _mark))))
          {
            if((mmc_unbox_integer(arrayGet(_colummarks,_rc) /* DAE.ASUB */) > ((modelica_integer) 0)))
            {
              omc_Matching_mergeSubsets(threadData, _mark, mmc_unbox_integer(arrayGet(_colummarks,_rc) /* DAE.ASUB */), _inSubsets, _colummarks);

              _nextqueue = _nextColums;

              _queue = _inEqns;
            }
            else
            {
              _e = mmc_unbox_integer(arrayGet(_mapIncRowEqn,_rc) /* DAE.ASUB */);

              _eqns = arrayGet(_mapEqnIncRow,_e) /* DAE.ASUB */;

              omc_List_fold1r(threadData, _eqns, boxvar_arrayUpdate, mmc_mk_integer(_mark), _colummarks);

              _nextqueue = listAppend(_nextColums, _eqns);

              _queue = listAppend(_inEqns, _eqns);
            }
          }
          else
          {
            _nextqueue = _nextColums;

            _queue = _inEqns;
          }
          /* Tail recursive call */
          _rows = _rest;
          _nextColums = _nextqueue;
          _inEqns = _queue;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEqns;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getEqnsforIndexReductiontraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _nextColums, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets, modelica_metatype _inEqns)
{
  modelica_integer tmp1;
  modelica_metatype _outEqns = NULL;
  tmp1 = mmc_unbox_integer(_mark);
  _outEqns = omc_Matching_getEqnsforIndexReductiontraverseRows(threadData, _rows, _nextColums, _m, _mT, tmp1, _colummarks, _ass1, _ass2, _mapEqnIncRow, _mapIncRowEqn, _inSubsets, _inEqns);
  /* skip box _outEqns; list<#Integer> */
  return _outEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getEqnsforIndexReductionphase(threadData_t *threadData, modelica_metatype _elst, modelica_metatype _m, modelica_metatype _mT, modelica_integer _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets, modelica_metatype _inEqns)
{
  modelica_metatype _outEqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqns has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _elst;
    {
      modelica_integer _e;
      modelica_metatype _rows = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _eqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _e has no default value.
      // _rows has no default value.
      // _rest has no default value.
      // _eqns has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inEqns;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _e = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _rows = omc_List_select(threadData, arrayGet(_m,_e) /* DAE.ASUB */, boxvar_Util_intPositive);

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqns = omc_Matching_getEqnsforIndexReductiontraverseRows(threadData, _rows, tmpMeta9, _m, _mT, _mark, _colummarks, _ass1, _ass2, _mapEqnIncRow, _mapIncRowEqn, _inSubsets, _inEqns);
          /* Tail recursive call */
          _elst = _rest;
          _inEqns = _eqns;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEqns;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getEqnsforIndexReductionphase(threadData_t *threadData, modelica_metatype _elst, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets, modelica_metatype _inEqns)
{
  modelica_integer tmp1;
  modelica_metatype _outEqns = NULL;
  tmp1 = mmc_unbox_integer(_mark);
  _outEqns = omc_Matching_getEqnsforIndexReductionphase(threadData, _elst, _m, _mT, tmp1, _colummarks, _ass1, _ass2, _mapEqnIncRow, _mapIncRowEqn, _inSubsets, _inEqns);
  /* skip box _outEqns; list<#Integer> */
  return _outEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getEqnsforIndexReduction1(threadData_t *threadData, modelica_metatype _U, modelica_metatype _m, modelica_metatype _mT, modelica_integer _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets)
{
  modelica_metatype _outSubsets = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outSubsets has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _U;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _eqns = NULL;
      modelica_integer _e;
      modelica_integer _e1;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _eqns has no default value.
      // _e has no default value.
      // _e1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inSubsets;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _e = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(!(mmc_unbox_integer(arrayGet(_colummarks,_e) /* DAE.ASUB */) > ((modelica_integer) 0)))) goto tmp3_end;
          _e1 = mmc_unbox_integer(arrayGet(_mapIncRowEqn,_e) /* DAE.ASUB */);

          _eqns = arrayGet(_mapEqnIncRow,_e1) /* DAE.ASUB */;

          omc_List_fold1r(threadData, _eqns, boxvar_arrayUpdate, mmc_mk_integer(_mark), _colummarks);

          _eqns = omc_Matching_getEqnsforIndexReductionphase(threadData, _eqns, _m, _mT, _mark, _colummarks, _ass1, _ass2, _mapEqnIncRow, _mapIncRowEqn, _inSubsets, _eqns);

          omc_Array_appendToElement(threadData, _mark, _eqns, _inSubsets);
          /* Tail recursive call */
          _U = _rest;
          _mark = ((modelica_integer) 1) + _mark;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmp4_1);
          tmpMeta10 = MMC_CDR(tmp4_1);
          _rest = tmpMeta10;
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _U = _rest;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outSubsets = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outSubsets;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getEqnsforIndexReduction1(threadData_t *threadData, modelica_metatype _U, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _mark, modelica_metatype _colummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _mapEqnIncRow, modelica_metatype _mapIncRowEqn, modelica_metatype _inSubsets)
{
  modelica_integer tmp1;
  modelica_metatype _outSubsets = NULL;
  tmp1 = mmc_unbox_integer(_mark);
  _outSubsets = omc_Matching_getEqnsforIndexReduction1(threadData, _U, _m, _mT, tmp1, _colummarks, _ass1, _ass2, _mapEqnIncRow, _mapIncRowEqn, _inSubsets);
  /* skip box _outSubsets; array<list<#Integer>> */
  return _outSubsets;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_appendNonEmpty(threadData_t *threadData, modelica_metatype _eqns, modelica_metatype _iAcc)
{
  modelica_metatype _oAcc = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oAcc has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _eqns;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _iAcc;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_cons(_eqns, _iAcc);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oAcc = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _oAcc;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_removeEmptySubsets(threadData_t *threadData, modelica_integer _index, modelica_integer _length, modelica_metatype _subsets, modelica_metatype _iAcc)
{
  modelica_metatype _oAcc = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oAcc has no default value.
  { /* match expression */
    {
      modelica_metatype _eqns = NULL;
      modelica_metatype _acc = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _eqns has no default value.
      // _acc has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(_index <= _length)) goto tmp3_end;
          _eqns = arrayGet(_subsets,_index) /* DAE.ASUB */;

          _acc = omc_Matching_appendNonEmpty(threadData, _eqns, _iAcc);
          /* Tail recursive call */
          _index = ((modelica_integer) 1) + _index;
          _iAcc = _acc;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          tmpMeta1 = _iAcc;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oAcc = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _oAcc;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_removeEmptySubsets(threadData_t *threadData, modelica_metatype _index, modelica_metatype _length, modelica_metatype _subsets, modelica_metatype _iAcc)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _oAcc = NULL;
  tmp1 = mmc_unbox_integer(_index);
  tmp2 = mmc_unbox_integer(_length);
  _oAcc = omc_Matching_removeEmptySubsets(threadData, tmp1, tmp2, _subsets, _iAcc);
  /* skip box _oAcc; list<list<#Integer>> */
  return _oAcc;
}

DLLDirection
modelica_metatype omc_Matching_getEqnsforIndexReduction(threadData_t *threadData, modelica_metatype _U, modelica_integer _neqns, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inArg)
{
  modelica_metatype _eqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _eqns has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _U;
    tmp4_2 = _inArg;
    {
      modelica_integer _lengthU;
      modelica_metatype _colummarks = NULL;
      modelica_metatype _mapEqnIncRow = NULL;
      modelica_metatype _subsets = NULL;
      modelica_metatype _mapIncRowEqn = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _lengthU has no default value.
      // _colummarks has no default value.
      // _mapEqnIncRow has no default value.
      // _subsets has no default value.
      // _mapIncRowEqn has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          
          _mapEqnIncRow = tmpMeta7;
          _mapIncRowEqn = tmpMeta8;
          /* Pattern matching succeeded */
          _colummarks = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) -1)));

          _lengthU = listLength(_U);

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _subsets = arrayCreate(_lengthU, tmpMeta9);

          _subsets = omc_Matching_getEqnsforIndexReduction1(threadData, _U, _m, _mT, ((modelica_integer) 1), _colummarks, _ass1, _ass2, _mapEqnIncRow, _mapIncRowEqn, _subsets);
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = omc_Matching_removeEmptySubsets(threadData, ((modelica_integer) 1), _lengthU, _subsets, tmpMeta10);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _eqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _eqns;
}
modelica_metatype boxptr_Matching_getEqnsforIndexReduction(threadData_t *threadData, modelica_metatype _U, modelica_metatype _neqns, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inArg)
{
  modelica_integer tmp1;
  modelica_metatype _eqns = NULL;
  tmp1 = mmc_unbox_integer(_neqns);
  _eqns = omc_Matching_getEqnsforIndexReduction(threadData, _U, tmp1, _m, _mT, _ass1, _ass2, _inArg);
  /* skip box _eqns; list<list<#Integer>> */
  return _eqns;
}

DLLDirection
modelica_metatype omc_Matching_getAssigned(threadData_t *threadData, modelica_integer _ne, modelica_metatype _ass, modelica_metatype _inAssigned)
{
  modelica_metatype _outAssigned = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAssigned has no default value.
  { /* match expression */
    modelica_integer tmp4_1;
    tmp4_1 = _ne;
    {
      modelica_metatype _assigned = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _assigned has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (0 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inAssigned;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _assigned = omc_List_consOnTrue(threadData, (mmc_unbox_integer(arrayGet(_ass,_ne) /* DAE.ASUB */) > ((modelica_integer) 0)), mmc_mk_integer(_ne), _inAssigned);
          /* Tail recursive call */
          _ne = ((modelica_integer) -1) + _ne;
          _inAssigned = _assigned;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outAssigned = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outAssigned;
}
modelica_metatype boxptr_Matching_getAssigned(threadData_t *threadData, modelica_metatype _ne, modelica_metatype _ass, modelica_metatype _inAssigned)
{
  modelica_integer tmp1;
  modelica_metatype _outAssigned = NULL;
  tmp1 = mmc_unbox_integer(_ne);
  _outAssigned = omc_Matching_getAssigned(threadData, tmp1, _ass, _inAssigned);
  /* skip box _outAssigned; list<#Integer> */
  return _outAssigned;
}

DLLDirection
modelica_metatype omc_Matching_getAssignedArray(threadData_t *threadData, modelica_metatype _ass)
{
  modelica_metatype _outIsAssigned = NULL;
  modelica_integer _N;
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outIsAssigned has no default value.
  _N = arrayLength(_ass);
  _outIsAssigned = arrayCreate(_N, mmc_mk_boolean(0 /* false */));

  tmp1 = ((modelica_integer) 1); tmp2 = 1; tmp3 = _N;
  if(!(((tmp2 > 0) && (tmp1 > tmp3)) || ((tmp2 < 0) && (tmp1 < tmp3))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp1, tmp3); _i += tmp2)
    {
      if((mmc_unbox_integer(arrayGet(_ass,_i) /* DAE.ASUB */) > ((modelica_integer) 0)))
      {
        arrayUpdate(_outIsAssigned, _i, mmc_mk_boolean(1 /* true */));
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _outIsAssigned;
}

DLLDirection
modelica_boolean omc_Matching_anyUnassigned(threadData_t *threadData, modelica_integer _ne, modelica_metatype _ass)
{
  modelica_boolean _b;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  { /* match expression */
    modelica_integer tmp4_1;
    tmp4_1 = _ne;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (0 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(mmc_unbox_integer(arrayGet(_ass,_ne) /* DAE.ASUB */) < ((modelica_integer) 1))) goto tmp3_end;
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _ne = ((modelica_integer) -1) + _ne;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_Matching_anyUnassigned(threadData_t *threadData, modelica_metatype _ne, modelica_metatype _ass)
{
  modelica_integer tmp1;
  modelica_boolean _b;
  modelica_metatype out_b;
  tmp1 = mmc_unbox_integer(_ne);
  _b = omc_Matching_anyUnassigned(threadData, tmp1, _ass);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_metatype omc_Matching_getUnassigned(threadData_t *threadData, modelica_integer _ne, modelica_metatype _ass, modelica_metatype _inUnassigned)
{
  modelica_metatype _outUnassigned = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outUnassigned has no default value.
  { /* match expression */
    modelica_integer tmp4_1;
    tmp4_1 = _ne;
    {
      modelica_metatype _unassigned = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _unassigned has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (0 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inUnassigned;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _unassigned = omc_List_consOnTrue(threadData, (mmc_unbox_integer(arrayGet(_ass,_ne) /* DAE.ASUB */) < ((modelica_integer) 1)), mmc_mk_integer(_ne), _inUnassigned);
          /* Tail recursive call */
          _ne = ((modelica_integer) -1) + _ne;
          _inUnassigned = _unassigned;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outUnassigned = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outUnassigned;
}
modelica_metatype boxptr_Matching_getUnassigned(threadData_t *threadData, modelica_metatype _ne, modelica_metatype _ass, modelica_metatype _inUnassigned)
{
  modelica_integer tmp1;
  modelica_metatype _outUnassigned = NULL;
  tmp1 = mmc_unbox_integer(_ne);
  _outUnassigned = omc_Matching_getUnassigned(threadData, tmp1, _ass, _inUnassigned);
  /* skip box _outUnassigned; list<#Integer> */
  return _outUnassigned;
}

DLLDirection
modelica_metatype omc_Matching_getMarked(threadData_t *threadData, modelica_integer _ne, modelica_integer _mark, modelica_metatype _markArr, modelica_metatype _iMarked)
{
  modelica_metatype _oMarked = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oMarked has no default value.
  { /* match expression */
    modelica_integer tmp4_1;
    tmp4_1 = _ne;
    {
      modelica_metatype _marked = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _marked has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (0 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _iMarked;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _marked = omc_List_consOnTrue(threadData, (mmc_unbox_integer(arrayGet(_markArr,_ne) /* DAE.ASUB */) == _mark), mmc_mk_integer(_ne), _iMarked);
          /* Tail recursive call */
          _ne = ((modelica_integer) -1) + _ne;
          _iMarked = _marked;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _oMarked = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _oMarked;
}
modelica_metatype boxptr_Matching_getMarked(threadData_t *threadData, modelica_metatype _ne, modelica_metatype _mark, modelica_metatype _markArr, modelica_metatype _iMarked)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _oMarked = NULL;
  tmp1 = mmc_unbox_integer(_ne);
  tmp2 = mmc_unbox_integer(_mark);
  _oMarked = omc_Matching_getMarked(threadData, tmp1, tmp2, _markArr, _iMarked);
  /* skip box _oMarked; list<#Integer> */
  return _oMarked;
}

DLLDirection
modelica_boolean omc_Matching_isUnAssigned(threadData_t *threadData, modelica_metatype _ass, modelica_integer _i)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _b = (mmc_unbox_integer(arrayGet(_ass,labs(_i)) /* DAE.ASUB */) < ((modelica_integer) 1));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_Matching_isUnAssigned(threadData_t *threadData, modelica_metatype _ass, modelica_metatype _i)
{
  modelica_integer tmp1;
  modelica_boolean _b;
  modelica_metatype out_b;
  tmp1 = mmc_unbox_integer(_i);
  _b = omc_Matching_isUnAssigned(threadData, _ass, tmp1);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_Matching_isAssigned(threadData_t *threadData, modelica_metatype _ass, modelica_integer _i)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _b = (mmc_unbox_integer(arrayGet(_ass,labs(_i)) /* DAE.ASUB */) > ((modelica_integer) 0));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_Matching_isAssigned(threadData_t *threadData, modelica_metatype _ass, modelica_metatype _i)
{
  modelica_integer tmp1;
  modelica_boolean _b;
  modelica_metatype out_b;
  tmp1 = mmc_unbox_integer(_i);
  _b = omc_Matching_isAssigned(threadData, _ass, tmp1);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_metatype omc_Matching_incomingEquations(threadData_t *threadData, modelica_integer _eqn, modelica_metatype _m, modelica_metatype _ass1)
{
  modelica_metatype _outEqNodes = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqNodes has no default value.
  {
    modelica_metatype __omcQ_24tmpVar3;
    modelica_metatype* tmp2;
    modelica_metatype tmpMeta3;
    modelica_metatype __omcQ_24tmpVar2;
    modelica_integer tmp4;
    modelica_metatype _var_loopVar = 0;
    modelica_metatype _var;
    _var_loopVar = arrayGet(_m,_eqn) /* DAE.ASUB */;
    tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar3 = tmpMeta3; /* defaultValue */
    tmp2 = &__omcQ_24tmpVar3;
    while(1) {
      tmp4 = 1;
      while (!listEmpty(_var_loopVar)) {
        _var = MMC_CAR(_var_loopVar);
        _var_loopVar = MMC_CDR(_var_loopVar);
        if ((((mmc_unbox_integer(_var) > ((modelica_integer) 0)) && (mmc_unbox_integer(arrayGet(_ass1,mmc_unbox_integer(_var)) /* DAE.ASUB */) != _eqn)) && (mmc_unbox_integer(arrayGet(_ass1,mmc_unbox_integer(_var)) /* DAE.ASUB */) > ((modelica_integer) 0)))) {
          tmp4--;
          break;
        }
      }
      if (tmp4 == 0) {
        __omcQ_24tmpVar2 = arrayGet(_ass1,mmc_unbox_integer(_var)) /* DAE.ASUB */;
        *tmp2 = mmc_mk_cons(__omcQ_24tmpVar2,0);
        tmp2 = &MMC_CDR(*tmp2);
      } else if (tmp4 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp2 = mmc_mk_nil();
    tmpMeta1 = __omcQ_24tmpVar3;
  }
  _outEqNodes = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEqNodes;
}
modelica_metatype boxptr_Matching_incomingEquations(threadData_t *threadData, modelica_metatype _eqn, modelica_metatype _m, modelica_metatype _ass1)
{
  modelica_integer tmp1;
  modelica_metatype _outEqNodes = NULL;
  tmp1 = mmc_unbox_integer(_eqn);
  _outEqNodes = omc_Matching_incomingEquations(threadData, tmp1, _m, _ass1);
  /* skip box _outEqNodes; list<#Integer> */
  return _outEqNodes;
}

DLLDirection
modelica_metatype omc_Matching_reachableEquations(threadData_t *threadData, modelica_integer _eqn, modelica_metatype _mT, modelica_metatype _ass2)
{
  modelica_metatype _outEqNodes = NULL;
  modelica_integer _var;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta5;
  modelica_boolean tmp6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqNodes has no default value.
  // _var has no default value.
  _var = mmc_unbox_integer(arrayGet(_ass2,_eqn) /* DAE.ASUB */);

  tmp6 = (modelica_boolean)(_var > ((modelica_integer) 0));
  if(tmp6)
  {
    {
      modelica_metatype __omcQ_24tmpVar5;
      modelica_metatype* tmp2;
      modelica_metatype tmpMeta3;
      modelica_metatype __omcQ_24tmpVar4;
      modelica_integer tmp4;
      modelica_metatype _e_loopVar = 0;
      modelica_metatype _e;
      _e_loopVar = arrayGet(_mT,_var) /* DAE.ASUB */;
      tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar5 = tmpMeta3; /* defaultValue */
      tmp2 = &__omcQ_24tmpVar5;
      while(1) {
        tmp4 = 1;
        while (!listEmpty(_e_loopVar)) {
          _e = MMC_CAR(_e_loopVar);
          _e_loopVar = MMC_CDR(_e_loopVar);
          if (((mmc_unbox_integer(_e) > ((modelica_integer) 0)) && (mmc_unbox_integer(_e) != _eqn))) {
            tmp4--;
            break;
          }
        }
        if (tmp4 == 0) {
          __omcQ_24tmpVar4 = _e;
          *tmp2 = mmc_mk_cons(__omcQ_24tmpVar4,0);
          tmp2 = &MMC_CDR(*tmp2);
        } else if (tmp4 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp2 = mmc_mk_nil();
      tmpMeta1 = __omcQ_24tmpVar5;
    }
    tmpMeta7 = tmpMeta1;
  }
  else
  {
    tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
    tmpMeta7 = tmpMeta5;
  }
  _outEqNodes = tmpMeta7;
  _return: OMC_LABEL_UNUSED
  return _outEqNodes;
}
modelica_metatype boxptr_Matching_reachableEquations(threadData_t *threadData, modelica_metatype _eqn, modelica_metatype _mT, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_metatype _outEqNodes = NULL;
  tmp1 = mmc_unbox_integer(_eqn);
  _outEqNodes = omc_Matching_reachableEquations(threadData, tmp1, _mT, _ass2);
  /* skip box _outEqNodes; list<#Integer> */
  return _outEqNodes;
}

DLLDirection
void omc_Matching_matchingExternalsetAdjacencyMatrix(threadData_t *threadData, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m)
{
  modelica_integer _nz;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _nz has no default value.
  _nz = omc_Matching_countadjacencyMatrixEntries(threadData, _ne, _m);

  omc_BackendDAEEXT_setAdjacencyMatrix(threadData, _nv, _ne, _nz, _m);
  _return: OMC_LABEL_UNUSED
  return;
}
void boxptr_Matching_matchingExternalsetAdjacencyMatrix(threadData_t *threadData, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  omc_Matching_matchingExternalsetAdjacencyMatrix(threadData, tmp1, tmp2, _m);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_countadjacencyMatrixEntries(threadData_t *threadData, modelica_integer _n, modelica_metatype _m)
{
  modelica_integer _outCount;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outCount = ((modelica_integer) 0);
  tmp3 = ((modelica_integer) 1); tmp4 = 1; tmp5 = _n;
  if(!(((tmp4 > 0) && (tmp3 > tmp5)) || ((tmp4 < 0) && (tmp3 < tmp5))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp3, tmp5); _i += tmp4)
    {
      {
        modelica_metatype _e;
        for (tmpMeta1 = arrayGet(_m,_i) /* DAE.ASUB */; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
        {
          _e = MMC_CAR(tmpMeta1);
          if((mmc_unbox_integer(_e) > ((modelica_integer) 0)))
          {
            _outCount = ((modelica_integer) 1) + _outCount;
          }
        }
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _outCount;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_countadjacencyMatrixEntries(threadData_t *threadData, modelica_metatype _n, modelica_metatype _m)
{
  modelica_integer tmp1;
  modelica_integer _outCount;
  modelica_metatype out_outCount;
  tmp1 = mmc_unbox_integer(_n);
  _outCount = omc_Matching_countadjacencyMatrixEntries(threadData, tmp1, _m);
  out_outCount = mmc_mk_icon(_outCount);
  return out_outCount;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_removeEdgesForNoDerivativeFunctionInputs(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _sys, modelica_metatype _shared, modelica_metatype *out_mtOut)
{
  modelica_metatype _mOut = NULL;
  modelica_metatype _mtOut = NULL;
  modelica_boolean _hasNoDerAnno;
  modelica_integer _idx;
  modelica_integer _varIdx;
  modelica_metatype _varIdxs = NULL;
  modelica_metatype _row = NULL;
  modelica_metatype _eqs = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _functionTree = NULL;
  modelica_metatype _noDerInputs = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _mOut has no default value.
  // _mtOut has no default value.
  // _hasNoDerAnno has no default value.
  // _idx has no default value.
  // _varIdx has no default value.
  // _varIdxs has no default value.
  // _row has no default value.
  // _eqs has no default value.
  // _vars has no default value.
  // _functionTree has no default value.
  // _noDerInputs has no default value.
  _vars = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sys), 2)));

  _eqs = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sys), 3)));

  _functionTree = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 12)));

  _idx = ((modelica_integer) 1);

  {
    modelica_metatype _eq;
    for (tmpMeta1 = omc_BackendEquation_equationList(threadData, _eqs); !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _eq = MMC_CAR(tmpMeta1);
      _hasNoDerAnno = omc_BackendDAEUtil_isFuncCallWithNoDerAnnotation(threadData, _eq, _functionTree ,&_noDerInputs);

      if(_hasNoDerAnno)
      {
        omc_BackendVariable_getVarLst(threadData, _noDerInputs, _vars ,&_varIdxs);

        _row = arrayGet(_m,_idx) /* DAE.ASUB */;

        _row = omc_UnorderedSet_difference__list(threadData, _row, _varIdxs, boxvar_Util_id, boxvar_intEq);

        arrayUpdate(_m, _idx, _row);

        {
          modelica_metatype _varIdx;
          for (tmpMeta2 = _varIdxs; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
          {
            _varIdx = MMC_CAR(tmpMeta2);
            _row = arrayGet(_mt, mmc_unbox_integer(_varIdx));

            _row = omc_List_deleteMemberOnTrue(threadData, mmc_mk_integer(_idx), _row, boxvar_intEq, NULL);

            arrayUpdate(_mt, mmc_unbox_integer(_varIdx), _row);
          }
        }
      }

      _idx = ((modelica_integer) 1) + _idx;
    }
  }

  _mOut = _m;

  _mtOut = _mt;
  _return: OMC_LABEL_UNUSED
  if (out_mtOut) { *out_mtOut = _mtOut; }
  return _mOut;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_removeEdgesToDiscreteEquations(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _sys, modelica_metatype _shared, modelica_metatype *out_mtOut)
{
  modelica_metatype _mOut = NULL;
  modelica_metatype _mtOut = NULL;
  modelica_boolean _isDiscrete;
  modelica_integer _idx;
  modelica_integer _idx2;
  modelica_integer _size;
  modelica_integer _varIdx;
  modelica_metatype _varIdxs = NULL;
  modelica_metatype _row = NULL;
  modelica_metatype _eqIdxs = NULL;
  modelica_metatype _eqs = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _varLst = NULL;
  modelica_metatype _eqIdxArray = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _mOut has no default value.
  // _mtOut has no default value.
  // _isDiscrete has no default value.
  // _idx has no default value.
  // _idx2 has no default value.
  // _size has no default value.
  // _varIdx has no default value.
  // _varIdxs has no default value.
  // _row has no default value.
  // _eqIdxs has no default value.
  // _eqs has no default value.
  // _vars has no default value.
  // _varLst has no default value.
  // _eqIdxArray has no default value.
  _vars = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sys), 2)));

  _eqs = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sys), 3)));

  _idx = ((modelica_integer) 1);

  _idx2 = ((modelica_integer) 0);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _eqIdxArray = arrayCreate(omc_BackendEquation_getNumberOfEquations(threadData, _eqs), tmpMeta1);

  {
    modelica_metatype _eq;
    for (tmpMeta2 = omc_BackendEquation_equationList(threadData, _eqs); !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _eq = MMC_CAR(tmpMeta2);
      _size = omc_BackendEquation_equationSize(threadData, omc_BackendEquation_get(threadData, _eqs, _idx));

      _eqIdxs = omc_List_map1(threadData, omc_List_intRange(threadData, _size), boxvar_intAdd, mmc_mk_integer(_idx2));

      arrayUpdate(_eqIdxArray, _idx, _eqIdxs);

      _idx = ((modelica_integer) 1) + _idx;

      _idx2 = _size + _idx2;
    }
  }

  _idx = ((modelica_integer) 1);

  {
    modelica_metatype _eq;
    for (tmpMeta4 = omc_BackendEquation_equationList(threadData, _eqs); !listEmpty(tmpMeta4); tmpMeta4=MMC_CDR(tmpMeta4))
    {
      _eq = MMC_CAR(tmpMeta4);
      _isDiscrete = omc_BackendEquation_isWhenEquationOrDiscreteAlgorithm(threadData, _eq, _vars);

      if(_isDiscrete)
      {
        _varLst = omc_BackendEquation_equationVars(threadData, _eq, _vars);

        _varIdxs = omc_BackendVariable_getVarIndexFromVars(threadData, _varLst, _vars);

        _eqIdxs = arrayGet(_eqIdxArray,_idx) /* DAE.ASUB */;

        {
          modelica_metatype _e;
          for (tmpMeta5 = _eqIdxs; !listEmpty(tmpMeta5); tmpMeta5=MMC_CDR(tmpMeta5))
          {
            _e = MMC_CAR(tmpMeta5);
            _row = arrayGet(_m,mmc_unbox_integer(_e)) /* DAE.ASUB */;

            _row = omc_UnorderedSet_difference__list(threadData, _row, _varIdxs, boxvar_Util_id, boxvar_intEq);

            arrayUpdate(_m, mmc_unbox_integer(_e), _row);
          }
        }

        {
          modelica_metatype _varIdx;
          for (tmpMeta7 = _varIdxs; !listEmpty(tmpMeta7); tmpMeta7=MMC_CDR(tmpMeta7))
          {
            _varIdx = MMC_CAR(tmpMeta7);
            _row = arrayGet(_mt,mmc_unbox_integer(_varIdx)) /* DAE.ASUB */;

            _row = omc_UnorderedSet_difference__list(threadData, _row, _eqIdxs, boxvar_Util_id, boxvar_intEq);

            arrayUpdate(_mt, mmc_unbox_integer(_varIdx), _row);
          }
        }
      }

      _idx = ((modelica_integer) 1) + _idx;
    }
  }

  _mOut = _m;

  _mtOut = _mt;
  _return: OMC_LABEL_UNUSED
  if (out_mtOut) { *out_mtOut = _mtOut; }
  return _mOut;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_sanityCheckArtificialStates(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsyst, modelica_metatype _shared, modelica_integer _nv, modelica_integer _ne, modelica_metatype __omcQ_24in_5Feqns, modelica_metatype __omcQ_24in_5Fass1, modelica_metatype __omcQ_24in_5Fass2, modelica_integer _algIndx, modelica_integer _cheapMatching, modelica_integer _clearMatching, modelica_metatype _arg, modelica_metatype *out_eqns, modelica_metatype *out_ass1, modelica_metatype *out_ass2)
{
  modelica_metatype _syst = NULL;
  modelica_metatype _eqns = NULL;
  modelica_metatype _ass1 = NULL;
  modelica_metatype _ass2 = NULL;
  modelica_metatype _eqns_1 = NULL;
  modelica_metatype _unassignedStates = NULL;
  modelica_metatype _flat_unassignedStates = NULL;
  modelica_metatype _flat_eqns = NULL;
  modelica_metatype _unmatched1 = NULL;
  modelica_metatype _scalarToArrayMap = NULL;
  modelica_metatype _artificialStates = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _undiffable_artificial = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype _residuals = NULL;
  modelica_metatype _equations = NULL;
  modelica_metatype tmpMeta3;
  modelica_metatype _var = NULL;
  modelica_metatype _cr = NULL;
  modelica_metatype _residualExp = NULL;
  modelica_metatype _m = NULL;
  modelica_metatype _mt = NULL;
  modelica_metatype _m1 = NULL;
  modelica_metatype _m1t = NULL;
  modelica_boolean _unique_flag;
  modelica_string _msg = NULL;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta20;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta22;
  modelica_metatype tmpMeta38;
  modelica_metatype tmpMeta39;
  modelica_metatype tmpMeta40;
  modelica_metatype tmpMeta41;
  modelica_metatype tmpMeta42;
  modelica_metatype tmpMeta43;
  modelica_metatype tmpMeta44;
  modelica_metatype tmpMeta45;
  modelica_metatype tmpMeta46;
  modelica_metatype tmpMeta47;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _syst = __omcQ_24in_5Fsyst;
  _eqns = __omcQ_24in_5Feqns;
  _ass1 = __omcQ_24in_5Fass1;
  _ass2 = __omcQ_24in_5Fass2;
  // _eqns_1 has no default value.
  // _unassignedStates has no default value.
  // _flat_unassignedStates has no default value.
  // _flat_eqns has no default value.
  // _unmatched1 has no default value.
  // _scalarToArrayMap has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _artificialStates = tmpMeta1;
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _undiffable_artificial = tmpMeta2;
  // _residuals has no default value.
  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  _equations = tmpMeta3;
  // _var has no default value.
  // _cr has no default value.
  // _residualExp has no default value.
  // _m has no default value.
  // _mt has no default value.
  // _m1 has no default value.
  // _m1t has no default value.
  // _unique_flag has no default value.
  // _msg has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp6;
      int tmp7;
      tmp6 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp5_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp6 < 2; tmp6++) {
        switch (MMC_SWITCH_CAST(tmp6)) {
        case 0: {
          /* Pattern matching succeeded */
          _eqns_1 = omc_IndexReduction_minimalStructurallySingularSystem(threadData, _eqns, _syst, _shared, _ass2, _ass1, _arg ,&_unassignedStates ,NULL ,NULL);
          goto tmp5_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT55))
          {
            omc_Matching_singularSystemError(threadData, _eqns, ((modelica_integer) 0), _syst, _shared, _ass1, _ass2, _arg);
          }

          goto goto_4;
          goto tmp5_done;
        }
        }
        goto tmp5_end;
        tmp5_end: ;
      }
      goto goto_4;
      tmp5_done:
      (void)tmp6;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp5_done2;
      goto_4:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp6 < 2) {
        goto tmp5_top;
      }
      MMC_THROW_INTERNAL();
      tmp5_done2:;
    }
  }
  ;

  _flat_unassignedStates = omc_List_flatten(threadData, _unassignedStates);

  {
    modelica_metatype _state;
    for (tmpMeta8 = _flat_unassignedStates; !listEmpty(tmpMeta8); tmpMeta8=MMC_CDR(tmpMeta8))
    {
      _state = MMC_CAR(tmpMeta8);
      _var = omc_BackendVariable_getVarAt(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))), mmc_unbox_integer(_state));

      if((omc_BackendVariable_isArtificialState(threadData, _var) && (!listMember(_var, _artificialStates))))
      {
        tmpMeta9 = mmc_mk_cons(_var, _artificialStates);
        _artificialStates = tmpMeta9;
      }
    }
  }

  _flat_eqns = omc_List_flatten(threadData, _eqns_1);

  /* Pattern-matching assignment */
  tmpMeta11 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 6)));
  if (optionNone(tmpMeta11)) MMC_THROW_INTERNAL();
  tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 1));
  tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 2));
  _scalarToArrayMap = tmpMeta13;

  {
    modelica_metatype _eqn;
    for (tmpMeta14 = _flat_eqns; !listEmpty(tmpMeta14); tmpMeta14=MMC_CDR(tmpMeta14))
    {
      _eqn = MMC_CAR(tmpMeta14);
      { /* matchcontinue expression */
        {
          volatile mmc_switch_type tmp17;
          int tmp18;
          tmp17 = 0;
          MMC_TRY_INTERNAL(mmc_jumper)
          tmp16_top:
          threadData->mmc_jumper = &new_mmc_jumper;
          for (; tmp17 < 2; tmp17++) {
            switch (MMC_SWITCH_CAST(tmp17)) {
            case 0: {
              modelica_metatype tmpMeta19;
              /* Pattern matching succeeded */
              tmpMeta19 = mmc_mk_cons(omc_BackendEquation_get(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))), mmc_unbox_integer(arrayGet(_scalarToArrayMap,mmc_unbox_integer(_eqn)) /* DAE.ASUB */)), _equations);
              _equations = tmpMeta19;
              goto tmp16_done;
            }
            case 1: {
              /* Pattern matching succeeded */
              goto tmp16_done;
            }
            }
            goto tmp16_end;
            tmp16_end: ;
          }
          goto goto_15;
          tmp16_done:
          (void)tmp17;
          MMC_RESTORE_INTERNAL(mmc_jumper);
          goto tmp16_done2;
          goto_15:;
          MMC_CATCH_INTERNAL(mmc_jumper);
          if (++tmp17 < 2) {
            goto tmp16_top;
          }
          MMC_THROW_INTERNAL();
          tmp16_done2:;
        }
      }
      ;
    }
  }

  {
    modelica_metatype _var;
    for (tmpMeta21 = _artificialStates; !listEmpty(tmpMeta21); tmpMeta21=MMC_CDR(tmpMeta21))
    {
      _var = MMC_CAR(tmpMeta21);
      _unique_flag = 0 /* false */;

      {
        modelica_metatype _eqn;
        for (tmpMeta22 = _equations; !listEmpty(tmpMeta22); tmpMeta22=MMC_CDR(tmpMeta22))
        {
          _eqn = MMC_CAR(tmpMeta22);
          { /* matchcontinue expression */
            {
              volatile mmc_switch_type tmp25;
              int tmp26;
              tmp25 = 0;
              MMC_TRY_INTERNAL(mmc_jumper)
              tmp24_top:
              threadData->mmc_jumper = &new_mmc_jumper;
              for (; tmp25 < 2; tmp25++) {
                switch (MMC_SWITCH_CAST(tmp25)) {
                case 0: {
                  modelica_metatype tmpMeta27;
                  modelica_metatype tmpMeta28;
                  modelica_metatype tmpMeta29;
                  modelica_metatype tmpMeta30;
                  modelica_boolean tmp31;
                  modelica_metatype tmpMeta32;
                  /* Pattern matching succeeded */
                  _residuals = omc_BackendEquation_equationToScalarResidualForm(threadData, _eqn, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 12))));

                  {
                    modelica_metatype _res;
                    for (tmpMeta27 = _residuals; !listEmpty(tmpMeta27); tmpMeta27=MMC_CDR(tmpMeta27))
                    {
                      _res = MMC_CAR(tmpMeta27);
                      /* Pattern-matching assignment */
                      tmpMeta28 = _res;
                      if (mmc__uniontype__metarecord__typedef__equal(tmpMeta28,3,3) == 0) goto goto_23;
                      tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta28), 2));
                      _residualExp = tmpMeta29;

                      _cr = omc_BackendVariable_varCref(threadData, _var);

                      if(omc_Expression_expHasCref(threadData, _residualExp, _cr))
                      {
                        tmpMeta30 = mmc_mk_box2(0, mmc_mk_some((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 12)))), _OMC_LIT59);
                        _residualExp = omc_Inline_forceInlineExp(threadData, _residualExp, tmpMeta30, _OMC_LIT64, NULL, NULL);

                        _residualExp = omc_Expression_replaceDerOpInExp(threadData, _residualExp);

                        omc_Differentiate_differentiateExpSolve(threadData, _residualExp, _cr, mmc_mk_some((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 12)))));

                        /* Pattern-matching assignment */
                        tmp31 = omc_Expression_expHasCrefInSmoothZero(threadData, _residualExp, _cr);
                        if (0 /* false */ != tmp31) goto goto_23;
                      }
                    }
                  }
                  goto tmp24_done;
                }
                case 1: {
                  modelica_metatype tmpMeta33;
                  modelica_metatype tmpMeta34;
                  modelica_metatype tmpMeta35;
                  modelica_metatype tmpMeta36;
                  modelica_metatype tmpMeta37;
                  /* Pattern matching succeeded */
                  if(omc_Flags_isSet(threadData, _OMC_LIT55))
                  {
                    tmpMeta33 = stringAppend(_OMC_LIT65,omc_BackendDump_equationString(threadData, _eqn));
                    tmpMeta34 = stringAppend(tmpMeta33,_OMC_LIT66);
                    tmpMeta35 = stringAppend(tmpMeta34,omc_ComponentReference_printComponentRefStr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)))));
                    tmpMeta36 = stringAppend(tmpMeta35,_OMC_LIT67);
                    fputs(MMC_STRINGDATA(tmpMeta36),stdout);
                  }

                  if((!_unique_flag))
                  {
                    tmpMeta37 = mmc_mk_cons(omc_BackendVariable_setVarKind(threadData, _var, _OMC_LIT68), _undiffable_artificial);
                    _undiffable_artificial = tmpMeta37;

                    _unique_flag = 1 /* true */;
                  }
                  goto tmp24_done;
                }
                }
                goto tmp24_end;
                tmp24_end: ;
              }
              goto goto_23;
              tmp24_done:
              (void)tmp25;
              MMC_RESTORE_INTERNAL(mmc_jumper);
              goto tmp24_done2;
              goto_23:;
              MMC_CATCH_INTERNAL(mmc_jumper);
              if (++tmp25 < 2) {
                goto tmp24_top;
              }
              MMC_THROW_INTERNAL();
              tmp24_done2:;
            }
          }
          ;
        }
      }
    }
  }

  if((!listEmpty(_undiffable_artificial)))
  {
    tmpMeta40 = MMC_TAGPTR(mmc_alloc_words(11));
    memcpy(MMC_UNTAGPTR(tmpMeta40), MMC_UNTAGPTR(_syst), 11*sizeof(modelica_metatype));
    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta40))[2] = omc_BackendVariable_addVars(threadData, _undiffable_artificial, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))));
    _syst = tmpMeta40;

    _syst = omc_BackendDAEUtil_getAdjacencyMatrixScalar(threadData, _syst, _OMC_LIT69, mmc_mk_some((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 12)))), omc_BackendDAEUtil_isInitializationDAE(threadData, _shared), NULL, NULL, NULL, NULL);

    if((isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 4)))) && isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 5))))))
    {
      /* Pattern-matching assignment */
      tmpMeta41 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 4)));
      if (optionNone(tmpMeta41)) MMC_THROW_INTERNAL();
      tmpMeta42 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta41), 1));
      _m = tmpMeta42;

      /* Pattern-matching assignment */
      tmpMeta43 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 5)));
      if (optionNone(tmpMeta43)) MMC_THROW_INTERNAL();
      tmpMeta44 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta43), 1));
      _mt = tmpMeta44;

      omc_Matching_matchingExternalsetAdjacencyMatrix(threadData, _nv, _ne, _m);

      omc_BackendDAEEXT_matching(threadData, _nv, _ne, _algIndx, _cheapMatching, 1.0, _clearMatching);

      omc_BackendDAEEXT_getAssignment(threadData, _ass1, _ass2);

      tmpMeta45 = MMC_REFSTRUCTLIT(mmc_nil);
      _unmatched1 = omc_Matching_getUnassigned(threadData, _ne, _ass1, tmpMeta45);

      _m1 = arrayCopy(_m);

      _m1t = arrayCopy(_mt);

      _m1 = omc_Matching_removeEdgesForNoDerivativeFunctionInputs(threadData, _m1, _m1t, _syst, _shared ,&_m1t);

      _m1 = omc_Matching_removeEdgesToDiscreteEquations(threadData, _m1, _m1t, _syst, _shared ,&_m1t);

      _eqns = omc_Matching_getEqnsforIndexReduction(threadData, _unmatched1, _ne, _m1, _m1t, _ass1, _ass2, _arg);
    }

    if(omc_Flags_isSet(threadData, _OMC_LIT55))
    {
      fputs(MMC_STRINGDATA(_OMC_LIT70),stdout);
    }

    tmpMeta46 = stringAppend(omc_BackendDump_varListStringShort(threadData, _undiffable_artificial, _OMC_LIT71),_OMC_LIT72);
    _msg = omc_System_gettext(threadData, tmpMeta46);

    tmpMeta47 = mmc_mk_cons(_msg, MMC_REFSTRUCTLIT(mmc_nil));
    omc_Error_addMessage(threadData, _OMC_LIT77, tmpMeta47);
  }
  _return: OMC_LABEL_UNUSED
  if (out_eqns) { *out_eqns = _eqns; }
  if (out_ass1) { *out_ass1 = _ass1; }
  if (out_ass2) { *out_ass2 = _ass2; }
  return _syst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_sanityCheckArtificialStates(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsyst, modelica_metatype _shared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype __omcQ_24in_5Feqns, modelica_metatype __omcQ_24in_5Fass1, modelica_metatype __omcQ_24in_5Fass2, modelica_metatype _algIndx, modelica_metatype _cheapMatching, modelica_metatype _clearMatching, modelica_metatype _arg, modelica_metatype *out_eqns, modelica_metatype *out_ass1, modelica_metatype *out_ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_metatype _syst = NULL;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  tmp3 = mmc_unbox_integer(_algIndx);
  tmp4 = mmc_unbox_integer(_cheapMatching);
  tmp5 = mmc_unbox_integer(_clearMatching);
  _syst = omc_Matching_sanityCheckArtificialStates(threadData, __omcQ_24in_5Fsyst, _shared, tmp1, tmp2, __omcQ_24in_5Feqns, __omcQ_24in_5Fass1, __omcQ_24in_5Fass2, tmp3, tmp4, tmp5, _arg, out_eqns, out_ass1, out_ass2);
  /* skip box _syst; BackendDAE.EqSystem */
  /* skip box _eqns; list<list<#Integer>> */
  /* skip box _ass1; array<#Integer> */
  /* skip box _ass2; array<#Integer> */
  return _syst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_matchingExternal(threadData_t *threadData, modelica_metatype _meqns, modelica_boolean _internalCall, modelica_integer _algIndx, modelica_integer _cheapMatching, modelica_integer _clearMatching, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_boolean tmp4_2;modelica_metatype tmp4_3;modelica_metatype tmp4_4;
    tmp4_1 = _meqns;
    tmp4_2 = _internalCall;
    tmp4_3 = _isyst;
    tmp4_4 = _inMatchingOptions;
    {
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_metatype _m1 = NULL;
      modelica_metatype _m1t = NULL;
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_integer _memsize;
      modelica_metatype _unmatched_eqs = NULL;
      modelica_metatype _meqns1 = NULL;
      modelica_metatype _comps = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass1_2 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _ass2_2 = NULL;
      modelica_boolean _changed;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _m has no default value.
      // _mt has no default value.
      // _m1 has no default value.
      // _m1t has no default value.
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _memsize has no default value.
      // _unmatched_eqs has no default value.
      // _meqns1 has no default value.
      // _comps has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass1_2 has no default value.
      // _ass2_1 has no default value.
      // _ass2_2 has no default value.
      _changed = 0 /* false */;
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (1 /* true */ != tmp4_2) goto tmp3_end;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _ass1;
          tmpMeta[0+1] = _ass2;
          tmpMeta[0+2] = _isyst;
          tmpMeta[0+3] = _ishared;
          tmpMeta[0+4] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          if (0 /* false */ != tmp4_2) goto tmp3_end;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          omc_Matching_matchingExternalsetAdjacencyMatrix(threadData, _nv, _ne, _m);

          omc_BackendDAEEXT_matching(threadData, _nv, _ne, _algIndx, _cheapMatching, 1.0, _clearMatching);

          omc_BackendDAEEXT_getAssignment(threadData, _ass1, _ass2);

          /* Pattern-matching assignment */
          tmpMeta10 = mmc_mk_box2(0, _ass1, _ass2);
          tmpMeta11 = tmpMeta10;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 1));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          _ass1_1 = tmpMeta12;
          _ass2_1 = tmpMeta13;

          _syst = _isyst;

          if((((!omc_Flags_getConfigBool(threadData, _OMC_LIT83)) && omc_BackendDAEUtil_hasIndexTypeSolvableAndUnprocessedScalar(threadData, _syst)) && omc_BackendDAEUtil_doIndexReduction(threadData, _inMatchingOptions)))
          {
            _syst = omc_BackendDAEUtil_setAnalyticalToStructuralProcessed(threadData, _syst, 1 /* true */);

            omc_BackendDAEUtil_getAdjacencyMatrixScalar(threadData, _isyst, _OMC_LIT5, mmc_mk_none(), omc_BackendDAEUtil_isInitializationDAE(threadData, _ishared) ,&_m1 ,NULL ,NULL ,NULL);

            _comps = omc_Sorting_Tarjan(threadData, _m1, _ass2_1, arrayLength(_ass2_1));

            {
              modelica_metatype _comp;
              for (tmpMeta14 = _comps; !listEmpty(tmpMeta14); tmpMeta14=MMC_CDR(tmpMeta14))
              {
                _comp = MMC_CAR(tmpMeta14);
                _ass1_1 = omc_BackendDAEUtil_analyticalToStructuralSingularity(threadData, _comp, _ass1_1, _ass2_1, _syst, _changed, 0 /* false */ ,&_ass2_1 ,&_syst ,&_changed);
              }
            }

            if(_changed)
            {
              omc_BackendDAEEXT_setAssignment(threadData, _nv, _ne, _ass1_1, _ass2_1);

              /* Pattern-matching assignment */
              tmpMeta16 = _syst;
              tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta16), 4));
              if (optionNone(tmpMeta17)) goto goto_2;
              tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 1));
              tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta16), 5));
              if (optionNone(tmpMeta19)) goto goto_2;
              tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta19), 1));
              _m = tmpMeta18;
              _mt = tmpMeta20;

              omc_Matching_matchingExternalsetAdjacencyMatrix(threadData, _nv, _ne, _m);

              omc_BackendDAEEXT_matching(threadData, _nv, _ne, _algIndx, _cheapMatching, 1.0, ((modelica_integer) 0));

              omc_BackendDAEEXT_getAssignment(threadData, _ass1_1, _ass2_1);
            }
          }

          tmpMeta21 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched_eqs = omc_Matching_getUnassigned(threadData, _ne, _ass1_1, tmpMeta21);

          if((omc_Flags_isSet(threadData, _OMC_LIT55) && omc_Flags_isSet(threadData, _OMC_LIT89)))
          {
            tmpMeta22 = stringAppend(_OMC_LIT84,intString(arrayLength(_m)));
            tmpMeta23 = stringAppend(tmpMeta22,_OMC_LIT85);
            tmpMeta24 = stringAppend(tmpMeta23,intString(listLength(_unmatched_eqs)));
            omc_BackendDump_dumpBipartiteGraphEqSystem(threadData, _isyst, _ishared, tmpMeta24);
          }

          if((omc_Flags_isSet(threadData, _OMC_LIT55) && (!listEmpty(_unmatched_eqs))))
          {
            tmpMeta25 = stringAppend(_OMC_LIT90,stringDelimitList(omc_List_map(threadData, _unmatched_eqs, boxvar_intString), _OMC_LIT91));
            tmpMeta26 = stringAppend(tmpMeta25,_OMC_LIT92);
            fputs(MMC_STRINGDATA(tmpMeta26),stdout);
          }

          _m1 = arrayCopy(_m);

          _m1t = arrayCopy(_mt);

          _m1 = omc_Matching_removeEdgesForNoDerivativeFunctionInputs(threadData, _m1, _m1t, _syst, _ishared ,&_m1t);

          _m1 = omc_Matching_removeEdgesToDiscreteEquations(threadData, _m1, _m1t, _syst, _ishared ,&_m1t);

          _meqns1 = omc_Matching_getEqnsforIndexReduction(threadData, _unmatched_eqs, _ne, _m1, _m1t, _ass1_1, _ass2_1, _inArg);

          if((!listEmpty(_meqns1)))
          {
            _syst = omc_Matching_sanityCheckArtificialStates(threadData, _syst, _ishared, _nv, _ne, _meqns1, _ass1_1, _ass2_1, _algIndx, _cheapMatching, _clearMatching, _inArg ,&_meqns1 ,&_ass1_1 ,&_ass2_1);
          }
          else
          {
            /* Pattern-matching assignment */
            tmpMeta27 = mmc_mk_box4(0, _syst, _meqns1, _ass1_1, _ass2_1);
            tmpMeta28 = tmpMeta27;
            tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta28), 1));
            tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta28), 2));
            tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta28), 3));
            tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta28), 4));
            _syst = tmpMeta29;
            _meqns1 = tmpMeta30;
            _ass1_1 = tmpMeta31;
            _ass2_1 = tmpMeta32;
          }

          if((omc_Flags_isSet(threadData, _OMC_LIT55) && (!listEmpty(_meqns1))))
          {
            tmpMeta33 = stringAppend(_OMC_LIT93,stringDelimitList(omc_List_map(threadData, _meqns1, boxvar_Util_intLstString), _OMC_LIT94));
            tmpMeta34 = stringAppend(tmpMeta33,_OMC_LIT92);
            fputs(MMC_STRINGDATA(tmpMeta34),stdout);
          }
          /* Tail recursive call */
          _meqns = _meqns1;
          _internalCall = 1 /* true */;
          _cheapMatching = ((modelica_integer) -1);
          _clearMatching = ((modelica_integer) 0);
          _isyst = _syst;
          _ass1 = _ass1_1;
          _ass2 = _ass2_1;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_boolean tmp38;
          modelica_metatype tmpMeta39;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta35 = MMC_CAR(tmp4_1);
          tmpMeta36 = MMC_CDR(tmp4_1);
          tmpMeta37 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_4), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta37,0,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _memsize = arrayLength(_ass1);

          (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))), _meqns, mmc_mk_integer(((modelica_integer) 0)), _isyst, _ishared, _ass2, _ass1, _inArg ,NULL ,&_syst ,&_shared ,&_ass2_1 ,&_ass1_1 ,&_arg) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, _meqns, mmc_mk_integer(((modelica_integer) 0)), _isyst, _ishared, _ass2, _ass1, _inArg ,NULL ,&_syst ,&_shared ,&_ass2_1 ,&_ass1_1 ,&_arg);

          _ne_1 = omc_BackendDAEUtil_systemSize(threadData, _syst);

          _nv_1 = omc_BackendVariable_daenumVariables(threadData, _syst);

          _ass1_2 = omc_Matching_assignmentsArrayExpand(threadData, _ass1_1, _ne_1, _memsize, ((modelica_integer) -1));

          _ass2_2 = omc_Matching_assignmentsArrayExpand(threadData, _ass2_1, _nv_1, _memsize, ((modelica_integer) -1));

          /* Pattern-matching assignment */
          tmp38 = omc_BackendDAEEXT_setAssignment(threadData, _ne_1, _nv_1, _ass1_2, _ass2_2);
          if (1 /* true */ != tmp38) goto goto_2;
          tmpMeta39 = MMC_REFSTRUCTLIT(mmc_nil);
          /* Tail recursive call */
          _meqns = tmpMeta39;
          _internalCall = 0 /* false */;
          _isyst = _syst;
          _ishared = _shared;
          _nv = _nv_1;
          _ne = _ne_1;
          _ass1 = _ass1_2;
          _ass2 = _ass2_2;
          _inArg = _arg;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Matching_singularSystemError(threadData, _meqns, ((modelica_integer) 0), _isyst, _ishared, _ass1, _ass2, _inArg);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outAss1 = tmpMeta[0+0];
  _outAss2 = tmpMeta[0+1];
  _osyst = tmpMeta[0+2];
  _oshared = tmpMeta[0+3];
  _outArg = tmpMeta[0+4];
  _return: OMC_LABEL_UNUSED
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outAss1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_matchingExternal(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _internalCall, modelica_metatype _algIndx, modelica_metatype _cheapMatching, modelica_metatype _clearMatching, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_metatype _outAss1 = NULL;
  tmp1 = mmc_unbox_integer(_internalCall);
  tmp2 = mmc_unbox_integer(_algIndx);
  tmp3 = mmc_unbox_integer(_cheapMatching);
  tmp4 = mmc_unbox_integer(_clearMatching);
  tmp5 = mmc_unbox_integer(_nv);
  tmp6 = mmc_unbox_integer(_ne);
  _outAss1 = omc_Matching_matchingExternal(threadData, _meqns, tmp1, tmp2, tmp3, tmp4, _isyst, _ishared, tmp5, tmp6, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outAss1;
}

DLLDirection
modelica_metatype omc_Matching_PR__FIFO__FAIRExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_boolean tmp7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp6 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp6) goto goto_2;

          /* Pattern-matching assignment */
          tmp7 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp7) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          /* Pattern-matching assignment */
          tmp8 = ((!_clearMatching)?omc_BackendDAEEXT_setAssignment(threadData, _neqns, _nvars, _vec1, _vec2):1 /* true */);
          if (1 /* true */ != tmp8) goto goto_2;

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = omc_Matching_matchingExternal(threadData, tmpMeta9, 0 /* false */, ((modelica_integer) 10), omc_Config_getCheapMatchingAlgorithm(threadData), (_clearMatching?((modelica_integer) 1):((modelica_integer) 0)), _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta11 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta10);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta11);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp12;
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp12 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp12) goto goto_2;

          /* Pattern-matching assignment */
          tmp13 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp13) goto goto_2;

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta14);

          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta15);

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta16);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta17);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT95);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_PR__FIFO__FAIRExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_PR__FIFO__FAIRExternal(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

DLLDirection
modelica_metatype omc_Matching_ABMPExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_boolean tmp7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp6 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp6) goto goto_2;

          /* Pattern-matching assignment */
          tmp7 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp7) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          /* Pattern-matching assignment */
          tmp8 = ((!_clearMatching)?omc_BackendDAEEXT_setAssignment(threadData, _neqns, _nvars, _vec1, _vec2):1 /* true */);
          if (1 /* true */ != tmp8) goto goto_2;

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = omc_Matching_matchingExternal(threadData, tmpMeta9, 0 /* false */, ((modelica_integer) 8), omc_Config_getCheapMatchingAlgorithm(threadData), (_clearMatching?((modelica_integer) 1):((modelica_integer) 0)), _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta11 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta10);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta11);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp12;
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp12 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp12) goto goto_2;

          /* Pattern-matching assignment */
          tmp13 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp13) goto goto_2;

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta14);

          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta15);

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta16);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta17);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT100);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_ABMPExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_ABMPExternal(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

DLLDirection
modelica_metatype omc_Matching_HKDWExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_boolean tmp7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp6 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp6) goto goto_2;

          /* Pattern-matching assignment */
          tmp7 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp7) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          /* Pattern-matching assignment */
          tmp8 = ((!_clearMatching)?omc_BackendDAEEXT_setAssignment(threadData, _neqns, _nvars, _vec1, _vec2):1 /* true */);
          if (1 /* true */ != tmp8) goto goto_2;

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = omc_Matching_matchingExternal(threadData, tmpMeta9, 0 /* false */, ((modelica_integer) 7), omc_Config_getCheapMatchingAlgorithm(threadData), (_clearMatching?((modelica_integer) 1):((modelica_integer) 0)), _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta11 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta10);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta11);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp12;
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp12 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp12) goto goto_2;

          /* Pattern-matching assignment */
          tmp13 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp13) goto goto_2;

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta14);

          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta15);

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta16);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta17);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT101);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_HKDWExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_HKDWExternal(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

DLLDirection
modelica_metatype omc_Matching_HKExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_boolean tmp7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp6 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp6) goto goto_2;

          /* Pattern-matching assignment */
          tmp7 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp7) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          /* Pattern-matching assignment */
          tmp8 = ((!_clearMatching)?omc_BackendDAEEXT_setAssignment(threadData, _neqns, _nvars, _vec1, _vec2):1 /* true */);
          if (1 /* true */ != tmp8) goto goto_2;

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = omc_Matching_matchingExternal(threadData, tmpMeta9, 0 /* false */, ((modelica_integer) 6), omc_Config_getCheapMatchingAlgorithm(threadData), (_clearMatching?((modelica_integer) 1):((modelica_integer) 0)), _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta11 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta10);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta11);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp12;
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp12 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp12) goto goto_2;

          /* Pattern-matching assignment */
          tmp13 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp13) goto goto_2;

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta14);

          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta15);

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta16);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta17);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT102);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_HKExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_HKExternal(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

DLLDirection
modelica_metatype omc_Matching_PFPlusExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_integer _nvars;
  modelica_integer _neqns;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  // _nvars has no default value.
  // _neqns has no default value.
  _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

  _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

  
  
  
  { /* matchcontinue expression */
    {
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!((_nvars > ((modelica_integer) 0)) && (_neqns > ((modelica_integer) 0)))) goto tmp3_end;
          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          /* Pattern-matching assignment */
          tmp6 = ((!_clearMatching)?omc_BackendDAEEXT_setAssignment(threadData, _neqns, _nvars, _vec1, _vec2):1 /* true */);
          if (1 /* true */ != tmp6) goto goto_2;

          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = omc_Matching_matchingExternal(threadData, tmpMeta7, 0 /* false */, ((modelica_integer) 5), omc_Config_getCheapMatchingAlgorithm(threadData), (_clearMatching?((modelica_integer) 1):((modelica_integer) 0)), _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta9 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta8);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta9);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!((!(_nvars > ((modelica_integer) 0))) && (!(_neqns > ((modelica_integer) 0))))) goto tmp3_end;
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta10);

          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta11);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta12);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta13);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT103);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_PFPlusExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_PFPlusExternal(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

DLLDirection
modelica_metatype omc_Matching_PFExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_boolean tmp7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp6 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp6) goto goto_2;

          /* Pattern-matching assignment */
          tmp7 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp7) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          /* Pattern-matching assignment */
          tmp8 = ((!_clearMatching)?omc_BackendDAEEXT_setAssignment(threadData, _neqns, _nvars, _vec1, _vec2):1 /* true */);
          if (1 /* true */ != tmp8) goto goto_2;

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = omc_Matching_matchingExternal(threadData, tmpMeta9, 0 /* false */, ((modelica_integer) 4), omc_Config_getCheapMatchingAlgorithm(threadData), (_clearMatching?((modelica_integer) 1):((modelica_integer) 0)), _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta11 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta10);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta11);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp12;
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp12 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp12) goto goto_2;

          /* Pattern-matching assignment */
          tmp13 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp13) goto goto_2;

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta14);

          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta15);

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta16);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta17);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT104);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_PFExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_PFExternal(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

DLLDirection
modelica_metatype omc_Matching_MC21AExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_boolean tmp7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp6 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp6) goto goto_2;

          /* Pattern-matching assignment */
          tmp7 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp7) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          /* Pattern-matching assignment */
          tmp8 = ((!_clearMatching)?omc_BackendDAEEXT_setAssignment(threadData, _neqns, _nvars, _vec1, _vec2):1 /* true */);
          if (1 /* true */ != tmp8) goto goto_2;

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = omc_Matching_matchingExternal(threadData, tmpMeta9, 0 /* false */, ((modelica_integer) 3), omc_Config_getCheapMatchingAlgorithm(threadData), (_clearMatching?((modelica_integer) 1):((modelica_integer) 0)), _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta11 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta10);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta11);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp12;
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp12 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp12) goto goto_2;

          /* Pattern-matching assignment */
          tmp13 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp13) goto goto_2;

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta14);

          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta15);

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta16);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta17);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT105);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_MC21AExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_MC21AExternal(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

DLLDirection
modelica_metatype omc_Matching_BFSBExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_boolean tmp7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp6 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp6) goto goto_2;

          /* Pattern-matching assignment */
          tmp7 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp7) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          /* Pattern-matching assignment */
          tmp8 = ((!_clearMatching)?omc_BackendDAEEXT_setAssignment(threadData, _neqns, _nvars, _vec1, _vec2):1 /* true */);
          if (1 /* true */ != tmp8) goto goto_2;

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = omc_Matching_matchingExternal(threadData, tmpMeta9, 0 /* false */, ((modelica_integer) 2), omc_Config_getCheapMatchingAlgorithm(threadData), (_clearMatching?((modelica_integer) 1):((modelica_integer) 0)), _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta11 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta10);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta11);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp12;
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp12 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp12) goto goto_2;

          /* Pattern-matching assignment */
          tmp13 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp13) goto goto_2;

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta14);

          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta15);

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta16);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta17);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT106);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_BFSBExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_BFSBExternal(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

DLLDirection
modelica_metatype omc_Matching_DFSBExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_boolean tmp7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp6 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp6) goto goto_2;

          /* Pattern-matching assignment */
          tmp7 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp7) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          /* Pattern-matching assignment */
          tmp8 = ((!_clearMatching)?omc_BackendDAEEXT_setAssignment(threadData, _neqns, _nvars, _vec1, _vec2):1 /* true */);
          if (1 /* true */ != tmp8) goto goto_2;

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = omc_Matching_matchingExternal(threadData, tmpMeta9, 0 /* false */, ((modelica_integer) 1), omc_Config_getCheapMatchingAlgorithm(threadData), (_clearMatching?((modelica_integer) 1):((modelica_integer) 0)), _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta11 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta10);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta11);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp12;
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp12 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp12) goto goto_2;

          /* Pattern-matching assignment */
          tmp13 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp13) goto goto_2;

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta14);

          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta15);

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta16);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta17);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT107);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_DFSBExternal(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_DFSBExternal(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__match__degree(threadData_t *threadData, modelica_metatype _entries, modelica_metatype _degrees, modelica_metatype _ass, modelica_metatype _inStack)
{
  modelica_metatype _outStack = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outStack has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _entries;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _stack = NULL;
      modelica_integer _e;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _stack has no default value.
      // _e has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _inStack;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _e = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass,_e) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp9) goto goto_2;

          arrayUpdate(_degrees, _e, mmc_mk_integer(((modelica_integer) -1) + mmc_unbox_integer(arrayGet(_degrees,_e) /* DAE.ASUB */)));

          _stack = omc_List_consOnTrue(threadData, (mmc_unbox_integer(arrayGet(_degrees,_e) /* DAE.ASUB */) == ((modelica_integer) 1)), mmc_mk_integer(_e), _inStack);
          tmpMeta1 = omc_Matching_ks__rand__match__degree(threadData, _rest, _degrees, _ass, _stack);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          _rest = tmpMeta11;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_ks__rand__match__degree(threadData, _rest, _degrees, _ass, _inStack);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outStack = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outStack;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__match1(threadData_t *threadData, modelica_integer _i, modelica_metatype _entries, modelica_metatype _stack, modelica_metatype _degrees1, modelica_metatype _degrees2, modelica_metatype _adjacency, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_metatype _outStack = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outStack has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _entries;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _lst = NULL;
      modelica_integer _e;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _lst has no default value.
      // _e has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _stack;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _e = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass2,_e) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp9) goto goto_2;

          _lst = omc_List_select(threadData, arrayGet(_adjacency,_e) /* DAE.ASUB */, boxvar_Util_intPositive);

          arrayUpdate(_ass1, _i, mmc_mk_integer(_e));

          arrayUpdate(_ass2, _e, mmc_mk_integer(_i));
          tmpMeta1 = omc_Matching_ks__rand__match__degree(threadData, _lst, _degrees1, _ass1, _stack);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          _rest = tmpMeta11;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_ks__rand__match1(threadData, _i, _rest, _stack, _degrees1, _degrees2, _adjacency, _ass1, _ass2);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outStack = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outStack;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ks__rand__match1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _entries, modelica_metatype _stack, modelica_metatype _degrees1, modelica_metatype _degrees2, modelica_metatype _adjacency, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_metatype _outStack = NULL;
  tmp1 = mmc_unbox_integer(_i);
  _outStack = omc_Matching_ks__rand__match1(threadData, tmp1, _entries, _stack, _degrees1, _degrees2, _adjacency, _ass1, _ass2);
  /* skip box _outStack; list<#Integer> */
  return _outStack;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_ks__rand__match(threadData_t *threadData, modelica_metatype _stack1, modelica_metatype _stack2, modelica_metatype _degrees1, modelica_metatype _degrees2, modelica_metatype _m1, modelica_metatype _m2, modelica_metatype _ass1, modelica_metatype _ass2)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
    tmp3_1 = _stack1;
    tmp3_2 = _stack2;
    {
      modelica_integer _e;
      modelica_metatype _rest = NULL;
      modelica_metatype _lst = NULL;
      modelica_metatype _stack = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _e has no default value.
      // _rest has no default value.
      // _lst has no default value.
      // _stack has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 7; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          if (!listEmpty(tmp3_2)) goto tmp2_end;
          tmp3 += 6; /* Pattern matching succeeded; we may skip some cases if we fail */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          modelica_boolean tmp8;
          modelica_boolean tmp9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          tmp7 = mmc_unbox_integer(tmpMeta5);
          if (!listEmpty(tmp3_2)) goto tmp2_end;
          _e = tmp7  /* pattern as ty=Integer */;
          _rest = tmpMeta6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp8 = (mmc_unbox_integer(arrayGet(_degrees1,_e) /* DAE.ASUB */) == ((modelica_integer) 1));
          if (1 /* true */ != tmp8) goto goto_1;

          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass1,_e) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp9) goto goto_1;

          _lst = omc_List_select(threadData, arrayGet(_m1,_e) /* DAE.ASUB */, boxvar_Util_intPositive);

          _stack = omc_Matching_ks__rand__match1(threadData, _e, _lst, _rest, _degrees1, _degrees2, _m2, _ass1, _ass2);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_ks__rand__match(threadData, _stack, tmpMeta10, _degrees1, _degrees2, _m1, _m2, _ass1, _ass2);
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta11 = MMC_CAR(tmp3_1);
          tmpMeta12 = MMC_CDR(tmp3_1);
          if (!listEmpty(tmp3_2)) goto tmp2_end;
          _rest = tmpMeta12;
          tmp3 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_ks__rand__match(threadData, _rest, tmpMeta13, _degrees1, _degrees2, _m1, _m2, _ass1, _ass2);
          goto tmp2_done;
        }
        case 3: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_integer tmp16;
          modelica_boolean tmp17;
          modelica_boolean tmp18;
          modelica_metatype tmpMeta19;
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          if (listEmpty(tmp3_2)) goto tmp2_end;
          tmpMeta14 = MMC_CAR(tmp3_2);
          tmpMeta15 = MMC_CDR(tmp3_2);
          tmp16 = mmc_unbox_integer(tmpMeta14);
          _e = tmp16  /* pattern as ty=Integer */;
          _rest = tmpMeta15;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp17 = (mmc_unbox_integer(arrayGet(_degrees2,_e) /* DAE.ASUB */) == ((modelica_integer) 1));
          if (1 /* true */ != tmp17) goto goto_1;

          /* Pattern-matching assignment */
          tmp18 = (mmc_unbox_integer(arrayGet(_ass2,_e) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp18) goto goto_1;

          _lst = omc_List_select(threadData, arrayGet(_m2,_e) /* DAE.ASUB */, boxvar_Util_intPositive);

          _stack = omc_Matching_ks__rand__match1(threadData, _e, _lst, _rest, _degrees2, _degrees1, _m1, _ass2, _ass1);

          tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_ks__rand__match(threadData, _stack, tmpMeta19, _degrees2, _degrees1, _m2, _m1, _ass2, _ass1);
          goto tmp2_done;
        }
        case 4: {
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          if (listEmpty(tmp3_2)) goto tmp2_end;
          tmpMeta20 = MMC_CAR(tmp3_2);
          tmpMeta21 = MMC_CDR(tmp3_2);
          _rest = tmpMeta21;
          tmp3 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta22 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_ks__rand__match(threadData, _rest, tmpMeta22, _degrees2, _degrees1, _m2, _m1, _ass2, _ass1);
          goto tmp2_done;
        }
        case 5: {
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_integer tmp25;
          modelica_boolean tmp26;
          modelica_boolean tmp27;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta23 = MMC_CAR(tmp3_1);
          tmpMeta24 = MMC_CDR(tmp3_1);
          tmp25 = mmc_unbox_integer(tmpMeta23);
          
          _e = tmp25  /* pattern as ty=Integer */;
          _rest = tmpMeta24;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp26 = (mmc_unbox_integer(arrayGet(_degrees1,_e) /* DAE.ASUB */) == ((modelica_integer) 1));
          if (1 /* true */ != tmp26) goto goto_1;

          /* Pattern-matching assignment */
          tmp27 = (mmc_unbox_integer(arrayGet(_ass1,_e) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp27) goto goto_1;

          _lst = omc_List_select(threadData, arrayGet(_m1,_e) /* DAE.ASUB */, boxvar_Util_intPositive);

          _stack = omc_Matching_ks__rand__match1(threadData, _e, _lst, _rest, _degrees1, _degrees2, _m2, _ass1, _ass2);

          omc_Matching_ks__rand__match(threadData, _stack2, _stack, _degrees2, _degrees1, _m2, _m1, _ass2, _ass1);
          goto tmp2_done;
        }
        case 6: {
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta28 = MMC_CAR(tmp3_1);
          tmpMeta29 = MMC_CDR(tmp3_1);
          
          _rest = tmpMeta29;
          /* Pattern matching succeeded */
          omc_Matching_ks__rand__match(threadData, _stack2, _rest, _degrees2, _degrees1, _m2, _m1, _ass2, _ass1);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 7) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_setrandArray(threadData_t *threadData, modelica_integer _n, modelica_metatype _randarr)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_integer tmp3_1;
    tmp3_1 = _n;
    {
      modelica_integer _z;
      modelica_integer _tmp;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _z has no default value.
      // _tmp has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (0 != tmp3_1) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _z = ((modelica_integer) 1) + ((modelica_integer)floor(modelica_real_mod(omc_System_realRand(threadData), ((modelica_real)_n))));

          _tmp = mmc_unbox_integer(arrayGet(_randarr,_n) /* DAE.ASUB */);

          arrayUpdate(_randarr, _n, arrayGet(_randarr,_z) /* DAE.ASUB */);

          arrayUpdate(_randarr, _z, mmc_mk_integer(_tmp));

          /* Tail recursive call */
          _n = ((modelica_integer) -1) + _n;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_setrandArray(threadData_t *threadData, modelica_metatype _n, modelica_metatype _randarr)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_n);
  omc_Matching_setrandArray(threadData, tmp1, _randarr);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_getOneRows(threadData_t *threadData, modelica_integer _n, modelica_metatype _m, modelica_metatype _degrees, modelica_metatype _inOneRows)
{
  modelica_metatype _outOneRows = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outOneRows has no default value.
  { /* match expression */
    modelica_integer tmp4_1;
    tmp4_1 = _n;
    {
      modelica_metatype _lst = NULL;
      modelica_metatype _onerows = NULL;
      modelica_integer _l;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _lst has no default value.
      // _onerows has no default value.
      // _l has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (0 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = listReverse(_inOneRows);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _lst = omc_List_select(threadData, arrayGet(_m,_n) /* DAE.ASUB */, boxvar_Util_intPositive);

          _l = listLength(_lst);

          arrayUpdate(_degrees, _n, mmc_mk_integer(_l));

          _onerows = omc_List_consOnTrue(threadData, (_l == ((modelica_integer) 1)), mmc_mk_integer(_n), _inOneRows);
          /* Tail recursive call */
          _n = ((modelica_integer) -1) + _n;
          _inOneRows = _onerows;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outOneRows = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outOneRows;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_getOneRows(threadData_t *threadData, modelica_metatype _n, modelica_metatype _m, modelica_metatype _degrees, modelica_metatype _inOneRows)
{
  modelica_integer tmp1;
  modelica_metatype _outOneRows = NULL;
  tmp1 = mmc_unbox_integer(_n);
  _outOneRows = omc_Matching_getOneRows(threadData, tmp1, _m, _degrees, _inOneRows);
  /* skip box _outOneRows; list<#Integer> */
  return _outOneRows;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__cheapmatching4(threadData_t *threadData, modelica_metatype _cols, modelica_integer _count, modelica_metatype _col_degrees, modelica_metatype _ass1, modelica_metatype _inStack)
{
  modelica_metatype _outStack = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outStack has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _cols;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _stack = NULL;
      modelica_integer _c;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _stack has no default value.
      // _c has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inStack;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp6;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_count > ((modelica_integer) 0));
          if (0 /* false */ != tmp6) goto goto_2;
          tmpMeta1 = _inStack;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          modelica_boolean tmp10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          tmp9 = mmc_unbox_integer(tmpMeta7);
          _c = tmp9  /* pattern as ty=Integer */;
          _rest = tmpMeta8;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp10 = (mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          arrayUpdate(_col_degrees, _c, mmc_mk_integer(((modelica_integer) -1) + mmc_unbox_integer(arrayGet(_col_degrees,_c) /* DAE.ASUB */)));

          _stack = omc_List_consOnTrue(threadData, (mmc_unbox_integer(arrayGet(_col_degrees,_c) /* DAE.ASUB */) == ((modelica_integer) 1)), mmc_mk_integer(_c), _inStack);
          tmpMeta1 = omc_Matching_ks__rand__cheapmatching4(threadData, _rest, ((modelica_integer) -1) + _count, _col_degrees, _ass1, _stack);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          _rest = tmpMeta12;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_ks__rand__cheapmatching4(threadData, _rest, _count, _col_degrees, _ass1, _inStack);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outStack = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outStack;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ks__rand__cheapmatching4(threadData_t *threadData, modelica_metatype _cols, modelica_metatype _count, modelica_metatype _col_degrees, modelica_metatype _ass1, modelica_metatype _inStack)
{
  modelica_integer tmp1;
  modelica_metatype _outStack = NULL;
  tmp1 = mmc_unbox_integer(_count);
  _outStack = omc_Matching_ks__rand__cheapmatching4(threadData, _cols, tmp1, _col_degrees, _ass1, _inStack);
  /* skip box _outStack; list<#Integer> */
  return _outStack;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__cheapmatching3(threadData_t *threadData, modelica_integer _e_id, modelica_metatype _rows, modelica_metatype _row_degrees, modelica_integer _c, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _onerows, modelica_integer _inR, modelica_integer *out_outR)
{
  modelica_metatype _outonerows = NULL;
  modelica_integer _outR;
  modelica_integer tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outonerows has no default value.
  // _outR has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _stack = NULL;
      modelica_integer _r;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _stack has no default value.
      // _r has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = _onerows;
          tmp1_c1 = _inR;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp9) goto goto_2;

          /* Pattern-matching assignment */
          tmp10 = (_e_id == ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          arrayUpdate(_ass1, _c, mmc_mk_integer(_r));

          arrayUpdate(_ass2, _r, mmc_mk_integer(_c));

          _stack = omc_Matching_ks__rand__match__degree(threadData, _rest, _row_degrees, _ass2, _onerows);
          tmpMeta[0+0] = _stack;
          tmp1_c1 = _r;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_integer tmp13;
          modelica_boolean tmp14;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          tmp13 = mmc_unbox_integer(tmpMeta11);
          _r = tmp13  /* pattern as ty=Integer */;
          _rest = tmpMeta12;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp14 = (mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp14) goto goto_2;

          arrayUpdate(_row_degrees, _r, mmc_mk_integer(((modelica_integer) -1) + mmc_unbox_integer(arrayGet(_row_degrees,_r) /* DAE.ASUB */)));

          _stack = omc_List_consOnTrue(threadData, (mmc_unbox_integer(arrayGet(_row_degrees,_r) /* DAE.ASUB */) == ((modelica_integer) 1)), mmc_mk_integer(_r), _onerows);
          tmpMeta[0+0] = omc_Matching_ks__rand__cheapmatching3(threadData, ((modelica_integer) -1) + _e_id, _rest, _row_degrees, _c, _ass1, _ass2, _stack, _r, &tmp1_c1);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_integer tmp17;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta15 = MMC_CAR(tmp4_1);
          tmpMeta16 = MMC_CDR(tmp4_1);
          tmp17 = mmc_unbox_integer(tmpMeta15);
          _r = tmp17  /* pattern as ty=Integer */;
          _rest = tmpMeta16;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_Matching_ks__rand__cheapmatching3(threadData, ((modelica_integer) -1) + _e_id, _rest, _row_degrees, _c, _ass1, _ass2, _onerows, _r, &tmp1_c1);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outonerows = tmpMeta[0+0];
  _outR = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_outR) { *out_outR = _outR; }
  return _outonerows;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ks__rand__cheapmatching3(threadData_t *threadData, modelica_metatype _e_id, modelica_metatype _rows, modelica_metatype _row_degrees, modelica_metatype _c, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _onerows, modelica_metatype _inR, modelica_metatype *out_outR)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer _outR;
  modelica_metatype _outonerows = NULL;
  tmp1 = mmc_unbox_integer(_e_id);
  tmp2 = mmc_unbox_integer(_c);
  tmp3 = mmc_unbox_integer(_inR);
  _outonerows = omc_Matching_ks__rand__cheapmatching3(threadData, tmp1, _rows, _row_degrees, tmp2, _ass1, _ass2, _onerows, tmp3, &_outR);
  /* skip box _outonerows; list<#Integer> */
  if (out_outR) { *out_outR = mmc_mk_icon(_outR); }
  return _outonerows;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__cheapmatching2(threadData_t *threadData, modelica_boolean _b, modelica_integer _c, modelica_metatype _col_degrees, modelica_metatype _row_degrees, modelica_metatype _randarr, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_onerows)
{
  modelica_metatype _onecolums = NULL;
  modelica_metatype _onerows = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _onecolums has no default value.
  // _onerows has no default value.
  
  
  { /* match expression */
    modelica_boolean tmp4_1;
    tmp4_1 = _b;
    {
      modelica_metatype _clst = NULL;
      modelica_metatype _rlst = NULL;
      modelica_metatype _lst = NULL;
      modelica_integer _e_id;
      modelica_integer _r;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _clst has no default value.
      // _rlst has no default value.
      // _lst has no default value.
      // _e_id has no default value.
      // _r has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (1 /* true */ != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          _e_id = ((modelica_integer)floor(modelica_real_mod(omc_System_realRand(threadData), ((modelica_real)mmc_unbox_integer(arrayGet(_col_degrees,_c) /* DAE.ASUB */)))));

          _lst = omc_List_select(threadData, arrayGet(_m,_c) /* DAE.ASUB */, boxvar_Util_intPositive);

          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          _rlst = omc_Matching_ks__rand__cheapmatching3(threadData, _e_id, _lst, _row_degrees, _c, _ass1, _ass2, tmpMeta6, ((modelica_integer) 0) ,&_r);

          _lst = omc_List_select(threadData, arrayGet(_mT,_r) /* DAE.ASUB */, boxvar_Util_intPositive);

          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          _clst = omc_Matching_ks__rand__cheapmatching4(threadData, _lst, mmc_unbox_integer(arrayGet(_row_degrees,_r) /* DAE.ASUB */), _col_degrees, _ass1, tmpMeta7);
          tmpMeta[0+0] = _clst;
          tmpMeta[0+1] = _rlst;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = tmpMeta8;
          tmpMeta[0+1] = tmpMeta9;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _onecolums = tmpMeta[0+0];
  _onerows = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_onerows) { *out_onerows = _onerows; }
  return _onecolums;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ks__rand__cheapmatching2(threadData_t *threadData, modelica_metatype _b, modelica_metatype _c, modelica_metatype _col_degrees, modelica_metatype _row_degrees, modelica_metatype _randarr, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_onerows)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _onecolums = NULL;
  tmp1 = mmc_unbox_integer(_b);
  tmp2 = mmc_unbox_integer(_c);
  _onecolums = omc_Matching_ks__rand__cheapmatching2(threadData, tmp1, tmp2, _col_degrees, _row_degrees, _randarr, _m, _mT, _ass1, _ass2, out_onerows);
  /* skip box _onecolums; list<#Integer> */
  /* skip box _onerows; list<#Integer> */
  return _onecolums;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_ks__rand__cheapmatching1(threadData_t *threadData, modelica_integer _i, modelica_integer _ne, modelica_metatype _onecolums, modelica_metatype _onerows, modelica_metatype _col_degrees, modelica_metatype _row_degrees, modelica_metatype _randarr, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    {
      modelica_metatype _onecolums1 = NULL;
      modelica_metatype _onerows1 = NULL;
      modelica_integer _c;
      modelica_boolean _b;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _onecolums1 has no default value.
      // _onerows1 has no default value.
      // _c has no default value.
      // _b has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_boolean tmp5;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp5 = (_i <= _ne);
          if (0 /* false */ != tmp5) goto goto_1;
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          omc_Matching_ks__rand__match(threadData, _onerows, _onecolums, _row_degrees, _col_degrees, _mT, _m, _ass2, _ass1);

          _c = mmc_unbox_integer(arrayGet(_randarr,_i) /* DAE.ASUB */);

          _b = ((mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */) < ((modelica_integer) 0)) && (mmc_unbox_integer(arrayGet(_col_degrees,_c) /* DAE.ASUB */) > ((modelica_integer) 0)));

          _onecolums1 = omc_Matching_ks__rand__cheapmatching2(threadData, _b, _c, _col_degrees, _row_degrees, _randarr, _m, _mT, _ass1, _ass2 ,&_onerows1);

          omc_Matching_ks__rand__cheapmatching1(threadData, ((modelica_integer) 1) + _i, _ne, _onecolums1, _onerows1, _col_degrees, _row_degrees, _randarr, _m, _mT, _ass1, _ass2);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_ks__rand__cheapmatching1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _ne, modelica_metatype _onecolums, modelica_metatype _onerows, modelica_metatype _col_degrees, modelica_metatype _row_degrees, modelica_metatype _randarr, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_ne);
  omc_Matching_ks__rand__cheapmatching1(threadData, tmp1, tmp2, _onecolums, _onerows, _col_degrees, _row_degrees, _randarr, _m, _mT, _ass1, _ass2);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ks__rand__cheapmatching(threadData_t *threadData, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_metatype _outUnMatched = NULL;
  modelica_metatype _onecolums = NULL;
  modelica_metatype _onerows = NULL;
  modelica_metatype _col_degrees = NULL;
  modelica_metatype _row_degrees = NULL;
  modelica_metatype _randarr = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outUnMatched has no default value.
  // _onecolums has no default value.
  // _onerows has no default value.
  // _col_degrees has no default value.
  // _row_degrees has no default value.
  // _randarr has no default value.
  _col_degrees = arrayCreate(_ne, mmc_mk_integer(((modelica_integer) 0)));

  _row_degrees = arrayCreate(_ne, mmc_mk_integer(((modelica_integer) 0)));

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _onerows = omc_Matching_getOneRows(threadData, _ne, _mT, _row_degrees, tmpMeta1);

  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _onecolums = omc_Matching_getOneRows(threadData, _nv, _m, _col_degrees, tmpMeta2);

  _randarr = omc_Array_createIntRange(threadData, _ne);

  omc_Matching_setrandArray(threadData, _ne, _randarr);

  omc_Matching_ks__rand__cheapmatching1(threadData, ((modelica_integer) 1), _ne, _onecolums, _onerows, _col_degrees, _row_degrees, _randarr, _m, _mT, _ass1, _ass2);

  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  _outUnMatched = omc_Matching_getUnassigned(threadData, _ne, _ass1, tmpMeta3);
  _return: OMC_LABEL_UNUSED
  return _outUnMatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ks__rand__cheapmatching(threadData_t *threadData, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outUnMatched = NULL;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  _outUnMatched = omc_Matching_ks__rand__cheapmatching(threadData, tmp1, tmp2, _m, _mT, _ass1, _ass2);
  /* skip box _outUnMatched; list<#Integer> */
  return _outUnMatched;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_cheapmatching1(threadData_t *threadData, modelica_metatype _rows, modelica_integer _c, modelica_metatype _ass1, modelica_metatype _ass2)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _r;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _rest has no default value.
      // _r has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          modelica_boolean tmp8;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          tmp7 = mmc_unbox_integer(tmpMeta5);
          _r = tmp7  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp8 = (mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp8) goto goto_1;

          arrayUpdate(_ass1, _c, mmc_mk_integer(_r));

          arrayUpdate(_ass2, _r, mmc_mk_integer(_c));
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta9 = MMC_CAR(tmp3_1);
          tmpMeta10 = MMC_CDR(tmp3_1);
          _rest = tmpMeta10;
          /* Pattern matching succeeded */
          omc_Matching_cheapmatching1(threadData, _rest, _c, _ass1, _ass2);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_cheapmatching1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _c, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_c);
  omc_Matching_cheapmatching1(threadData, _rows, tmp1, _ass1, _ass2);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_cheapmatching(threadData_t *threadData, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnMatched)
{
  modelica_metatype _outUnMatched = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outUnMatched has no default value.
  { /* matchcontinue expression */
    {
      modelica_metatype _rows = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rows has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_i > _ne);
          if (1 /* true */ != tmp6) goto goto_2;
          tmpMeta1 = _inUnMatched;
          goto tmp3_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          _rows = omc_List_select(threadData, arrayGet(_m,_i) /* DAE.ASUB */, boxvar_Util_intPositive);

          omc_Matching_cheapmatching1(threadData, _rows, _i, _ass1, _ass2);
          tmpMeta1 = omc_Matching_cheapmatching(threadData, ((modelica_integer) 1) + _i, _nv, _ne, _m, _mT, _ass1, _ass2, _inUnMatched);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_cons(mmc_mk_integer(_i), _inUnMatched);
          tmpMeta1 = omc_Matching_cheapmatching(threadData, ((modelica_integer) 1) + _i, _nv, _ne, _m, _mT, _ass1, _ass2, tmpMeta7);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta8;
          /* Pattern matching succeeded */
          tmpMeta8 = stringAppend(_OMC_LIT108,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta8, _OMC_LIT109);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outUnMatched = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outUnMatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_cheapmatching(threadData_t *threadData, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outUnMatched = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outUnMatched = omc_Matching_cheapmatching(threadData, tmp1, tmp2, tmp3, _m, _mT, _ass1, _ass2, _inUnMatched);
  /* skip box _outUnMatched; list<#Integer> */
  return _outUnMatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_cheapmatchingalgorithm1(threadData_t *threadData, modelica_integer _algorithmid, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _intRangeUsed)
{
  modelica_metatype _outUnMatched = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outUnMatched has no default value.
  { /* match expression */
    modelica_integer tmp4_1;modelica_boolean tmp4_2;
    tmp4_1 = _algorithmid;
    tmp4_2 = _intRangeUsed;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (1 != tmp4_1) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = omc_Matching_cheapmatching(threadData, ((modelica_integer) 1), _nv, _ne, _m, _mT, _ass1, _ass2, tmpMeta6);
          goto tmp3_done;
        }
        case 1: {
          if (3 != tmp4_1) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_ks__rand__cheapmatching(threadData, _nv, _ne, _m, _mT, _ass1, _ass2);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta7;
          if (1 /* true */ != tmp4_2) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = omc_Matching_getUnassigned(threadData, _ne, _ass1, tmpMeta7);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta8;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outUnMatched = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outUnMatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_cheapmatchingalgorithm1(threadData_t *threadData, modelica_metatype _algorithmid, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _intRangeUsed)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _outUnMatched = NULL;
  tmp1 = mmc_unbox_integer(_algorithmid);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  tmp4 = mmc_unbox_integer(_intRangeUsed);
  _outUnMatched = omc_Matching_cheapmatchingalgorithm1(threadData, tmp1, tmp2, tmp3, _m, _mT, _ass1, _ass2, tmp4);
  /* skip box _outUnMatched; list<#Integer> */
  return _outUnMatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_cheapmatchingalgorithm(threadData_t *threadData, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _intRangeUsed)
{
  modelica_metatype _outUnMatched = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outUnMatched has no default value.
  _outUnMatched = omc_Matching_cheapmatchingalgorithm1(threadData, omc_Config_getCheapMatchingAlgorithm(threadData), _nv, _ne, _m, _mT, _ass1, _ass2, _intRangeUsed);
  _return: OMC_LABEL_UNUSED
  return _outUnMatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_cheapmatchingalgorithm(threadData_t *threadData, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _intRangeUsed)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outUnMatched = NULL;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  tmp3 = mmc_unbox_integer(_intRangeUsed);
  _outUnMatched = omc_Matching_cheapmatchingalgorithm(threadData, tmp1, tmp2, _m, _mT, _ass1, _ass2, tmp3);
  /* skip box _outUnMatched; list<#Integer> */
  return _outUnMatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PR__FIFO__FAIRrelabel(threadData_t *threadData, modelica_integer _max_vertex, modelica_integer _min_vertex, modelica_integer _min_label, modelica_integer _max, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inQueue)
{
  modelica_metatype _outQueue = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outQueue has no default value.
  { /* matchcontinue expression */
    {
      modelica_integer _next_vertex;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _next_vertex has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_boolean tmp7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_min_label < _max);
          if (1 /* true */ != tmp6) goto goto_2;

          /* Pattern-matching assignment */
          tmp7 = (mmc_unbox_integer(arrayGet(_ass2,_min_vertex) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp7) goto goto_2;

          arrayUpdate(_ass2, _min_vertex, mmc_mk_integer(_max_vertex));

          arrayUpdate(_ass1, _max_vertex, mmc_mk_integer(_min_vertex));

          arrayUpdate(_r_label, _min_vertex, mmc_mk_integer(((modelica_integer) 2) + _min_label));
          tmpMeta1 = _inQueue;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp8;
          modelica_boolean tmp9;
          modelica_metatype tmpMeta10;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp8 = (_min_label < _max);
          if (1 /* true */ != tmp8) goto goto_2;

          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass2,_min_vertex) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (0 /* false */ != tmp9) goto goto_2;

          _next_vertex = mmc_unbox_integer(arrayGet(_ass2,_min_vertex) /* DAE.ASUB */);

          arrayUpdate(_ass2, _min_vertex, mmc_mk_integer(_max_vertex));

          arrayUpdate(_ass1, _max_vertex, mmc_mk_integer(_min_vertex));

          arrayUpdate(_ass1, _next_vertex, mmc_mk_integer(((modelica_integer) -1)));

          arrayUpdate(_l_label, _max_vertex, mmc_mk_integer(((modelica_integer) 1) + _min_label));

          arrayUpdate(_r_label, _min_vertex, mmc_mk_integer(((modelica_integer) 2) + _min_label));
          tmpMeta10 = mmc_mk_cons(mmc_mk_integer(_next_vertex), _inQueue);
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          tmpMeta1 = _inQueue;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outQueue = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outQueue;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIRrelabel(threadData_t *threadData, modelica_metatype _max_vertex, modelica_metatype _min_vertex, modelica_metatype _min_label, modelica_metatype _max, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inQueue)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_metatype _outQueue = NULL;
  tmp1 = mmc_unbox_integer(_max_vertex);
  tmp2 = mmc_unbox_integer(_min_vertex);
  tmp3 = mmc_unbox_integer(_min_label);
  tmp4 = mmc_unbox_integer(_max);
  tmp5 = mmc_unbox_integer(_nv);
  tmp6 = mmc_unbox_integer(_ne);
  _outQueue = omc_Matching_PR__FIFO__FAIRrelabel(threadData, tmp1, tmp2, tmp3, tmp4, tmp5, tmp6, _m, _mT, _l_label, _r_label, _ass1, _ass2, _inQueue);
  /* skip box _outQueue; list<#Integer> */
  return _outQueue;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PR__FIFO__FAIRphase__traverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_integer _relabels, modelica_integer _max_vertex, modelica_integer _min_vertex, modelica_integer _min_label, modelica_integer _max, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer *out_outMinLabels, modelica_integer *out_outMinVertex)
{
  modelica_integer _outRelabels;
  modelica_integer _outMinLabels;
  modelica_integer _outMinVertex;
  modelica_integer tmp1_c0 __attribute__((unused)) = 0;
  modelica_integer tmp1_c1 __attribute__((unused)) = 0;
  modelica_integer tmp1_c2 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outRelabels has no default value.
  // _outMinLabels has no default value.
  // _outMinVertex has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _r;
      modelica_integer _minlabel;
      modelica_integer _minvertex;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _r has no default value.
      // _minlabel has no default value.
      // _minvertex has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmp1_c0 = _relabels;
          tmp1_c1 = _min_label;
          tmp1_c2 = _min_vertex;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_r_label,_r) /* DAE.ASUB */) < _min_label);
          if (1 /* true */ != tmp9) goto goto_2;

          _minlabel = mmc_unbox_integer(arrayGet(_r_label,_r) /* DAE.ASUB */);

          _minvertex = _r;

          /* Pattern-matching assignment */
          tmp10 = (mmc_unbox_integer(arrayGet(_r_label,_minvertex) /* DAE.ASUB */) == ((modelica_integer) -1) + mmc_unbox_integer(arrayGet(_l_label,_max_vertex) /* DAE.ASUB */));
          if (1 /* true */ != tmp10) goto goto_2;
          tmp1_c0 = ((modelica_integer) -1) + _relabels;
          tmp1_c1 = _minlabel;
          tmp1_c2 = _minvertex;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_integer tmp13;
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          tmp13 = mmc_unbox_integer(tmpMeta11);
          _r = tmp13  /* pattern as ty=Integer */;
          _rest = tmpMeta12;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp14 = (mmc_unbox_integer(arrayGet(_r_label,_r) /* DAE.ASUB */) < _min_label);
          if (1 /* true */ != tmp14) goto goto_2;

          _minlabel = mmc_unbox_integer(arrayGet(_r_label,_r) /* DAE.ASUB */);

          _minvertex = _r;

          /* Pattern-matching assignment */
          tmp15 = (mmc_unbox_integer(arrayGet(_r_label,_minvertex) /* DAE.ASUB */) == ((modelica_integer) -1) + mmc_unbox_integer(arrayGet(_l_label,_max_vertex) /* DAE.ASUB */));
          if (0 /* false */ != tmp15) goto goto_2;
          tmp1_c0 = omc_Matching_PR__FIFO__FAIRphase__traverseRows(threadData, _rest, _relabels, _max_vertex, _minvertex, _minlabel, _max, _nv, _ne, _m, _mT, _l_label, _r_label, _ass1, _ass2, &tmp1_c1, &tmp1_c2);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta16 = MMC_CAR(tmp4_1);
          tmpMeta17 = MMC_CDR(tmp4_1);
          _rest = tmpMeta17;
          /* Pattern matching succeeded */
          tmp1_c0 = omc_Matching_PR__FIFO__FAIRphase__traverseRows(threadData, _rest, _relabels, _max_vertex, _min_vertex, _min_label, _max, _nv, _ne, _m, _mT, _l_label, _r_label, _ass1, _ass2, &tmp1_c1, &tmp1_c2);
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT110, _OMC_LIT111);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outRelabels = tmp1_c0;
  _outMinLabels = tmp1_c1;
  _outMinVertex = tmp1_c2;
  _return: OMC_LABEL_UNUSED
  if (out_outMinLabels) { *out_outMinLabels = _outMinLabels; }
  if (out_outMinVertex) { *out_outMinVertex = _outMinVertex; }
  return _outRelabels;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIRphase__traverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _relabels, modelica_metatype _max_vertex, modelica_metatype _min_vertex, modelica_metatype _min_label, modelica_metatype _max, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outMinLabels, modelica_metatype *out_outMinVertex)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_integer _outMinLabels;
  modelica_integer _outMinVertex;
  modelica_integer _outRelabels;
  modelica_metatype out_outRelabels;
  tmp1 = mmc_unbox_integer(_relabels);
  tmp2 = mmc_unbox_integer(_max_vertex);
  tmp3 = mmc_unbox_integer(_min_vertex);
  tmp4 = mmc_unbox_integer(_min_label);
  tmp5 = mmc_unbox_integer(_max);
  tmp6 = mmc_unbox_integer(_nv);
  tmp7 = mmc_unbox_integer(_ne);
  _outRelabels = omc_Matching_PR__FIFO__FAIRphase__traverseRows(threadData, _rows, tmp1, tmp2, tmp3, tmp4, tmp5, tmp6, tmp7, _m, _mT, _l_label, _r_label, _ass1, _ass2, &_outMinLabels, &_outMinVertex);
  out_outRelabels = mmc_mk_icon(_outRelabels);
  if (out_outMinLabels) { *out_outMinLabels = mmc_mk_icon(_outMinLabels); }
  if (out_outMinVertex) { *out_outMinVertex = mmc_mk_icon(_outMinVertex); }
  return out_outRelabels;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PR__FIFO__FAIRphase2(threadData_t *threadData, modelica_boolean _b, modelica_integer _relabels, modelica_integer _max_vertex, modelica_integer _min_vertec, modelica_integer _min_label, modelica_integer _max, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer *out_outMinLabels, modelica_integer *out_outMinVertex)
{
  modelica_integer _outRelabels;
  modelica_integer _outMinLabels;
  modelica_integer _outMinVertex;
  modelica_integer tmp1_c0 __attribute__((unused)) = 0;
  modelica_integer tmp1_c1 __attribute__((unused)) = 0;
  modelica_integer tmp1_c2 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outRelabels has no default value.
  // _outMinLabels has no default value.
  // _outMinVertex has no default value.
  
  
  
  { /* match expression */
    modelica_boolean tmp4_1;
    tmp4_1 = _b;
    {
      modelica_metatype _rows = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rows has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (1 /* true */ != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          _rows = omc_List_select(threadData, arrayGet(_m,_max_vertex) /* DAE.ASUB */, boxvar_Util_intPositive);
          tmp1_c0 = omc_Matching_PR__FIFO__FAIRphase__traverseRows(threadData, _rows, _relabels, _max_vertex, _min_vertec, _min_label, _max, _nv, _ne, _m, _mT, _l_label, _r_label, _ass1, _ass2, &tmp1_c1, &tmp1_c2);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _rows = omc_List_select(threadData, arrayGet(_m,_max_vertex) /* DAE.ASUB */, boxvar_Util_intPositive);

          _rows = listReverse(_rows);
          tmp1_c0 = omc_Matching_PR__FIFO__FAIRphase__traverseRows(threadData, _rows, _relabels, _max_vertex, _min_vertec, _min_label, _max, _nv, _ne, _m, _mT, _l_label, _r_label, _ass1, _ass2, &tmp1_c1, &tmp1_c2);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outRelabels = tmp1_c0;
  _outMinLabels = tmp1_c1;
  _outMinVertex = tmp1_c2;
  _return: OMC_LABEL_UNUSED
  if (out_outMinLabels) { *out_outMinLabels = _outMinLabels; }
  if (out_outMinVertex) { *out_outMinVertex = _outMinVertex; }
  return _outRelabels;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIRphase2(threadData_t *threadData, modelica_metatype _b, modelica_metatype _relabels, modelica_metatype _max_vertex, modelica_metatype _min_vertec, modelica_metatype _min_label, modelica_metatype _max, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outMinLabels, modelica_metatype *out_outMinVertex)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_integer tmp8;
  modelica_integer _outMinLabels;
  modelica_integer _outMinVertex;
  modelica_integer _outRelabels;
  modelica_metatype out_outRelabels;
  tmp1 = mmc_unbox_integer(_b);
  tmp2 = mmc_unbox_integer(_relabels);
  tmp3 = mmc_unbox_integer(_max_vertex);
  tmp4 = mmc_unbox_integer(_min_vertec);
  tmp5 = mmc_unbox_integer(_min_label);
  tmp6 = mmc_unbox_integer(_max);
  tmp7 = mmc_unbox_integer(_nv);
  tmp8 = mmc_unbox_integer(_ne);
  _outRelabels = omc_Matching_PR__FIFO__FAIRphase2(threadData, tmp1, tmp2, tmp3, tmp4, tmp5, tmp6, tmp7, tmp8, _m, _mT, _l_label, _r_label, _ass1, _ass2, &_outMinLabels, &_outMinVertex);
  out_outRelabels = mmc_mk_icon(_outRelabels);
  if (out_outMinLabels) { *out_outMinLabels = mmc_mk_icon(_outMinLabels); }
  if (out_outMinVertex) { *out_outMinVertex = mmc_mk_icon(_outMinVertex); }
  return out_outRelabels;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PR__FIFO__FAIRphase1(threadData_t *threadData, modelica_boolean _b, modelica_integer _relabels, modelica_integer _max_vertex, modelica_integer _min_vertec, modelica_integer _min_label, modelica_integer _max, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer *out_outMinLabels, modelica_integer *out_outMinVertex)
{
  modelica_integer _outRelabels;
  modelica_integer _outMinLabels;
  modelica_integer _outMinVertex;
  modelica_integer tmp1_c0 __attribute__((unused)) = 0;
  modelica_integer tmp1_c1 __attribute__((unused)) = 0;
  modelica_integer tmp1_c2 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outRelabels has no default value.
  // _outMinLabels has no default value.
  // _outMinVertex has no default value.
  
  
  
  { /* match expression */
    modelica_boolean tmp4_1;
    tmp4_1 = _b;
    {
      modelica_integer _tmp;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _tmp has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (1 /* true */ != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          _tmp = modelica_integer_mod(mmc_unbox_integer(arrayGet(_l_label,_max_vertex) /* DAE.ASUB */), ((modelica_integer) 4));
          tmp1_c0 = omc_Matching_PR__FIFO__FAIRphase2(threadData, (_tmp == ((modelica_integer) 1)), _relabels, _max_vertex, _min_vertec, _min_label, _max, _nv, _ne, _m, _mT, _l_label, _r_label, _ass1, _ass2, &tmp1_c1, &tmp1_c2);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1_c0 = _relabels;
          tmp1_c1 = _min_label;
          tmp1_c2 = _min_vertec;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outRelabels = tmp1_c0;
  _outMinLabels = tmp1_c1;
  _outMinVertex = tmp1_c2;
  _return: OMC_LABEL_UNUSED
  if (out_outMinLabels) { *out_outMinLabels = _outMinLabels; }
  if (out_outMinVertex) { *out_outMinVertex = _outMinVertex; }
  return _outRelabels;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIRphase1(threadData_t *threadData, modelica_metatype _b, modelica_metatype _relabels, modelica_metatype _max_vertex, modelica_metatype _min_vertec, modelica_metatype _min_label, modelica_metatype _max, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outMinLabels, modelica_metatype *out_outMinVertex)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_integer tmp8;
  modelica_integer _outMinLabels;
  modelica_integer _outMinVertex;
  modelica_integer _outRelabels;
  modelica_metatype out_outRelabels;
  tmp1 = mmc_unbox_integer(_b);
  tmp2 = mmc_unbox_integer(_relabels);
  tmp3 = mmc_unbox_integer(_max_vertex);
  tmp4 = mmc_unbox_integer(_min_vertec);
  tmp5 = mmc_unbox_integer(_min_label);
  tmp6 = mmc_unbox_integer(_max);
  tmp7 = mmc_unbox_integer(_nv);
  tmp8 = mmc_unbox_integer(_ne);
  _outRelabels = omc_Matching_PR__FIFO__FAIRphase1(threadData, tmp1, tmp2, tmp3, tmp4, tmp5, tmp6, tmp7, tmp8, _m, _mT, _l_label, _r_label, _ass1, _ass2, &_outMinLabels, &_outMinVertex);
  out_outRelabels = mmc_mk_icon(_outRelabels);
  if (out_outMinLabels) { *out_outMinLabels = mmc_mk_icon(_outMinLabels); }
  if (out_outMinVertex) { *out_outMinVertex = mmc_mk_icon(_outMinVertex); }
  return out_outRelabels;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_PR__FIFO__FAIRphase(threadData_t *threadData, modelica_integer _relabels, modelica_metatype _U, modelica_integer _max, modelica_integer _min_vertex, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
    tmp3_1 = _U;
    tmp3_2 = _nextqueue;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _queue = NULL;
      modelica_integer _c;
      modelica_integer _min_label;
      modelica_integer _rlcount;
      modelica_integer _minvertex;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _rest has no default value.
      // _queue has no default value.
      // _c has no default value.
      // _min_label has no default value.
      // _rlcount has no default value.
      // _minvertex has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 4; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          if (!listEmpty(tmp3_2)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_PR__FIFO__FAIRphase(threadData, _relabels, _nextqueue, _max, _min_vertex, _nv, _ne, _m, _mT, _l_label, _r_label, _ass1, _ass2, tmpMeta5);
          goto tmp2_done;
        }
        case 2: {
          modelica_boolean tmp6;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_relabels == _max);
          if (1 /* true */ != tmp6) goto goto_1;

          omc_Matching_PR__Global__Relabel(threadData, _l_label, _r_label, _nv, _ne, _m, _mT, _ass1, _ass2);

          omc_Matching_PR__FIFO__FAIRphase(threadData, ((modelica_integer) 0), _U, _max, _min_vertex, _nv, _ne, _m, _mT, _l_label, _r_label, _ass1, _ass2, _nextqueue);
          goto tmp2_done;
        }
        case 3: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta7 = MMC_CAR(tmp3_1);
          tmpMeta8 = MMC_CDR(tmp3_1);
          tmp9 = mmc_unbox_integer(tmpMeta7);
          
          _c = tmp9  /* pattern as ty=Integer */;
          _rest = tmpMeta8;
          /* Pattern matching succeeded */
          _rlcount = omc_Matching_PR__FIFO__FAIRphase1(threadData, (mmc_unbox_integer(arrayGet(_l_label,_c) /* DAE.ASUB */) < _max), ((modelica_integer) 1) + _relabels, _c, _min_vertex, _max, _max, _nv, _ne, _m, _mT, _l_label, _r_label, _ass1, _ass2 ,&_min_label ,&_minvertex);

          _queue = omc_Matching_PR__FIFO__FAIRrelabel(threadData, _c, _minvertex, _min_label, _max, _nv, _ne, _m, _mT, _l_label, _r_label, _ass1, _ass2, _nextqueue);

          omc_Matching_PR__FIFO__FAIRphase(threadData, _rlcount, _rest, _max, _minvertex, _nv, _ne, _m, _mT, _l_label, _r_label, _ass1, _ass2, _queue);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 4) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_PR__FIFO__FAIRphase(threadData_t *threadData, modelica_metatype _relabels, modelica_metatype _U, modelica_metatype _max, modelica_metatype _min_vertex, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  tmp1 = mmc_unbox_integer(_relabels);
  tmp2 = mmc_unbox_integer(_max);
  tmp3 = mmc_unbox_integer(_min_vertex);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  omc_Matching_PR__FIFO__FAIRphase(threadData, tmp1, _U, tmp2, tmp3, tmp4, tmp5, _m, _mT, _l_label, _r_label, _ass1, _ass2, _nextqueue);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PR__Global__Relabel__traverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_integer _max, modelica_integer _r, modelica_metatype _l_label, modelica_metatype _r_label, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue)
{
  modelica_metatype _outQueue = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outQueue has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _collums;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _rc;
      modelica_integer _c;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _rc has no default value.
      // _c has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _nextqueue;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _c = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_l_label,_c) /* DAE.ASUB */) == _max);
          if (1 /* true */ != tmp9) goto goto_2;

          arrayUpdate(_l_label, _c, mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer(arrayGet(_r_label,_r) /* DAE.ASUB */)));

          _rc = mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp10 = (_rc > ((modelica_integer) -1));
          if (1 /* true */ != tmp10) goto goto_2;

          /* Pattern-matching assignment */
          tmp11 = (mmc_unbox_integer(arrayGet(_r_label,_rc) /* DAE.ASUB */) == _max);
          if (1 /* true */ != tmp11) goto goto_2;

          arrayUpdate(_r_label, _rc, mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer(arrayGet(_l_label,_c) /* DAE.ASUB */)));
          tmpMeta12 = mmc_mk_cons(mmc_mk_integer(_rc), _nextqueue);
          tmpMeta1 = omc_Matching_PR__Global__Relabel__traverseCollums(threadData, _rest, _max, _r, _l_label, _r_label, _nv, _ne, _m, _mT, _ass1, _ass2, tmpMeta12);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta13 = MMC_CAR(tmp4_1);
          tmpMeta14 = MMC_CDR(tmp4_1);
          _rest = tmpMeta14;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_PR__Global__Relabel__traverseCollums(threadData, _rest, _max, _r, _l_label, _r_label, _nv, _ne, _m, _mT, _ass1, _ass2, _nextqueue);
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT112, _OMC_LIT113);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outQueue = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outQueue;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__Global__Relabel__traverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _max, modelica_metatype _r, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _outQueue = NULL;
  tmp1 = mmc_unbox_integer(_max);
  tmp2 = mmc_unbox_integer(_r);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _outQueue = omc_Matching_PR__Global__Relabel__traverseCollums(threadData, _collums, tmp1, tmp2, _l_label, _r_label, tmp3, tmp4, _m, _mT, _ass1, _ass2, _nextqueue);
  /* skip box _outQueue; list<#Integer> */
  return _outQueue;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_PR__Global__Relabel1(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _l_label, modelica_metatype _r_label, modelica_integer _max, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
    tmp3_1 = _queue;
    tmp3_2 = _nextqueue;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _collums = NULL;
      modelica_metatype _queue1 = NULL;
      modelica_integer _r;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _rest has no default value.
      // _collums has no default value.
      // _queue1 has no default value.
      // _r has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          if (!listEmpty(tmp3_2)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          
          tmp3 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_PR__Global__Relabel1(threadData, listReverse(_nextqueue), _l_label, _r_label, _max, _nv, _ne, _m, _mT, _ass1, _ass2, tmpMeta5);
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta6 = MMC_CAR(tmp3_1);
          tmpMeta7 = MMC_CDR(tmp3_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          
          _r = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _collums = omc_List_select(threadData, arrayGet(_mT,_r) /* DAE.ASUB */, boxvar_Util_intPositive);

          _queue1 = omc_Matching_PR__Global__Relabel__traverseCollums(threadData, _collums, _max, _r, _l_label, _r_label, _nv, _ne, _m, _mT, _ass1, _ass2, _nextqueue);

          omc_Matching_PR__Global__Relabel1(threadData, _rest, _l_label, _r_label, _max, _nv, _ne, _m, _mT, _ass1, _ass2, _queue1);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 3) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_PR__Global__Relabel1(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _max, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  tmp1 = mmc_unbox_integer(_max);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  omc_Matching_PR__Global__Relabel1(threadData, _queue, _l_label, _r_label, tmp1, tmp2, tmp3, _m, _mT, _ass1, _ass2, _nextqueue);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PR__Global__Relabel__init__r__label(threadData_t *threadData, modelica_integer _i, modelica_integer _nv, modelica_integer _max, modelica_metatype _r_label, modelica_metatype _ass2, modelica_metatype _inQueue)
{
  modelica_metatype _outQueue = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outQueue has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_i > _nv);
          if (1 /* true */ != tmp6) goto goto_2;
          tmpMeta1 = listReverse(_inQueue);
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp7;
          modelica_boolean tmp8;
          modelica_metatype tmpMeta9;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp7 = (_i > _nv);
          if (0 /* false */ != tmp7) goto goto_2;

          /* Pattern-matching assignment */
          tmp8 = (mmc_unbox_integer(arrayGet(_ass2,_i) /* DAE.ASUB */) > ((modelica_integer) 0));
          if (0 /* false */ != tmp8) goto goto_2;

          arrayUpdate(_r_label, _i, mmc_mk_integer(((modelica_integer) 0)));
          tmpMeta9 = mmc_mk_cons(mmc_mk_integer(_i), _inQueue);
          tmpMeta1 = omc_Matching_PR__Global__Relabel__init__r__label(threadData, ((modelica_integer) 1) + _i, _nv, _max, _r_label, _ass2, tmpMeta9);
          goto tmp3_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          arrayUpdate(_r_label, _i, mmc_mk_integer(_max));
          tmpMeta1 = omc_Matching_PR__Global__Relabel__init__r__label(threadData, ((modelica_integer) 1) + _i, _nv, _max, _r_label, _ass2, _inQueue);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outQueue = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outQueue;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__Global__Relabel__init__r__label(threadData_t *threadData, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _max, modelica_metatype _r_label, modelica_metatype _ass2, modelica_metatype _inQueue)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outQueue = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_max);
  _outQueue = omc_Matching_PR__Global__Relabel__init__r__label(threadData, tmp1, tmp2, tmp3, _r_label, _ass2, _inQueue);
  /* skip box _outQueue; list<#Integer> */
  return _outQueue;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_PR__Global__Relabel__init__l__label(threadData_t *threadData, modelica_integer _i, modelica_integer _ne, modelica_integer _max, modelica_metatype _l_label)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_boolean tmp5;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp5 = (_i > _ne);
          if (1 /* true */ != tmp5) goto goto_1;
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          arrayUpdate(_l_label, _i, mmc_mk_integer(_max));

          omc_Matching_PR__Global__Relabel__init__l__label(threadData, ((modelica_integer) 1) + _i, _ne, _max, _l_label);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_PR__Global__Relabel__init__l__label(threadData_t *threadData, modelica_metatype _i, modelica_metatype _ne, modelica_metatype _max, modelica_metatype _l_label)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_ne);
  tmp3 = mmc_unbox_integer(_max);
  omc_Matching_PR__Global__Relabel__init__l__label(threadData, tmp1, tmp2, tmp3, _l_label);
  return;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_PR__Global__Relabel(threadData_t *threadData, modelica_metatype _l_label, modelica_metatype _r_label, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_metatype _queue = NULL;
  modelica_integer _max;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _queue has no default value.
  // _max has no default value.
  _max = _nv + _ne;

  omc_Matching_PR__Global__Relabel__init__l__label(threadData, ((modelica_integer) 1), _ne, _max, _l_label);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _queue = omc_Matching_PR__Global__Relabel__init__r__label(threadData, ((modelica_integer) 1), _nv, _max, _r_label, _ass2, tmpMeta1);

  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  omc_Matching_PR__Global__Relabel1(threadData, _queue, _l_label, _r_label, _max, _nv, _ne, _m, _mT, _ass1, _ass2, tmpMeta2);
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_PR__Global__Relabel(threadData_t *threadData, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  omc_Matching_PR__Global__Relabel(threadData, _l_label, _r_label, tmp1, tmp2, _m, _mT, _ass1, _ass2);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PR__FIFO__FAIR2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outl_label, modelica_metatype *out_outr_label, modelica_integer *out_nvars, modelica_integer *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outunmatched = NULL;
  modelica_metatype _outl_label = NULL;
  modelica_metatype _outr_label = NULL;
  modelica_integer _nvars;
  modelica_integer _neqns;
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_integer tmp1_c3 __attribute__((unused)) = 0;
  modelica_integer tmp1_c4 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[10] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outunmatched has no default value.
  // _outl_label has no default value.
  // _outr_label has no default value.
  // _nvars has no default value.
  // _neqns has no default value.
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _meqns;
    tmp4_2 = _inMatchingOptions;
    {
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_metatype _unmatched1 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _l_label1 = NULL;
      modelica_metatype _r_label1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _unmatched1 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _l_label1 has no default value.
      // _r_label1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _unmatched;
          tmpMeta[0+1] = _l_label;
          tmpMeta[0+2] = _r_label;
          tmp1_c3 = _nv;
          tmp1_c4 = _ne;
          tmpMeta[0+5] = _ass1;
          tmpMeta[0+6] = _ass2;
          tmpMeta[0+7] = _isyst;
          tmpMeta[0+8] = _ishared;
          tmpMeta[0+9] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _unmatched1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))), _meqns, mmc_mk_integer(((modelica_integer) 0)), _isyst, _ishared, _ass2, _ass1, _inArg ,NULL ,&_syst ,&_shared ,&_ass2_1 ,&_ass1_1 ,&_arg) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, _meqns, mmc_mk_integer(((modelica_integer) 0)), _isyst, _ishared, _ass2, _ass1, _inArg ,NULL ,&_syst ,&_shared ,&_ass2_1 ,&_ass1_1 ,&_arg);

          _ne_1 = omc_BackendDAEUtil_systemSize(threadData, _syst);

          _nv_1 = omc_BackendVariable_daenumVariables(threadData, _syst);

          _ass1_1 = omc_Matching_assignmentsArrayExpand(threadData, _ass1_1, _ne_1, arrayLength(_ass1_1), ((modelica_integer) -1));

          _ass2_1 = omc_Matching_assignmentsArrayExpand(threadData, _ass2_1, _nv_1, arrayLength(_ass2_1), ((modelica_integer) -1));

          _l_label1 = omc_Matching_assignmentsArrayExpand(threadData, _l_label, _ne_1, arrayLength(_l_label), ((modelica_integer) -1));

          _r_label1 = omc_Matching_assignmentsArrayExpand(threadData, _r_label, _nv_1, arrayLength(_r_label), ((modelica_integer) -1));
          tmpMeta[0+0] = _unmatched1;
          tmpMeta[0+1] = _l_label1;
          tmpMeta[0+2] = _r_label1;
          tmp1_c3 = _nv_1;
          tmp1_c4 = _ne_1;
          tmpMeta[0+5] = _ass1_1;
          tmpMeta[0+6] = _ass2_1;
          tmpMeta[0+7] = _syst;
          tmpMeta[0+8] = _shared;
          tmpMeta[0+9] = _arg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Matching_singularSystemError(threadData, _meqns, ((modelica_integer) 0), _isyst, _ishared, _ass1, _ass2, _inArg);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outunmatched = tmpMeta[0+0];
  _outl_label = tmpMeta[0+1];
  _outr_label = tmpMeta[0+2];
  _nvars = tmp1_c3;
  _neqns = tmp1_c4;
  _outAss1 = tmpMeta[0+5];
  _outAss2 = tmpMeta[0+6];
  _osyst = tmpMeta[0+7];
  _oshared = tmpMeta[0+8];
  _outArg = tmpMeta[0+9];
  _return: OMC_LABEL_UNUSED
  if (out_outl_label) { *out_outl_label = _outl_label; }
  if (out_outr_label) { *out_outr_label = _outr_label; }
  if (out_nvars) { *out_nvars = _nvars; }
  if (out_neqns) { *out_neqns = _neqns; }
  if (out_outAss1) { *out_outAss1 = _outAss1; }
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outunmatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIR2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outl_label, modelica_metatype *out_outr_label, modelica_metatype *out_nvars, modelica_metatype *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer _nvars;
  modelica_integer _neqns;
  modelica_metatype _outunmatched = NULL;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  _outunmatched = omc_Matching_PR__FIFO__FAIR2(threadData, _meqns, _unmatched, _changedEqns, _l_label, _r_label, _isyst, _ishared, tmp1, tmp2, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, out_outl_label, out_outr_label, &_nvars, &_neqns, out_outAss1, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outunmatched; list<#Integer> */
  /* skip box _outl_label; array<#Integer> */
  /* skip box _outr_label; array<#Integer> */
  if (out_nvars) { *out_nvars = mmc_mk_icon(_nvars); }
  if (out_neqns) { *out_neqns = mmc_mk_icon(_neqns); }
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outunmatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PR__FIFO__FAIR1(threadData_t *threadData, modelica_metatype _unmatched, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;
    tmp4_1 = _unmatched;
    tmp4_2 = _isyst;
    tmp4_3 = _inArg;
    {
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_metatype _unmatched1 = NULL;
      modelica_metatype _meqns = NULL;
      modelica_string _eqn_str = NULL;
      modelica_string _var_str = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _info = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _l_label1 = NULL;
      modelica_metatype _r_label1 = NULL;
      modelica_metatype _mapIncRowEqn = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _m has no default value.
      // _mt has no default value.
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _unmatched1 has no default value.
      // _meqns has no default value.
      // _eqn_str has no default value.
      // _var_str has no default value.
      // _arg has no default value.
      // _source has no default value.
      // _info has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _l_label1 has no default value.
      // _r_label1 has no default value.
      // _mapIncRowEqn has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _ass1;
          tmpMeta[0+1] = _ass2;
          tmpMeta[0+2] = _isyst;
          tmpMeta[0+3] = _ishared;
          tmpMeta[0+4] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _syst = tmp4_2;
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          omc_Matching_PR__Global__Relabel(threadData, _l_label, _r_label, _nv, _ne, _m, _mt, _ass1, _ass2);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_PR__FIFO__FAIRphase(threadData, ((modelica_integer) 0), _unmatched, _nv + _ne, ((modelica_integer) -1), _nv, _ne, _m, _mt, _l_label, _r_label, _ass1, _ass2, tmpMeta10);

          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched1 = omc_Matching_getUnassigned(threadData, _ne, _ass1, tmpMeta11);

          _meqns = omc_Matching_getEqnsforIndexReduction(threadData, _unmatched1, _ne, _m, _mt, _ass1, _ass2, _inArg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched1 = omc_Matching_PR__FIFO__FAIR2(threadData, _meqns, _unmatched1, tmpMeta12, _l_label, _r_label, _syst, _ishared, _nv, _ne, _ass1, _ass2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_l_label1 ,&_r_label1 ,&_nv_1 ,&_ne_1 ,&_ass1_1 ,&_ass2_1 ,&_syst ,&_shared ,&_arg);
          tmpMeta[0+0] = omc_Matching_PR__FIFO__FAIR1(threadData, _unmatched1, _l_label1, _r_label1, _syst, _shared, _nv_1, _ne_1, _ass1_1, _ass2_1, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _arg, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4]);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 4));
          
          _mapIncRowEqn = tmpMeta13;
          /* Pattern matching succeeded */
          _unmatched1 = omc_List_map1r(threadData, _unmatched, boxvar_arrayGet, _mapIncRowEqn);

          _unmatched1 = omc_List_uniqueIntN(threadData, _unmatched1, arrayLength(_mapIncRowEqn));

          _eqn_str = omc_BackendDump_dumpMarkedEqns(threadData, _isyst, _unmatched1);

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched1 = omc_Matching_getUnassigned(threadData, _nv, _ass2, tmpMeta14);

          _var_str = omc_BackendDump_dumpMarkedVars(threadData, _isyst, _unmatched1);

          _source = omc_BackendEquation_markedEquationSource(threadData, _isyst, mmc_unbox_integer(listHead(_unmatched1)));

          _info = omc_ElementSource_getElementSourceFileInfo(threadData, _source);

          tmpMeta15 = mmc_mk_cons(_eqn_str, mmc_mk_cons(_var_str, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addSourceMessage(threadData, _OMC_LIT4, tmpMeta15, _info);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outAss1 = tmpMeta[0+0];
  _outAss2 = tmpMeta[0+1];
  _osyst = tmpMeta[0+2];
  _oshared = tmpMeta[0+3];
  _outArg = tmpMeta[0+4];
  _return: OMC_LABEL_UNUSED
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outAss1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PR__FIFO__FAIR1(threadData_t *threadData, modelica_metatype _unmatched, modelica_metatype _l_label, modelica_metatype _r_label, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outAss1 = NULL;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  _outAss1 = omc_Matching_PR__FIFO__FAIR1(threadData, _unmatched, _l_label, _r_label, _isyst, _ishared, tmp1, tmp2, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outAss1;
}

DLLDirection
modelica_metatype omc_Matching_PR__FIFO__FAIR(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _l_label = NULL;
      modelica_metatype _r_label = NULL;
      modelica_metatype _unmatched = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _m has no default value.
      // _mt has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _l_label has no default value.
      // _r_label has no default value.
      // _unmatched has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp10 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          /* Pattern-matching assignment */
          tmp11 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp11) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          _l_label = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) -1)));

          _r_label = arrayCreate(_nvars, mmc_mk_integer(((modelica_integer) -1)));

          _unmatched = omc_Matching_cheapmatchingalgorithm(threadData, _nvars, _neqns, _m, _mt, _vec1, _vec2, 1 /* true */);

          _vec1 = omc_Matching_PR__FIFO__FAIR1(threadData, _unmatched, _l_label, _r_label, _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta12);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta13);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp14 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp15) goto goto_2;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta16);

          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta17);

          tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta19 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta18);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta19);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT114);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_PR__FIFO__FAIR(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_PR__FIFO__FAIR(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_ABMPDFStraverseCollums1(threadData_t *threadData, modelica_boolean _inMatched, modelica_integer _counter, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _r, modelica_integer _i, modelica_integer _desL, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean *out_matched)
{
  modelica_integer _outI;
  modelica_boolean _matched;
  modelica_integer tmp1_c0 __attribute__((unused)) = 0;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outI has no default value.
  // _matched has no default value.
  
  
  { /* match expression */
    modelica_boolean tmp4_1;modelica_integer tmp4_2;
    tmp4_1 = _inMatched;
    tmp4_2 = _i;
    {
      modelica_integer _i_1;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _i_1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (1 /* true */ != tmp4_1) goto tmp3_end;
          
          _i_1 = tmp4_2;
          /* Pattern matching succeeded */
          tmp1_c0 = _i_1;
          tmp1_c1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1_c0 = omc_Matching_ABMPDFStraverseCollums(threadData, _rows, _counter, _stack, _r, _i, _desL, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2, &tmp1_c1);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outI = tmp1_c0;
  _matched = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_matched) { *out_matched = _matched; }
  return _outI;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPDFStraverseCollums1(threadData_t *threadData, modelica_metatype _inMatched, modelica_metatype _counter, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _r, modelica_metatype _i, modelica_metatype _desL, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_matched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_boolean _matched;
  modelica_integer _outI;
  modelica_metatype out_outI;
  tmp1 = mmc_unbox_integer(_inMatched);
  tmp2 = mmc_unbox_integer(_counter);
  tmp3 = mmc_unbox_integer(_r);
  tmp4 = mmc_unbox_integer(_i);
  tmp5 = mmc_unbox_integer(_desL);
  tmp6 = mmc_unbox_integer(_nv);
  tmp7 = mmc_unbox_integer(_ne);
  _outI = omc_Matching_ABMPDFStraverseCollums1(threadData, tmp1, tmp2, _rows, _stack, tmp3, tmp4, tmp5, tmp6, tmp7, _m, _mT, _level, _colptrs, _ass1, _ass2, &_matched);
  out_outI = mmc_mk_icon(_outI);
  if (out_matched) { *out_matched = mmc_mk_icon(_matched); }
  return out_outI;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_ABMPDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_integer _counter, modelica_metatype _stack, modelica_integer _r, modelica_integer _i, modelica_integer _desL, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean *out_matched)
{
  modelica_integer _outI;
  modelica_boolean _matched;
  modelica_integer tmp1_c0 __attribute__((unused)) = 0;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outI has no default value.
  // _matched has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _collums;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _rc;
      modelica_integer _c;
      modelica_integer _i_1;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _rc has no default value.
      // _c has no default value.
      // _i_1 has no default value.
      // _b has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          arrayUpdate(_level, _r, mmc_mk_integer(((modelica_integer) 2) + mmc_unbox_integer(arrayGet(_level,_r) /* DAE.ASUB */)));

          arrayUpdate(_colptrs, _r, mmc_mk_integer(((modelica_integer) 0)));
          tmp1_c0 = ((modelica_integer) 1) + _i;
          tmp1_c1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _c = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp9) goto goto_2;

          arrayUpdate(_colptrs, _r, mmc_mk_integer(_counter));

          omc_Matching_HKDFSreasign(threadData, _stack, _c, _ass1, _ass2);
          tmp1_c0 = _i;
          tmp1_c1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_integer tmp12;
          modelica_boolean tmp13;
          modelica_boolean tmp14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          tmp12 = mmc_unbox_integer(tmpMeta10);
          _c = tmp12  /* pattern as ty=Integer */;
          _rest = tmpMeta11;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp13 = (mmc_unbox_integer(arrayGet(_level,_c) /* DAE.ASUB */) == _desL);
          if (1 /* true */ != tmp13) goto goto_2;

          _rc = mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp14 = (_rc > ((modelica_integer) 0));
          if (1 /* true */ != tmp14) goto goto_2;

          arrayUpdate(_colptrs, _r, mmc_mk_integer(_counter));

          tmpMeta15 = mmc_mk_cons(mmc_mk_integer(_rc), _stack);
          _i_1 = omc_Matching_ABMPDFSphase(threadData, tmpMeta15, _i, _rc, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2 ,&_b);
          tmp1_c0 = omc_Matching_ABMPDFStraverseCollums1(threadData, _b, ((modelica_integer) 1) + _counter, _rest, _stack, _r, _i_1, _desL, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2, &tmp1_c1);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta16 = MMC_CAR(tmp4_1);
          tmpMeta17 = MMC_CDR(tmp4_1);
          _rest = tmpMeta17;
          /* Pattern matching succeeded */
          tmp1_c0 = omc_Matching_ABMPDFStraverseCollums(threadData, _rest, ((modelica_integer) 1) + _counter, _stack, _r, _i, _desL, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2, &tmp1_c1);
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT115, _OMC_LIT116);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outI = tmp1_c0;
  _matched = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_matched) { *out_matched = _matched; }
  return _outI;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _counter, modelica_metatype _stack, modelica_metatype _r, modelica_metatype _i, modelica_metatype _desL, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_matched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_boolean _matched;
  modelica_integer _outI;
  modelica_metatype out_outI;
  tmp1 = mmc_unbox_integer(_counter);
  tmp2 = mmc_unbox_integer(_r);
  tmp3 = mmc_unbox_integer(_i);
  tmp4 = mmc_unbox_integer(_desL);
  tmp5 = mmc_unbox_integer(_nv);
  tmp6 = mmc_unbox_integer(_ne);
  _outI = omc_Matching_ABMPDFStraverseCollums(threadData, _collums, tmp1, _stack, tmp2, tmp3, tmp4, tmp5, tmp6, _m, _mT, _level, _colptrs, _ass1, _ass2, &_matched);
  out_outI = mmc_mk_icon(_outI);
  if (out_matched) { *out_matched = mmc_mk_icon(_matched); }
  return out_outI;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_ABMPDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _r, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean *out_matched)
{
  modelica_integer _outI;
  modelica_boolean _matched;
  modelica_integer tmp1_c0 __attribute__((unused)) = 0;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outI has no default value.
  // _matched has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _stack;
    {
      modelica_metatype _collums = NULL;
      modelica_integer _desL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _collums has no default value.
      // _desL has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1_c0 = _i;
          tmp1_c1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _collums = omc_List_select(threadData, arrayGet(_mT,_r) /* DAE.ASUB */, boxvar_Util_intPositive);

          _collums = omc_List_stripN(threadData, _collums, mmc_unbox_integer(arrayGet(_colptrs,_r) /* DAE.ASUB */));

          _desL = ((modelica_integer) -2) + mmc_unbox_integer(arrayGet(_level,_r) /* DAE.ASUB */);
          tmp1_c0 = omc_Matching_ABMPDFStraverseCollums(threadData, _collums, ((modelica_integer) 1), _stack, _r, _i, _desL, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2, &tmp1_c1);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = stringAppend(_OMC_LIT117,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta6, _OMC_LIT118);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outI = tmp1_c0;
  _matched = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_matched) { *out_matched = _matched; }
  return _outI;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _r, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_matched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_boolean _matched;
  modelica_integer _outI;
  modelica_metatype out_outI;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_r);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _outI = omc_Matching_ABMPDFSphase(threadData, _stack, tmp1, tmp2, tmp3, tmp4, _m, _mT, _level, _colptrs, _ass1, _ass2, &_matched);
  out_outI = mmc_mk_icon(_outI);
  if (out_matched) { *out_matched = mmc_mk_icon(_matched); }
  return out_outI;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_ABMPDFS1(threadData_t *threadData, modelica_boolean _inMatched, modelica_integer _r, modelica_metatype _unmatchedRows, modelica_metatype _unMatched, modelica_integer _i, modelica_integer _L, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_boolean tmp3_1;volatile modelica_metatype tmp3_2;volatile modelica_metatype tmp3_3;
    tmp3_1 = _inMatched;
    tmp3_2 = _unmatchedRows;
    tmp3_3 = _unMatched;
    {
      modelica_metatype _unmatched = NULL;
      modelica_integer _r1;
      modelica_integer _r2;
      modelica_integer _l;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _unmatched has no default value.
      // _r1 has no default value.
      // _r2 has no default value.
      // _l has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 9; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_2)) goto tmp2_end;
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_boolean tmp5;
          if (1 /* true */ != tmp3_1) goto tmp2_end;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp5 = ((((modelica_integer) 50)) * (_L) > listLength(_unmatchedRows) + listLength(_unMatched));
          if (1 /* true */ != tmp5) goto goto_1;
          goto tmp2_done;
        }
        case 2: {
          modelica_boolean tmp6;
          modelica_metatype tmpMeta7;
          if (1 /* true */ != tmp3_1) goto tmp2_end;
          if (!listEmpty(tmp3_3)) goto tmp2_end;
          
          tmp3 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching assignment */
          tmp6 = ((((modelica_integer) 50)) * (_L) > listLength(_unmatchedRows) + listLength(_unMatched));
          if (0 /* false */ != tmp6) goto goto_1;

          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_ABMPDFS(threadData, _unmatchedRows, _i, _L, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2, tmpMeta7);
          goto tmp2_done;
        }
        case 3: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_integer tmp10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_integer tmp13;
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (1 /* true */ != tmp3_1) goto tmp2_end;
          if (listEmpty(tmp3_2)) goto tmp2_end;
          tmpMeta8 = MMC_CAR(tmp3_2);
          tmpMeta9 = MMC_CDR(tmp3_2);
          tmp10 = mmc_unbox_integer(tmpMeta8);
          if (listEmpty(tmp3_3)) goto tmp2_end;
          tmpMeta11 = MMC_CAR(tmp3_3);
          tmpMeta12 = MMC_CDR(tmp3_3);
          tmp13 = mmc_unbox_integer(tmpMeta11);
          if (!listEmpty(tmpMeta12)) goto tmp2_end;
          _r1 = tmp10  /* pattern as ty=Integer */;
          _r2 = tmp13  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp14 = ((((modelica_integer) 50)) * (_L) > listLength(_unmatchedRows) + listLength(_unMatched));
          if (0 /* false */ != tmp14) goto goto_1;

          /* Pattern-matching assignment */
          tmp15 = (_L == mmc_unbox_integer(arrayGet(_level,_r1) /* DAE.ASUB */));
          if (0 /* false */ != tmp15) goto goto_1;

          _l = mmc_unbox_integer(arrayGet(_level,_r2) /* DAE.ASUB */);

          tmpMeta16 = mmc_mk_cons(mmc_mk_integer(_r2), _unmatchedRows);
          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_ABMPDFS(threadData, tmpMeta16, _i, _l, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2, tmpMeta17);
          goto tmp2_done;
        }
        case 4: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_integer tmp20;
          modelica_boolean tmp21;
          modelica_boolean tmp22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_integer tmp26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          if (1 /* true */ != tmp3_1) goto tmp2_end;
          if (listEmpty(tmp3_2)) goto tmp2_end;
          tmpMeta18 = MMC_CAR(tmp3_2);
          tmpMeta19 = MMC_CDR(tmp3_2);
          tmp20 = mmc_unbox_integer(tmpMeta18);
          
          _r1 = tmp20  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp21 = ((((modelica_integer) 50)) * (_L) > listLength(_unmatchedRows) + listLength(_unMatched));
          if (0 /* false */ != tmp21) goto goto_1;

          /* Pattern-matching assignment */
          tmp22 = (_L == mmc_unbox_integer(arrayGet(_level,_r1) /* DAE.ASUB */));
          if (0 /* false */ != tmp22) goto goto_1;

          /* Pattern-matching assignment */
          tmpMeta23 = listReverse(_unMatched);
          if (listEmpty(tmpMeta23)) goto goto_1;
          tmpMeta24 = MMC_CAR(tmpMeta23);
          tmpMeta25 = MMC_CDR(tmpMeta23);
          tmp26 = mmc_unbox_integer(tmpMeta24);
          _r2 = tmp26  /* pattern as ty=Integer */;
          _unmatched = tmpMeta25;

          _l = mmc_unbox_integer(arrayGet(_level,_r2) /* DAE.ASUB */);

          tmpMeta27 = mmc_mk_cons(mmc_mk_integer(_r2), _unmatchedRows);
          _unmatched = listAppend(_unmatched, tmpMeta27);

          tmpMeta28 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_ABMPDFS(threadData, _unmatchedRows, _i, _l, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2, tmpMeta28);
          goto tmp2_done;
        }
        case 5: {
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_integer tmp31;
          modelica_boolean tmp32;
          modelica_metatype tmpMeta33;
          if (listEmpty(tmp3_2)) goto tmp2_end;
          tmpMeta29 = MMC_CAR(tmp3_2);
          tmpMeta30 = MMC_CDR(tmp3_2);
          tmp31 = mmc_unbox_integer(tmpMeta29);
          if (!listEmpty(tmp3_3)) goto tmp2_end;
          
          _r1 = tmp31  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp32 = (_L == mmc_unbox_integer(arrayGet(_level,_r1) /* DAE.ASUB */));
          if (0 /* false */ != tmp32) goto goto_1;

          _l = mmc_unbox_integer(arrayGet(_level,_r) /* DAE.ASUB */);

          tmpMeta33 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_ABMPDFS(threadData, _unmatchedRows, _i, _l, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2, tmpMeta33);
          goto tmp2_done;
        }
        case 6: {
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_integer tmp36;
          modelica_boolean tmp37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_integer tmp41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          if (listEmpty(tmp3_2)) goto tmp2_end;
          tmpMeta34 = MMC_CAR(tmp3_2);
          tmpMeta35 = MMC_CDR(tmp3_2);
          tmp36 = mmc_unbox_integer(tmpMeta34);
          
          _r1 = tmp36  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp37 = (_L == mmc_unbox_integer(arrayGet(_level,_r1) /* DAE.ASUB */));
          if (0 /* false */ != tmp37) goto goto_1;

          /* Pattern-matching assignment */
          tmpMeta38 = listReverse(_unMatched);
          if (listEmpty(tmpMeta38)) goto goto_1;
          tmpMeta39 = MMC_CAR(tmpMeta38);
          tmpMeta40 = MMC_CDR(tmpMeta38);
          tmp41 = mmc_unbox_integer(tmpMeta39);
          _r2 = tmp41  /* pattern as ty=Integer */;
          _unmatched = tmpMeta40;

          _l = mmc_unbox_integer(arrayGet(_level,_r2) /* DAE.ASUB */);

          tmpMeta42 = mmc_mk_cons(mmc_mk_integer(_r2), _unmatched);
          _unmatched = listAppend(tmpMeta42, _unmatchedRows);

          tmpMeta43 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_ABMPDFS(threadData, _unmatched, _i, _l, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2, tmpMeta43);
          goto tmp2_done;
        }
        case 7: {
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_integer tmp46;
          modelica_boolean tmp47;
          if (listEmpty(tmp3_2)) goto tmp2_end;
          tmpMeta44 = MMC_CAR(tmp3_2);
          tmpMeta45 = MMC_CDR(tmp3_2);
          tmp46 = mmc_unbox_integer(tmpMeta44);
          
          _r1 = tmp46  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp47 = (_L == mmc_unbox_integer(arrayGet(_level,_r1) /* DAE.ASUB */));
          if (1 /* true */ != tmp47) goto goto_1;

          omc_Matching_ABMPDFS(threadData, _unmatchedRows, _i, _L, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2, _unMatched);
          goto tmp2_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT119, _OMC_LIT120);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 9) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_ABMPDFS1(threadData_t *threadData, modelica_metatype _inMatched, modelica_metatype _r, modelica_metatype _unmatchedRows, modelica_metatype _unMatched, modelica_metatype _i, modelica_metatype _L, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  tmp1 = mmc_unbox_integer(_inMatched);
  tmp2 = mmc_unbox_integer(_r);
  tmp3 = mmc_unbox_integer(_i);
  tmp4 = mmc_unbox_integer(_L);
  tmp5 = mmc_unbox_integer(_nv);
  tmp6 = mmc_unbox_integer(_ne);
  omc_Matching_ABMPDFS1(threadData, tmp1, tmp2, _unmatchedRows, _unMatched, tmp3, tmp4, tmp5, tmp6, _m, _mT, _level, _colptrs, _ass1, _ass2);
  return;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_ABMPDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_integer _i, modelica_integer _L, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _unMatched)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    volatile modelica_metatype tmp3_1;
    tmp3_1 = _unmatchedRows;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _unmatched = NULL;
      modelica_integer _r;
      modelica_integer _i_1;
      modelica_boolean _b;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _rest has no default value.
      // _unmatched has no default value.
      // _r has no default value.
      // _i_1 has no default value.
      // _b has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 4; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_boolean tmp5;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp5 = (_i < _ne);
          if (0 /* false */ != tmp5) goto goto_1;
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta6 = MMC_CAR(tmp3_1);
          tmpMeta7 = MMC_CDR(tmp3_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          arrayUpdate(_colptrs, _r, mmc_mk_integer(((modelica_integer) 0)));

          tmpMeta9 = mmc_mk_cons(mmc_mk_integer(_r), MMC_REFSTRUCTLIT(mmc_nil));
          _i_1 = omc_Matching_ABMPDFSphase(threadData, tmpMeta9, _i, _r, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2 ,&_b);

          _unmatched = omc_List_consOnTrue(threadData, (!_b), mmc_mk_integer(_r), _unMatched);

          omc_Matching_ABMPDFS1(threadData, _b, _r, _rest, _unmatched, _i_1, _L, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2);
          goto tmp2_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT121, _OMC_LIT122);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 4) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_ABMPDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_metatype _i, modelica_metatype _L, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _unMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_L);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  omc_Matching_ABMPDFS(threadData, _unmatchedRows, tmp1, tmp2, tmp3, tmp4, _m, _mT, _level, _colptrs, _ass1, _ass2, _unMatched);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPBFStraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_integer _i, modelica_integer _L, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _queue, modelica_metatype _unMatched, modelica_metatype *out_outUnmatched)
{
  modelica_metatype _outEqnqueue = NULL;
  modelica_metatype _outUnmatched = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqnqueue has no default value.
  // _outUnmatched has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _rc;
      modelica_integer _r;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _rc has no default value.
      // _r has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = listReverse(_queue);
          tmpMeta[0+1] = _unMatched;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_rowmarks,_r) /* DAE.ASUB */) == _i);
          if (0 /* false */ != tmp9) goto goto_2;

          /* Pattern-matching assignment */
          tmp10 = (mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          arrayUpdate(_level, _r, mmc_mk_integer(_L));

          arrayUpdate(_rowmarks, _r, mmc_mk_integer(_i));
          tmpMeta11 = mmc_mk_cons(mmc_mk_integer(_r), _unMatched);
          tmpMeta[0+0] = omc_Matching_ABMPBFStraverseRows(threadData, _rest, _i, _L, _nv, _ne, _m, _mT, _rowmarks, _level, _ass1, _ass2, _queue, tmpMeta11, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_integer tmp14;
          modelica_boolean tmp15;
          modelica_boolean tmp16;
          modelica_metatype tmpMeta17;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta12 = MMC_CAR(tmp4_1);
          tmpMeta13 = MMC_CDR(tmp4_1);
          tmp14 = mmc_unbox_integer(tmpMeta12);
          _r = tmp14  /* pattern as ty=Integer */;
          _rest = tmpMeta13;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp15 = (mmc_unbox_integer(arrayGet(_rowmarks,_r) /* DAE.ASUB */) == _i);
          if (0 /* false */ != tmp15) goto goto_2;

          _rc = mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp16 = (_rc < ((modelica_integer) 0));
          if (0 /* false */ != tmp16) goto goto_2;

          arrayUpdate(_rowmarks, _r, mmc_mk_integer(_i));
          tmpMeta17 = mmc_mk_cons(mmc_mk_integer(_rc), _queue);
          tmpMeta[0+0] = omc_Matching_ABMPBFStraverseRows(threadData, _rest, _i, _L, _nv, _ne, _m, _mT, _rowmarks, _level, _ass1, _ass2, tmpMeta17, _unMatched, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_integer tmp20;
          modelica_boolean tmp21;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta18 = MMC_CAR(tmp4_1);
          tmpMeta19 = MMC_CDR(tmp4_1);
          tmp20 = mmc_unbox_integer(tmpMeta18);
          _r = tmp20  /* pattern as ty=Integer */;
          _rest = tmpMeta19;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp21 = (mmc_unbox_integer(arrayGet(_rowmarks,_r) /* DAE.ASUB */) == _i);
          if (1 /* true */ != tmp21) goto goto_2;
          tmpMeta[0+0] = omc_Matching_ABMPBFStraverseRows(threadData, _rest, _i, _L, _nv, _ne, _m, _mT, _rowmarks, _level, _ass1, _ass2, _queue, _unMatched, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT123, _OMC_LIT124);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outEqnqueue = tmpMeta[0+0];
  _outUnmatched = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outUnmatched) { *out_outUnmatched = _outUnmatched; }
  return _outEqnqueue;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPBFStraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _i, modelica_metatype _L, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _queue, modelica_metatype _unMatched, modelica_metatype *out_outUnmatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _outEqnqueue = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_L);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _outEqnqueue = omc_Matching_ABMPBFStraverseRows(threadData, _rows, tmp1, tmp2, tmp3, tmp4, _m, _mT, _rowmarks, _level, _ass1, _ass2, _queue, _unMatched, out_outUnmatched);
  /* skip box _outEqnqueue; list<#Integer> */
  /* skip box _outUnmatched; list<#Integer> */
  return _outEqnqueue;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPBFSphase1(threadData_t *threadData, modelica_boolean _inStop, modelica_metatype _queue, modelica_integer _i, modelica_integer _L, modelica_integer _lim, modelica_integer _lim1, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue, modelica_metatype _unMatched)
{
  modelica_metatype _outunMatched = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outunMatched has no default value.
  { /* match expression */
    modelica_boolean tmp4_1;
    tmp4_1 = _inStop;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (1 /* true */ != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _unMatched;
          goto tmp3_done;
        }
        case 1: {
          if (0 /* false */ != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_ABMPBFSphase(threadData, _queue, _i, _L, _lim, _lim1, _nv, _ne, _m, _mT, _rowmarks, _level, _ass1, _ass2, _nextqueue, _unMatched);
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT125, _OMC_LIT126);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outunMatched = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outunMatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPBFSphase1(threadData_t *threadData, modelica_metatype _inStop, modelica_metatype _queue, modelica_metatype _i, modelica_metatype _L, modelica_metatype _lim, modelica_metatype _lim1, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue, modelica_metatype _unMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_metatype _outunMatched = NULL;
  tmp1 = mmc_unbox_integer(_inStop);
  tmp2 = mmc_unbox_integer(_i);
  tmp3 = mmc_unbox_integer(_L);
  tmp4 = mmc_unbox_integer(_lim);
  tmp5 = mmc_unbox_integer(_lim1);
  tmp6 = mmc_unbox_integer(_nv);
  tmp7 = mmc_unbox_integer(_ne);
  _outunMatched = omc_Matching_ABMPBFSphase1(threadData, tmp1, _queue, tmp2, tmp3, tmp4, tmp5, tmp6, tmp7, _m, _mT, _rowmarks, _level, _ass1, _ass2, _nextqueue, _unMatched);
  /* skip box _outunMatched; list<#Integer> */
  return _outunMatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPBFSphase(threadData_t *threadData, modelica_metatype _queue, modelica_integer _i, modelica_integer _L, modelica_integer _lim, modelica_integer _lim1, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue, modelica_metatype _unMatched)
{
  modelica_metatype _outunMatched = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outunMatched has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _queue;
    tmp4_2 = _nextqueue;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _rows = NULL;
      modelica_metatype _queue1 = NULL;
      modelica_metatype _unmatched = NULL;
      modelica_integer _c;
      modelica_integer _l;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _rows has no default value.
      // _queue1 has no default value.
      // _unmatched has no default value.
      // _c has no default value.
      // _l has no default value.
      // _b has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _unMatched;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _l = ((modelica_integer) 2) + _L;

          _b = ((_l > _lim) || ((((modelica_integer) 50)) * (_l) > _lim1));
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = omc_Matching_ABMPBFSphase1(threadData, _b, _nextqueue, _i, _l, _lim, _lim1, _nv, _ne, _m, _mT, _rowmarks, _level, _ass1, _ass2, tmpMeta6, _unMatched);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          tmp9 = mmc_unbox_integer(tmpMeta7);
          
          _c = tmp9  /* pattern as ty=Integer */;
          _rest = tmpMeta8;
          /* Pattern matching succeeded */
          _rows = omc_List_select(threadData, arrayGet(_m,_c) /* DAE.ASUB */, boxvar_Util_intPositive);

          _queue1 = omc_Matching_ABMPBFStraverseRows(threadData, _rows, _i, _L, _nv, _ne, _m, _mT, _rowmarks, _level, _ass1, _ass2, _nextqueue, _unMatched ,&_unmatched);
          /* Tail recursive call */
          _queue = _rest;
          _nextqueue = _queue1;
          _unMatched = _unmatched;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT127, _OMC_LIT128);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outunMatched = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outunMatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPBFSphase(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _i, modelica_metatype _L, modelica_metatype _lim, modelica_metatype _lim1, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextqueue, modelica_metatype _unMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_metatype _outunMatched = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_L);
  tmp3 = mmc_unbox_integer(_lim);
  tmp4 = mmc_unbox_integer(_lim1);
  tmp5 = mmc_unbox_integer(_nv);
  tmp6 = mmc_unbox_integer(_ne);
  _outunMatched = omc_Matching_ABMPBFSphase(threadData, _queue, tmp1, tmp2, tmp3, tmp4, tmp5, tmp6, _m, _mT, _rowmarks, _level, _ass1, _ass2, _nextqueue, _unMatched);
  /* skip box _outunMatched; list<#Integer> */
  return _outunMatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPphase2(threadData_t *threadData, modelica_metatype _U, modelica_integer _i, modelica_integer _L, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_integer _lim, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_metatype _unMatched = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _unMatched has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _U;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _U;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp6;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = ((((modelica_integer) 50)) * (_L) > listLength(_U));
          if (1 /* true */ != tmp6) goto goto_2;
          tmpMeta1 = _U;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_ABMPphase(threadData, _U, _i, _nv, _ne, _m, _mT, _rowmarks, _level, _colptrs, _lim, _ass1, _ass2);
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT129, _OMC_LIT130);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _unMatched = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _unMatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPphase2(threadData_t *threadData, modelica_metatype _U, modelica_metatype _i, modelica_metatype _L, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _lim, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_metatype _unMatched = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_L);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  tmp5 = mmc_unbox_integer(_lim);
  _unMatched = omc_Matching_ABMPphase2(threadData, _U, tmp1, tmp2, tmp3, tmp4, _m, _mT, _rowmarks, _level, _colptrs, tmp5, _ass1, _ass2);
  /* skip box _unMatched; list<#Integer> */
  return _unMatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPphase1(threadData_t *threadData, modelica_metatype _U, modelica_metatype _unmatchedRows, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_integer _lim, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_metatype _unMatched = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _unMatched has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _unmatchedRows;
    {
      modelica_metatype _unmatched = NULL;
      modelica_integer _L;
      modelica_integer _r;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _unmatched has no default value.
      // _L has no default value.
      // _r has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _U;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          _L = mmc_unbox_integer(arrayGet(_level,_r) /* DAE.ASUB */);

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_ABMPDFS(threadData, _unmatchedRows, ((modelica_integer) 0), _L, _nv, _ne, _m, _mT, _level, _colptrs, _ass1, _ass2, tmpMeta9);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched = omc_Matching_HKgetUnmatched(threadData, _U, _ass1, tmpMeta10);
          tmpMeta1 = omc_Matching_ABMPphase2(threadData, _unmatched, _i, _L, _nv, _ne, _m, _mT, _rowmarks, _level, _colptrs, _lim, _ass1, _ass2);
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT131, _OMC_LIT132);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _unMatched = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _unMatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPphase1(threadData_t *threadData, modelica_metatype _U, modelica_metatype _unmatchedRows, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _lim, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _unMatched = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  tmp4 = mmc_unbox_integer(_lim);
  _unMatched = omc_Matching_ABMPphase1(threadData, _U, _unmatchedRows, tmp1, tmp2, tmp3, _m, _mT, _rowmarks, _level, _colptrs, tmp4, _ass1, _ass2);
  /* skip box _unMatched; list<#Integer> */
  return _unMatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMPphase(threadData_t *threadData, modelica_metatype _U, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_integer _lim, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_metatype _unMatched = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _unMatched has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _U;
    {
      modelica_metatype _ur = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _ur has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          _ur = omc_Matching_ABMPBFSphase(threadData, _U, _i, ((modelica_integer) 0), _lim, listLength(_U), _nv, _ne, _m, _mT, _rowmarks, _level, _ass1, _ass2, tmpMeta7, tmpMeta8);
          tmpMeta1 = omc_Matching_ABMPphase1(threadData, _U, _ur, _i, _nv, _ne, _m, _mT, _rowmarks, _level, _colptrs, _lim, _ass1, _ass2);
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT133, _OMC_LIT134);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _unMatched = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _unMatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMPphase(threadData_t *threadData, modelica_metatype _U, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _colptrs, modelica_metatype _lim, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _unMatched = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  tmp4 = mmc_unbox_integer(_lim);
  _unMatched = omc_Matching_ABMPphase(threadData, _U, tmp1, tmp2, tmp3, _m, _mT, _rowmarks, _level, _colptrs, tmp4, _ass1, _ass2);
  /* skip box _unMatched; list<#Integer> */
  return _unMatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMP2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _rlevel, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outcollummarks, modelica_metatype *out_outlevel, modelica_metatype *out_outrlevel, modelica_integer *out_nvars, modelica_integer *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outunmatched = NULL;
  modelica_metatype _outrowmarks = NULL;
  modelica_metatype _outcollummarks = NULL;
  modelica_metatype _outlevel = NULL;
  modelica_metatype _outrlevel = NULL;
  modelica_integer _nvars;
  modelica_integer _neqns;
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_integer tmp1_c5 __attribute__((unused)) = 0;
  modelica_integer tmp1_c6 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[12] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outunmatched has no default value.
  // _outrowmarks has no default value.
  // _outcollummarks has no default value.
  // _outlevel has no default value.
  // _outrlevel has no default value.
  // _nvars has no default value.
  // _neqns has no default value.
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  
  
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _meqns;
    tmp4_2 = _inMatchingOptions;
    {
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_metatype _unmatched1 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _rowmarks1 = NULL;
      modelica_metatype _collummarks1 = NULL;
      modelica_metatype _level1 = NULL;
      modelica_metatype _rlevel1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _unmatched1 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _rowmarks1 has no default value.
      // _collummarks1 has no default value.
      // _level1 has no default value.
      // _rlevel1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _unmatched;
          tmpMeta[0+1] = _rowmarks;
          tmpMeta[0+2] = _collummarks;
          tmpMeta[0+3] = _level;
          tmpMeta[0+4] = _rlevel;
          tmp1_c5 = _nv;
          tmp1_c6 = _ne;
          tmpMeta[0+7] = _ass1;
          tmpMeta[0+8] = _ass2;
          tmpMeta[0+9] = _isyst;
          tmpMeta[0+10] = _ishared;
          tmpMeta[0+11] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _unmatched1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))), _meqns, mmc_mk_integer(((modelica_integer) 0)), _isyst, _ishared, _ass2, _ass1, _inArg ,NULL ,&_syst ,&_shared ,&_ass2_1 ,&_ass1_1 ,&_arg) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, _meqns, mmc_mk_integer(((modelica_integer) 0)), _isyst, _ishared, _ass2, _ass1, _inArg ,NULL ,&_syst ,&_shared ,&_ass2_1 ,&_ass1_1 ,&_arg);

          _ne_1 = omc_BackendDAEUtil_systemSize(threadData, _syst);

          _nv_1 = omc_BackendVariable_daenumVariables(threadData, _syst);

          _ass1_1 = omc_Matching_assignmentsArrayExpand(threadData, _ass1_1, _ne_1, arrayLength(_ass1_1), ((modelica_integer) -1));

          _ass2_1 = omc_Matching_assignmentsArrayExpand(threadData, _ass2_1, _nv_1, arrayLength(_ass2_1), ((modelica_integer) -1));

          _rowmarks1 = omc_Matching_assignmentsArrayExpand(threadData, _rowmarks, _nv_1, arrayLength(_rowmarks), ((modelica_integer) -1));

          _collummarks1 = omc_Matching_assignmentsArrayExpand(threadData, _collummarks, _ne_1, arrayLength(_collummarks), ((modelica_integer) -1));

          _rlevel1 = arrayCreate(arrayLength(_ass2_1), mmc_mk_integer(arrayLength(_ass2_1)));

          _level1 = omc_Matching_assignmentsArrayExpand(threadData, _level, _ne_1, arrayLength(_level), ((modelica_integer) -1));
          tmpMeta[0+0] = _unmatched1;
          tmpMeta[0+1] = _rowmarks1;
          tmpMeta[0+2] = _collummarks1;
          tmpMeta[0+3] = _level1;
          tmpMeta[0+4] = _rlevel1;
          tmp1_c5 = _nv_1;
          tmp1_c6 = _ne_1;
          tmpMeta[0+7] = _ass1_1;
          tmpMeta[0+8] = _ass2_1;
          tmpMeta[0+9] = _syst;
          tmpMeta[0+10] = _shared;
          tmpMeta[0+11] = _arg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Matching_singularSystemError(threadData, _meqns, ((modelica_integer) 0), _isyst, _ishared, _ass2, _ass1, _inArg);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outunmatched = tmpMeta[0+0];
  _outrowmarks = tmpMeta[0+1];
  _outcollummarks = tmpMeta[0+2];
  _outlevel = tmpMeta[0+3];
  _outrlevel = tmpMeta[0+4];
  _nvars = tmp1_c5;
  _neqns = tmp1_c6;
  _outAss1 = tmpMeta[0+7];
  _outAss2 = tmpMeta[0+8];
  _osyst = tmpMeta[0+9];
  _oshared = tmpMeta[0+10];
  _outArg = tmpMeta[0+11];
  _return: OMC_LABEL_UNUSED
  if (out_outrowmarks) { *out_outrowmarks = _outrowmarks; }
  if (out_outcollummarks) { *out_outcollummarks = _outcollummarks; }
  if (out_outlevel) { *out_outlevel = _outlevel; }
  if (out_outrlevel) { *out_outrlevel = _outrlevel; }
  if (out_nvars) { *out_nvars = _nvars; }
  if (out_neqns) { *out_neqns = _neqns; }
  if (out_outAss1) { *out_outAss1 = _outAss1; }
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outunmatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMP2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _rlevel, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outcollummarks, modelica_metatype *out_outlevel, modelica_metatype *out_outrlevel, modelica_metatype *out_nvars, modelica_metatype *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer _nvars;
  modelica_integer _neqns;
  modelica_metatype _outunmatched = NULL;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  _outunmatched = omc_Matching_ABMP2(threadData, _meqns, _unmatched, _changedEqns, _rowmarks, _collummarks, _level, _rlevel, _isyst, _ishared, tmp1, tmp2, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, out_outrowmarks, out_outcollummarks, out_outlevel, out_outrlevel, &_nvars, &_neqns, out_outAss1, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outunmatched; list<#Integer> */
  /* skip box _outrowmarks; array<#Integer> */
  /* skip box _outcollummarks; array<#Integer> */
  /* skip box _outlevel; array<#Integer> */
  /* skip box _outrlevel; array<#Integer> */
  if (out_nvars) { *out_nvars = mmc_mk_icon(_nvars); }
  if (out_neqns) { *out_neqns = mmc_mk_icon(_neqns); }
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outunmatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_ABMP1(threadData_t *threadData, modelica_integer _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _rlevel, modelica_metatype _colptrs, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _unmatched;
    tmp4_2 = _isyst;
    {
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_integer _i_1;
      modelica_integer _lim;
      modelica_metatype _unmatched1 = NULL;
      modelica_metatype _meqns = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _rowmarks1 = NULL;
      modelica_metatype _collummarks1 = NULL;
      modelica_metatype _level1 = NULL;
      modelica_metatype _rlevel1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _m has no default value.
      // _mt has no default value.
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _i_1 has no default value.
      // _lim has no default value.
      // _unmatched1 has no default value.
      // _meqns has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _rowmarks1 has no default value.
      // _collummarks1 has no default value.
      // _level1 has no default value.
      // _rlevel1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _ass1;
          tmpMeta[0+1] = _ass2;
          tmpMeta[0+2] = _isyst;
          tmpMeta[0+3] = _ishared;
          tmpMeta[0+4] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_real tmp10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          tmp10 = ((modelica_real)arrayLength(_ass1));
          if(!(tmp10 >= 0.0))
          {
            FILE_INFO info = {"",0,0,0,0,0};
            omc_assert(threadData, info, "Model error: Argument of sqrt(/*Real*/(arrayLength(ass1))) was %g should be >= 0", tmp10);
          }
          _lim = ((modelica_integer)floor((0.1) * (sqrt(tmp10))));

          _unmatched1 = omc_Matching_ABMPphase(threadData, _unmatched, _i, _nv, _ne, _m, _mt, _rowmarks, _rlevel, _colptrs, _lim, _ass1, _ass2);

          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          _i_1 = omc_Matching_HKphase(threadData, ((modelica_integer) 1) + _i, _unmatched, _nv, _ne, _m, _mt, _rowmarks, _collummarks, _level, _ass1, _ass2, listLength(_unmatched), tmpMeta11 ,&_unmatched1);

          _meqns = omc_Matching_getEqnsforIndexReduction(threadData, _unmatched1, _ne, _m, _mt, _ass1, _ass2, _inArg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched1 = omc_Matching_ABMP2(threadData, _meqns, _unmatched1, tmpMeta12, _rowmarks, _collummarks, _level, _rlevel, _isyst, _ishared, _nv, _ne, _ass1, _ass2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_rowmarks1 ,&_collummarks1 ,&_level1 ,&_rlevel1 ,&_nv_1 ,&_ne_1 ,&_ass1_1 ,&_ass2_1 ,&_syst ,&_shared ,&_arg);
          /* Tail recursive call */
          _i = ((modelica_integer) 1) + _i_1;
          _unmatched = _unmatched1;
          _rowmarks = _rowmarks1;
          _collummarks = _collummarks1;
          _level = _level1;
          _rlevel = _rlevel1;
          _isyst = _syst;
          _ishared = _shared;
          _nv = _nv_1;
          _ne = _ne_1;
          _ass1 = _ass1_1;
          _ass2 = _ass2_1;
          _inArg = _arg;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outAss1 = tmpMeta[0+0];
  _outAss2 = tmpMeta[0+1];
  _osyst = tmpMeta[0+2];
  _oshared = tmpMeta[0+3];
  _outArg = tmpMeta[0+4];
  _return: OMC_LABEL_UNUSED
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outAss1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_ABMP1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _rlevel, modelica_metatype _colptrs, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outAss1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outAss1 = omc_Matching_ABMP1(threadData, tmp1, _unmatched, _rowmarks, _collummarks, _level, _rlevel, _colptrs, _isyst, _ishared, tmp2, tmp3, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outAss1;
}

DLLDirection
modelica_metatype omc_Matching_ABMP(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _rowmarks = NULL;
      modelica_metatype _level = NULL;
      modelica_metatype _collummarks = NULL;
      modelica_metatype _rlevel = NULL;
      modelica_metatype _colptrs = NULL;
      modelica_metatype _unmatched = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _m has no default value.
      // _mt has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _rowmarks has no default value.
      // _level has no default value.
      // _collummarks has no default value.
      // _rlevel has no default value.
      // _colptrs has no default value.
      // _unmatched has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp10 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          /* Pattern-matching assignment */
          tmp11 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp11) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          _rowmarks = arrayCreate(_nvars, mmc_mk_integer(((modelica_integer) -1)));

          _collummarks = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) -1)));

          _level = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) -1)));

          _rlevel = arrayCreate(_nvars, mmc_mk_integer(_nvars));

          _colptrs = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) -1)));

          _unmatched = omc_Matching_cheapmatchingalgorithm(threadData, _nvars, _neqns, _m, _mt, _vec1, _vec2, 1 /* true */);

          _vec1 = omc_Matching_ABMP1(threadData, ((modelica_integer) 1), _unmatched, _rowmarks, _collummarks, _level, _rlevel, _colptrs, _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta12);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta13);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp14 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp15) goto goto_2;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta16);

          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta17);

          tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta19 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta18);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta19);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT135);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_ABMP(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_ABMP(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDWDFStraverseCollums1(threadData_t *threadData, modelica_boolean _inMatched, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_boolean _matched;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  _matched = (_inMatched?_inMatched:omc_Matching_HKDWDFStraverseCollums(threadData, _rows, _stack, _i, _nv, _ne, _m, _mT, _collummarks, _ass1, _ass2, _inMatched));
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDWDFStraverseCollums1(threadData_t *threadData, modelica_metatype _inMatched, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_inMatched);
  tmp2 = mmc_unbox_integer(_i);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _matched = omc_Matching_HKDWDFStraverseCollums1(threadData, tmp1, _rows, _stack, tmp2, tmp3, tmp4, _m, _mT, _collummarks, _ass1, _ass2);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDWDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched)
{
  modelica_boolean _matched;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _collums;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _r;
      modelica_integer _c;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _r has no default value.
      // _c has no default value.
      // _b has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmp1 = _inMatched;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _c = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_collummarks,_c) /* DAE.ASUB */) < _i);
          if (1 /* true */ != tmp9) goto goto_2;

          /* Pattern-matching assignment */
          tmp10 = (mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          omc_Matching_HKDFSreasign(threadData, _stack, _c, _ass1, _ass2);
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_integer tmp13;
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          tmp13 = mmc_unbox_integer(tmpMeta11);
          _c = tmp13  /* pattern as ty=Integer */;
          _rest = tmpMeta12;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp14 = (mmc_unbox_integer(arrayGet(_collummarks,_c) /* DAE.ASUB */) < _i);
          if (1 /* true */ != tmp14) goto goto_2;

          _r = mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp15 = (_r < ((modelica_integer) 0));
          if (0 /* false */ != tmp15) goto goto_2;

          arrayUpdate(_collummarks, _c, mmc_mk_integer(_i));

          tmpMeta16 = mmc_mk_cons(mmc_mk_integer(_r), _stack);
          _b = omc_Matching_HKDWDFSphase(threadData, tmpMeta16, _i, _r, _nv, _ne, _m, _mT, _collummarks, _ass1, _ass2, _inMatched);
          tmp1 = omc_Matching_HKDWDFStraverseCollums1(threadData, _b, _rest, _stack, _i, _nv, _ne, _m, _mT, _collummarks, _ass1, _ass2);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_integer tmp19;
          modelica_boolean tmp20;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta17 = MMC_CAR(tmp4_1);
          tmpMeta18 = MMC_CDR(tmp4_1);
          tmp19 = mmc_unbox_integer(tmpMeta17);
          _c = tmp19  /* pattern as ty=Integer */;
          _rest = tmpMeta18;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp20 = (mmc_unbox_integer(arrayGet(_collummarks,_c) /* DAE.ASUB */) < _i);
          if (0 /* false */ != tmp20) goto goto_2;
          tmp1 = omc_Matching_HKDWDFStraverseCollums(threadData, _rest, _stack, _i, _nv, _ne, _m, _mT, _collummarks, _ass1, _ass2, _inMatched);
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT136, _OMC_LIT137);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _matched = tmp1;
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDWDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  tmp4 = mmc_unbox_integer(_inMatched);
  _matched = omc_Matching_HKDWDFStraverseCollums(threadData, _collums, _stack, tmp1, tmp2, tmp3, _m, _mT, _collummarks, _ass1, _ass2, tmp4);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDWDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _r, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched)
{
  modelica_boolean _matched;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _stack;
    {
      modelica_metatype _collums = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _collums has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = _inMatched;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _collums = omc_List_select(threadData, arrayGet(_mT,_r) /* DAE.ASUB */, boxvar_Util_intPositive);
          tmp1 = omc_Matching_HKDWDFStraverseCollums(threadData, _collums, _stack, _i, _nv, _ne, _m, _mT, _collummarks, _ass1, _ass2, _inMatched);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = stringAppend(_OMC_LIT138,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta6, _OMC_LIT139);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _matched = tmp1;
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDWDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _r, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_r);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  tmp5 = mmc_unbox_integer(_inMatched);
  _matched = omc_Matching_HKDWDFSphase(threadData, _stack, tmp1, tmp2, tmp3, tmp4, _m, _mT, _collummarks, _ass1, _ass2, tmp5);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_HKDWDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _unmatchedRows;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _r;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _rest has no default value.
      // _r has no default value.
      tmp3 = 0;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          modelica_metatype tmpMeta8;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          tmp7 = mmc_unbox_integer(tmpMeta5);
          _r = tmp7  /* pattern as ty=Integer */;
          _rest = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_cons(mmc_mk_integer(_r), MMC_REFSTRUCTLIT(mmc_nil));
          omc_Matching_HKDWDFSphase(threadData, tmpMeta8, _i, _r, _nv, _ne, _m, _mT, _collummarks, _ass1, _ass2, 0 /* false */);

          /* Tail recursive call */
          _unmatchedRows = _rest;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta9;
          
          /* Pattern matching succeeded */
          tmpMeta9 = stringAppend(_OMC_LIT140,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta9, _OMC_LIT141);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_HKDWDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  omc_Matching_HKDWDFS(threadData, _unmatchedRows, tmp1, tmp2, tmp3, _m, _mT, _collummarks, _ass1, _ass2);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_HKDWphase(threadData_t *threadData, modelica_integer _i, modelica_metatype _U, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outunMatched)
{
  modelica_integer _outI;
  modelica_metatype _outunMatched = NULL;
  modelica_integer tmp1_c0 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outI has no default value.
  // _outunMatched has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _U;
    {
      modelica_metatype _unmatched = NULL;
      modelica_metatype _rows = NULL;
      modelica_metatype _ur = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _unmatched has no default value.
      // _rows has no default value.
      // _ur has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_previousUnmatched == listLength(_unMatched));
          if (1 /* true */ != tmp6) goto goto_2;
          tmp1_c0 = _i;
          tmpMeta[0+1] = _unMatched;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmp1_c0 = omc_Matching_HKphase(threadData, ((modelica_integer) 1) + _i, _unMatched, _nv, _ne, _m, _mT, _rowmarks, _collummarks, _level, _ass1, _ass2, listLength(_unMatched), tmpMeta7, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          _rows = omc_Matching_HKBFS(threadData, _U, _nv, _ne, _m, _mT, _rowmarks, _i, _level, mmc_mk_none(), _ass1, _ass2, tmpMeta8);

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _ur = omc_Matching_HKDFS(threadData, _rows, _i, _nv, _ne, _m, _mT, _collummarks, _level, _ass1, _ass2, tmpMeta9);

          omc_Matching_HKDWDFS(threadData, _ur, _i, _nv, _ne, _m, _mT, _collummarks, _ass1, _ass2);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched = omc_Matching_HKgetUnmatched(threadData, _U, _ass1, tmpMeta10);
          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          tmp1_c0 = omc_Matching_HKphase(threadData, _i, tmpMeta11, _nv, _ne, _m, _mT, _rowmarks, _collummarks, _level, _ass1, _ass2, _previousUnmatched, _unmatched, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT142, _OMC_LIT143);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outI = tmp1_c0;
  _outunMatched = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outunMatched) { *out_outunMatched = _outunMatched; }
  return _outI;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDWphase(threadData_t *threadData, modelica_metatype _i, modelica_metatype _U, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outunMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer _outI;
  modelica_metatype out_outI;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  tmp4 = mmc_unbox_integer(_previousUnmatched);
  _outI = omc_Matching_HKDWphase(threadData, tmp1, _U, tmp2, tmp3, _m, _mT, _rowmarks, _collummarks, _level, _ass1, _ass2, tmp4, _unMatched, out_outunMatched);
  out_outI = mmc_mk_icon(_outI);
  /* skip box _outunMatched; list<#Integer> */
  return out_outI;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKDW1(threadData_t *threadData, modelica_integer _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _unmatched;
    tmp4_2 = _isyst;
    {
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_integer _i_1;
      modelica_metatype _unmatched1 = NULL;
      modelica_metatype _meqns = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _rowmarks1 = NULL;
      modelica_metatype _collummarks1 = NULL;
      modelica_metatype _level1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _m has no default value.
      // _mt has no default value.
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _i_1 has no default value.
      // _unmatched1 has no default value.
      // _meqns has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _rowmarks1 has no default value.
      // _collummarks1 has no default value.
      // _level1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _ass1;
          tmpMeta[0+1] = _ass2;
          tmpMeta[0+2] = _isyst;
          tmpMeta[0+3] = _ishared;
          tmpMeta[0+4] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _syst = tmp4_2;
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _i_1 = omc_Matching_HKDWphase(threadData, _i, _unmatched, _nv, _ne, _m, _mt, _rowmarks, _collummarks, _level, _ass1, _ass2, listLength(_unmatched), tmpMeta10 ,&_unmatched1);

          _meqns = omc_Matching_getEqnsforIndexReduction(threadData, _unmatched1, _ne, _m, _mt, _ass1, _ass2, _inArg);

          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched1 = omc_Matching_HK2(threadData, _meqns, _unmatched1, tmpMeta11, _rowmarks, _collummarks, _level, _syst, _ishared, _nv, _ne, _ass1, _ass2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_rowmarks1 ,&_collummarks1 ,&_level1 ,&_nv_1 ,&_ne_1 ,&_ass1_1 ,&_ass2_1 ,&_syst ,&_shared ,&_arg);
          /* Tail recursive call */
          _i = ((modelica_integer) 1) + _i_1;
          _unmatched = _unmatched1;
          _rowmarks = _rowmarks1;
          _collummarks = _collummarks1;
          _level = _level1;
          _isyst = _syst;
          _ishared = _shared;
          _nv = _nv_1;
          _ne = _ne_1;
          _ass1 = _ass1_1;
          _ass2 = _ass2_1;
          _inArg = _arg;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outAss1 = tmpMeta[0+0];
  _outAss2 = tmpMeta[0+1];
  _osyst = tmpMeta[0+2];
  _oshared = tmpMeta[0+3];
  _outArg = tmpMeta[0+4];
  _return: OMC_LABEL_UNUSED
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outAss1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDW1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outAss1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outAss1 = omc_Matching_HKDW1(threadData, tmp1, _unmatched, _rowmarks, _collummarks, _level, _isyst, _ishared, tmp2, tmp3, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outAss1;
}

DLLDirection
modelica_metatype omc_Matching_HKDW(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _rowmarks = NULL;
      modelica_metatype _level = NULL;
      modelica_metatype _collummarks = NULL;
      modelica_metatype _unmatched = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _m has no default value.
      // _mt has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _rowmarks has no default value.
      // _level has no default value.
      // _collummarks has no default value.
      // _unmatched has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp10 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          /* Pattern-matching assignment */
          tmp11 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp11) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          _rowmarks = arrayCreate(_nvars, mmc_mk_integer(((modelica_integer) -1)));

          _collummarks = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) -1)));

          _level = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) -1)));

          _unmatched = omc_Matching_cheapmatchingalgorithm(threadData, _nvars, _neqns, _m, _mt, _vec1, _vec2, 1 /* true */);

          _vec1 = omc_Matching_HKDW1(threadData, ((modelica_integer) 0), _unmatched, _rowmarks, _collummarks, _level, _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta12);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta13);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp14 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp15) goto goto_2;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta16);

          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta17);

          tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta19 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta18);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta19);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT144);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_HKDW(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_HKDW(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_HKDFSreasign(threadData_t *threadData, modelica_metatype _stack, modelica_integer _c, modelica_metatype _ass1, modelica_metatype _ass2)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _stack;
    {
      modelica_integer _r;
      modelica_integer _cr;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _r has no default value.
      // _cr has no default value.
      // _rest has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          tmp7 = mmc_unbox_integer(tmpMeta5);
          _r = tmp7  /* pattern as ty=Integer */;
          _rest = tmpMeta6;
          /* Pattern matching succeeded */
          _cr = mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */);

          arrayUpdate(_ass1, _c, mmc_mk_integer(_r));

          arrayUpdate(_ass2, _r, mmc_mk_integer(_c));

          /* Tail recursive call */
          _stack = _rest;
          _c = _cr;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_HKDFSreasign(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _c, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_c);
  omc_Matching_HKDFSreasign(threadData, _stack, tmp1, _ass1, _ass2);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDFStraverseCollums1(threadData_t *threadData, modelica_boolean _inMatched, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_boolean _matched;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  _matched = (_inMatched?_inMatched:omc_Matching_HKDFStraverseCollums(threadData, _rows, _stack, _i, _l, _nv, _ne, _m, _mT, _collummarks, _level, _ass1, _ass2, _inMatched));
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDFStraverseCollums1(threadData_t *threadData, modelica_metatype _inMatched, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_inMatched);
  tmp2 = mmc_unbox_integer(_i);
  tmp3 = mmc_unbox_integer(_l);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  _matched = omc_Matching_HKDFStraverseCollums1(threadData, tmp1, _rows, _stack, tmp2, tmp3, tmp4, tmp5, _m, _mT, _collummarks, _level, _ass1, _ass2);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _stack, modelica_integer _i, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched)
{
  modelica_boolean _matched;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _collums;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _r;
      modelica_integer _c;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _r has no default value.
      // _c has no default value.
      // _b has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 6; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 4; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmp1 = _inMatched;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _c = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_level,_c) /* DAE.ASUB */) == _l);
          if (0 /* false */ != tmp9) goto goto_2;
          tmp1 = omc_Matching_HKDFStraverseCollums(threadData, _rest, _stack, _i, _l, _nv, _ne, _m, _mT, _collummarks, _level, _ass1, _ass2, _inMatched);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_integer tmp12;
          modelica_boolean tmp13;
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          tmp12 = mmc_unbox_integer(tmpMeta10);
          _c = tmp12  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp13 = (mmc_unbox_integer(arrayGet(_level,_c) /* DAE.ASUB */) == _l);
          if (1 /* true */ != tmp13) goto goto_2;

          /* Pattern-matching assignment */
          tmp14 = (mmc_unbox_integer(arrayGet(_collummarks,_c) /* DAE.ASUB */) < _i);
          if (1 /* true */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp15) goto goto_2;

          omc_Matching_HKDFSreasign(threadData, _stack, _c, _ass1, _ass2);
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_integer tmp18;
          modelica_boolean tmp19;
          modelica_boolean tmp20;
          modelica_boolean tmp21;
          modelica_metatype tmpMeta22;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta16 = MMC_CAR(tmp4_1);
          tmpMeta17 = MMC_CDR(tmp4_1);
          tmp18 = mmc_unbox_integer(tmpMeta16);
          _c = tmp18  /* pattern as ty=Integer */;
          _rest = tmpMeta17;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp19 = (mmc_unbox_integer(arrayGet(_level,_c) /* DAE.ASUB */) == _l);
          if (1 /* true */ != tmp19) goto goto_2;

          /* Pattern-matching assignment */
          tmp20 = (mmc_unbox_integer(arrayGet(_collummarks,_c) /* DAE.ASUB */) < _i);
          if (1 /* true */ != tmp20) goto goto_2;

          _r = mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp21 = (_r < ((modelica_integer) 0));
          if (0 /* false */ != tmp21) goto goto_2;

          arrayUpdate(_collummarks, _c, mmc_mk_integer(_i));

          tmpMeta22 = mmc_mk_cons(mmc_mk_integer(_r), _stack);
          _b = omc_Matching_HKDFSphase(threadData, tmpMeta22, _i, _r, ((modelica_integer) -1) + _l, _nv, _ne, _m, _mT, _collummarks, _level, _ass1, _ass2, _inMatched);
          tmp1 = omc_Matching_HKDFStraverseCollums1(threadData, _b, _rest, _stack, _i, _l, _nv, _ne, _m, _mT, _collummarks, _level, _ass1, _ass2);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_integer tmp25;
          modelica_boolean tmp26;
          modelica_boolean tmp27;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta23 = MMC_CAR(tmp4_1);
          tmpMeta24 = MMC_CDR(tmp4_1);
          tmp25 = mmc_unbox_integer(tmpMeta23);
          _c = tmp25  /* pattern as ty=Integer */;
          _rest = tmpMeta24;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp26 = (mmc_unbox_integer(arrayGet(_level,_c) /* DAE.ASUB */) == _l);
          if (1 /* true */ != tmp26) goto goto_2;

          /* Pattern-matching assignment */
          tmp27 = (mmc_unbox_integer(arrayGet(_collummarks,_c) /* DAE.ASUB */) < _i);
          if (0 /* false */ != tmp27) goto goto_2;
          tmp1 = omc_Matching_HKDFStraverseCollums(threadData, _rest, _stack, _i, _l, _nv, _ne, _m, _mT, _collummarks, _level, _ass1, _ass2, _inMatched);
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT145, _OMC_LIT146);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 6) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _matched = tmp1;
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDFStraverseCollums(threadData_t *threadData, modelica_metatype _collums, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_l);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  tmp5 = mmc_unbox_integer(_inMatched);
  _matched = omc_Matching_HKDFStraverseCollums(threadData, _collums, _stack, tmp1, tmp2, tmp3, tmp4, _m, _mT, _collummarks, _level, _ass1, _ass2, tmp5);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_HKDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _r, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched)
{
  modelica_boolean _matched;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _stack;
    {
      modelica_metatype _collums = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _collums has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = _inMatched;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _collums = omc_List_select(threadData, arrayGet(_mT,_r) /* DAE.ASUB */, boxvar_Util_intPositive);
          tmp1 = omc_Matching_HKDFStraverseCollums(threadData, _collums, _stack, _i, _l, _nv, _ne, _m, _mT, _collummarks, _level, _ass1, _ass2, _inMatched);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = stringAppend(_OMC_LIT147,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta6, _OMC_LIT148);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _matched = tmp1;
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDFSphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _r, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_r);
  tmp3 = mmc_unbox_integer(_l);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  tmp6 = mmc_unbox_integer(_inMatched);
  _matched = omc_Matching_HKDFSphase(threadData, _stack, tmp1, tmp2, tmp3, tmp4, tmp5, _m, _mT, _collummarks, _level, _ass1, _ass2, tmp6);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnmatchedRows)
{
  modelica_metatype _outUnmatchedRows = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outUnmatchedRows has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _unmatchedRows;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _ur = NULL;
      modelica_integer _r;
      modelica_integer _l;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _ur has no default value.
      // _r has no default value.
      // _l has no default value.
      // _b has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inUnmatchedRows;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          modelica_metatype tmpMeta10;
          modelica_integer tmp11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmp9 = mmc_unbox_integer(tmpMeta8);
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmp11 = mmc_unbox_integer(tmpMeta10);
          _r = tmp9  /* pattern as ty=Integer */;
          _l = tmp11  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta12 = mmc_mk_cons(mmc_mk_integer(_r), MMC_REFSTRUCTLIT(mmc_nil));
          _b = omc_Matching_HKDFSphase(threadData, tmpMeta12, _i, _r, _l, _nv, _ne, _m, _mT, _collummarks, _level, _ass1, _ass2, 0 /* false */);

          _ur = omc_List_consOnTrue(threadData, (!_b), mmc_mk_integer(_r), _inUnmatchedRows);
          /* Tail recursive call */
          _unmatchedRows = _rest;
          _inUnmatchedRows = _ur;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta13;
          
          /* Pattern matching succeeded */
          tmpMeta13 = stringAppend(_OMC_LIT149,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta13, _OMC_LIT150);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outUnmatchedRows = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outUnmatchedRows;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKDFS(threadData_t *threadData, modelica_metatype _unmatchedRows, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inUnmatchedRows)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outUnmatchedRows = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outUnmatchedRows = omc_Matching_HKDFS(threadData, _unmatchedRows, tmp1, tmp2, tmp3, _m, _mT, _collummarks, _level, _ass1, _ass2, _inUnmatchedRows);
  /* skip box _outUnmatchedRows; list<#Integer> */
  return _outUnmatchedRows;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKBFStraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _queue, modelica_integer _i, modelica_integer _l, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_boolean _inunmarowFound, modelica_metatype *out_outRows, modelica_boolean *out_unmarowFound)
{
  modelica_metatype _outEqnqueue = NULL;
  modelica_metatype _outRows = NULL;
  modelica_boolean _unmarowFound;
  modelica_boolean tmp1_c2 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqnqueue has no default value.
  // _outRows has no default value.
  // _unmarowFound has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _rc;
      modelica_integer _r;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _rc has no default value.
      // _r has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = listReverse(_queue);
          tmpMeta[0+1] = _inRows;
          tmp1_c2 = _inunmarowFound;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_rowmarks,_r) /* DAE.ASUB */) < _i);
          if (0 /* false */ != tmp9) goto goto_2;
          tmpMeta[0+0] = omc_Matching_HKBFStraverseRows(threadData, _rest, _queue, _i, _l, _m, _mT, _rowmarks, _level, _ass1, _ass2, _inRows, _inunmarowFound, &tmpMeta[0+1], &tmp1_c2);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_integer tmp12;
          modelica_boolean tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          tmp12 = mmc_unbox_integer(tmpMeta10);
          _r = tmp12  /* pattern as ty=Integer */;
          _rest = tmpMeta11;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp13 = (mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp13) goto goto_2;

          arrayUpdate(_rowmarks, _r, mmc_mk_integer(_i));
          tmpMeta15 = mmc_mk_box2(0, mmc_mk_integer(_r), mmc_mk_integer(_l));
          tmpMeta14 = mmc_mk_cons(tmpMeta15, _inRows);
          tmpMeta[0+0] = omc_Matching_HKBFStraverseRows(threadData, _rest, _queue, _i, _l, _m, _mT, _rowmarks, _level, _ass1, _ass2, tmpMeta14, 1 /* true */, &tmpMeta[0+1], &tmp1_c2);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_integer tmp18;
          modelica_boolean tmp19;
          modelica_metatype tmpMeta20;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta16 = MMC_CAR(tmp4_1);
          tmpMeta17 = MMC_CDR(tmp4_1);
          tmp18 = mmc_unbox_integer(tmpMeta16);
          _r = tmp18  /* pattern as ty=Integer */;
          _rest = tmpMeta17;
          /* Pattern matching succeeded */
          _rc = mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp19 = (_rc < ((modelica_integer) 0));
          if (0 /* false */ != tmp19) goto goto_2;

          arrayUpdate(_rowmarks, _r, mmc_mk_integer(_i));
          tmpMeta20 = mmc_mk_cons(mmc_mk_integer(_rc), _queue);
          tmpMeta[0+0] = omc_Matching_HKBFStraverseRows(threadData, _rest, tmpMeta20, _i, _l, _m, _mT, _rowmarks, _level, _ass1, _ass2, _inRows, _inunmarowFound, &tmpMeta[0+1], &tmp1_c2);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta21;
          
          /* Pattern matching succeeded */
          tmpMeta21 = stringAppend(_OMC_LIT151,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta21, _OMC_LIT152);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outEqnqueue = tmpMeta[0+0];
  _outRows = tmpMeta[0+1];
  _unmarowFound = tmp1_c2;
  _return: OMC_LABEL_UNUSED
  if (out_outRows) { *out_outRows = _outRows; }
  if (out_unmarowFound) { *out_unmarowFound = _unmarowFound; }
  return _outEqnqueue;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKBFStraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _queue, modelica_metatype _i, modelica_metatype _l, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_metatype _inunmarowFound, modelica_metatype *out_outRows, modelica_metatype *out_unmarowFound)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_boolean _unmarowFound;
  modelica_metatype _outEqnqueue = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_l);
  tmp3 = mmc_unbox_integer(_inunmarowFound);
  _outEqnqueue = omc_Matching_HKBFStraverseRows(threadData, _rows, _queue, tmp1, tmp2, _m, _mT, _rowmarks, _level, _ass1, _ass2, _inRows, tmp3, out_outRows, &_unmarowFound);
  /* skip box _outEqnqueue; list<#Integer> */
  /* skip box _outRows; list<tuple<#Integer, #Integer>> */
  if (out_unmarowFound) { *out_unmarowFound = mmc_mk_icon(_unmarowFound); }
  return _outEqnqueue;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKBFSBphase1(threadData_t *threadData, modelica_boolean _inUnMaRowFound, modelica_metatype _queue, modelica_integer _i, modelica_integer _l, modelica_metatype _lowestL, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_metatype _queue1, modelica_metatype *out_outlowestL)
{
  modelica_metatype _outRows = NULL;
  modelica_metatype _outlowestL = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outRows has no default value.
  // _outlowestL has no default value.
  
  
  { /* match expression */
    modelica_boolean tmp4_1;
    tmp4_1 = _inUnMaRowFound;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (1 /* true */ != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inRows;
          tmpMeta[0+1] = mmc_mk_some(mmc_mk_integer(_l));
          goto tmp3_done;
        }
        case 1: {
          if (0 /* false */ != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_Matching_HKBFSBphase(threadData, _queue, _i, _l, _lowestL, _nv, _ne, _m, _mT, _rowmarks, _level, _ass1, _ass2, _inRows, _queue1, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT153, _OMC_LIT154);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outRows = tmpMeta[0+0];
  _outlowestL = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outlowestL) { *out_outlowestL = _outlowestL; }
  return _outRows;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKBFSBphase1(threadData_t *threadData, modelica_metatype _inUnMaRowFound, modelica_metatype _queue, modelica_metatype _i, modelica_metatype _l, modelica_metatype _lowestL, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_metatype _queue1, modelica_metatype *out_outlowestL)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_metatype _outRows = NULL;
  tmp1 = mmc_unbox_integer(_inUnMaRowFound);
  tmp2 = mmc_unbox_integer(_i);
  tmp3 = mmc_unbox_integer(_l);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  _outRows = omc_Matching_HKBFSBphase1(threadData, tmp1, _queue, tmp2, tmp3, _lowestL, tmp4, tmp5, _m, _mT, _rowmarks, _level, _ass1, _ass2, _inRows, _queue1, out_outlowestL);
  /* skip box _outRows; list<tuple<#Integer, #Integer>> */
  /* skip box _outlowestL; Option<#Integer> */
  return _outRows;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKBFSBphase(threadData_t *threadData, modelica_metatype _queue, modelica_integer _i, modelica_integer _l, modelica_metatype _lowestL, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_metatype _queue1, modelica_metatype *out_outlowestL)
{
  modelica_metatype _outRows = NULL;
  modelica_metatype _outlowestL = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outRows has no default value.
  // _outlowestL has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;modelica_metatype tmp4_3;
    tmp4_1 = _queue;
    tmp4_2 = _lowestL;
    tmp4_3 = _queue1;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _queue2 = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _rows = NULL;
      modelica_integer _c;
      modelica_integer _lowl;
      modelica_integer _l_1;
      modelica_boolean _b;
      modelica_metatype _ll = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _queue2 has no default value.
      // _cr has no default value.
      // _rows has no default value.
      // _c has no default value.
      // _lowl has no default value.
      // _l_1 has no default value.
      // _b has no default value.
      // _ll has no default value.
      tmp4 = 0;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_3)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inRows;
          tmpMeta[0+1] = _lowestL;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          modelica_metatype tmpMeta8;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (optionNone(tmp4_2)) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmp7 = mmc_unbox_integer(tmpMeta6);
          
          _lowl = tmp7  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          _l_1 = ((modelica_integer) 1) + _l;

          _b = (_l_1 > _lowl);
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = omc_Matching_HKBFSBphase1(threadData, _b, _queue1, _i, _l_1, _lowestL, _nv, _ne, _m, _mT, _rowmarks, _level, _ass1, _ass2, _inRows, tmpMeta8, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta9;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!optionNone(tmp4_2)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          /* Tail recursive call */
          _queue = _queue1;
          _l = ((modelica_integer) 1) + _l;
          _queue1 = tmpMeta9;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_integer tmp12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          tmp12 = mmc_unbox_integer(tmpMeta10);
          
          _c = tmp12  /* pattern as ty=Integer */;
          _rest = tmpMeta11;
          /* Pattern matching succeeded */
          _cr = omc_List_select(threadData, arrayGet(_m,_c) /* DAE.ASUB */, boxvar_Util_intPositive);

          arrayUpdate(_level, _c, mmc_mk_integer(_l));

          tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
          _queue2 = omc_Matching_HKBFStraverseRows(threadData, _cr, tmpMeta13, _i, _l, _m, _mT, _rowmarks, _level, _ass1, _ass2, _inRows, 0 /* false */ ,&_rows ,&_b);

          _queue2 = listAppend(_queue1, _queue2);

          _ll = (_b?mmc_mk_some(mmc_mk_integer(_l)):_lowestL);
          /* Tail recursive call */
          _queue = _rest;
          _lowestL = _ll;
          _inRows = _rows;
          _queue1 = _queue2;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta14;
          
          /* Pattern matching succeeded */
          tmpMeta14 = stringAppend(_OMC_LIT155,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta14, _OMC_LIT156);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outRows = tmpMeta[0+0];
  _outlowestL = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outlowestL) { *out_outlowestL = _outlowestL; }
  return _outRows;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKBFSBphase(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _i, modelica_metatype _l, modelica_metatype _lowestL, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows, modelica_metatype _queue1, modelica_metatype *out_outlowestL)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _outRows = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_l);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _outRows = omc_Matching_HKBFSBphase(threadData, _queue, tmp1, tmp2, _lowestL, tmp3, tmp4, _m, _mT, _rowmarks, _level, _ass1, _ass2, _inRows, _queue1, out_outlowestL);
  /* skip box _outRows; list<tuple<#Integer, #Integer>> */
  /* skip box _outlowestL; Option<#Integer> */
  return _outRows;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKBFS(threadData_t *threadData, modelica_metatype _colums, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_integer _i, modelica_metatype _level, modelica_metatype _lowestL, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows)
{
  modelica_metatype _outRows = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outRows has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _colums;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _rows = NULL;
      modelica_integer _c;
      modelica_metatype _ll = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _rows has no default value.
      // _c has no default value.
      // _ll has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inRows;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _c = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_cons(mmc_mk_integer(_c), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _rows = omc_Matching_HKBFSBphase(threadData, tmpMeta9, _i, ((modelica_integer) 0), _lowestL, _nv, _ne, _m, _mT, _rowmarks, _level, _ass1, _ass2, _inRows, tmpMeta10 ,&_ll);
          /* Tail recursive call */
          _colums = _rest;
          _lowestL = _ll;
          _inRows = _rows;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          
          /* Pattern matching succeeded */
          tmpMeta11 = stringAppend(_OMC_LIT157,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta11, _OMC_LIT158);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outRows = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outRows;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKBFS(threadData_t *threadData, modelica_metatype _colums, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _i, modelica_metatype _level, modelica_metatype _lowestL, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inRows)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outRows = NULL;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  tmp3 = mmc_unbox_integer(_i);
  _outRows = omc_Matching_HKBFS(threadData, _colums, tmp1, tmp2, _m, _mT, _rowmarks, tmp3, _level, _lowestL, _ass1, _ass2, _inRows);
  /* skip box _outRows; list<tuple<#Integer, #Integer>> */
  return _outRows;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HKgetUnmatched(threadData_t *threadData, modelica_metatype _U, modelica_metatype _ass1, modelica_metatype _inUnmatched)
{
  modelica_metatype _outUnmatched = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outUnmatched has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _U;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _c;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _c has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _inUnmatched;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _c = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */) > ((modelica_integer) 0));
          if (1 /* true */ != tmp9) goto goto_2;
          tmpMeta1 = omc_Matching_HKgetUnmatched(threadData, _rest, _ass1, _inUnmatched);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_integer tmp12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          tmp12 = mmc_unbox_integer(tmpMeta10);
          _c = tmp12  /* pattern as ty=Integer */;
          _rest = tmpMeta11;
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_cons(mmc_mk_integer(_c), _inUnmatched);
          tmpMeta1 = omc_Matching_HKgetUnmatched(threadData, _rest, _ass1, tmpMeta13);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outUnmatched = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outUnmatched;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_HKphase(threadData_t *threadData, modelica_integer _i, modelica_metatype _U, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outunMatched)
{
  modelica_integer _outI;
  modelica_metatype _outunMatched = NULL;
  modelica_integer tmp1_c0 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outI has no default value.
  // _outunMatched has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _U;
    {
      modelica_metatype _unmatched = NULL;
      modelica_metatype _rows = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _unmatched has no default value.
      // _rows has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_previousUnmatched == listLength(_unMatched));
          if (1 /* true */ != tmp6) goto goto_2;
          tmp1_c0 = _i;
          tmpMeta[0+1] = _unMatched;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmp1_c0 = omc_Matching_HKphase(threadData, ((modelica_integer) 1) + _i, _unMatched, _nv, _ne, _m, _mT, _rowmarks, _collummarks, _level, _ass1, _ass2, listLength(_unMatched), tmpMeta7, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          _rows = omc_Matching_HKBFS(threadData, _U, _nv, _ne, _m, _mT, _rowmarks, _i, _level, mmc_mk_none(), _ass1, _ass2, tmpMeta8);

          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_Matching_HKDFS(threadData, _rows, _i, _nv, _ne, _m, _mT, _collummarks, _level, _ass1, _ass2, tmpMeta9);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched = omc_Matching_HKgetUnmatched(threadData, _U, _ass1, tmpMeta10);
          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          tmp1_c0 = omc_Matching_HKphase(threadData, _i, tmpMeta11, _nv, _ne, _m, _mT, _rowmarks, _collummarks, _level, _ass1, _ass2, _previousUnmatched, _unmatched, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT159, _OMC_LIT160);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outI = tmp1_c0;
  _outunMatched = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outunMatched) { *out_outunMatched = _outunMatched; }
  return _outI;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HKphase(threadData_t *threadData, modelica_metatype _i, modelica_metatype _U, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outunMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer _outI;
  modelica_metatype out_outI;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  tmp4 = mmc_unbox_integer(_previousUnmatched);
  _outI = omc_Matching_HKphase(threadData, tmp1, _U, tmp2, tmp3, _m, _mT, _rowmarks, _collummarks, _level, _ass1, _ass2, tmp4, _unMatched, out_outunMatched);
  out_outI = mmc_mk_icon(_outI);
  /* skip box _outunMatched; list<#Integer> */
  return out_outI;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HK2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outcollummarks, modelica_metatype *out_outlevel, modelica_integer *out_nvars, modelica_integer *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outunmatched = NULL;
  modelica_metatype _outrowmarks = NULL;
  modelica_metatype _outcollummarks = NULL;
  modelica_metatype _outlevel = NULL;
  modelica_integer _nvars;
  modelica_integer _neqns;
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_integer tmp1_c4 __attribute__((unused)) = 0;
  modelica_integer tmp1_c5 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[11] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outunmatched has no default value.
  // _outrowmarks has no default value.
  // _outcollummarks has no default value.
  // _outlevel has no default value.
  // _nvars has no default value.
  // _neqns has no default value.
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _meqns;
    tmp4_2 = _inMatchingOptions;
    {
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_metatype _unmatched1 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _rowmarks1 = NULL;
      modelica_metatype _collummarks1 = NULL;
      modelica_metatype _level1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _unmatched1 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _rowmarks1 has no default value.
      // _collummarks1 has no default value.
      // _level1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _unmatched;
          tmpMeta[0+1] = _rowmarks;
          tmpMeta[0+2] = _collummarks;
          tmpMeta[0+3] = _level;
          tmp1_c4 = _nv;
          tmp1_c5 = _ne;
          tmpMeta[0+6] = _ass1;
          tmpMeta[0+7] = _ass2;
          tmpMeta[0+8] = _isyst;
          tmpMeta[0+9] = _ishared;
          tmpMeta[0+10] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _unmatched1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))), _meqns, mmc_mk_integer(((modelica_integer) 0)), _isyst, _ishared, _ass2, _ass1, _inArg ,NULL ,&_syst ,&_shared ,&_ass2_1 ,&_ass1_1 ,&_arg) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, _meqns, mmc_mk_integer(((modelica_integer) 0)), _isyst, _ishared, _ass2, _ass1, _inArg ,NULL ,&_syst ,&_shared ,&_ass2_1 ,&_ass1_1 ,&_arg);

          _ne_1 = omc_BackendDAEUtil_systemSize(threadData, _syst);

          _nv_1 = omc_BackendVariable_daenumVariables(threadData, _syst);

          _ass1_1 = omc_Matching_assignmentsArrayExpand(threadData, _ass1_1, _ne_1, arrayLength(_ass1), ((modelica_integer) -1));

          _ass2_1 = omc_Matching_assignmentsArrayExpand(threadData, _ass2_1, _nv_1, arrayLength(_ass2), ((modelica_integer) -1));

          _rowmarks1 = omc_Matching_assignmentsArrayExpand(threadData, _rowmarks, _nv_1, arrayLength(_rowmarks), ((modelica_integer) -1));

          _collummarks1 = omc_Matching_assignmentsArrayExpand(threadData, _collummarks, _ne_1, arrayLength(_collummarks), ((modelica_integer) -1));

          _level1 = omc_Matching_assignmentsArrayExpand(threadData, _level, _ne_1, arrayLength(_level), ((modelica_integer) -1));
          tmpMeta[0+0] = _unmatched1;
          tmpMeta[0+1] = _rowmarks1;
          tmpMeta[0+2] = _collummarks1;
          tmpMeta[0+3] = _level1;
          tmp1_c4 = _nv_1;
          tmp1_c5 = _ne_1;
          tmpMeta[0+6] = _ass1_1;
          tmpMeta[0+7] = _ass2_1;
          tmpMeta[0+8] = _syst;
          tmpMeta[0+9] = _shared;
          tmpMeta[0+10] = _arg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Matching_singularSystemError(threadData, _meqns, ((modelica_integer) 0), _isyst, _ishared, _ass1, _ass2, _inArg);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outunmatched = tmpMeta[0+0];
  _outrowmarks = tmpMeta[0+1];
  _outcollummarks = tmpMeta[0+2];
  _outlevel = tmpMeta[0+3];
  _nvars = tmp1_c4;
  _neqns = tmp1_c5;
  _outAss1 = tmpMeta[0+6];
  _outAss2 = tmpMeta[0+7];
  _osyst = tmpMeta[0+8];
  _oshared = tmpMeta[0+9];
  _outArg = tmpMeta[0+10];
  _return: OMC_LABEL_UNUSED
  if (out_outrowmarks) { *out_outrowmarks = _outrowmarks; }
  if (out_outcollummarks) { *out_outcollummarks = _outcollummarks; }
  if (out_outlevel) { *out_outlevel = _outlevel; }
  if (out_nvars) { *out_nvars = _nvars; }
  if (out_neqns) { *out_neqns = _neqns; }
  if (out_outAss1) { *out_outAss1 = _outAss1; }
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outunmatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HK2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outcollummarks, modelica_metatype *out_outlevel, modelica_metatype *out_nvars, modelica_metatype *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer _nvars;
  modelica_integer _neqns;
  modelica_metatype _outunmatched = NULL;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  _outunmatched = omc_Matching_HK2(threadData, _meqns, _unmatched, _changedEqns, _rowmarks, _collummarks, _level, _isyst, _ishared, tmp1, tmp2, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, out_outrowmarks, out_outcollummarks, out_outlevel, &_nvars, &_neqns, out_outAss1, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outunmatched; list<#Integer> */
  /* skip box _outrowmarks; array<#Integer> */
  /* skip box _outcollummarks; array<#Integer> */
  /* skip box _outlevel; array<#Integer> */
  if (out_nvars) { *out_nvars = mmc_mk_icon(_nvars); }
  if (out_neqns) { *out_neqns = mmc_mk_icon(_neqns); }
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outunmatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_HK1(threadData_t *threadData, modelica_integer _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _unmatched;
    tmp4_2 = _isyst;
    {
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_integer _i_1;
      modelica_metatype _unmatched1 = NULL;
      modelica_metatype _meqns = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _rowmarks1 = NULL;
      modelica_metatype _collummarks1 = NULL;
      modelica_metatype _level1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _m has no default value.
      // _mt has no default value.
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _i_1 has no default value.
      // _unmatched1 has no default value.
      // _meqns has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _rowmarks1 has no default value.
      // _collummarks1 has no default value.
      // _level1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _ass1;
          tmpMeta[0+1] = _ass2;
          tmpMeta[0+2] = _isyst;
          tmpMeta[0+3] = _ishared;
          tmpMeta[0+4] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _syst = tmp4_2;
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _i_1 = omc_Matching_HKphase(threadData, _i, _unmatched, _nv, _ne, _m, _mt, _rowmarks, _collummarks, _level, _ass1, _ass2, listLength(_unmatched), tmpMeta10 ,&_unmatched1);

          _meqns = omc_Matching_getEqnsforIndexReduction(threadData, _unmatched1, _ne, _m, _mt, _ass1, _ass2, _inArg);

          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched1 = omc_Matching_HK2(threadData, _meqns, _unmatched1, tmpMeta11, _rowmarks, _collummarks, _level, _syst, _ishared, _nv, _ne, _ass1, _ass2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_rowmarks1 ,&_collummarks1 ,&_level1 ,&_nv_1 ,&_ne_1 ,&_ass1_1 ,&_ass2_1 ,&_syst ,&_shared ,&_arg);
          /* Tail recursive call */
          _i = ((modelica_integer) 1) + _i_1;
          _unmatched = _unmatched1;
          _rowmarks = _rowmarks1;
          _collummarks = _collummarks1;
          _level = _level1;
          _isyst = _syst;
          _ishared = _shared;
          _nv = _nv_1;
          _ne = _ne_1;
          _ass1 = _ass1_1;
          _ass2 = _ass2_1;
          _inArg = _arg;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outAss1 = tmpMeta[0+0];
  _outAss2 = tmpMeta[0+1];
  _osyst = tmpMeta[0+2];
  _oshared = tmpMeta[0+3];
  _outArg = tmpMeta[0+4];
  _return: OMC_LABEL_UNUSED
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outAss1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_HK1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _collummarks, modelica_metatype _level, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outAss1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outAss1 = omc_Matching_HK1(threadData, tmp1, _unmatched, _rowmarks, _collummarks, _level, _isyst, _ishared, tmp2, tmp3, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outAss1;
}

DLLDirection
modelica_metatype omc_Matching_HK(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _rowmarks = NULL;
      modelica_metatype _level = NULL;
      modelica_metatype _collummarks = NULL;
      modelica_metatype _unmatched = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _m has no default value.
      // _mt has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _rowmarks has no default value.
      // _level has no default value.
      // _collummarks has no default value.
      // _unmatched has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp10 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          /* Pattern-matching assignment */
          tmp11 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp11) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          _rowmarks = arrayCreate(_nvars, mmc_mk_integer(((modelica_integer) -1)));

          _collummarks = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) -1)));

          _level = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) -1)));

          _unmatched = omc_Matching_cheapmatchingalgorithm(threadData, _nvars, _neqns, _m, _mt, _vec1, _vec2, 1 /* true */);

          _vec1 = omc_Matching_HK1(threadData, ((modelica_integer) 0), _unmatched, _rowmarks, _collummarks, _level, _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta12);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta13);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp14 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp15) goto goto_2;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta16);

          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta17);

          tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta19 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta18);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta19);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT161);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_HK(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_HK(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFPlustraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched, modelica_boolean _reverseRows)
{
  modelica_boolean _matched;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  _matched = (_inMatched?_inMatched:omc_Matching_PFPlustraverseRows(threadData, _rows, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _reverseRows));
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlustraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched, modelica_metatype _reverseRows)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  tmp4 = mmc_unbox_integer(_inMatched);
  tmp5 = mmc_unbox_integer(_reverseRows);
  _matched = omc_Matching_PFPlustraverseRows1(threadData, _rows, _stack, tmp1, tmp2, tmp3, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, tmp4, tmp5);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFPlustraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _reverseRows)
{
  modelica_boolean _matched;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _rc;
      modelica_integer _r;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _rc has no default value.
      // _r has no default value.
      // _b has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _rc = mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp9 = (_rc < ((modelica_integer) 0));
          if (0 /* false */ != tmp9) goto goto_2;

          /* Pattern-matching assignment */
          tmp10 = (mmc_unbox_integer(arrayGet(_rowmarks,_r) /* DAE.ASUB */) == _i);
          if (0 /* false */ != tmp10) goto goto_2;

          arrayUpdate(_rowmarks, _r, mmc_mk_integer(_i));

          tmpMeta11 = mmc_mk_cons(mmc_mk_integer(_rc), _stack);
          _b = omc_Matching_PFPlusphase(threadData, tmpMeta11, _i, _rc, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _reverseRows);
          tmp1 = omc_Matching_PFPlustraverseRows1(threadData, _rest, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _b, _reverseRows);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta12 = MMC_CAR(tmp4_1);
          tmpMeta13 = MMC_CDR(tmp4_1);
          _rest = tmpMeta13;
          /* Pattern matching succeeded */
          tmp1 = omc_Matching_PFPlustraverseRows(threadData, _rest, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _reverseRows);
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT162, _OMC_LIT163);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _matched = tmp1;
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlustraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _reverseRows)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  tmp4 = mmc_unbox_integer(_reverseRows);
  _matched = omc_Matching_PFPlustraverseRows(threadData, _rows, _stack, tmp1, tmp2, tmp3, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, tmp4);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFPlustraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _reverseRows)
{
  modelica_boolean _matched;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _r;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _r has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          arrayUpdate(_lookahead, _c, mmc_mk_integer(_l));
          tmp1 = omc_Matching_PFPlustraverseRows(threadData, _rows1, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _reverseRows);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp9) goto goto_2;

          omc_Matching_DFSBreasign(threadData, _stack, _r, _ass1, _ass2);
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          _rest = tmpMeta11;
          /* Pattern matching succeeded */
          tmp1 = omc_Matching_PFPlustraverseRowsUnmatched(threadData, _rest, _rows1, _stack, _i, _c, _l, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _reverseRows);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _matched = tmp1;
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlustraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _reverseRows)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_c);
  tmp3 = mmc_unbox_integer(_l);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  tmp6 = mmc_unbox_integer(_reverseRows);
  _matched = omc_Matching_PFPlustraverseRowsUnmatched(threadData, _rows, _rows1, _stack, tmp1, tmp2, tmp3, tmp4, tmp5, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, tmp6);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFPluschecklookahead(threadData_t *threadData, modelica_boolean _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _reverseRows)
{
  modelica_boolean _matched;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  _matched = (_dolookahaed?omc_Matching_PFPlustraverseRowsUnmatched(threadData, _rows, _rows, _stack, _i, _c, listLength(_rows), _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _reverseRows):omc_Matching_PFPlustraverseRows(threadData, _rows, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _reverseRows));
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPluschecklookahead(threadData_t *threadData, modelica_metatype _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _reverseRows)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_dolookahaed);
  tmp2 = mmc_unbox_integer(_i);
  tmp3 = mmc_unbox_integer(_c);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  tmp6 = mmc_unbox_integer(_reverseRows);
  _matched = omc_Matching_PFPluschecklookahead(threadData, tmp1, _rows, _stack, tmp2, tmp3, tmp4, tmp5, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, tmp6);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFPlusphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _reverseRows)
{
  modelica_boolean _matched;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_boolean tmp4_2;
    tmp4_1 = _stack;
    tmp4_2 = _reverseRows;
    {
      modelica_metatype _rows = NULL;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rows has no default value.
      // _b has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          if (0 /* false */ != tmp4_2) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _rows = omc_List_select(threadData, arrayGet(_m,_c) /* DAE.ASUB */, boxvar_Util_intPositive);

          _b = (mmc_unbox_integer(arrayGet(_lookahead,_c) /* DAE.ASUB */) < listLength(_rows));
          tmp1 = omc_Matching_PFPluschecklookahead(threadData, _b, _rows, _stack, _i, _c, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _reverseRows);
          goto tmp3_done;
        }
        case 2: {
          if (1 /* true */ != tmp4_2) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _rows = omc_List_select(threadData, arrayGet(_m,_c) /* DAE.ASUB */, boxvar_Util_intPositive);

          _b = (mmc_unbox_integer(arrayGet(_lookahead,_c) /* DAE.ASUB */) < listLength(_rows));
          tmp1 = omc_Matching_PFPluschecklookahead(threadData, _b, listReverse(_rows), _stack, _i, _c, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _reverseRows);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = stringAppend(_OMC_LIT164,intString(_c));
          omc_Error_addInternalError(threadData, tmpMeta6, _OMC_LIT165);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _matched = tmp1;
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlusphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _reverseRows)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_c);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  tmp5 = mmc_unbox_integer(_reverseRows);
  _matched = omc_Matching_PFPlusphase(threadData, _stack, tmp1, tmp2, tmp3, tmp4, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, tmp5);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PFPlusaugmentmatching(threadData_t *threadData, modelica_integer _i, modelica_metatype _U, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer _previousUnmatched, modelica_metatype _unMatched, modelica_boolean _reverseRows, modelica_metatype *out_outUnMatched)
{
  modelica_integer _outI;
  modelica_metatype _outUnMatched = NULL;
  modelica_integer tmp1_c0 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outI has no default value.
  // _outUnMatched has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _U;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _unmatched = NULL;
      modelica_integer _c;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _unmatched has no default value.
      // _c has no default value.
      // _b has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_previousUnmatched == listLength(_unMatched));
          if (1 /* true */ != tmp6) goto goto_2;
          tmp1_c0 = _i;
          tmpMeta[0+1] = _unMatched;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmp1_c0 = omc_Matching_PFPlusaugmentmatching(threadData, ((modelica_integer) 1) + _i, _unMatched, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, listLength(_unMatched), tmpMeta7, _reverseRows, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_integer tmp10;
          modelica_boolean tmp11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmp4_1);
          tmpMeta9 = MMC_CDR(tmp4_1);
          tmp10 = mmc_unbox_integer(tmpMeta8);
          _c = tmp10  /* pattern as ty=Integer */;
          _rest = tmpMeta9;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp11 = (mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */) > ((modelica_integer) -1));
          if (1 /* true */ != tmp11) goto goto_2;
          tmp1_c0 = omc_Matching_PFPlusaugmentmatching(threadData, _i, _rest, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _previousUnmatched, _unMatched, _reverseRows, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_integer tmp14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta12 = MMC_CAR(tmp4_1);
          tmpMeta13 = MMC_CDR(tmp4_1);
          tmp14 = mmc_unbox_integer(tmpMeta12);
          _c = tmp14  /* pattern as ty=Integer */;
          _rest = tmpMeta13;
          /* Pattern matching succeeded */
          tmpMeta15 = mmc_mk_cons(mmc_mk_integer(_c), MMC_REFSTRUCTLIT(mmc_nil));
          _b = omc_Matching_PFPlusphase(threadData, tmpMeta15, _i, _c, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _reverseRows);

          _unmatched = omc_List_consOnTrue(threadData, (!_b), mmc_mk_integer(_c), _unMatched);
          tmp1_c0 = omc_Matching_PFPlusaugmentmatching(threadData, _i, _rest, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _previousUnmatched, _unmatched, (!_reverseRows), &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT166, _OMC_LIT167);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outI = tmp1_c0;
  _outUnMatched = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outUnMatched) { *out_outUnMatched = _outUnMatched; }
  return _outI;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlusaugmentmatching(threadData_t *threadData, modelica_metatype _i, modelica_metatype _U, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _previousUnmatched, modelica_metatype _unMatched, modelica_metatype _reverseRows, modelica_metatype *out_outUnMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer _outI;
  modelica_metatype out_outI;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  tmp4 = mmc_unbox_integer(_previousUnmatched);
  tmp5 = mmc_unbox_integer(_reverseRows);
  _outI = omc_Matching_PFPlusaugmentmatching(threadData, tmp1, _U, tmp2, tmp3, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, tmp4, _unMatched, tmp5, out_outUnMatched);
  out_outI = mmc_mk_icon(_outI);
  /* skip box _outUnMatched; list<#Integer> */
  return out_outI;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PFPlus1(threadData_t *threadData, modelica_integer _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer _outI;
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_integer tmp1_c0 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outI has no default value.
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _unmatched;
    tmp4_2 = _isyst;
    {
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_integer _i_1;
      modelica_metatype _unmatched1 = NULL;
      modelica_metatype _meqns = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _rowmarks1 = NULL;
      modelica_metatype _lookahead1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _m has no default value.
      // _mt has no default value.
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _i_1 has no default value.
      // _unmatched1 has no default value.
      // _meqns has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _rowmarks1 has no default value.
      // _lookahead1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1_c0 = _i;
          tmpMeta[0+1] = _ass1;
          tmpMeta[0+2] = _ass2;
          tmpMeta[0+3] = _isyst;
          tmpMeta[0+4] = _ishared;
          tmpMeta[0+5] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _syst = tmp4_2;
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _i_1 = omc_Matching_PFPlusaugmentmatching(threadData, _i, _unmatched, _nv, _ne, _m, _mt, _rowmarks, _lookahead, _ass1, _ass2, listLength(_unmatched), tmpMeta10, 0 /* false */ ,&_unmatched1);

          _meqns = omc_Matching_getEqnsforIndexReduction(threadData, _unmatched1, _ne, _m, _mt, _ass1, _ass2, _inArg);

          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched1 = omc_Matching_PF2(threadData, _meqns, _unmatched1, tmpMeta11, _rowmarks, _lookahead, _syst, _ishared, _nv, _ne, _ass1, _ass2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_rowmarks1 ,&_lookahead1 ,&_nv_1 ,&_ne_1 ,&_ass1_1 ,&_ass2_1 ,&_syst ,&_shared ,&_arg);
          /* Tail recursive call */
          _i = ((modelica_integer) 1) + _i_1;
          _unmatched = _unmatched1;
          _rowmarks = _rowmarks1;
          _lookahead = _lookahead1;
          _isyst = _syst;
          _ishared = _shared;
          _nv = _nv_1;
          _ne = _ne_1;
          _ass1 = _ass1_1;
          _ass2 = _ass2_1;
          _inArg = _arg;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outI = tmp1_c0;
  _outAss1 = tmpMeta[0+1];
  _outAss2 = tmpMeta[0+2];
  _osyst = tmpMeta[0+3];
  _oshared = tmpMeta[0+4];
  _outArg = tmpMeta[0+5];
  _return: OMC_LABEL_UNUSED
  if (out_outAss1) { *out_outAss1 = _outAss1; }
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outI;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFPlus1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer _outI;
  modelica_metatype out_outI;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outI = omc_Matching_PFPlus1(threadData, tmp1, _unmatched, _rowmarks, _lookahead, _isyst, _ishared, tmp2, tmp3, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, out_outAss1, out_outAss2, out_osyst, out_oshared, out_outArg);
  out_outI = mmc_mk_icon(_outI);
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return out_outI;
}

DLLDirection
modelica_metatype omc_Matching_PFPlus(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _rowmarks = NULL;
      modelica_metatype _lookahead = NULL;
      modelica_metatype _unmatched = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _m has no default value.
      // _mt has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _rowmarks has no default value.
      // _lookahead has no default value.
      // _unmatched has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp10 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          /* Pattern-matching assignment */
          tmp11 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp11) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          _rowmarks = arrayCreate(_nvars, mmc_mk_integer(((modelica_integer) -1)));

          _lookahead = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) 0)));

          _unmatched = omc_Matching_cheapmatchingalgorithm(threadData, _nvars, _neqns, _m, _mt, _vec1, _vec2, 1 /* true */);

          omc_Matching_PFPlus1(threadData, ((modelica_integer) 0), _unmatched, _rowmarks, _lookahead, _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec1 ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta12);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta13);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp14 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp15) goto goto_2;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta16);

          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta17);

          tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta19 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta18);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta19);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT168);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_PFPlus(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_PFPlus(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean _inMatched)
{
  modelica_boolean _matched;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  _matched = (_inMatched?_inMatched:omc_Matching_PFtraverseRows(threadData, _rows, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2));
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  tmp4 = mmc_unbox_integer(_inMatched);
  _matched = omc_Matching_PFtraverseRows1(threadData, _rows, _stack, tmp1, tmp2, tmp3, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, tmp4);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_boolean _matched;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _rc;
      modelica_integer _r;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _rc has no default value.
      // _r has no default value.
      // _b has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _rc = mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp9 = (_rc < ((modelica_integer) 0));
          if (0 /* false */ != tmp9) goto goto_2;

          /* Pattern-matching assignment */
          tmp10 = (mmc_unbox_integer(arrayGet(_rowmarks,_r) /* DAE.ASUB */) == _i);
          if (0 /* false */ != tmp10) goto goto_2;

          arrayUpdate(_rowmarks, _r, mmc_mk_integer(_i));

          tmpMeta11 = mmc_mk_cons(mmc_mk_integer(_rc), _stack);
          _b = omc_Matching_PFphase(threadData, tmpMeta11, _i, _rc, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2);
          tmp1 = omc_Matching_PFtraverseRows1(threadData, _rest, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _b);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta12 = MMC_CAR(tmp4_1);
          tmpMeta13 = MMC_CDR(tmp4_1);
          _rest = tmpMeta13;
          /* Pattern matching succeeded */
          tmp1 = omc_Matching_PFtraverseRows(threadData, _rest, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2);
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT169, _OMC_LIT170);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _matched = tmp1;
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _matched = omc_Matching_PFtraverseRows(threadData, _rows, _stack, tmp1, tmp2, tmp3, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFtraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_boolean _matched;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _r;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _r has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          arrayUpdate(_lookahead, _c, mmc_mk_integer(_l));
          tmp1 = omc_Matching_PFtraverseRows(threadData, _rows1, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp9) goto goto_2;

          omc_Matching_DFSBreasign(threadData, _stack, _r, _ass1, _ass2);
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          _rest = tmpMeta11;
          /* Pattern matching succeeded */
          tmp1 = omc_Matching_PFtraverseRowsUnmatched(threadData, _rest, _rows1, _stack, _i, _c, _l, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _matched = tmp1;
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFtraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_c);
  tmp3 = mmc_unbox_integer(_l);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  _matched = omc_Matching_PFtraverseRowsUnmatched(threadData, _rows, _rows1, _stack, tmp1, tmp2, tmp3, tmp4, tmp5, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFchecklookahead(threadData_t *threadData, modelica_boolean _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_boolean _matched;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  _matched = (_dolookahaed?omc_Matching_PFtraverseRowsUnmatched(threadData, _rows, _rows, _stack, _i, _c, listLength(_rows), _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2):omc_Matching_PFtraverseRows(threadData, _rows, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2));
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFchecklookahead(threadData_t *threadData, modelica_metatype _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_dolookahaed);
  tmp2 = mmc_unbox_integer(_i);
  tmp3 = mmc_unbox_integer(_c);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  _matched = omc_Matching_PFchecklookahead(threadData, tmp1, _rows, _stack, tmp2, tmp3, tmp4, tmp5, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_PFphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_boolean _matched;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matched has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _stack;
    {
      modelica_metatype _rows = NULL;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rows has no default value.
      // _b has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _rows = omc_List_select(threadData, arrayGet(_m,_c) /* DAE.ASUB */, boxvar_Util_intPositive);

          _b = (mmc_unbox_integer(arrayGet(_lookahead,_c) /* DAE.ASUB */) < listLength(_rows));
          tmp1 = omc_Matching_PFchecklookahead(threadData, _b, _rows, _stack, _i, _c, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = stringAppend(_OMC_LIT171,intString(_c));
          omc_Error_addInternalError(threadData, tmpMeta6, _OMC_LIT172);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _matched = tmp1;
  _return: OMC_LABEL_UNUSED
  return _matched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_boolean _matched;
  modelica_metatype out_matched;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_c);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _matched = omc_Matching_PFphase(threadData, _stack, tmp1, tmp2, tmp3, tmp4, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2);
  out_matched = mmc_mk_icon(_matched);
  return out_matched;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Matching_PFaugmentmatching(threadData_t *threadData, modelica_integer _i, modelica_metatype _U, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_integer _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outUnmatched)
{
  modelica_integer _outI;
  modelica_metatype _outUnmatched = NULL;
  modelica_integer tmp1_c0 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outI has no default value.
  // _outUnmatched has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _U;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _unmatched = NULL;
      modelica_integer _c;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _unmatched has no default value.
      // _c has no default value.
      // _b has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_previousUnmatched == listLength(_unMatched));
          if (1 /* true */ != tmp6) goto goto_2;
          tmp1_c0 = _i;
          tmpMeta[0+1] = _unMatched;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmp1_c0 = omc_Matching_PFaugmentmatching(threadData, ((modelica_integer) 1) + _i, _unMatched, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, listLength(_unMatched), tmpMeta7, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_integer tmp10;
          modelica_boolean tmp11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmp4_1);
          tmpMeta9 = MMC_CDR(tmp4_1);
          tmp10 = mmc_unbox_integer(tmpMeta8);
          _c = tmp10  /* pattern as ty=Integer */;
          _rest = tmpMeta9;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp11 = (mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */) > ((modelica_integer) -1));
          if (1 /* true */ != tmp11) goto goto_2;
          tmp1_c0 = omc_Matching_PFaugmentmatching(threadData, _i, _rest, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _previousUnmatched, _unMatched, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_integer tmp14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta12 = MMC_CAR(tmp4_1);
          tmpMeta13 = MMC_CDR(tmp4_1);
          tmp14 = mmc_unbox_integer(tmpMeta12);
          _c = tmp14  /* pattern as ty=Integer */;
          _rest = tmpMeta13;
          /* Pattern matching succeeded */
          tmpMeta15 = mmc_mk_cons(mmc_mk_integer(_c), MMC_REFSTRUCTLIT(mmc_nil));
          _b = omc_Matching_PFphase(threadData, tmpMeta15, _i, _c, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2);

          _unmatched = omc_List_consOnTrue(threadData, (!_b), mmc_mk_integer(_c), _unMatched);
          tmp1_c0 = omc_Matching_PFaugmentmatching(threadData, _i, _rest, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _previousUnmatched, _unmatched, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT173, _OMC_LIT174);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outI = tmp1_c0;
  _outUnmatched = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outUnmatched) { *out_outUnmatched = _outUnmatched; }
  return _outI;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PFaugmentmatching(threadData_t *threadData, modelica_metatype _i, modelica_metatype _U, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _previousUnmatched, modelica_metatype _unMatched, modelica_metatype *out_outUnmatched)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer _outI;
  modelica_metatype out_outI;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  tmp4 = mmc_unbox_integer(_previousUnmatched);
  _outI = omc_Matching_PFaugmentmatching(threadData, tmp1, _U, tmp2, tmp3, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, tmp4, _unMatched, out_outUnmatched);
  out_outI = mmc_mk_icon(_outI);
  /* skip box _outUnmatched; list<#Integer> */
  return out_outI;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PF2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outlookahead, modelica_integer *out_nvars, modelica_integer *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outunmatched = NULL;
  modelica_metatype _outrowmarks = NULL;
  modelica_metatype _outlookahead = NULL;
  modelica_integer _nvars;
  modelica_integer _neqns;
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_integer tmp1_c3 __attribute__((unused)) = 0;
  modelica_integer tmp1_c4 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[10] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outunmatched has no default value.
  // _outrowmarks has no default value.
  // _outlookahead has no default value.
  // _nvars has no default value.
  // _neqns has no default value.
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _meqns;
    tmp4_2 = _inMatchingOptions;
    {
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_metatype _unmatched1 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _rowmarks1 = NULL;
      modelica_metatype _lookahead1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _unmatched1 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _rowmarks1 has no default value.
      // _lookahead1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _unmatched;
          tmpMeta[0+1] = _rowmarks;
          tmpMeta[0+2] = _lookahead;
          tmp1_c3 = _nv;
          tmp1_c4 = _ne;
          tmpMeta[0+5] = _ass1;
          tmpMeta[0+6] = _ass2;
          tmpMeta[0+7] = _isyst;
          tmpMeta[0+8] = _ishared;
          tmpMeta[0+9] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _unmatched1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))), _meqns, mmc_mk_integer(((modelica_integer) 0)), _isyst, _ishared, _ass2, _ass1, _inArg ,NULL ,&_syst ,&_shared ,&_ass2_1 ,&_ass1_1 ,&_arg) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, _meqns, mmc_mk_integer(((modelica_integer) 0)), _isyst, _ishared, _ass2, _ass1, _inArg ,NULL ,&_syst ,&_shared ,&_ass2_1 ,&_ass1_1 ,&_arg);

          _ne_1 = omc_BackendDAEUtil_systemSize(threadData, _syst);

          _nv_1 = omc_BackendVariable_daenumVariables(threadData, _syst);

          _ass1_1 = omc_Matching_assignmentsArrayExpand(threadData, _ass1_1, _ne_1, _ne, ((modelica_integer) -1));

          _ass2_1 = omc_Matching_assignmentsArrayExpand(threadData, _ass2_1, _nv_1, _nv, ((modelica_integer) -1));

          _rowmarks1 = omc_Matching_assignmentsArrayExpand(threadData, _rowmarks, _nv_1, _nv, ((modelica_integer) -1));

          _lookahead1 = omc_Matching_assignmentsArrayExpand(threadData, _lookahead, _ne_1, _ne, ((modelica_integer) 0));

          omc_Matching_MC21A1fixArray(threadData, _unmatched1, _lookahead1);
          tmpMeta[0+0] = _unmatched1;
          tmpMeta[0+1] = _rowmarks1;
          tmpMeta[0+2] = _lookahead1;
          tmp1_c3 = _nv_1;
          tmp1_c4 = _ne_1;
          tmpMeta[0+5] = _ass1_1;
          tmpMeta[0+6] = _ass2_1;
          tmpMeta[0+7] = _syst;
          tmpMeta[0+8] = _shared;
          tmpMeta[0+9] = _arg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Matching_singularSystemError(threadData, _meqns, ((modelica_integer) 0), _isyst, _ishared, _ass1, _ass2, _inArg);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outunmatched = tmpMeta[0+0];
  _outrowmarks = tmpMeta[0+1];
  _outlookahead = tmpMeta[0+2];
  _nvars = tmp1_c3;
  _neqns = tmp1_c4;
  _outAss1 = tmpMeta[0+5];
  _outAss2 = tmpMeta[0+6];
  _osyst = tmpMeta[0+7];
  _oshared = tmpMeta[0+8];
  _outArg = tmpMeta[0+9];
  _return: OMC_LABEL_UNUSED
  if (out_outrowmarks) { *out_outrowmarks = _outrowmarks; }
  if (out_outlookahead) { *out_outlookahead = _outlookahead; }
  if (out_nvars) { *out_nvars = _nvars; }
  if (out_neqns) { *out_neqns = _neqns; }
  if (out_outAss1) { *out_outAss1 = _outAss1; }
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outunmatched;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PF2(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _unmatched, modelica_metatype _changedEqns, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outrowmarks, modelica_metatype *out_outlookahead, modelica_metatype *out_nvars, modelica_metatype *out_neqns, modelica_metatype *out_outAss1, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer _nvars;
  modelica_integer _neqns;
  modelica_metatype _outunmatched = NULL;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  _outunmatched = omc_Matching_PF2(threadData, _meqns, _unmatched, _changedEqns, _rowmarks, _lookahead, _isyst, _ishared, tmp1, tmp2, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, out_outrowmarks, out_outlookahead, &_nvars, &_neqns, out_outAss1, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outunmatched; list<#Integer> */
  /* skip box _outrowmarks; array<#Integer> */
  /* skip box _outlookahead; array<#Integer> */
  if (out_nvars) { *out_nvars = mmc_mk_icon(_nvars); }
  if (out_neqns) { *out_neqns = mmc_mk_icon(_neqns); }
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outunmatched;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_PF1(threadData_t *threadData, modelica_integer _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _unmatched;
    tmp4_2 = _isyst;
    {
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_integer _i_1;
      modelica_metatype _unmatched1 = NULL;
      modelica_metatype _meqns = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _rowmarks1 = NULL;
      modelica_metatype _lookahead1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _m has no default value.
      // _mt has no default value.
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _i_1 has no default value.
      // _unmatched1 has no default value.
      // _meqns has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _rowmarks1 has no default value.
      // _lookahead1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _ass1;
          tmpMeta[0+1] = _ass2;
          tmpMeta[0+2] = _isyst;
          tmpMeta[0+3] = _ishared;
          tmpMeta[0+4] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _i_1 = omc_Matching_PFaugmentmatching(threadData, _i, _unmatched, _nv, _ne, _m, _mt, _rowmarks, _lookahead, _ass1, _ass2, listLength(_unmatched), tmpMeta10 ,&_unmatched1);

          _meqns = omc_Matching_getEqnsforIndexReduction(threadData, _unmatched1, _ne, _m, _mt, _ass1, _ass2, _inArg);

          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          _unmatched1 = omc_Matching_PF2(threadData, _meqns, _unmatched1, tmpMeta11, _rowmarks, _lookahead, _isyst, _ishared, _nv, _ne, _ass1, _ass2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_rowmarks1 ,&_lookahead1 ,&_nv_1 ,&_ne_1 ,&_ass1_1 ,&_ass2_1 ,&_syst ,&_shared ,&_arg);
          /* Tail recursive call */
          _i = ((modelica_integer) 1) + _i_1;
          _unmatched = _unmatched1;
          _rowmarks = _rowmarks1;
          _lookahead = _lookahead1;
          _isyst = _syst;
          _ishared = _shared;
          _nv = _nv_1;
          _ne = _ne_1;
          _ass1 = _ass1_1;
          _ass2 = _ass2_1;
          _inArg = _arg;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outAss1 = tmpMeta[0+0];
  _outAss2 = tmpMeta[0+1];
  _osyst = tmpMeta[0+2];
  _oshared = tmpMeta[0+3];
  _outArg = tmpMeta[0+4];
  _return: OMC_LABEL_UNUSED
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outAss1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_PF1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _unmatched, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outAss1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outAss1 = omc_Matching_PF1(threadData, tmp1, _unmatched, _rowmarks, _lookahead, _isyst, _ishared, tmp2, tmp3, _ass1, _ass2, _inMatchingOptions, _sssHandler, _inArg, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outAss1;
}

DLLDirection
modelica_metatype omc_Matching_PF(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _rowmarks = NULL;
      modelica_metatype _lookahead = NULL;
      modelica_metatype _unmatched = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _m has no default value.
      // _mt has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _rowmarks has no default value.
      // _lookahead has no default value.
      // _unmatched has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp10 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          /* Pattern-matching assignment */
          tmp11 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp11) goto goto_2;

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          _rowmarks = arrayCreate(_nvars, mmc_mk_integer(((modelica_integer) -1)));

          _lookahead = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) 0)));

          _unmatched = omc_Matching_cheapmatchingalgorithm(threadData, _nvars, _neqns, _m, _mt, _vec1, _vec2, 1 /* true */);

          _vec1 = omc_Matching_PF1(threadData, ((modelica_integer) 0), _unmatched, _rowmarks, _lookahead, _isyst, _ishared, _nvars, _neqns, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta12);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta13);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp14 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp15) goto goto_2;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta16);

          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta17);

          tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta19 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta18);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta19);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT175);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_PF(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_PF(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21AtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_metatype _outVisitedColums = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVisitedColums has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inVisitedColums;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inVisitedColums;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_MC21AtraverseRows(threadData, _rows, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVisitedColums = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVisitedColums;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21AtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outVisitedColums = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outVisitedColums = omc_Matching_MC21AtraverseRows1(threadData, _rows, _stack, tmp1, tmp2, tmp3, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums);
  /* skip box _outVisitedColums; list<#Integer> */
  return _outVisitedColums;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21AtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_metatype _outVisitedColums = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVisitedColums has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _visitedColums = NULL;
      modelica_integer _rc;
      modelica_integer _r;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _visitedColums has no default value.
      // _rc has no default value.
      // _r has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _inVisitedColums;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _rc = mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp9 = (_rc < ((modelica_integer) 0));
          if (0 /* false */ != tmp9) goto goto_2;

          /* Pattern-matching assignment */
          tmp10 = (mmc_unbox_integer(arrayGet(_rowmarks,_r) /* DAE.ASUB */) < _i);
          if (1 /* true */ != tmp10) goto goto_2;

          arrayUpdate(_rowmarks, _r, mmc_mk_integer(_i));

          tmpMeta11 = mmc_mk_cons(mmc_mk_integer(_rc), _stack);
          tmpMeta12 = mmc_mk_cons(mmc_mk_integer(_rc), _inVisitedColums);
          _visitedColums = omc_Matching_MC21Aphase(threadData, tmpMeta11, _i, _rc, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, tmpMeta12);
          tmpMeta1 = omc_Matching_MC21AtraverseRows1(threadData, _rest, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _visitedColums);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta13 = MMC_CAR(tmp4_1);
          tmpMeta14 = MMC_CDR(tmp4_1);
          _rest = tmpMeta14;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_MC21AtraverseRows(threadData, _rest, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums);
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT176, _OMC_LIT177);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVisitedColums = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVisitedColums;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21AtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outVisitedColums = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outVisitedColums = omc_Matching_MC21AtraverseRows(threadData, _rows, _stack, tmp1, tmp2, tmp3, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums);
  /* skip box _outVisitedColums; list<#Integer> */
  return _outVisitedColums;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21AtraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _l, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_metatype _outVisitedColums = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVisitedColums has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_integer _r;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _r has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          arrayUpdate(_lookahead, _c, mmc_mk_integer(_l));
          tmpMeta1 = omc_Matching_MC21AtraverseRows(threadData, _rows1, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp9) goto goto_2;

          omc_Matching_DFSBreasign(threadData, _stack, _r, _ass1, _ass2);
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          _rest = tmpMeta12;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_MC21AtraverseRowsUnmatched(threadData, _rest, _rows1, _stack, _i, _c, _l, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVisitedColums = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVisitedColums;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21AtraverseRowsUnmatched(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _rows1, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _l, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_metatype _outVisitedColums = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_c);
  tmp3 = mmc_unbox_integer(_l);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  _outVisitedColums = omc_Matching_MC21AtraverseRowsUnmatched(threadData, _rows, _rows1, _stack, tmp1, tmp2, tmp3, tmp4, tmp5, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums);
  /* skip box _outVisitedColums; list<#Integer> */
  return _outVisitedColums;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21Achecklookahead(threadData_t *threadData, modelica_boolean _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_metatype _outVisitedColums = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVisitedColums has no default value.
  _outVisitedColums = (_dolookahaed?omc_Matching_MC21AtraverseRowsUnmatched(threadData, _rows, _rows, _stack, _i, _c, listLength(_rows), _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums):omc_Matching_MC21AtraverseRows(threadData, _rows, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums));
  _return: OMC_LABEL_UNUSED
  return _outVisitedColums;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21Achecklookahead(threadData_t *threadData, modelica_metatype _dolookahaed, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_metatype _outVisitedColums = NULL;
  tmp1 = mmc_unbox_integer(_dolookahaed);
  tmp2 = mmc_unbox_integer(_i);
  tmp3 = mmc_unbox_integer(_c);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  _outVisitedColums = omc_Matching_MC21Achecklookahead(threadData, tmp1, _rows, _stack, tmp2, tmp3, tmp4, tmp5, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums);
  /* skip box _outVisitedColums; list<#Integer> */
  return _outVisitedColums;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21Aphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_metatype _outVisitedColums = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVisitedColums has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _stack;
    {
      modelica_metatype _rows = NULL;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rows has no default value.
      // _b has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inVisitedColums;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _rows = omc_List_select(threadData, arrayGet(_m,_c) /* DAE.ASUB */, boxvar_Util_intPositive);

          _b = (mmc_unbox_integer(arrayGet(_lookahead,_c) /* DAE.ASUB */) < listLength(_rows));
          tmpMeta1 = omc_Matching_MC21Achecklookahead(threadData, _b, _rows, _stack, _i, _c, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = stringAppend(_OMC_LIT178,intString(_c));
          omc_Error_addInternalError(threadData, tmpMeta6, _OMC_LIT179);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVisitedColums = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVisitedColums;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21Aphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _outVisitedColums = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_c);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _outVisitedColums = omc_Matching_MC21Aphase(threadData, _stack, tmp1, tmp2, tmp3, tmp4, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _inVisitedColums);
  /* skip box _outVisitedColums; list<#Integer> */
  return _outVisitedColums;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_MC21A1fixArray(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _arr)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _meqns;
    {
      modelica_integer _e;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _e has no default value.
      // _rest has no default value.
      tmp3 = 0;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          tmp7 = mmc_unbox_integer(tmpMeta5);
          _e = tmp7  /* pattern as ty=Integer */;
          _rest = tmpMeta6;
          /* Pattern matching succeeded */
          arrayUpdate(_arr, _e, mmc_mk_integer(((modelica_integer) 0)));

          /* Tail recursive call */
          _meqns = _rest;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT180, _OMC_LIT181);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21A1fixArrays(threadData_t *threadData, modelica_metatype _meqns, modelica_integer _nv, modelica_integer _ne, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _changedEqns, modelica_metatype *out_outlookahead)
{
  modelica_metatype _outrowmarks = NULL;
  modelica_metatype _outlookahead = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outrowmarks has no default value.
  // _outlookahead has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _meqns;
    {
      modelica_integer _memsize;
      modelica_metatype _rowmarks1 = NULL;
      modelica_metatype _lookahead1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _memsize has no default value.
      // _rowmarks1 has no default value.
      // _lookahead1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _rowmarks;
          tmpMeta[0+1] = _lookahead;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          /* Pattern matching succeeded */
          _memsize = arrayLength(_rowmarks);

          _rowmarks1 = omc_Matching_assignmentsArrayExpand(threadData, _rowmarks, _nv, _memsize, ((modelica_integer) -1));

          _lookahead1 = omc_Matching_assignmentsArrayExpand(threadData, _lookahead, _ne, _memsize, ((modelica_integer) 0));

          omc_Matching_MC21A1fixArray(threadData, _changedEqns, _lookahead1);
          tmpMeta[0+0] = _rowmarks1;
          tmpMeta[0+1] = _lookahead1;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT182, _OMC_LIT183);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outrowmarks = tmpMeta[0+0];
  _outlookahead = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outlookahead) { *out_outlookahead = _outlookahead; }
  return _outrowmarks;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21A1fixArrays(threadData_t *threadData, modelica_metatype _meqns, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _changedEqns, modelica_metatype *out_outlookahead)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outrowmarks = NULL;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_ne);
  _outrowmarks = omc_Matching_MC21A1fixArrays(threadData, _meqns, tmp1, tmp2, _rowmarks, _lookahead, _changedEqns, out_outlookahead);
  /* skip box _outrowmarks; array<#Integer> */
  /* skip box _outlookahead; array<#Integer> */
  return _outrowmarks;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_MC21A1(threadData_t *threadData, modelica_integer _i, modelica_integer _rowmark, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  { /* matchcontinue expression */
    {
      modelica_metatype _visitedcolums = NULL;
      modelica_metatype _changedEqns = NULL;
      modelica_metatype _m1 = NULL;
      modelica_metatype _mt1 = NULL;
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_integer _i_1;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _rowmarks1 = NULL;
      modelica_metatype _lookahead1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _visitedcolums has no default value.
      // _changedEqns has no default value.
      // _m1 has no default value.
      // _mt1 has no default value.
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _i_1 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _rowmarks1 has no default value.
      // _lookahead1 has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_i > _ne);
          if (1 /* true */ != tmp6) goto goto_2;
          tmpMeta[0+0] = _ass1;
          tmpMeta[0+1] = _ass2;
          tmpMeta[0+2] = _isyst;
          tmpMeta[0+3] = _ishared;
          tmpMeta[0+4] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_integer tmp10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_integer tmp17;
          modelica_integer tmp18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp7 = (mmc_unbox_integer(arrayGet(_ass1,_i) /* DAE.ASUB */) > ((modelica_integer) 0));
          if (0 /* false */ != tmp7) goto goto_2;

          tmpMeta8 = mmc_mk_cons(mmc_mk_integer(_i), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta9 = mmc_mk_cons(mmc_mk_integer(_i), MMC_REFSTRUCTLIT(mmc_nil));
          _visitedcolums = omc_Matching_MC21Aphase(threadData, tmpMeta8, _rowmark, _i, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, tmpMeta9);

          /* Pattern-matching tuple assignment */
          tmpMeta22 = omc_Matching_reduceIndexifNecessary(threadData, _visitedcolums, _i, _isyst, _ishared, _nv, _ne, _ass1, _ass2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg, &tmp10, &tmpMeta11, &tmpMeta16, &tmp17, &tmp18, &tmpMeta19, &tmpMeta20, &tmpMeta21);
          _changedEqns = tmpMeta22;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 4));
          if (optionNone(tmpMeta12)) goto goto_2;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 1));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 5));
          if (optionNone(tmpMeta14)) goto goto_2;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 1));
          _i_1 = tmp10;
          _syst = tmpMeta11;
          _m1 = tmpMeta13;
          _mt1 = tmpMeta15;
          _shared = tmpMeta16;
          _nv_1 = tmp17;
          _ne_1 = tmp18;
          _ass1_1 = tmpMeta19;
          _ass2_1 = tmpMeta20;
          _arg = tmpMeta21;

          _rowmarks1 = omc_Matching_MC21A1fixArrays(threadData, _visitedcolums, _nv_1, _ne_1, _rowmarks, _lookahead, _changedEqns ,&_lookahead1);
          tmpMeta[0+0] = omc_Matching_MC21A1(threadData, _i_1, ((modelica_integer) 1) + _rowmark, _nv_1, _ne_1, _m1, _mt1, _rowmarks1, _lookahead1, _ass1_1, _ass2_1, _syst, _shared, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _arg, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4]);
          goto tmp3_done;
        }
        case 2: {
          modelica_boolean tmp23;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp23 = (mmc_unbox_integer(arrayGet(_ass1,_i) /* DAE.ASUB */) > ((modelica_integer) 0));
          if (1 /* true */ != tmp23) goto goto_2;
          tmpMeta[0+0] = omc_Matching_MC21A1(threadData, ((modelica_integer) 1) + _i, _rowmark, _nv, _ne, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _isyst, _ishared, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4]);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta24;
          /* Pattern matching succeeded */
          tmpMeta24 = stringAppend(_OMC_LIT184,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta24, _OMC_LIT185);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outAss1 = tmpMeta[0+0];
  _outAss2 = tmpMeta[0+1];
  _osyst = tmpMeta[0+2];
  _oshared = tmpMeta[0+3];
  _outArg = tmpMeta[0+4];
  _return: OMC_LABEL_UNUSED
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outAss1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_MC21A1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _rowmark, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _lookahead, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _outAss1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_rowmark);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _outAss1 = omc_Matching_MC21A1(threadData, tmp1, tmp2, tmp3, tmp4, _m, _mT, _rowmarks, _lookahead, _ass1, _ass2, _isyst, _ishared, _inMatchingOptions, _sssHandler, _inArg, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outAss1;
}

DLLDirection
modelica_metatype omc_Matching_MC21A(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _rowmarks = NULL;
      modelica_metatype _lookahead = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _m has no default value.
      // _mt has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _rowmarks has no default value.
      // _lookahead has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _syst = tmp4_1;
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp10 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          /* Pattern-matching assignment */
          tmp11 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp11) goto goto_2;

          _rowmarks = arrayCreate(_nvars, mmc_mk_integer(((modelica_integer) -1)));

          _lookahead = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) 0)));

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          omc_Matching_cheapmatchingalgorithm(threadData, _nvars, _neqns, _m, _mt, _vec1, _vec2, 0 /* false */);

          _vec1 = omc_Matching_MC21A1(threadData, ((modelica_integer) 1), ((modelica_integer) 1), _nvars, _neqns, _m, _mt, _rowmarks, _lookahead, _vec1, _vec2, _isyst, _ishared, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta12);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta13);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp14 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp15) goto goto_2;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta16);

          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta17);

          tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta19 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta18);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta19);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT186);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_MC21A(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_MC21A(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_DFSBreasign(threadData_t *threadData, modelica_metatype _stack, modelica_integer _r, modelica_metatype _ass1, modelica_metatype _ass2)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _stack;
    {
      modelica_integer _c;
      modelica_integer _rc;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _c has no default value.
      // _rc has no default value.
      // _rest has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (!listEmpty(tmp3_1)) goto tmp2_end;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          if (listEmpty(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_CAR(tmp3_1);
          tmpMeta6 = MMC_CDR(tmp3_1);
          tmp7 = mmc_unbox_integer(tmpMeta5);
          _c = tmp7  /* pattern as ty=Integer */;
          _rest = tmpMeta6;
          /* Pattern matching succeeded */
          _rc = mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */);

          arrayUpdate(_ass1, _c, mmc_mk_integer(_r));

          arrayUpdate(_ass2, _r, mmc_mk_integer(_c));

          /* Tail recursive call */
          _stack = _rest;
          _r = _rc;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_DFSBreasign(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _r, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_r);
  omc_Matching_DFSBreasign(threadData, _stack, tmp1, _ass1, _ass2);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_DFSBtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_metatype _outVisitedColums = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVisitedColums has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inVisitedColums;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inVisitedColums;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_DFSBtraverseRows(threadData, _rows, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _ass1, _ass2, _inVisitedColums);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVisitedColums = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVisitedColums;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_DFSBtraverseRows1(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outVisitedColums = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outVisitedColums = omc_Matching_DFSBtraverseRows1(threadData, _rows, _stack, tmp1, tmp2, tmp3, _m, _mT, _rowmarks, _ass1, _ass2, _inVisitedColums);
  /* skip box _outVisitedColums; list<#Integer> */
  return _outVisitedColums;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_DFSBtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_metatype _outVisitedColums = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVisitedColums has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _visitedColums = NULL;
      modelica_integer _rc;
      modelica_integer _r;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _visitedColums has no default value.
      // _rc has no default value.
      // _r has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _inVisitedColums;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp9) goto goto_2;

          omc_Matching_DFSBreasign(threadData, _stack, _r, _ass1, _ass2);
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_integer tmp13;
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          tmp13 = mmc_unbox_integer(tmpMeta11);
          _r = tmp13  /* pattern as ty=Integer */;
          _rest = tmpMeta12;
          /* Pattern matching succeeded */
          _rc = mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp14 = (_rc < ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (mmc_unbox_integer(arrayGet(_rowmarks,_r) /* DAE.ASUB */) < _i);
          if (1 /* true */ != tmp15) goto goto_2;

          arrayUpdate(_rowmarks, _r, mmc_mk_integer(_i));

          tmpMeta16 = mmc_mk_cons(mmc_mk_integer(_rc), _stack);
          tmpMeta17 = mmc_mk_cons(mmc_mk_integer(_rc), _inVisitedColums);
          _visitedColums = omc_Matching_DFSBphase(threadData, tmpMeta16, _i, _rc, _nv, _ne, _m, _mT, _rowmarks, _ass1, _ass2, tmpMeta17);
          tmpMeta1 = omc_Matching_DFSBtraverseRows1(threadData, _rest, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _ass1, _ass2, _visitedColums);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta18 = MMC_CAR(tmp4_1);
          tmpMeta19 = MMC_CDR(tmp4_1);
          _rest = tmpMeta19;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_DFSBtraverseRows(threadData, _rest, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _ass1, _ass2, _inVisitedColums);
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT187, _OMC_LIT188);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVisitedColums = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVisitedColums;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_DFSBtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outVisitedColums = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_nv);
  tmp3 = mmc_unbox_integer(_ne);
  _outVisitedColums = omc_Matching_DFSBtraverseRows(threadData, _rows, _stack, tmp1, tmp2, tmp3, _m, _mT, _rowmarks, _ass1, _ass2, _inVisitedColums);
  /* skip box _outVisitedColums; list<#Integer> */
  return _outVisitedColums;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_DFSBphase(threadData_t *threadData, modelica_metatype _stack, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_metatype _outVisitedColums = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVisitedColums has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _stack;
    {
      modelica_metatype _rows = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rows has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inVisitedColums;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          _rows = omc_List_select(threadData, arrayGet(_m,_c) /* DAE.ASUB */, boxvar_Util_intPositive);
          tmpMeta1 = omc_Matching_DFSBtraverseRows(threadData, _rows, _stack, _i, _nv, _ne, _m, _mT, _rowmarks, _ass1, _ass2, _inVisitedColums);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = stringAppend(_OMC_LIT189,intString(_c));
          omc_Error_addInternalError(threadData, tmpMeta6, _OMC_LIT190);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVisitedColums = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVisitedColums;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_DFSBphase(threadData_t *threadData, modelica_metatype _stack, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _inVisitedColums)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _outVisitedColums = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_c);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _outVisitedColums = omc_Matching_DFSBphase(threadData, _stack, tmp1, tmp2, tmp3, tmp4, _m, _mT, _rowmarks, _ass1, _ass2, _inVisitedColums);
  /* skip box _outVisitedColums; list<#Integer> */
  return _outVisitedColums;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_DFSB1(threadData_t *threadData, modelica_integer _i, modelica_integer _rowmark, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  { /* matchcontinue expression */
    {
      modelica_metatype _visitedcolums = NULL;
      modelica_metatype _m1 = NULL;
      modelica_metatype _mt1 = NULL;
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_integer _i_1;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _rowmarks1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _visitedcolums has no default value.
      // _m1 has no default value.
      // _mt1 has no default value.
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _i_1 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _rowmarks1 has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_i > _ne);
          if (1 /* true */ != tmp6) goto goto_2;
          tmpMeta[0+0] = _ass1;
          tmpMeta[0+1] = _ass2;
          tmpMeta[0+2] = _isyst;
          tmpMeta[0+3] = _ishared;
          tmpMeta[0+4] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_integer tmp10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_integer tmp17;
          modelica_integer tmp18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp7 = (mmc_unbox_integer(arrayGet(_ass1,_i) /* DAE.ASUB */) > ((modelica_integer) 0));
          if (0 /* false */ != tmp7) goto goto_2;

          tmpMeta8 = mmc_mk_cons(mmc_mk_integer(_i), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta9 = mmc_mk_cons(mmc_mk_integer(_i), MMC_REFSTRUCTLIT(mmc_nil));
          _visitedcolums = omc_Matching_DFSBphase(threadData, tmpMeta8, _rowmark, _i, _nv, _ne, _m, _mT, _rowmarks, _ass1, _ass2, tmpMeta9);

          /* Pattern-matching tuple assignment, wild first pattern */
          omc_Matching_reduceIndexifNecessary(threadData, _visitedcolums, _i, _isyst, _ishared, _nv, _ne, _ass1, _ass2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg, &tmp10, &tmpMeta11, &tmpMeta16, &tmp17, &tmp18, &tmpMeta19, &tmpMeta20, &tmpMeta21);
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 4));
          if (optionNone(tmpMeta12)) goto goto_2;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 1));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 5));
          if (optionNone(tmpMeta14)) goto goto_2;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 1));
          _i_1 = tmp10;
          _syst = tmpMeta11;
          _m1 = tmpMeta13;
          _mt1 = tmpMeta15;
          _shared = tmpMeta16;
          _nv_1 = tmp17;
          _ne_1 = tmp18;
          _ass1_1 = tmpMeta19;
          _ass2_1 = tmpMeta20;
          _arg = tmpMeta21;

          _rowmarks1 = omc_Matching_assignmentsArrayExpand(threadData, _rowmarks, _nv_1, arrayLength(_rowmarks), ((modelica_integer) -1));
          tmpMeta[0+0] = omc_Matching_DFSB1(threadData, _i_1, ((modelica_integer) 1) + _rowmark, _nv_1, _ne_1, _m1, _mt1, _rowmarks1, _ass1_1, _ass2_1, _syst, _shared, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _arg, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4]);
          goto tmp3_done;
        }
        case 2: {
          modelica_boolean tmp22;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp22 = (mmc_unbox_integer(arrayGet(_ass1,_i) /* DAE.ASUB */) > ((modelica_integer) 0));
          if (1 /* true */ != tmp22) goto goto_2;
          tmpMeta[0+0] = omc_Matching_DFSB1(threadData, ((modelica_integer) 1) + _i, _rowmark, _nv, _ne, _m, _mT, _rowmarks, _ass1, _ass2, _isyst, _ishared, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4]);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta23;
          /* Pattern matching succeeded */
          tmpMeta23 = stringAppend(_OMC_LIT191,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta23, _OMC_LIT192);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outAss1 = tmpMeta[0+0];
  _outAss2 = tmpMeta[0+1];
  _osyst = tmpMeta[0+2];
  _oshared = tmpMeta[0+3];
  _outArg = tmpMeta[0+4];
  _return: OMC_LABEL_UNUSED
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outAss1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_DFSB1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _rowmark, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _outAss1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_rowmark);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _outAss1 = omc_Matching_DFSB1(threadData, tmp1, tmp2, tmp3, tmp4, _m, _mT, _rowmarks, _ass1, _ass2, _isyst, _ishared, _inMatchingOptions, _sssHandler, _inArg, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outAss1;
}

DLLDirection
modelica_metatype omc_Matching_DFSB(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _rowmarks = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _m has no default value.
      // _mt has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _rowmarks has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp10 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          /* Pattern-matching assignment */
          tmp11 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp11) goto goto_2;

          _rowmarks = arrayCreate(_nvars, mmc_mk_integer(((modelica_integer) -1)));

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          omc_Matching_cheapmatchingalgorithm(threadData, _nvars, _neqns, _m, _mt, _vec1, _vec2, 0 /* false */);

          _vec1 = omc_Matching_DFSB1(threadData, ((modelica_integer) 1), ((modelica_integer) 1), _nvars, _neqns, _m, _mt, _rowmarks, _vec1, _vec2, _isyst, _ishared, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta12);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta13);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp14 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp15) goto goto_2;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta16);

          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta17);

          tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta19 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta18);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta19);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT193);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_DFSB(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_DFSB(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_BFSBenque(threadData_t *threadData, modelica_metatype _queue, modelica_integer _rowmark, modelica_integer _c, modelica_integer _rc, modelica_integer _r, modelica_boolean _visited, modelica_metatype _rowmarks, modelica_metatype _parentcolum)
{
  modelica_metatype _outEqnqueue = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqnqueue has no default value.
  { /* match expression */
    modelica_boolean tmp4_1;
    tmp4_1 = _visited;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (0 /* false */ != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _queue;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          if (1 /* true */ != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          arrayUpdate(_rowmarks, _r, mmc_mk_integer(_rowmark));

          arrayUpdate(_parentcolum, _r, mmc_mk_integer(_c));
          tmpMeta6 = mmc_mk_cons(mmc_mk_integer(_rc), _queue);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT194, _OMC_LIT195);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEqnqueue = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEqnqueue;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BFSBenque(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _rowmark, modelica_metatype _c, modelica_metatype _rc, modelica_metatype _r, modelica_metatype _visited, modelica_metatype _rowmarks, modelica_metatype _parentcolum)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_metatype _outEqnqueue = NULL;
  tmp1 = mmc_unbox_integer(_rowmark);
  tmp2 = mmc_unbox_integer(_c);
  tmp3 = mmc_unbox_integer(_rc);
  tmp4 = mmc_unbox_integer(_r);
  tmp5 = mmc_unbox_integer(_visited);
  _outEqnqueue = omc_Matching_BFSBenque(threadData, _queue, tmp1, tmp2, tmp3, tmp4, tmp5, _rowmarks, _parentcolum);
  /* skip box _outEqnqueue; list<#Integer> */
  return _outEqnqueue;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_BFSBreasign(threadData_t *threadData, modelica_integer _i, modelica_integer _c, modelica_metatype _parentcolum, modelica_integer _l, modelica_metatype _ass1, modelica_metatype _ass2)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* matchcontinue expression */
    {
      modelica_integer _r;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _r has no default value.
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 3; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_boolean tmp5;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp5 = (_i == _c);
          if (1 /* true */ != tmp5) goto goto_1;

          arrayUpdate(_ass1, _c, mmc_mk_integer(_l));

          arrayUpdate(_ass2, _l, mmc_mk_integer(_c));
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          _r = mmc_unbox_integer(arrayGet(_ass1,_c) /* DAE.ASUB */);

          arrayUpdate(_ass1, _c, mmc_mk_integer(_l));

          arrayUpdate(_ass2, _l, mmc_mk_integer(_c));

          omc_Matching_BFSBreasign(threadData, _i, mmc_unbox_integer(arrayGet(_parentcolum,_r) /* DAE.ASUB */), _parentcolum, _r, _ass1, _ass2);
          goto tmp2_done;
        }
        case 2: {
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT196, _OMC_LIT197);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 3) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_BFSBreasign(threadData_t *threadData, modelica_metatype _i, modelica_metatype _c, modelica_metatype _parentcolum, modelica_metatype _l, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_c);
  tmp3 = mmc_unbox_integer(_l);
  omc_Matching_BFSBreasign(threadData, tmp1, tmp2, _parentcolum, tmp3, _ass1, _ass2);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_BFSBtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _queue, modelica_integer _rowmark, modelica_integer _i, modelica_integer _c, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_boolean *out_pathFound)
{
  modelica_metatype _outEqnqueue = NULL;
  modelica_boolean _pathFound;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqnqueue has no default value.
  // _pathFound has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _rows;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _queue1 = NULL;
      modelica_integer _rc;
      modelica_integer _r;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _queue1 has no default value.
      // _rc has no default value.
      // _r has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta[0+0] = listReverse(_queue);
          tmp1_c1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _r = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */) < ((modelica_integer) 0));
          if (1 /* true */ != tmp9) goto goto_2;

          omc_Matching_BFSBreasign(threadData, _i, _c, _parentcolum, _r, _ass1, _ass2);
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = tmpMeta10;
          tmp1_c1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_integer tmp13;
          modelica_boolean tmp14;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          tmp13 = mmc_unbox_integer(tmpMeta11);
          _r = tmp13  /* pattern as ty=Integer */;
          _rest = tmpMeta12;
          /* Pattern matching succeeded */
          _rc = mmc_unbox_integer(arrayGet(_ass2,_r) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp14 = (_rc < ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          _queue1 = omc_Matching_BFSBenque(threadData, _queue, _rowmark, _c, _rc, _r, (mmc_unbox_integer(arrayGet(_rowmarks,_r) /* DAE.ASUB */) < _rowmark), _rowmarks, _parentcolum);
          tmpMeta[0+0] = omc_Matching_BFSBtraverseRows(threadData, _rest, _queue1, _rowmark, _i, _c, _nv, _ne, _m, _mT, _rowmarks, _parentcolum, _ass1, _ass2, &tmp1_c1);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta15;
          
          /* Pattern matching succeeded */
          tmpMeta15 = stringAppend(_OMC_LIT198,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta15, _OMC_LIT199);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outEqnqueue = tmpMeta[0+0];
  _pathFound = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_pathFound) { *out_pathFound = _pathFound; }
  return _outEqnqueue;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BFSBtraverseRows(threadData_t *threadData, modelica_metatype _rows, modelica_metatype _queue, modelica_metatype _rowmark, modelica_metatype _i, modelica_metatype _c, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_pathFound)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_boolean _pathFound;
  modelica_metatype _outEqnqueue = NULL;
  tmp1 = mmc_unbox_integer(_rowmark);
  tmp2 = mmc_unbox_integer(_i);
  tmp3 = mmc_unbox_integer(_c);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  _outEqnqueue = omc_Matching_BFSBtraverseRows(threadData, _rows, _queue, tmp1, tmp2, tmp3, tmp4, tmp5, _m, _mT, _rowmarks, _parentcolum, _ass1, _ass2, &_pathFound);
  /* skip box _outEqnqueue; list<#Integer> */
  if (out_pathFound) { *out_pathFound = mmc_mk_icon(_pathFound); }
  return _outEqnqueue;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_BFSBphase1(threadData_t *threadData, modelica_boolean _inPathFound, modelica_metatype _queue, modelica_integer _rowmark, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextQueue, modelica_metatype _inVisitedColums)
{
  modelica_metatype _outVisitedColums = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVisitedColums has no default value.
  { /* match expression */
    modelica_boolean tmp4_1;
    tmp4_1 = _inPathFound;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (1 /* true */ != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          if (0 /* false */ != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Matching_BFSBphase(threadData, _queue, _rowmark, _i, _nv, _ne, _m, _mT, _rowmarks, _parentcolum, _ass1, _ass2, _nextQueue, _inVisitedColums);
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT200, _OMC_LIT201);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVisitedColums = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVisitedColums;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BFSBphase1(threadData_t *threadData, modelica_metatype _inPathFound, modelica_metatype _queue, modelica_metatype _rowmark, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextQueue, modelica_metatype _inVisitedColums)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_metatype _outVisitedColums = NULL;
  tmp1 = mmc_unbox_integer(_inPathFound);
  tmp2 = mmc_unbox_integer(_rowmark);
  tmp3 = mmc_unbox_integer(_i);
  tmp4 = mmc_unbox_integer(_nv);
  tmp5 = mmc_unbox_integer(_ne);
  _outVisitedColums = omc_Matching_BFSBphase1(threadData, tmp1, _queue, tmp2, tmp3, tmp4, tmp5, _m, _mT, _rowmarks, _parentcolum, _ass1, _ass2, _nextQueue, _inVisitedColums);
  /* skip box _outVisitedColums; list<#Integer> */
  return _outVisitedColums;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_BFSBphase(threadData_t *threadData, modelica_metatype _queue, modelica_integer _rowmark, modelica_integer _i, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextQueue, modelica_metatype _inVisitedColums)
{
  modelica_metatype _outVisitedColums = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVisitedColums has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _queue;
    tmp4_2 = _nextQueue;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _queue1 = NULL;
      modelica_metatype _rows = NULL;
      modelica_integer _c;
      modelica_boolean _b;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _queue1 has no default value.
      // _rows has no default value.
      // _c has no default value.
      // _b has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (!listEmpty(tmp4_2)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inVisitedColums;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          /* Tail recursive call */
          _queue = _nextQueue;
          _nextQueue = tmpMeta6;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          tmp9 = mmc_unbox_integer(tmpMeta7);
          
          _c = tmp9  /* pattern as ty=Integer */;
          _rest = tmpMeta8;
          /* Pattern matching succeeded */
          _rows = omc_List_select(threadData, arrayGet(_m,_c) /* DAE.ASUB */, boxvar_Util_intPositive);

          _queue1 = omc_Matching_BFSBtraverseRows(threadData, _rows, _nextQueue, _rowmark, _i, _c, _nv, _ne, _m, _mT, _rowmarks, _parentcolum, _ass1, _ass2 ,&_b);
          tmpMeta10 = mmc_mk_cons(mmc_mk_integer(_c), _inVisitedColums);
          tmpMeta1 = omc_Matching_BFSBphase1(threadData, _b, _rest, _rowmark, _i, _nv, _ne, _m, _mT, _rowmarks, _parentcolum, _ass1, _ass2, _queue1, tmpMeta10);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta11;
          
          /* Pattern matching succeeded */
          tmpMeta11 = stringAppend(_OMC_LIT202,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta11, _OMC_LIT203);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVisitedColums = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outVisitedColums;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BFSBphase(threadData_t *threadData, modelica_metatype _queue, modelica_metatype _rowmark, modelica_metatype _i, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _nextQueue, modelica_metatype _inVisitedColums)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _outVisitedColums = NULL;
  tmp1 = mmc_unbox_integer(_rowmark);
  tmp2 = mmc_unbox_integer(_i);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _outVisitedColums = omc_Matching_BFSBphase(threadData, _queue, tmp1, tmp2, tmp3, tmp4, _m, _mT, _rowmarks, _parentcolum, _ass1, _ass2, _nextQueue, _inVisitedColums);
  /* skip box _outVisitedColums; list<#Integer> */
  return _outVisitedColums;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_BFSB1(threadData_t *threadData, modelica_integer _i, modelica_integer _rowmark, modelica_integer _nv, modelica_integer _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outAss1 = NULL;
  modelica_metatype _outAss2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss1 has no default value.
  // _outAss2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  { /* matchcontinue expression */
    {
      modelica_metatype _visitedcolums = NULL;
      modelica_metatype _m1 = NULL;
      modelica_metatype _mt1 = NULL;
      modelica_integer _nv_1;
      modelica_integer _ne_1;
      modelica_integer _i_1;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _rowmarks1 = NULL;
      modelica_metatype _parentcolum1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _visitedcolums has no default value.
      // _m1 has no default value.
      // _mt1 has no default value.
      // _nv_1 has no default value.
      // _ne_1 has no default value.
      // _i_1 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _rowmarks1 has no default value.
      // _parentcolum1 has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_i > _ne);
          if (1 /* true */ != tmp6) goto goto_2;
          tmpMeta[0+0] = _ass1;
          tmpMeta[0+1] = _ass2;
          tmpMeta[0+2] = _isyst;
          tmpMeta[0+3] = _ishared;
          tmpMeta[0+4] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_integer tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_integer tmp18;
          modelica_integer tmp19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp7 = (mmc_unbox_integer(arrayGet(_ass1,_i) /* DAE.ASUB */) > ((modelica_integer) 0));
          if (0 /* false */ != tmp7) goto goto_2;

          tmpMeta8 = mmc_mk_cons(mmc_mk_integer(_i), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _visitedcolums = omc_Matching_BFSBphase(threadData, tmpMeta8, _rowmark, _i, _nv, _ne, _m, _mT, _rowmarks, _parentcolum, _ass1, _ass2, tmpMeta9, tmpMeta10);

          /* Pattern-matching tuple assignment, wild first pattern */
          omc_Matching_reduceIndexifNecessary(threadData, _visitedcolums, _i, _isyst, _ishared, _nv, _ne, _ass1, _ass2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg, &tmp11, &tmpMeta12, &tmpMeta17, &tmp18, &tmp19, &tmpMeta20, &tmpMeta21, &tmpMeta22);
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 4));
          if (optionNone(tmpMeta13)) goto goto_2;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 1));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 5));
          if (optionNone(tmpMeta15)) goto goto_2;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 1));
          _i_1 = tmp11;
          _syst = tmpMeta12;
          _m1 = tmpMeta14;
          _mt1 = tmpMeta16;
          _shared = tmpMeta17;
          _nv_1 = tmp18;
          _ne_1 = tmp19;
          _ass1_1 = tmpMeta20;
          _ass2_1 = tmpMeta21;
          _arg = tmpMeta22;

          _rowmarks1 = omc_Matching_assignmentsArrayExpand(threadData, _rowmarks, _nv_1, arrayLength(_rowmarks), ((modelica_integer) -1));

          _parentcolum1 = omc_Matching_assignmentsArrayExpand(threadData, _parentcolum, _nv_1, arrayLength(_parentcolum), ((modelica_integer) -1));
          tmpMeta[0+0] = omc_Matching_BFSB1(threadData, _i_1, ((modelica_integer) 1) + _rowmark, _nv_1, _ne_1, _m1, _mt1, _rowmarks1, _parentcolum1, _ass1_1, _ass2_1, _syst, _shared, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _arg, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4]);
          goto tmp3_done;
        }
        case 2: {
          modelica_boolean tmp23;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp23 = (mmc_unbox_integer(arrayGet(_ass1,_i) /* DAE.ASUB */) > ((modelica_integer) 0));
          if (1 /* true */ != tmp23) goto goto_2;
          tmpMeta[0+0] = omc_Matching_BFSB1(threadData, ((modelica_integer) 1) + _i, _rowmark, _nv, _ne, _m, _mT, _rowmarks, _parentcolum, _ass1, _ass2, _isyst, _ishared, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4]);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta24;
          /* Pattern matching succeeded */
          tmpMeta24 = stringAppend(_OMC_LIT204,intString(_i));
          omc_Error_addInternalError(threadData, tmpMeta24, _OMC_LIT205);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outAss1 = tmpMeta[0+0];
  _outAss2 = tmpMeta[0+1];
  _osyst = tmpMeta[0+2];
  _oshared = tmpMeta[0+3];
  _outArg = tmpMeta[0+4];
  _return: OMC_LABEL_UNUSED
  if (out_outAss2) { *out_outAss2 = _outAss2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outAss1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BFSB1(threadData_t *threadData, modelica_metatype _i, modelica_metatype _rowmark, modelica_metatype _nv, modelica_metatype _ne, modelica_metatype _m, modelica_metatype _mT, modelica_metatype _rowmarks, modelica_metatype _parentcolum, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAss2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype _outAss1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_rowmark);
  tmp3 = mmc_unbox_integer(_nv);
  tmp4 = mmc_unbox_integer(_ne);
  _outAss1 = omc_Matching_BFSB1(threadData, tmp1, tmp2, tmp3, tmp4, _m, _mT, _rowmarks, _parentcolum, _ass1, _ass2, _isyst, _ishared, _inMatchingOptions, _sssHandler, _inArg, out_outAss2, out_osyst, out_oshared, out_outArg);
  /* skip box _outAss1; array<#Integer> */
  /* skip box _outAss2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outAss1;
}

DLLDirection
modelica_metatype omc_Matching_BFSB(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _rowmarks = NULL;
      modelica_metatype _parentcolum = NULL;
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _rowmarks has no default value.
      // _parentcolum has no default value.
      // _m has no default value.
      // _mt has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp10 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          /* Pattern-matching assignment */
          tmp11 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp11) goto goto_2;

          _rowmarks = arrayCreate(_nvars, mmc_mk_integer(((modelica_integer) -1)));

          _parentcolum = arrayCreate(_nvars, mmc_mk_integer(((modelica_integer) -1)));

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          omc_Matching_cheapmatchingalgorithm(threadData, _nvars, _neqns, _m, _mt, _vec1, _vec2, 0 /* false */);

          _vec1 = omc_Matching_BFSB1(threadData, ((modelica_integer) 1), ((modelica_integer) 1), _nvars, _neqns, _m, _mt, _rowmarks, _parentcolum, _vec1, _vec2, _isyst, _ishared, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta12);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta13);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp14 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp15) goto goto_2;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta16);

          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta17);

          tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta19 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta18);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta19);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT193);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_BFSB(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_BFSB(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_forallUnmarkedVarsInEqnBody(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_integer _i, modelica_integer _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _inIntegerLst4, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2)
{
  modelica_metatype _outAssignments1 = NULL;
  modelica_metatype _outAssignments2 = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAssignments1 has no default value.
  // _outAssignments2 has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inIntegerLst4;
    {
      modelica_integer _assarg;
      modelica_integer _v;
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _ass1_2 = NULL;
      modelica_metatype _ass2_2 = NULL;
      modelica_metatype _vs = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _assarg has no default value.
      // _v has no default value.
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _ass1_2 has no default value.
      // _ass2_2 has no default value.
      // _vs has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _v = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          arrayUpdate(_vmark, _v, mmc_mk_integer(_imark));

          _assarg = mmc_unbox_integer(arrayGet(_ass1,_v) /* DAE.ASUB */);

          _ass1_1 = omc_Matching_pathFound(threadData, _m, _mt, _assarg, _imark, _emark, _vmark, _ass1, _ass2 ,&_ass2_1);

          _ass1_2 = arrayUpdate(_ass1_1, _v, mmc_mk_integer(_i));

          _ass2_2 = arrayUpdate(_ass2_1, _i, mmc_mk_integer(_v));
          tmpMeta[0+0] = _ass1_2;
          tmpMeta[0+1] = _ass2_2;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmp4_1);
          tmpMeta10 = MMC_CDR(tmp4_1);
          _vs = tmpMeta10;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_Matching_forallUnmarkedVarsInEqnBody(threadData, _m, _mt, _i, _imark, _emark, _vmark, _vs, _ass1, _ass2, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outAssignments1 = tmpMeta[0+0];
  _outAssignments2 = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outAssignments2) { *out_outAssignments2 = _outAssignments2; }
  return _outAssignments1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_forallUnmarkedVarsInEqnBody(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _i, modelica_metatype _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _inIntegerLst4, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outAssignments1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_imark);
  _outAssignments1 = omc_Matching_forallUnmarkedVarsInEqnBody(threadData, _m, _mt, tmp1, tmp2, _emark, _vmark, _inIntegerLst4, _ass1, _ass2, out_outAssignments2);
  /* skip box _outAssignments1; array<#Integer> */
  /* skip box _outAssignments2; array<#Integer> */
  return _outAssignments1;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_isNotVMarked(threadData_t *threadData, modelica_integer _i, modelica_metatype _inTpl)
{
  modelica_boolean _outB;
  modelica_integer _imark;
  modelica_metatype _vmark = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outB has no default value.
  // _imark has no default value.
  // _vmark has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inTpl;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmp3 = mmc_unbox_integer(tmpMeta2);
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _imark = tmp3  /* pattern as ty=Integer */;
  _vmark = tmpMeta4;

  _outB = (!(_imark == mmc_unbox_integer(arrayGet(_vmark,_i) /* DAE.ASUB */)));
  _return: OMC_LABEL_UNUSED
  return _outB;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_isNotVMarked(threadData_t *threadData, modelica_metatype _i, modelica_metatype _inTpl)
{
  modelica_integer tmp1;
  modelica_boolean _outB;
  modelica_metatype out_outB;
  tmp1 = mmc_unbox_integer(_i);
  _outB = omc_Matching_isNotVMarked(threadData, tmp1, _inTpl);
  out_outB = mmc_mk_icon(_outB);
  return out_outB;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_forallUnmarkedVarsInEqn(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_integer _i, modelica_integer _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2)
{
  modelica_metatype _outAssignments1 = NULL;
  modelica_metatype _outAssignments2 = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _vars_1 = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAssignments1 has no default value.
  // _outAssignments2 has no default value.
  // _vars has no default value.
  // _vars_1 has no default value.
  _vars = omc_BackendDAEUtil_varsInEqn(threadData, _m, _i);

  tmpMeta1 = mmc_mk_box2(0, mmc_mk_integer(_imark), _vmark);
  _vars_1 = omc_List_filter1OnTrue(threadData, _vars, boxvar_Matching_isNotVMarked, tmpMeta1);

  _outAssignments1 = omc_Matching_forallUnmarkedVarsInEqnBody(threadData, _m, _mt, _i, _imark, _emark, _vmark, _vars_1, _ass1, _ass2 ,&_outAssignments2);
  _return: OMC_LABEL_UNUSED
  if (out_outAssignments2) { *out_outAssignments2 = _outAssignments2; }
  return _outAssignments1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_forallUnmarkedVarsInEqn(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _i, modelica_metatype _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outAssignments1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_imark);
  _outAssignments1 = omc_Matching_forallUnmarkedVarsInEqn(threadData, _m, _mt, tmp1, tmp2, _emark, _vmark, _ass1, _ass2, out_outAssignments2);
  /* skip box _outAssignments1; array<#Integer> */
  /* skip box _outAssignments2; array<#Integer> */
  return _outAssignments1;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_assignFirstUnassigned(threadData_t *threadData, modelica_integer _i, modelica_metatype _inIntegerLst2, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2)
{
  modelica_metatype _outAssignments1 = NULL;
  modelica_metatype _outAssignments2 = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAssignments1 has no default value.
  // _outAssignments2 has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inIntegerLst2;
    {
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_integer _v;
      modelica_metatype _vs = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _v has no default value.
      // _vs has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _v = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (mmc_unbox_integer(arrayGet(_ass1,_v) /* DAE.ASUB */) > ((modelica_integer) 0));
          if (0 /* false */ != tmp9) goto goto_2;

          _ass1_1 = arrayUpdate(_ass1, _v, mmc_mk_integer(_i));

          _ass2_1 = arrayUpdate(_ass2, _i, mmc_mk_integer(_v));
          tmpMeta[0+0] = _ass1_1;
          tmpMeta[0+1] = _ass2_1;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          _vs = tmpMeta11;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_Matching_assignFirstUnassigned(threadData, _i, _vs, _ass1, _ass2, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outAssignments1 = tmpMeta[0+0];
  _outAssignments2 = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outAssignments2) { *out_outAssignments2 = _outAssignments2; }
  return _outAssignments1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_assignFirstUnassigned(threadData_t *threadData, modelica_metatype _i, modelica_metatype _inIntegerLst2, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2)
{
  modelica_integer tmp1;
  modelica_metatype _outAssignments1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  _outAssignments1 = omc_Matching_assignFirstUnassigned(threadData, tmp1, _inIntegerLst2, _ass1, _ass2, out_outAssignments2);
  /* skip box _outAssignments1; array<#Integer> */
  /* skip box _outAssignments2; array<#Integer> */
  return _outAssignments1;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_assignOneInEqn(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_integer _i, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2)
{
  modelica_metatype _outAssignments1 = NULL;
  modelica_metatype _outAssignments2 = NULL;
  modelica_metatype _vars = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAssignments1 has no default value.
  // _outAssignments2 has no default value.
  // _vars has no default value.
  _vars = omc_BackendDAEUtil_varsInEqn(threadData, _m, _i);

  _outAssignments1 = omc_Matching_assignFirstUnassigned(threadData, _i, _vars, _ass1, _ass2 ,&_outAssignments2);
  _return: OMC_LABEL_UNUSED
  if (out_outAssignments2) { *out_outAssignments2 = _outAssignments2; }
  return _outAssignments1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_assignOneInEqn(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _i, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2)
{
  modelica_integer tmp1;
  modelica_metatype _outAssignments1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  _outAssignments1 = omc_Matching_assignOneInEqn(threadData, _m, _mt, tmp1, _ass1, _ass2, out_outAssignments2);
  /* skip box _outAssignments1; array<#Integer> */
  /* skip box _outAssignments2; array<#Integer> */
  return _outAssignments1;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_pathFound(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_integer _i, modelica_integer _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2)
{
  modelica_metatype _outAssignments1 = NULL;
  modelica_metatype _outAssignments2 = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAssignments1 has no default value.
  // _outAssignments2 has no default value.
  
  
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          /* Pattern matching succeeded */
          arrayUpdate(_emark, _i, mmc_mk_integer(_imark));
          tmpMeta[0+0] = omc_Matching_assignOneInEqn(threadData, _m, _mt, _i, _ass1, _ass2, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          tmpMeta[0+0] = omc_Matching_forallUnmarkedVarsInEqn(threadData, _m, _mt, _i, _imark, _emark, _vmark, _ass1, _ass2, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outAssignments1 = tmpMeta[0+0];
  _outAssignments2 = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outAssignments2) { *out_outAssignments2 = _outAssignments2; }
  return _outAssignments1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_pathFound(threadData_t *threadData, modelica_metatype _m, modelica_metatype _mt, modelica_metatype _i, modelica_metatype _imark, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype *out_outAssignments2)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outAssignments1 = NULL;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(_imark);
  _outAssignments1 = omc_Matching_pathFound(threadData, _m, _mt, tmp1, tmp2, _emark, _vmark, _ass1, _ass2, out_outAssignments2);
  /* skip box _outAssignments1; array<#Integer> */
  /* skip box _outAssignments2; array<#Integer> */
  return _outAssignments1;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Matching_DFSLH2(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_integer _nv, modelica_integer _nf, modelica_integer _i, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _match_opts, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAssignments2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _outAssignments1 = NULL;
  modelica_metatype _outAssignments2 = NULL;
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAssignments1 has no default value.
  // _outAssignments2 has no default value.
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _isyst;
    tmp4_2 = _match_opts;
    {
      modelica_metatype _ass1_1 = NULL;
      modelica_metatype _ass2_1 = NULL;
      modelica_metatype _ass1_2 = NULL;
      modelica_metatype _ass2_2 = NULL;
      modelica_metatype _emark1 = NULL;
      modelica_metatype _vmark1 = NULL;
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      modelica_integer _i_1;
      modelica_integer _nv_1;
      modelica_integer _nf_1;
      modelica_metatype _eqns = NULL;
      modelica_metatype _eqn_lst = NULL;
      modelica_metatype _meqns = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _ass1_1 has no default value.
      // _ass2_1 has no default value.
      // _ass1_2 has no default value.
      // _ass2_2 has no default value.
      // _emark1 has no default value.
      // _vmark1 has no default value.
      // _m has no default value.
      // _mt has no default value.
      // _i_1 has no default value.
      // _nv_1 has no default value.
      // _nf_1 has no default value.
      // _eqns has no default value.
      // _eqn_lst has no default value.
      // _meqns has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _syst = tmp4_1;
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp10 = (_i >= _nv);
          if (1 /* true */ != tmp10) goto goto_2;

          _ass1_1 = omc_Matching_pathFound(threadData, _m, _mt, _i, _i, _emark, _vmark, _ass1, _ass2 ,&_ass2_1);
          tmpMeta[0+0] = _ass1_1;
          tmpMeta[0+1] = _ass2_1;
          tmpMeta[0+2] = _syst;
          tmpMeta[0+3] = _ishared;
          tmpMeta[0+4] = _inArg;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_boolean tmp15;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta11)) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 1));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta13)) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 1));
          
          _syst = tmp4_1;
          /* Pattern matching succeeded */
          _i_1 = ((modelica_integer) 1) + _i;

          /* Pattern-matching assignment */
          tmp15 = (mmc_unbox_integer(arrayGet(_ass2,_i) /* DAE.ASUB */) > ((modelica_integer) 0));
          if (1 /* true */ != tmp15) goto goto_2;
          tmpMeta[0+0] = omc_Matching_DFSLH2(threadData, _syst, _ishared, _nv, _nf, _i_1, _emark, _vmark, _ass1, _ass2, _match_opts, ((modelica_fnptr) _sssHandler), _inArg, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4]);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta16)) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta16), 1));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta18)) goto tmp3_end;
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 1));
          
          _syst = tmp4_1;
          _m = tmpMeta17;
          _mt = tmpMeta19;
          /* Pattern matching succeeded */
          _i_1 = ((modelica_integer) 1) + _i;

          _ass1_1 = omc_Matching_pathFound(threadData, _m, _mt, _i, _i, _emark, _vmark, _ass1, _ass2 ,&_ass2_1);
          tmpMeta[0+0] = omc_Matching_DFSLH2(threadData, _syst, _ishared, _nv, _nf, _i_1, _emark, _vmark, _ass1_1, _ass2_1, _match_opts, ((modelica_fnptr) _sssHandler), _inArg, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4]);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_integer tmp23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta20,0,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta21 = MMC_REFSTRUCTLIT(mmc_nil);
          _meqns = omc_Matching_getMarked(threadData, _nf, _i, _emark, tmpMeta21);

          /* Pattern-matching tuple assignment, wild first pattern */
          tmpMeta29 = mmc_mk_cons(_meqns, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta30 = mmc_mk_cons(_meqns, MMC_REFSTRUCTLIT(mmc_nil));
          (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))), tmpMeta30, mmc_mk_integer(_i), _isyst, _ishared, _ass1, _ass2, _inArg, &tmpMeta22, &tmpMeta24, &tmpMeta25, &tmpMeta26, &tmpMeta27, &tmpMeta28) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, tmpMeta29, mmc_mk_integer(_i), _isyst, _ishared, _ass1, _ass2, _inArg, &tmpMeta22, &tmpMeta24, &tmpMeta25, &tmpMeta26, &tmpMeta27, &tmpMeta28);
          tmp23 = mmc_unbox_integer(tmpMeta22);
          _i_1 = tmp23  /* pattern as ty=Integer */;
          _syst = tmpMeta24;
          _shared = tmpMeta25;
          _ass1_1 = tmpMeta26;
          _ass2_1 = tmpMeta27;
          _arg = tmpMeta28;

          _eqns = omc_BackendEquation_getEqnsFromEqSystem(threadData, _syst);

          _nf_1 = omc_BackendEquation_equationArraySize(threadData, _eqns);

          _nv_1 = omc_BackendVariable_varsSize(threadData, omc_BackendVariable_daeVars(threadData, _syst));

          _ass1_2 = omc_Matching_assignmentsArrayExpand(threadData, _ass1_1, _nv_1, arrayLength(_ass1_1), ((modelica_integer) -1));

          _ass2_2 = omc_Matching_assignmentsArrayExpand(threadData, _ass2_1, _nf_1, arrayLength(_ass2_1), ((modelica_integer) -1));

          _vmark1 = omc_Matching_assignmentsArrayExpand(threadData, _vmark, _nv_1, arrayLength(_vmark), ((modelica_integer) -1));

          _emark1 = omc_Matching_assignmentsArrayExpand(threadData, _emark, _nf_1, arrayLength(_emark), ((modelica_integer) -1));
          tmpMeta[0+0] = omc_Matching_DFSLH2(threadData, _syst, _shared, _nv_1, _nf_1, _i_1, _emark1, _vmark1, _ass1_2, _ass2_2, _match_opts, ((modelica_fnptr) _sssHandler), _arg, &tmpMeta[0+1], &tmpMeta[0+2], &tmpMeta[0+3], &tmpMeta[0+4]);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          
          /* Pattern matching succeeded */
          tmpMeta31 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqn_lst = omc_Matching_getMarked(threadData, _nf, _i, _emark, tmpMeta31);

          tmpMeta32 = mmc_mk_cons(_eqn_lst, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Matching_singularSystemError(threadData, tmpMeta32, _i, _isyst, _ishared, _ass1, _ass2, _inArg);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outAssignments1 = tmpMeta[0+0];
  _outAssignments2 = tmpMeta[0+1];
  _osyst = tmpMeta[0+2];
  _oshared = tmpMeta[0+3];
  _outArg = tmpMeta[0+4];
  _return: OMC_LABEL_UNUSED
  if (out_outAssignments2) { *out_outAssignments2 = _outAssignments2; }
  if (out_osyst) { *out_osyst = _osyst; }
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outAssignments1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_DFSLH2(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _nv, modelica_metatype _nf, modelica_metatype _i, modelica_metatype _emark, modelica_metatype _vmark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _match_opts, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outAssignments2, modelica_metatype *out_osyst, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _outAssignments1 = NULL;
  tmp1 = mmc_unbox_integer(_nv);
  tmp2 = mmc_unbox_integer(_nf);
  tmp3 = mmc_unbox_integer(_i);
  _outAssignments1 = omc_Matching_DFSLH2(threadData, _isyst, _ishared, tmp1, tmp2, tmp3, _emark, _vmark, _ass1, _ass2, _match_opts, _sssHandler, _inArg, out_outAssignments2, out_osyst, out_oshared, out_outArg);
  /* skip box _outAssignments1; array<#Integer> */
  /* skip box _outAssignments2; array<#Integer> */
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outAssignments1;
}

DLLDirection
modelica_metatype omc_Matching_DFSLH(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _oshared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _osyst has no default value.
  // _oshared has no default value.
  // _outArg has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _isyst;
    {
      modelica_integer _nvars;
      modelica_integer _neqns;
      modelica_metatype _vec1 = NULL;
      modelica_metatype _vec2 = NULL;
      modelica_metatype _emark = NULL;
      modelica_metatype _vmark = NULL;
      modelica_metatype _arg = NULL;
      modelica_metatype _syst = NULL;
      modelica_metatype _shared = NULL;
      modelica_metatype _m = NULL;
      modelica_metatype _mt = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nvars has no default value.
      // _neqns has no default value.
      // _vec1 has no default value.
      // _vec2 has no default value.
      // _emark has no default value.
      // _vmark has no default value.
      // _arg has no default value.
      // _syst has no default value.
      // _shared has no default value.
      // _m has no default value.
      // _mt has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _m = tmpMeta7;
          _mt = tmpMeta9;
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp10 = (_nvars > ((modelica_integer) 0));
          if (1 /* true */ != tmp10) goto goto_2;

          /* Pattern-matching assignment */
          tmp11 = (_neqns > ((modelica_integer) 0));
          if (1 /* true */ != tmp11) goto goto_2;

          _vmark = arrayCreate(_nvars, mmc_mk_integer(((modelica_integer) -1)));

          _emark = arrayCreate(_neqns, mmc_mk_integer(((modelica_integer) -1)));

          _vec1 = omc_Matching_getAssignment(threadData, _clearMatching, _nvars, _neqns, _isyst ,&_vec2);

          omc_Matching_cheapmatchingalgorithm(threadData, _nvars, _neqns, _m, _mt, _vec1, _vec2, 0 /* false */);

          _vec1 = omc_Matching_DFSLH2(threadData, _isyst, _ishared, _nvars, _neqns, ((modelica_integer) 1), _emark, _vmark, _vec1, _vec2, _inMatchingOptions, ((modelica_fnptr) _sssHandler), _inArg ,&_vec2 ,&_syst ,&_shared ,&_arg);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec1, _vec2, tmpMeta12);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _syst, tmpMeta13);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _shared;
          tmpMeta[0+2] = _arg;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          _neqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

          _nvars = omc_BackendVariable_daenumVariables(threadData, _isyst);

          /* Pattern-matching assignment */
          tmp14 = (_nvars > ((modelica_integer) 0));
          if (0 /* false */ != tmp14) goto goto_2;

          /* Pattern-matching assignment */
          tmp15 = (_neqns > ((modelica_integer) 0));
          if (0 /* false */ != tmp15) goto goto_2;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec1 = listArray(tmpMeta16);

          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _vec2 = listArray(tmpMeta17);

          tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta19 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _vec2, _vec1, tmpMeta18);
          _syst = omc_BackendDAEUtil_setEqSystMatching(threadData, _isyst, tmpMeta19);
          tmpMeta[0+0] = _syst;
          tmpMeta[0+1] = _ishared;
          tmpMeta[0+2] = _inArg;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT99))
          {
            omc_Debug_trace(threadData, _OMC_LIT206);
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _osyst = tmpMeta[0+0];
  _oshared = tmpMeta[0+1];
  _outArg = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_oshared) { *out_oshared = _oshared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _osyst;
}
modelica_metatype boxptr_Matching_DFSLH(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _ishared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_oshared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _osyst = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _osyst = omc_Matching_DFSLH(threadData, _isyst, _ishared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_oshared, out_outArg);
  /* skip box _osyst; BackendDAE.EqSystem */
  /* skip box _oshared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _osyst;
}

DLLDirection
modelica_metatype omc_Matching_invertMatching(threadData_t *threadData, modelica_metatype _inAss)
{
  modelica_metatype _outAss = NULL;
  modelica_integer _N;
  modelica_integer _j;
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outAss has no default value.
  _N = arrayLength(_inAss);
  // _j has no default value.
  _outAss = arrayCreate(_N, mmc_mk_integer(((modelica_integer) -1)));

  tmp1 = ((modelica_integer) 1); tmp2 = 1; tmp3 = _N;
  if(!(((tmp2 > 0) && (tmp1 > tmp3)) || ((tmp2 < 0) && (tmp1 < tmp3))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp1, tmp3); _i += tmp2)
    {
      _j = mmc_unbox_integer(arrayGet(_inAss,_i) /* DAE.ASUB */);

      if((_j > ((modelica_integer) 0)))
      {
        arrayUpdate(_outAss,mmc_unbox_integer(arrayGet(_inAss,_i) /* DAE.ASUB */),mmc_mk_integer(_i));
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _outAss;
}

PROTECTED_FUNCTION_STATIC void omc_Matching_BBCheapMatching(threadData_t *threadData, modelica_integer _nEqns, modelica_metatype _m, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer _i;
  modelica_integer _j;
  modelica_boolean _success;
  modelica_metatype _vars = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _i has no default value.
  // _j has no default value.
  _success = 0 /* false */;
  // _vars has no default value.
  tmp5 = ((modelica_integer) 1); tmp6 = 1; tmp7 = _nEqns;
  if(!(((tmp6 > 0) && (tmp5 > tmp7)) || ((tmp6 < 0) && (tmp5 < tmp7))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp5, tmp7); _i += tmp6)
    {
      _vars = arrayGet(_m,_i) /* DAE.ASUB */;

      while(1)
      {
        if(!((!_success) && (!listEmpty(_vars)))) break;
        /* Pattern-matching assignment */
        tmpMeta1 = _vars;
        if (listEmpty(tmpMeta1)) MMC_THROW_INTERNAL();
        tmpMeta2 = MMC_CAR(tmpMeta1);
        tmpMeta3 = MMC_CDR(tmpMeta1);
        tmp4 = mmc_unbox_integer(tmpMeta2);
        _j = tmp4  /* pattern as ty=Integer */;
        _vars = tmpMeta3;

        if(((_j > ((modelica_integer) 0)) && (mmc_unbox_integer(arrayGet(_ass1,_j) /* DAE.ASUB */) <= ((modelica_integer) 0))))
        {
          _success = 1 /* true */;

          arrayUpdate(_ass1, _j, mmc_mk_integer(_i));

          arrayUpdate(_ass2, _i, mmc_mk_integer(_j));
        }
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_Matching_BBCheapMatching(threadData_t *threadData, modelica_metatype _nEqns, modelica_metatype _m, modelica_metatype _ass1, modelica_metatype _ass2)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_nEqns);
  omc_Matching_BBCheapMatching(threadData, tmp1, _m, _ass1, _ass2);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Matching_BBPathFound(threadData_t *threadData, modelica_integer _i, modelica_metatype _m, modelica_metatype _eMark, modelica_metatype _vMark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _eMarkIx, modelica_metatype _vMarkIx, modelica_integer __omcQ_24in_5FeMarkN, modelica_integer __omcQ_24in_5FvMarkN, modelica_integer *out_eMarkN, modelica_integer *out_vMarkN)
{
  modelica_boolean _success;
  modelica_integer _eMarkN;
  modelica_integer _vMarkN;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _success = 0 /* false */;
  _eMarkN = __omcQ_24in_5FeMarkN;
  _vMarkN = __omcQ_24in_5FvMarkN;
  if(mmc_unbox_boolean(arrayGet(_eMark, _i)))
  {
    goto _return;
  }

  arrayUpdate(_eMark, _i, mmc_mk_boolean(1 /* true */));

  _eMarkN = ((modelica_integer) 1) + _eMarkN;

  arrayUpdate(_eMarkIx, _eMarkN, mmc_mk_integer(_i));

  {
    modelica_metatype _j;
    for (tmpMeta1 = arrayGet(_m,_i) /* DAE.ASUB */; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _j = MMC_CAR(tmpMeta1);
      if(((mmc_unbox_integer(_j) > ((modelica_integer) 0)) && (mmc_unbox_integer(arrayGet(_ass1,mmc_unbox_integer(_j)) /* DAE.ASUB */) <= ((modelica_integer) 0))))
      {
        _success = 1 /* true */;

        arrayUpdate(_ass1, mmc_unbox_integer(_j), mmc_mk_integer(_i));

        arrayUpdate(_ass2, _i, _j);

        goto _return;
      }
    }
  }

  {
    modelica_metatype _j;
    for (tmpMeta3 = arrayGet(_m,_i) /* DAE.ASUB */; !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
    {
      _j = MMC_CAR(tmpMeta3);
      if(((mmc_unbox_integer(_j) > ((modelica_integer) 0)) && (!mmc_unbox_boolean(arrayGet(_vMark,mmc_unbox_integer(_j)) /* DAE.ASUB */))))
      {
        arrayUpdate(_vMark, mmc_unbox_integer(_j), mmc_mk_boolean(1 /* true */));

        _vMarkN = ((modelica_integer) 1) + _vMarkN;

        arrayUpdate(_vMarkIx, _vMarkN, _j);

        _success = omc_Matching_BBPathFound(threadData, mmc_unbox_integer(arrayGet(_ass1,mmc_unbox_integer(_j)) /* DAE.ASUB */), _m, _eMark, _vMark, _ass1, _ass2, _eMarkIx, _vMarkIx, _eMarkN, _vMarkN ,&_eMarkN ,&_vMarkN);

        if(_success)
        {
          arrayUpdate(_ass1, mmc_unbox_integer(_j), mmc_mk_integer(_i));

          arrayUpdate(_ass2, _i, _j);

          goto _return;
        }
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_eMarkN) { *out_eMarkN = _eMarkN; }
  if (out_vMarkN) { *out_vMarkN = _vMarkN; }
  return _success;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Matching_BBPathFound(threadData_t *threadData, modelica_metatype _i, modelica_metatype _m, modelica_metatype _eMark, modelica_metatype _vMark, modelica_metatype _ass1, modelica_metatype _ass2, modelica_metatype _eMarkIx, modelica_metatype _vMarkIx, modelica_metatype __omcQ_24in_5FeMarkN, modelica_metatype __omcQ_24in_5FvMarkN, modelica_metatype *out_eMarkN, modelica_metatype *out_vMarkN)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer _eMarkN;
  modelica_integer _vMarkN;
  modelica_boolean _success;
  modelica_metatype out_success;
  tmp1 = mmc_unbox_integer(_i);
  tmp2 = mmc_unbox_integer(__omcQ_24in_5FeMarkN);
  tmp3 = mmc_unbox_integer(__omcQ_24in_5FvMarkN);
  _success = omc_Matching_BBPathFound(threadData, tmp1, _m, _eMark, _vMark, _ass1, _ass2, _eMarkIx, _vMarkIx, tmp2, tmp3, &_eMarkN, &_vMarkN);
  out_success = mmc_mk_icon(_success);
  if (out_eMarkN) { *out_eMarkN = mmc_mk_icon(_eMarkN); }
  if (out_vMarkN) { *out_vMarkN = mmc_mk_icon(_vMarkN); }
  return out_success;
}

DLLDirection
modelica_metatype omc_Matching_BBMatching(threadData_t *threadData, modelica_metatype _inSys, modelica_metatype _inShared, modelica_boolean _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outShared, modelica_metatype *out_outArg)
{
  modelica_metatype _outSys = NULL;
  modelica_metatype _outShared = NULL;
  modelica_metatype _outArg = NULL;
  modelica_integer _i;
  modelica_boolean _success;
  modelica_metatype _m = NULL;
  modelica_integer _nVars;
  modelica_integer _nEqns;
  modelica_integer _j;
  modelica_metatype _ass1 = NULL;
  modelica_metatype _ass2 = NULL;
  modelica_metatype _eMark = NULL;
  modelica_metatype _vMark = NULL;
  modelica_metatype _eMarkIx = NULL;
  modelica_metatype _vMarkIx = NULL;
  modelica_integer _eMarkN;
  modelica_integer _vMarkN;
  modelica_metatype _eqns = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _mEqns = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_metatype tmpMeta8;
  modelica_integer tmp9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta20;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outSys = _inSys;
  _outShared = _inShared;
  _outArg = _inArg;
  // _i has no default value.
  _success = 1 /* true */;
  // _m has no default value.
  // _nVars has no default value.
  // _nEqns has no default value.
  // _j has no default value.
  // _ass1 has no default value.
  // _ass2 has no default value.
  // _eMark has no default value.
  // _vMark has no default value.
  // _eMarkIx has no default value.
  // _vMarkIx has no default value.
  _eMarkN = ((modelica_integer) 0);
  _vMarkN = ((modelica_integer) 0);
  // _eqns has no default value.
  // _vars has no default value.
  // _mEqns has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outSys), 4)));
  if (optionNone(tmpMeta1)) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  _m = tmpMeta2;

  _nEqns = omc_BackendDAEUtil_systemSize(threadData, _outSys);

  _nVars = omc_BackendVariable_daenumVariables(threadData, _outSys);

  _ass2 = arrayCreate(_nEqns, mmc_mk_integer(((modelica_integer) -1)));

  _ass1 = arrayCreate(_nVars, mmc_mk_integer(((modelica_integer) -1)));

  _vMark = arrayCreate(_nVars, mmc_mk_boolean(0 /* false */));

  _eMark = arrayCreate(_nEqns, mmc_mk_boolean(0 /* false */));

  _vMarkIx = arrayCreate(_nVars, mmc_mk_integer(((modelica_integer) 0)));

  _eMarkIx = arrayCreate(_nEqns, mmc_mk_integer(((modelica_integer) 0)));

  _i = ((modelica_integer) 1);

  while(1)
  {
    if(!((_i <= _nEqns) && _success)) break;
    _j = mmc_unbox_integer(arrayGet(_ass2,_i) /* DAE.ASUB */);

    if(((_j > ((modelica_integer) 0)) && (mmc_unbox_integer(arrayGet(_ass1,_j) /* DAE.ASUB */) == _i)))
    {
      _success = 1 /* true */;
    }
    else
    {
      omc_Matching_clearArrayWithKnownSetIndexes(threadData, _eMark, _eMarkIx, _eMarkN);

      omc_Matching_clearArrayWithKnownSetIndexes(threadData, _vMark, _vMarkIx, _vMarkN);

      _success = omc_Matching_BBPathFound(threadData, _i, _m, _eMark, _vMark, _ass1, _ass2, _eMarkIx, _vMarkIx, ((modelica_integer) 0), ((modelica_integer) 0) ,&_eMarkN ,&_vMarkN);

      if((!_success))
      {
        tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
        _mEqns = tmpMeta3;

        tmp5 = ((modelica_integer) 1); tmp6 = 1; tmp7 = _nEqns;
        if(!(((tmp6 > 0) && (tmp5 > tmp7)) || ((tmp6 < 0) && (tmp5 < tmp7))))
        {
          modelica_integer _j;
          for(_j = ((modelica_integer) 1); in_range_integer(_j, tmp5, tmp7); _j += tmp6)
          {
            if(mmc_unbox_boolean(arrayGet(_eMark,_j) /* DAE.ASUB */))
            {
              tmpMeta4 = mmc_mk_cons(mmc_mk_integer(_j), _mEqns);
              _mEqns = tmpMeta4;
            }
          }
        }

        /* Pattern-matching tuple assignment, wild first pattern */
        tmpMeta15 = mmc_mk_cons(_mEqns, MMC_REFSTRUCTLIT(mmc_nil));
        tmpMeta16 = mmc_mk_cons(_mEqns, MMC_REFSTRUCTLIT(mmc_nil));
        (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 2))), tmpMeta16, mmc_mk_integer(_i), _outSys, _outShared, _ass1, _ass2, _outArg, &tmpMeta8, &tmpMeta10, &tmpMeta11, &tmpMeta12, &tmpMeta13, &tmpMeta14) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_sssHandler), 1)))) (threadData, tmpMeta15, mmc_mk_integer(_i), _outSys, _outShared, _ass1, _ass2, _outArg, &tmpMeta8, &tmpMeta10, &tmpMeta11, &tmpMeta12, &tmpMeta13, &tmpMeta14);
        tmp9 = mmc_unbox_integer(tmpMeta8);
        _i = tmp9  /* pattern as ty=Integer */;
        _outSys = tmpMeta10;
        _outShared = tmpMeta11;
        _ass1 = tmpMeta12;
        _ass2 = tmpMeta13;
        _outArg = tmpMeta14;

        /* Pattern-matching assignment */
        tmpMeta17 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outSys), 4)));
        if (optionNone(tmpMeta17)) MMC_THROW_INTERNAL();
        tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 1));
        _m = tmpMeta18;

        _success = 1 /* true */;

        _i = ((modelica_integer) -1) + _i;
      }
    }

    _i = ((modelica_integer) 1) + _i;
  }

  if(_success)
  {
    tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
    tmpMeta20 = mmc_mk_box4(4, &BackendDAE_Matching_MATCHING__desc, _ass1, _ass2, tmpMeta19);
    _outSys = omc_BackendDAEUtil_setEqSystMatching(threadData, _outSys, tmpMeta20);
  }
  else
  {
    fputs(MMC_STRINGDATA(_OMC_LIT207),stdout);
  }
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  if (out_outArg) { *out_outArg = _outArg; }
  return _outSys;
}
modelica_metatype boxptr_Matching_BBMatching(threadData_t *threadData, modelica_metatype _inSys, modelica_metatype _inShared, modelica_metatype _clearMatching, modelica_metatype _inMatchingOptions, modelica_fnptr _sssHandler, modelica_metatype _inArg, modelica_metatype *out_outShared, modelica_metatype *out_outArg)
{
  modelica_integer tmp1;
  modelica_metatype _outSys = NULL;
  tmp1 = mmc_unbox_integer(_clearMatching);
  _outSys = omc_Matching_BBMatching(threadData, _inSys, _inShared, tmp1, _inMatchingOptions, _sssHandler, _inArg, out_outShared, out_outArg);
  /* skip box _outSys; BackendDAE.EqSystem */
  /* skip box _outShared; BackendDAE.Shared */
  /* skip box _outArg; tuple<BackendDAE.StateOrder, array<list<BackendDAE.Equation>>, array<list<#Integer>>, array<#Integer>, #Integer> */
  return _outSys;
}

DLLDirection
modelica_metatype omc_Matching_ContinueMatching(threadData_t *threadData, modelica_metatype _m, modelica_integer _nVars, modelica_integer _nEqns, modelica_metatype __omcQ_24in_5Fass1, modelica_metatype __omcQ_24in_5Fass2, modelica_boolean _stopAtSingularity, modelica_metatype *out_ass2, modelica_boolean *out_perfectMatching, modelica_metatype *out_eMark, modelica_metatype *out_vMark)
{
  modelica_metatype _ass1 = NULL;
  modelica_metatype _ass2 = NULL;
  modelica_boolean _perfectMatching;
  modelica_metatype _eMark = NULL;
  modelica_metatype _vMark = NULL;
  modelica_integer _i;
  modelica_integer _j;
  modelica_metatype _eMarkIx = NULL;
  modelica_metatype _vMarkIx = NULL;
  modelica_integer _eMarkN;
  modelica_integer _vMarkN;
  modelica_boolean _success;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _ass1 = __omcQ_24in_5Fass1;
  _ass2 = __omcQ_24in_5Fass2;
  _perfectMatching = 1 /* true */;
  // _eMark has no default value.
  // _vMark has no default value.
  // _i has no default value.
  // _j has no default value.
  // _eMarkIx has no default value.
  // _vMarkIx has no default value.
  _eMarkN = ((modelica_integer) 0);
  _vMarkN = ((modelica_integer) 0);
  // _success has no default value.
  _vMark = arrayCreate(_nVars, mmc_mk_boolean(0 /* false */));

  _eMark = arrayCreate(_nEqns, mmc_mk_boolean(0 /* false */));

  _vMarkIx = arrayCreate(_nVars, mmc_mk_integer(((modelica_integer) 0)));

  _eMarkIx = arrayCreate(_nEqns, mmc_mk_integer(((modelica_integer) 0)));

  _i = ((modelica_integer) 1);

  while(1)
  {
    if(!(_i <= _nEqns)) break;
    _j = mmc_unbox_integer(arrayGet(_ass2,_i) /* DAE.ASUB */);

    if((!((_j > ((modelica_integer) 0)) && (mmc_unbox_integer(arrayGet(_ass1,_j) /* DAE.ASUB */) == _i))))
    {
      omc_Matching_clearArrayWithKnownSetIndexes(threadData, _eMark, _eMarkIx, _eMarkN);

      omc_Matching_clearArrayWithKnownSetIndexes(threadData, _vMark, _vMarkIx, _vMarkN);

      _success = omc_Matching_BBPathFound(threadData, _i, _m, _eMark, _vMark, _ass1, _ass2, _eMarkIx, _vMarkIx, ((modelica_integer) 0), ((modelica_integer) 0) ,&_eMarkN ,&_vMarkN);

      if((!_success))
      {
        _perfectMatching = 0 /* false */;

        if(_stopAtSingularity)
        {
          goto _return;
        }
      }
    }

    _i = ((modelica_integer) 1) + _i;
  }
  _return: OMC_LABEL_UNUSED
  if (out_ass2) { *out_ass2 = _ass2; }
  if (out_perfectMatching) { *out_perfectMatching = _perfectMatching; }
  if (out_eMark) { *out_eMark = _eMark; }
  if (out_vMark) { *out_vMark = _vMark; }
  return _ass1;
}
modelica_metatype boxptr_Matching_ContinueMatching(threadData_t *threadData, modelica_metatype _m, modelica_metatype _nVars, modelica_metatype _nEqns, modelica_metatype __omcQ_24in_5Fass1, modelica_metatype __omcQ_24in_5Fass2, modelica_metatype _stopAtSingularity, modelica_metatype *out_ass2, modelica_metatype *out_perfectMatching, modelica_metatype *out_eMark, modelica_metatype *out_vMark)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_boolean _perfectMatching;
  modelica_metatype _ass1 = NULL;
  tmp1 = mmc_unbox_integer(_nVars);
  tmp2 = mmc_unbox_integer(_nEqns);
  tmp3 = mmc_unbox_integer(_stopAtSingularity);
  _ass1 = omc_Matching_ContinueMatching(threadData, _m, tmp1, tmp2, __omcQ_24in_5Fass1, __omcQ_24in_5Fass2, tmp3, out_ass2, &_perfectMatching, out_eMark, out_vMark);
  /* skip box _ass1; array<#Integer> */
  /* skip box _ass2; array<#Integer> */
  if (out_perfectMatching) { *out_perfectMatching = mmc_mk_icon(_perfectMatching); }
  /* skip box _eMark; array<#Boolean> */
  /* skip box _vMark; array<#Boolean> */
  return _ass1;
}

DLLDirection
modelica_metatype omc_Matching_RegularMatching(threadData_t *threadData, modelica_metatype _m, modelica_integer _nVars, modelica_integer _nEqns, modelica_metatype *out_ass2, modelica_boolean *out_perfectMatching, modelica_metatype *out_eMark, modelica_metatype *out_vMark)
{
  modelica_metatype _ass1 = NULL;
  modelica_metatype _ass2 = NULL;
  modelica_boolean _perfectMatching;
  modelica_metatype _eMark = NULL;
  modelica_metatype _vMark = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _ass1 has no default value.
  // _ass2 has no default value.
  // _perfectMatching has no default value.
  // _eMark has no default value.
  // _vMark has no default value.
  _ass1 = arrayCreate(_nVars, mmc_mk_integer(((modelica_integer) -1)));

  _ass2 = arrayCreate(_nEqns, mmc_mk_integer(((modelica_integer) -1)));

  _ass1 = omc_Matching_ContinueMatching(threadData, _m, _nVars, _nEqns, _ass1, _ass2, 0 /* false */ ,&_ass2 ,&_perfectMatching ,&_eMark ,&_vMark);
  _return: OMC_LABEL_UNUSED
  if (out_ass2) { *out_ass2 = _ass2; }
  if (out_perfectMatching) { *out_perfectMatching = _perfectMatching; }
  if (out_eMark) { *out_eMark = _eMark; }
  if (out_vMark) { *out_vMark = _vMark; }
  return _ass1;
}
modelica_metatype boxptr_Matching_RegularMatching(threadData_t *threadData, modelica_metatype _m, modelica_metatype _nVars, modelica_metatype _nEqns, modelica_metatype *out_ass2, modelica_metatype *out_perfectMatching, modelica_metatype *out_eMark, modelica_metatype *out_vMark)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_boolean _perfectMatching;
  modelica_metatype _ass1 = NULL;
  tmp1 = mmc_unbox_integer(_nVars);
  tmp2 = mmc_unbox_integer(_nEqns);
  _ass1 = omc_Matching_RegularMatching(threadData, _m, tmp1, tmp2, out_ass2, &_perfectMatching, out_eMark, out_vMark);
  /* skip box _ass1; array<#Integer> */
  /* skip box _ass2; array<#Integer> */
  if (out_perfectMatching) { *out_perfectMatching = mmc_mk_icon(_perfectMatching); }
  /* skip box _eMark; array<#Boolean> */
  /* skip box _vMark; array<#Boolean> */
  return _ass1;
}

DLLDirection
modelica_metatype omc_Matching_PerfectMatching(threadData_t *threadData, modelica_metatype _m, modelica_metatype *out_ass2)
{
  modelica_metatype _ass1 = NULL;
  modelica_metatype _ass2 = NULL;
  modelica_integer _N;
  modelica_metatype tmpMeta1;
  modelica_boolean tmp2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _ass1 has no default value.
  // _ass2 has no default value.
  _N = arrayLength(_m);
  _ass1 = arrayCreate(_N, mmc_mk_integer(((modelica_integer) -1)));

  _ass2 = arrayCreate(_N, mmc_mk_integer(((modelica_integer) -1)));

  /* Pattern-matching tuple assignment */
  tmpMeta3 = omc_Matching_ContinueMatching(threadData, _m, _N, _N, _ass1, _ass2, 1 /* true */, &tmpMeta1, &tmp2, NULL, NULL);
  _ass1 = tmpMeta3;
  if (1 /* true */ != tmp2) MMC_THROW_INTERNAL();
  _ass2 = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_ass2) { *out_ass2 = _ass2; }
  return _ass1;
}

