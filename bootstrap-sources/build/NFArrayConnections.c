#include "omc_simulation_settings.h"
#include "NFArrayConnections.h"
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT0,1,3) {&NFType_INTEGER__desc,}};
#define _OMC_LIT0 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT0)
#define _OMC_LIT1_data "NFArrayConnections.transMulti got invalid intervals."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT1,52,_OMC_LIT1_data);
#define _OMC_LIT1 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/NFFrontEnd/NFArrayConnections.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,79,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT3_6,1.758197185e9);
#define _OMC_LIT3_6 MMC_REFREALLIT(_OMC_LIT_STRUCT3_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT2,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(753)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(753)),MMC_IMMEDIATE(MMC_TAGFIXNUM(92)),_OMC_LIT3_6}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT4,1,11) {&NFInstNode_InstNode_EMPTY__NODE__desc,}};
#define _OMC_LIT4 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT4)
#define _OMC_LIT5_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT5,0,_OMC_LIT5_data);
#define _OMC_LIT5 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT5)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT6,0.0);
#define _OMC_LIT6 MMC_REFREALLIT(_OMC_LIT_STRUCT6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT7,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT5,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT6}};
#define _OMC_LIT7 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT7)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT8,1,4) {&DAE_ComponentPrefix_NOCOMPPRE__desc,}};
#define _OMC_LIT8 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT8)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT9,8,3) {&DAE_ElementSource_SOURCE__desc,_OMC_LIT7,MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT8,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT9 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT9)
#define _OMC_LIT10_data "sum"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT10,3,_OMC_LIT10_data);
#define _OMC_LIT10 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT10)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT11,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT10}};
#define _OMC_LIT11 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT11)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT12,1,13) {&NFType_UNKNOWN__desc,}};
#define _OMC_LIT12 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT12)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT13,1,7) {&DAE_InlineType_NO__INLINE__desc,}};
#define _OMC_LIT13 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT13)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT14,3,4) {&DAE_FunctionBuiltin_FUNCTION__BUILTIN__desc,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT14 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,1,3) {&DAE_FunctionParallelism_FP__NON__PARALLEL__desc,}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT16,7,3) {&DAE_FunctionAttributes_FUNCTION__ATTRIBUTES__desc,_OMC_LIT13,MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT14,_OMC_LIT15}};
#define _OMC_LIT16 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT16)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT17,1,1) {MMC_IMMEDIATE(MMC_TAGFIXNUM(1))}};
#define _OMC_LIT17 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT17)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT18,1,1) {MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT18 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data "$"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,1,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data "NFArrayConnections.addConnectionsToGraph got unknown equation "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,62,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
#define _OMC_LIT21_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT21,1,_OMC_LIT21_data);
#define _OMC_LIT21 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT21)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT22_6,1.758197185e9);
#define _OMC_LIT22_6 MMC_REFREALLIT(_OMC_LIT_STRUCT22_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT22,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT2,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(238)),MMC_IMMEDIATE(MMC_TAGFIXNUM(13)),MMC_IMMEDIATE(MMC_TAGFIXNUM(239)),MMC_IMMEDIATE(MMC_TAGFIXNUM(79)),_OMC_LIT22_6}};
#define _OMC_LIT22 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT22)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT23,1,3) {&DAE_Prefix_NOPRE__desc,}};
#define _OMC_LIT23 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT23)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT24,1,11) {&DAE_Type_T__UNKNOWN__desc,}};
#define _OMC_LIT24 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT24)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT25,4,4) {&DAE_ComponentRef_CREF__IDENT__desc,_OMC_LIT5,_OMC_LIT24,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT25 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT25)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT26,2,0) {_OMC_LIT25,_OMC_LIT25}};
#define _OMC_LIT26 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT26)
#define _OMC_LIT27_data "dumpSetBasedGraphs"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT27,18,_OMC_LIT27_data);
#define _OMC_LIT27 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT27)
#define _OMC_LIT28_data "Dumps information about set based graphs for efficient array handling (only new frontend and new backend)."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT28,106,_OMC_LIT28_data);
#define _OMC_LIT28 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT28)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT29,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT28}};
#define _OMC_LIT29 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT29)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT30,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(189)),_OMC_LIT27,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT29}};
#define _OMC_LIT30 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT30)
#define _OMC_LIT31_data "SetVertex 1:	"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT31,13,_OMC_LIT31_data);
#define _OMC_LIT31 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT31)
#define _OMC_LIT32_data "\nSetVertex 2:	"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT32,14,_OMC_LIT32_data);
#define _OMC_LIT32 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT32)
#include "util/modelica.h"

#include "NFArrayConnections_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_transMulti(threadData_t *threadData, modelica_metatype _mi1, modelica_metatype _mi2, modelica_metatype _iterators, modelica_boolean _forFlow, modelica_boolean *out_flowRange);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFArrayConnections_transMulti(threadData_t *threadData, modelica_metatype _mi1, modelica_metatype _mi2, modelica_metatype _iterators, modelica_metatype _forFlow, modelica_metatype *out_flowRange);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_transMulti,2,0) {(void*) boxptr_NFArrayConnections_transMulti,0}};
#define boxvar_NFArrayConnections_transMulti MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_transMulti)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_getVars(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _sauxi, modelica_metatype _graph);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_getVars,2,0) {(void*) boxptr_NFArrayConnections_getVars,0}};
#define boxvar_NFArrayConnections_getVars MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_getVars)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_applyOffset(threadData_t *threadData, modelica_metatype _mi, modelica_metatype _off);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_applyOffset,2,0) {(void*) boxptr_NFArrayConnections_applyOffset,0}};
#define boxvar_NFArrayConnections_applyOffset MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_applyOffset)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_getOffset(threadData_t *threadData, modelica_metatype _mi, modelica_metatype _nmvTable);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_getOffset,2,0) {(void*) boxptr_NFArrayConnections_getOffset,0}};
#define boxvar_NFArrayConnections_getOffset MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_getOffset)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_getConnectors(threadData_t *threadData, modelica_metatype _flatModel, modelica_metatype *out_flowVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_getConnectors,2,0) {(void*) boxptr_NFArrayConnections_getConnectors,0}};
#define boxvar_NFArrayConnections_getConnectors MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_getConnectors)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generateForLoop(threadData_t *threadData, modelica_metatype _connects, modelica_metatype _iterators, modelica_metatype _ranges, modelica_metatype __omcQ_24in_5Fequations);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_generateForLoop,2,0) {(void*) boxptr_NFArrayConnections_generateForLoop,0}};
#define boxvar_NFArrayConnections_generateForLoop MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_generateForLoop)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generateConnector(threadData_t *threadData, modelica_metatype _cr, modelica_metatype _indices);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_generateConnector,2,0) {(void*) boxptr_NFArrayConnections_generateConnector,0}};
#define boxvar_NFArrayConnections_generateConnector MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_generateConnector)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generateFlowEquation(threadData_t *threadData, modelica_metatype _aset, modelica_metatype _dom, modelica_metatype _iterators, modelica_metatype _flowVars, modelica_metatype _graph, modelica_metatype _nmvTable, modelica_metatype __omcQ_24in_5Fequations);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_generateFlowEquation,2,0) {(void*) boxptr_NFArrayConnections_generateFlowEquation,0}};
#define boxvar_NFArrayConnections_generateFlowEquation MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_generateFlowEquation)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generatePotentialEquations2(threadData_t *threadData, modelica_metatype _vars1, modelica_metatype _vars2, modelica_metatype _inds1, modelica_metatype _inds2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_generatePotentialEquations2,2,0) {(void*) boxptr_NFArrayConnections_generatePotentialEquations2,0}};
#define boxvar_NFArrayConnections_generatePotentialEquations2 MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_generatePotentialEquations2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generatePotentialEquations(threadData_t *threadData, modelica_metatype _aset, modelica_metatype _dom, modelica_metatype _vars, modelica_metatype _iterators, modelica_metatype _iterExps, modelica_metatype _potVars, modelica_metatype _graph, modelica_metatype _nmvTable, modelica_metatype __omcQ_24in_5Fequations);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_generatePotentialEquations,2,0) {(void*) boxptr_NFArrayConnections_generatePotentialEquations,0}};
#define boxvar_NFArrayConnections_generatePotentialEquations MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_generatePotentialEquations)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_intervalToRange(threadData_t *threadData, modelica_metatype _interval);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_intervalToRange,2,0) {(void*) boxptr_NFArrayConnections_intervalToRange,0}};
#define boxvar_NFArrayConnections_intervalToRange MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_intervalToRange)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generateEquations(threadData_t *threadData, modelica_metatype _pw, modelica_metatype _flatModel, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_generateEquations,2,0) {(void*) boxptr_NFArrayConnections_generateEquations,0}};
#define boxvar_NFArrayConnections_generateEquations MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_generateEquations)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_createMaps(threadData_t *threadData, modelica_metatype _graph, modelica_metatype *out_emap1, modelica_metatype *out_emap2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_createMaps,2,0) {(void*) boxptr_NFArrayConnections_createMaps,0}};
#define boxvar_NFArrayConnections_createMaps MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_createMaps)
PROTECTED_FUNCTION_STATIC void omc_NFArrayConnections_updateGraph(threadData_t *threadData, modelica_integer _d1, modelica_integer _d2, modelica_metatype _mi1, modelica_metatype _mi2, modelica_metatype _graph, modelica_metatype _eCount);
PROTECTED_FUNCTION_STATIC void boxptr_NFArrayConnections_updateGraph(threadData_t *threadData, modelica_metatype _d1, modelica_metatype _d2, modelica_metatype _mi1, modelica_metatype _mi2, modelica_metatype _graph, modelica_metatype _eCount);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_updateGraph,2,0) {(void*) boxptr_NFArrayConnections_updateGraph,0}};
#define boxvar_NFArrayConnections_updateGraph MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_updateGraph)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_crefDims(threadData_t *threadData, modelica_metatype _cr);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_crefDims,2,0) {(void*) boxptr_NFArrayConnections_crefDims,0}};
#define boxvar_NFArrayConnections_crefDims MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_crefDims)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_createVertex(threadData_t *threadData, modelica_metatype _conn, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable, modelica_integer *out_d);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFArrayConnections_createVertex(threadData_t *threadData, modelica_metatype _conn, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable, modelica_metatype *out_d);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_createVertex,2,0) {(void*) boxptr_NFArrayConnections_createVertex,0}};
#define boxvar_NFArrayConnections_createVertex MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_createVertex)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_getConnectIntervals(threadData_t *threadData, modelica_metatype _conn, modelica_metatype _subs, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable, modelica_integer *out_d);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFArrayConnections_getConnectIntervals(threadData_t *threadData, modelica_metatype _conn, modelica_metatype _subs, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable, modelica_metatype *out_d);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_getConnectIntervals,2,0) {(void*) boxptr_NFArrayConnections_getConnectIntervals,0}};
#define boxvar_NFArrayConnections_getConnectIntervals MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_getConnectIntervals)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_separate(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_metatype *out_subs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_separate,2,0) {(void*) boxptr_NFArrayConnections_separate,0}};
#define boxvar_NFArrayConnections_separate MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_separate)
PROTECTED_FUNCTION_STATIC void omc_NFArrayConnections_createConnection(threadData_t *threadData, modelica_metatype _lhs, modelica_metatype _rhs, modelica_metatype _source, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _eCount, modelica_metatype _nmvTable);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_createConnection,2,0) {(void*) boxptr_NFArrayConnections_createConnection,0}};
#define boxvar_NFArrayConnections_createConnection MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_createConnection)
PROTECTED_FUNCTION_STATIC void omc_NFArrayConnections_addConnectionsToGraph(threadData_t *threadData, modelica_metatype _equations, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _eCount, modelica_metatype _nmvTable);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_addConnectionsToGraph,2,0) {(void*) boxptr_NFArrayConnections_addConnectionsToGraph,0}};
#define boxvar_NFArrayConnections_addConnectionsToGraph MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_addConnectionsToGraph)
PROTECTED_FUNCTION_STATIC void omc_NFArrayConnections_addFlowsToGraph(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_addFlowsToGraph,2,0) {(void*) boxptr_NFArrayConnections_addFlowsToGraph,0}};
#define boxvar_NFArrayConnections_addFlowsToGraph MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_addFlowsToGraph)
PROTECTED_FUNCTION_STATIC void omc_NFArrayConnections_createGraph(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _equations, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _eCount, modelica_metatype _nmvTable);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_createGraph,2,0) {(void*) boxptr_NFArrayConnections_createGraph,0}};
#define boxvar_NFArrayConnections_createGraph MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_createGraph)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_NFArrayConnections_isConnection(threadData_t *threadData, modelica_metatype _eq);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFArrayConnections_isConnection(threadData_t *threadData, modelica_metatype _eq);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_isConnection,2,0) {(void*) boxptr_NFArrayConnections_isConnection,0}};
#define boxvar_NFArrayConnections_isConnection MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_isConnection)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_collect(threadData_t *threadData, modelica_metatype __omcQ_24in_5FflatModel, modelica_metatype *out_conns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFArrayConnections_collect,2,0) {(void*) boxptr_NFArrayConnections_collect,0}};
#define boxvar_NFArrayConnections_collect MMC_REFSTRUCTLIT(boxvar_lit_NFArrayConnections_collect)

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_transMulti(threadData_t *threadData, modelica_metatype _mi1, modelica_metatype _mi2, modelica_metatype _iterators, modelica_boolean _forFlow, modelica_boolean *out_flowRange)
{
  modelica_metatype _outExpl = NULL;
  modelica_metatype tmpMeta1;
  modelica_boolean _flowRange;
  modelica_metatype _ints1 = NULL;
  modelica_metatype _ints2 = NULL;
  modelica_metatype _i1 = NULL;
  modelica_metatype _i2 = NULL;
  modelica_integer _i1_sz;
  modelica_integer _i2_sz;
  modelica_integer _m_int;
  modelica_integer _h_int;
  modelica_metatype _x = NULL;
  modelica_metatype _m = NULL;
  modelica_metatype _h = NULL;
  modelica_metatype _e = NULL;
  modelica_integer tmp2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_integer tmp11;
  modelica_integer tmp12;
  modelica_integer tmp13;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _outExpl = tmpMeta1;
  _flowRange = 0 /* false */;
  // _ints1 has no default value.
  // _ints2 has no default value.
  // _i1 has no default value.
  // _i2 has no default value.
  // _i1_sz has no default value.
  // _i2_sz has no default value.
  // _m_int has no default value.
  // _h_int has no default value.
  // _x has no default value.
  // _m has no default value.
  // _h has no default value.
  // _e has no default value.
  if((omc_SBMultiInterval_ndim(threadData, _mi1) != omc_SBMultiInterval_ndim(threadData, _mi2)))
  {
    goto _return;
  }

  _ints1 = omc_SBMultiInterval_intervals(threadData, _mi1);

  _ints2 = omc_SBMultiInterval_intervals(threadData, _mi2);

  tmp11 = ((modelica_integer) 1); tmp12 = 1; tmp13 = arrayLength(_ints1);
  if(!(((tmp12 > 0) && (tmp11 > tmp13)) || ((tmp12 < 0) && (tmp11 < tmp13))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp11, tmp13); _i += tmp12)
    {
      _i1 = arrayGet(_ints1,_i) /* DAE.ASUB */;

      _i2 = arrayGet(_ints2,_i) /* DAE.ASUB */;

      _i1_sz = omc_SBInterval_size(threadData, _i1);

      _i2_sz = omc_SBInterval_size(threadData, _i2);

      _x = omc_NFExpression_fromCref(threadData, omc_NFComponentRef_makeIterator(threadData, arrayGet(_iterators,_i) /* DAE.ASUB */, _OMC_LIT0), 0 /* false */);

      if((_i1_sz == _i2_sz))
      {
        tmp2 = omc_SBInterval_stepValue(threadData, _i1);
        if (tmp2 == 0) {MMC_THROW_INTERNAL();}
        _m_int = modelica_div_integer(omc_SBInterval_stepValue(threadData, _i2),tmp2).quot;

        tmpMeta3 = mmc_mk_box2(3, &NFExpression_INTEGER__desc, mmc_mk_integer(_m_int));
        _m = tmpMeta3;

        tmpMeta4 = mmc_mk_box2(3, &NFExpression_INTEGER__desc, mmc_mk_integer(omc_SBInterval_lowerBound(threadData, _i2) - ((_m_int) * (omc_SBInterval_lowerBound(threadData, _i1)))));
        _h = tmpMeta4;

        tmpMeta5 = mmc_mk_box4(19, &NFExpression_BINARY__desc, _m, omc_NFOperator_makeMul(threadData, _OMC_LIT0), _x);
        tmpMeta6 = mmc_mk_box4(19, &NFExpression_BINARY__desc, tmpMeta5, omc_NFOperator_makeAdd(threadData, _OMC_LIT0), _h);
        _e = tmpMeta6;

        tmpMeta7 = mmc_mk_cons(_e, _outExpl);
        _outExpl = tmpMeta7;
      }
      else
      {
        if(((_i2_sz == ((modelica_integer) 1)) && (!_forFlow)))
        {
          tmpMeta9 = mmc_mk_box2(3, &NFExpression_INTEGER__desc, mmc_mk_integer(omc_SBInterval_lowerBound(threadData, _i2)));
          tmpMeta8 = mmc_mk_cons(tmpMeta9, _outExpl);
          _outExpl = tmpMeta8;
        }
        else
        {
          if(((_i1_sz == ((modelica_integer) 1)) && _forFlow))
          {
            _e = omc_NFExpression_makeIntegerRange(threadData, omc_SBInterval_lowerBound(threadData, _i2), omc_SBInterval_stepValue(threadData, _i2), omc_SBInterval_upperBound(threadData, _i2));

            tmpMeta10 = mmc_mk_cons(_e, _outExpl);
            _outExpl = tmpMeta10;

            _flowRange = 1 /* true */;
          }
          else
          {
            omc_Error_assertion(threadData, 0 /* false */, _OMC_LIT1, _OMC_LIT3);
          }
        }
      }
    }
  }

  _outExpl = listReverseInPlace(_outExpl);
  _return: OMC_LABEL_UNUSED
  if (out_flowRange) { *out_flowRange = _flowRange; }
  return _outExpl;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFArrayConnections_transMulti(threadData_t *threadData, modelica_metatype _mi1, modelica_metatype _mi2, modelica_metatype _iterators, modelica_metatype _forFlow, modelica_metatype *out_flowRange)
{
  modelica_integer tmp1;
  modelica_boolean _flowRange;
  modelica_metatype _outExpl = NULL;
  modelica_metatype tmpMeta2;
  tmp1 = mmc_unbox_integer(_forFlow);
  _outExpl = omc_NFArrayConnections_transMulti(threadData, _mi1, _mi2, _iterators, tmp1, &_flowRange);
  /* skip box _outExpl; list<NFExpression> */
  if (out_flowRange) { *out_flowRange = mmc_mk_icon(_flowRange); }
  return _outExpl;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_getVars(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _sauxi, modelica_metatype _graph)
{
  modelica_metatype _res = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _vl = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _res = tmpMeta1;
  // _vl has no default value.
  _vl = omc_SBGraph_IncidenceList_vertices(threadData, _graph);

  {
    modelica_metatype _v;
    for (tmpMeta2 = _vl; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _v = MMC_CAR(tmpMeta2);
      if((!omc_SBSet_isEmpty(threadData, omc_SBSet_intersection(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 3))), _sauxi))))
      {
        {
          modelica_metatype _var;
          for (tmpMeta3 = _vars; !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
          {
            _var = MMC_CAR(tmpMeta3);
            if(omc_NFComponentRef_isPrefix(threadData, omc_NFConnector_name(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 2)))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)))))
            {
              tmpMeta4 = mmc_mk_cons((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), _res);
              _res = tmpMeta4;
            }
          }
        }
      }
    }
  }

  _res = listReverseInPlace(_res);
  _return: OMC_LABEL_UNUSED
  return _res;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_applyOffset(threadData_t *threadData, modelica_metatype _mi, modelica_metatype _off)
{
  modelica_metatype _outMI = NULL;
  modelica_metatype _ints = NULL;
  modelica_metatype _res = NULL;
  modelica_metatype _i = NULL;
  modelica_integer _o;
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outMI has no default value.
  // _ints has no default value.
  // _res has no default value.
  // _i has no default value.
  // _o has no default value.
  if(((omc_SBMultiInterval_ndim(threadData, _mi) != arrayLength(_off)) || (arrayLength(_off) == ((modelica_integer) 0))))
  {
    _outMI = omc_SBMultiInterval_newEmpty(threadData);
  }
  else
  {
    _ints = omc_SBMultiInterval_intervals(threadData, _mi);

    _res = arrayCreateNoInit(arrayLength(_ints), arrayGet(_ints,((modelica_integer) 1)) /* DAE.ASUB */);

    tmp1 = ((modelica_integer) 1); tmp2 = 1; tmp3 = arrayLength(_ints);
    if(!(((tmp2 > 0) && (tmp1 > tmp3)) || ((tmp2 < 0) && (tmp1 < tmp3))))
    {
      modelica_integer _j;
      for(_j = ((modelica_integer) 1); in_range_integer(_j, tmp1, tmp3); _j += tmp2)
      {
        _i = arrayGet(_ints,_j) /* DAE.ASUB */;

        _o = mmc_unbox_integer(arrayGet(_off,_j) /* DAE.ASUB */);

        arrayUpdate(_res,_j,omc_SBInterval_new(threadData, ((modelica_integer) 1) + omc_SBInterval_lowerBound(threadData, _i) - _o, omc_SBInterval_stepValue(threadData, _i), ((modelica_integer) 1) + omc_SBInterval_upperBound(threadData, _i) - _o));
      }
    }

    _outMI = omc_SBMultiInterval_fromArray(threadData, _res);
  }
  _return: OMC_LABEL_UNUSED
  return _outMI;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_getOffset(threadData_t *threadData, modelica_metatype _mi, modelica_metatype _nmvTable)
{
  modelica_metatype _res = NULL;
  modelica_metatype _i = NULL;
  modelica_metatype _aux = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _res has no default value.
  // _i has no default value.
  // _aux has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _res = listArray(tmpMeta1);

  {
    modelica_metatype _i;
    for (tmpMeta2 = omc_UnorderedMap_valueList(threadData, _nmvTable); !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _i = MMC_CAR(tmpMeta2);
      _aux = omc_SBMultiInterval_intersection(threadData, _mi, _i);

      if((!omc_SBMultiInterval_isEmpty(threadData, _aux)))
      {
        _res = omc_SBMultiInterval_minElem(threadData, _i);
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _res;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_getConnectors(threadData_t *threadData, modelica_metatype _flatModel, modelica_metatype *out_flowVars)
{
  modelica_metatype _effVars = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _flowVars = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _effVars = tmpMeta1;
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _flowVars = tmpMeta2;
  {
    modelica_metatype _v;
    for (tmpMeta3 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_flatModel), 3))); !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
    {
      _v = MMC_CAR(tmpMeta3);
      if(omc_NFVariable_isPotential(threadData, _v))
      {
        tmpMeta4 = mmc_mk_cons(_v, _effVars);
        _effVars = tmpMeta4;
      }
      else
      {
        if(omc_NFVariable_isFlow(threadData, _v))
        {
          tmpMeta5 = mmc_mk_cons(_v, _flowVars);
          _flowVars = tmpMeta5;
        }
      }
    }
  }

  _effVars = listReverseInPlace(_effVars);

  _flowVars = listReverseInPlace(_flowVars);
  _return: OMC_LABEL_UNUSED
  if (out_flowVars) { *out_flowVars = _flowVars; }
  return _effVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generateForLoop(threadData_t *threadData, modelica_metatype _connects, modelica_metatype _iterators, modelica_metatype _ranges, modelica_metatype __omcQ_24in_5Fequations)
{
  modelica_metatype _equations = NULL;
  modelica_metatype _body = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _equations = __omcQ_24in_5Fequations;
  _body = _connects;
  tmp3 = arrayLength(_iterators); tmp4 = ((modelica_integer) -1); tmp5 = ((modelica_integer) 1);
  if(!(((tmp4 > 0) && (tmp3 > tmp5)) || ((tmp4 < 0) && (tmp3 < tmp5))))
  {
    modelica_integer _i;
    for(_i = arrayLength(_iterators); in_range_integer(_i, tmp3, tmp5); _i += tmp4)
    {
      if(omc_NFExpression_isInteger(threadData, arrayGet(_ranges,_i) /* DAE.ASUB */))
      {
        _body = omc_NFEquation_replaceIteratorList(threadData, _body, arrayGet(_iterators,_i) /* DAE.ASUB */, arrayGet(_ranges,_i) /* DAE.ASUB */);
      }
      else
      {
        tmpMeta2 = mmc_mk_box6(6, &NFEquation_FOR__desc, arrayGet(_iterators,_i) /* DAE.ASUB */, mmc_mk_some(arrayGet(_ranges,_i) /* DAE.ASUB */), _body, _OMC_LIT4, _OMC_LIT9);
        tmpMeta1 = mmc_mk_cons(tmpMeta2, MMC_REFSTRUCTLIT(mmc_nil));
        _body = tmpMeta1;
      }
    }
  }

  _equations = omc_List_append__reverse(threadData, _body, _equations);
  _return: OMC_LABEL_UNUSED
  return _equations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generateConnector(threadData_t *threadData, modelica_metatype _cr, modelica_metatype _indices)
{
  modelica_metatype _outExp = NULL;
  modelica_metatype _subs = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _subs has no default value.
  _outExp = omc_NFExpression_fromCref(threadData, _cr, 0 /* false */);

  if(omc_NFType_isArray(threadData, omc_NFExpression_typeOf(threadData, _outExp)))
  {
    {
      modelica_metatype __omcQ_24tmpVar1;
      modelica_metatype* tmp2;
      modelica_metatype tmpMeta3;
      modelica_metatype __omcQ_24tmpVar0;
      modelica_integer tmp4;
      modelica_metatype _i_loopVar = 0;
      modelica_metatype _i;
      _i_loopVar = _indices;
      tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar1 = tmpMeta3; /* defaultValue */
      tmp2 = &__omcQ_24tmpVar1;
      while(1) {
        tmp4 = 1;
        if (!listEmpty(_i_loopVar)) {
          _i = MMC_CAR(_i_loopVar);
          _i_loopVar = MMC_CDR(_i_loopVar);
          tmp4--;
        }
        if (tmp4 == 0) {
          __omcQ_24tmpVar0 = omc_NFSubscript_fromTypedExp(threadData, _i);
          *tmp2 = mmc_mk_cons(__omcQ_24tmpVar0,0);
          tmp2 = &MMC_CDR(*tmp2);
        } else if (tmp4 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp2 = mmc_mk_nil();
      tmpMeta1 = __omcQ_24tmpVar1;
    }
    _subs = tmpMeta1;

    _subs = omc_List_firstN(threadData, _subs, omc_NFType_dimensionCount(threadData, omc_NFExpression_typeOf(threadData, _outExp)));

    _outExp = omc_NFExpression_applySubscripts(threadData, _subs, _outExp, 0 /* false */);
  }
  _return: OMC_LABEL_UNUSED
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generateFlowEquation(threadData_t *threadData, modelica_metatype _aset, modelica_metatype _dom, modelica_metatype _iterators, modelica_metatype _flowVars, modelica_metatype _graph, modelica_metatype _nmvTable, modelica_metatype __omcQ_24in_5Fequations)
{
  modelica_metatype _equations = NULL;
  modelica_metatype _mi = NULL;
  modelica_metatype _mi_range = NULL;
  modelica_metatype _mi_range2 = NULL;
  modelica_metatype _sauxi = NULL;
  modelica_metatype _inters = NULL;
  modelica_metatype _ranges = NULL;
  modelica_metatype _expl = NULL;
  modelica_metatype _inds = NULL;
  modelica_boolean _is_sum;
  modelica_metatype _vars = NULL;
  modelica_metatype _e = NULL;
  modelica_metatype _sum_exp = NULL;
  modelica_metatype _ty = NULL;
  modelica_metatype _eq = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_integer tmp17;
  modelica_integer tmp18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta20;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta22;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  modelica_metatype tmpMeta25;
  modelica_metatype tmpMeta26;
  modelica_metatype tmpMeta27;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _equations = __omcQ_24in_5Fequations;
  // _mi has no default value.
  // _mi_range has no default value.
  // _mi_range2 has no default value.
  // _sauxi has no default value.
  // _inters has no default value.
  // _ranges has no default value.
  // _expl has no default value.
  // _inds has no default value.
  // _is_sum has no default value.
  // _vars has no default value.
  // _e has no default value.
  // _sum_exp has no default value.
  // _ty has no default value.
  // _eq has no default value.
  _mi = omc_SBAtomicSet_aset(threadData, _aset);

  _mi_range = omc_NFArrayConnections_applyOffset(threadData, _mi, omc_NFArrayConnections_getOffset(threadData, _mi, _nmvTable));

  _inters = omc_SBMultiInterval_intervals(threadData, _mi_range);

  _ranges = omc_Array_map(threadData, _inters, boxvar_NFArrayConnections_intervalToRange);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _expl = tmpMeta1;

  {
    modelica_metatype _auxi;
    for (tmpMeta2 = omc_UnorderedSet_toArray(threadData, omc_SBSet_asets(threadData, _dom)), tmp18 = arrayLength(tmpMeta2), tmp17 = 1; tmp17 <= tmp18; tmp17++)
    {
      _auxi = arrayGet(tmpMeta2,tmp17);
      _mi = omc_SBAtomicSet_aset(threadData, _auxi);

      _mi_range2 = omc_NFArrayConnections_applyOffset(threadData, _mi, omc_NFArrayConnections_getOffset(threadData, _mi, _nmvTable));

      _inds = omc_NFArrayConnections_transMulti(threadData, _mi_range, _mi_range2, _iterators, 1 /* true */ ,&_is_sum);

      _sauxi = omc_SBSet_newEmpty(threadData);

      _sauxi = omc_SBSet_addAtomicSet(threadData, _auxi, _sauxi);

      _vars = omc_NFArrayConnections_getVars(threadData, _flowVars, _sauxi, _graph);

      {
        modelica_metatype _var;
        for (tmpMeta3 = _vars; !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
        {
          _var = MMC_CAR(tmpMeta3);
          _e = omc_NFArrayConnections_generateConnector(threadData, _var, _inds);

          if(_is_sum)
          {
            tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta11 = mmc_mk_box14(3, &NFFunction_Function_FUNCTION__desc, _OMC_LIT11, _OMC_LIT4, tmpMeta4, tmpMeta5, tmpMeta6, tmpMeta7, _OMC_LIT12, _OMC_LIT16, tmpMeta8, tmpMeta9, listArray(tmpMeta10), _OMC_LIT17, _OMC_LIT18);
            tmpMeta12 = mmc_mk_cons(_e, MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta13 = mmc_mk_box2(16, &NFExpression_CALL__desc, omc_NFCall_makeTypedCall(threadData, tmpMeta11, tmpMeta12, omc_NFExpression_variability(threadData, _e), 1, omc_NFType_arrayElementType(threadData, omc_NFExpression_typeOf(threadData, _e))));
            _e = tmpMeta13;
          }

          tmpMeta14 = mmc_mk_cons(_e, _expl);
          _expl = tmpMeta14;
        }
      }
    }
  }

  if((!listEmpty(_expl)))
  {
    /* Pattern-matching assignment */
    tmpMeta19 = _expl;
    if (listEmpty(tmpMeta19)) MMC_THROW_INTERNAL();
    tmpMeta20 = MMC_CAR(tmpMeta19);
    tmpMeta21 = MMC_CDR(tmpMeta19);
    _sum_exp = tmpMeta20;
    _expl = tmpMeta21;

    while(1)
    {
      if(!(!listEmpty(_expl))) break;
      /* Pattern-matching assignment */
      tmpMeta22 = _expl;
      if (listEmpty(tmpMeta22)) MMC_THROW_INTERNAL();
      tmpMeta23 = MMC_CAR(tmpMeta22);
      tmpMeta24 = MMC_CDR(tmpMeta22);
      _e = tmpMeta23;
      _expl = tmpMeta24;

      tmpMeta25 = mmc_mk_box4(19, &NFExpression_BINARY__desc, _e, omc_NFOperator_makeAdd(threadData, omc_NFExpression_typeOf(threadData, _e)), _sum_exp);
      _sum_exp = tmpMeta25;
    }

    _ty = omc_NFExpression_typeOf(threadData, _sum_exp);

    tmpMeta26 = mmc_mk_box6(3, &NFEquation_EQUALITY__desc, _sum_exp, omc_NFExpression_makeZero(threadData, _ty), _ty, _OMC_LIT4, _OMC_LIT9);
    _eq = tmpMeta26;

    tmpMeta27 = mmc_mk_cons(_eq, MMC_REFSTRUCTLIT(mmc_nil));
    _equations = omc_NFArrayConnections_generateForLoop(threadData, tmpMeta27, _iterators, _ranges, _equations);
  }
  _return: OMC_LABEL_UNUSED
  return _equations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generatePotentialEquations2(threadData_t *threadData, modelica_metatype _vars1, modelica_metatype _vars2, modelica_metatype _inds1, modelica_metatype _inds2)
{
  modelica_metatype _equations = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _l = NULL;
  modelica_metatype _r = NULL;
  modelica_metatype _ty = NULL;
  modelica_metatype _eq = NULL;
  modelica_metatype _src = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _equations = tmpMeta1;
  // _l has no default value.
  // _r has no default value.
  // _ty has no default value.
  // _eq has no default value.
  // _src has no default value.
  {
    modelica_metatype _var1;
    for (tmpMeta2 = _vars1; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _var1 = MMC_CAR(tmpMeta2);
      {
        modelica_metatype _var2;
        for (tmpMeta3 = _vars2; !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
        {
          _var2 = MMC_CAR(tmpMeta3);
          if(omc_NFType_isEqual(threadData, omc_NFComponentRef_nodeType(threadData, _var1), omc_NFComponentRef_nodeType(threadData, _var2)))
          {
            _l = omc_NFArrayConnections_generateConnector(threadData, _var1, _inds1);

            _r = omc_NFArrayConnections_generateConnector(threadData, _var2, _inds2);

            _ty = omc_NFExpression_typeOf(threadData, _l);

            if(omc_NFType_isArray(threadData, _ty))
            {
              tmpMeta4 = mmc_mk_box6(4, &NFEquation_ARRAY__EQUALITY__desc, _l, _r, _ty, _OMC_LIT4, _OMC_LIT9);
              _eq = tmpMeta4;
            }
            else
            {
              tmpMeta5 = mmc_mk_box6(3, &NFEquation_EQUALITY__desc, _l, _r, _ty, _OMC_LIT4, _OMC_LIT9);
              _eq = tmpMeta5;
            }

            tmpMeta6 = mmc_mk_cons(_eq, _equations);
            _equations = tmpMeta6;
          }
        }
      }
    }
  }

  _equations = listReverseInPlace(_equations);
  _return: OMC_LABEL_UNUSED
  return _equations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generatePotentialEquations(threadData_t *threadData, modelica_metatype _aset, modelica_metatype _dom, modelica_metatype _vars, modelica_metatype _iterators, modelica_metatype _iterExps, modelica_metatype _potVars, modelica_metatype _graph, modelica_metatype _nmvTable, modelica_metatype __omcQ_24in_5Fequations)
{
  modelica_metatype _equations = NULL;
  modelica_metatype _aux_s = NULL;
  modelica_metatype _sauxi = NULL;
  modelica_metatype _vc_domi = NULL;
  modelica_metatype _vc_domi_aux = NULL;
  modelica_metatype _mi = NULL;
  modelica_metatype _mi_range = NULL;
  modelica_metatype _aux_mi = NULL;
  modelica_metatype _inters = NULL;
  modelica_metatype _ranges = NULL;
  modelica_metatype _vars1 = NULL;
  modelica_metatype _vars2 = NULL;
  modelica_metatype _eql = NULL;
  modelica_metatype _inds = NULL;
  modelica_metatype _iter_expl = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _equations = __omcQ_24in_5Fequations;
  // _aux_s has no default value.
  // _sauxi has no default value.
  // _vc_domi has no default value.
  // _vc_domi_aux has no default value.
  // _mi has no default value.
  // _mi_range has no default value.
  // _aux_mi has no default value.
  // _inters has no default value.
  // _ranges has no default value.
  // _vars1 has no default value.
  // _vars2 has no default value.
  // _eql has no default value.
  // _inds has no default value.
  // _iter_expl has no default value.
  {
    modelica_metatype _auxi;
    for (tmpMeta1 = omc_UnorderedSet_toArray(threadData, omc_SBSet_asets(threadData, _dom)), tmp4 = arrayLength(tmpMeta1), tmp3 = 1; tmp3 <= tmp4; tmp3++)
    {
      _auxi = arrayGet(tmpMeta1,tmp3);
      _mi = omc_SBAtomicSet_aset(threadData, _auxi);

      _mi_range = omc_NFArrayConnections_applyOffset(threadData, _mi, omc_NFArrayConnections_getOffset(threadData, _mi, _nmvTable));

      _inters = omc_SBMultiInterval_intervals(threadData, _mi_range);

      _ranges = omc_Array_map(threadData, _inters, boxvar_NFArrayConnections_intervalToRange);

      _sauxi = omc_SBSet_newEmpty(threadData);

      _sauxi = omc_SBSet_addAtomicSet(threadData, _auxi, _sauxi);

      _vars1 = omc_NFArrayConnections_getVars(threadData, _potVars, _sauxi, _graph);

      _mi = omc_SBAtomicSet_aset(threadData, _aset);

      _aux_mi = omc_NFArrayConnections_applyOffset(threadData, _mi, omc_NFArrayConnections_getOffset(threadData, _mi, _nmvTable));

      _inds = omc_NFArrayConnections_transMulti(threadData, _mi_range, _aux_mi, _iterators, 0 /* false */, NULL);

      _eql = omc_NFArrayConnections_generatePotentialEquations2(threadData, _vars1, _vars, _iterExps, _inds);

      _equations = omc_NFArrayConnections_generateForLoop(threadData, _eql, _iterators, _ranges, _equations);
    }
  }
  _return: OMC_LABEL_UNUSED
  return _equations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_intervalToRange(threadData_t *threadData, modelica_metatype _interval)
{
  modelica_metatype _range = NULL;
  modelica_integer _lo;
  modelica_integer _hi;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _range has no default value.
  _lo = omc_SBInterval_lowerBound(threadData, _interval);
  _hi = omc_SBInterval_upperBound(threadData, _interval);
  if((_lo == _hi))
  {
    tmpMeta1 = mmc_mk_box2(3, &NFExpression_INTEGER__desc, mmc_mk_integer(_lo));
    _range = tmpMeta1;
  }
  else
  {
    _range = omc_NFExpression_makeIntegerRange(threadData, _lo, omc_SBInterval_stepValue(threadData, _interval), _hi);
  }
  _return: OMC_LABEL_UNUSED
  return _range;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_generateEquations(threadData_t *threadData, modelica_metatype _pw, modelica_metatype _flatModel, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable)
{
  modelica_metatype _equations = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _vc_dom = NULL;
  modelica_metatype _vc_im = NULL;
  modelica_metatype _aux_s = NULL;
  modelica_metatype _vc_domi = NULL;
  modelica_metatype _vc_domi_aux = NULL;
  modelica_metatype _iterators = NULL;
  modelica_metatype _pot_vars = NULL;
  modelica_metatype _flow_vars = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _iter_expl = NULL;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_integer tmp12;
  modelica_integer tmp13;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _equations = tmpMeta1;
  // _vc_dom has no default value.
  // _vc_im has no default value.
  // _aux_s has no default value.
  // _vc_domi has no default value.
  // _vc_domi_aux has no default value.
  // _iterators has no default value.
  // _pot_vars has no default value.
  // _flow_vars has no default value.
  // _vars has no default value.
  // _iter_expl has no default value.
  _vc_dom = omc_SBPWLinearMap_wholeDom(threadData, _pw);

  _vc_im = omc_SBPWLinearMap_image(threadData, _pw, _vc_dom);

  _iterators = arrayCreate(omc_Vector_size(threadData, _vCount), _OMC_LIT4);

  tmp2 = ((modelica_integer) 1); tmp3 = 1; tmp4 = arrayLength(_iterators);
  if(!(((tmp3 > 0) && (tmp2 > tmp4)) || ((tmp3 < 0) && (tmp2 < tmp4))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp2, tmp4); _i += tmp3)
    {
      arrayUpdate(_iterators,_i,omc_NFInstNode_InstNode_newUniqueIterator(threadData, _OMC_LIT7, _OMC_LIT0));
    }
  }

  {
    modelica_metatype __omcQ_24tmpVar3;
    modelica_metatype* tmp6;
    modelica_metatype tmpMeta7;
    modelica_metatype __omcQ_24tmpVar2;
    modelica_integer tmp8;
    modelica_metatype _i_loopVar = 0;
    modelica_integer tmp9;
    modelica_metatype _i;
    _i_loopVar = _iterators;
    tmp9 = 1;
    tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar3 = tmpMeta7; /* defaultValue */
    tmp6 = &__omcQ_24tmpVar3;
    while(1) {
      tmp8 = 1;
      if (tmp9 <= arrayLength(_i_loopVar)) {
        _i = arrayGet(_i_loopVar, tmp9++);
        tmp8--;
      }
      if (tmp8 == 0) {
        __omcQ_24tmpVar2 = omc_NFExpression_fromCref(threadData, omc_NFComponentRef_makeIterator(threadData, _i, _OMC_LIT0), 0 /* false */);
        *tmp6 = mmc_mk_cons(__omcQ_24tmpVar2,0);
        tmp6 = &MMC_CDR(*tmp6);
      } else if (tmp8 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp6 = mmc_mk_nil();
    tmpMeta5 = __omcQ_24tmpVar3;
  }
  _iter_expl = tmpMeta5;

  _pot_vars = omc_NFArrayConnections_getConnectors(threadData, _flatModel ,&_flow_vars);

  {
    modelica_metatype _aset;
    for (tmpMeta10 = omc_UnorderedSet_toArray(threadData, omc_SBSet_asets(threadData, _vc_im)), tmp13 = arrayLength(tmpMeta10), tmp12 = 1; tmp12 <= tmp13; tmp12++)
    {
      _aset = arrayGet(tmpMeta10,tmp12);
      _aux_s = omc_SBSet_newEmpty(threadData);

      _aux_s = omc_SBSet_addAtomicSet(threadData, _aset, _aux_s);

      _vc_domi = omc_SBPWLinearMap_preImage(threadData, _pw, _aux_s);

      _vc_domi_aux = omc_SBSet_complement(threadData, _vc_domi, _aux_s);

      _vars = omc_NFArrayConnections_getVars(threadData, _pot_vars, _aux_s, _graph);

      _equations = omc_NFArrayConnections_generatePotentialEquations(threadData, _aset, _vc_domi_aux, _vars, _iterators, _iter_expl, _pot_vars, _graph, _nmvTable, _equations);

      _equations = omc_NFArrayConnections_generateFlowEquation(threadData, _aset, _vc_domi, _iterators, _flow_vars, _graph, _nmvTable, _equations);
    }
  }

  _equations = listReverseInPlace(_equations);
  _return: OMC_LABEL_UNUSED
  return _equations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_createMaps(threadData_t *threadData, modelica_metatype _graph, modelica_metatype *out_emap1, modelica_metatype *out_emap2)
{
  modelica_metatype _vss = NULL;
  modelica_metatype _emap1 = NULL;
  modelica_metatype _emap2 = NULL;
  modelica_metatype _vs = NULL;
  modelica_metatype _es = NULL;
  modelica_metatype _e = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _vss has no default value.
  // _emap1 has no default value.
  // _emap2 has no default value.
  // _vs has no default value.
  // _es has no default value.
  // _e has no default value.
  _vss = omc_SBSet_newEmpty(threadData);

  {
    modelica_metatype _v;
    for (tmpMeta1 = omc_SBGraph_IncidenceList_vertices(threadData, _graph); !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _v = MMC_CAR(tmpMeta1);
      _vss = omc_SBSet_union(threadData, _vss, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 3))));
    }
  }

  _es = omc_SBGraph_IncidenceList_edges(threadData, _graph);

  if(listEmpty(_es))
  {
    _emap1 = omc_SBPWLinearMap_newEmpty(threadData);

    _emap2 = omc_SBPWLinearMap_newEmpty(threadData);
  }
  else
  {
    /* Pattern-matching assignment */
    tmpMeta3 = omc_SBGraph_IncidenceList_edges(threadData, _graph);
    if (listEmpty(tmpMeta3)) MMC_THROW_INTERNAL();
    tmpMeta4 = MMC_CAR(tmpMeta3);
    tmpMeta5 = MMC_CDR(tmpMeta3);
    _e = tmpMeta4;
    _es = tmpMeta5;

    _emap1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_e), 3)));

    _emap2 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_e), 4)));

    {
      modelica_metatype _e;
      for (tmpMeta6 = _es; !listEmpty(tmpMeta6); tmpMeta6=MMC_CDR(tmpMeta6))
      {
        _e = MMC_CAR(tmpMeta6);
        _emap1 = omc_SBPWLinearMap_combine(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_e), 3))), _emap1);

        _emap2 = omc_SBPWLinearMap_combine(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_e), 4))), _emap2);
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_emap1) { *out_emap1 = _emap1; }
  if (out_emap2) { *out_emap2 = _emap2; }
  return _vss;
}

PROTECTED_FUNCTION_STATIC void omc_NFArrayConnections_updateGraph(threadData_t *threadData, modelica_integer _d1, modelica_integer _d2, modelica_metatype _mi1, modelica_metatype _mi2, modelica_metatype _graph, modelica_metatype _eCount)
{
  modelica_metatype _pw1 = NULL;
  modelica_metatype _pw2 = NULL;
  modelica_string _name = NULL;
  modelica_metatype _se = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _pw1 has no default value.
  // _pw2 has no default value.
  // _name has no default value.
  // _se has no default value.
  _name = omc_NFSBGraphUtil_linearMapFromIntervals(threadData, _d1, _d2, _mi1, _mi2, _eCount ,&_pw1 ,&_pw2);

  tmpMeta1 = mmc_mk_box4(3, &NFArrayConnections_SetEdge_SET__EDGE__desc, _name, _pw1, _pw2);
  _se = tmpMeta1;

  omc_SBGraph_IncidenceList_addEdge(threadData, _graph, _d1, _d2, _se);
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_NFArrayConnections_updateGraph(threadData_t *threadData, modelica_metatype _d1, modelica_metatype _d2, modelica_metatype _mi1, modelica_metatype _mi2, modelica_metatype _graph, modelica_metatype _eCount)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  tmp1 = mmc_unbox_integer(_d1);
  tmp2 = mmc_unbox_integer(_d2);
  omc_NFArrayConnections_updateGraph(threadData, tmp1, tmp2, _mi1, _mi2, _graph, _eCount);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_crefDims(threadData_t *threadData, modelica_metatype _cr)
{
  modelica_metatype _dims = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _c = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _dims = tmpMeta1;
  _c = _cr;
  while(1)
  {
    if(!(!omc_NFComponentRef_isEmpty(threadData, _c))) break;
    _dims = listAppend(omc_NFType_arrayDims(threadData, omc_NFComponentRef_nodeType(threadData, _c)), _dims);

    _c = omc_NFComponentRef_rest(threadData, _c);
  }
  _return: OMC_LABEL_UNUSED
  return _dims;
}

static modelica_metatype closure0_NFArrayConnections_SetVertex_isNamed(threadData_t *thData, modelica_metatype closure, modelica_metatype v)
{
  modelica_metatype name = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFArrayConnections_SetVertex_isNamed(thData, v, name);
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_createVertex(threadData_t *threadData, modelica_metatype _conn, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable, modelica_integer *out_d)
{
  modelica_metatype _mi = NULL;
  modelica_integer _d;
  modelica_metatype _od = NULL;
  modelica_metatype _v = NULL;
  modelica_metatype _dims = NULL;
  modelica_metatype _s = NULL;
  modelica_string _name = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _mi has no default value.
  // _d has no default value.
  // _od has no default value.
  // _v has no default value.
  // _dims has no default value.
  // _s has no default value.
  // _name has no default value.
  tmpMeta1 = mmc_mk_box1(0, _conn);
  _od = omc_SBGraph_IncidenceList_findVertex(threadData, _graph, (modelica_fnptr) mmc_mk_box2(0,closure0_NFArrayConnections_SetVertex_isNamed,tmpMeta1));

  if(isSome(_od))
  {
    /* Pattern-matching assignment */
    tmpMeta2 = _od;
    if (optionNone(tmpMeta2)) MMC_THROW_INTERNAL();
    tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 1));
    tmp4 = mmc_unbox_integer(tmpMeta3);
    _d = tmp4  /* pattern as ty=Integer */;

    _v = omc_SBGraph_IncidenceList_getVertex(threadData, _graph, _d);

    _mi = omc_SBAtomicSet_aset(threadData, omc_UnorderedSet_first(threadData, omc_SBSet_asets(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 3))))));

    goto _return;
  }

  _dims = omc_NFArrayConnections_crefDims(threadData, omc_NFConnector_name(threadData, _conn));

  _mi = omc_NFSBGraphUtil_multiIntervalFromDimensions(threadData, _dims, _vCount);

  _s = omc_SBSet_newEmpty(threadData);

  _s = omc_SBSet_addAtomicSet(threadData, omc_SBAtomicSet_new(threadData, _mi), _s);

  tmpMeta5 = mmc_mk_box3(3, &NFArrayConnections_SetVertex_SET__VERTEX__desc, _conn, _s);
  _v = tmpMeta5;

  _d = omc_SBGraph_IncidenceList_addVertex(threadData, _graph, _v);

  tmpMeta6 = stringAppend(omc_NFConnector_toString(threadData, _conn),_OMC_LIT19);
  tmpMeta7 = stringAppend(tmpMeta6,omc_NFConnector_faceString(threadData, _conn));
  _name = tmpMeta7;

  omc_UnorderedMap_addUnique(threadData, _name, _mi, _nmvTable);
  _return: OMC_LABEL_UNUSED
  if (out_d) { *out_d = _d; }
  return _mi;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFArrayConnections_createVertex(threadData_t *threadData, modelica_metatype _conn, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable, modelica_metatype *out_d)
{
  modelica_integer _d;
  modelica_metatype _mi = NULL;
  _mi = omc_NFArrayConnections_createVertex(threadData, _conn, _graph, _vCount, _nmvTable, &_d);
  /* skip box _mi; SBMultiInterval */
  if (out_d) { *out_d = mmc_mk_icon(_d); }
  return _mi;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_getConnectIntervals(threadData_t *threadData, modelica_metatype _conn, modelica_metatype _subs, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable, modelica_integer *out_d)
{
  modelica_metatype _outMI = NULL;
  modelica_integer _d;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outMI has no default value.
  // _d has no default value.
  _outMI = omc_NFArrayConnections_createVertex(threadData, _conn, _graph, _vCount, _nmvTable ,&_d);

  _outMI = omc_NFSBGraphUtil_multiIntervalFromSubscripts(threadData, _subs, _vCount, _outMI);
  _return: OMC_LABEL_UNUSED
  if (out_d) { *out_d = _d; }
  return _outMI;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFArrayConnections_getConnectIntervals(threadData_t *threadData, modelica_metatype _conn, modelica_metatype _subs, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable, modelica_metatype *out_d)
{
  modelica_integer _d;
  modelica_metatype _outMI = NULL;
  _outMI = omc_NFArrayConnections_getConnectIntervals(threadData, _conn, _subs, _graph, _vCount, _nmvTable, &_d);
  /* skip box _outMI; SBMultiInterval */
  if (out_d) { *out_d = mmc_mk_icon(_d); }
  return _outMI;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_separate(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_metatype *out_subs)
{
  modelica_metatype _cref = NULL;
  modelica_metatype _subs = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cref = __omcQ_24in_5Fcref;
  // _subs has no default value.
  _cref = omc_NFComponentRef_fillSubscripts(threadData, _cref);

  _cref = omc_NFComponentRef_replaceWholeSubscripts(threadData, _cref);

  _subs = omc_NFComponentRef_subscriptsAllFlat(threadData, _cref);

  _cref = omc_NFComponentRef_stripSubscriptsAll(threadData, _cref);
  _return: OMC_LABEL_UNUSED
  if (out_subs) { *out_subs = _subs; }
  return _cref;
}

PROTECTED_FUNCTION_STATIC void omc_NFArrayConnections_createConnection(threadData_t *threadData, modelica_metatype _lhs, modelica_metatype _rhs, modelica_metatype _source, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _eCount, modelica_metatype _nmvTable)
{
  modelica_metatype _lhs_cr = NULL;
  modelica_metatype _rhs_cr = NULL;
  modelica_metatype _lhs_subs = NULL;
  modelica_metatype _rhs_subs = NULL;
  modelica_metatype _mi1 = NULL;
  modelica_metatype _mi2 = NULL;
  modelica_integer _d1;
  modelica_integer _d2;
  modelica_metatype _lhs_conns = NULL;
  modelica_metatype _rhs_conns = NULL;
  modelica_metatype _lhs_conn = NULL;
  modelica_metatype _rhs_conn = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _lhs_cr has no default value.
  // _rhs_cr has no default value.
  // _lhs_subs has no default value.
  // _rhs_subs has no default value.
  // _mi1 has no default value.
  // _mi2 has no default value.
  // _d1 has no default value.
  // _d2 has no default value.
  // _lhs_conns has no default value.
  // _rhs_conns has no default value.
  // _lhs_conn has no default value.
  // _rhs_conn has no default value.
  _lhs_cr = omc_NFArrayConnections_separate(threadData, omc_NFExpression_toCref(threadData, _lhs) ,&_lhs_subs);

  _rhs_cr = omc_NFArrayConnections_separate(threadData, omc_NFExpression_toCref(threadData, _rhs) ,&_rhs_subs);

  _lhs_conn = omc_NFConnector_fromCref(threadData, _lhs_cr, omc_NFComponentRef_nodeType(threadData, _lhs_cr), _source);

  _rhs_conn = omc_NFConnector_fromCref(threadData, _rhs_cr, omc_NFComponentRef_nodeType(threadData, _rhs_cr), _source);

  _mi1 = omc_NFArrayConnections_getConnectIntervals(threadData, _lhs_conn, _lhs_subs, _graph, _vCount, _nmvTable ,&_d1);

  _mi2 = omc_NFArrayConnections_getConnectIntervals(threadData, _rhs_conn, _rhs_subs, _graph, _vCount, _nmvTable ,&_d2);

  omc_NFArrayConnections_updateGraph(threadData, _d1, _d2, _mi1, _mi2, _graph, _eCount);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFArrayConnections_addConnectionsToGraph(threadData_t *threadData, modelica_metatype _equations, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _eCount, modelica_metatype _nmvTable)
{
  modelica_metatype _range = NULL;
  modelica_metatype _body = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta10;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _range has no default value.
  // _body has no default value.
  {
    modelica_metatype _eq;
    for (tmpMeta1 = _equations; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _eq = MMC_CAR(tmpMeta1);
      { /* match expression */
        modelica_metatype tmp4_1;
        tmp4_1 = _eq;
        {
          volatile mmc_switch_type tmp4;
          int tmp5;
          tmp4 = 0;
          for (; tmp4 < 3; tmp4++) {
            switch (MMC_SWITCH_CAST(tmp4)) {
            case 0: {
              if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,4) == 0) goto tmp3_end;
              
              /* Pattern matching succeeded */
              omc_NFArrayConnections_createConnection(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 5))), _graph, _vCount, _eCount, _nmvTable);
              goto tmp3_done;
            }
            case 1: {
              modelica_metatype tmpMeta6;
              modelica_metatype tmpMeta7;
              if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,5) == 0) goto tmp3_end;
              tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
              if (optionNone(tmpMeta6)) goto tmp3_end;
              tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
              
              _range = tmpMeta7;
              /* Pattern matching succeeded */
              _range = omc_NFCeval_evalExp(threadData, _range, omc_NFCeval_EvalTarget_new(threadData, omc_NFEquation_info(threadData, _eq), ((modelica_integer) 131072), mmc_mk_none()));

              _body = omc_NFEquation_replaceIteratorList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 2))), _range);

              omc_NFArrayConnections_addConnectionsToGraph(threadData, _body, _graph, _vCount, _eCount, _nmvTable);
              goto tmp3_done;
            }
            case 2: {
              modelica_metatype tmpMeta8;
              modelica_metatype tmpMeta9;
              
              /* Pattern matching succeeded */
              tmpMeta8 = stringAppend(_OMC_LIT20,omc_NFEquation_toString(threadData, _eq, _OMC_LIT5));
              tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT21);
              omc_Error_assertion(threadData, 0 /* false */, tmpMeta9, _OMC_LIT22);
              goto goto_2;
              goto tmp3_done;
            }
            }
            goto tmp3_end;
            tmp3_end: ;
          }
          goto goto_2;
          goto_2:;
          MMC_THROW_INTERNAL();
          goto tmp3_done;
          tmp3_done:;
        }
      }
      ;
    }
  }
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFArrayConnections_addFlowsToGraph(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _nmvTable)
{
  modelica_metatype _conn = NULL;
  modelica_metatype _parent_cr = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _conn has no default value.
  // _parent_cr has no default value.
  {
    modelica_metatype _var;
    for (tmpMeta1 = _variables; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _var = MMC_CAR(tmpMeta1);
      if(omc_NFVariable_isFlow(threadData, _var))
      {
        _parent_cr = omc_NFComponentRef_rest(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))));

        _conn = omc_NFConnector_fromFacedCref(threadData, _parent_cr, omc_NFComponentRef_nodeType(threadData, _parent_cr), 1, omc_ElementSource_createElementSource(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 10))), mmc_mk_none(), _OMC_LIT23, _OMC_LIT26));

        omc_NFArrayConnections_createVertex(threadData, _conn, _graph, _vCount, _nmvTable, NULL);
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC void omc_NFArrayConnections_createGraph(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _equations, modelica_metatype _graph, modelica_metatype _vCount, modelica_metatype _eCount, modelica_metatype _nmvTable)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  omc_NFArrayConnections_addFlowsToGraph(threadData, _variables, _graph, _vCount, _nmvTable);

  omc_NFArrayConnections_addConnectionsToGraph(threadData, _equations, _graph, _vCount, _eCount, _nmvTable);
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_NFArrayConnections_isConnection(threadData_t *threadData, modelica_metatype _eq)
{
  modelica_boolean _isConn;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isConn has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _eq;
    {
      modelica_metatype _e = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _e has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (listEmpty(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmpMeta6);
          tmpMeta8 = MMC_CDR(tmpMeta6);
          
          _e = tmpMeta7;
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _eq = _e;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isConn = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isConn;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NFArrayConnections_isConnection(threadData_t *threadData, modelica_metatype _eq)
{
  modelica_boolean _isConn;
  modelica_metatype out_isConn;
  _isConn = omc_NFArrayConnections_isConnection(threadData, _eq);
  out_isConn = mmc_mk_icon(_isConn);
  return out_isConn;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFArrayConnections_collect(threadData_t *threadData, modelica_metatype __omcQ_24in_5FflatModel, modelica_metatype *out_conns)
{
  modelica_metatype _flatModel = NULL;
  modelica_metatype _conns = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _eql = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _flatModel = __omcQ_24in_5FflatModel;
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _conns = tmpMeta1;
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _eql = tmpMeta2;
  _conns = omc_List_splitOnTrue(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_flatModel), 4))), boxvar_NFArrayConnections_isConnection ,&_eql);

  tmpMeta3 = MMC_TAGPTR(mmc_alloc_words(9));
  memcpy(MMC_UNTAGPTR(tmpMeta3), MMC_UNTAGPTR(_flatModel), 9*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta3))[4] = _eql;
  _flatModel = tmpMeta3;
  _return: OMC_LABEL_UNUSED
  if (out_conns) { *out_conns = _conns; }
  return _flatModel;
}

DLLDirection
modelica_metatype omc_NFArrayConnections_resolve(threadData_t *threadData, modelica_metatype __omcQ_24in_5FflatModel)
{
  modelica_metatype _flatModel = NULL;
  modelica_integer _max_dim;
  modelica_metatype _v_count = NULL;
  modelica_metatype _e_count = NULL;
  modelica_metatype _conns = NULL;
  modelica_metatype _eql = NULL;
  modelica_metatype _graph = NULL;
  modelica_metatype _vss = NULL;
  modelica_metatype _res = NULL;
  modelica_metatype _emap1 = NULL;
  modelica_metatype _emap2 = NULL;
  modelica_metatype _nmv_table = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _flatModel = __omcQ_24in_5FflatModel;
  _max_dim = ((modelica_integer) 1);
  // _v_count has no default value.
  // _e_count has no default value.
  // _conns has no default value.
  // _eql has no default value.
  // _graph has no default value.
  // _vss has no default value.
  // _res has no default value.
  // _emap1 has no default value.
  // _emap2 has no default value.
  // _nmv_table has no default value.
  {
    modelica_metatype _var;
    for (tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_flatModel), 3))); !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _var = MMC_CAR(tmpMeta1);
      _max_dim = modelica_integer_max((modelica_integer)(_max_dim),(modelica_integer)(omc_NFType_dimensionCount(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 3))))));
    }
  }

  _v_count = omc_Vector_newFill(threadData, _max_dim, mmc_mk_integer(((modelica_integer) 1)));

  _e_count = omc_Vector_newFill(threadData, _max_dim, mmc_mk_integer(((modelica_integer) 1)));

  _flatModel = omc_NFArrayConnections_collect(threadData, _flatModel ,&_conns);

  _graph = omc_SBGraph_IncidenceList_new(threadData, boxvar_NFArrayConnections_SetVertex_isEqual, boxvar_NFArrayConnections_SetEdge_isEqual, boxvar_NFArrayConnections_SetVertex_toString, boxvar_NFArrayConnections_SetEdge_toString);

  _nmv_table = omc_UnorderedMap_new(threadData, boxvar_stringHashDjb2, boxvar_stringEq, ((modelica_integer) 1));

  omc_NFArrayConnections_createGraph(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_flatModel), 3))), _conns, _graph, _v_count, _e_count, _nmv_table);

  if(omc_Flags_isSet(threadData, _OMC_LIT30))
  {
    fputs(MMC_STRINGDATA(omc_SBGraph_IncidenceList_toString(threadData, _graph)),stdout);
  }

  _vss = omc_NFArrayConnections_createMaps(threadData, _graph ,&_emap1 ,&_emap2);

  _res = omc_SBFunctions_connectedComponents(threadData, _vss, _emap1, _emap2);

  if(omc_Flags_isSet(threadData, _OMC_LIT30))
  {
    fputs(MMC_STRINGDATA(omc_SBGraph_IncidenceList_toString(threadData, _graph)),stdout);
  }

  _conns = omc_NFArrayConnections_generateEquations(threadData, _res, _flatModel, _graph, _v_count, _nmv_table);

  _eql = listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_flatModel), 4))), _conns);

  tmpMeta3 = MMC_TAGPTR(mmc_alloc_words(9));
  memcpy(MMC_UNTAGPTR(tmpMeta3), MMC_UNTAGPTR(_flatModel), 9*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta3))[4] = _eql;
  _flatModel = tmpMeta3;
  _return: OMC_LABEL_UNUSED
  return _flatModel;
}

DLLDirection
modelica_string omc_NFArrayConnections_SetEdge_toString(threadData_t *threadData, modelica_metatype _e)
{
  modelica_string _str = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = stringAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_e), 2))),_OMC_LIT21);
  tmpMeta2 = stringAppend(tmpMeta1,_OMC_LIT31);
  tmpMeta3 = stringAppend(tmpMeta2,omc_SBPWLinearMap_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_e), 3)))));
  tmpMeta4 = stringAppend(tmpMeta3,_OMC_LIT32);
  tmpMeta5 = stringAppend(tmpMeta4,omc_SBPWLinearMap_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_e), 4)))));
  tmpMeta6 = stringAppend(tmpMeta5,_OMC_LIT21);
  _str = tmpMeta6;
  _return: OMC_LABEL_UNUSED
  return _str;
}

DLLDirection
modelica_boolean omc_NFArrayConnections_SetEdge_isEqual(threadData_t *threadData, modelica_metatype _e1, modelica_metatype _e2)
{
  modelica_boolean _equal;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _equal = (stringEqual((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_e1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_e2), 2)))));
  _return: OMC_LABEL_UNUSED
  return _equal;
}
modelica_metatype boxptr_NFArrayConnections_SetEdge_isEqual(threadData_t *threadData, modelica_metatype _e1, modelica_metatype _e2)
{
  modelica_boolean _equal;
  modelica_metatype out_equal;
  _equal = omc_NFArrayConnections_SetEdge_isEqual(threadData, _e1, _e2);
  out_equal = mmc_mk_icon(_equal);
  return out_equal;
}

DLLDirection
modelica_string omc_NFArrayConnections_SetVertex_toString(threadData_t *threadData, modelica_metatype _v)
{
  modelica_string _str = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = stringAppend(omc_NFConnector_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 2)))),_OMC_LIT21);
  tmpMeta2 = stringAppend(tmpMeta1,omc_SBSet_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 3)))));
  tmpMeta3 = stringAppend(tmpMeta2,_OMC_LIT21);
  _str = tmpMeta3;
  _return: OMC_LABEL_UNUSED
  return _str;
}

DLLDirection
modelica_boolean omc_NFArrayConnections_SetVertex_isNamed(threadData_t *threadData, modelica_metatype _v, modelica_metatype _name)
{
  modelica_boolean _equal;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _equal = omc_NFConnector_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 2))), _name);
  _return: OMC_LABEL_UNUSED
  return _equal;
}
modelica_metatype boxptr_NFArrayConnections_SetVertex_isNamed(threadData_t *threadData, modelica_metatype _v, modelica_metatype _name)
{
  modelica_boolean _equal;
  modelica_metatype out_equal;
  _equal = omc_NFArrayConnections_SetVertex_isNamed(threadData, _v, _name);
  out_equal = mmc_mk_icon(_equal);
  return out_equal;
}

DLLDirection
modelica_boolean omc_NFArrayConnections_SetVertex_isEqual(threadData_t *threadData, modelica_metatype _v1, modelica_metatype _v2)
{
  modelica_boolean _equal;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _equal = omc_NFConnector_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v2), 2))));
  _return: OMC_LABEL_UNUSED
  return _equal;
}
modelica_metatype boxptr_NFArrayConnections_SetVertex_isEqual(threadData_t *threadData, modelica_metatype _v1, modelica_metatype _v2)
{
  modelica_boolean _equal;
  modelica_metatype out_equal;
  _equal = omc_NFArrayConnections_SetVertex_isEqual(threadData, _v1, _v2);
  out_equal = mmc_mk_icon(_equal);
  return out_equal;
}

