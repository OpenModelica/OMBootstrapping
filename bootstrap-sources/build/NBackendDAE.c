#include "omc_simulation_settings.h"
#include "NBackendDAE.h"
#define _OMC_LIT0_data "[failtrace] the equation:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT0,26,_OMC_LIT0_data);
#define _OMC_LIT0 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT0)
#define _OMC_LIT1_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT1,0,_OMC_LIT1_data);
#define _OMC_LIT1 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,1,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
#define _OMC_LIT3_data "[failtrace] has following non-lowered component references: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT3,60,_OMC_LIT3_data);
#define _OMC_LIT3 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT3)
#define _OMC_LIT4_data "{"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT4,1,_OMC_LIT4_data);
#define _OMC_LIT4 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT4)
#define _OMC_LIT5_data ", "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT5,2,_OMC_LIT5_data);
#define _OMC_LIT5 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT5)
#define _OMC_LIT6_data "}"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT6,1,_OMC_LIT6_data);
#define _OMC_LIT6 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT6)
#define _OMC_LIT7_data "[failtrace] the variable:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT7,26,_OMC_LIT7_data);
#define _OMC_LIT7 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT7)
#define _OMC_LIT8_data "[debugFollowEquations]: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT8,24,_OMC_LIT8_data);
#define _OMC_LIT8 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT8)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT9,13,3) {&NBStrongComponent_CountCollector_COUNT__COLLECTOR__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT9 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT9)
#define _OMC_LIT10_data " (scalar:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT10,9,_OMC_LIT10_data);
#define _OMC_LIT10 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data ", array:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,8,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
#define _OMC_LIT12_data ", record:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT12,9,_OMC_LIT12_data);
#define _OMC_LIT12 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data ")"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,1,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
#define _OMC_LIT14_data " (algorithm:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT14,12,_OMC_LIT14_data);
#define _OMC_LIT14 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT14)
#define _OMC_LIT15_data ", when:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT15,7,_OMC_LIT15_data);
#define _OMC_LIT15 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data ", if:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,5,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
#define _OMC_LIT17_data ", tuple:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT17,8,_OMC_LIT17_data);
#define _OMC_LIT17 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT17)
#define _OMC_LIT18_data " (resizable: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT18,13,_OMC_LIT18_data);
#define _OMC_LIT18 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data ", generic: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,11,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data ", entwined:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,11,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
#define _OMC_LIT21_data " (linear: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT21,10,_OMC_LIT21_data);
#define _OMC_LIT21 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data ", nonlinear:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,12,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
#define _OMC_LIT23_data "["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT23,1,_OMC_LIT23_data);
#define _OMC_LIT23 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT23)
#define _OMC_LIT24_data "] Strong Component statistics after passing the back-end:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT24,58,_OMC_LIT24_data);
#define _OMC_LIT24 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT24)
#define _OMC_LIT25_data " * Number of single strong components: ........... "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT25,51,_OMC_LIT25_data);
#define _OMC_LIT25 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data " * Number of multi strong components: ............ "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,51,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
#define _OMC_LIT27_data " * Number of for-loop strong components: ......... "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT27,51,_OMC_LIT27_data);
#define _OMC_LIT27 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT27)
#define _OMC_LIT28_data " * Number of algebraic-loop strong components: ... "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT28,51,_OMC_LIT28_data);
#define _OMC_LIT28 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT28)
#define _OMC_LIT29_data "0"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT29,1,_OMC_LIT29_data);
#define _OMC_LIT29 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data " ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,2,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
#define _OMC_LIT31_data " ('-d=stateselection' for the list of states)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT31,45,_OMC_LIT31_data);
#define _OMC_LIT31 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT31)
#define _OMC_LIT32_data " "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT32,1,_OMC_LIT32_data);
#define _OMC_LIT32 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT32)
#define _OMC_LIT33_data "stateselection"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT33,14,_OMC_LIT33_data);
#define _OMC_LIT33 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT33)
#define _OMC_LIT34_data "Enables dumping of selected states. Extends -d=backenddaeinfo."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT34,62,_OMC_LIT34_data);
#define _OMC_LIT34 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT34)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT35,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT34}};
#define _OMC_LIT35 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT35)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT36,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(70)),_OMC_LIT33,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT35}};
#define _OMC_LIT36 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT36)
#define _OMC_LIT37_data " ('-d=discreteinfo' for the list of discrete variables)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT37,55,_OMC_LIT37_data);
#define _OMC_LIT37 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT37)
#define _OMC_LIT38_data " ('-d=discreteinfo' for the list of clocks variables)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT38,53,_OMC_LIT38_data);
#define _OMC_LIT38 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT38)
#define _OMC_LIT39_data " ('-d=discreteinfo' for the list of top level inputs)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT39,53,_OMC_LIT39_data);
#define _OMC_LIT39 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT39)
#define _OMC_LIT40_data "discreteinfo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT40,12,_OMC_LIT40_data);
#define _OMC_LIT40 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT40)
#define _OMC_LIT41_data "Enables dumping of discrete variables. Extends -d=backenddaeinfo."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT41,65,_OMC_LIT41_data);
#define _OMC_LIT41 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT41)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT42,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT41}};
#define _OMC_LIT42 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT42)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT43,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(91)),_OMC_LIT40,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT42}};
#define _OMC_LIT43 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT43)
#define _OMC_LIT44_data " ('-d=discreteinfo' or '-d=stateselection' for the list of discrete states)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT44,75,_OMC_LIT44_data);
#define _OMC_LIT44 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT44)
#define _OMC_LIT45_data " ('-d=discreteinfo' or '-d=stateselection' for the list of clocked states)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT45,74,_OMC_LIT45_data);
#define _OMC_LIT45 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT45)
#define _OMC_LIT46_data "Partition statistics after passing the back-end:\n * Number of ODE partitions: ..................... "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT46,100,_OMC_LIT46_data);
#define _OMC_LIT46 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT46)
#define _OMC_LIT47_data " * Number of algebraic partitions: ............... "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT47,51,_OMC_LIT47_data);
#define _OMC_LIT47 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT47)
#define _OMC_LIT48_data " * Number of ODE event partitions: ............... "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT48,51,_OMC_LIT48_data);
#define _OMC_LIT48 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT48)
#define _OMC_LIT49_data " * Number of algebraic event partitions: ......... "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT49,51,_OMC_LIT49_data);
#define _OMC_LIT49 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT49)
#define _OMC_LIT50_data " * Number of clocked partitions: ................. "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT50,51,_OMC_LIT50_data);
#define _OMC_LIT50 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT50)
#define _OMC_LIT51_data " * Number of initial partitions: ................. "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT51,51,_OMC_LIT51_data);
#define _OMC_LIT51 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data " * Number of initial(lambda=0) partitions: ....... "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,51,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
#define _OMC_LIT53_data "Variable statistics after passing the back-end:\n * Number of states: ............................. "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT53,99,_OMC_LIT53_data);
#define _OMC_LIT53 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT53)
#define _OMC_LIT54_data " * Number of discrete states: .................... "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT54,51,_OMC_LIT54_data);
#define _OMC_LIT54 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT54)
#define _OMC_LIT55_data " * Number of clocked states: ..................... "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT55,51,_OMC_LIT55_data);
#define _OMC_LIT55 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT55)
#define _OMC_LIT56_data " * Number of discrete variables: ................. "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT56,51,_OMC_LIT56_data);
#define _OMC_LIT56 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT56)
#define _OMC_LIT57_data " * Number of clocks: ............................. "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT57,51,_OMC_LIT57_data);
#define _OMC_LIT57 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT57)
#define _OMC_LIT58_data " * Number of top-level inputs: ................... "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT58,51,_OMC_LIT58_data);
#define _OMC_LIT58 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT58)
#define _OMC_LIT59_data "Simulation"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT59,10,_OMC_LIT59_data);
#define _OMC_LIT59 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT59)
#define _OMC_LIT60_data "Initialization"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT60,14,_OMC_LIT60_data);
#define _OMC_LIT60 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT60)
#define _OMC_LIT61_data "Initialization (lambda=0)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT61,25,_OMC_LIT61_data);
#define _OMC_LIT61 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT61)
#define _OMC_LIT62_data "backenddaeinfo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT62,14,_OMC_LIT62_data);
#define _OMC_LIT62 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT62)
#define _OMC_LIT63_data "Enables dumping of back-end information about system (Number of equations before back-end,...)."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT63,95,_OMC_LIT63_data);
#define _OMC_LIT63 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT63)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT64,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT63}};
#define _OMC_LIT64 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT64)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT65,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(68)),_OMC_LIT62,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT64}};
#define _OMC_LIT65 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT65)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT66,1,3) {&NFType_INTEGER__desc,}};
#define _OMC_LIT66 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT66)
#define _OMC_LIT67_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/NBackEnd/Classes/NBackendDAE.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT67,78,_OMC_LIT67_data);
#define _OMC_LIT67 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT67)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT68_6,1.758197185e9);
#define _OMC_LIT68_6 MMC_REFREALLIT(_OMC_LIT_STRUCT68_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT68,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT67,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1481)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1481)),MMC_IMMEDIATE(MMC_TAGFIXNUM(109)),_OMC_LIT68_6}};
#define _OMC_LIT68 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT68)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT69,1,1) {_OMC_LIT68}};
#define _OMC_LIT69 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT69)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT70,1,5) {&ErrorTypes_MessageType_TRANSLATION__desc,}};
#define _OMC_LIT70 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT70)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT71,1,4) {&ErrorTypes_Severity_ERROR__desc,}};
#define _OMC_LIT71 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT71)
#define _OMC_LIT72_data "Internal error %s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT72,17,_OMC_LIT72_data);
#define _OMC_LIT72 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT72)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT73,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT72}};
#define _OMC_LIT73 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT73)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT74,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(63)),_OMC_LIT70,_OMC_LIT71,_OMC_LIT73}};
#define _OMC_LIT74 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT74)
#define _OMC_LIT75_data "NBackendDAE.collectIterators failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT75,40,_OMC_LIT75_data);
#define _OMC_LIT75 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT75)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT76_6,1.758197185e9);
#define _OMC_LIT76_6 MMC_REFREALLIT(_OMC_LIT_STRUCT76_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT76,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT67,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1399)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1399)),MMC_IMMEDIATE(MMC_TAGFIXNUM(143)),_OMC_LIT76_6}};
#define _OMC_LIT76 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT76)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT77,1,1) {_OMC_LIT76}};
#define _OMC_LIT77 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT77)
#define _OMC_LIT78_data "NBackendDAE.lowerComponentReference failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT78,47,_OMC_LIT78_data);
#define _OMC_LIT78 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT78)
#define _OMC_LIT79_data "failtrace"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT79,9,_OMC_LIT79_data);
#define _OMC_LIT79 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT79)
#define _OMC_LIT80_data "Sets whether to print a failtrace or not."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT80,41,_OMC_LIT80_data);
#define _OMC_LIT80 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT80)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT81,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT80}};
#define _OMC_LIT81 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT81)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT82,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT79,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT81}};
#define _OMC_LIT82 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT82)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT83,1,1) {MMC_IMMEDIATE(MMC_TAGFIXNUM(-1))}};
#define _OMC_LIT83 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT83)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT84,1,3) {&DAE_Expand_EXPAND__desc,}};
#define _OMC_LIT84 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT84)
#define _OMC_LIT85_data "NBackendDAE.lowerWhenBranchStatement for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT85,41,_OMC_LIT85_data);
#define _OMC_LIT85 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT85)
#define _OMC_LIT86_data "NBackendDAE.lowerWhenBranch failed for invalid branch that should not exist outside of frontend."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT86,96,_OMC_LIT86_data);
#define _OMC_LIT86 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT86)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT87,2,1) {_OMC_LIT86,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT87 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT87)
#define _OMC_LIT88_data "NBackendDAE.lowerWhenBranch failed without proper error message."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT88,64,_OMC_LIT88_data);
#define _OMC_LIT88 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT88)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT89,2,1) {_OMC_LIT88,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT89 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT89)
#define _OMC_LIT90_data "NBackendDAE.lowerWhenEquationBody failed."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT90,41,_OMC_LIT90_data);
#define _OMC_LIT90 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT90)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT91,2,1) {_OMC_LIT90,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT91 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT91)
#define _OMC_LIT92_data "NBackendDAE.lowerWhenEquation failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT92,41,_OMC_LIT92_data);
#define _OMC_LIT92 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT92)
#define _OMC_LIT93_data "NBackendDAE.lowerIfBranch failed for invalid branch that should not exist outside of frontend."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT93,94,_OMC_LIT93_data);
#define _OMC_LIT93 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT93)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT94,2,1) {_OMC_LIT93,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT94 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT94)
#define _OMC_LIT95_data "NBackendDAE.lowerIfBranch failed without proper error message."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT95,62,_OMC_LIT95_data);
#define _OMC_LIT95 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT95)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT96,2,1) {_OMC_LIT95,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT96 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT96)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT97,1,18) {&NFExpression_END__desc,}};
#define _OMC_LIT97 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT97)
#define _OMC_LIT98_data "NBackendDAE.lowerIfEquationBody failed due to invalid missing else case."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT98,72,_OMC_LIT98_data);
#define _OMC_LIT98 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT98)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT99,2,1) {_OMC_LIT98,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT99 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT99)
#define _OMC_LIT100_data "NBackendDAE.lowerIfEquation failed for:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT100,40,_OMC_LIT100_data);
#define _OMC_LIT100 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT100)
#define _OMC_LIT101_data "NBackendDAE.lowerIfEquation failed for\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT101,39,_OMC_LIT101_data);
#define _OMC_LIT101 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT101)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT102,1,5) {&ErrorTypes_Severity_WARNING__desc,}};
#define _OMC_LIT102 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT102)
#define _OMC_LIT103_data "%s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT103,2,_OMC_LIT103_data);
#define _OMC_LIT103 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT103)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT104,2,4) {&Gettext_TranslatableContent_notrans__desc,_OMC_LIT103}};
#define _OMC_LIT104 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT104)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT105,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(6000)),_OMC_LIT70,_OMC_LIT102,_OMC_LIT104}};
#define _OMC_LIT105 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT105)
#define _OMC_LIT106_data "NBackendDAE.lowerEquation: Empty for-equation got removed:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT106,59,_OMC_LIT106_data);
#define _OMC_LIT106 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT106)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT107,1,11) {&NFInstNode_InstNode_EMPTY__NODE__desc,}};
#define _OMC_LIT107 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT107)
#define _OMC_LIT108_data "NBackendDAE.lowerEquation failed for TERMINATE expression without condition:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT108,77,_OMC_LIT108_data);
#define _OMC_LIT108 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT108)
#define _OMC_LIT109_data "NBackendDAE.lowerEquation failed for REINIT expression without condition:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT109,74,_OMC_LIT109_data);
#define _OMC_LIT109 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT109)
#define _OMC_LIT110_data "NBackendDAE.lowerEquation failed for\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT110,37,_OMC_LIT110_data);
#define _OMC_LIT110 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT110)
#define _OMC_LIT111_data "SIM"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT111,3,_OMC_LIT111_data);
#define _OMC_LIT111 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT111)
#define _OMC_LIT112_data "$i"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT112,2,_OMC_LIT112_data);
#define _OMC_LIT112 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT112)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT113_6,1.758197185e9);
#define _OMC_LIT113_6 MMC_REFREALLIT(_OMC_LIT_STRUCT113_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT113,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT67,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(847)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(847)),MMC_IMMEDIATE(MMC_TAGFIXNUM(164)),_OMC_LIT113_6}};
#define _OMC_LIT113 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT113)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT114,1,1) {_OMC_LIT113}};
#define _OMC_LIT114 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT114)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT115,1,12) {&NFBackendExtension_VariableKind_CLOCK__desc,}};
#define _OMC_LIT115 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT115)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT116,4,5) {&NFBackendExtension_VariableKind_STATE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT116 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT116)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT117,1,9) {&NFBackendExtension_VariableKind_DISCRETE__desc,}};
#define _OMC_LIT117 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT117)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT118,1,4) {&NFBackendExtension_VariableKind_ALGEBRAIC__desc,}};
#define _OMC_LIT118 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT118)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT119,2,14) {&NFBackendExtension_VariableKind_PARAMETER__desc,MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT119 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT119)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT120,1,15) {&NFBackendExtension_VariableKind_CONSTANT__desc,}};
#define _OMC_LIT120 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT120)
#define _OMC_LIT121_data "NBackendDAE.lowerVariableKind failed."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT121,37,_OMC_LIT121_data);
#define _OMC_LIT121 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT121)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT122,2,1) {_OMC_LIT121,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT122 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT122)
#define _OMC_LIT123_data "NBackendDAE.lowerVariable failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT123,37,_OMC_LIT123_data);
#define _OMC_LIT123 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT123)
#define _OMC_LIT124_data "nfScalarize"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT124,11,_OMC_LIT124_data);
#define _OMC_LIT124 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT124)
#define _OMC_LIT125_data "Run scalarization in NF, default true."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT125,38,_OMC_LIT125_data);
#define _OMC_LIT125 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT125)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT126,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT125}};
#define _OMC_LIT126 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT126)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT127,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(168)),_OMC_LIT124,MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),_OMC_LIT126}};
#define _OMC_LIT127 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT127)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT128,1,4) {&NFComponentRef_EMPTY__desc,}};
#define _OMC_LIT128 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT128)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT129,1,18) {&NFType_ANY__desc,}};
#define _OMC_LIT129 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT129)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT130,1,3) {&NFBinding_UNBOUND__desc,}};
#define _OMC_LIT130 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT130)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT131,1,4) {&NFPrefixes_Replaceable_NOT__REPLACEABLE__desc,}};
#define _OMC_LIT131 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT131)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT132,10,3) {&NFAttributes_ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT131,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT132 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT132)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT133,3,3) {&SCode_Comment_COMMENT__desc,MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT133 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT133)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT134,0.0);
#define _OMC_LIT134 MMC_REFREALLIT(_OMC_LIT_STRUCT134)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT135,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT1,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT134}};
#define _OMC_LIT135 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT135)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT136,1,35) {&NFBackendExtension_VariableKind_FRONTEND__DUMMY__desc,}};
#define _OMC_LIT136 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT136)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT137,17,3) {&NFBackendExtension_VariableAttributes_VAR__ATTR__REAL__desc,MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT137 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT137)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT138,3,3) {&NFBackendExtension_Annotations_ANNOTATIONS__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT138 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT138)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT139,8,3) {&NFBackendExtension_BackendInfo_BACKEND__INFO__desc,_OMC_LIT136,_OMC_LIT137,_OMC_LIT138,MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT139 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT139)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT140,11,3) {&NFVariable_VARIABLE__desc,_OMC_LIT128,_OMC_LIT129,_OMC_LIT130,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT132,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT133,_OMC_LIT135,_OMC_LIT139}};
#define _OMC_LIT140 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT140)
#define _OMC_LIT141_data "NBackendDAE.lowerVariableData failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT141,41,_OMC_LIT141_data);
#define _OMC_LIT141 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT141)
#define _OMC_LIT142_data "[stateselection] ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT142,18,_OMC_LIT142_data);
#define _OMC_LIT142 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT142)
#define _OMC_LIT143_data ") Forced states by StateSelect.ALWAYS:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT143,38,_OMC_LIT143_data);
#define _OMC_LIT143 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT143)
#define _OMC_LIT144_data "	"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT144,1,_OMC_LIT144_data);
#define _OMC_LIT144 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT144)
#define _OMC_LIT145_data "\n	"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT145,2,_OMC_LIT145_data);
#define _OMC_LIT145 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT145)
#define _OMC_LIT146_data "	<no states>\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT146,14,_OMC_LIT146_data);
#define _OMC_LIT146 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT146)
#define _OMC_LIT147_data "NBackendDAE.removeStream"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT147,24,_OMC_LIT147_data);
#define _OMC_LIT147 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT147)
#define _OMC_LIT148_data "NBackendDAE.simplify"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT148,20,_OMC_LIT148_data);
#define _OMC_LIT148 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT148)
#define _OMC_LIT149_data "[failtrace] ........ ["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT149,22,_OMC_LIT149_data);
#define _OMC_LIT149 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT149)
#define _OMC_LIT150_data "] "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT150,2,_OMC_LIT150_data);
#define _OMC_LIT150 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT150)
#define _OMC_LIT151_data "."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT151,1,_OMC_LIT151_data);
#define _OMC_LIT151 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT151)
#define _OMC_LIT152_data " failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT152,8,_OMC_LIT152_data);
#define _OMC_LIT152 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT152)
#define _OMC_LIT153_data " V("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT153,3,_OMC_LIT153_data);
#define _OMC_LIT153 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT153)
#define _OMC_LIT154_data "|"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT154,1,_OMC_LIT154_data);
#define _OMC_LIT154 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT154)
#define _OMC_LIT155_data " E("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT155,3,_OMC_LIT155_data);
#define _OMC_LIT155 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT155)
#define _OMC_LIT156_data ") "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT156,2,_OMC_LIT156_data);
#define _OMC_LIT156 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT156)
#define _OMC_LIT157_data "XX "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT157,3,_OMC_LIT157_data);
#define _OMC_LIT157 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT157)
#define _OMC_LIT158_data "s\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT158,2,_OMC_LIT158_data);
#define _OMC_LIT158 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT158)
#define _OMC_LIT159_data "("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT159,1,_OMC_LIT159_data);
#define _OMC_LIT159 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT159)
#define _OMC_LIT160_data "optdaedump"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT160,10,_OMC_LIT160_data);
#define _OMC_LIT160 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT160)
#define _OMC_LIT161_data "Dumps information from the optimization modules."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT161,48,_OMC_LIT161_data);
#define _OMC_LIT161 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT161)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT162,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT161}};
#define _OMC_LIT162 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT162)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT163,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(55)),_OMC_LIT160,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT162}};
#define _OMC_LIT163 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT163)
#define _OMC_LIT164_data "bltdump"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT164,7,_OMC_LIT164_data);
#define _OMC_LIT164 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT164)
#define _OMC_LIT165_data "Dumps information from index reduction."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT165,39,_OMC_LIT165_data);
#define _OMC_LIT165 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT165)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT166,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT165}};
#define _OMC_LIT166 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT166)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT167,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(51)),_OMC_LIT164,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT166}};
#define _OMC_LIT167 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT167)
#define _OMC_LIT168_data "Causalize"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT168,9,_OMC_LIT168_data);
#define _OMC_LIT168 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT168)
#define _OMC_LIT169_data "Solve"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT169,5,_OMC_LIT169_data);
#define _OMC_LIT169 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT169)
#define _OMC_LIT170_data "debugFollowEquations"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT170,20,_OMC_LIT170_data);
#define _OMC_LIT170 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT170)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT171,1,4) {&Flags_FlagVisibility_EXTERNAL__desc,}};
#define _OMC_LIT171 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT171)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT172,2,9) {&Flags_FlagData_STRING__LIST__FLAG__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT172 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT172)
#define _OMC_LIT173_data "Takes a list of equation names and prints the corresponding equations after each stage of the backend process."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT173,110,_OMC_LIT173_data);
#define _OMC_LIT173 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT173)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT174,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT173}};
#define _OMC_LIT174 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT174)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT175,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(155)),_OMC_LIT170,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT171,_OMC_LIT172,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT174}};
#define _OMC_LIT175 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT175)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT176,1,3) {&DAE_InlineType_NORM__INLINE__desc,}};
#define _OMC_LIT176 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT176)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT177,1,4) {&DAE_InlineType_BUILTIN__EARLY__INLINE__desc,}};
#define _OMC_LIT177 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT177)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT178,1,5) {&DAE_InlineType_EARLY__INLINE__desc,}};
#define _OMC_LIT178 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT178)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT179,1,6) {&DAE_InlineType_DEFAULT__INLINE__desc,}};
#define _OMC_LIT179 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT179)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT180,2,1) {_OMC_LIT179,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT180 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT180)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT181,2,1) {_OMC_LIT178,_OMC_LIT180}};
#define _OMC_LIT181 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT181)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT182,2,1) {_OMC_LIT177,_OMC_LIT181}};
#define _OMC_LIT182 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT182)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT183,2,1) {_OMC_LIT176,_OMC_LIT182}};
#define _OMC_LIT183 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT183)
#define _OMC_LIT184_data "[debugFilterEquations] filtering for equations: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT184,48,_OMC_LIT184_data);
#define _OMC_LIT184 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT184)
#define _OMC_LIT185_data "\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT185,2,_OMC_LIT185_data);
#define _OMC_LIT185 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT185)
#define _OMC_LIT186_data "Bindings"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT186,8,_OMC_LIT186_data);
#define _OMC_LIT186 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT186)
#define _OMC_LIT187_data "FunctionAlias"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT187,13,_OMC_LIT187_data);
#define _OMC_LIT187 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT187)
#define _OMC_LIT188_data "Early Inline"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT188,12,_OMC_LIT188_data);
#define _OMC_LIT188 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT188)
#define _OMC_LIT189_data "Simplify 1"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT189,10,_OMC_LIT189_data);
#define _OMC_LIT189 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT189)
#define _OMC_LIT190_data "Alias"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT190,5,_OMC_LIT190_data);
#define _OMC_LIT190 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT190)
#define _OMC_LIT191_data "Simplify 2"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT191,10,_OMC_LIT191_data);
#define _OMC_LIT191 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT191)
#define _OMC_LIT192_data "Remove Stream"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT192,13,_OMC_LIT192_data);
#define _OMC_LIT192 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT192)
#define _OMC_LIT193_data "Detect States"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT193,13,_OMC_LIT193_data);
#define _OMC_LIT193 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT193)
#define _OMC_LIT194_data "Events"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT194,6,_OMC_LIT194_data);
#define _OMC_LIT194 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT194)
#define _OMC_LIT195_data "DAE-Mode"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT195,8,_OMC_LIT195_data);
#define _OMC_LIT195 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT195)
#define _OMC_LIT196_data "daeMode"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT196,7,_OMC_LIT196_data);
#define _OMC_LIT196 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT196)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT197,2,4) {&Flags_FlagData_BOOL__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT197 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT197)
#define _OMC_LIT198_data "Generates code to simulate models in DAE mode. The whole system is passed directly to the DAE solver SUNDIALS/IDA and no algebraic solver is involved in the simulation process."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT198,176,_OMC_LIT198_data);
#define _OMC_LIT198 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT198)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT199,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT198}};
#define _OMC_LIT199 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT199)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT200,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(87)),_OMC_LIT196,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT171,_OMC_LIT197,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT199}};
#define _OMC_LIT200 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT200)
#define _OMC_LIT201_data "Partitioning"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT201,12,_OMC_LIT201_data);
#define _OMC_LIT201 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT201)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT202,1,8) {&DAE_InlineType_AFTER__INDEX__RED__INLINE__desc,}};
#define _OMC_LIT202 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT202)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT203,2,1) {_OMC_LIT202,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT203 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT203)
#define _OMC_LIT204_data "After Index Reduction Inline"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT204,28,_OMC_LIT204_data);
#define _OMC_LIT204 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT204)
#define _OMC_LIT205_data "Remove Dummies"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT205,14,_OMC_LIT205_data);
#define _OMC_LIT205 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT205)
#define _OMC_LIT206_data "Tearing"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT206,7,_OMC_LIT206_data);
#define _OMC_LIT206 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT206)
#define _OMC_LIT207_data "Categorize"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT207,10,_OMC_LIT207_data);
#define _OMC_LIT207 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT207)
#define _OMC_LIT208_data "Jacobian"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT208,8,_OMC_LIT208_data);
#define _OMC_LIT208 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT208)
#define _OMC_LIT209_data "Pre-Opt Backend Clocks:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT209,23,_OMC_LIT209_data);
#define _OMC_LIT209 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT209)
#define _OMC_LIT210_data "Main Backend Clocks:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT210,20,_OMC_LIT210_data);
#define _OMC_LIT210 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT210)
#define _OMC_LIT211_data "Post-Opt Backend Clocks:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT211,24,_OMC_LIT211_data);
#define _OMC_LIT211 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT211)
#define _OMC_LIT212_data "dumpBackendClocks"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT212,17,_OMC_LIT212_data);
#define _OMC_LIT212 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT212)
#define _OMC_LIT213_data "Dumps times for each backend module (only new backend)."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT213,55,_OMC_LIT213_data);
#define _OMC_LIT213 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT213)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT214,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT213}};
#define _OMC_LIT214 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT214)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT215,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(188)),_OMC_LIT212,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT214}};
#define _OMC_LIT215 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT215)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT216,2,0) {MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT216 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT216)
#define _OMC_LIT217_data "NBackendDAE.getFunctionTree failed! Only the record type MAIN() has a function tree."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT217,84,_OMC_LIT217_data);
#define _OMC_LIT217 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT217)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT218,2,1) {_OMC_LIT217,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT218 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT218)
#define _OMC_LIT219_data "NBackendDAE.setVarData failed."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT219,30,_OMC_LIT219_data);
#define _OMC_LIT219 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT219)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT220,2,1) {_OMC_LIT219,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT220 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT220)
#define _OMC_LIT221_data "NBackendDAE.getVarData failed."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT221,30,_OMC_LIT221_data);
#define _OMC_LIT221 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT221)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT222,2,1) {_OMC_LIT221,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT222 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT222)
#define _OMC_LIT223_data "[ODE] Differential-Algebraic: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT223,30,_OMC_LIT223_data);
#define _OMC_LIT223 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT223)
#define _OMC_LIT224_data "[ALG] Algebraic: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT224,17,_OMC_LIT224_data);
#define _OMC_LIT224 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT224)
#define _OMC_LIT225_data "[ODE_EVENT] Event Handling: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT225,28,_OMC_LIT225_data);
#define _OMC_LIT225 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT225)
#define _OMC_LIT226_data "[ALG_EVENT] Event Handling: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT226,28,_OMC_LIT226_data);
#define _OMC_LIT226 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT226)
#define _OMC_LIT227_data "[CLOCKED] Event Handling: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT227,26,_OMC_LIT227_data);
#define _OMC_LIT227 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT227)
#define _OMC_LIT228_data "[INI] Initialization: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT228,22,_OMC_LIT228_data);
#define _OMC_LIT228 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT228)
#define _OMC_LIT229_data "[INI_0] Initialization Lambda=0: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT229,33,_OMC_LIT229_data);
#define _OMC_LIT229 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT229)
#define _OMC_LIT230_data "[DAE] DAEMode: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT230,15,_OMC_LIT230_data);
#define _OMC_LIT230 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT230)
#define _OMC_LIT231_data "BackendDAE: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT231,12,_OMC_LIT231_data);
#define _OMC_LIT231 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT231)
#define _OMC_LIT232_data " Jacobian "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT232,10,_OMC_LIT232_data);
#define _OMC_LIT232 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT232)
#define _OMC_LIT233_data ": "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT233,2,_OMC_LIT233_data);
#define _OMC_LIT233 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT233)
#define _OMC_LIT234_data "Hessian: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT234,9,_OMC_LIT234_data);
#define _OMC_LIT234 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT234)
#define _OMC_LIT235_data "NBackendDAE.toString failed."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT235,28,_OMC_LIT235_data);
#define _OMC_LIT235 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT235)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT236,2,1) {_OMC_LIT235,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT236 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT236)
#include "util/modelica.h"

#include "NBackendDAE_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerInstNode(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fnode, modelica_metatype _variables);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerInstNode,2,0) {(void*) boxptr_NBackendDAE_lowerInstNode,0}};
#define boxvar_NBackendDAE_lowerInstNode MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerInstNode)
PROTECTED_FUNCTION_STATIC void omc_NBackendDAE_collectIterator(threadData_t *threadData, modelica_metatype _iterator, modelica_metatype _variables, modelica_metatype _set);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_collectIterator,2,0) {(void*) boxptr_NBackendDAE_collectIterator,0}};
#define boxvar_NBackendDAE_collectIterator MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_collectIterator)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_collectIterators(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype _variables, modelica_metatype _set);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_collectIterators,2,0) {(void*) boxptr_NBackendDAE_collectIterators,0}};
#define boxvar_NBackendDAE_collectIterators MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_collectIterators)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerDimension(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fdim, modelica_metatype _variables);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerDimension,2,0) {(void*) boxptr_NBackendDAE_lowerDimension,0}};
#define boxvar_NBackendDAE_lowerDimension MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerDimension)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerComponentReferences(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fequations, modelica_metatype _variables);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerComponentReferences,2,0) {(void*) boxptr_NBackendDAE_lowerComponentReferences,0}};
#define boxvar_NBackendDAE_lowerComponentReferences MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerComponentReferences)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerWhenBranchStatement(threadData_t *threadData, modelica_metatype _eq, modelica_metatype _condition);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerWhenBranchStatement,2,0) {(void*) boxptr_NBackendDAE_lowerWhenBranchStatement,0}};
#define boxvar_NBackendDAE_lowerWhenBranchStatement MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerWhenBranchStatement)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerWhenBranchBody(threadData_t *threadData, modelica_metatype _condition, modelica_metatype _body, modelica_metatype __omcQ_24in_5Fstmts);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerWhenBranchBody,2,0) {(void*) boxptr_NBackendDAE_lowerWhenBranchBody,0}};
#define boxvar_NBackendDAE_lowerWhenBranchBody MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerWhenBranchBody)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerWhenBranch(threadData_t *threadData, modelica_metatype _branch, modelica_metatype *out_cond);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerWhenBranch,2,0) {(void*) boxptr_NBackendDAE_lowerWhenBranch,0}};
#define boxvar_NBackendDAE_lowerWhenBranch MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerWhenBranch)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerWhenEquationBody(threadData_t *threadData, modelica_metatype _branches);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerWhenEquationBody,2,0) {(void*) boxptr_NBackendDAE_lowerWhenEquationBody,0}};
#define boxvar_NBackendDAE_lowerWhenEquationBody MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerWhenEquationBody)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerWhenEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_boolean _init);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerWhenEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_metatype _init);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerWhenEquation,2,0) {(void*) boxptr_NBackendDAE_lowerWhenEquation,0}};
#define boxvar_NBackendDAE_lowerWhenEquation MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerWhenEquation)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerIfBranchBody(threadData_t *threadData, modelica_metatype _body, modelica_boolean _init, modelica_metatype __omcQ_24in_5Feqns);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerIfBranchBody(threadData_t *threadData, modelica_metatype _body, modelica_metatype _init, modelica_metatype __omcQ_24in_5Feqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerIfBranchBody,2,0) {(void*) boxptr_NBackendDAE_lowerIfBranchBody,0}};
#define boxvar_NBackendDAE_lowerIfBranchBody MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerIfBranchBody)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerIfBranch(threadData_t *threadData, modelica_metatype _branch, modelica_boolean _init, modelica_metatype *out_cond);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerIfBranch(threadData_t *threadData, modelica_metatype _branch, modelica_metatype _init, modelica_metatype *out_cond);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerIfBranch,2,0) {(void*) boxptr_NBackendDAE_lowerIfBranch,0}};
#define boxvar_NBackendDAE_lowerIfBranch MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerIfBranch)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerIfEquationBody(threadData_t *threadData, modelica_metatype _branches, modelica_boolean _init, modelica_boolean _allow_imbalance);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerIfEquationBody(threadData_t *threadData, modelica_metatype _branches, modelica_metatype _init, modelica_metatype _allow_imbalance);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerIfEquationBody,2,0) {(void*) boxptr_NBackendDAE_lowerIfEquationBody,0}};
#define boxvar_NBackendDAE_lowerIfEquationBody MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerIfEquationBody)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerIfEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_boolean _init, modelica_boolean _in_for);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerIfEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_metatype _init, modelica_metatype _in_for);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerIfEquation,2,0) {(void*) boxptr_NBackendDAE_lowerIfEquation,0}};
#define boxvar_NBackendDAE_lowerIfEquation MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerIfEquation)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_boolean _init, modelica_boolean _in_for);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_metatype _init, modelica_metatype _in_for);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerEquation,2,0) {(void*) boxptr_NBackendDAE_lowerEquation,0}};
#define boxvar_NBackendDAE_lowerEquation MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerEquation)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerEquationsAndAlgorithms(threadData_t *threadData, modelica_metatype _eq_lst, modelica_metatype _al_lst, modelica_metatype _init_eq_lst, modelica_metatype _init_al_lst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerEquationsAndAlgorithms,2,0) {(void*) boxptr_NBackendDAE_lowerEquationsAndAlgorithms,0}};
#define boxvar_NBackendDAE_lowerEquationsAndAlgorithms MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerEquationsAndAlgorithms)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerEquationData(threadData_t *threadData, modelica_metatype _eq_lst, modelica_metatype _al_lst, modelica_metatype _init_eq_lst, modelica_metatype _init_al_lst, modelica_metatype __omcQ_24in_5FvarData, modelica_metatype *out_varData);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerEquationData,2,0) {(void*) boxptr_NBackendDAE_lowerEquationData,0}};
#define boxvar_NBackendDAE_lowerEquationData MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerEquationData)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_collectVariableBindingIterators(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _variables, modelica_metatype _set);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_collectVariableBindingIterators,2,0) {(void*) boxptr_NBackendDAE_collectVariableBindingIterators,0}};
#define boxvar_NBackendDAE_collectVariableBindingIterators MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_collectVariableBindingIterators)
PROTECTED_FUNCTION_STATIC modelica_integer omc_NBackendDAE_lowerVariableKind_lowerRecordKind(threadData_t *threadData, modelica_metatype _children, modelica_integer *out_max_var);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerVariableKind_lowerRecordKind(threadData_t *threadData, modelica_metatype _children, modelica_metatype *out_max_var);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerVariableKind_lowerRecordKind,2,0) {(void*) boxptr_NBackendDAE_lowerVariableKind_lowerRecordKind,0}};
#define boxvar_NBackendDAE_lowerVariableKind_lowerRecordKind MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerVariableKind_lowerRecordKind)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerVariableKind(threadData_t *threadData, modelica_metatype _var, modelica_metatype __omcQ_24in_5Fattributes, modelica_metatype _ty, modelica_metatype *out_attributes);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerVariableKind,2,0) {(void*) boxptr_NBackendDAE_lowerVariableKind,0}};
#define boxvar_NBackendDAE_lowerVariableKind MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerVariableKind)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerVariable(threadData_t *threadData, modelica_metatype _var);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerVariable,2,0) {(void*) boxptr_NBackendDAE_lowerVariable,0}};
#define boxvar_NBackendDAE_lowerVariable MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerVariable)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerVariableData(threadData_t *threadData, modelica_metatype _varList);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerVariableData,2,0) {(void*) boxptr_NBackendDAE_lowerVariableData,0}};
#define boxvar_NBackendDAE_lowerVariableData MMC_REFSTRUCTLIT(boxvar_lit_NBackendDAE_lowerVariableData)

DLLDirection
modelica_metatype omc_NBackendDAE_checkLoweredCref(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_metatype _set)
{
  modelica_metatype _cref = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cref = __omcQ_24in_5Fcref;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _cref;
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 4; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,5) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta5,7,2) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,5) == 0) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,4,1) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 2: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,5) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          omc_UnorderedSet_add(threadData, _cref, _set);
          goto tmp2_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _cref;
}

DLLDirection
modelica_metatype omc_NBackendDAE_checkLoweredCrefExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype _set)
{
  modelica_metatype _exp = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _exp = __omcQ_24in_5Fexp;
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _exp;
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          omc_NBackendDAE_checkLoweredCref(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3))), _set);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _exp;
}

static modelica_metatype closure0_NBackendDAE_checkLoweredCrefExp(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_exp)
{
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBackendDAE_checkLoweredCrefExp(thData, $in_exp, set);
}static modelica_metatype closure1_NBackendDAE_checkLoweredCref(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_cref)
{
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBackendDAE_checkLoweredCref(thData, $in_cref, set);
}
DLLDirection
modelica_metatype omc_NBackendDAE_checkLoweredCrefEqn(threadData_t *threadData, modelica_metatype __omcQ_24in_5Feqn)
{
  modelica_metatype _eqn = NULL;
  modelica_metatype _set = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _eqn = __omcQ_24in_5Feqn;
  _set = omc_UnorderedSet_new(threadData, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual, ((modelica_integer) 13));
  tmpMeta1 = mmc_mk_box1(0, _set);
  tmpMeta2 = mmc_mk_box1(0, _set);
  omc_NBEquation_Equation_map(threadData, _eqn, (modelica_fnptr) mmc_mk_box2(0,closure0_NBackendDAE_checkLoweredCrefExp,tmpMeta1), mmc_mk_some((modelica_fnptr) mmc_mk_box2(0,closure1_NBackendDAE_checkLoweredCref,tmpMeta2)), boxvar_NFExpression_map);

  if((!omc_UnorderedSet_isEmpty(threadData, _set)))
  {
    tmpMeta3 = stringAppend(_OMC_LIT0,omc_NBEquation_Equation_toString(threadData, _eqn, _OMC_LIT1));
    tmpMeta4 = stringAppend(tmpMeta3,_OMC_LIT2);
    fputs(MMC_STRINGDATA(tmpMeta4),stdout);

    tmpMeta5 = stringAppend(_OMC_LIT3,omc_List_toString(threadData, omc_UnorderedSet_toList(threadData, _set), boxvar_NFComponentRef_toString, _OMC_LIT1, _OMC_LIT4, _OMC_LIT5, _OMC_LIT6, 1 /* true */, ((modelica_integer) 0)));
    tmpMeta6 = stringAppend(tmpMeta5,_OMC_LIT2);
    fputs(MMC_STRINGDATA(tmpMeta6),stdout);
  }
  _return: OMC_LABEL_UNUSED
  return _eqn;
}

static modelica_metatype closure2_NBackendDAE_checkLoweredCrefExp(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_exp)
{
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBackendDAE_checkLoweredCrefExp(thData, $in_exp, set);
}
DLLDirection
void omc_NBackendDAE_checkLoweredCrefVar(threadData_t *threadData, modelica_metatype _var)
{
  modelica_metatype _set = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _set = omc_UnorderedSet_new(threadData, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual, ((modelica_integer) 13));
  tmpMeta1 = mmc_mk_box1(0, _set);
  omc_NBVariable_mapExp(threadData, _var, (modelica_fnptr) mmc_mk_box2(0,closure2_NBackendDAE_checkLoweredCrefExp,tmpMeta1), boxvar_NFExpression_map);

  if((!omc_UnorderedSet_isEmpty(threadData, _set)))
  {
    tmpMeta2 = stringAppend(_OMC_LIT7,omc_NBVariable_pointerToString(threadData, _var));
    tmpMeta3 = stringAppend(tmpMeta2,_OMC_LIT2);
    fputs(MMC_STRINGDATA(tmpMeta3),stdout);

    tmpMeta4 = stringAppend(_OMC_LIT3,omc_List_toString(threadData, omc_UnorderedSet_toList(threadData, _set), boxvar_NFComponentRef_toString, _OMC_LIT1, _OMC_LIT4, _OMC_LIT5, _OMC_LIT6, 1 /* true */, ((modelica_integer) 0)));
    tmpMeta5 = stringAppend(tmpMeta4,_OMC_LIT2);
    fputs(MMC_STRINGDATA(tmpMeta5),stdout);
  }
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
void omc_NBackendDAE_debugLowering(threadData_t *threadData, modelica_metatype _bdae)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _bdae;
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,13) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          omc_NBEquation_EqData_map(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 11))), boxvar_NBackendDAE_checkLoweredCrefEqn);

          omc_NBVariable_VariablePointers_mapPtr(threadData, omc_NBVariable_VarData_getVariables(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 10)))), boxvar_NBackendDAE_checkLoweredCrefVar);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
void omc_NBackendDAE_debugFollowEquations(threadData_t *threadData, modelica_metatype _bdae, modelica_metatype _eq_filter_opt, modelica_string _str)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _bdae;
    {
      modelica_string _tmp = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      _tmp = (modelica_string) mmc_emptystring;
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,13) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta5 = stringAppend(_OMC_LIT8,_str);
          tmpMeta6 = stringAppend(omc_StringUtil_headline__1(threadData, tmpMeta5),_OMC_LIT2);
          _tmp = tmpMeta6;

          tmpMeta7 = stringAppend(_tmp,omc_NBEquation_EqData_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 11))), ((modelica_integer) 1), _eq_filter_opt));
          _tmp = tmpMeta7;

          fputs(MMC_STRINGDATA(_tmp),stdout);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

static modelica_metatype closure3_NBStrongComponent_strongComponentInfo(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_comp)
{
  modelica_metatype collector_ptr = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBStrongComponent_strongComponentInfo(thData, $in_comp, collector_ptr);
}
DLLDirection
void omc_NBackendDAE_strongcomponentinfo(threadData_t *threadData, modelica_string _phase, modelica_metatype _systems)
{
  modelica_metatype _c = NULL;
  modelica_metatype _collector_ptr = NULL;
  modelica_string _single_sc = NULL;
  modelica_string _multi_sc = NULL;
  modelica_string _for_sc = NULL;
  modelica_string _alg_sc = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta20;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta22;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  modelica_metatype tmpMeta25;
  modelica_metatype tmpMeta26;
  modelica_metatype tmpMeta27;
  modelica_metatype tmpMeta28;
  modelica_metatype tmpMeta29;
  modelica_metatype tmpMeta30;
  modelica_metatype tmpMeta31;
  modelica_metatype tmpMeta32;
  modelica_metatype tmpMeta33;
  modelica_metatype tmpMeta34;
  modelica_metatype tmpMeta35;
  modelica_metatype tmpMeta36;
  modelica_metatype tmpMeta37;
  modelica_metatype tmpMeta38;
  modelica_metatype tmpMeta39;
  modelica_metatype tmpMeta40;
  modelica_metatype tmpMeta41;
  modelica_metatype tmpMeta42;
  modelica_metatype tmpMeta43;
  modelica_metatype tmpMeta44;
  modelica_metatype tmpMeta45;
  modelica_metatype tmpMeta46;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _c = _OMC_LIT9;
  _collector_ptr = omc_Pointer_create(threadData, _c);
  // _single_sc has no default value.
  // _multi_sc has no default value.
  // _for_sc has no default value.
  // _alg_sc has no default value.
  {
    modelica_metatype _lst;
    for (tmpMeta1 = _systems; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _lst = MMC_CAR(tmpMeta1);
      {
        modelica_metatype _system;
        for (tmpMeta2 = _lst; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
        {
          _system = MMC_CAR(tmpMeta2);
          tmpMeta3 = mmc_mk_box1(0, _collector_ptr);
          omc_NBPartition_Partition_mapStrongComponents(threadData, _system, (modelica_fnptr) mmc_mk_box2(0,closure3_NBStrongComponent_strongComponentInfo,tmpMeta3));
        }
      }
    }
  }

  _c = omc_Pointer_access(threadData, _collector_ptr);

  tmpMeta6 = stringAppend(intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 2)))) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 3)))) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 4))))),_OMC_LIT10);
  tmpMeta7 = stringAppend(tmpMeta6,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 2))))));
  tmpMeta8 = stringAppend(tmpMeta7,_OMC_LIT11);
  tmpMeta9 = stringAppend(tmpMeta8,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 3))))));
  tmpMeta10 = stringAppend(tmpMeta9,_OMC_LIT12);
  tmpMeta11 = stringAppend(tmpMeta10,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 4))))));
  tmpMeta12 = stringAppend(tmpMeta11,_OMC_LIT13);
  _single_sc = tmpMeta12;

  tmpMeta13 = stringAppend(intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 5)))) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 6)))) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 7))))),_OMC_LIT14);
  tmpMeta14 = stringAppend(tmpMeta13,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 5))))));
  tmpMeta15 = stringAppend(tmpMeta14,_OMC_LIT15);
  tmpMeta16 = stringAppend(tmpMeta15,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 6))))));
  tmpMeta17 = stringAppend(tmpMeta16,_OMC_LIT16);
  tmpMeta18 = stringAppend(tmpMeta17,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 7))))));
  tmpMeta19 = stringAppend(tmpMeta18,_OMC_LIT17);
  tmpMeta20 = stringAppend(tmpMeta19,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 8))))));
  tmpMeta21 = stringAppend(tmpMeta20,_OMC_LIT13);
  _multi_sc = tmpMeta21;

  tmpMeta22 = stringAppend(intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 9)))) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 10)))) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 11))))),_OMC_LIT18);
  tmpMeta23 = stringAppend(tmpMeta22,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 9))))));
  tmpMeta24 = stringAppend(tmpMeta23,_OMC_LIT19);
  tmpMeta25 = stringAppend(tmpMeta24,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 10))))));
  tmpMeta26 = stringAppend(tmpMeta25,_OMC_LIT20);
  tmpMeta27 = stringAppend(tmpMeta26,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 11))))));
  tmpMeta28 = stringAppend(tmpMeta27,_OMC_LIT13);
  _for_sc = tmpMeta28;

  tmpMeta29 = stringAppend(intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 12)))) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 13))))),_OMC_LIT21);
  tmpMeta30 = stringAppend(tmpMeta29,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 12))))));
  tmpMeta31 = stringAppend(tmpMeta30,_OMC_LIT22);
  tmpMeta32 = stringAppend(tmpMeta31,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_c), 13))))));
  tmpMeta33 = stringAppend(tmpMeta32,_OMC_LIT13);
  _alg_sc = tmpMeta33;

  tmpMeta34 = stringAppend(_OMC_LIT23,_phase);
  tmpMeta35 = stringAppend(tmpMeta34,_OMC_LIT24);
  tmpMeta36 = stringAppend(tmpMeta35,_OMC_LIT25);
  tmpMeta37 = stringAppend(tmpMeta36,_single_sc);
  tmpMeta38 = stringAppend(tmpMeta37,_OMC_LIT2);
  tmpMeta39 = stringAppend(tmpMeta38,_OMC_LIT26);
  tmpMeta40 = stringAppend(tmpMeta39,_multi_sc);
  tmpMeta41 = stringAppend(tmpMeta40,_OMC_LIT2);
  tmpMeta42 = stringAppend(tmpMeta41,_OMC_LIT27);
  tmpMeta43 = stringAppend(tmpMeta42,_for_sc);
  tmpMeta44 = stringAppend(tmpMeta43,_OMC_LIT2);
  tmpMeta45 = stringAppend(tmpMeta44,_OMC_LIT28);
  tmpMeta46 = stringAppend(tmpMeta45,_alg_sc);
  omc_Error_addCompilerNotification(threadData, tmpMeta46);
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
void omc_NBackendDAE_backenddaeinfo(threadData_t *threadData, modelica_metatype _bdae)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  if(omc_Flags_isSet(threadData, _OMC_LIT65))
  {
    { /* match expression */
      modelica_metatype tmp3_1;
      tmp3_1 = _bdae;
      {
        modelica_metatype _varData = NULL;
        modelica_string _p_ode = NULL;
        modelica_string _p_alg = NULL;
        modelica_string _p_ode_e = NULL;
        modelica_string _p_alg_e = NULL;
        modelica_string _p_clk = NULL;
        modelica_string _p_ini = NULL;
        modelica_string _p_ini_0 = NULL;
        modelica_string _states = NULL;
        modelica_string _discretes = NULL;
        modelica_string _discrete_states = NULL;
        modelica_string _clocked_states = NULL;
        modelica_string _clocks = NULL;
        modelica_string _inputs = NULL;
        volatile mmc_switch_type tmp3;
        int tmp4;
        // _varData has no default value.
        // _p_ode has no default value.
        // _p_alg has no default value.
        // _p_ode_e has no default value.
        // _p_alg_e has no default value.
        // _p_clk has no default value.
        // _p_ini has no default value.
        // _p_ini_0 has no default value.
        // _states has no default value.
        // _discretes has no default value.
        // _discrete_states has no default value.
        // _clocked_states has no default value.
        // _clocks has no default value.
        // _inputs has no default value.
        tmp3 = 0;
        for (; tmp3 < 1; tmp3++) {
          switch (MMC_SWITCH_CAST(tmp3)) {
          case 0: {
            modelica_metatype tmpMeta5;
            modelica_metatype tmpMeta6;
            modelica_metatype tmpMeta7;
            modelica_metatype tmpMeta8;
            modelica_metatype tmpMeta9;
            modelica_metatype tmpMeta10;
            modelica_metatype tmpMeta11;
            modelica_metatype tmpMeta12;
            modelica_metatype tmpMeta13;
            modelica_metatype tmpMeta14;
            modelica_metatype tmpMeta15;
            modelica_metatype tmpMeta16;
            modelica_metatype tmpMeta17;
            modelica_metatype tmpMeta18;
            modelica_metatype tmpMeta19;
            modelica_metatype tmpMeta20;
            modelica_metatype tmpMeta21;
            modelica_metatype tmpMeta22;
            modelica_metatype tmpMeta23;
            modelica_metatype tmpMeta24;
            modelica_metatype tmpMeta25;
            modelica_metatype tmpMeta26;
            modelica_metatype tmpMeta27;
            modelica_metatype tmpMeta28;
            modelica_metatype tmpMeta29;
            modelica_metatype tmpMeta30;
            modelica_metatype tmpMeta31;
            modelica_metatype tmpMeta32;
            modelica_metatype tmpMeta33;
            modelica_metatype tmpMeta34;
            modelica_metatype tmpMeta35;
            modelica_metatype tmpMeta36;
            modelica_metatype tmpMeta37;
            modelica_metatype tmpMeta38;
            modelica_metatype tmpMeta39;
            modelica_metatype tmpMeta40;
            modelica_metatype tmpMeta41;
            modelica_metatype tmpMeta42;
            modelica_metatype tmpMeta43;
            modelica_metatype tmpMeta44;
            modelica_metatype tmpMeta45;
            modelica_metatype tmpMeta46;
            modelica_metatype tmpMeta47;
            modelica_metatype tmpMeta48;
            modelica_metatype tmpMeta49;
            modelica_metatype tmpMeta50;
            modelica_metatype tmpMeta51;
            modelica_metatype tmpMeta52;
            modelica_metatype tmpMeta53;
            modelica_metatype tmpMeta54;
            modelica_metatype tmpMeta55;
            modelica_metatype tmpMeta56;
            modelica_metatype tmpMeta57;
            modelica_metatype tmpMeta58;
            modelica_metatype tmpMeta59;
            modelica_metatype tmpMeta60;
            modelica_metatype tmpMeta61;
            modelica_metatype tmpMeta62;
            modelica_metatype tmpMeta63;
            modelica_metatype tmpMeta64;
            modelica_metatype tmpMeta65;
            modelica_metatype tmpMeta66;
            modelica_metatype tmpMeta67;
            modelica_metatype tmpMeta68;
            modelica_metatype tmpMeta69;
            modelica_metatype tmpMeta70;
            modelica_metatype tmpMeta71;
            modelica_metatype tmpMeta72;
            modelica_metatype tmpMeta73;
            modelica_metatype tmpMeta74;
            modelica_metatype tmpMeta75;
            modelica_metatype tmpMeta76;
            modelica_metatype tmpMeta77;
            modelica_metatype tmpMeta78;
            modelica_metatype tmpMeta79;
            modelica_metatype tmpMeta80;
            if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,13) == 0) goto tmp2_end;
            tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 10));
            if (mmc__uniontype__metarecord__typedef__equal(tmpMeta5,0,23) == 0) goto tmp2_end;
            tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 11));
            if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,9) == 0) goto tmp2_end;
            
            _varData = tmpMeta5;
            /* Pattern matching succeeded */
            _p_ode = intString(listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 2)))));

            _p_alg = intString(listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 3)))));

            _p_ode_e = intString(listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 4)))));

            _p_alg_e = intString(listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 5)))));

            _p_clk = _OMC_LIT29;

            _p_ini = intString(listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 7)))));

            _p_ini_0 = (isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 8))))?intString(listLength(omc_Util_getOption(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 8)))))):_OMC_LIT29);

            tmpMeta7 = stringAppend(intString(omc_NBVariable_VariablePointers_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 16))), 0 /* false */)),_OMC_LIT30);
            tmpMeta8 = stringAppend(tmpMeta7,intString(omc_NBVariable_VariablePointers_size(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 16))))));
            tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT13);
            _states = tmpMeta9;

            tmpMeta10 = stringAppend(intString(omc_NBVariable_VariablePointers_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 11))), 0 /* false */)),_OMC_LIT30);
            tmpMeta11 = stringAppend(tmpMeta10,intString(omc_NBVariable_VariablePointers_size(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 11))))));
            tmpMeta12 = stringAppend(tmpMeta11,_OMC_LIT13);
            _discretes = tmpMeta12;

            tmpMeta13 = stringAppend(intString(omc_NBVariable_VariablePointers_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 12))), 0 /* false */)),_OMC_LIT30);
            tmpMeta14 = stringAppend(tmpMeta13,intString(omc_NBVariable_VariablePointers_size(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 12))))));
            tmpMeta15 = stringAppend(tmpMeta14,_OMC_LIT13);
            _discrete_states = tmpMeta15;

            tmpMeta16 = stringAppend(intString(omc_NBVariable_VariablePointers_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 13))), 0 /* false */)),_OMC_LIT30);
            tmpMeta17 = stringAppend(tmpMeta16,intString(omc_NBVariable_VariablePointers_size(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 13))))));
            tmpMeta18 = stringAppend(tmpMeta17,_OMC_LIT13);
            _clocked_states = tmpMeta18;

            tmpMeta19 = stringAppend(intString(omc_NBVariable_VariablePointers_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 15))), 0 /* false */)),_OMC_LIT30);
            tmpMeta20 = stringAppend(tmpMeta19,intString(omc_NBVariable_VariablePointers_size(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 15))))));
            tmpMeta21 = stringAppend(tmpMeta20,_OMC_LIT13);
            _clocks = tmpMeta21;

            tmpMeta22 = stringAppend(intString(omc_NBVariable_VariablePointers_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 17))), 0 /* false */)),_OMC_LIT30);
            tmpMeta23 = stringAppend(tmpMeta22,intString(omc_NBVariable_VariablePointers_size(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 17))))));
            tmpMeta24 = stringAppend(tmpMeta23,_OMC_LIT13);
            _inputs = tmpMeta24;

            if(omc_Flags_isSet(threadData, _OMC_LIT36))
            {
              tmpMeta25 = stringAppend(_states,_OMC_LIT32);
              tmpMeta26 = stringAppend(tmpMeta25,omc_List_toString(threadData, omc_NBVariable_VariablePointers_toList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 16)))), boxvar_NBVariable_nameString, _OMC_LIT1, _OMC_LIT4, _OMC_LIT5, _OMC_LIT6, 1 /* true */, ((modelica_integer) 0)));
              _states = tmpMeta26;
            }
            else
            {
              tmpMeta27 = stringAppend(_states,_OMC_LIT31);
              _states = tmpMeta27;
            }

            if(omc_Flags_isSet(threadData, _OMC_LIT43))
            {
              tmpMeta28 = stringAppend(_discretes,_OMC_LIT32);
              tmpMeta29 = stringAppend(tmpMeta28,omc_List_toString(threadData, omc_NBVariable_VariablePointers_toList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 11)))), boxvar_NBVariable_nameString, _OMC_LIT1, _OMC_LIT4, _OMC_LIT5, _OMC_LIT6, 1 /* true */, ((modelica_integer) 0)));
              _discretes = tmpMeta29;

              tmpMeta30 = stringAppend(_clocks,_OMC_LIT32);
              tmpMeta31 = stringAppend(tmpMeta30,omc_List_toString(threadData, omc_NBVariable_VariablePointers_toList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 15)))), boxvar_NBVariable_nameString, _OMC_LIT1, _OMC_LIT4, _OMC_LIT5, _OMC_LIT6, 1 /* true */, ((modelica_integer) 0)));
              _clocks = tmpMeta31;

              tmpMeta32 = stringAppend(_inputs,_OMC_LIT32);
              tmpMeta33 = stringAppend(tmpMeta32,omc_List_toString(threadData, omc_NBVariable_VariablePointers_toList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 17)))), boxvar_NBVariable_nameString, _OMC_LIT1, _OMC_LIT4, _OMC_LIT5, _OMC_LIT6, 1 /* true */, ((modelica_integer) 0)));
              _inputs = tmpMeta33;
            }
            else
            {
              tmpMeta34 = stringAppend(_discretes,_OMC_LIT37);
              _discretes = tmpMeta34;

              tmpMeta35 = stringAppend(_clocks,_OMC_LIT38);
              _clocks = tmpMeta35;

              tmpMeta36 = stringAppend(_inputs,_OMC_LIT39);
              _inputs = tmpMeta36;
            }

            if((omc_Flags_isSet(threadData, _OMC_LIT36) || omc_Flags_isSet(threadData, _OMC_LIT43)))
            {
              tmpMeta37 = stringAppend(_discrete_states,_OMC_LIT32);
              tmpMeta38 = stringAppend(tmpMeta37,omc_List_toString(threadData, omc_NBVariable_VariablePointers_toList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 12)))), boxvar_NBVariable_nameString, _OMC_LIT1, _OMC_LIT4, _OMC_LIT5, _OMC_LIT6, 1 /* true */, ((modelica_integer) 0)));
              _discrete_states = tmpMeta38;

              tmpMeta39 = stringAppend(_clocked_states,_OMC_LIT32);
              tmpMeta40 = stringAppend(tmpMeta39,omc_List_toString(threadData, omc_NBVariable_VariablePointers_toList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 13)))), boxvar_NBVariable_nameString, _OMC_LIT1, _OMC_LIT4, _OMC_LIT5, _OMC_LIT6, 1 /* true */, ((modelica_integer) 0)));
              _clocked_states = tmpMeta40;
            }
            else
            {
              tmpMeta41 = stringAppend(_discrete_states,_OMC_LIT44);
              _discrete_states = tmpMeta41;

              tmpMeta42 = stringAppend(_clocked_states,_OMC_LIT45);
              _clocked_states = tmpMeta42;
            }

            tmpMeta43 = stringAppend(_OMC_LIT46,_p_ode);
            tmpMeta44 = stringAppend(tmpMeta43,_OMC_LIT2);
            tmpMeta45 = stringAppend(tmpMeta44,_OMC_LIT47);
            tmpMeta46 = stringAppend(tmpMeta45,_p_alg);
            tmpMeta47 = stringAppend(tmpMeta46,_OMC_LIT2);
            tmpMeta48 = stringAppend(tmpMeta47,_OMC_LIT48);
            tmpMeta49 = stringAppend(tmpMeta48,_p_ode_e);
            tmpMeta50 = stringAppend(tmpMeta49,_OMC_LIT2);
            tmpMeta51 = stringAppend(tmpMeta50,_OMC_LIT49);
            tmpMeta52 = stringAppend(tmpMeta51,_p_alg_e);
            tmpMeta53 = stringAppend(tmpMeta52,_OMC_LIT2);
            tmpMeta54 = stringAppend(tmpMeta53,_OMC_LIT50);
            tmpMeta55 = stringAppend(tmpMeta54,_p_clk);
            tmpMeta56 = stringAppend(tmpMeta55,_OMC_LIT2);
            tmpMeta57 = stringAppend(tmpMeta56,_OMC_LIT51);
            tmpMeta58 = stringAppend(tmpMeta57,_p_ini);
            tmpMeta59 = stringAppend(tmpMeta58,_OMC_LIT2);
            tmpMeta60 = stringAppend(tmpMeta59,_OMC_LIT52);
            tmpMeta61 = stringAppend(tmpMeta60,_p_ini_0);
            omc_Error_addCompilerNotification(threadData, tmpMeta61);

            tmpMeta62 = stringAppend(_OMC_LIT53,_states);
            tmpMeta63 = stringAppend(tmpMeta62,_OMC_LIT2);
            tmpMeta64 = stringAppend(tmpMeta63,_OMC_LIT54);
            tmpMeta65 = stringAppend(tmpMeta64,_discrete_states);
            tmpMeta66 = stringAppend(tmpMeta65,_OMC_LIT2);
            tmpMeta67 = stringAppend(tmpMeta66,_OMC_LIT55);
            tmpMeta68 = stringAppend(tmpMeta67,_clocked_states);
            tmpMeta69 = stringAppend(tmpMeta68,_OMC_LIT2);
            tmpMeta70 = stringAppend(tmpMeta69,_OMC_LIT56);
            tmpMeta71 = stringAppend(tmpMeta70,_discretes);
            tmpMeta72 = stringAppend(tmpMeta71,_OMC_LIT2);
            tmpMeta73 = stringAppend(tmpMeta72,_OMC_LIT57);
            tmpMeta74 = stringAppend(tmpMeta73,_clocks);
            tmpMeta75 = stringAppend(tmpMeta74,_OMC_LIT2);
            tmpMeta76 = stringAppend(tmpMeta75,_OMC_LIT58);
            tmpMeta77 = stringAppend(tmpMeta76,_inputs);
            omc_Error_addCompilerNotification(threadData, tmpMeta77);

            tmpMeta78 = mmc_mk_cons((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 2))), mmc_mk_cons((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 3))), mmc_mk_cons((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 4))), mmc_mk_cons((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 5))), MMC_REFSTRUCTLIT(mmc_nil)))));
            omc_NBackendDAE_strongcomponentinfo(threadData, _OMC_LIT59, tmpMeta78);

            tmpMeta79 = mmc_mk_cons((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 7))), MMC_REFSTRUCTLIT(mmc_nil));
            omc_NBackendDAE_strongcomponentinfo(threadData, _OMC_LIT60, tmpMeta79);

            if(isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 8)))))
            {
              tmpMeta80 = mmc_mk_cons(omc_Util_getOption(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 8)))), MMC_REFSTRUCTLIT(mmc_nil));
              omc_NBackendDAE_strongcomponentinfo(threadData, _OMC_LIT61, tmpMeta80);
            }
            goto tmp2_done;
          }
          }
          goto tmp2_end;
          tmp2_end: ;
        }
        goto goto_1;
        goto_1:;
        MMC_THROW_INTERNAL();
        goto tmp2_done;
        tmp2_done:;
      }
    }
    ;
  }
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_metatype omc_NBackendDAE_lowerFunctions(threadData_t *threadData, modelica_metatype __omcQ_24in_5FfuncTree)
{
  modelica_metatype _funcTree = NULL;
  modelica_metatype _functions = NULL;
  modelica_metatype _path = NULL;
  modelica_metatype _fn = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _funcTree = __omcQ_24in_5FfuncTree;
  _functions = omc_UnorderedMap_new(threadData, boxvar_AbsynUtil_pathHash, boxvar_AbsynUtil_pathEqual, ((modelica_integer) 1));
  // _path has no default value.
  // _fn has no default value.
  tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
  {
    modelica_metatype _tpl;
    for (tmpMeta1 = omc_NFFlatten_FunctionTreeImpl_toList(threadData, _funcTree, tmpMeta6); !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _tpl = MMC_CAR(tmpMeta1);
      /* Pattern-matching assignment */
      tmpMeta2 = _tpl;
      tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 1));
      tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
      _path = tmpMeta3;
      _fn = tmpMeta4;

      _fn = omc_NBDifferentiate_resolvePartialDerivatives(threadData, _fn, _funcTree ,&_funcTree);

      omc_UnorderedMap_add(threadData, _path, _fn, _functions);
    }
  }
  _return: OMC_LABEL_UNUSED
  return _funcTree;
}

DLLDirection
modelica_metatype omc_NBackendDAE_lowerIteratorExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp)
{
  modelica_metatype _exp = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _exp = __omcQ_24in_5Fexp;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _exp;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_exp), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[3] = omc_NBackendDAE_lowerIteratorCref(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3))));
          _exp = tmpMeta6;
          tmpMeta1 = _exp;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _exp;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _exp = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _exp;
}

DLLDirection
modelica_metatype omc_NBackendDAE_lowerIteratorCref(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fiterator)
{
  modelica_metatype _iterator = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _iterator = __omcQ_24in_5Fiterator;
  _iterator = omc_NBVariable_getVarName(threadData, omc_NBackendDAE_lowerIterator(threadData, _iterator));
  _return: OMC_LABEL_UNUSED
  return _iterator;
}

DLLDirection
modelica_metatype omc_NBackendDAE_lowerIterator(threadData_t *threadData, modelica_metatype _iterator)
{
  modelica_metatype _var_ptr = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var_ptr = omc_NBackendDAE_lowerVariable(threadData, omc_NFVariable_fromCref(threadData, _iterator));
  _return: OMC_LABEL_UNUSED
  return _var_ptr;
}

static modelica_metatype closure4_NBackendDAE_collectIterators(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_exp)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBackendDAE_collectIterators(thData, $in_exp, variables, set);
}
DLLDirection
modelica_metatype omc_NBackendDAE_lowerEquationIterators(threadData_t *threadData, modelica_metatype __omcQ_24in_5Feqn, modelica_metatype _variables, modelica_metatype _set)
{
  modelica_metatype _eqn = NULL;
  modelica_metatype _iter = NULL;
  modelica_metatype _iterators = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _eqn = __omcQ_24in_5Feqn;
  _iter = omc_NBEquation_Equation_getForIterator(threadData, _eqn);
  // _iterators has no default value.
  _iterators = omc_NBEquation_Iterator_getFrames(threadData, _iter, NULL, NULL);

  {
    modelica_metatype _iter;
    for (tmpMeta1 = _iterators; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _iter = MMC_CAR(tmpMeta1);
      omc_UnorderedSet_add(threadData, omc_NBackendDAE_lowerIterator(threadData, _iter), _set);
    }
  }

  tmpMeta3 = mmc_mk_box2(0, _variables, _set);
  omc_NBEquation_Equation_map(threadData, _eqn, (modelica_fnptr) mmc_mk_box2(0,closure4_NBackendDAE_collectIterators,tmpMeta3), mmc_mk_none(), boxvar_NFExpression_map);
  _return: OMC_LABEL_UNUSED
  return _eqn;
}

DLLDirection
modelica_metatype omc_NBackendDAE_lowerComponentReferenceInstNode(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_metatype _var)
{
  modelica_metatype _cref = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cref = __omcQ_24in_5Fcref;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cref;
    {
      modelica_metatype _qual = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _qual has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,5) == 0) goto tmp3_end;
          
          _qual = tmp4_1;
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box3(10, &NFInstNode_InstNode_VAR__NODE__desc, omc_NFInstNode_InstNode_name(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_qual), 2)))), _var);
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_qual), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[2] = tmpMeta7;
          _qual = tmpMeta6;
          tmpMeta1 = _qual;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _cref;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _cref = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _cref;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerInstNode(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fnode, modelica_metatype _variables)
{
  modelica_metatype _node = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _node = __omcQ_24in_5Fnode;
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _cref = omc_NFComponentRef_fromNode(threadData, _node, _OMC_LIT66, tmpMeta1, 3);
  // _var has no default value.
  _var = omc_NBVariable_VariablePointers_getVarSafe(threadData, _variables, omc_NFComponentRef_stripSubscriptsAll(threadData, _cref), _OMC_LIT69);

  tmpMeta2 = mmc_mk_box3(10, &NFInstNode_InstNode_VAR__NODE__desc, omc_NFInstNode_InstNode_name(threadData, _node), _var);
  _node = tmpMeta2;
  _return: OMC_LABEL_UNUSED
  return _node;
}

PROTECTED_FUNCTION_STATIC void omc_NBackendDAE_collectIterator(threadData_t *threadData, modelica_metatype _iterator, modelica_metatype _variables, modelica_metatype _set)
{
  modelica_metatype _cref = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _cref has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _cref = omc_NFComponentRef_fromNode(threadData, _iterator, omc_NFInstNode_InstNode_getType(threadData, _iterator), tmpMeta1, 3);

  if((!omc_NBVariable_VariablePointers_containsCref(threadData, _cref, _variables)))
  {
    omc_UnorderedSet_add(threadData, omc_NBackendDAE_lowerIterator(threadData, _cref), _set);
  }
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_collectIterators(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype _variables, modelica_metatype _set)
{
  modelica_metatype _exp = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _exp = __omcQ_24in_5Fexp;
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp7_1;
            tmp7_1 = _exp;
            {
              modelica_metatype _call = NULL;
              volatile mmc_switch_type tmp7;
              int tmp8;
              // _call has no default value.
              tmp7 = 0;
              for (; tmp7 < 4; tmp7++) {
                switch (MMC_SWITCH_CAST(tmp7)) {
                case 0: {
                  if (mmc__uniontype__metarecord__typedef__equal(tmp7_1,6,2) == 0) goto tmp6_end;
                  
                  /* Pattern matching succeeded */
                  /* Check guard condition after assignments */
                  if (!(!((omc_NBVariable_VariablePointers_containsCref(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3))), _variables) || omc_NFComponentRef_isNameNode(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3))))) || omc_NFComponentRef_isWild(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3))))))) goto tmp6_end;
                  omc_UnorderedSet_add(threadData, omc_NBackendDAE_lowerIterator(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3)))), _set);
                  goto tmp6_done;
                }
                case 1: {
                  modelica_metatype tmpMeta9;
                  modelica_metatype tmpMeta10;
                  modelica_metatype tmpMeta11;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp7_1,13,1) == 0) goto tmp6_end;
                  tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 2));
                  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,4,5) == 0) goto tmp6_end;
                  
                  _call = tmpMeta9;
                  /* Pattern matching succeeded */
                  {
                    modelica_metatype _tpl;
                    for (tmpMeta10 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_call), 6))); !listEmpty(tmpMeta10); tmpMeta10=MMC_CDR(tmpMeta10))
                    {
                      _tpl = MMC_CAR(tmpMeta10);
                      omc_NBackendDAE_collectIterator(threadData, omc_Util_tuple21(threadData, _tpl), _variables, _set);
                    }
                  }
                  goto tmp6_done;
                }
                case 2: {
                  modelica_metatype tmpMeta12;
                  modelica_metatype tmpMeta13;
                  modelica_metatype tmpMeta14;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp7_1,13,1) == 0) goto tmp6_end;
                  tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 2));
                  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta12,6,8) == 0) goto tmp6_end;
                  
                  _call = tmpMeta12;
                  /* Pattern matching succeeded */
                  {
                    modelica_metatype _tpl;
                    for (tmpMeta13 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_call), 7))); !listEmpty(tmpMeta13); tmpMeta13=MMC_CDR(tmpMeta13))
                    {
                      _tpl = MMC_CAR(tmpMeta13);
                      omc_NBackendDAE_collectIterator(threadData, omc_Util_tuple21(threadData, _tpl), _variables, _set);
                    }
                  }
                  goto tmp6_done;
                }
                case 3: {
                  
                  /* Pattern matching succeeded */
                  goto tmp6_done;
                }
                }
                goto tmp6_end;
                tmp6_end: ;
              }
              goto goto_5;
              goto_5:;
              goto goto_1;
              goto tmp6_done;
              tmp6_done:;
            }
          }
          ;
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          /* Pattern matching succeeded */
          tmpMeta16 = stringAppend(_OMC_LIT75,omc_NFExpression_toString(threadData, _exp));
          tmpMeta15 = mmc_mk_cons(tmpMeta16, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT74, tmpMeta15);

          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _exp;
}

static modelica_metatype closure5_NBackendDAE_lowerComponentReferenceExp(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_exp)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype complete = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBackendDAE_lowerComponentReferenceExp(thData, $in_exp, variables, complete);
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerDimension(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fdim, modelica_metatype _variables)
{
  modelica_metatype _dim = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _dim = __omcQ_24in_5Fdim;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _dim;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box2(0, _variables, mmc_mk_boolean(1 /* true */));
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_dim), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[4] = omc_NFExpression_map(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dim), 4))), (modelica_fnptr) mmc_mk_box2(0,closure5_NBackendDAE_lowerComponentReferenceExp,tmpMeta7));
          _dim = tmpMeta6;
          tmpMeta1 = _dim;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _dim;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _dim = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _dim;
}

static modelica_metatype closure7_NBackendDAE_lowerComponentReferenceExp(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_exp)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype complete = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBackendDAE_lowerComponentReferenceExp(thData, $in_exp, variables, complete);
}static modelica_metatype closure6_NFSubscript_mapExp(threadData_t *thData, modelica_metatype closure, modelica_metatype subscript)
{
  modelica_fnptr func = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFSubscript_mapExp(thData, subscript, func);
}
DLLDirection
modelica_metatype omc_NBackendDAE_lowerComponentReference(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_metatype _variables, modelica_boolean _complete)
{
  modelica_metatype _cref = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype _subs = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cref = __omcQ_24in_5Fcref;
  // _var has no default value.
  // _subs has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          /* Pattern matching succeeded */
          if((!omc_NFComponentRef_isWild(threadData, _cref)))
          {
            _var = omc_NBVariable_VariablePointers_getVarSafe(threadData, _variables, omc_NFComponentRef_stripSubscriptsAll(threadData, _cref), (_complete?_OMC_LIT77:mmc_mk_none()));

            _cref = omc_NBackendDAE_lowerComponentReferenceInstNode(threadData, _cref, _var);

            tmpMeta6 = mmc_mk_box2(0, _variables, mmc_mk_boolean(1 /* true */));
            tmpMeta5 = mmc_mk_box1(0, (modelica_fnptr) mmc_mk_box2(0,closure7_NBackendDAE_lowerComponentReferenceExp,tmpMeta6));
            _cref = omc_NFComponentRef_mapSubscripts(threadData, _cref, (modelica_fnptr) mmc_mk_box2(0,closure6_NFSubscript_mapExp,tmpMeta5), 0 /* false */);
          }
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          /* Pattern matching succeeded */
          if((omc_Flags_isSet(threadData, _OMC_LIT82) && _complete))
          {
            tmpMeta8 = stringAppend(_OMC_LIT78,omc_NFComponentRef_toString(threadData, _cref));
            tmpMeta7 = mmc_mk_cons(tmpMeta8, MMC_REFSTRUCTLIT(mmc_nil));
            omc_Error_addMessage(threadData, _OMC_LIT74, tmpMeta7);
          }
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _cref;
}
modelica_metatype boxptr_NBackendDAE_lowerComponentReference(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_metatype _variables, modelica_metatype _complete)
{
  modelica_integer tmp1;
  modelica_metatype _cref = NULL;
  tmp1 = mmc_unbox_integer(_complete);
  _cref = omc_NBackendDAE_lowerComponentReference(threadData, __omcQ_24in_5Fcref, _variables, tmp1);
  /* skip box _cref; NFComponentRef */
  return _cref;
}

static modelica_metatype closure8_NBackendDAE_lowerInstNode(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_node)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBackendDAE_lowerInstNode(thData, $in_node, variables);
}static modelica_metatype closure9_NBackendDAE_lowerInstNode(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_node)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBackendDAE_lowerInstNode(thData, $in_node, variables);
}static modelica_metatype closure11_NBackendDAE_lowerDimension(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_dim)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBackendDAE_lowerDimension(thData, $in_dim, variables);
}static modelica_metatype closure10_NFType_applyToDims(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_ty)
{
  modelica_fnptr func = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFType_applyToDims(thData, $in_ty, func);
}
DLLDirection
modelica_metatype omc_NBackendDAE_lowerComponentReferenceExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype _variables, modelica_boolean _complete)
{
  modelica_metatype _exp = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _exp = __omcQ_24in_5Fexp;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _exp;
    {
      modelica_metatype _call = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _call has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(!omc_NFComponentRef_isNameNode(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3)))))) goto tmp3_end;
          tmpMeta6 = mmc_mk_box3(9, &NFExpression_CREF__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 2))), omc_NBackendDAE_lowerComponentReference(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_exp), 3))), _variables, _complete));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,4,5) == 0) goto tmp3_end;
          
          _call = tmpMeta7;
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar1;
            modelica_metatype* tmp10;
            modelica_metatype tmpMeta11;
            modelica_metatype tmpMeta12;
            modelica_metatype __omcQ_24tmpVar0;
            modelica_integer tmp13;
            modelica_metatype _tpl_loopVar = 0;
            modelica_metatype _tpl;
            _tpl_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_call), 6)));
            tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar1 = tmpMeta11; /* defaultValue */
            tmp10 = &__omcQ_24tmpVar1;
            while(1) {
              tmp13 = 1;
              if (!listEmpty(_tpl_loopVar)) {
                _tpl = MMC_CAR(_tpl_loopVar);
                _tpl_loopVar = MMC_CDR(_tpl_loopVar);
                tmp13--;
              }
              if (tmp13 == 0) {
                tmpMeta12 = mmc_mk_box1(0, _variables);
                __omcQ_24tmpVar0 = omc_Util_applyTuple21(threadData, _tpl, (modelica_fnptr) mmc_mk_box2(0,closure8_NBackendDAE_lowerInstNode,tmpMeta12));
                *tmp10 = mmc_mk_cons(__omcQ_24tmpVar0,0);
                tmp10 = &MMC_CDR(*tmp10);
              } else if (tmp13 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp10 = mmc_mk_nil();
            tmpMeta9 = __omcQ_24tmpVar1;
          }
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(7));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_call), 7*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[6] = tmpMeta9;
          _call = tmpMeta8;

          tmpMeta14 = MMC_TAGPTR(mmc_alloc_words(3));
          memcpy(MMC_UNTAGPTR(tmpMeta14), MMC_UNTAGPTR(_exp), 3*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta14))[2] = _call;
          _exp = tmpMeta14;
          tmpMeta1 = _exp;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta22;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,1) == 0) goto tmp3_end;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta15,6,8) == 0) goto tmp3_end;
          
          _call = tmpMeta15;
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar3;
            modelica_metatype* tmp18;
            modelica_metatype tmpMeta19;
            modelica_metatype tmpMeta20;
            modelica_metatype __omcQ_24tmpVar2;
            modelica_integer tmp21;
            modelica_metatype _tpl_loopVar = 0;
            modelica_metatype _tpl;
            _tpl_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_call), 7)));
            tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar3 = tmpMeta19; /* defaultValue */
            tmp18 = &__omcQ_24tmpVar3;
            while(1) {
              tmp21 = 1;
              if (!listEmpty(_tpl_loopVar)) {
                _tpl = MMC_CAR(_tpl_loopVar);
                _tpl_loopVar = MMC_CDR(_tpl_loopVar);
                tmp21--;
              }
              if (tmp21 == 0) {
                tmpMeta20 = mmc_mk_box1(0, _variables);
                __omcQ_24tmpVar2 = omc_Util_applyTuple21(threadData, _tpl, (modelica_fnptr) mmc_mk_box2(0,closure9_NBackendDAE_lowerInstNode,tmpMeta20));
                *tmp18 = mmc_mk_cons(__omcQ_24tmpVar2,0);
                tmp18 = &MMC_CDR(*tmp18);
              } else if (tmp21 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp18 = mmc_mk_nil();
            tmpMeta17 = __omcQ_24tmpVar3;
          }
          tmpMeta16 = MMC_TAGPTR(mmc_alloc_words(10));
          memcpy(MMC_UNTAGPTR(tmpMeta16), MMC_UNTAGPTR(_call), 10*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta16))[7] = tmpMeta17;
          _call = tmpMeta16;

          tmpMeta22 = MMC_TAGPTR(mmc_alloc_words(3));
          memcpy(MMC_UNTAGPTR(tmpMeta22), MMC_UNTAGPTR(_exp), 3*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta22))[2] = _call;
          _exp = tmpMeta22;
          tmpMeta1 = _exp;
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _exp;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _exp = tmpMeta1;

  tmpMeta24 = mmc_mk_box1(0, _variables);
  tmpMeta23 = mmc_mk_box1(0, (modelica_fnptr) mmc_mk_box2(0,closure11_NBackendDAE_lowerDimension,tmpMeta24));
  _exp = omc_NFExpression_applyToType(threadData, _exp, (modelica_fnptr) mmc_mk_box2(0,closure10_NFType_applyToDims,tmpMeta23));
  _return: OMC_LABEL_UNUSED
  return _exp;
}
modelica_metatype boxptr_NBackendDAE_lowerComponentReferenceExp(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_metatype _variables, modelica_metatype _complete)
{
  modelica_integer tmp1;
  modelica_metatype _exp = NULL;
  tmp1 = mmc_unbox_integer(_complete);
  _exp = omc_NBackendDAE_lowerComponentReferenceExp(threadData, __omcQ_24in_5Fexp, _variables, tmp1);
  /* skip box _exp; NFExpression */
  return _exp;
}

static modelica_metatype closure12_NBackendDAE_lowerComponentReferenceExp(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_exp)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype complete = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBackendDAE_lowerComponentReferenceExp(thData, $in_exp, variables, complete);
}static modelica_metatype closure13_NBackendDAE_lowerComponentReference(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_cref)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype complete = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBackendDAE_lowerComponentReference(thData, $in_cref, variables, complete);
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerComponentReferences(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fequations, modelica_metatype _variables)
{
  modelica_metatype _equations = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _equations = __omcQ_24in_5Fequations;
  tmpMeta1 = mmc_mk_box2(0, _variables, mmc_mk_boolean(1 /* true */));
  tmpMeta2 = mmc_mk_box2(0, _variables, mmc_mk_boolean(1 /* true */));
  _equations = omc_NBEquation_EquationPointers_mapExp(threadData, _equations, (modelica_fnptr) mmc_mk_box2(0,closure12_NBackendDAE_lowerComponentReferenceExp,tmpMeta1), mmc_mk_some((modelica_fnptr) mmc_mk_box2(0,closure13_NBackendDAE_lowerComponentReference,tmpMeta2)));
  _return: OMC_LABEL_UNUSED
  return _equations;
}

DLLDirection
modelica_metatype omc_NBackendDAE_lowerEquationAttributes(threadData_t *threadData, modelica_metatype _ty, modelica_boolean _init)
{
  modelica_metatype _attr = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _attr has no default value.
  if(omc_NFType_isClock(threadData, _ty))
  {
    _attr = omc_NBEquation_default(threadData, 3, _init, _OMC_LIT83);
  }
  else
  {
    if(omc_NFType_isDiscrete(threadData, _ty))
    {
      _attr = omc_NBEquation_default(threadData, 2, _init, mmc_mk_none());
    }
    else
    {
      _attr = omc_NBEquation_default(threadData, 1, _init, mmc_mk_none());
    }
  }
  _return: OMC_LABEL_UNUSED
  return _attr;
}
modelica_metatype boxptr_NBackendDAE_lowerEquationAttributes(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _init)
{
  modelica_integer tmp1;
  modelica_metatype _attr = NULL;
  tmp1 = mmc_unbox_integer(_init);
  _attr = omc_NBackendDAE_lowerEquationAttributes(threadData, _ty, tmp1);
  /* skip box _attr; NBEquation.EquationAttributes */
  return _attr;
}

DLLDirection
modelica_metatype omc_NBackendDAE_lowerAlgorithm(threadData_t *threadData, modelica_metatype _alg, modelica_boolean _init)
{
  modelica_metatype _eq = NULL;
  modelica_integer _size;
  modelica_metatype _inputs = NULL;
  modelica_metatype _outputs = NULL;
  modelica_metatype _attr = NULL;
  modelica_integer tmp1;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _eq has no default value.
  // _size has no default value.
  // _inputs has no default value.
  // _outputs has no default value.
  // _attr has no default value.
  {
    modelica_integer __omcQ_24tmpVar5;
    modelica_integer __omcQ_24tmpVar4;
    modelica_integer tmp2;
    modelica_metatype _out_loopVar = 0;
    modelica_metatype _out;
    _out_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_alg), 4)));
    __omcQ_24tmpVar5 = ((modelica_integer) 0); /* defaultValue */
    while(1) {
      tmp2 = 1;
      if (!listEmpty(_out_loopVar)) {
        _out = MMC_CAR(_out_loopVar);
        _out_loopVar = MMC_CDR(_out_loopVar);
        tmp2--;
      }
      if (tmp2 == 0) {
        __omcQ_24tmpVar4 = omc_NFComponentRef_size(threadData, _out, 0 /* false */, 0 /* false */);
        __omcQ_24tmpVar5 = __omcQ_24tmpVar5 + __omcQ_24tmpVar4;
      } else if (tmp2 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    tmp1 = __omcQ_24tmpVar5;
  }
  _size = tmp1;

  if(listEmpty((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_alg), 4)))))
  {
    _attr = omc_NBEquation_default(threadData, 4, _init, mmc_mk_none());
  }
  else
  {
    if(omc_NFComponentRef_listHasDiscrete(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_alg), 4)))))
    {
      _attr = omc_NBEquation_default(threadData, 2, _init, mmc_mk_none());
    }
    else
    {
      _attr = omc_NBEquation_default(threadData, 1, _init, mmc_mk_none());
    }
  }

  tmpMeta3 = mmc_mk_box6(6, &NBEquation_Equation_ALGORITHM__desc, mmc_mk_integer(_size), _alg, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_alg), 6))), _OMC_LIT84, _attr);
  _eq = omc_Pointer_create(threadData, tmpMeta3);
  _return: OMC_LABEL_UNUSED
  return _eq;
}
modelica_metatype boxptr_NBackendDAE_lowerAlgorithm(threadData_t *threadData, modelica_metatype _alg, modelica_metatype _init)
{
  modelica_integer tmp1;
  modelica_metatype _eq = NULL;
  tmp1 = mmc_unbox_integer(_init);
  _eq = omc_NBackendDAE_lowerAlgorithm(threadData, _alg, tmp1);
  /* skip box _eq; Pointer<NBEquation.Equation> */
  return _eq;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerWhenBranchStatement(threadData_t *threadData, modelica_metatype _eq, modelica_metatype _condition)
{
  modelica_metatype _stmt = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _stmt has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _eq;
    {
      modelica_metatype _cref = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cref has no default value.
      tmp4 = 0;
      for (; tmp4 < 7; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box3(6, &NBEquation_WhenStatement_TERMINATE__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 4))));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,4) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,6,2) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          
          _cref = tmpMeta8;
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_box4(4, &NBEquation_WhenStatement_REINIT__desc, _cref, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 5))));
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta10 = mmc_mk_box3(7, &NBEquation_WhenStatement_NORETCALL__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 4))));
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,5) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta11 = mmc_mk_box5(5, &NBEquation_WhenStatement_ASSERT__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 6))));
          tmpMeta1 = tmpMeta11;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,5) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta12 = mmc_mk_box4(3, &NBEquation_WhenStatement_ASSIGN__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 6))));
          tmpMeta1 = tmpMeta12;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,5) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_box4(3, &NBEquation_WhenStatement_ASSIGN__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 6))));
          tmpMeta1 = tmpMeta13;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          
          /* Pattern matching succeeded */
          tmpMeta15 = stringAppend(_OMC_LIT85,omc_NFEquation_toString(threadData, _eq, _OMC_LIT1));
          tmpMeta14 = mmc_mk_cons(tmpMeta15, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT74, tmpMeta14);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _stmt = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _stmt;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerWhenBranchBody(threadData_t *threadData, modelica_metatype _condition, modelica_metatype _body, modelica_metatype __omcQ_24in_5Fstmts)
{
  modelica_metatype _stmts = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _stmts = __omcQ_24in_5Fstmts;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _body;
    {
      modelica_metatype _elem = NULL;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _elem has no default value.
      // _rest has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _stmts;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          _elem = tmpMeta6;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_cons(omc_NBackendDAE_lowerWhenBranchStatement(threadData, _elem, _condition), _stmts);
          /* Tail recursive call */
          tmpMeta8 = _condition;
          _body = _rest;
          __omcQ_24in_5Fstmts = tmpMeta9;
          _condition = tmpMeta8;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _stmts = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _stmts;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerWhenBranch(threadData_t *threadData, modelica_metatype _branch, modelica_metatype *out_cond)
{
  modelica_metatype _stmts = NULL;
  modelica_metatype _cond = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _stmts has no default value.
  // _cond has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _branch;
    {
      modelica_metatype _condition = NULL;
      modelica_metatype _body = NULL;
      int tmp4;
      // _condition has no default value.
      // _body has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,3) == 0) goto tmp3_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _condition = tmpMeta5;
          _body = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = omc_NBackendDAE_lowerWhenBranchBody(threadData, _condition, _body, tmpMeta7);
          tmpMeta[0+1] = _condition;
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT74, _OMC_LIT87);
          goto goto_2;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT74, _OMC_LIT89);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _stmts = tmpMeta[0+0];
  _cond = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_cond) { *out_cond = _cond; }
  return _stmts;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerWhenEquationBody(threadData_t *threadData, modelica_metatype _branches)
{
  modelica_metatype _whenEq = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _whenEq has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _branches;
    {
      modelica_metatype _branch = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _stmts = NULL;
      modelica_metatype _condition = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _branch has no default value.
      // _rest has no default value.
      // _stmts has no default value.
      // _condition has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_none();
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          _branch = tmpMeta6;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _stmts = omc_NBackendDAE_lowerWhenBranch(threadData, _branch ,&_condition);
          tmpMeta8 = mmc_mk_box4(3, &NBEquation_WhenEquationBody_WHEN__EQUATION__BODY__desc, _condition, _stmts, omc_NBackendDAE_lowerWhenEquationBody(threadData, _rest));
          tmpMeta1 = mmc_mk_some(tmpMeta8);
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT74, _OMC_LIT91);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _whenEq = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _whenEq;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerWhenEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_boolean _init)
{
  modelica_metatype _backend_equations = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _backend_equations has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _frontend_equation;
    {
      modelica_metatype _branches = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _condition = NULL;
      modelica_metatype _message = NULL;
      modelica_metatype _level = NULL;
      modelica_metatype _whenEqBody = NULL;
      modelica_metatype _bodies = NULL;
      modelica_metatype _attr = NULL;
      int tmp4;
      // _branches has no default value.
      // _source has no default value.
      // _condition has no default value.
      // _message has no default value.
      // _level has no default value.
      // _whenEqBody has no default value.
      // _bodies has no default value.
      // _attr has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 8: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,3) == 0) goto tmp3_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _branches = tmpMeta5;
          _source = tmpMeta6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta7 = omc_NBackendDAE_lowerWhenEquationBody(threadData, _branches);
          if (optionNone(tmpMeta7)) goto goto_2;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          _whenEqBody = tmpMeta8;

          _bodies = omc_NBEquation_WhenEquationBody_split(threadData, _whenEqBody);
          {
            modelica_metatype __omcQ_24tmpVar7;
            modelica_metatype* tmp10;
            modelica_metatype tmpMeta11;
            modelica_metatype tmpMeta12;
            modelica_metatype __omcQ_24tmpVar6;
            modelica_integer tmp13;
            modelica_metatype _b_loopVar = 0;
            modelica_metatype _b;
            _b_loopVar = _bodies;
            tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar7 = tmpMeta11; /* defaultValue */
            tmp10 = &__omcQ_24tmpVar7;
            while(1) {
              tmp13 = 1;
              if (!listEmpty(_b_loopVar)) {
                _b = MMC_CAR(_b_loopVar);
                _b_loopVar = MMC_CDR(_b_loopVar);
                tmp13--;
              }
              if (tmp13 == 0) {
                tmpMeta12 = mmc_mk_box5(9, &NBEquation_Equation_WHEN__EQUATION__desc, mmc_mk_integer(omc_NBEquation_WhenEquationBody_size(threadData, _b, 0 /* false */)), _b, _source, omc_NBEquation_default(threadData, ((omc_NBEquation_WhenEquationBody_size(threadData, _b, 0 /* false */) > ((modelica_integer) 0))?2:4), _init, mmc_mk_none()));
                __omcQ_24tmpVar6 = omc_Pointer_create(threadData, tmpMeta12);
                *tmp10 = mmc_mk_cons(__omcQ_24tmpVar6,0);
                tmp10 = &MMC_CDR(*tmp10);
              } else if (tmp13 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp10 = mmc_mk_nil();
            tmpMeta9 = __omcQ_24tmpVar7;
          }
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,5) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          _condition = tmpMeta14;
          _message = tmpMeta15;
          _level = tmpMeta16;
          _source = tmpMeta17;
          /* Pattern matching succeeded */
          _attr = omc_NBEquation_default(threadData, 4, _init, mmc_mk_none());

          tmpMeta19 = mmc_mk_box5(5, &NBEquation_WhenStatement_ASSERT__desc, _condition, _message, _level, _source);
          tmpMeta18 = mmc_mk_cons(tmpMeta19, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta20 = mmc_mk_box4(3, &NBEquation_WhenEquationBody_WHEN__EQUATION__BODY__desc, _condition, tmpMeta18, mmc_mk_none());
          _whenEqBody = tmpMeta20;
          tmpMeta22 = mmc_mk_box5(9, &NBEquation_Equation_WHEN__EQUATION__desc, mmc_mk_integer(((modelica_integer) 0)), _whenEqBody, _source, _attr);
          tmpMeta21 = mmc_mk_cons(omc_Pointer_create(threadData, tmpMeta22), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta21;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          
          /* Pattern matching succeeded */
          tmpMeta24 = stringAppend(_OMC_LIT92,omc_NFEquation_toString(threadData, _frontend_equation, _OMC_LIT1));
          tmpMeta23 = mmc_mk_cons(tmpMeta24, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT74, tmpMeta23);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _backend_equations = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _backend_equations;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerWhenEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_metatype _init)
{
  modelica_integer tmp1;
  modelica_metatype _backend_equations = NULL;
  tmp1 = mmc_unbox_integer(_init);
  _backend_equations = omc_NBackendDAE_lowerWhenEquation(threadData, _frontend_equation, tmp1);
  /* skip box _backend_equations; list<Pointer<NBEquation.Equation>> */
  return _backend_equations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerIfBranchBody(threadData_t *threadData, modelica_metatype _body, modelica_boolean _init, modelica_metatype __omcQ_24in_5Feqns)
{
  modelica_metatype _eqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _eqns = __omcQ_24in_5Feqns;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _body;
    {
      modelica_metatype _elem = NULL;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _elem has no default value.
      // _rest has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _eqns;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_boolean tmp8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          _elem = tmpMeta6;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _body = _rest;
          tmp8 = _init;
          __omcQ_24in_5Feqns = listAppend(omc_NBackendDAE_lowerEquation(threadData, _elem, _init, 0 /* false */), _eqns);
          _init = tmp8;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _eqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _eqns;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerIfBranchBody(threadData_t *threadData, modelica_metatype _body, modelica_metatype _init, modelica_metatype __omcQ_24in_5Feqns)
{
  modelica_integer tmp1;
  modelica_metatype _eqns = NULL;
  tmp1 = mmc_unbox_integer(_init);
  _eqns = omc_NBackendDAE_lowerIfBranchBody(threadData, _body, tmp1, __omcQ_24in_5Feqns);
  /* skip box _eqns; list<Pointer<NBEquation.Equation>> */
  return _eqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerIfBranch(threadData_t *threadData, modelica_metatype _branch, modelica_boolean _init, modelica_metatype *out_cond)
{
  modelica_metatype _eqns = NULL;
  modelica_metatype _cond = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _eqns has no default value.
  // _cond has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _branch;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          if(omc_NFExpression_isFalse(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_branch), 2)))))
          {
            tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
            _eqns = tmpMeta5;
          }
          else
          {
            tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
            _eqns = omc_NBackendDAE_lowerIfBranchBody(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_branch), 4))), _init, tmpMeta6);
          }
          tmpMeta[0+0] = _eqns;
          tmpMeta[0+1] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_branch), 2)));
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT74, _OMC_LIT94);
          goto goto_2;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT74, _OMC_LIT96);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _eqns = tmpMeta[0+0];
  _cond = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_cond) { *out_cond = _cond; }
  return _eqns;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerIfBranch(threadData_t *threadData, modelica_metatype _branch, modelica_metatype _init, modelica_metatype *out_cond)
{
  modelica_integer tmp1;
  modelica_metatype _eqns = NULL;
  tmp1 = mmc_unbox_integer(_init);
  _eqns = omc_NBackendDAE_lowerIfBranch(threadData, _branch, tmp1, out_cond);
  /* skip box _eqns; list<Pointer<NBEquation.Equation>> */
  /* skip box _cond; NFExpression */
  return _eqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerIfEquationBody(threadData_t *threadData, modelica_metatype _branches, modelica_boolean _init, modelica_boolean _allow_imbalance)
{
  modelica_metatype _ifEq = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _ifEq has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _branches;
    {
      modelica_metatype _branch = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _condition = NULL;
      modelica_metatype _result = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _branch has no default value.
      // _rest has no default value.
      // _eqns has no default value.
      // _condition has no default value.
      // _result has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          _branch = tmpMeta6;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _eqns = omc_NBackendDAE_lowerIfBranch(threadData, _branch, _init ,&_condition);

          if(omc_NFExpression_isTrue(threadData, _condition))
          {
            tmpMeta8 = mmc_mk_box4(3, &NBEquation_IfEquationBody_IF__EQUATION__BODY__desc, _OMC_LIT97, _eqns, mmc_mk_none());
            _result = tmpMeta8;
          }
          else
          {
            if(omc_NFExpression_isFalse(threadData, _condition))
            {
              _result = omc_NBackendDAE_lowerIfEquationBody(threadData, _rest, _init, _allow_imbalance);
            }
            else
            {
              if((listEmpty(_rest) && (_init || _allow_imbalance)))
              {
                tmpMeta9 = mmc_mk_box4(3, &NBEquation_IfEquationBody_IF__EQUATION__BODY__desc, _condition, _eqns, mmc_mk_none());
                _result = tmpMeta9;
              }
              else
              {
                tmpMeta10 = mmc_mk_box4(3, &NBEquation_IfEquationBody_IF__EQUATION__BODY__desc, _condition, _eqns, mmc_mk_some(omc_NBackendDAE_lowerIfEquationBody(threadData, _rest, _init, _allow_imbalance)));
                _result = tmpMeta10;
              }
            }
          }
          tmpMeta1 = _result;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT74, _OMC_LIT99);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _ifEq = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _ifEq;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerIfEquationBody(threadData_t *threadData, modelica_metatype _branches, modelica_metatype _init, modelica_metatype _allow_imbalance)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _ifEq = NULL;
  tmp1 = mmc_unbox_integer(_init);
  tmp2 = mmc_unbox_integer(_allow_imbalance);
  _ifEq = omc_NBackendDAE_lowerIfEquationBody(threadData, _branches, tmp1, tmp2);
  /* skip box _ifEq; NBEquation.IfEquationBody */
  return _ifEq;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerIfEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_boolean _init, modelica_boolean _in_for)
{
  modelica_metatype _backend_equations = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _backend_equations has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _frontend_equation;
    {
      modelica_metatype _branches = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _ifEqBody = NULL;
      modelica_metatype _bodies = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _branches has no default value.
      // _source has no default value.
      // _ifEqBody has no default value.
      // _bodies has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _branches = tmpMeta6;
          _source = tmpMeta7;
          /* Pattern matching succeeded */
          { /* matchcontinue expression */
            {
              volatile mmc_switch_type tmp10;
              int tmp11;
              tmp10 = 0;
              MMC_TRY_INTERNAL(mmc_jumper)
              tmp9_top:
              threadData->mmc_jumper = &new_mmc_jumper;
              for (; tmp10 < 2; tmp10++) {
                switch (MMC_SWITCH_CAST(tmp10)) {
                case 0: {
                  /* Pattern matching succeeded */
                  _ifEqBody = omc_NBackendDAE_lowerIfEquationBody(threadData, _branches, _init, (_in_for || (omc_NFEquation_sizeOf(threadData, _frontend_equation) == ((modelica_integer) 0))));
                  goto tmp9_done;
                }
                case 1: {
                  modelica_metatype tmpMeta12;
                  modelica_metatype tmpMeta13;
                  /* Pattern matching succeeded */
                  tmpMeta13 = stringAppend(_OMC_LIT100,omc_NFEquation_toString(threadData, _frontend_equation, _OMC_LIT1));
                  tmpMeta12 = mmc_mk_cons(tmpMeta13, MMC_REFSTRUCTLIT(mmc_nil));
                  omc_Error_addMessage(threadData, _OMC_LIT74, tmpMeta12);

                  goto goto_8;
                  goto tmp9_done;
                }
                }
                goto tmp9_end;
                tmp9_end: ;
              }
              goto goto_8;
              tmp9_done:
              (void)tmp10;
              MMC_RESTORE_INTERNAL(mmc_jumper);
              goto tmp9_done2;
              goto_8:;
              MMC_CATCH_INTERNAL(mmc_jumper);
              if (++tmp10 < 2) {
                goto tmp9_top;
              }
              goto goto_2;
              tmp9_done2:;
            }
          }
          ;

          if(omc_NFExpression_isEnd(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ifEqBody), 2)))))
          {
            _backend_equations = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ifEqBody), 3)));
          }
          else
          {
            _bodies = omc_NBEquation_IfEquationBody_split(threadData, _ifEqBody);

            {
              modelica_metatype __omcQ_24tmpVar9;
              modelica_metatype* tmp15;
              modelica_metatype tmpMeta16;
              modelica_metatype __omcQ_24tmpVar8;
              modelica_integer tmp17;
              modelica_metatype _body_loopVar = 0;
              modelica_metatype _body;
              _body_loopVar = _bodies;
              tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
              __omcQ_24tmpVar9 = tmpMeta16; /* defaultValue */
              tmp15 = &__omcQ_24tmpVar9;
              while(1) {
                tmp17 = 1;
                if (!listEmpty(_body_loopVar)) {
                  _body = MMC_CAR(_body_loopVar);
                  _body_loopVar = MMC_CDR(_body_loopVar);
                  tmp17--;
                }
                if (tmp17 == 0) {
                  __omcQ_24tmpVar8 = omc_NBEquation_IfEquationBody_toEquation(threadData, _body, _source, _init);
                  *tmp15 = mmc_mk_cons(__omcQ_24tmpVar8,0);
                  tmp15 = &MMC_CDR(*tmp15);
                } else if (tmp17 == 1) {
                  break;
                } else {
                  goto goto_2;
                }
              }
              *tmp15 = mmc_mk_nil();
              tmpMeta14 = __omcQ_24tmpVar9;
            }
            _backend_equations = tmpMeta14;
          }
          tmpMeta1 = _backend_equations;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          
          /* Pattern matching succeeded */
          tmpMeta19 = stringAppend(_OMC_LIT101,omc_NFEquation_toString(threadData, _frontend_equation, _OMC_LIT1));
          tmpMeta18 = mmc_mk_cons(tmpMeta19, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT74, tmpMeta18);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _backend_equations = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _backend_equations;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerIfEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_metatype _init, modelica_metatype _in_for)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _backend_equations = NULL;
  tmp1 = mmc_unbox_integer(_init);
  tmp2 = mmc_unbox_integer(_in_for);
  _backend_equations = omc_NBackendDAE_lowerIfEquation(threadData, _frontend_equation, tmp1, tmp2);
  /* skip box _backend_equations; list<Pointer<NBEquation.Equation>> */
  return _backend_equations;
}

static modelica_metatype closure14_NFSimplifyExp_simplifyDump(threadData_t *thData, modelica_metatype closure, modelica_metatype exp)
{
  modelica_metatype includeScope = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_string name = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  modelica_string indent = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),3));
  return boxptr_NFSimplifyExp_simplifyDump(thData, exp, includeScope, name, indent);
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_boolean _init, modelica_boolean _in_for)
{
  modelica_metatype _backend_equations = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _backend_equations has no default value.
  { /* match expression */
    modelica_metatype tmp6_1;
    tmp6_1 = _frontend_equation;
    {
      modelica_metatype _result = NULL;
      modelica_metatype tmpMeta3;
      modelica_metatype _new_body = NULL;
      modelica_metatype tmpMeta4;
      modelica_metatype _body_elem = NULL;
      modelica_metatype _lhs = NULL;
      modelica_metatype _rhs = NULL;
      modelica_metatype _range = NULL;
      modelica_metatype _body = NULL;
      modelica_metatype _ty = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _iterator = NULL;
      modelica_metatype _attr = NULL;
      modelica_metatype _stmt = NULL;
      modelica_metatype _alg = NULL;
      modelica_metatype _bodies = NULL;
      volatile mmc_switch_type tmp6;
      int tmp7;
      tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
      _result = tmpMeta3;
      tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
      _new_body = tmpMeta4;
      // _body_elem has no default value.
      // _lhs has no default value.
      // _rhs has no default value.
      // _range has no default value.
      // _body has no default value.
      // _ty has no default value.
      // _source has no default value.
      // _iterator has no default value.
      // _attr has no default value.
      // _stmt has no default value.
      // _alg has no default value.
      // _bodies has no default value.
      tmp6 = 0;
      for (; tmp6 < 10; tmp6++) {
        switch (MMC_SWITCH_CAST(tmp6)) {
        case 0: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp6_1,1,5) == 0) goto tmp5_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 3));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 4));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 6));
          _lhs = tmpMeta8;
          _rhs = tmpMeta9;
          _ty = tmpMeta10;
          _source = tmpMeta11;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_NFType_isArray(threadData, _ty)) goto tmp5_end;
          _attr = omc_NBackendDAE_lowerEquationAttributes(threadData, _ty, _init);
          tmpMeta13 = mmc_mk_box7(4, &NBEquation_Equation_ARRAY__EQUATION__desc, _ty, _lhs, _rhs, _source, _attr, omc_NFType_complexSize(threadData, _ty, 0 /* false */));
          tmpMeta12 = mmc_mk_cons(omc_Pointer_create(threadData, tmpMeta13), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta12;
          goto tmp5_done;
        }
        case 1: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          if (mmc__uniontype__metarecord__typedef__equal(tmp6_1,0,5) == 0) goto tmp5_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 2));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 3));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 4));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 6));
          _lhs = tmpMeta14;
          _rhs = tmpMeta15;
          _ty = tmpMeta16;
          _source = tmpMeta17;
          /* Pattern matching succeeded */
          _attr = omc_NBackendDAE_lowerEquationAttributes(threadData, _ty, _init);
          { /* match expression */
            modelica_metatype tmp21_1;
            tmp21_1 = _ty;
            {
              int tmp21;
              {
                switch (MMC_SWITCH_CAST(valueConstructor(tmp21_1))) {
                case 10: {
                  modelica_metatype tmpMeta22;
                  modelica_metatype tmpMeta23;
                  
                  /* Pattern matching succeeded */
                  tmpMeta23 = mmc_mk_box7(4, &NBEquation_Equation_ARRAY__EQUATION__desc, _ty, _lhs, _rhs, _source, _attr, omc_NFType_complexSize(threadData, _ty, 0 /* false */));
                  tmpMeta22 = mmc_mk_cons(omc_Pointer_create(threadData, tmpMeta23), MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta18 = tmpMeta22;
                  goto tmp20_done;
                }
                case 14: {
                  modelica_metatype tmpMeta24;
                  modelica_metatype tmpMeta25;
                  
                  /* Pattern matching succeeded */
                  tmpMeta25 = mmc_mk_box7(5, &NBEquation_Equation_RECORD__EQUATION__desc, _ty, _lhs, _rhs, _source, _attr, mmc_mk_integer(omc_NFType_recordFieldCount(threadData, _ty)));
                  tmpMeta24 = mmc_mk_cons(omc_Pointer_create(threadData, tmpMeta25), MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta18 = tmpMeta24;
                  goto tmp20_done;
                }
                case 11: {
                  modelica_metatype tmpMeta26;
                  modelica_metatype tmpMeta27;
                  
                  /* Pattern matching succeeded */
                  tmpMeta27 = mmc_mk_box7(5, &NBEquation_Equation_RECORD__EQUATION__desc, _ty, _lhs, _rhs, _source, _attr, mmc_mk_integer(omc_NFType_tupleFieldCount(threadData, _ty)));
                  tmpMeta26 = mmc_mk_cons(omc_Pointer_create(threadData, tmpMeta27), MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta18 = tmpMeta26;
                  goto tmp20_done;
                }
                default:
                tmp20_default: OMC_LABEL_UNUSED; {
                  modelica_metatype tmpMeta28;
                  modelica_metatype tmpMeta29;
                  
                  /* Pattern matching succeeded */
                  tmpMeta29 = mmc_mk_box6(3, &NBEquation_Equation_SCALAR__EQUATION__desc, _ty, _lhs, _rhs, _source, _attr);
                  tmpMeta28 = mmc_mk_cons(omc_Pointer_create(threadData, tmpMeta29), MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta18 = tmpMeta28;
                  goto tmp20_done;
                }
                }
                goto tmp20_end;
                tmp20_end: ;
              }
              goto goto_19;
              goto_19:;
              goto goto_2;
              goto tmp20_done;
              tmp20_done:;
            }
          }tmpMeta1 = tmpMeta18;
          goto tmp5_done;
        }
        case 2: {
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          modelica_metatype tmpMeta56;
          modelica_metatype tmpMeta57;
          if (mmc__uniontype__metarecord__typedef__equal(tmp6_1,3,5) == 0) goto tmp5_end;
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 3));
          if (optionNone(tmpMeta30)) goto tmp5_end;
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta30), 1));
          
          _range = tmpMeta31;
          /* Pattern matching succeeded */
          if((omc_NFExpression_rangeSize(threadData, _range, 0 /* false */) > ((modelica_integer) 0)))
          {
            tmpMeta32 = MMC_REFSTRUCTLIT(mmc_nil);
            _iterator = omc_NFComponentRef_fromNode(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_frontend_equation), 2))), _OMC_LIT66, tmpMeta32, 3);

            {
              modelica_metatype _eq;
              for (tmpMeta33 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_frontend_equation), 4))); !listEmpty(tmpMeta33); tmpMeta33=MMC_CDR(tmpMeta33))
              {
                _eq = MMC_CAR(tmpMeta33);
                {
                  modelica_metatype _body_elem_ptr;
                  for (tmpMeta34 = omc_NBackendDAE_lowerEquation(threadData, _eq, _init, 1 /* true */); !listEmpty(tmpMeta34); tmpMeta34=MMC_CDR(tmpMeta34))
                  {
                    _body_elem_ptr = MMC_CAR(tmpMeta34);
                    _body_elem = omc_Pointer_access(threadData, _body_elem_ptr);

                    { /* match expression */
                      modelica_metatype tmp38_1;
                      tmp38_1 = _body_elem;
                      {
                        volatile mmc_switch_type tmp38;
                        int tmp39;
                        tmp38 = 0;
                        for (; tmp38 < 2; tmp38++) {
                          switch (MMC_SWITCH_CAST(tmp38)) {
                          case 0: {
                            modelica_metatype tmpMeta40;
                            modelica_metatype tmpMeta41;
                            modelica_metatype tmpMeta42;
                            modelica_metatype tmpMeta43;
                            if (mmc__uniontype__metarecord__typedef__equal(tmp38_1,4,4) == 0) goto tmp37_end;
                            
                            /* Pattern matching succeeded */
                            _bodies = omc_NBEquation_IfEquationBody_split(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_body_elem), 3))));

                            {
                              modelica_metatype _body;
                              for (tmpMeta40 = _bodies; !listEmpty(tmpMeta40); tmpMeta40=MMC_CDR(tmpMeta40))
                              {
                                _body = MMC_CAR(tmpMeta40);
                                tmpMeta42 = mmc_mk_box5(7, &NBEquation_Equation_IF__EQUATION__desc, mmc_mk_integer(omc_NBEquation_IfEquationBody_size(threadData, _body, 0 /* false */)), _body, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_body_elem), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_body_elem), 5))));
                                tmpMeta41 = mmc_mk_cons(omc_Pointer_create(threadData, tmpMeta42), _new_body);
                                _new_body = tmpMeta41;
                              }
                            }
                            tmpMeta35 = _new_body;
                            goto tmp37_done;
                          }
                          case 1: {
                            modelica_metatype tmpMeta44;
                            
                            /* Pattern matching succeeded */
                            tmpMeta44 = mmc_mk_cons(_body_elem_ptr, _new_body);
                            tmpMeta35 = tmpMeta44;
                            goto tmp37_done;
                          }
                          }
                          goto tmp37_end;
                          tmp37_end: ;
                        }
                        goto goto_36;
                        goto_36:;
                        goto goto_2;
                        goto tmp37_done;
                        tmp37_done:;
                      }
                    }
                    _new_body = tmpMeta35;
                  }
                }
              }
            }

            {
              modelica_metatype _body_elem_ptr;
              for (tmpMeta47 = _new_body; !listEmpty(tmpMeta47); tmpMeta47=MMC_CDR(tmpMeta47))
              {
                _body_elem_ptr = MMC_CAR(tmpMeta47);
                _body_elem = omc_Pointer_access(threadData, _body_elem_ptr);

                tmpMeta48 = mmc_mk_box4(3, &NBEquation_Iterator_SINGLE__desc, _iterator, _range, mmc_mk_none());
                tmpMeta49 = mmc_mk_cons(_body_elem, MMC_REFSTRUCTLIT(mmc_nil));
                tmpMeta50 = mmc_mk_box6(8, &NBEquation_Equation_FOR__EQUATION__desc, mmc_mk_integer((omc_NFExpression_rangeSize(threadData, _range, 0 /* false */)) * (omc_NBEquation_Equation_size(threadData, _body_elem_ptr, 0 /* false */))), tmpMeta48, tmpMeta49, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_frontend_equation), 6))), omc_NBEquation_Equation_getAttributes(threadData, _body_elem));
                _body_elem = tmpMeta50;

                _body_elem = omc_NBEquation_Equation_mergeIterators(threadData, _body_elem, 1 /* true */, NULL);

                tmpMeta51 = MMC_REFSTRUCTLIT(mmc_nil);
                tmpMeta52 = MMC_REFSTRUCTLIT(mmc_nil);
                tmpMeta53 = mmc_mk_box3(0, mmc_mk_boolean(1 /* true */), _OMC_LIT1, _OMC_LIT1);
                _body_elem = omc_NBEquation_Equation_simplify(threadData, _body_elem, _OMC_LIT1, _OMC_LIT1, omc_Pointer_create(threadData, tmpMeta51), omc_Pointer_create(threadData, tmpMeta52), (modelica_fnptr) mmc_mk_box2(0,closure14_NFSimplifyExp_simplifyDump,tmpMeta53));

                omc_Pointer_update(threadData, _body_elem_ptr, _body_elem);

                tmpMeta54 = mmc_mk_cons(_body_elem_ptr, _result);
                _result = tmpMeta54;
              }
            }
          }
          else
          {
            if(omc_Flags_isSet(threadData, _OMC_LIT82))
            {
              tmpMeta57 = stringAppend(_OMC_LIT106,omc_NFEquation_toString(threadData, _frontend_equation, _OMC_LIT1));
              tmpMeta56 = mmc_mk_cons(tmpMeta57, MMC_REFSTRUCTLIT(mmc_nil));
              omc_Error_addMessage(threadData, _OMC_LIT105, tmpMeta56);
            }
          }
          tmpMeta1 = _result;
          goto tmp5_done;
        }
        case 3: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp6_1,4,3) == 0) goto tmp5_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NBackendDAE_lowerIfEquation(threadData, _frontend_equation, _init, _in_for);
          goto tmp5_done;
        }
        case 4: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp6_1,5,3) == 0) goto tmp5_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NBackendDAE_lowerWhenEquation(threadData, _frontend_equation, _init);
          goto tmp5_done;
        }
        case 5: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp6_1,6,5) == 0) goto tmp5_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NBackendDAE_lowerWhenEquation(threadData, _frontend_equation, _init);
          goto tmp5_done;
        }
        case 6: {
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          modelica_metatype tmpMeta63;
          if (mmc__uniontype__metarecord__typedef__equal(tmp6_1,9,3) == 0) goto tmp5_end;
          
          /* Pattern matching succeeded */
          tmpMeta58 = mmc_mk_box3(11, &NFStatement_NORETCALL__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_frontend_equation), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_frontend_equation), 4))));
          _stmt = tmpMeta58;

          tmpMeta59 = mmc_mk_cons(_stmt, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta60 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta61 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta62 = mmc_mk_box6(3, &NFAlgorithm_ALGORITHM__desc, tmpMeta59, tmpMeta60, tmpMeta61, _OMC_LIT107, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_frontend_equation), 4))));
          _alg = tmpMeta62;

          _alg = omc_NFAlgorithm_setInputsOutputs(threadData, _alg);
          tmpMeta63 = mmc_mk_cons(omc_NBackendDAE_lowerAlgorithm(threadData, _alg, _init), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta63;
          goto tmp5_done;
        }
        case 7: {
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          if (mmc__uniontype__metarecord__typedef__equal(tmp6_1,7,3) == 0) goto tmp5_end;
          
          /* Pattern matching succeeded */
          tmpMeta65 = stringAppend(_OMC_LIT108,omc_NFEquation_toString(threadData, _frontend_equation, _OMC_LIT1));
          tmpMeta64 = mmc_mk_cons(tmpMeta65, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT74, tmpMeta64);
          goto goto_2;
          goto tmp5_done;
        }
        case 8: {
          modelica_metatype tmpMeta66;
          modelica_metatype tmpMeta67;
          if (mmc__uniontype__metarecord__typedef__equal(tmp6_1,8,4) == 0) goto tmp5_end;
          
          /* Pattern matching succeeded */
          tmpMeta67 = stringAppend(_OMC_LIT109,omc_NFEquation_toString(threadData, _frontend_equation, _OMC_LIT1));
          tmpMeta66 = mmc_mk_cons(tmpMeta67, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT74, tmpMeta66);
          goto goto_2;
          goto tmp5_done;
        }
        case 9: {
          modelica_metatype tmpMeta68;
          modelica_metatype tmpMeta69;
          
          /* Pattern matching succeeded */
          tmpMeta69 = stringAppend(_OMC_LIT110,omc_NFEquation_toString(threadData, _frontend_equation, _OMC_LIT1));
          tmpMeta68 = mmc_mk_cons(tmpMeta69, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT74, tmpMeta68);
          goto goto_2;
          goto tmp5_done;
        }
        }
        goto tmp5_end;
        tmp5_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp5_done;
      tmp5_done:;
    }
  }
  _backend_equations = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _backend_equations;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerEquation(threadData_t *threadData, modelica_metatype _frontend_equation, modelica_metatype _init, modelica_metatype _in_for)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _backend_equations = NULL;
  tmp1 = mmc_unbox_integer(_init);
  tmp2 = mmc_unbox_integer(_in_for);
  _backend_equations = omc_NBackendDAE_lowerEquation(threadData, _frontend_equation, tmp1, tmp2);
  /* skip box _backend_equations; list<Pointer<NBEquation.Equation>> */
  return _backend_equations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerEquationsAndAlgorithms(threadData_t *threadData, modelica_metatype _eq_lst, modelica_metatype _al_lst, modelica_metatype _init_eq_lst, modelica_metatype _init_al_lst)
{
  modelica_metatype _equations = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _equations = tmpMeta1;
  {
    modelica_metatype _eq;
    for (tmpMeta2 = _eq_lst; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _eq = MMC_CAR(tmpMeta2);
      _equations = listAppend(omc_NBackendDAE_lowerEquation(threadData, _eq, 0 /* false */, 0 /* false */), _equations);
    }
  }

  {
    modelica_metatype _alg;
    for (tmpMeta4 = _al_lst; !listEmpty(tmpMeta4); tmpMeta4=MMC_CDR(tmpMeta4))
    {
      _alg = MMC_CAR(tmpMeta4);
      tmpMeta5 = mmc_mk_cons(omc_NBackendDAE_lowerAlgorithm(threadData, _alg, 0 /* false */), _equations);
      _equations = tmpMeta5;
    }
  }

  {
    modelica_metatype _eq;
    for (tmpMeta7 = _init_eq_lst; !listEmpty(tmpMeta7); tmpMeta7=MMC_CDR(tmpMeta7))
    {
      _eq = MMC_CAR(tmpMeta7);
      _equations = listAppend(omc_NBackendDAE_lowerEquation(threadData, _eq, 1 /* true */, 0 /* false */), _equations);
    }
  }

  {
    modelica_metatype _alg;
    for (tmpMeta9 = _init_al_lst; !listEmpty(tmpMeta9); tmpMeta9=MMC_CDR(tmpMeta9))
    {
      _alg = MMC_CAR(tmpMeta9);
      tmpMeta10 = mmc_mk_cons(omc_NBackendDAE_lowerAlgorithm(threadData, _alg, 1 /* true */), _equations);
      _equations = tmpMeta10;
    }
  }
  _return: OMC_LABEL_UNUSED
  return _equations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerEquationData(threadData_t *threadData, modelica_metatype _eq_lst, modelica_metatype _al_lst, modelica_metatype _init_eq_lst, modelica_metatype _init_al_lst, modelica_metatype __omcQ_24in_5FvarData, modelica_metatype *out_varData)
{
  modelica_metatype _eqData = NULL;
  modelica_metatype _varData = NULL;
  modelica_metatype _set = NULL;
  modelica_metatype _equation_lst = NULL;
  modelica_metatype _continuous_lst = NULL;
  modelica_metatype _clocked_lst = NULL;
  modelica_metatype _discretes_lst = NULL;
  modelica_metatype _initials_lst = NULL;
  modelica_metatype _auxiliaries_lst = NULL;
  modelica_metatype _simulation_lst = NULL;
  modelica_metatype _removed_lst = NULL;
  modelica_metatype _equations = NULL;
  modelica_metatype _eq = NULL;
  modelica_metatype _idx = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _eqData has no default value.
  _varData = __omcQ_24in_5FvarData;
  _set = omc_UnorderedSet_new(threadData, boxvar_NBVariable_hash, boxvar_NBVariable_equalName, ((modelica_integer) 13));
  // _equation_lst has no default value.
  // _continuous_lst has no default value.
  // _clocked_lst has no default value.
  // _discretes_lst has no default value.
  // _initials_lst has no default value.
  // _auxiliaries_lst has no default value.
  // _simulation_lst has no default value.
  // _removed_lst has no default value.
  // _equations has no default value.
  // _eq has no default value.
  _idx = omc_Pointer_create(threadData, mmc_mk_integer(((modelica_integer) 0)));
  _equation_lst = omc_NBackendDAE_lowerEquationsAndAlgorithms(threadData, _eq_lst, _al_lst, _init_eq_lst, _init_al_lst);

  {
    modelica_metatype _eqn_ptr;
    for (tmpMeta1 = _equation_lst; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _eqn_ptr = MMC_CAR(tmpMeta1);
      omc_NBEquation_Equation_createName(threadData, _eqn_ptr, _idx, _OMC_LIT111);

      omc_NBEquation_Equation_renameIterators(threadData, _eqn_ptr, _OMC_LIT112);

      omc_NBackendDAE_lowerEquationIterators(threadData, omc_Pointer_access(threadData, _eqn_ptr), omc_NBVariable_VarData_getVariables(threadData, _varData), _set);
    }
  }

  _varData = omc_NBVariable_VarData_addTypedList(threadData, _varData, omc_UnorderedSet_toList(threadData, _set), 9);

  _equations = omc_NBEquation_EquationPointers_fromList(threadData, _equation_lst);

  _equations = omc_NBackendDAE_lowerComponentReferences(threadData, _equations, omc_NBVariable_VarData_getVariables(threadData, _varData));

  _simulation_lst = omc_NBEquation_typeList(threadData, omc_NBEquation_EquationPointers_toList(threadData, _equations) ,&_continuous_lst ,&_clocked_lst ,&_discretes_lst ,&_initials_lst ,&_auxiliaries_lst ,&_removed_lst);

  _equations = omc_NBEquation_EquationPointers_removeList(threadData, _clocked_lst, _equations);

  _equations = omc_NBResizable_resize(threadData, _equations, _varData, NULL);

  tmpMeta3 = mmc_mk_box10(3, &NBEquation_EqData_EQ__DATA__SIM__desc, _idx, _equations, omc_NBEquation_EquationPointers_fromList(threadData, _simulation_lst), omc_NBEquation_EquationPointers_fromList(threadData, _continuous_lst), omc_NBEquation_EquationPointers_fromList(threadData, _clocked_lst), omc_NBEquation_EquationPointers_fromList(threadData, _discretes_lst), omc_NBEquation_EquationPointers_fromList(threadData, _initials_lst), omc_NBEquation_EquationPointers_fromList(threadData, _auxiliaries_lst), omc_NBEquation_EquationPointers_fromList(threadData, _removed_lst));
  _eqData = tmpMeta3;
  _return: OMC_LABEL_UNUSED
  if (out_varData) { *out_varData = _varData; }
  return _eqData;
}

DLLDirection
void omc_NBackendDAE_lowerRecordChildren(threadData_t *threadData, modelica_metatype _var_ptr, modelica_metatype _variables)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _var;
    {
      modelica_metatype _binfo = NULL;
      modelica_metatype _varKind = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _binfo has no default value.
      // _varKind has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,14,3) == 0) goto tmp3_end;
          
          _binfo = tmpMeta6;
          _varKind = tmpMeta7;
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar11;
            modelica_metatype* tmp10;
            modelica_metatype tmpMeta11;
            modelica_metatype __omcQ_24tmpVar10;
            modelica_integer tmp12;
            modelica_metatype _child_loopVar = 0;
            modelica_metatype _child;
            _child_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 8)));
            tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar11 = tmpMeta11; /* defaultValue */
            tmp10 = &__omcQ_24tmpVar11;
            while(1) {
              tmp12 = 1;
              if (!listEmpty(_child_loopVar)) {
                _child = MMC_CAR(_child_loopVar);
                _child_loopVar = MMC_CDR(_child_loopVar);
                tmp12--;
              }
              if (tmp12 == 0) {
                __omcQ_24tmpVar10 = omc_NBVariable_VariablePointers_getVarSafe(threadData, _variables, omc_NFComponentRef_stripSubscriptsAll(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_child), 2)))), _OMC_LIT114);
                *tmp10 = mmc_mk_cons(__omcQ_24tmpVar10,0);
                tmp10 = &MMC_CDR(*tmp10);
              } else if (tmp12 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp10 = mmc_mk_nil();
            tmpMeta9 = __omcQ_24tmpVar11;
          }
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_varKind), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[2] = tmpMeta9;
          _varKind = tmpMeta8;

          {
            modelica_metatype __omcQ_24tmpVar13;
            modelica_metatype* tmp15;
            modelica_metatype tmpMeta16;
            modelica_metatype __omcQ_24tmpVar12;
            modelica_integer tmp17;
            modelica_metatype _child_loopVar = 0;
            modelica_metatype _child;
            _child_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varKind), 2)));
            tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar13 = tmpMeta16; /* defaultValue */
            tmp15 = &__omcQ_24tmpVar13;
            while(1) {
              tmp17 = 1;
              if (!listEmpty(_child_loopVar)) {
                _child = MMC_CAR(_child_loopVar);
                _child_loopVar = MMC_CDR(_child_loopVar);
                tmp17--;
              }
              if (tmp17 == 0) {
                __omcQ_24tmpVar12 = omc_NBVariable_setParent(threadData, _child, _var_ptr);
                *tmp15 = mmc_mk_cons(__omcQ_24tmpVar12,0);
                tmp15 = &MMC_CDR(*tmp15);
              } else if (tmp17 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp15 = mmc_mk_nil();
            tmpMeta14 = __omcQ_24tmpVar13;
          }
          tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_varKind), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[2] = tmpMeta14;
          _varKind = tmpMeta13;

          tmpMeta18 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta18), MMC_UNTAGPTR(_binfo), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta18))[2] = _varKind;
          _binfo = tmpMeta18;

          tmpMeta19 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta19), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta19))[11] = _binfo;
          _var = tmpMeta19;
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _var_ptr, _var);
  _return: OMC_LABEL_UNUSED
  return;
}

static modelica_metatype closure15_NBackendDAE_collectIterators(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_exp)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBackendDAE_collectIterators(thData, $in_exp, variables, set);
}static modelica_metatype closure16_NBackendDAE_collectIterators(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_exp)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBackendDAE_collectIterators(thData, $in_exp, variables, set);
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_collectVariableBindingIterators(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _variables, modelica_metatype _set)
{
  modelica_metatype _var = NULL;
  modelica_metatype _exp_opt = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = __omcQ_24in_5Fvar;
  // _exp_opt has no default value.
  tmpMeta1 = mmc_mk_box2(0, _variables, _set);
  omc_NFBackendExtension_BackendInfo_map(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), (modelica_fnptr) mmc_mk_box2(0,closure15_NBackendDAE_collectIterators,tmpMeta1));

  _exp_opt = omc_NFBinding_typedExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 4))));

  if(isSome(_exp_opt))
  {
    tmpMeta2 = mmc_mk_box2(0, _variables, _set);
    omc_NFExpression_map(threadData, omc_Util_getOption(threadData, _exp_opt), (modelica_fnptr) mmc_mk_box2(0,closure16_NBackendDAE_collectIterators,tmpMeta2));
  }
  _return: OMC_LABEL_UNUSED
  return _var;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_NBackendDAE_lowerVariableKind_lowerRecordKind(threadData_t *threadData, modelica_metatype _children, modelica_integer *out_max_var)
{
  modelica_integer _min_var;
  modelica_integer _max_var;
  modelica_integer _tmp_min_var;
  modelica_integer _tmp_max_var;
  modelica_metatype tmpMeta1;
  modelica_integer tmp2_c0 __attribute__((unused)) = 0;
  modelica_integer tmp2_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _min_var = 7;
  _max_var = 1;
  // _tmp_min_var has no default value.
  // _tmp_max_var has no default value.
  {
    modelica_metatype _child;
    for (tmpMeta1 = _children; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _child = MMC_CAR(tmpMeta1);
      
      
      { /* match expression */
        modelica_metatype tmp5_1;
        tmp5_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_child), 3)));
        {
          volatile mmc_switch_type tmp5;
          int tmp6;
          tmp5 = 0;
          for (; tmp5 < 3; tmp5++) {
            switch (MMC_SWITCH_CAST(tmp5)) {
            case 0: {
              if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,11,2) == 0) goto tmp4_end;
              
              /* Pattern matching succeeded */
              tmp2_c0 = omc_NBackendDAE_lowerVariableKind_lowerRecordKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_child), 8))), &tmp2_c1);
              goto tmp4_done;
            }
            case 1: {
              modelica_metatype tmpMeta7;
              if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,7,2) == 0) goto tmp4_end;
              tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 2));
              if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,11,2) == 0) goto tmp4_end;
              
              /* Pattern matching succeeded */
              tmp2_c0 = omc_NBackendDAE_lowerVariableKind_lowerRecordKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_child), 8))), &tmp2_c1);
              goto tmp4_done;
            }
            case 2: {
              
              /* Pattern matching succeeded */
              tmp2_c0 = omc_NFVariable_variability(threadData, _child);
              tmp2_c1 = omc_NFVariable_variability(threadData, _child);
              goto tmp4_done;
            }
            }
            goto tmp4_end;
            tmp4_end: ;
          }
          goto goto_3;
          goto_3:;
          MMC_THROW_INTERNAL();
          goto tmp4_done;
          tmp4_done:;
        }
      }
      _tmp_min_var = tmp2_c0;
      _tmp_max_var = tmp2_c1;

      _min_var = (((modelica_integer)_tmp_min_var < (modelica_integer)_min_var)?(modelica_integer)_tmp_min_var:(modelica_integer)_min_var);

      _max_var = (((modelica_integer)_tmp_max_var > (modelica_integer)_max_var)?(modelica_integer)_tmp_max_var:(modelica_integer)_max_var);
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_max_var) { *out_max_var = _max_var; }
  return _min_var;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBackendDAE_lowerVariableKind_lowerRecordKind(threadData_t *threadData, modelica_metatype _children, modelica_metatype *out_max_var)
{
  modelica_integer _max_var;
  modelica_integer _min_var;
  modelica_metatype out_min_var;
  _min_var = omc_NBackendDAE_lowerVariableKind_lowerRecordKind(threadData, _children, &_max_var);
  out_min_var = mmc_mk_icon(_min_var);
  if (out_max_var) { *out_max_var = mmc_mk_icon(_max_var); }
  return out_min_var;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerVariableKind(threadData_t *threadData, modelica_metatype _var, modelica_metatype __omcQ_24in_5Fattributes, modelica_metatype _ty, modelica_metatype *out_attributes)
{
  modelica_metatype _varKind = NULL;
  modelica_metatype _attributes = NULL;
  modelica_integer _min_var;
  modelica_integer _max_var;
  modelica_integer _variability;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta19;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _varKind has no default value.
  _attributes = __omcQ_24in_5Fattributes;
  // _min_var has no default value.
  // _max_var has no default value.
  _variability = omc_NFVariable_variability(threadData, _var);
  { /* match expression */
    modelica_integer tmp4_1;modelica_metatype tmp4_2;modelica_metatype tmp4_3;
    tmp4_1 = (modelica_integer)_variability;
    tmp4_2 = _attributes;
    tmp4_3 = _ty;
    {
      modelica_metatype _elemTy = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _elemTy has no default value.
      tmp4 = 0;
      for (; tmp4 < 17; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,4,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT115;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          if (7 != tmp4_1) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,16) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 10));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmp8 = mmc_unbox_integer(tmpMeta7);
          if (5 != tmp8) goto tmp3_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!((modelica_integer)_variability == 7)) goto tmp3_end;
          tmpMeta1 = _OMC_LIT116;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,11,2) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta10 = mmc_mk_box2(19, &NFBackendExtension_VariableKind_EXTOBJ__desc, omc_NFClass_constrainingClassPath(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2)))));
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,7,2) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,11,2) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta12,5,2) == 0) goto tmp3_end;
          
          _elemTy = tmpMeta11;
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_box2(19, &NFBackendExtension_VariableKind_EXTOBJ__desc, omc_NFClass_constrainingClassPath(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_elemTy), 2)))));
          tmpMeta1 = tmpMeta13;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,11,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _min_var = omc_NBackendDAE_lowerVariableKind_lowerRecordKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 8))) ,&_max_var);
          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta15 = mmc_mk_box4(17, &NFBackendExtension_VariableKind_RECORD__desc, tmpMeta14, mmc_mk_integer((modelica_integer)_min_var), mmc_mk_integer((modelica_integer)_max_var));
          tmpMeta1 = tmpMeta15;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,7,2) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta16,11,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          _min_var = omc_NBackendDAE_lowerVariableKind_lowerRecordKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 8))) ,&_max_var);
          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta18 = mmc_mk_box4(17, &NFBackendExtension_VariableKind_RECORD__desc, tmpMeta17, mmc_mk_integer((modelica_integer)_min_var), mmc_mk_integer((modelica_integer)_max_var));
          tmpMeta1 = tmpMeta18;
          goto tmp3_done;
        }
        case 6: {
          if (7 != tmp4_1) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,3,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT117;
          goto tmp3_done;
        }
        case 7: {
          if (7 != tmp4_1) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,0,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT117;
          goto tmp3_done;
        }
        case 8: {
          if (7 != tmp4_1) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT117;
          goto tmp3_done;
        }
        case 9: {
          if (7 != tmp4_1) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT118;
          goto tmp3_done;
        }
        case 10: {
          if (5 != tmp4_1) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT117;
          goto tmp3_done;
        }
        case 11: {
          if (6 != tmp4_1) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT117;
          goto tmp3_done;
        }
        case 12: {
          if (3 != tmp4_1) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT119;
          goto tmp3_done;
        }
        case 13: {
          if (2 != tmp4_1) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT119;
          goto tmp3_done;
        }
        case 14: {
          if (4 != tmp4_1) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT119;
          goto tmp3_done;
        }
        case 15: {
          if (1 != tmp4_1) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT120;
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT74, _OMC_LIT122);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _varKind = tmpMeta1;

  { /* match expression */
    modelica_metatype tmp22_1;
    tmp22_1 = _varKind;
    {
      volatile mmc_switch_type tmp22;
      int tmp23;
      tmp22 = 0;
      for (; tmp22 < 2; tmp22++) {
        switch (MMC_SWITCH_CAST(tmp22)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp22_1,11,1) == 0) goto tmp21_end;
          
          /* Pattern matching succeeded */
          tmpMeta19 = omc_NFBackendExtension_VariableAttributes_setFixed(threadData, _attributes, _ty, 1 /* true */, 0 /* false */);
          goto tmp21_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta19 = _attributes;
          goto tmp21_done;
        }
        }
        goto tmp21_end;
        tmp21_end: ;
      }
      goto goto_20;
      goto_20:;
      MMC_THROW_INTERNAL();
      goto tmp21_done;
      tmp21_done:;
    }
  }
  _attributes = tmpMeta19;
  _return: OMC_LABEL_UNUSED
  if (out_attributes) { *out_attributes = _attributes; }
  return _varKind;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerVariable(threadData_t *threadData, modelica_metatype _var)
{
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _varKind = NULL;
  modelica_metatype _attributes = NULL;
  modelica_metatype _annotations = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var_ptr has no default value.
  // _varKind has no default value.
  // _attributes has no default value.
  // _annotations has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          /* Pattern matching succeeded */
          _attributes = omc_NFBackendExtension_VariableAttributes_create(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 7))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 6))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 8))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 9))));

          _annotations = omc_NFBackendExtension_Annotations_create(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 9))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 6))));

          { /* match expression */
            modelica_metatype tmp9_1;
            tmp9_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)));
            {
              volatile mmc_switch_type tmp9;
              int tmp10;
              tmp9 = 0;
              for (; tmp9 < 2; tmp9++) {
                switch (MMC_SWITCH_CAST(tmp9)) {
                case 0: {
                  modelica_metatype tmpMeta11;
                  modelica_metatype tmpMeta12;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,0,7) == 0) goto tmp8_end;
                  tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp9_1), 2));
                  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,32,0) == 0) goto tmp8_end;
                  
                  /* Pattern matching succeeded */
                  _varKind = omc_NBackendDAE_lowerVariableKind(threadData, _var, _attributes, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 3))) ,&_attributes);
                  tmpMeta12 = mmc_mk_box8(3, &NFBackendExtension_BackendInfo_BACKEND__INFO__desc, _varKind, _attributes, _annotations, mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none());
                  tmpMeta6 = tmpMeta12;
                  goto tmp8_done;
                }
                case 1: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta6 = omc_NFBackendExtension_BackendInfo_setAttributes(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _attributes, _annotations);
                  goto tmp8_done;
                }
                }
                goto tmp8_end;
                tmp8_end: ;
              }
              goto goto_7;
              goto_7:;
              goto goto_1;
              goto tmp8_done;
              tmp8_done:;
            }
          }
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[11] = tmpMeta6;
          _var = tmpMeta5;

          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[7] = tmpMeta14;
          _var = tmpMeta13;

          _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), NULL);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          /* Pattern matching succeeded */
          tmpMeta16 = stringAppend(_OMC_LIT123,omc_NFVariable_toString(threadData, _var, _OMC_LIT1, 0 /* false */));
          tmpMeta15 = mmc_mk_cons(tmpMeta16, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT74, tmpMeta15);

          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _var_ptr;
}

static modelica_metatype closure17_NBackendDAE_collectVariableBindingIterators(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_var)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBackendDAE_collectVariableBindingIterators(thData, $in_var, variables, set);
}static modelica_metatype closure19_NBackendDAE_lowerComponentReferenceExp(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_exp)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype complete = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBackendDAE_lowerComponentReferenceExp(thData, $in_exp, variables, complete);
}static modelica_metatype closure18_NFVariable_mapExp(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_var)
{
  modelica_fnptr fn = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFVariable_mapExp(thData, $in_var, fn);
}static modelica_metatype closure22_NBackendDAE_lowerDimension(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_dim)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBackendDAE_lowerDimension(thData, $in_dim, variables);
}static modelica_metatype closure21_NFType_applyToDims(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_ty)
{
  modelica_fnptr func = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFType_applyToDims(thData, $in_ty, func);
}static modelica_metatype closure20_NFVariable_applyToType(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_var)
{
  modelica_fnptr func = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFVariable_applyToType(thData, $in_var, func);
}static void closure23_NBackendDAE_lowerRecordChildren(threadData_t *thData, modelica_metatype closure, modelica_metatype var_ptr)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  boxptr_NBackendDAE_lowerRecordChildren(thData, var_ptr, variables);
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBackendDAE_lowerVariableData(threadData_t *threadData, modelica_metatype _varList)
{
  modelica_metatype _variableData = NULL;
  modelica_metatype _lowVar = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _lowVar_ptr = NULL;
  modelica_metatype _time_ptr = NULL;
  modelica_metatype _dummy_ptr = NULL;
  modelica_metatype _unknowns_lst = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _knowns_lst = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype _initials_lst = NULL;
  modelica_metatype tmpMeta3;
  modelica_metatype _auxiliaries_lst = NULL;
  modelica_metatype tmpMeta4;
  modelica_metatype _aliasVars_lst = NULL;
  modelica_metatype tmpMeta5;
  modelica_metatype _nonTrivialAlias_lst = NULL;
  modelica_metatype tmpMeta6;
  modelica_metatype _states_lst = NULL;
  modelica_metatype tmpMeta7;
  modelica_metatype _derivatives_lst = NULL;
  modelica_metatype tmpMeta8;
  modelica_metatype _algebraics_lst = NULL;
  modelica_metatype tmpMeta9;
  modelica_metatype _discretes_lst = NULL;
  modelica_metatype tmpMeta10;
  modelica_metatype _discrete_states_lst = NULL;
  modelica_metatype tmpMeta11;
  modelica_metatype _clocked_states_lst = NULL;
  modelica_metatype tmpMeta12;
  modelica_metatype _previous_lst = NULL;
  modelica_metatype tmpMeta13;
  modelica_metatype _clocks_lst = NULL;
  modelica_metatype tmpMeta14;
  modelica_metatype _inputs_lst = NULL;
  modelica_metatype tmpMeta15;
  modelica_metatype _resizables_lst = NULL;
  modelica_metatype tmpMeta16;
  modelica_metatype _parameters_lst = NULL;
  modelica_metatype tmpMeta17;
  modelica_metatype _constants_lst = NULL;
  modelica_metatype tmpMeta18;
  modelica_metatype _records_lst = NULL;
  modelica_metatype tmpMeta19;
  modelica_metatype _external_objects_lst = NULL;
  modelica_metatype tmpMeta20;
  modelica_metatype _artificials_lst = NULL;
  modelica_metatype tmpMeta21;
  modelica_metatype _variables = NULL;
  modelica_metatype _unknowns = NULL;
  modelica_metatype _knowns = NULL;
  modelica_metatype _initials = NULL;
  modelica_metatype _auxiliaries = NULL;
  modelica_metatype _aliasVars = NULL;
  modelica_metatype _nonTrivialAlias = NULL;
  modelica_metatype _states = NULL;
  modelica_metatype _derivatives = NULL;
  modelica_metatype _algebraics = NULL;
  modelica_metatype _discretes = NULL;
  modelica_metatype _discrete_states = NULL;
  modelica_metatype _clocked_states = NULL;
  modelica_metatype _previous = NULL;
  modelica_metatype _clocks = NULL;
  modelica_metatype _inputs = NULL;
  modelica_metatype _resizables = NULL;
  modelica_metatype _parameters = NULL;
  modelica_metatype _constants = NULL;
  modelica_metatype _records = NULL;
  modelica_metatype _external_objects = NULL;
  modelica_metatype _artificials = NULL;
  modelica_metatype _binding_iter_set = NULL;
  modelica_metatype _binding_iter_lst = NULL;
  modelica_boolean _scalarized;
  modelica_metatype _forced_states = NULL;
  modelica_metatype tmpMeta22;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta28;
  modelica_metatype tmpMeta29;
  modelica_metatype tmpMeta69;
  modelica_metatype tmpMeta70;
  modelica_metatype tmpMeta71;
  modelica_metatype tmpMeta72;
  modelica_metatype tmpMeta73;
  modelica_metatype tmpMeta74;
  modelica_metatype tmpMeta75;
  modelica_metatype tmpMeta76;
  modelica_metatype tmpMeta77;
  modelica_metatype tmpMeta78;
  modelica_metatype tmpMeta79;
  modelica_metatype tmpMeta80;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _variableData has no default value.
  // _lowVar has no default value.
  // _vars has no default value.
  // _lowVar_ptr has no default value.
  // _time_ptr has no default value.
  // _dummy_ptr has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _unknowns_lst = tmpMeta1;
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _knowns_lst = tmpMeta2;
  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  _initials_lst = tmpMeta3;
  tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
  _auxiliaries_lst = tmpMeta4;
  tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
  _aliasVars_lst = tmpMeta5;
  tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
  _nonTrivialAlias_lst = tmpMeta6;
  tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
  _states_lst = tmpMeta7;
  tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
  _derivatives_lst = tmpMeta8;
  tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
  _algebraics_lst = tmpMeta9;
  tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
  _discretes_lst = tmpMeta10;
  tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
  _discrete_states_lst = tmpMeta11;
  tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
  _clocked_states_lst = tmpMeta12;
  tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
  _previous_lst = tmpMeta13;
  tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
  _clocks_lst = tmpMeta14;
  tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
  _inputs_lst = tmpMeta15;
  tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
  _resizables_lst = tmpMeta16;
  tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
  _parameters_lst = tmpMeta17;
  tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
  _constants_lst = tmpMeta18;
  tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
  _records_lst = tmpMeta19;
  tmpMeta20 = MMC_REFSTRUCTLIT(mmc_nil);
  _external_objects_lst = tmpMeta20;
  tmpMeta21 = MMC_REFSTRUCTLIT(mmc_nil);
  _artificials_lst = tmpMeta21;
  // _variables has no default value.
  // _unknowns has no default value.
  // _knowns has no default value.
  // _initials has no default value.
  // _auxiliaries has no default value.
  // _aliasVars has no default value.
  // _nonTrivialAlias has no default value.
  // _states has no default value.
  // _derivatives has no default value.
  // _algebraics has no default value.
  // _discretes has no default value.
  // _discrete_states has no default value.
  // _clocked_states has no default value.
  // _previous has no default value.
  // _clocks has no default value.
  // _inputs has no default value.
  // _resizables has no default value.
  // _parameters has no default value.
  // _constants has no default value.
  // _records has no default value.
  // _external_objects has no default value.
  // _artificials has no default value.
  _binding_iter_set = omc_UnorderedSet_new(threadData, boxvar_NBVariable_hash, boxvar_NBVariable_equalName, ((modelica_integer) 13));
  // _binding_iter_lst has no default value.
  _scalarized = omc_Flags_isSet(threadData, _OMC_LIT127);
  tmpMeta22 = MMC_REFSTRUCTLIT(mmc_nil);
  _forced_states = tmpMeta22;
  {
    modelica_metatype __omcQ_24tmpVar15;
    modelica_metatype* tmp24;
    modelica_metatype tmpMeta25;
    modelica_metatype tmpMeta26;
    modelica_metatype __omcQ_24tmpVar14;
    modelica_integer tmp27;
    modelica_metatype _v_loopVar = 0;
    modelica_metatype _v;
    _v_loopVar = _varList;
    tmpMeta25 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar15 = tmpMeta25; /* defaultValue */
    tmp24 = &__omcQ_24tmpVar15;
    while(1) {
      tmp27 = 1;
      if (!listEmpty(_v_loopVar)) {
        _v = MMC_CAR(_v_loopVar);
        _v_loopVar = MMC_CDR(_v_loopVar);
        tmp27--;
      }
      if (tmp27 == 0) {
        tmpMeta26 = MMC_REFSTRUCTLIT(mmc_nil);
        __omcQ_24tmpVar14 = omc_NFVariable_expandChildren(threadData, _v, tmpMeta26, 1 /* true */);
        *tmp24 = mmc_mk_cons(__omcQ_24tmpVar14,0);
        tmp24 = &MMC_CDR(*tmp24);
      } else if (tmp27 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp24 = mmc_mk_nil();
    tmpMeta23 = __omcQ_24tmpVar15;
  }
  _vars = omc_List_flatten(threadData, tmpMeta23);

  _variables = omc_NBVariable_VariablePointers_empty(threadData, ((modelica_integer) 1) + listLength(_vars), _scalarized);

  _dummy_ptr = omc_Pointer_create(threadData, _OMC_LIT140);

  _time_ptr = omc_NBVariable_createTimeVar(threadData);

  _variables = omc_NBVariable_VariablePointers_add(threadData, _dummy_ptr, _variables);

  _variables = omc_NBVariable_VariablePointers_add(threadData, _time_ptr, _variables);

  tmpMeta28 = mmc_mk_cons(_dummy_ptr, mmc_mk_cons(_time_ptr, MMC_REFSTRUCTLIT(mmc_nil)));
  _artificials_lst = tmpMeta28;

  {
    modelica_metatype _var;
    for (tmpMeta29 = listReverse(_vars); !listEmpty(tmpMeta29); tmpMeta29=MMC_CDR(tmpMeta29))
    {
      _var = MMC_CAR(tmpMeta29);
      _lowVar_ptr = omc_NBackendDAE_lowerVariable(threadData, _var);

      _lowVar = omc_Pointer_access(threadData, _lowVar_ptr);

      _variables = omc_NBVariable_VariablePointers_add(threadData, _lowVar_ptr, _variables);

      { /* match expression */
        modelica_metatype tmp32_1;
        tmp32_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_lowVar), 11)))), 2)));
        {
          modelica_boolean _natural;
          modelica_metatype _der_ptr = NULL;
          volatile mmc_switch_type tmp32;
          int tmp33;
          // _natural has no default value.
          // _der_ptr has no default value.
          tmp32 = 0;
          for (; tmp32 < 13; tmp32++) {
            switch (MMC_SWITCH_CAST(tmp32)) {
            case 0: {
              
              /* Pattern matching succeeded */
              /* Check guard condition after assignments */
              if (!(omc_NFVariable_size(threadData, _lowVar, 0 /* false */) == ((modelica_integer) 0))) goto tmp31_end;
              goto tmp31_done;
            }
            case 1: {
              modelica_metatype tmpMeta34;
              modelica_metatype tmpMeta35;
              
              /* Pattern matching succeeded */
              /* Check guard condition after assignments */
              if (!omc_NFVariable_isTopLevelInput(threadData, _lowVar)) goto tmp31_end;
              tmpMeta34 = mmc_mk_cons(_lowVar_ptr, _inputs_lst);
              _inputs_lst = tmpMeta34;

              tmpMeta35 = mmc_mk_cons(_lowVar_ptr, _knowns_lst);
              _knowns_lst = tmpMeta35;
              goto tmp31_done;
            }
            case 2: {
              modelica_metatype tmpMeta36;
              modelica_metatype tmpMeta37;
              modelica_metatype tmpMeta38;
              if (mmc__uniontype__metarecord__typedef__equal(tmp32_1,1,0) == 0) goto tmp31_end;
              /* Pattern matching succeeded */
              tmpMeta36 = mmc_mk_cons(_lowVar_ptr, _algebraics_lst);
              _algebraics_lst = tmpMeta36;

              tmpMeta37 = mmc_mk_cons(_lowVar_ptr, _unknowns_lst);
              _unknowns_lst = tmpMeta37;

              tmpMeta38 = mmc_mk_cons(_lowVar_ptr, _initials_lst);
              _initials_lst = tmpMeta38;
              goto tmp31_done;
            }
            case 3: {
              modelica_metatype tmpMeta39;
              modelica_integer tmp40;
              modelica_metatype tmpMeta41;
              modelica_metatype tmpMeta42;
              modelica_metatype tmpMeta43;
              modelica_metatype tmpMeta44;
              modelica_metatype tmpMeta45;
              modelica_metatype tmpMeta46;
              modelica_metatype tmpMeta47;
              if (mmc__uniontype__metarecord__typedef__equal(tmp32_1,2,3) == 0) goto tmp31_end;
              tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp32_1), 4));
              tmp40 = mmc_unbox_integer(tmpMeta39);
              _natural = tmp40  /* pattern as ty=Boolean */;
              /* Pattern matching succeeded */
              if((!_natural))
              {
                omc_NBVariable_makeDerVar(threadData, omc_NBVariable_getVarName(threadData, _lowVar_ptr), 0 /* false */ ,&_der_ptr);

                omc_NBVariable_setStateDerivativeVar(threadData, _lowVar_ptr, _der_ptr);

                tmpMeta41 = mmc_mk_cons(_der_ptr, _derivatives_lst);
                _derivatives_lst = tmpMeta41;

                tmpMeta42 = mmc_mk_cons(_der_ptr, _unknowns_lst);
                _unknowns_lst = tmpMeta42;

                tmpMeta43 = mmc_mk_cons(_der_ptr, _initials_lst);
                _initials_lst = tmpMeta43;

                tmpMeta44 = mmc_mk_cons(_lowVar_ptr, _forced_states);
                _forced_states = tmpMeta44;
              }

              tmpMeta45 = mmc_mk_cons(_lowVar_ptr, _states_lst);
              _states_lst = tmpMeta45;

              tmpMeta46 = mmc_mk_cons(_lowVar_ptr, _knowns_lst);
              _knowns_lst = tmpMeta46;

              tmpMeta47 = mmc_mk_cons(_lowVar_ptr, _initials_lst);
              _initials_lst = tmpMeta47;
              goto tmp31_done;
            }
            case 4: {
              modelica_metatype tmpMeta48;
              modelica_metatype tmpMeta49;
              modelica_metatype tmpMeta50;
              if (mmc__uniontype__metarecord__typedef__equal(tmp32_1,3,2) == 0) goto tmp31_end;
              
              /* Pattern matching succeeded */
              tmpMeta48 = mmc_mk_cons(_lowVar_ptr, _derivatives_lst);
              _derivatives_lst = tmpMeta48;

              tmpMeta49 = mmc_mk_cons(_lowVar_ptr, _unknowns_lst);
              _unknowns_lst = tmpMeta49;

              tmpMeta50 = mmc_mk_cons(_lowVar_ptr, _initials_lst);
              _initials_lst = tmpMeta50;
              goto tmp31_done;
            }
            case 5: {
              modelica_metatype tmpMeta51;
              modelica_metatype tmpMeta52;
              modelica_metatype tmpMeta53;
              if (mmc__uniontype__metarecord__typedef__equal(tmp32_1,6,0) == 0) goto tmp31_end;
              /* Pattern matching succeeded */
              tmpMeta51 = mmc_mk_cons(_lowVar_ptr, _discretes_lst);
              _discretes_lst = tmpMeta51;

              tmpMeta52 = mmc_mk_cons(_lowVar_ptr, _unknowns_lst);
              _unknowns_lst = tmpMeta52;

              tmpMeta53 = mmc_mk_cons(_lowVar_ptr, _initials_lst);
              _initials_lst = tmpMeta53;
              goto tmp31_done;
            }
            case 6: {
              modelica_metatype tmpMeta54;
              modelica_metatype tmpMeta55;
              modelica_metatype tmpMeta56;
              if (mmc__uniontype__metarecord__typedef__equal(tmp32_1,8,0) == 0) goto tmp31_end;
              /* Pattern matching succeeded */
              tmpMeta54 = mmc_mk_cons(_lowVar_ptr, _previous_lst);
              _previous_lst = tmpMeta54;

              tmpMeta55 = mmc_mk_cons(_lowVar_ptr, _knowns_lst);
              _knowns_lst = tmpMeta55;

              tmpMeta56 = mmc_mk_cons(_lowVar_ptr, _initials_lst);
              _initials_lst = tmpMeta56;
              goto tmp31_done;
            }
            case 7: {
              modelica_metatype tmpMeta57;
              modelica_metatype tmpMeta58;
              modelica_metatype tmpMeta59;
              if (mmc__uniontype__metarecord__typedef__equal(tmp32_1,11,1) == 0) goto tmp31_end;
              
              /* Pattern matching succeeded */
              if(omc_NBVariable_isResizableParameter(threadData, _lowVar_ptr))
              {
                tmpMeta57 = mmc_mk_cons(_lowVar_ptr, _resizables_lst);
                _resizables_lst = tmpMeta57;
              }
              else
              {
                tmpMeta58 = mmc_mk_cons(_lowVar_ptr, _parameters_lst);
                _parameters_lst = tmpMeta58;
              }

              tmpMeta59 = mmc_mk_cons(_lowVar_ptr, _knowns_lst);
              _knowns_lst = tmpMeta59;
              goto tmp31_done;
            }
            case 8: {
              modelica_metatype tmpMeta60;
              modelica_metatype tmpMeta61;
              if (mmc__uniontype__metarecord__typedef__equal(tmp32_1,12,0) == 0) goto tmp31_end;
              /* Pattern matching succeeded */
              tmpMeta60 = mmc_mk_cons(_lowVar_ptr, _constants_lst);
              _constants_lst = tmpMeta60;

              tmpMeta61 = mmc_mk_cons(_lowVar_ptr, _knowns_lst);
              _knowns_lst = tmpMeta61;
              goto tmp31_done;
            }
            case 9: {
              modelica_metatype tmpMeta62;
              modelica_metatype tmpMeta63;
              if (mmc__uniontype__metarecord__typedef__equal(tmp32_1,14,3) == 0) goto tmp31_end;
              
              /* Pattern matching succeeded */
              tmpMeta62 = mmc_mk_cons(_lowVar_ptr, _records_lst);
              _records_lst = tmpMeta62;

              tmpMeta63 = mmc_mk_cons(_lowVar_ptr, _knowns_lst);
              _knowns_lst = tmpMeta63;
              goto tmp31_done;
            }
            case 10: {
              modelica_metatype tmpMeta64;
              if (mmc__uniontype__metarecord__typedef__equal(tmp32_1,9,0) == 0) goto tmp31_end;
              /* Pattern matching succeeded */
              tmpMeta64 = mmc_mk_cons(_lowVar_ptr, _clocks_lst);
              _clocks_lst = tmpMeta64;
              goto tmp31_done;
            }
            case 11: {
              modelica_metatype tmpMeta65;
              modelica_metatype tmpMeta66;
              if (mmc__uniontype__metarecord__typedef__equal(tmp32_1,16,1) == 0) goto tmp31_end;
              
              /* Pattern matching succeeded */
              _lowVar_ptr = omc_NBVariable_setFixed(threadData, _lowVar_ptr, 1 /* true */, 0 /* false */);

              tmpMeta65 = mmc_mk_cons(_lowVar_ptr, _external_objects_lst);
              _external_objects_lst = tmpMeta65;

              tmpMeta66 = mmc_mk_cons(_lowVar_ptr, _knowns_lst);
              _knowns_lst = tmpMeta66;
              goto tmp31_done;
            }
            case 12: {
              modelica_metatype tmpMeta67;
              modelica_metatype tmpMeta68;
              
              /* Pattern matching succeeded */
              tmpMeta68 = stringAppend(_OMC_LIT141,omc_NBVariable_toString(threadData, _var, _OMC_LIT1));
              tmpMeta67 = mmc_mk_cons(tmpMeta68, MMC_REFSTRUCTLIT(mmc_nil));
              omc_Error_addMessage(threadData, _OMC_LIT74, tmpMeta67);
              goto goto_30;
              goto tmp31_done;
            }
            }
            goto tmp31_end;
            tmp31_end: ;
          }
          goto goto_30;
          goto_30:;
          MMC_THROW_INTERNAL();
          goto tmp31_done;
          tmp31_done:;
        }
      }
      ;
    }
  }

  _unknowns = omc_NBVariable_VariablePointers_fromList(threadData, _unknowns_lst, _scalarized);

  _knowns = omc_NBVariable_VariablePointers_fromList(threadData, _knowns_lst, _scalarized);

  _initials = omc_NBVariable_VariablePointers_fromList(threadData, _initials_lst, _scalarized);

  _auxiliaries = omc_NBVariable_VariablePointers_fromList(threadData, _auxiliaries_lst, _scalarized);

  _aliasVars = omc_NBVariable_VariablePointers_fromList(threadData, _aliasVars_lst, _scalarized);

  _nonTrivialAlias = omc_NBVariable_VariablePointers_fromList(threadData, _nonTrivialAlias_lst, _scalarized);

  _states = omc_NBVariable_VariablePointers_fromList(threadData, _states_lst, _scalarized);

  _derivatives = omc_NBVariable_VariablePointers_fromList(threadData, _derivatives_lst, _scalarized);

  _algebraics = omc_NBVariable_VariablePointers_fromList(threadData, _algebraics_lst, _scalarized);

  _discretes = omc_NBVariable_VariablePointers_fromList(threadData, _discretes_lst, _scalarized);

  _discrete_states = omc_NBVariable_VariablePointers_fromList(threadData, _discrete_states_lst, _scalarized);

  _clocked_states = omc_NBVariable_VariablePointers_fromList(threadData, _clocked_states_lst, _scalarized);

  _previous = omc_NBVariable_VariablePointers_fromList(threadData, _previous_lst, _scalarized);

  _clocks = omc_NBVariable_VariablePointers_fromList(threadData, _clocks_lst, _scalarized);

  _inputs = omc_NBVariable_VariablePointers_fromList(threadData, _inputs_lst, _scalarized);

  _resizables = omc_NBVariable_VariablePointers_fromList(threadData, _resizables_lst, _scalarized);

  _parameters = omc_NBVariable_VariablePointers_fromList(threadData, _parameters_lst, _scalarized);

  _constants = omc_NBVariable_VariablePointers_fromList(threadData, _constants_lst, _scalarized);

  _records = omc_NBVariable_VariablePointers_fromList(threadData, _records_lst, _scalarized);

  _external_objects = omc_NBVariable_VariablePointers_fromList(threadData, _external_objects_lst, _scalarized);

  _artificials = omc_NBVariable_VariablePointers_fromList(threadData, _artificials_lst, _scalarized);

  tmpMeta70 = mmc_mk_box2(0, _variables, _binding_iter_set);
  _variables = omc_NBVariable_VariablePointers_map(threadData, _variables, (modelica_fnptr) mmc_mk_box2(0,closure17_NBackendDAE_collectVariableBindingIterators,tmpMeta70));

  _binding_iter_lst = omc_UnorderedSet_toList(threadData, _binding_iter_set);

  _variables = omc_NBVariable_VariablePointers_addList(threadData, _binding_iter_lst, _variables);

  _knowns = omc_NBVariable_VariablePointers_addList(threadData, _binding_iter_lst, _knowns);

  _artificials = omc_NBVariable_VariablePointers_addList(threadData, _binding_iter_lst, _artificials);

  tmpMeta72 = mmc_mk_box2(0, _variables, mmc_mk_boolean(1 /* true */));
  tmpMeta71 = mmc_mk_box1(0, (modelica_fnptr) mmc_mk_box2(0,closure19_NBackendDAE_lowerComponentReferenceExp,tmpMeta72));
  _variables = omc_NBVariable_VariablePointers_map(threadData, _variables, (modelica_fnptr) mmc_mk_box2(0,closure18_NFVariable_mapExp,tmpMeta71));

  tmpMeta75 = mmc_mk_box1(0, _variables);
  tmpMeta74 = mmc_mk_box1(0, (modelica_fnptr) mmc_mk_box2(0,closure22_NBackendDAE_lowerDimension,tmpMeta75));
  tmpMeta73 = mmc_mk_box1(0, (modelica_fnptr) mmc_mk_box2(0,closure21_NFType_applyToDims,tmpMeta74));
  _variables = omc_NBVariable_VariablePointers_map(threadData, _variables, (modelica_fnptr) mmc_mk_box2(0,closure20_NFVariable_applyToType,tmpMeta73));

  tmpMeta76 = mmc_mk_box1(0, _variables);
  _records = omc_NBVariable_VariablePointers_mapPtr(threadData, _records, (modelica_fnptr) mmc_mk_box2(0,closure23_NBackendDAE_lowerRecordChildren,tmpMeta76));

  tmpMeta77 = mmc_mk_box(24, 3, &NBVariable_VarData_VAR__DATA__SIM__desc, _variables, _unknowns, _knowns, _initials, _auxiliaries, _aliasVars, _nonTrivialAlias, _derivatives, _algebraics, _discretes, _discrete_states, _clocked_states, _previous, _clocks, _states, _inputs, _resizables, _parameters, _constants, _records, _external_objects, _artificials, omc_UnorderedMap_new(threadData, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual, ((modelica_integer) 1)));
  _variableData = tmpMeta77;

  if(omc_Flags_isSet(threadData, _OMC_LIT36))
  {
    tmpMeta78 = stringAppend(_OMC_LIT142,intString(listLength(_forced_states)));
    tmpMeta79 = stringAppend(tmpMeta78,_OMC_LIT143);
    fputs(MMC_STRINGDATA(omc_StringUtil_headline__4(threadData, tmpMeta79)),stdout);

    if(listEmpty(_forced_states))
    {
      fputs(MMC_STRINGDATA(_OMC_LIT146),stdout);
    }
    else
    {
      tmpMeta80 = stringAppend(omc_List_toString(threadData, _forced_states, boxvar_NBVariable_pointerToString, _OMC_LIT1, _OMC_LIT144, _OMC_LIT145, _OMC_LIT2, 1 /* true */, ((modelica_integer) 0)),_OMC_LIT2);
      fputs(MMC_STRINGDATA(tmpMeta80),stdout);
    }
  }
  _return: OMC_LABEL_UNUSED
  return _variableData;
}

DLLDirection
modelica_metatype omc_NBackendDAE_getLoopResiduals(threadData_t *threadData, modelica_metatype _bdae)
{
  modelica_metatype _residuals = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _residuals has no default value.
  { /* match expression */
    modelica_metatype tmp5_1;
    tmp5_1 = _bdae;
    {
      modelica_metatype _var_lst = NULL;
      modelica_metatype tmpMeta3;
      volatile mmc_switch_type tmp5;
      int tmp6;
      tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
      _var_lst = tmpMeta3;
      tmp5 = 0;
      for (; tmp5 < 2; tmp5++) {
        switch (MMC_SWITCH_CAST(tmp5)) {
        case 0: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,0,13) == 0) goto tmp4_end;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype _syst;
            for (tmpMeta7 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 2))); !listEmpty(tmpMeta7); tmpMeta7=MMC_CDR(tmpMeta7))
            {
              _syst = MMC_CAR(tmpMeta7);
              _var_lst = listAppend(omc_NBPartition_Partition_getLoopResiduals(threadData, _syst), _var_lst);
            }
          }

          {
            modelica_metatype _syst;
            for (tmpMeta9 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 3))); !listEmpty(tmpMeta9); tmpMeta9=MMC_CDR(tmpMeta9))
            {
              _syst = MMC_CAR(tmpMeta9);
              _var_lst = listAppend(omc_NBPartition_Partition_getLoopResiduals(threadData, _syst), _var_lst);
            }
          }

          {
            modelica_metatype _syst;
            for (tmpMeta11 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 4))); !listEmpty(tmpMeta11); tmpMeta11=MMC_CDR(tmpMeta11))
            {
              _syst = MMC_CAR(tmpMeta11);
              _var_lst = listAppend(omc_NBPartition_Partition_getLoopResiduals(threadData, _syst), _var_lst);
            }
          }

          {
            modelica_metatype _syst;
            for (tmpMeta13 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 5))); !listEmpty(tmpMeta13); tmpMeta13=MMC_CDR(tmpMeta13))
            {
              _syst = MMC_CAR(tmpMeta13);
              _var_lst = listAppend(omc_NBPartition_Partition_getLoopResiduals(threadData, _syst), _var_lst);
            }
          }

          {
            modelica_metatype _syst;
            for (tmpMeta15 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 7))); !listEmpty(tmpMeta15); tmpMeta15=MMC_CDR(tmpMeta15))
            {
              _syst = MMC_CAR(tmpMeta15);
              _var_lst = listAppend(omc_NBPartition_Partition_getLoopResiduals(threadData, _syst), _var_lst);
            }
          }
          tmpMeta1 = omc_NBVariable_VariablePointers_fromList(threadData, _var_lst, 0 /* false */);
          goto tmp4_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NBVariable_VariablePointers_empty(threadData, ((modelica_integer) 4013), 0 /* false */);
          goto tmp4_done;
        }
        }
        goto tmp4_end;
        tmp4_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp4_done;
      tmp4_done:;
    }
  }
  _residuals = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _residuals;
}

static modelica_metatype closure24_NBEquation_Equation_simplify(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_eq)
{
  modelica_string name = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_string indent = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  modelica_metatype acc_discrete_states = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),3));
  modelica_metatype acc_previous = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),4));
  modelica_fnptr simplifyExp = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),5));
  return boxptr_NBEquation_Equation_simplify(thData, $in_eq, name, indent, acc_discrete_states, acc_previous, simplifyExp);
}
DLLDirection
modelica_metatype omc_NBackendDAE_removeStream(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fbdae)
{
  modelica_metatype _bdae = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _bdae = __omcQ_24in_5Fbdae;
  { /* match expression */
    modelica_metatype tmp6_1;
    tmp6_1 = _bdae;
    {
      modelica_metatype _eqData = NULL;
      modelica_metatype _acc_discrete_states = NULL;
      modelica_metatype tmpMeta3;
      modelica_metatype _acc_previous = NULL;
      modelica_metatype tmpMeta4;
      volatile mmc_switch_type tmp6;
      int tmp7;
      // _eqData has no default value.
      tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
      _acc_discrete_states = omc_Pointer_create(threadData, tmpMeta3);
      tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
      _acc_previous = omc_Pointer_create(threadData, tmpMeta4);
      tmp6 = 0;
      for (; tmp6 < 2; tmp6++) {
        switch (MMC_SWITCH_CAST(tmp6)) {
        case 0: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp6_1,0,13) == 0) goto tmp5_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,9) == 0) goto tmp5_end;
          
          _eqData = tmpMeta8;
          /* Pattern matching succeeded */
          tmpMeta10 = mmc_mk_box5(0, _OMC_LIT147, _OMC_LIT1, _acc_discrete_states, _acc_previous, boxvar_NFSimplifyExp_removeStream);
          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(11));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_eqData), 11*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[3] = omc_NBEquation_EquationPointers_map(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqData), 3))), (modelica_fnptr) mmc_mk_box2(0,closure24_NBEquation_Equation_simplify,tmpMeta10));
          _eqData = tmpMeta9;

          tmpMeta11 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta11), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta11))[11] = omc_NBEquation_EqData_compress(threadData, _eqData);
          _bdae = tmpMeta11;
          tmpMeta1 = _bdae;
          goto tmp5_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _bdae;
          goto tmp5_done;
        }
        }
        goto tmp5_end;
        tmp5_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp5_done;
      tmp5_done:;
    }
  }
  _bdae = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _bdae;
}

static modelica_metatype closure26_NFSimplifyExp_simplifyDump(threadData_t *thData, modelica_metatype closure, modelica_metatype exp)
{
  modelica_metatype includeScope = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_string name = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  modelica_string indent = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),3));
  return boxptr_NFSimplifyExp_simplifyDump(thData, exp, includeScope, name, indent);
}static modelica_metatype closure25_NBEquation_Equation_simplify(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_eq)
{
  modelica_string name = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_string indent = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  modelica_metatype acc_discrete_states = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),3));
  modelica_metatype acc_previous = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),4));
  modelica_fnptr simplifyExp = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),5));
  return boxptr_NBEquation_Equation_simplify(thData, $in_eq, name, indent, acc_discrete_states, acc_previous, simplifyExp);
}
DLLDirection
modelica_metatype omc_NBackendDAE_simplify(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fbdae, modelica_boolean _init)
{
  modelica_metatype _bdae = NULL;
  modelica_metatype _acc_discrete_states = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _acc_previous = NULL;
  modelica_metatype tmpMeta2;
  modelica_fnptr _func;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _bdae = __omcQ_24in_5Fbdae;
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _acc_discrete_states = omc_Pointer_create(threadData, tmpMeta1);
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _acc_previous = omc_Pointer_create(threadData, tmpMeta2);
  tmpMeta4 = mmc_mk_box3(0, mmc_mk_boolean(1 /* true */), _OMC_LIT148, _OMC_LIT1);
  tmpMeta3 = mmc_mk_box5(0, _OMC_LIT148, _OMC_LIT1, _acc_discrete_states, _acc_previous, (modelica_fnptr) mmc_mk_box2(0,closure26_NFSimplifyExp_simplifyDump,tmpMeta4));
  _func = (modelica_fnptr) mmc_mk_box2(0,closure25_NBEquation_Equation_simplify,tmpMeta3);
  { /* match expression */
    modelica_metatype tmp8_1;
    tmp8_1 = _bdae;
    {
      modelica_metatype _eqData = NULL;
      modelica_metatype _varData = NULL;
      modelica_metatype _acc_discrete_states_accessed = NULL;
      volatile mmc_switch_type tmp8;
      int tmp9;
      // _eqData has no default value.
      // _varData has no default value.
      // _acc_discrete_states_accessed has no default value.
      tmp8 = 0;
      for (; tmp8 < 2; tmp8++) {
        switch (MMC_SWITCH_CAST(tmp8)) {
        case 0: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp8_1,0,13) == 0) goto tmp7_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp8_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,0,9) == 0) goto tmp7_end;
          
          _eqData = tmpMeta10;
          /* Pattern matching succeeded */
          if(_init)
          {
            tmpMeta11 = MMC_TAGPTR(mmc_alloc_words(11));
            memcpy(MMC_UNTAGPTR(tmpMeta11), MMC_UNTAGPTR(_eqData), 11*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta11))[8] = omc_NBEquation_EquationPointers_map(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqData), 8))), ((modelica_fnptr) _func));
            _eqData = tmpMeta11;
          }
          else
          {
            tmpMeta12 = MMC_TAGPTR(mmc_alloc_words(11));
            memcpy(MMC_UNTAGPTR(tmpMeta12), MMC_UNTAGPTR(_eqData), 11*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta12))[3] = omc_NBEquation_EquationPointers_map(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqData), 3))), ((modelica_fnptr) _func));
            _eqData = tmpMeta12;
          }

          tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[11] = omc_NBEquation_EqData_compress(threadData, _eqData);
          _bdae = tmpMeta13;

          { /* match expression */
            modelica_metatype tmp18_1;
            tmp18_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 10)));
            {
              volatile mmc_switch_type tmp18;
              int tmp19;
              tmp18 = 0;
              for (; tmp18 < 2; tmp18++) {
                switch (MMC_SWITCH_CAST(tmp18)) {
                case 0: {
                  modelica_metatype tmpMeta20;
                  modelica_metatype tmpMeta21;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp18_1,0,23) == 0) goto tmp17_end;
                  
                  _varData = tmp18_1;
                  /* Pattern matching succeeded */
                  _acc_discrete_states_accessed = omc_Pointer_access(threadData, _acc_discrete_states);

                  omc_NBVariable_VariablePointers_removeList(threadData, _acc_discrete_states_accessed, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))));

                  omc_NBVariable_VariablePointers_removeList(threadData, _acc_discrete_states_accessed, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 11))));

                  omc_NBVariable_VariablePointers_removeList(threadData, _acc_discrete_states_accessed, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 12))));

                  omc_NBVariable_VariablePointers_removeList(threadData, omc_Pointer_access(threadData, _acc_previous), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 14))));

                  omc_NBVariable_VariablePointers_removeList(threadData, omc_Pointer_access(threadData, _acc_previous), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))));

                  omc_NBVariable_VariablePointers_addList(threadData, _acc_discrete_states_accessed, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 19))));

                  omc_NBVariable_VariablePointers_addList(threadData, _acc_discrete_states_accessed, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 4))));

                  {
                    modelica_metatype _v;
                    for (tmpMeta20 = _acc_discrete_states_accessed; !listEmpty(tmpMeta20); tmpMeta20=MMC_CDR(tmpMeta20))
                    {
                      _v = MMC_CAR(tmpMeta20);
                      omc_NBVariable_setVarKind(threadData, _v, _OMC_LIT119);

                      omc_NBVariable_removePartner(threadData, _v, boxvar_NFBackendExtension_BackendInfo_setVarPre);
                    }
                  }
                  tmpMeta15 = _varData;
                  goto tmp17_done;
                }
                case 1: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta15 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 10)));
                  goto tmp17_done;
                }
                }
                goto tmp17_end;
                tmp17_end: ;
              }
              goto goto_16;
              goto_16:;
              goto goto_6;
              goto tmp17_done;
              tmp17_done:;
            }
          }
          tmpMeta14 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta14), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta14))[10] = tmpMeta15;
          _bdae = tmpMeta14;
          tmpMeta5 = _bdae;
          goto tmp7_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta5 = _bdae;
          goto tmp7_done;
        }
        }
        goto tmp7_end;
        tmp7_end: ;
      }
      goto goto_6;
      goto_6:;
      MMC_THROW_INTERNAL();
      goto tmp7_done;
      tmp7_done:;
    }
  }
  _bdae = tmpMeta5;
  _return: OMC_LABEL_UNUSED
  return _bdae;
}
modelica_metatype boxptr_NBackendDAE_simplify(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fbdae, modelica_metatype _init)
{
  modelica_integer tmp1;
  modelica_metatype _bdae = NULL;
  tmp1 = mmc_unbox_integer(_init);
  _bdae = omc_NBackendDAE_simplify(threadData, __omcQ_24in_5Fbdae, tmp1);
  /* skip box _bdae; NBackendDAE */
  return _bdae;
}

DLLDirection
modelica_metatype omc_NBackendDAE_applyModules(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fbdae, modelica_metatype _modules, modelica_metatype _eq_filter_opt, modelica_integer _clock_idx, modelica_metatype *out_module_clocks)
{
  modelica_metatype _bdae = NULL;
  modelica_metatype _module_clocks = NULL;
  modelica_metatype tmpMeta1;
  modelica_fnptr _func;
  modelica_string _name = NULL;
  modelica_string _debugStr = NULL;
  modelica_real _clock_time;
  modelica_integer _length;
  modelica_metatype _varSizes = NULL;
  modelica_metatype _eqnSizes = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta20;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta22;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  modelica_metatype tmpMeta25;
  modelica_metatype tmpMeta26;
  modelica_metatype tmpMeta27;
  modelica_metatype tmpMeta28;
  modelica_metatype tmpMeta29;
  modelica_metatype tmpMeta30;
  modelica_metatype tmpMeta31;
  modelica_metatype tmpMeta32;
  modelica_metatype tmpMeta33;
  modelica_metatype tmpMeta34;
  modelica_metatype tmpMeta35;
  modelica_metatype tmpMeta36;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _bdae = __omcQ_24in_5Fbdae;
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _module_clocks = tmpMeta1;
  // _name has no default value.
  // _debugStr has no default value.
  // _clock_time has no default value.
  // _length has no default value.
  // _varSizes has no default value.
  // _eqnSizes has no default value.
  {
    modelica_metatype _module;
    for (tmpMeta2 = _modules; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _module = MMC_CAR(tmpMeta2);
      /* Pattern-matching assignment */
      tmpMeta3 = _module;
      tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 1));
      tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 2));
      _func = tmpMeta4;
      _name = tmpMeta5;

      if(omc_Flags_isSet(threadData, _OMC_LIT82))
      {
        tmpMeta6 = stringAppend(_OMC_LIT149,omc_ClockIndexes_toString(threadData, _clock_idx));
        tmpMeta7 = stringAppend(tmpMeta6,_OMC_LIT150);
        tmpMeta8 = stringAppend(tmpMeta7,_name);
        _debugStr = tmpMeta8;

        tmpMeta9 = stringAppend(_debugStr,omc_StringUtil_repeat(threadData, _OMC_LIT151, modelica_integer_max((modelica_integer)(((modelica_integer) 60) - stringLength(_debugStr)),(modelica_integer)(((modelica_integer) 0)))));
        _debugStr = tmpMeta9;
      }

      if((_clock_idx != ((modelica_integer) -1)))
      {
        omc_System_realtimeClear(threadData, _clock_idx);

        omc_System_realtimeTick(threadData, _clock_idx);

        { /* matchcontinue expression */
          {
            volatile mmc_switch_type tmp12;
            int tmp13;
            tmp12 = 0;
            MMC_TRY_INTERNAL(mmc_jumper)
            tmp11_top:
            threadData->mmc_jumper = &new_mmc_jumper;
            for (; tmp12 < 2; tmp12++) {
              switch (MMC_SWITCH_CAST(tmp12)) {
              case 0: {
                /* Pattern matching succeeded */
                _bdae = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), _bdae) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, _bdae);
                goto tmp11_done;
              }
              case 1: {
                modelica_metatype tmpMeta14;
                /* Pattern matching succeeded */
                if(omc_Flags_isSet(threadData, _OMC_LIT82))
                {
                  tmpMeta14 = stringAppend(_debugStr,_OMC_LIT152);
                  _debugStr = tmpMeta14;

                  fputs(MMC_STRINGDATA(_debugStr),stdout);
                }

                goto goto_10;
                goto tmp11_done;
              }
              }
              goto tmp11_end;
              tmp11_end: ;
            }
            goto goto_10;
            tmp11_done:
            (void)tmp12;
            MMC_RESTORE_INTERNAL(mmc_jumper);
            goto tmp11_done2;
            goto_10:;
            MMC_CATCH_INTERNAL(mmc_jumper);
            if (++tmp12 < 2) {
              goto tmp11_top;
            }
            MMC_THROW_INTERNAL();
            tmp11_done2:;
          }
        }
        ;

        _clock_time = omc_System_realtimeTock(threadData, _clock_idx);

        omc_ExecStat_execStat(threadData, _name);

        tmpMeta16 = mmc_mk_box2(0, _name, mmc_mk_real(_clock_time));
        tmpMeta15 = mmc_mk_cons(tmpMeta16, _module_clocks);
        _module_clocks = tmpMeta15;

        if(omc_Flags_isSet(threadData, _OMC_LIT82))
        {
          _varSizes = omc_NBackendDAE_sizes(threadData, _bdae ,&_eqnSizes);

          tmpMeta17 = stringAppend(_debugStr,_OMC_LIT153);
          tmpMeta18 = stringAppend(tmpMeta17,intString(mmc_unbox_integer(omc_Util_tuple21(threadData, _varSizes))));
          tmpMeta19 = stringAppend(tmpMeta18,_OMC_LIT154);
          tmpMeta20 = stringAppend(tmpMeta19,intString(mmc_unbox_integer(omc_Util_tuple22(threadData, _varSizes))));
          tmpMeta21 = stringAppend(tmpMeta20,_OMC_LIT13);
          _debugStr = tmpMeta21;

          tmpMeta22 = stringAppend(_debugStr,_OMC_LIT155);
          tmpMeta23 = stringAppend(tmpMeta22,intString(mmc_unbox_integer(omc_Util_tuple21(threadData, _eqnSizes))));
          tmpMeta24 = stringAppend(tmpMeta23,_OMC_LIT154);
          tmpMeta25 = stringAppend(tmpMeta24,intString(mmc_unbox_integer(omc_Util_tuple22(threadData, _eqnSizes))));
          tmpMeta26 = stringAppend(tmpMeta25,_OMC_LIT156);
          _debugStr = tmpMeta26;

          if((mmc_unbox_integer(omc_Util_tuple21(threadData, _varSizes)) != mmc_unbox_integer(omc_Util_tuple21(threadData, _eqnSizes))))
          {
            tmpMeta27 = stringAppend(_debugStr,_OMC_LIT157);
            _debugStr = tmpMeta27;
          }

          tmpMeta28 = stringAppend(_debugStr,omc_StringUtil_repeat(threadData, _OMC_LIT151, modelica_integer_max((modelica_integer)(((modelica_integer) 100) - stringLength(_debugStr)),(modelica_integer)(((modelica_integer) 0)))));
          _debugStr = tmpMeta28;

          tmpMeta29 = stringAppend(_debugStr,_OMC_LIT32);
          tmpMeta30 = stringAppend(tmpMeta29,realString(_clock_time));
          tmpMeta31 = stringAppend(tmpMeta30,_OMC_LIT158);
          _debugStr = tmpMeta31;

          fputs(MMC_STRINGDATA(_debugStr),stdout);

          omc_NBackendDAE_debugLowering(threadData, _bdae);
        }
      }
      else
      {
        _bdae = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), _bdae) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, _bdae);
      }

      if((omc_Flags_isSet(threadData, _OMC_LIT163) || (omc_Flags_isSet(threadData, _OMC_LIT167) && ((stringEqual(_name, _OMC_LIT168)) || (stringEqual(_name, _OMC_LIT169))))))
      {
        tmpMeta32 = stringAppend(_OMC_LIT159,_name);
        tmpMeta33 = stringAppend(tmpMeta32,_OMC_LIT13);
        fputs(MMC_STRINGDATA(omc_NBackendDAE_toString(threadData, _bdae, tmpMeta33)),stdout);
      }

      if(isSome(_eq_filter_opt))
      {
        tmpMeta34 = stringAppend(_OMC_LIT159,_name);
        tmpMeta35 = stringAppend(tmpMeta34,_OMC_LIT13);
        omc_NBackendDAE_debugFollowEquations(threadData, _bdae, _eq_filter_opt, tmpMeta35);
      }
    }
  }

  _module_clocks = listReverse(_module_clocks);
  _return: OMC_LABEL_UNUSED
  if (out_module_clocks) { *out_module_clocks = _module_clocks; }
  return _bdae;
}
modelica_metatype boxptr_NBackendDAE_applyModules(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fbdae, modelica_metatype _modules, modelica_metatype _eq_filter_opt, modelica_metatype _clock_idx, modelica_metatype *out_module_clocks)
{
  modelica_integer tmp1;
  modelica_metatype _bdae = NULL;
  tmp1 = mmc_unbox_integer(_clock_idx);
  _bdae = omc_NBackendDAE_applyModules(threadData, __omcQ_24in_5Fbdae, _modules, _eq_filter_opt, tmp1, out_module_clocks);
  /* skip box _bdae; NBackendDAE */
  /* skip box _module_clocks; list<tuple<String, #Real>> */
  return _bdae;
}

static modelica_metatype closure27_NBInline_main(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_bdae)
{
  modelica_metatype inline_types = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype init = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBInline_main(thData, $in_bdae, inline_types, init);
}static modelica_metatype closure28_NBackendDAE_simplify(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_bdae)
{
  modelica_metatype init = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBackendDAE_simplify(thData, $in_bdae, init);
}static modelica_metatype closure29_NBackendDAE_simplify(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_bdae)
{
  modelica_metatype init = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBackendDAE_simplify(thData, $in_bdae, init);
}static modelica_metatype closure30_NBPartitioning_main(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_bdae)
{
  modelica_metatype kind = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBPartitioning_main(thData, $in_bdae, kind);
}static modelica_metatype closure31_NBCausalize_main(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_bdae)
{
  modelica_metatype kind = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBCausalize_main(thData, $in_bdae, kind);
}static modelica_metatype closure32_NBInline_main(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_bdae)
{
  modelica_metatype inline_types = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype init = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBInline_main(thData, $in_bdae, inline_types, init);
}static modelica_metatype closure33_NBTearing_main(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_bdae)
{
  modelica_metatype kind = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBTearing_main(thData, $in_bdae, kind);
}static modelica_metatype closure34_NBJacobian_main(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_bdae)
{
  modelica_metatype kind = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBJacobian_main(thData, $in_bdae, kind);
}
DLLDirection
modelica_metatype omc_NBackendDAE_main(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fbdae)
{
  modelica_metatype _bdae = NULL;
  modelica_metatype _preOptModules = NULL;
  modelica_metatype _mainModules = NULL;
  modelica_metatype _postOptModules = NULL;
  modelica_metatype _preOptClocks = NULL;
  modelica_metatype _mainClocks = NULL;
  modelica_metatype _postOptClocks = NULL;
  modelica_metatype _followEquations = NULL;
  modelica_metatype _eq_filter_opt = NULL;
  modelica_metatype _inline_types = NULL;
  modelica_integer _kind;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta20;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta22;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  modelica_metatype tmpMeta25;
  modelica_metatype tmpMeta26;
  modelica_metatype tmpMeta27;
  modelica_metatype tmpMeta28;
  modelica_metatype tmpMeta29;
  modelica_metatype tmpMeta30;
  modelica_metatype tmpMeta31;
  modelica_metatype tmpMeta32;
  modelica_metatype tmpMeta33;
  modelica_metatype tmpMeta34;
  modelica_metatype tmpMeta35;
  modelica_metatype tmpMeta36;
  modelica_metatype tmpMeta37;
  modelica_metatype tmpMeta41;
  modelica_metatype tmpMeta42;
  modelica_metatype tmpMeta46;
  modelica_metatype tmpMeta47;
  modelica_metatype tmpMeta51;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _bdae = __omcQ_24in_5Fbdae;
  // _preOptModules has no default value.
  // _mainModules has no default value.
  // _postOptModules has no default value.
  // _preOptClocks has no default value.
  // _mainClocks has no default value.
  // _postOptClocks has no default value.
  _followEquations = omc_Flags_getConfigStringList(threadData, _OMC_LIT175);
  // _eq_filter_opt has no default value.
  _inline_types = _OMC_LIT183;
  // _kind has no default value.
  if(listEmpty(_followEquations))
  {
    _eq_filter_opt = mmc_mk_none();
  }
  else
  {
    tmpMeta1 = stringAppend(omc_List_toString(threadData, _followEquations, boxvar_Util_id, _OMC_LIT184, _OMC_LIT4, _OMC_LIT5, _OMC_LIT6, 1 /* true */, ((modelica_integer) 0)),_OMC_LIT185);
    fputs(MMC_STRINGDATA(tmpMeta1),stdout);

    _eq_filter_opt = mmc_mk_some(omc_UnorderedSet_fromList(threadData, _followEquations, boxvar_stringHashDjb2, boxvar_stringEqual));
  }

  tmpMeta3 = mmc_mk_box2(0, boxvar_NBBindings_main, _OMC_LIT186);
  tmpMeta4 = mmc_mk_box2(0, boxvar_NBFunctionAlias_main, _OMC_LIT187);
  tmpMeta5 = mmc_mk_box2(0, _inline_types, mmc_mk_boolean(0 /* false */));
  tmpMeta6 = mmc_mk_box2(0, (modelica_fnptr) mmc_mk_box2(0,closure27_NBInline_main,tmpMeta5), _OMC_LIT188);
  tmpMeta7 = mmc_mk_box1(0, mmc_mk_boolean(0 /* false */));
  tmpMeta8 = mmc_mk_box2(0, (modelica_fnptr) mmc_mk_box2(0,closure28_NBackendDAE_simplify,tmpMeta7), _OMC_LIT189);
  tmpMeta9 = mmc_mk_box2(0, boxvar_NBAlias_main, _OMC_LIT190);
  tmpMeta10 = mmc_mk_box1(0, mmc_mk_boolean(0 /* false */));
  tmpMeta11 = mmc_mk_box2(0, (modelica_fnptr) mmc_mk_box2(0,closure29_NBackendDAE_simplify,tmpMeta10), _OMC_LIT191);
  tmpMeta12 = mmc_mk_box2(0, boxvar_NBackendDAE_removeStream, _OMC_LIT192);
  tmpMeta13 = mmc_mk_box2(0, boxvar_NBDetectStates_main, _OMC_LIT193);
  tmpMeta14 = mmc_mk_box2(0, boxvar_NBEvents_main, _OMC_LIT194);
  tmpMeta2 = mmc_mk_cons(tmpMeta3, mmc_mk_cons(tmpMeta4, mmc_mk_cons(tmpMeta6, mmc_mk_cons(tmpMeta8, mmc_mk_cons(tmpMeta9, mmc_mk_cons(tmpMeta11, mmc_mk_cons(tmpMeta12, mmc_mk_cons(tmpMeta13, mmc_mk_cons(tmpMeta14, MMC_REFSTRUCTLIT(mmc_nil))))))))));
  _preOptModules = tmpMeta2;

  if(omc_Flags_getConfigBool(threadData, _OMC_LIT200))
  {
    tmpMeta16 = mmc_mk_box2(0, boxvar_NBDAEMode_main, _OMC_LIT195);
    tmpMeta15 = mmc_mk_cons(tmpMeta16, MMC_REFSTRUCTLIT(mmc_nil));
    _mainModules = tmpMeta15;

    _kind = 6;
  }
  else
  {
    tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
    _mainModules = tmpMeta17;

    _kind = 1;
  }

  tmpMeta19 = mmc_mk_box1(0, mmc_mk_integer(1));
  tmpMeta20 = mmc_mk_box2(0, (modelica_fnptr) mmc_mk_box2(0,closure30_NBPartitioning_main,tmpMeta19), _OMC_LIT201);
  tmpMeta22 = mmc_mk_box1(0, mmc_mk_integer(1));
  tmpMeta23 = mmc_mk_box2(0, (modelica_fnptr) mmc_mk_box2(0,closure31_NBCausalize_main,tmpMeta22), _OMC_LIT168);
  tmpMeta25 = mmc_mk_box2(0, _OMC_LIT203, mmc_mk_boolean(0 /* false */));
  tmpMeta26 = mmc_mk_box2(0, (modelica_fnptr) mmc_mk_box2(0,closure32_NBInline_main,tmpMeta25), _OMC_LIT204);
  tmpMeta28 = mmc_mk_box2(0, boxvar_NBInitialization_main, _OMC_LIT60);
  tmpMeta27 = mmc_mk_cons(tmpMeta28, _mainModules);
  tmpMeta24 = mmc_mk_cons(tmpMeta26, tmpMeta27);
  tmpMeta21 = mmc_mk_cons(tmpMeta23, tmpMeta24);
  tmpMeta18 = mmc_mk_cons(tmpMeta20, tmpMeta21);
  _mainModules = tmpMeta18;

  tmpMeta30 = mmc_mk_box2(0, boxvar_NBEvaluation_removeDummies, _OMC_LIT205);
  tmpMeta31 = mmc_mk_box1(0, mmc_mk_integer((modelica_integer)_kind));
  tmpMeta32 = mmc_mk_box2(0, (modelica_fnptr) mmc_mk_box2(0,closure33_NBTearing_main,tmpMeta31), _OMC_LIT206);
  tmpMeta33 = mmc_mk_box2(0, boxvar_NBPartitioning_categorize, _OMC_LIT207);
  tmpMeta34 = mmc_mk_box2(0, boxvar_NBSolve_main, _OMC_LIT169);
  tmpMeta35 = mmc_mk_box1(0, mmc_mk_integer((modelica_integer)_kind));
  tmpMeta36 = mmc_mk_box2(0, (modelica_fnptr) mmc_mk_box2(0,closure34_NBJacobian_main,tmpMeta35), _OMC_LIT208);
  tmpMeta29 = mmc_mk_cons(tmpMeta30, mmc_mk_cons(tmpMeta32, mmc_mk_cons(tmpMeta33, mmc_mk_cons(tmpMeta34, mmc_mk_cons(tmpMeta36, MMC_REFSTRUCTLIT(mmc_nil))))));
  _postOptModules = tmpMeta29;

  _bdae = omc_NBackendDAE_applyModules(threadData, _bdae, _preOptModules, _eq_filter_opt, ((modelica_integer) 29) ,&_preOptClocks);

  _bdae = omc_NBackendDAE_applyModules(threadData, _bdae, _mainModules, _eq_filter_opt, ((modelica_integer) 29) ,&_mainClocks);

  _bdae = omc_NBackendDAE_applyModules(threadData, _bdae, _postOptModules, _eq_filter_opt, ((modelica_integer) 29) ,&_postOptClocks);

  if(omc_Flags_isSet(threadData, _OMC_LIT215))
  {
    if((!listEmpty(_preOptClocks)))
    {
      fputs(MMC_STRINGDATA(omc_StringUtil_headline__4(threadData, _OMC_LIT209)),stdout);

      {
        modelica_metatype __omcQ_24tmpVar17;
        modelica_metatype* tmp38;
        modelica_metatype tmpMeta39;
        modelica_string __omcQ_24tmpVar16;
        modelica_integer tmp40;
        modelica_metatype _clck_loopVar = 0;
        modelica_metatype _clck;
        _clck_loopVar = _preOptClocks;
        tmpMeta39 = MMC_REFSTRUCTLIT(mmc_nil);
        __omcQ_24tmpVar17 = tmpMeta39; /* defaultValue */
        tmp38 = &__omcQ_24tmpVar17;
        while(1) {
          tmp40 = 1;
          if (!listEmpty(_clck_loopVar)) {
            _clck = MMC_CAR(_clck_loopVar);
            _clck_loopVar = MMC_CDR(_clck_loopVar);
            tmp40--;
          }
          if (tmp40 == 0) {
            __omcQ_24tmpVar16 = omc_NBModule_moduleClockString(threadData, _clck);
            *tmp38 = mmc_mk_cons(__omcQ_24tmpVar16,0);
            tmp38 = &MMC_CDR(*tmp38);
          } else if (tmp40 == 1) {
            break;
          } else {
            MMC_THROW_INTERNAL();
          }
        }
        *tmp38 = mmc_mk_nil();
        tmpMeta37 = __omcQ_24tmpVar17;
      }
      tmpMeta41 = stringAppend(stringDelimitList(tmpMeta37, _OMC_LIT2),_OMC_LIT2);
      fputs(MMC_STRINGDATA(tmpMeta41),stdout);
    }

    if((!listEmpty(_mainClocks)))
    {
      fputs(MMC_STRINGDATA(omc_StringUtil_headline__4(threadData, _OMC_LIT210)),stdout);

      {
        modelica_metatype __omcQ_24tmpVar19;
        modelica_metatype* tmp43;
        modelica_metatype tmpMeta44;
        modelica_string __omcQ_24tmpVar18;
        modelica_integer tmp45;
        modelica_metatype _clck_loopVar = 0;
        modelica_metatype _clck;
        _clck_loopVar = _mainClocks;
        tmpMeta44 = MMC_REFSTRUCTLIT(mmc_nil);
        __omcQ_24tmpVar19 = tmpMeta44; /* defaultValue */
        tmp43 = &__omcQ_24tmpVar19;
        while(1) {
          tmp45 = 1;
          if (!listEmpty(_clck_loopVar)) {
            _clck = MMC_CAR(_clck_loopVar);
            _clck_loopVar = MMC_CDR(_clck_loopVar);
            tmp45--;
          }
          if (tmp45 == 0) {
            __omcQ_24tmpVar18 = omc_NBModule_moduleClockString(threadData, _clck);
            *tmp43 = mmc_mk_cons(__omcQ_24tmpVar18,0);
            tmp43 = &MMC_CDR(*tmp43);
          } else if (tmp45 == 1) {
            break;
          } else {
            MMC_THROW_INTERNAL();
          }
        }
        *tmp43 = mmc_mk_nil();
        tmpMeta42 = __omcQ_24tmpVar19;
      }
      tmpMeta46 = stringAppend(stringDelimitList(tmpMeta42, _OMC_LIT2),_OMC_LIT2);
      fputs(MMC_STRINGDATA(tmpMeta46),stdout);
    }

    if((!listEmpty(_postOptClocks)))
    {
      fputs(MMC_STRINGDATA(omc_StringUtil_headline__4(threadData, _OMC_LIT211)),stdout);

      {
        modelica_metatype __omcQ_24tmpVar21;
        modelica_metatype* tmp48;
        modelica_metatype tmpMeta49;
        modelica_string __omcQ_24tmpVar20;
        modelica_integer tmp50;
        modelica_metatype _clck_loopVar = 0;
        modelica_metatype _clck;
        _clck_loopVar = _postOptClocks;
        tmpMeta49 = MMC_REFSTRUCTLIT(mmc_nil);
        __omcQ_24tmpVar21 = tmpMeta49; /* defaultValue */
        tmp48 = &__omcQ_24tmpVar21;
        while(1) {
          tmp50 = 1;
          if (!listEmpty(_clck_loopVar)) {
            _clck = MMC_CAR(_clck_loopVar);
            _clck_loopVar = MMC_CDR(_clck_loopVar);
            tmp50--;
          }
          if (tmp50 == 0) {
            __omcQ_24tmpVar20 = omc_NBModule_moduleClockString(threadData, _clck);
            *tmp48 = mmc_mk_cons(__omcQ_24tmpVar20,0);
            tmp48 = &MMC_CDR(*tmp48);
          } else if (tmp50 == 1) {
            break;
          } else {
            MMC_THROW_INTERNAL();
          }
        }
        *tmp48 = mmc_mk_nil();
        tmpMeta47 = __omcQ_24tmpVar21;
      }
      tmpMeta51 = stringAppend(stringDelimitList(tmpMeta47, _OMC_LIT2),_OMC_LIT185);
      fputs(MMC_STRINGDATA(tmpMeta51),stdout);
    }
  }

  omc_NBackendDAE_backenddaeinfo(threadData, _bdae);
  _return: OMC_LABEL_UNUSED
  return _bdae;
}

DLLDirection
modelica_metatype omc_NBackendDAE_lower(threadData_t *threadData, modelica_metatype _flatModel, modelica_metatype _funcTree)
{
  modelica_metatype _bdae = NULL;
  modelica_metatype _variableData = NULL;
  modelica_metatype _equationData = NULL;
  modelica_metatype _eventInfo = NULL;
  modelica_metatype _clockedInfo = NULL;
  modelica_metatype _functions = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _bdae has no default value.
  // _variableData has no default value.
  // _equationData has no default value.
  _eventInfo = omc_NBEvents_EventInfo_empty(threadData);
  _clockedInfo = omc_NBPartitioning_ClockedInfo_new(threadData);
  // _functions has no default value.
  _variableData = omc_NBackendDAE_lowerVariableData(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_flatModel), 3))));

  _equationData = omc_NBackendDAE_lowerEquationData(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_flatModel), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_flatModel), 6))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_flatModel), 5))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_flatModel), 7))), _variableData ,&_variableData);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta7 = mmc_mk_box14(3, &NBackendDAE_MAIN__desc, tmpMeta1, tmpMeta2, tmpMeta3, tmpMeta4, tmpMeta5, tmpMeta6, mmc_mk_none(), mmc_mk_none(), _variableData, _equationData, _eventInfo, _clockedInfo, omc_NBackendDAE_lowerFunctions(threadData, _funcTree));
  _bdae = tmpMeta7;
  _return: OMC_LABEL_UNUSED
  return _bdae;
}

DLLDirection
modelica_metatype omc_NBackendDAE_sizes(threadData_t *threadData, modelica_metatype _bdae, modelica_metatype *out_eqnSizes)
{
  modelica_metatype _varSizes = NULL;
  modelica_metatype _eqnSizes = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _varSizes has no default value.
  // _eqnSizes has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _bdae;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,13) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box2(0, mmc_mk_integer(omc_NBVariable_VarData_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 10))), 0 /* false */)), mmc_mk_integer(omc_NBVariable_VarData_size(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 10))))));
          tmpMeta7 = mmc_mk_box2(0, mmc_mk_integer(omc_NBEquation_EqData_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 11))), 0 /* false */)), mmc_mk_integer(omc_NBEquation_EqData_size(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 11))))));
          tmpMeta[0+0] = tmpMeta6;
          tmpMeta[0+1] = tmpMeta7;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _OMC_LIT216;
          tmpMeta[0+1] = _OMC_LIT216;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _varSizes = tmpMeta[0+0];
  _eqnSizes = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_eqnSizes) { *out_eqnSizes = _eqnSizes; }
  return _varSizes;
}

DLLDirection
modelica_metatype omc_NBackendDAE_getFunctionTree(threadData_t *threadData, modelica_metatype _bdae)
{
  modelica_metatype _funcTree = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _funcTree has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _bdae;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,13) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 14));
          _funcTree = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta1 = _funcTree;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT74, _OMC_LIT218);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _funcTree = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _funcTree;
}

DLLDirection
modelica_metatype omc_NBackendDAE_setVarData(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fbdae, modelica_metatype _varData)
{
  modelica_metatype _bdae = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _bdae = __omcQ_24in_5Fbdae;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _bdae;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[10] = _varData;
          _bdae = tmpMeta5;
          tmpMeta1 = _bdae;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(8));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_bdae), 8*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[4] = _varData;
          _bdae = tmpMeta6;
          tmpMeta1 = _bdae;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_bdae), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[2] = _varData;
          _bdae = tmpMeta7;
          tmpMeta1 = _bdae;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT74, _OMC_LIT220);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _bdae = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _bdae;
}

DLLDirection
modelica_metatype omc_NBackendDAE_getVarData(threadData_t *threadData, modelica_metatype _bdae)
{
  modelica_metatype _varData = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _varData has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _bdae;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 10)));
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 4)));
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 2)));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT74, _OMC_LIT222);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _varData = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _varData;
}

DLLDirection
modelica_string omc_NBackendDAE_toString(threadData_t *threadData, modelica_metatype _bdae, modelica_string __omcQ_24in_5Fstr)
{
  modelica_string _str = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _str = __omcQ_24in_5Fstr;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _bdae;
    {
      modelica_string _tmp = NULL;
      int tmp4;
      _tmp = (modelica_string) mmc_emptystring;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          
          /* Pattern matching succeeded */
          if(((!omc_Flags_isSet(threadData, _OMC_LIT167)) || (((((listEmpty((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 2)))) && listEmpty((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 3))))) && listEmpty((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 4))))) && listEmpty((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 5))))) && listEmpty((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 6))))) && (!isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 9))))))))
          {
            tmpMeta5 = stringAppend(_OMC_LIT231,_str);
            tmpMeta6 = stringAppend(omc_StringUtil_headline__1(threadData, tmpMeta5),_OMC_LIT2);
            _tmp = tmpMeta6;

            tmpMeta7 = stringAppend(_tmp,omc_NBVariable_VarData_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 10))), ((modelica_integer) 2)));
            tmpMeta8 = stringAppend(tmpMeta7,_OMC_LIT2);
            tmpMeta9 = stringAppend(tmpMeta8,omc_NBEquation_EqData_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 11))), ((modelica_integer) 1), mmc_mk_none()));
            _tmp = tmpMeta9;
          }
          else
          {
            tmpMeta10 = stringAppend(_OMC_LIT223,_str);
            tmpMeta11 = stringAppend(_tmp,omc_NBPartition_Partition_toStringList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 2))), tmpMeta10));
            _tmp = tmpMeta11;

            tmpMeta12 = stringAppend(_OMC_LIT224,_str);
            tmpMeta13 = stringAppend(_tmp,omc_NBPartition_Partition_toStringList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 3))), tmpMeta12));
            _tmp = tmpMeta13;

            tmpMeta14 = stringAppend(_OMC_LIT225,_str);
            tmpMeta15 = stringAppend(_tmp,omc_NBPartition_Partition_toStringList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 4))), tmpMeta14));
            _tmp = tmpMeta15;

            tmpMeta16 = stringAppend(_OMC_LIT226,_str);
            tmpMeta17 = stringAppend(_tmp,omc_NBPartition_Partition_toStringList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 5))), tmpMeta16));
            _tmp = tmpMeta17;

            tmpMeta18 = stringAppend(_OMC_LIT227,_str);
            tmpMeta19 = stringAppend(_tmp,omc_NBPartition_Partition_toStringList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 6))), tmpMeta18));
            _tmp = tmpMeta19;

            tmpMeta20 = stringAppend(_OMC_LIT228,_str);
            tmpMeta21 = stringAppend(_tmp,omc_NBPartition_Partition_toStringList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 7))), tmpMeta20));
            _tmp = tmpMeta21;

            if(isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 8)))))
            {
              tmpMeta22 = stringAppend(_OMC_LIT229,_str);
              tmpMeta23 = stringAppend(_tmp,omc_NBPartition_Partition_toStringList(threadData, omc_Util_getOption(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 8)))), tmpMeta22));
              _tmp = tmpMeta23;
            }

            if(isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 9)))))
            {
              tmpMeta24 = stringAppend(_OMC_LIT230,_str);
              tmpMeta25 = stringAppend(_tmp,omc_NBPartition_Partition_toStringList(threadData, omc_Util_getOption(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 9)))), tmpMeta24));
              _tmp = tmpMeta25;
            }
          }

          tmpMeta26 = stringAppend(_tmp,omc_NBEvents_EventInfo_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 12)))));
          _tmp = tmpMeta26;
          tmpMeta27 = stringAppend(_tmp,omc_NBPartitioning_ClockedInfo_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 13)))));
          tmp1 = tmpMeta27;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_integer tmp36;
          modelica_integer tmp37;
          modelica_integer tmp38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          
          /* Pattern matching succeeded */
          tmpMeta28 = stringAppend(omc_NBJacobian_jacobianTypeString(threadData, mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 3))))),_OMC_LIT232);
          tmpMeta29 = stringAppend(tmpMeta28,(MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 2))));
          tmpMeta30 = stringAppend(tmpMeta29,_OMC_LIT233);
          tmpMeta31 = stringAppend(tmpMeta30,_str);
          tmpMeta32 = stringAppend(omc_StringUtil_headline__1(threadData, tmpMeta31),_OMC_LIT2);
          _tmp = tmpMeta32;

          tmpMeta33 = stringAppend(_tmp,omc_NBVariable_VarData_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 4))), ((modelica_integer) 1)));
          _tmp = tmpMeta33;

          tmp36 = ((modelica_integer) 1); tmp37 = 1; tmp38 = arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 5))));
          if(!(((tmp37 > 0) && (tmp36 > tmp38)) || ((tmp37 < 0) && (tmp36 < tmp38))))
          {
            modelica_integer _i;
            for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp36, tmp38); _i += tmp37)
            {
              tmpMeta34 = stringAppend(_tmp,omc_NBStrongComponent_toString(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 5))),_i) /* DAE.ASUB */, _i));
              tmpMeta35 = stringAppend(tmpMeta34,_OMC_LIT2);
              _tmp = tmpMeta35;
            }
          }
          tmpMeta39 = stringAppend(_tmp,omc_NBJacobian_SparsityPattern_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 6)))));
          tmpMeta40 = stringAppend(tmpMeta39,_OMC_LIT2);
          tmpMeta41 = stringAppend(tmpMeta40,omc_NBJacobian_SparsityColoring_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 7)))));
          tmp1 = tmpMeta41;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          
          /* Pattern matching succeeded */
          tmpMeta42 = stringAppend(_OMC_LIT234,_str);
          tmpMeta43 = stringAppend(omc_StringUtil_headline__1(threadData, tmpMeta42),_OMC_LIT2);
          tmpMeta44 = stringAppend(tmpMeta43,omc_NBVariable_VarData_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 2))), ((modelica_integer) 1)));
          tmpMeta45 = stringAppend(tmpMeta44,_OMC_LIT2);
          tmpMeta46 = stringAppend(tmpMeta45,omc_NBEquation_EqData_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 3))), ((modelica_integer) 1), mmc_mk_none()));
          tmp1 = tmpMeta46;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT74, _OMC_LIT236);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _str = tmp1;
  _return: OMC_LABEL_UNUSED
  return _str;
}

