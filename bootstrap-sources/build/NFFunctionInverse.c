#include "omc_simulation_settings.h"
#include "NFFunctionInverse.h"
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT0,1,5) {&ErrorTypes_MessageType_TRANSLATION__desc,}};
#define _OMC_LIT0 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT0)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT1,1,4) {&ErrorTypes_Severity_ERROR__desc,}};
#define _OMC_LIT1 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "'%s' is not an input of function '%s'."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,38,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT2}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT4,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(339)),_OMC_LIT0,_OMC_LIT1,_OMC_LIT3}};
#define _OMC_LIT4 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT4)
#define _OMC_LIT5_data "."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT5,1,_OMC_LIT5_data);
#define _OMC_LIT5 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT5)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT6,1,5) {&ErrorTypes_Severity_WARNING__desc,}};
#define _OMC_LIT6 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT6)
#define _OMC_LIT7_data "'%s' is not a valid function %s attribute."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT7,42,_OMC_LIT7_data);
#define _OMC_LIT7 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT7)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT8,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT7}};
#define _OMC_LIT8 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT8)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT9,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(338)),_OMC_LIT0,_OMC_LIT6,_OMC_LIT8}};
#define _OMC_LIT9 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT9)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT10,10,3) {&SCodeDump_SCodeDumpOptions_OPTIONS__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT10 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data "inverse"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,7,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
#define _OMC_LIT12_data "NFFunctionInverse.instInverseMod got invalid modifier"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT12,53,_OMC_LIT12_data);
#define _OMC_LIT12 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/NFFrontEnd/NFFunctionInverse.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,78,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT14_6,1.758197185e9);
#define _OMC_LIT14_6 MMC_REFREALLIT(_OMC_LIT_STRUCT14_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT14,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT13,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(145)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(145)),MMC_IMMEDIATE(MMC_TAGFIXNUM(92)),_OMC_LIT14_6}};
#define _OMC_LIT14 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,1,4) {&SCode_Final_NOT__FINAL__desc,}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT16,1,4) {&SCode_Each_NOT__EACH__desc,}};
#define _OMC_LIT16 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT16)
#define _OMC_LIT17_data "Invalid inverse annotation for '%s', only functions with exactly one output may have an inverse."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT17,96,_OMC_LIT17_data);
#define _OMC_LIT17 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT17)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT18,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT17}};
#define _OMC_LIT18 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT18)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT19,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(390)),_OMC_LIT0,_OMC_LIT1,_OMC_LIT18}};
#define _OMC_LIT19 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT19)
#include "util/modelica.h"

#include "NFFunctionInverse_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFFunctionInverse_instInverseSubMod(threadData_t *threadData, modelica_metatype _submod, modelica_metatype _fnNode, modelica_metatype _fn, modelica_metatype _info, modelica_metatype __omcQ_24in_5FfnInvs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFFunctionInverse_instInverseSubMod,2,0) {(void*) boxptr_NFFunctionInverse_instInverseSubMod,0}};
#define boxvar_NFFunctionInverse_instInverseSubMod MMC_REFSTRUCTLIT(boxvar_lit_NFFunctionInverse_instInverseSubMod)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFFunctionInverse_instInverseMod(threadData_t *threadData, modelica_metatype _mod, modelica_metatype _fnNode, modelica_metatype _fn, modelica_metatype __omcQ_24in_5FfnInvs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFFunctionInverse_instInverseMod,2,0) {(void*) boxptr_NFFunctionInverse_instInverseMod,0}};
#define boxvar_NFFunctionInverse_instInverseMod MMC_REFSTRUCTLIT(boxvar_lit_NFFunctionInverse_instInverseMod)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFFunctionInverse_getInverseAnnotations(threadData_t *threadData, modelica_metatype _definition);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NFFunctionInverse_getInverseAnnotations,2,0) {(void*) boxptr_NFFunctionInverse_getInverseAnnotations,0}};
#define boxvar_NFFunctionInverse_getInverseAnnotations MMC_REFSTRUCTLIT(boxvar_lit_NFFunctionInverse_getInverseAnnotations)

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFFunctionInverse_instInverseSubMod(threadData_t *threadData, modelica_metatype _submod, modelica_metatype _fnNode, modelica_metatype _fn, modelica_metatype _info, modelica_metatype __omcQ_24in_5FfnInvs)
{
  modelica_metatype _fnInvs = NULL;
  modelica_string _name = NULL;
  modelica_metatype _aparam = NULL;
  modelica_metatype _param = NULL;
  modelica_metatype _call_aexp = NULL;
  modelica_metatype _call_exp = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _fnInvs = __omcQ_24in_5FfnInvs;
  // _name has no default value.
  // _aparam has no default value.
  // _param has no default value.
  // _call_aexp has no default value.
  // _call_exp has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _submod;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,0,6) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 4));
          if (!listEmpty(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 5));
          if (optionNone(tmpMeta9)) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,11,3) == 0) goto tmp3_end;
          
          _name = tmpMeta6;
          _call_aexp = tmpMeta10;
          /* Pattern matching succeeded */
          tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta12 = mmc_mk_box3(5, &Absyn_ComponentRef_CREF__IDENT__desc, _name, tmpMeta11);
          _aparam = tmpMeta12;

          { /* matchcontinue expression */
            {
              volatile mmc_switch_type tmp15;
              int tmp16;
              tmp15 = 0;
              MMC_TRY_INTERNAL(mmc_jumper)
              tmp14_top:
              threadData->mmc_jumper = &new_mmc_jumper;
              for (; tmp15 < 2; tmp15++) {
                switch (MMC_SWITCH_CAST(tmp15)) {
                case 0: {
                  modelica_boolean tmp17;
                  /* Pattern matching succeeded */
                  _param = omc_NFLookup_lookupLocalCref(threadData, _aparam, _fnNode, ((modelica_integer) 1), _info, NULL, NULL);

                  /* Pattern-matching assignment */
                  tmp17 = omc_NFInstNode_InstNode_isInput(threadData, omc_NFComponentRef_node(threadData, _param));
                  if (1 /* true */ != tmp17) goto goto_13;
                  goto tmp14_done;
                }
                case 1: {
                  modelica_metatype tmpMeta18;
                  /* Pattern matching succeeded */
                  tmpMeta18 = mmc_mk_cons(_name, mmc_mk_cons(omc_AbsynUtil_pathString(threadData, omc_NFFunction_Function_name(threadData, _fn), _OMC_LIT5, 1 /* true */, 0 /* false */), MMC_REFSTRUCTLIT(mmc_nil)));
                  omc_Error_addSourceMessage(threadData, _OMC_LIT4, tmpMeta18, _info);

                  goto goto_13;
                  goto tmp14_done;
                }
                }
                goto tmp14_end;
                tmp14_end: ;
              }
              goto goto_13;
              tmp14_done:
              (void)tmp15;
              MMC_RESTORE_INTERNAL(mmc_jumper);
              goto tmp14_done2;
              goto_13:;
              MMC_CATCH_INTERNAL(mmc_jumper);
              if (++tmp15 < 2) {
                goto tmp14_top;
              }
              goto goto_2;
              tmp14_done2:;
            }
          }
          ;

          _call_exp = omc_NFInst_instExp(threadData, _call_aexp, _fnNode, ((modelica_integer) 1), _info);
          tmpMeta20 = mmc_mk_box4(3, &NFFunctionInverse_FUNCTION__INV__desc, _param, _call_exp, _info);
          tmpMeta19 = mmc_mk_cons(tmpMeta20, _fnInvs);
          tmpMeta1 = tmpMeta19;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          
          /* Pattern matching succeeded */
          tmpMeta22 = stringAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_submod), 2))),omc_SCodeDump_printModStr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_submod), 3))), _OMC_LIT10));
          tmpMeta21 = mmc_mk_cons(tmpMeta22, mmc_mk_cons(_OMC_LIT11, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addStrictMessage(threadData, _OMC_LIT9, tmpMeta21, _info);
          tmpMeta1 = _fnInvs;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _fnInvs = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _fnInvs;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFFunctionInverse_instInverseMod(threadData_t *threadData, modelica_metatype _mod, modelica_metatype _fnNode, modelica_metatype _fn, modelica_metatype __omcQ_24in_5FfnInvs)
{
  modelica_metatype _fnInvs = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _fnInvs = __omcQ_24in_5FfnInvs;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _mod;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,6) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype _s;
            for (tmpMeta6 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mod), 4))); !listEmpty(tmpMeta6); tmpMeta6=MMC_CDR(tmpMeta6))
            {
              _s = MMC_CAR(tmpMeta6);
              _fnInvs = omc_NFFunctionInverse_instInverseSubMod(threadData, _s, _fnNode, _fn, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mod), 7))), _fnInvs);
            }
          }
          tmpMeta1 = _fnInvs;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          omc_Error_assertion(threadData, 0 /* false */, _OMC_LIT12, _OMC_LIT14);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _fnInvs = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _fnInvs;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NFFunctionInverse_getInverseAnnotations(threadData_t *threadData, modelica_metatype _definition)
{
  modelica_metatype _invMods = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _invMods has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _definition;
    {
      modelica_metatype _ann = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _ann has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,8) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 9));
          if (optionNone(tmpMeta7)) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 6));
          if (optionNone(tmpMeta9)) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 1));
          
          _ann = tmpMeta10;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_SCodeUtil_lookupAnnotations(threadData, _ann, _OMC_LIT11);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 8));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          if (optionNone(tmpMeta12)) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 1));
          
          _ann = tmpMeta13;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_SCodeUtil_lookupAnnotations(threadData, _ann, _OMC_LIT11);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta14;
          
          /* Pattern matching succeeded */
          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta14;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _invMods = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _invMods;
}

DLLDirection
modelica_metatype omc_NFFunctionInverse_toSubMod(threadData_t *threadData, modelica_metatype _fnInv)
{
  modelica_metatype _subMod = NULL;
  modelica_metatype _inv_mod = NULL;
  modelica_metatype _call_exp = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _subMod has no default value.
  // _inv_mod has no default value.
  // _call_exp has no default value.
  _call_exp = omc_NFExpression_toAbsyn(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fnInv), 3))));

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta2 = mmc_mk_box7(3, &SCode_Mod_MOD__desc, _OMC_LIT15, _OMC_LIT16, tmpMeta1, mmc_mk_some(_call_exp), mmc_mk_none(), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fnInv), 4))));
  tmpMeta3 = mmc_mk_box3(3, &SCode_SubMod_NAMEMOD__desc, omc_NFComponentRef_firstName(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fnInv), 2))), 0 /* false */), tmpMeta2);
  _inv_mod = tmpMeta3;

  tmpMeta4 = mmc_mk_cons(_inv_mod, MMC_REFSTRUCTLIT(mmc_nil));
  tmpMeta5 = mmc_mk_box7(3, &SCode_Mod_MOD__desc, _OMC_LIT15, _OMC_LIT16, tmpMeta4, mmc_mk_none(), mmc_mk_none(), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fnInv), 4))));
  tmpMeta6 = mmc_mk_box3(3, &SCode_SubMod_NAMEMOD__desc, _OMC_LIT11, tmpMeta5);
  _subMod = tmpMeta6;
  _return: OMC_LABEL_UNUSED
  return _subMod;
}

DLLDirection
modelica_metatype omc_NFFunctionInverse_toDAE(threadData_t *threadData, modelica_metatype _fnInv)
{
  modelica_metatype _invDef = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _invDef has no default value.
  tmpMeta1 = mmc_mk_box3(6, &DAE_FunctionDefinition_FUNCTION__INVERSE__desc, omc_NFComponentRef_toDAE(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fnInv), 2)))), omc_NFExpression_toDAE(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fnInv), 3)))));
  _invDef = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _invDef;
}

DLLDirection
modelica_metatype omc_NFFunctionInverse_typeInverse(threadData_t *threadData, modelica_metatype __omcQ_24in_5FfnInv)
{
  modelica_metatype _fnInv = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _fnInv = __omcQ_24in_5FfnInv;
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(5));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_fnInv), 5*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[2] = omc_NFTyping_typeCref(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fnInv), 2))), ((modelica_integer) 1), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fnInv), 4))), NULL, NULL, NULL);
  _fnInv = tmpMeta1;

  tmpMeta2 = MMC_TAGPTR(mmc_alloc_words(5));
  memcpy(MMC_UNTAGPTR(tmpMeta2), MMC_UNTAGPTR(_fnInv), 5*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta2))[3] = omc_NFTyping_typeExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fnInv), 3))), ((modelica_integer) 1), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fnInv), 4))), 0 /* false */, NULL, NULL, NULL);
  _fnInv = tmpMeta2;
  _return: OMC_LABEL_UNUSED
  return _fnInv;
}

DLLDirection
modelica_metatype omc_NFFunctionInverse_instInverses(threadData_t *threadData, modelica_metatype _fnNode, modelica_metatype _fn)
{
  modelica_metatype _inverses = NULL;
  modelica_metatype _inv_mods = NULL;
  modelica_metatype _invs = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _inverses has no default value.
  // _inv_mods has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _invs = tmpMeta1;
  _inv_mods = omc_NFFunctionInverse_getInverseAnnotations(threadData, omc_NFInstNode_InstNode_definition(threadData, _fnNode));

  if(((!listEmpty(_inv_mods)) && (!(listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fn), 5)))) == ((modelica_integer) 1)))))
  {
    tmpMeta2 = mmc_mk_cons(omc_AbsynUtil_pathString(threadData, omc_NFFunction_Function_name(threadData, _fn), _OMC_LIT5, 1 /* true */, 0 /* false */), MMC_REFSTRUCTLIT(mmc_nil));
    omc_Error_addSourceMessage(threadData, _OMC_LIT19, tmpMeta2, omc_SCodeUtil_getModifierInfo(threadData, listHead(_inv_mods)));

    MMC_THROW_INTERNAL();
  }

  {
    modelica_metatype _m;
    for (tmpMeta3 = _inv_mods; !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
    {
      _m = MMC_CAR(tmpMeta3);
      _invs = omc_NFFunctionInverse_instInverseMod(threadData, _m, _fnNode, _fn, _invs);
    }
  }

  _inverses = listArray(_invs);
  _return: OMC_LABEL_UNUSED
  return _inverses;
}

