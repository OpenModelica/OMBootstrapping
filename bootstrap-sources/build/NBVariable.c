#include "omc_simulation_settings.h"
#include "NBVariable.h"
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT0,1,5) {&ErrorTypes_MessageType_TRANSLATION__desc,}};
#define _OMC_LIT0 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT0)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT1,1,4) {&ErrorTypes_Severity_ERROR__desc,}};
#define _OMC_LIT1 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "Internal error %s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,17,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT2}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT4,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(63)),_OMC_LIT0,_OMC_LIT1,_OMC_LIT3}};
#define _OMC_LIT4 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT4)
#define _OMC_LIT5_data "NBVariable.VarData.addTypedList failed."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT5,39,_OMC_LIT5_data);
#define _OMC_LIT5 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT5)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT6,2,1) {_OMC_LIT5,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT6 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT6)
#define _OMC_LIT7_data "NBVariable.VarData.getStateOrder failed because of incorrect record type."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT7,73,_OMC_LIT7_data);
#define _OMC_LIT7 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT7)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT8,2,1) {_OMC_LIT7,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT8 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT8)
#define _OMC_LIT9_data "Variable Data Simulation (scalar unknowns: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT9,43,_OMC_LIT9_data);
#define _OMC_LIT9 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT9)
#define _OMC_LIT10_data ")"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT10,1,_OMC_LIT10_data);
#define _OMC_LIT10 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,1,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
#define _OMC_LIT12_data "State"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT12,5,_OMC_LIT12_data);
#define _OMC_LIT12 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "Derivative"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,10,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
#define _OMC_LIT14_data "Algebraic"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT14,9,_OMC_LIT14_data);
#define _OMC_LIT14 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT14)
#define _OMC_LIT15_data "Discrete"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT15,8,_OMC_LIT15_data);
#define _OMC_LIT15 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data "Discrete State"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,14,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
#define _OMC_LIT17_data "Clocked State"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT17,13,_OMC_LIT17_data);
#define _OMC_LIT17 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT17)
#define _OMC_LIT18_data "Previous"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT18,8,_OMC_LIT18_data);
#define _OMC_LIT18 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data "Clock"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,5,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data "Top Level Input"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,15,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
#define _OMC_LIT21_data "Resizable Parameters"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT21,20,_OMC_LIT21_data);
#define _OMC_LIT21 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data "Parameter"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,9,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
#define _OMC_LIT23_data "Constant"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT23,8,_OMC_LIT23_data);
#define _OMC_LIT23 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT23)
#define _OMC_LIT24_data "Record"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT24,6,_OMC_LIT24_data);
#define _OMC_LIT24 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT24)
#define _OMC_LIT25_data "External Object"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT25,15,_OMC_LIT25_data);
#define _OMC_LIT25 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data "Artificial"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,10,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
#define _OMC_LIT27_data "Unknown"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT27,7,_OMC_LIT27_data);
#define _OMC_LIT27 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT27)
#define _OMC_LIT28_data "Local Known"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT28,11,_OMC_LIT28_data);
#define _OMC_LIT28 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT28)
#define _OMC_LIT29_data "Global Known"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT29,12,_OMC_LIT29_data);
#define _OMC_LIT29 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data "Auxiliary"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,9,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
#define _OMC_LIT31_data "Alias"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT31,5,_OMC_LIT31_data);
#define _OMC_LIT31 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT31)
#define _OMC_LIT32_data "Partial Derivative"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT32,18,_OMC_LIT32_data);
#define _OMC_LIT32 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT32)
#define _OMC_LIT33_data "Seed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT33,4,_OMC_LIT33_data);
#define _OMC_LIT33 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT33)
#define _OMC_LIT34_data "Differentiation"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT34,15,_OMC_LIT34_data);
#define _OMC_LIT34 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT34)
#define _OMC_LIT35_data "Residual"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT35,8,_OMC_LIT35_data);
#define _OMC_LIT35 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT35)
#define _OMC_LIT36_data "Inner"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT36,5,_OMC_LIT36_data);
#define _OMC_LIT36 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT36)
#define _OMC_LIT37_data "Dependencies"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT37,12,_OMC_LIT37_data);
#define _OMC_LIT37 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT37)
#define _OMC_LIT38_data "Known"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT38,5,_OMC_LIT38_data);
#define _OMC_LIT38 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT38)
#define _OMC_LIT39_data "Variable Data Hessian"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT39,21,_OMC_LIT39_data);
#define _OMC_LIT39 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT39)
#define _OMC_LIT40_data "Result"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT40,6,_OMC_LIT40_data);
#define _OMC_LIT40 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT40)
#define _OMC_LIT41_data "Temporary"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT41,9,_OMC_LIT41_data);
#define _OMC_LIT41 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT41)
#define _OMC_LIT42_data "First Seed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT42,10,_OMC_LIT42_data);
#define _OMC_LIT42 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT42)
#define _OMC_LIT43_data "Second Seed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT43,11,_OMC_LIT43_data);
#define _OMC_LIT43 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT43)
#define _OMC_LIT44_data "Lagrangian Lambda"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT44,17,_OMC_LIT44_data);
#define _OMC_LIT44 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT44)
#define _OMC_LIT45_data "Simulation"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT45,10,_OMC_LIT45_data);
#define _OMC_LIT45 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT45)
#define _OMC_LIT46_data "Jacobian"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT46,8,_OMC_LIT46_data);
#define _OMC_LIT46 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT46)
#define _OMC_LIT47_data "Hessian"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT47,7,_OMC_LIT47_data);
#define _OMC_LIT47 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT47)
#define _OMC_LIT48_data "Empty variable Data!\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT48,21,_OMC_LIT48_data);
#define _OMC_LIT48 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT48)
#define _OMC_LIT49_data "NBVariable.VariablePointers.getMarkedVars failed because the number var marks ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT49,79,_OMC_LIT49_data);
#define _OMC_LIT49 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT49)
#define _OMC_LIT50_data ") is not equal to the number of variables ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT50,43,_OMC_LIT50_data);
#define _OMC_LIT50 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT50)
#define _OMC_LIT51_data ")."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT51,2,_OMC_LIT51_data);
#define _OMC_LIT51 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data "NBVariable.VariablePointers.getVarSafe failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,50,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT53,1,4) {&NFComponentRef_EMPTY__desc,}};
#define _OMC_LIT53 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT53)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT54,1,18) {&NFType_ANY__desc,}};
#define _OMC_LIT54 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT54)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT55,1,3) {&NFBinding_UNBOUND__desc,}};
#define _OMC_LIT55 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT55)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT56,1,4) {&NFPrefixes_Replaceable_NOT__REPLACEABLE__desc,}};
#define _OMC_LIT56 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT56)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT57,10,3) {&NFAttributes_ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT56,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT57 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT57)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT58,3,3) {&SCode_Comment_COMMENT__desc,MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT58 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT58)
#define _OMC_LIT59_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT59,0,_OMC_LIT59_data);
#define _OMC_LIT59 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT59)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT60,0.0);
#define _OMC_LIT60 MMC_REFREALLIT(_OMC_LIT_STRUCT60)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT61,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT59,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT60}};
#define _OMC_LIT61 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT61)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT62,1,35) {&NFBackendExtension_VariableKind_FRONTEND__DUMMY__desc,}};
#define _OMC_LIT62 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT62)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT63,17,3) {&NFBackendExtension_VariableAttributes_VAR__ATTR__REAL__desc,MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT63 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT63)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT64,3,3) {&NFBackendExtension_Annotations_ANNOTATIONS__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT64 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT64)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT65,8,3) {&NFBackendExtension_BackendInfo_BACKEND__INFO__desc,_OMC_LIT62,_OMC_LIT63,_OMC_LIT64,MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT65 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT65)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT66,11,3) {&NFVariable_VARIABLE__desc,_OMC_LIT53,_OMC_LIT54,_OMC_LIT55,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT57,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT58,_OMC_LIT61,_OMC_LIT65}};
#define _OMC_LIT66 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT66)
#define _OMC_LIT67_data " Variables ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT67,12,_OMC_LIT67_data);
#define _OMC_LIT67 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT67)
#define _OMC_LIT68_data "/"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT68,1,_OMC_LIT68_data);
#define _OMC_LIT68 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT68)
#define _OMC_LIT69_data "("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT69,1,_OMC_LIT69_data);
#define _OMC_LIT69 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT69)
#define _OMC_LIT70_data "|"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT70,1,_OMC_LIT70_data);
#define _OMC_LIT70 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT70)
#define _OMC_LIT71_data " "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT71,1,_OMC_LIT71_data);
#define _OMC_LIT71 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT71)
#define _OMC_LIT72_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/NBackEnd/Classes/NBVariable.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT72,77,_OMC_LIT72_data);
#define _OMC_LIT72 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT72)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT73_6,1.758197185e9);
#define _OMC_LIT73_6 MMC_REFREALLIT(_OMC_LIT_STRUCT73_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT73,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1655)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1655)),MMC_IMMEDIATE(MMC_TAGFIXNUM(85)),_OMC_LIT73_6}};
#define _OMC_LIT73 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT73)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT74_6,1.758197185e9);
#define _OMC_LIT74_6 MMC_REFREALLIT(_OMC_LIT_STRUCT74_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT74,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1649)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1649)),MMC_IMMEDIATE(MMC_TAGFIXNUM(105)),_OMC_LIT74_6}};
#define _OMC_LIT74 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT74)
#define _OMC_LIT75_data "NBVariable.setBindingAsStart failed because of wrong binding."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT75,61,_OMC_LIT75_data);
#define _OMC_LIT75 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT75)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT76,2,1) {_OMC_LIT75,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT76 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT76)
#define _OMC_LIT77_data "NBVariable.setFixed failed because of wrong binding."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT77,52,_OMC_LIT77_data);
#define _OMC_LIT77 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT77)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT78,2,1) {_OMC_LIT77,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT78 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT78)
#define _OMC_LIT79_data "NBVariable.hasEvaluableBinding"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT79,30,_OMC_LIT79_data);
#define _OMC_LIT79 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT79)
#define _OMC_LIT80_data "NBVariable.getBindingVariability failed because of wrong binding."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT80,65,_OMC_LIT80_data);
#define _OMC_LIT80 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT80)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT81,2,1) {_OMC_LIT80,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT81 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT81)
#define _OMC_LIT82_data "$CLK_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT82,5,_OMC_LIT82_data);
#define _OMC_LIT82 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT82)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT83,1,12) {&NFBackendExtension_VariableKind_CLOCK__desc,}};
#define _OMC_LIT83 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT83)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT84_6,1.758197185e9);
#define _OMC_LIT84_6 MMC_REFREALLIT(_OMC_LIT_STRUCT84_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT84,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1466)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1466)),MMC_IMMEDIATE(MMC_TAGFIXNUM(69)),_OMC_LIT84_6}};
#define _OMC_LIT84 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT84)
#define _OMC_LIT85_data "$TMP"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT85,4,_OMC_LIT85_data);
#define _OMC_LIT85 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT85)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT86_6,1.758197185e9);
#define _OMC_LIT86_6 MMC_REFREALLIT(_OMC_LIT_STRUCT86_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT86,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1470)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1470)),MMC_IMMEDIATE(MMC_TAGFIXNUM(85)),_OMC_LIT86_6}};
#define _OMC_LIT86 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT86)
#define _OMC_LIT87_data "NBVariable.makeTmpVar failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT87,33,_OMC_LIT87_data);
#define _OMC_LIT87 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT87)
#define _OMC_LIT88_data "$AUX_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT88,5,_OMC_LIT88_data);
#define _OMC_LIT88 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT88)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT89,1,4) {&NFType_REAL__desc,}};
#define _OMC_LIT89 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT89)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT90,1,4) {&NFBackendExtension_VariableKind_ALGEBRAIC__desc,}};
#define _OMC_LIT90 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT90)
#define _OMC_LIT91_data "_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT91,1,_OMC_LIT91_data);
#define _OMC_LIT91 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT91)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT92,1,5) {&NBEquation_Iterator_EMPTY__desc,}};
#define _OMC_LIT92 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT92)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT93,10,3) {&NFAttributes_ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(6)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT56,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT93 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT93)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT94,1,9) {&NFBackendExtension_VariableKind_DISCRETE__desc,}};
#define _OMC_LIT94 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT94)
#define _OMC_LIT95_data "$RES_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT95,5,_OMC_LIT95_data);
#define _OMC_LIT95 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT95)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT96,1,31) {&NFBackendExtension_VariableKind_RESIDUAL__VAR__desc,}};
#define _OMC_LIT96 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT96)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT97_6,1.758197185e9);
#define _OMC_LIT97_6 MMC_REFREALLIT(_OMC_LIT_STRUCT97_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT97,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1302)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1302)),MMC_IMMEDIATE(MMC_TAGFIXNUM(69)),_OMC_LIT97_6}};
#define _OMC_LIT97 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT97)
#define _OMC_LIT98_data "$START"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT98,6,_OMC_LIT98_data);
#define _OMC_LIT98 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT98)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT99_6,1.758197185e9);
#define _OMC_LIT99_6 MMC_REFREALLIT(_OMC_LIT_STRUCT99_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT99,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1306)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1306)),MMC_IMMEDIATE(MMC_TAGFIXNUM(87)),_OMC_LIT99_6}};
#define _OMC_LIT99 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT99)
#define _OMC_LIT100_data "NBVariable.makeStartVar failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT100,35,_OMC_LIT100_data);
#define _OMC_LIT100 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT100)
#define _OMC_LIT101_data "NBVariable.makeFDerVar failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT101,34,_OMC_LIT101_data);
#define _OMC_LIT101 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT101)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT102_6,1.758197185e9);
#define _OMC_LIT102_6 MMC_REFREALLIT(_OMC_LIT_STRUCT102_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT102,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1224)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1224)),MMC_IMMEDIATE(MMC_TAGFIXNUM(53)),_OMC_LIT102_6}};
#define _OMC_LIT102 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT102)
#define _OMC_LIT103_data "$pDER_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT103,6,_OMC_LIT103_data);
#define _OMC_LIT103 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT103)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT104,1,21) {&NFBackendExtension_VariableKind_JAC__TMP__VAR__desc,}};
#define _OMC_LIT104 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT104)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT105,1,20) {&NFBackendExtension_VariableKind_JAC__VAR__desc,}};
#define _OMC_LIT105 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT105)
#define _OMC_LIT106_data "NBVariable.makePDerVar failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT106,34,_OMC_LIT106_data);
#define _OMC_LIT106 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT106)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT107_6,1.758197185e9);
#define _OMC_LIT107_6 MMC_REFREALLIT(_OMC_LIT_STRUCT107_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT107,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1172)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1172)),MMC_IMMEDIATE(MMC_TAGFIXNUM(57)),_OMC_LIT107_6}};
#define _OMC_LIT107 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT107)
#define _OMC_LIT108_data "$SEED_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT108,6,_OMC_LIT108_data);
#define _OMC_LIT108 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT108)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT109,1,22) {&NFBackendExtension_VariableKind_SEED__VAR__desc,}};
#define _OMC_LIT109 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT109)
#define _OMC_LIT110_data "NBVariable.makeSeedVar failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT110,34,_OMC_LIT110_data);
#define _OMC_LIT110 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT110)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT111_6,1.758197185e9);
#define _OMC_LIT111_6 MMC_REFREALLIT(_OMC_LIT_STRUCT111_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT111,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1139)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1139)),MMC_IMMEDIATE(MMC_TAGFIXNUM(65)),_OMC_LIT111_6}};
#define _OMC_LIT111 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT111)
#define _OMC_LIT112_data "$PRE"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT112,4,_OMC_LIT112_data);
#define _OMC_LIT112 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT112)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT113,1,11) {&NFBackendExtension_VariableKind_PREVIOUS__desc,}};
#define _OMC_LIT113 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT113)
#define _OMC_LIT114_data "NBVariable.makePreVar failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT114,33,_OMC_LIT114_data);
#define _OMC_LIT114 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT114)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT115,1,10) {&NFBackendExtension_VariableKind_DISCRETE__STATE__desc,}};
#define _OMC_LIT115 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT115)
#define _OMC_LIT116_data "NBVariable.makeDummyState failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT116,37,_OMC_LIT116_data);
#define _OMC_LIT116 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT116)
#define _OMC_LIT117_data "."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT117,1,_OMC_LIT117_data);
#define _OMC_LIT117 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT117)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT118_6,1.758197185e9);
#define _OMC_LIT118_6 MMC_REFREALLIT(_OMC_LIT_STRUCT118_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT118,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1075)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1075)),MMC_IMMEDIATE(MMC_TAGFIXNUM(84)),_OMC_LIT118_6}};
#define _OMC_LIT118 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT118)
#define _OMC_LIT119_data "NBVariable.setRecordChildren failed adding new children to "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT119,59,_OMC_LIT119_data);
#define _OMC_LIT119 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT119)
#define _OMC_LIT120_data " because it is not a record."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT120,28,_OMC_LIT120_data);
#define _OMC_LIT120 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT120)
#define _OMC_LIT121_data "NBVariable.addRecordChild failed adding "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT121,40,_OMC_LIT121_data);
#define _OMC_LIT121 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT121)
#define _OMC_LIT122_data " as a child to "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT122,15,_OMC_LIT122_data);
#define _OMC_LIT122 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT122)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT123_6,1.758197185e9);
#define _OMC_LIT123_6 MMC_REFREALLIT(_OMC_LIT_STRUCT123_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT123,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(980)),MMC_IMMEDIATE(MMC_TAGFIXNUM(11)),MMC_IMMEDIATE(MMC_TAGFIXNUM(980)),MMC_IMMEDIATE(MMC_TAGFIXNUM(59)),_OMC_LIT123_6}};
#define _OMC_LIT123 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT123)
#define _OMC_LIT124_data "$DER"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT124,4,_OMC_LIT124_data);
#define _OMC_LIT124 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT124)
#define _OMC_LIT125_data "NBVariable.makeDerVar failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT125,33,_OMC_LIT125_data);
#define _OMC_LIT125 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT125)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT126,1,29) {&NFBackendExtension_VariableKind_ALG__STATE__desc,}};
#define _OMC_LIT126 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT126)
#define _OMC_LIT127_data "time"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT127,4,_OMC_LIT127_data);
#define _OMC_LIT127 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT127)
#define _OMC_LIT128_data "Real"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT128,4,_OMC_LIT128_data);
#define _OMC_LIT128 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT128)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT129,1,3) {&SCode_Visibility_PUBLIC__desc,}};
#define _OMC_LIT129 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT129)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT130,1,4) {&SCode_Redeclare_NOT__REDECLARE__desc,}};
#define _OMC_LIT130 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT130)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT131,1,4) {&SCode_Final_NOT__FINAL__desc,}};
#define _OMC_LIT131 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT131)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT132,1,6) {&Absyn_InnerOuter_NOT__INNER__OUTER__desc,}};
#define _OMC_LIT132 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT132)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT133,1,4) {&SCode_Replaceable_NOT__REPLACEABLE__desc,}};
#define _OMC_LIT133 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT133)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT134,6,3) {&SCode_Prefixes_PREFIXES__desc,_OMC_LIT129,_OMC_LIT130,_OMC_LIT131,_OMC_LIT132,_OMC_LIT133}};
#define _OMC_LIT134 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT134)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT135,1,4) {&SCode_Encapsulated_NOT__ENCAPSULATED__desc,}};
#define _OMC_LIT135 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT135)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT136,1,4) {&SCode_Partial_NOT__PARTIAL__desc,}};
#define _OMC_LIT136 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT136)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT137,1,10) {&SCode_Restriction_R__TYPE__desc,}};
#define _OMC_LIT137 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT137)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT138,9,3) {&SCode_ClassDef_PARTS__desc,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT138 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT138)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT139,9,5) {&SCode_Element_CLASS__desc,_OMC_LIT128,_OMC_LIT134,_OMC_LIT135,_OMC_LIT136,_OMC_LIT137,_OMC_LIT138,_OMC_LIT58,_OMC_LIT61}};
#define _OMC_LIT139 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT139)
#define _OMC_LIT140_data "quantity"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT140,8,_OMC_LIT140_data);
#define _OMC_LIT140 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT140)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT141,2,4) {&NFLookupTree_Entry_COMPONENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1))}};
#define _OMC_LIT141 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT141)
#define _OMC_LIT142_data "max"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT142,3,_OMC_LIT142_data);
#define _OMC_LIT142 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT142)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT143,2,4) {&NFLookupTree_Entry_COMPONENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(5))}};
#define _OMC_LIT143 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT143)
#define _OMC_LIT144_data "displayUnit"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT144,11,_OMC_LIT144_data);
#define _OMC_LIT144 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT144)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT145,2,4) {&NFLookupTree_Entry_COMPONENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(3))}};
#define _OMC_LIT145 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT145)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT146,1,5) {&NFLookupTree_Tree_EMPTY__desc,}};
#define _OMC_LIT146 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT146)
#define _OMC_LIT147_data "fixed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT147,5,_OMC_LIT147_data);
#define _OMC_LIT147 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT147)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT148,2,4) {&NFLookupTree_Entry_COMPONENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(7))}};
#define _OMC_LIT148 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT148)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT149,3,4) {&NFLookupTree_Tree_LEAF__desc,_OMC_LIT147,_OMC_LIT148}};
#define _OMC_LIT149 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT149)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT150,6,3) {&NFLookupTree_Tree_NODE__desc,_OMC_LIT144,_OMC_LIT145,MMC_IMMEDIATE(MMC_TAGFIXNUM(2)),_OMC_LIT146,_OMC_LIT149}};
#define _OMC_LIT150 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT150)
#define _OMC_LIT151_data "min"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT151,3,_OMC_LIT151_data);
#define _OMC_LIT151 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT151)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT152,2,4) {&NFLookupTree_Entry_COMPONENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(4))}};
#define _OMC_LIT152 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT152)
#define _OMC_LIT153_data "nominal"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT153,7,_OMC_LIT153_data);
#define _OMC_LIT153 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT153)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT154,2,4) {&NFLookupTree_Entry_COMPONENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(8))}};
#define _OMC_LIT154 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT154)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT155,3,4) {&NFLookupTree_Tree_LEAF__desc,_OMC_LIT153,_OMC_LIT154}};
#define _OMC_LIT155 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT155)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT156,6,3) {&NFLookupTree_Tree_NODE__desc,_OMC_LIT151,_OMC_LIT152,MMC_IMMEDIATE(MMC_TAGFIXNUM(2)),_OMC_LIT146,_OMC_LIT155}};
#define _OMC_LIT156 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT156)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT157,6,3) {&NFLookupTree_Tree_NODE__desc,_OMC_LIT142,_OMC_LIT143,MMC_IMMEDIATE(MMC_TAGFIXNUM(3)),_OMC_LIT150,_OMC_LIT156}};
#define _OMC_LIT157 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT157)
#define _OMC_LIT158_data "unbounded"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT158,9,_OMC_LIT158_data);
#define _OMC_LIT158 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT158)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT159,2,4) {&NFLookupTree_Entry_COMPONENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(9))}};
#define _OMC_LIT159 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT159)
#define _OMC_LIT160_data "start"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT160,5,_OMC_LIT160_data);
#define _OMC_LIT160 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT160)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT161,2,4) {&NFLookupTree_Entry_COMPONENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(6))}};
#define _OMC_LIT161 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT161)
#define _OMC_LIT162_data "stateSelect"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT162,11,_OMC_LIT162_data);
#define _OMC_LIT162 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT162)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT163,2,4) {&NFLookupTree_Entry_COMPONENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(10))}};
#define _OMC_LIT163 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT163)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT164,3,4) {&NFLookupTree_Tree_LEAF__desc,_OMC_LIT162,_OMC_LIT163}};
#define _OMC_LIT164 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT164)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT165,6,3) {&NFLookupTree_Tree_NODE__desc,_OMC_LIT160,_OMC_LIT161,MMC_IMMEDIATE(MMC_TAGFIXNUM(2)),_OMC_LIT146,_OMC_LIT164}};
#define _OMC_LIT165 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT165)
#define _OMC_LIT166_data "unit"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT166,4,_OMC_LIT166_data);
#define _OMC_LIT166 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT166)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT167,2,4) {&NFLookupTree_Entry_COMPONENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(2))}};
#define _OMC_LIT167 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT167)
#define _OMC_LIT168_data "uncertain"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT168,9,_OMC_LIT168_data);
#define _OMC_LIT168 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT168)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT169,2,4) {&NFLookupTree_Entry_COMPONENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(11))}};
#define _OMC_LIT169 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT169)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT170,3,4) {&NFLookupTree_Tree_LEAF__desc,_OMC_LIT168,_OMC_LIT169}};
#define _OMC_LIT170 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT170)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT171,6,3) {&NFLookupTree_Tree_NODE__desc,_OMC_LIT166,_OMC_LIT167,MMC_IMMEDIATE(MMC_TAGFIXNUM(2)),_OMC_LIT170,_OMC_LIT146}};
#define _OMC_LIT171 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT171)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT172,6,3) {&NFLookupTree_Tree_NODE__desc,_OMC_LIT158,_OMC_LIT159,MMC_IMMEDIATE(MMC_TAGFIXNUM(3)),_OMC_LIT165,_OMC_LIT171}};
#define _OMC_LIT172 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT172)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT173,6,3) {&NFLookupTree_Tree_NODE__desc,_OMC_LIT140,_OMC_LIT141,MMC_IMMEDIATE(MMC_TAGFIXNUM(4)),_OMC_LIT157,_OMC_LIT172}};
#define _OMC_LIT173 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT173)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT174,1,5) {&NFType_STRING__desc,}};
#define _OMC_LIT174 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT174)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT175,1,5) {&NFModifier_Modifier_NOMOD__desc,}};
#define _OMC_LIT175 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT175)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT176,3,7) {&NFComponent_TYPE__ATTRIBUTE__desc,_OMC_LIT174,_OMC_LIT175}};
#define _OMC_LIT176 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT176)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT177,1,1) {_OMC_LIT176}};
#define _OMC_LIT177 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT177)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT178,1,11) {&NFInstNode_InstNode_EMPTY__NODE__desc,}};
#define _OMC_LIT178 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT178)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT179,1,9) {&NFInstNode_InstNodeType_NORMAL__COMP__desc,}};
#define _OMC_LIT179 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT179)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT180,7,4) {&NFInstNode_InstNode_COMPONENT__NODE__desc,_OMC_LIT140,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT177,_OMC_LIT178,_OMC_LIT179}};
#define _OMC_LIT180 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT180)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT181,7,4) {&NFInstNode_InstNode_COMPONENT__NODE__desc,_OMC_LIT166,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT177,_OMC_LIT178,_OMC_LIT179}};
#define _OMC_LIT181 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT181)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT182,7,4) {&NFInstNode_InstNode_COMPONENT__NODE__desc,_OMC_LIT144,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT177,_OMC_LIT178,_OMC_LIT179}};
#define _OMC_LIT182 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT182)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT183,3,7) {&NFComponent_TYPE__ATTRIBUTE__desc,_OMC_LIT89,_OMC_LIT175}};
#define _OMC_LIT183 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT183)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT184,1,1) {_OMC_LIT183}};
#define _OMC_LIT184 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT184)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT185,7,4) {&NFInstNode_InstNode_COMPONENT__NODE__desc,_OMC_LIT151,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT184,_OMC_LIT178,_OMC_LIT179}};
#define _OMC_LIT185 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT185)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT186,7,4) {&NFInstNode_InstNode_COMPONENT__NODE__desc,_OMC_LIT142,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT184,_OMC_LIT178,_OMC_LIT179}};
#define _OMC_LIT186 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT186)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT187,7,4) {&NFInstNode_InstNode_COMPONENT__NODE__desc,_OMC_LIT160,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT184,_OMC_LIT178,_OMC_LIT179}};
#define _OMC_LIT187 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT187)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT188,1,6) {&NFType_BOOLEAN__desc,}};
#define _OMC_LIT188 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT188)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT189,3,7) {&NFComponent_TYPE__ATTRIBUTE__desc,_OMC_LIT188,_OMC_LIT175}};
#define _OMC_LIT189 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT189)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT190,1,1) {_OMC_LIT189}};
#define _OMC_LIT190 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT190)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT191,7,4) {&NFInstNode_InstNode_COMPONENT__NODE__desc,_OMC_LIT147,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT190,_OMC_LIT178,_OMC_LIT179}};
#define _OMC_LIT191 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT191)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT192,7,4) {&NFInstNode_InstNode_COMPONENT__NODE__desc,_OMC_LIT153,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT184,_OMC_LIT178,_OMC_LIT179}};
#define _OMC_LIT192 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT192)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT193,7,4) {&NFInstNode_InstNode_COMPONENT__NODE__desc,_OMC_LIT158,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT190,_OMC_LIT178,_OMC_LIT179}};
#define _OMC_LIT193 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT193)
#define _OMC_LIT194_data "StateSelect"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT194,11,_OMC_LIT194_data);
#define _OMC_LIT194 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT194)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT195,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT194}};
#define _OMC_LIT195 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT195)
#define _OMC_LIT196_data "never"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT196,5,_OMC_LIT196_data);
#define _OMC_LIT196 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT196)
#define _OMC_LIT197_data "avoid"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT197,5,_OMC_LIT197_data);
#define _OMC_LIT197 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT197)
#define _OMC_LIT198_data "default"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT198,7,_OMC_LIT198_data);
#define _OMC_LIT198 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT198)
#define _OMC_LIT199_data "prefer"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT199,6,_OMC_LIT199_data);
#define _OMC_LIT199 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT199)
#define _OMC_LIT200_data "always"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT200,6,_OMC_LIT200_data);
#define _OMC_LIT200 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT200)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT201,2,1) {_OMC_LIT200,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT201 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT201)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT202,2,1) {_OMC_LIT199,_OMC_LIT201}};
#define _OMC_LIT202 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT202)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT203,2,1) {_OMC_LIT198,_OMC_LIT202}};
#define _OMC_LIT203 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT203)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT204,2,1) {_OMC_LIT197,_OMC_LIT203}};
#define _OMC_LIT204 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT204)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT205,2,1) {_OMC_LIT196,_OMC_LIT204}};
#define _OMC_LIT205 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT205)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT206,3,8) {&NFType_ENUMERATION__desc,_OMC_LIT195,_OMC_LIT205}};
#define _OMC_LIT206 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT206)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT207,3,7) {&NFComponent_TYPE__ATTRIBUTE__desc,_OMC_LIT206,_OMC_LIT175}};
#define _OMC_LIT207 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT207)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT208,1,1) {_OMC_LIT207}};
#define _OMC_LIT208 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT208)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT209,7,4) {&NFInstNode_InstNode_COMPONENT__NODE__desc,_OMC_LIT162,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT208,_OMC_LIT178,_OMC_LIT179}};
#define _OMC_LIT209 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT209)
#define _OMC_LIT210_data "Uncertainty"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT210,11,_OMC_LIT210_data);
#define _OMC_LIT210 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT210)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT211,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT210}};
#define _OMC_LIT211 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT211)
#define _OMC_LIT212_data "given"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT212,5,_OMC_LIT212_data);
#define _OMC_LIT212 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT212)
#define _OMC_LIT213_data "sought"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT213,6,_OMC_LIT213_data);
#define _OMC_LIT213 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT213)
#define _OMC_LIT214_data "refine"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT214,6,_OMC_LIT214_data);
#define _OMC_LIT214 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT214)
#define _OMC_LIT215_data "propagate"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT215,9,_OMC_LIT215_data);
#define _OMC_LIT215 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT215)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT216,2,1) {_OMC_LIT215,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT216 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT216)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT217,2,1) {_OMC_LIT214,_OMC_LIT216}};
#define _OMC_LIT217 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT217)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT218,2,1) {_OMC_LIT213,_OMC_LIT217}};
#define _OMC_LIT218 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT218)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT219,2,1) {_OMC_LIT212,_OMC_LIT218}};
#define _OMC_LIT219 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT219)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT220,3,8) {&NFType_ENUMERATION__desc,_OMC_LIT211,_OMC_LIT219}};
#define _OMC_LIT220 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT220)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT221,3,7) {&NFComponent_TYPE__ATTRIBUTE__desc,_OMC_LIT220,_OMC_LIT175}};
#define _OMC_LIT221 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT221)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT222,1,1) {_OMC_LIT221}};
#define _OMC_LIT222 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT222)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT223,7,4) {&NFInstNode_InstNode_COMPONENT__NODE__desc,_OMC_LIT168,MMC_REFSTRUCTLIT(mmc_none),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT222,_OMC_LIT178,_OMC_LIT179}};
#define _OMC_LIT223 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT223)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT224,2,1) {_OMC_LIT223,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT224 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT224)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT225,2,1) {_OMC_LIT209,_OMC_LIT224}};
#define _OMC_LIT225 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT225)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT226,2,1) {_OMC_LIT193,_OMC_LIT225}};
#define _OMC_LIT226 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT226)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT227,2,1) {_OMC_LIT192,_OMC_LIT226}};
#define _OMC_LIT227 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT227)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT228,2,1) {_OMC_LIT191,_OMC_LIT227}};
#define _OMC_LIT228 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT228)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT229,2,1) {_OMC_LIT187,_OMC_LIT228}};
#define _OMC_LIT229 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT229)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT230,2,1) {_OMC_LIT186,_OMC_LIT229}};
#define _OMC_LIT230 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT230)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT231,2,1) {_OMC_LIT185,_OMC_LIT230}};
#define _OMC_LIT231 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT231)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT232,2,1) {_OMC_LIT182,_OMC_LIT231}};
#define _OMC_LIT232 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT232)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT233,2,1) {_OMC_LIT181,_OMC_LIT232}};
#define _OMC_LIT233 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT233)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT234,2,1) {_OMC_LIT180,_OMC_LIT233}};
#define _OMC_LIT234 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT234)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT235,11,MMC_ARRAY_TAG) {_OMC_LIT180,_OMC_LIT181,_OMC_LIT182,_OMC_LIT185,_OMC_LIT186,_OMC_LIT187,_OMC_LIT191,_OMC_LIT192,_OMC_LIT193,_OMC_LIT209,_OMC_LIT223}};
#define _OMC_LIT235 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT235)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT236,1,5) {&NFDuplicateTree_Tree_EMPTY__desc,}};
#define _OMC_LIT236 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT236)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT237,6,3) {&NFClass_Prefixes_PREFIXES__desc,_OMC_LIT135,_OMC_LIT136,_OMC_LIT131,_OMC_LIT132,_OMC_LIT133}};
#define _OMC_LIT237 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT237)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT238,1,15) {&NFRestriction_TYPE__desc,}};
#define _OMC_LIT238 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT238)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT239,4,5) {&NFInstNode_CachedData_FUNCTION__desc,MMC_REFSTRUCTLIT(mmc_nil),MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */))}};
#define _OMC_LIT239 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT239)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT240,2,1) {_OMC_LIT239,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT240 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT240)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT241,1,MMC_ARRAY_TAG) {_OMC_LIT239}};
#define _OMC_LIT241 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT241)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT242,1,6) {&NFInstNode_InstNodeType_BUILTIN__CLASS__desc,}};
#define _OMC_LIT242 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT242)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT243,10,3) {&NFAttributes_ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT56,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT243 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT243)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT244,1,3) {&NFBackendExtension_VariableKind_TIME__desc,}};
#define _OMC_LIT244 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT244)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT245,8,3) {&NFBackendExtension_BackendInfo_BACKEND__INFO__desc,_OMC_LIT244,_OMC_LIT63,_OMC_LIT64,MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT245 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT245)
#define _OMC_LIT246_data "$CLK"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT246,4,_OMC_LIT246_data);
#define _OMC_LIT246 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT246)
#define _OMC_LIT247_data "$FUN"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT247,4,_OMC_LIT247_data);
#define _OMC_LIT247 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT247)
#define _OMC_LIT248_data "$"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT248,1,_OMC_LIT248_data);
#define _OMC_LIT248 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT248)
#define _OMC_LIT249_data "NBVariable.getResizableValue failed because following variable is not a resizable parameter: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT249,93,_OMC_LIT249_data);
#define _OMC_LIT249 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT249)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT250_6,1.758197185e9);
#define _OMC_LIT250_6 MMC_REFREALLIT(_OMC_LIT_STRUCT250_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT250,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT72,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(574)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(574)),MMC_IMMEDIATE(MMC_TAGFIXNUM(70)),_OMC_LIT250_6}};
#define _OMC_LIT250 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT250)
#define _OMC_LIT251_data "NBVariable.getPartnerCref failed because "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT251,41,_OMC_LIT251_data);
#define _OMC_LIT251 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT251)
#define _OMC_LIT252_data " has no corresponding "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT252,22,_OMC_LIT252_data);
#define _OMC_LIT252 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT252)
#define _OMC_LIT253_data "dummy derivative"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT253,16,_OMC_LIT253_data);
#define _OMC_LIT253 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT253)
#define _OMC_LIT254_data "state"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT254,5,_OMC_LIT254_data);
#define _OMC_LIT254 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT254)
#define _OMC_LIT255_data "derivative"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT255,10,_OMC_LIT255_data);
#define _OMC_LIT255 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT255)
#define _OMC_LIT256_data "partial derivative"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT256,18,_OMC_LIT256_data);
#define _OMC_LIT256 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT256)
#define _OMC_LIT257_data "seed variable"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT257,13,_OMC_LIT257_data);
#define _OMC_LIT257 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT257)
#define _OMC_LIT258_data "pre variable"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT258,12,_OMC_LIT258_data);
#define _OMC_LIT258 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT258)
#define _OMC_LIT259_data "NBVariable.getVarPointer failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT259,36,_OMC_LIT259_data);
#define _OMC_LIT259 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT259)
#define _OMC_LIT260_data ", because of wrong InstNode (not VAR_NODE). Show lowering errors with -d=failtrace."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT260,83,_OMC_LIT260_data);
#define _OMC_LIT260 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT260)
#define _OMC_LIT261_data " ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT261,2,_OMC_LIT261_data);
#define _OMC_LIT261 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT261)
#define _OMC_LIT262_data ") "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT262,2,_OMC_LIT262_data);
#define _OMC_LIT262 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT262)
#include "util/modelica.h"

#include "NBVariable_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC void omc_NBVariable_getVarNameTraverse(threadData_t *threadData, modelica_metatype _var, modelica_metatype _acc);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBVariable_getVarNameTraverse,2,0) {(void*) boxptr_NBVariable_getVarNameTraverse,0}};
#define boxvar_NBVariable_getVarNameTraverse MMC_REFSTRUCTLIT(boxvar_lit_NBVariable_getVarNameTraverse)
PROTECTED_FUNCTION_STATIC void omc_NBVariable_VariablePointers_createSortHashTpl(threadData_t *threadData, modelica_metatype _var_ptr, modelica_integer _mod, modelica_metatype _hash_lst_ptr);
PROTECTED_FUNCTION_STATIC void boxptr_NBVariable_VariablePointers_createSortHashTpl(threadData_t *threadData, modelica_metatype _var_ptr, modelica_metatype _mod, modelica_metatype _hash_lst_ptr);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBVariable_VariablePointers_createSortHashTpl,2,0) {(void*) boxptr_NBVariable_VariablePointers_createSortHashTpl,0}};
#define boxvar_NBVariable_VariablePointers_createSortHashTpl MMC_REFSTRUCTLIT(boxvar_lit_NBVariable_VariablePointers_createSortHashTpl)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBVariable_makeAuxVar_updateBackendInfo(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_boolean _makeParam);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBVariable_makeAuxVar_updateBackendInfo(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _makeParam);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBVariable_makeAuxVar_updateBackendInfo,2,0) {(void*) boxptr_NBVariable_makeAuxVar_updateBackendInfo,0}};
#define boxvar_NBVariable_makeAuxVar_updateBackendInfo MMC_REFSTRUCTLIT(boxvar_lit_NBVariable_makeAuxVar_updateBackendInfo)

PROTECTED_FUNCTION_STATIC void omc_NBVariable_getVarNameTraverse(threadData_t *threadData, modelica_metatype _var, modelica_metatype _acc)
{
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = mmc_mk_cons(omc_NBVariable_getVarName(threadData, _var), omc_Pointer_access(threadData, _acc));
  omc_Pointer_update(threadData, _acc, tmpMeta1);
  _return: OMC_LABEL_UNUSED
  return;
}

static void closure0_NBackendDAE_lowerRecordChildren(threadData_t *thData, modelica_metatype closure, modelica_metatype var_ptr)
{
  modelica_metatype variables = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  boxptr_NBackendDAE_lowerRecordChildren(thData, var_ptr, variables);
}
DLLDirection
modelica_metatype omc_NBVariable_VarData_addTypedList(threadData_t *threadData, modelica_metatype __omcQ_24in_5FvarData, modelica_metatype _var_lst, modelica_integer _varType)
{
  modelica_metatype _varData = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _varData = __omcQ_24in_5FvarData;
  { /* match expression */
    modelica_metatype tmp4_1;modelica_integer tmp4_2;
    tmp4_1 = _varData;
    tmp4_2 = (modelica_integer)_varType;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 10; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,23) == 0) goto tmp3_end;
          if (1 != tmp4_2) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[2] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))));
          _varData = tmpMeta6;

          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[4] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 4))));
          _varData = tmpMeta7;

          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[16] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 16))));
          _varData = tmpMeta8;

          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[5] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 5))));
          _varData = tmpMeta9;

          tmpMeta10 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta10), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta10))[3] = omc_NBVariable_VariablePointers_removeList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))));
          _varData = tmpMeta10;

          tmpMeta11 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta11), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta11))[10] = omc_NBVariable_VariablePointers_removeList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 10))));
          _varData = tmpMeta11;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,23) == 0) goto tmp3_end;
          if (2 != tmp4_2) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta12 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta12), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta12))[2] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))));
          _varData = tmpMeta12;

          tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[3] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))));
          _varData = tmpMeta13;

          tmpMeta14 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta14), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta14))[9] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 9))));
          _varData = tmpMeta14;

          tmpMeta15 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta15), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta15))[5] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 5))));
          _varData = tmpMeta15;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,23) == 0) goto tmp3_end;
          if (3 != tmp4_2) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta16 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta16), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta16))[2] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))));
          _varData = tmpMeta16;

          tmpMeta17 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta17), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta17))[3] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))));
          _varData = tmpMeta17;

          tmpMeta18 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta18), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta18))[10] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 10))));
          _varData = tmpMeta18;

          tmpMeta19 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta19), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta19))[5] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 5))));
          _varData = tmpMeta19;

          tmpMeta20 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta20), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta20))[16] = omc_NBVariable_VariablePointers_removeList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 16))));
          _varData = tmpMeta20;

          tmpMeta21 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta21), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta21))[9] = omc_NBVariable_VariablePointers_removeList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 9))));
          _varData = tmpMeta21;

          tmpMeta22 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta22), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta22))[4] = omc_NBVariable_VariablePointers_removeList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 4))));
          _varData = tmpMeta22;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,23) == 0) goto tmp3_end;
          if (4 != tmp4_2) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta23 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta23), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta23))[2] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))));
          _varData = tmpMeta23;

          tmpMeta24 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta24), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta24))[3] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))));
          _varData = tmpMeta24;

          tmpMeta25 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta25), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta25))[11] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 11))));
          _varData = tmpMeta25;

          tmpMeta26 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta26), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta26))[5] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 5))));
          _varData = tmpMeta26;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,23) == 0) goto tmp3_end;
          if (7 != tmp4_2) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta27 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta27), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta27))[2] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))));
          _varData = tmpMeta27;

          tmpMeta28 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta28), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta28))[5] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 5))));
          _varData = tmpMeta28;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,23) == 0) goto tmp3_end;
          if (8 != tmp4_2) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta29 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta29), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta29))[19] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 19))));
          _varData = tmpMeta29;

          tmpMeta30 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta30), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta30))[4] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 4))));
          _varData = tmpMeta30;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,23) == 0) goto tmp3_end;
          if (9 != tmp4_2) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta31 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta31), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta31))[2] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))));
          _varData = tmpMeta31;

          tmpMeta32 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta32), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta32))[4] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 4))));
          _varData = tmpMeta32;

          tmpMeta33 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta33), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta33))[23] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 23))));
          _varData = tmpMeta33;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta34;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,23) == 0) goto tmp3_end;
          if (11 != tmp4_2) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta34 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta34), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta34))[15] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 15))));
          _varData = tmpMeta34;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,23) == 0) goto tmp3_end;
          if (10 != tmp4_2) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta35 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta35), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta35))[2] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))));
          _varData = tmpMeta35;

          tmpMeta36 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta36), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta36))[21] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 21))));
          _varData = tmpMeta36;

          tmpMeta37 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta37), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta37))[4] = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 4))));
          _varData = tmpMeta37;

          tmpMeta39 = mmc_mk_box1(0, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))));
          tmpMeta38 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta38), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta38))[21] = omc_NBVariable_VariablePointers_mapPtr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 21))), (modelica_fnptr) mmc_mk_box2(0,closure0_NBackendDAE_lowerRecordChildren,tmpMeta39));
          _varData = tmpMeta38;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT4, _OMC_LIT6);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _varData = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _varData;
}
modelica_metatype boxptr_NBVariable_VarData_addTypedList(threadData_t *threadData, modelica_metatype __omcQ_24in_5FvarData, modelica_metatype _var_lst, modelica_metatype _varType)
{
  modelica_integer tmp1;
  modelica_metatype _varData = NULL;
  tmp1 = mmc_unbox_integer(_varType);
  _varData = omc_NBVariable_VarData_addTypedList(threadData, __omcQ_24in_5FvarData, _var_lst, tmp1);
  /* skip box _varData; NBVariable.VarData */
  return _varData;
}

DLLDirection
modelica_metatype omc_NBVariable_VarData_getStateOrder(threadData_t *threadData, modelica_metatype _varData)
{
  modelica_metatype _state_order = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _state_order has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _varData;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,23) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 24)));
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT4, _OMC_LIT8);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _state_order = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _state_order;
}

DLLDirection
modelica_metatype omc_NBVariable_VarData_setVariables(threadData_t *threadData, modelica_metatype __omcQ_24in_5FvarData, modelica_metatype _variables)
{
  modelica_metatype _varData = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _varData = __omcQ_24in_5FvarData;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _varData;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(25));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_varData), 25*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[2] = _variables;
          _varData = tmpMeta5;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_varData), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[2] = _variables;
          _varData = tmpMeta6;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(14));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_varData), 14*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[2] = _variables;
          _varData = tmpMeta7;
          tmpMeta1 = _varData;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _varData = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _varData;
}

DLLDirection
modelica_metatype omc_NBVariable_VarData_getVariables(threadData_t *threadData, modelica_metatype _varData)
{
  modelica_metatype _variables = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _variables has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _varData;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2)));
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2)));
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2)));
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _variables = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _variables;
}

DLLDirection
modelica_string omc_NBVariable_VarData_toStringVerbose(threadData_t *threadData, modelica_metatype _varData, modelica_boolean _full)
{
  modelica_string _str = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _str has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _varData;
    {
      modelica_string _tmp = NULL;
      modelica_metatype _lambdaVars = NULL;
      int tmp4;
      _tmp = (modelica_string) mmc_emptystring;
      // _lambdaVars has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          
          /* Pattern matching succeeded */
          tmpMeta5 = stringAppend(_OMC_LIT9,intString(omc_NBVariable_VariablePointers_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))), 1 /* true */)));
          tmpMeta6 = stringAppend(tmpMeta5,_OMC_LIT10);
          _tmp = tmpMeta6;

          tmpMeta7 = stringAppend(omc_StringUtil_headline__2(threadData, _tmp),_OMC_LIT11);
          _tmp = tmpMeta7;

          if((!_full))
          {
            tmpMeta8 = stringAppend(_tmp,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))), _OMC_LIT27, mmc_mk_none(), 0 /* false */));
            tmpMeta9 = stringAppend(tmpMeta8,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 16))), _OMC_LIT28, mmc_mk_none(), 0 /* false */));
            tmpMeta10 = stringAppend(tmpMeta9,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 4))), _OMC_LIT29, mmc_mk_none(), 0 /* false */));
            _tmp = tmpMeta10;
          }
          else
          {
            tmpMeta11 = stringAppend(_tmp,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 16))), _OMC_LIT12, mmc_mk_none(), 0 /* false */));
            tmpMeta12 = stringAppend(tmpMeta11,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 9))), _OMC_LIT13, mmc_mk_none(), 0 /* false */));
            tmpMeta13 = stringAppend(tmpMeta12,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 10))), _OMC_LIT14, mmc_mk_none(), 0 /* false */));
            tmpMeta14 = stringAppend(tmpMeta13,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 11))), _OMC_LIT15, mmc_mk_none(), 0 /* false */));
            tmpMeta15 = stringAppend(tmpMeta14,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 12))), _OMC_LIT16, mmc_mk_none(), 0 /* false */));
            tmpMeta16 = stringAppend(tmpMeta15,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 13))), _OMC_LIT17, mmc_mk_none(), 0 /* false */));
            tmpMeta17 = stringAppend(tmpMeta16,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 14))), _OMC_LIT18, mmc_mk_none(), 0 /* false */));
            tmpMeta18 = stringAppend(tmpMeta17,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 15))), _OMC_LIT19, mmc_mk_none(), 0 /* false */));
            tmpMeta19 = stringAppend(tmpMeta18,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 17))), _OMC_LIT20, mmc_mk_none(), 0 /* false */));
            tmpMeta20 = stringAppend(tmpMeta19,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 18))), _OMC_LIT21, mmc_mk_none(), 0 /* false */));
            tmpMeta21 = stringAppend(tmpMeta20,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 19))), _OMC_LIT22, mmc_mk_none(), 0 /* false */));
            tmpMeta22 = stringAppend(tmpMeta21,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 20))), _OMC_LIT23, mmc_mk_none(), 0 /* false */));
            tmpMeta23 = stringAppend(tmpMeta22,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 21))), _OMC_LIT24, mmc_mk_none(), 0 /* false */));
            tmpMeta24 = stringAppend(tmpMeta23,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 22))), _OMC_LIT25, mmc_mk_none(), 0 /* false */));
            tmpMeta25 = stringAppend(tmpMeta24,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 23))), _OMC_LIT26, mmc_mk_none(), 0 /* false */));
            _tmp = tmpMeta25;
          }
          tmpMeta26 = stringAppend(_tmp,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 6))), _OMC_LIT30, mmc_mk_none(), 0 /* false */));
          tmpMeta27 = stringAppend(tmpMeta26,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 7))), _OMC_LIT31, mmc_mk_none(), 0 /* false */));
          tmp1 = tmpMeta27;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          
          /* Pattern matching succeeded */
          tmpMeta28 = stringAppend(omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))), _OMC_LIT32, mmc_mk_none(), 0 /* false */),omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 11))), _OMC_LIT33, mmc_mk_none(), 0 /* false */));
          _tmp = tmpMeta28;

          if(_full)
          {
            tmpMeta29 = stringAppend(_tmp,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 7))), _OMC_LIT34, mmc_mk_none(), 0 /* false */));
            tmpMeta30 = stringAppend(tmpMeta29,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 9))), _OMC_LIT35, mmc_mk_none(), 0 /* false */));
            tmpMeta31 = stringAppend(tmpMeta30,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 10))), _OMC_LIT36, mmc_mk_none(), 0 /* false */));
            tmpMeta32 = stringAppend(tmpMeta31,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 8))), _OMC_LIT37, mmc_mk_none(), 0 /* false */));
            tmpMeta33 = stringAppend(tmpMeta32,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 4))), _OMC_LIT38, mmc_mk_none(), 0 /* false */));
            tmpMeta34 = stringAppend(tmpMeta33,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 5))), _OMC_LIT30, mmc_mk_none(), 0 /* false */));
            tmpMeta35 = stringAppend(tmpMeta34,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 6))), _OMC_LIT31, mmc_mk_none(), 0 /* false */));
            _tmp = tmpMeta35;
          }
          tmp1 = _tmp;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          
          /* Pattern matching succeeded */
          tmpMeta36 = stringAppend(omc_StringUtil_headline__2(threadData, _OMC_LIT39),_OMC_LIT11);
          tmpMeta37 = stringAppend(tmpMeta36,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))), _OMC_LIT27, mmc_mk_none(), 0 /* false */));
          tmpMeta38 = stringAppend(tmpMeta37,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 4))), _OMC_LIT38, mmc_mk_none(), 0 /* false */));
          tmpMeta39 = stringAppend(tmpMeta38,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 5))), _OMC_LIT30, mmc_mk_none(), 0 /* false */));
          tmpMeta40 = stringAppend(tmpMeta39,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 6))), _OMC_LIT31, mmc_mk_none(), 0 /* false */));
          _tmp = tmpMeta40;

          if(_full)
          {
            tmpMeta41 = stringAppend(_tmp,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 7))), _OMC_LIT34, mmc_mk_none(), 0 /* false */));
            tmpMeta42 = stringAppend(tmpMeta41,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 8))), _OMC_LIT37, mmc_mk_none(), 0 /* false */));
            tmpMeta43 = stringAppend(tmpMeta42,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 9))), _OMC_LIT40, mmc_mk_none(), 0 /* false */));
            tmpMeta44 = stringAppend(tmpMeta43,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 10))), _OMC_LIT41, mmc_mk_none(), 0 /* false */));
            tmpMeta45 = stringAppend(tmpMeta44,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 11))), _OMC_LIT42, mmc_mk_none(), 0 /* false */));
            tmpMeta46 = stringAppend(tmpMeta45,omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 12))), _OMC_LIT43, mmc_mk_none(), 0 /* false */));
            _tmp = tmpMeta46;

            if(isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 13)))))
            {
              /* Pattern-matching assignment */
              tmpMeta47 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 13)));
              if (optionNone(tmpMeta47)) goto goto_2;
              tmpMeta48 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta47), 1));
              _lambdaVars = tmpMeta48;

              tmpMeta49 = stringAppend(_tmp,omc_NBVariable_VariablePointers_toString(threadData, _lambdaVars, _OMC_LIT44, mmc_mk_none(), 0 /* false */));
              _tmp = tmpMeta49;
            }
          }
          tmp1 = _tmp;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _str = tmp1;
  _return: OMC_LABEL_UNUSED
  return _str;
}
modelica_metatype boxptr_NBVariable_VarData_toStringVerbose(threadData_t *threadData, modelica_metatype _varData, modelica_metatype _full)
{
  modelica_integer tmp1;
  modelica_string _str = NULL;
  tmp1 = mmc_unbox_integer(_full);
  _str = omc_NBVariable_VarData_toStringVerbose(threadData, _varData, tmp1);
  /* skip box _str; String */
  return _str;
}

DLLDirection
modelica_string omc_NBVariable_VarData_toString(threadData_t *threadData, modelica_metatype _varData, modelica_integer _level)
{
  modelica_string _str = NULL;
  modelica_string tmp1 = 0;
  modelica_boolean tmp5;
  modelica_string tmp6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _str has no default value.
  tmp5 = (modelica_boolean)(_level == ((modelica_integer) 0));
  if(tmp5)
  {
    { /* match expression */
      modelica_metatype tmp4_1;
      tmp4_1 = _varData;
      {
        int tmp4;
        {
          switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
          case 3: {
            
            /* Pattern matching succeeded */
            tmp1 = omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))), _OMC_LIT45, mmc_mk_none(), 1 /* true */);
            goto tmp3_done;
          }
          case 4: {
            
            /* Pattern matching succeeded */
            tmp1 = omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))), _OMC_LIT46, mmc_mk_none(), 1 /* true */);
            goto tmp3_done;
          }
          case 5: {
            
            /* Pattern matching succeeded */
            tmp1 = omc_NBVariable_VariablePointers_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 2))), _OMC_LIT47, mmc_mk_none(), 1 /* true */);
            goto tmp3_done;
          }
          case 6: {
            
            /* Pattern matching succeeded */
            tmp1 = _OMC_LIT48;
            goto tmp3_done;
          }
          }
          goto tmp3_end;
          tmp3_end: ;
        }
        goto goto_2;
        goto_2:;
        MMC_THROW_INTERNAL();
        goto tmp3_done;
        tmp3_done:;
      }
    }
    tmp6 = tmp1;
  }
  else
  {
    tmp6 = ((_level == ((modelica_integer) 1))?omc_NBVariable_VarData_toStringVerbose(threadData, _varData, 0 /* false */):omc_NBVariable_VarData_toStringVerbose(threadData, _varData, 1 /* true */));
  }
  _str = tmp6;
  _return: OMC_LABEL_UNUSED
  return _str;
}
modelica_metatype boxptr_NBVariable_VarData_toString(threadData_t *threadData, modelica_metatype _varData, modelica_metatype _level)
{
  modelica_integer tmp1;
  modelica_string _str = NULL;
  tmp1 = mmc_unbox_integer(_level);
  _str = omc_NBVariable_VarData_toString(threadData, _varData, tmp1);
  /* skip box _str; String */
  return _str;
}

DLLDirection
modelica_integer omc_NBVariable_VarData_scalarSize(threadData_t *threadData, modelica_metatype _varData, modelica_boolean _resize)
{
  modelica_integer _s;
  modelica_integer tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _s has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _varData;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBVariable_VariablePointers_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))), _resize);
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBVariable_VariablePointers_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))), _resize);
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBVariable_VariablePointers_scalarSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))), _resize);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _s = tmp1;
  _return: OMC_LABEL_UNUSED
  return _s;
}
modelica_metatype boxptr_NBVariable_VarData_scalarSize(threadData_t *threadData, modelica_metatype _varData, modelica_metatype _resize)
{
  modelica_integer tmp1;
  modelica_integer _s;
  modelica_metatype out_s;
  tmp1 = mmc_unbox_integer(_resize);
  _s = omc_NBVariable_VarData_scalarSize(threadData, _varData, tmp1);
  out_s = mmc_mk_icon(_s);
  return out_s;
}

DLLDirection
modelica_integer omc_NBVariable_VarData_size(threadData_t *threadData, modelica_metatype _varData)
{
  modelica_integer _s;
  modelica_integer tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _s has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _varData;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBVariable_VariablePointers_size(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))));
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBVariable_VariablePointers_size(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))));
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBVariable_VariablePointers_size(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varData), 3))));
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _s = tmp1;
  _return: OMC_LABEL_UNUSED
  return _s;
}
modelica_metatype boxptr_NBVariable_VarData_size(threadData_t *threadData, modelica_metatype _varData)
{
  modelica_integer _s;
  modelica_metatype out_s;
  _s = omc_NBVariable_VarData_size(threadData, _varData);
  out_s = mmc_mk_icon(_s);
  return out_s;
}

PROTECTED_FUNCTION_STATIC void omc_NBVariable_VariablePointers_createSortHashTpl(threadData_t *threadData, modelica_metatype _var_ptr, modelica_integer _mod, modelica_metatype _hash_lst_ptr)
{
  modelica_metatype _var = NULL;
  modelica_integer _hash;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  // _hash has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);

  _hash = stringHashDjb2Mod(omc_NFBackendExtension_BackendInfo_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), _mod);

  tmpMeta2 = mmc_mk_box2(0, mmc_mk_integer(_hash), _var_ptr);
  tmpMeta1 = mmc_mk_cons(tmpMeta2, omc_Pointer_access(threadData, _hash_lst_ptr));
  omc_Pointer_update(threadData, _hash_lst_ptr, tmpMeta1);
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_NBVariable_VariablePointers_createSortHashTpl(threadData_t *threadData, modelica_metatype _var_ptr, modelica_metatype _mod, modelica_metatype _hash_lst_ptr)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_mod);
  omc_NBVariable_VariablePointers_createSortHashTpl(threadData, _var_ptr, tmp1, _hash_lst_ptr);
  return;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_varSlice(threadData_t *threadData, modelica_metatype _vars, modelica_integer _scal, modelica_metatype _mapping)
{
  modelica_metatype _cref = NULL;
  modelica_metatype _var = NULL;
  modelica_integer _arr;
  modelica_integer _start;
  modelica_integer _size;
  modelica_metatype _ty = NULL;
  modelica_metatype _sizes = NULL;
  modelica_metatype _vals = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_metatype tmpMeta4;
  modelica_integer tmp5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta13;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _cref has no default value.
  // _var has no default value.
  // _arr has no default value.
  // _start has no default value.
  // _size has no default value.
  // _ty has no default value.
  // _sizes has no default value.
  // _vals has no default value.
  _arr = mmc_unbox_integer(arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 3))),_scal) /* DAE.ASUB */);

  /* Pattern-matching assignment */
  tmpMeta1 = arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 5))),_arr) /* DAE.ASUB */;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmp3 = mmc_unbox_integer(tmpMeta2);
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmp5 = mmc_unbox_integer(tmpMeta4);
  _start = tmp3  /* pattern as ty=Integer */;
  _size = tmp5  /* pattern as ty=Integer */;

  _var = omc_NBVariable_VariablePointers_getVarAt(threadData, _vars, _arr);

  /* Pattern-matching assignment */
  tmpMeta6 = omc_Pointer_access(threadData, _var);
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,10) == 0) MMC_THROW_INTERNAL();
  tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
  tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
  _cref = tmpMeta7;
  _ty = tmpMeta8;

  {
    modelica_metatype __omcQ_24tmpVar1;
    modelica_metatype* tmp10;
    modelica_metatype tmpMeta11;
    modelica_metatype __omcQ_24tmpVar0;
    modelica_integer tmp12;
    modelica_metatype _dim_loopVar = 0;
    modelica_metatype _dim;
    _dim_loopVar = omc_NFType_arrayDims(threadData, _ty);
    tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar1 = tmpMeta11; /* defaultValue */
    tmp10 = &__omcQ_24tmpVar1;
    while(1) {
      tmp12 = 1;
      if (!listEmpty(_dim_loopVar)) {
        _dim = MMC_CAR(_dim_loopVar);
        _dim_loopVar = MMC_CDR(_dim_loopVar);
        tmp12--;
      }
      if (tmp12 == 0) {
        __omcQ_24tmpVar0 = mmc_mk_integer(omc_NFDimension_size(threadData, _dim, 0 /* false */));
        *tmp10 = mmc_mk_cons(__omcQ_24tmpVar0,0);
        tmp10 = &MMC_CDR(*tmp10);
      } else if (tmp12 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp10 = mmc_mk_nil();
    tmpMeta9 = __omcQ_24tmpVar1;
  }
  _sizes = tmpMeta9;

  _vals = listReverse(omc_NBSlice_indexToLocation(threadData, _scal - _start, _sizes));

  {
    modelica_metatype __omcQ_24tmpVar3;
    modelica_metatype* tmp14;
    modelica_metatype tmpMeta15;
    modelica_metatype tmpMeta16;
    modelica_metatype tmpMeta17;
    modelica_metatype __omcQ_24tmpVar2;
    modelica_integer tmp18;
    modelica_metatype _val_loopVar = 0;
    modelica_metatype _val;
    _val_loopVar = _vals;
    tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar3 = tmpMeta15; /* defaultValue */
    tmp14 = &__omcQ_24tmpVar3;
    while(1) {
      tmp18 = 1;
      if (!listEmpty(_val_loopVar)) {
        _val = MMC_CAR(_val_loopVar);
        _val_loopVar = MMC_CDR(_val_loopVar);
        tmp18--;
      }
      if (tmp18 == 0) {
        tmpMeta16 = mmc_mk_box2(3, &NFExpression_INTEGER__desc, mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer(_val)));
        tmpMeta17 = mmc_mk_box2(5, &NFSubscript_INDEX__desc, tmpMeta16);
        __omcQ_24tmpVar2 = tmpMeta17;
        *tmp14 = mmc_mk_cons(__omcQ_24tmpVar2,0);
        tmp14 = &MMC_CDR(*tmp14);
      } else if (tmp18 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp14 = mmc_mk_nil();
    tmpMeta13 = __omcQ_24tmpVar3;
  }
  _cref = omc_NFComponentRef_mergeSubscripts(threadData, tmpMeta13, _cref, 1 /* true */, 1 /* true */);
  _return: OMC_LABEL_UNUSED
  return _cref;
}
modelica_metatype boxptr_NBVariable_VariablePointers_varSlice(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _scal, modelica_metatype _mapping)
{
  modelica_integer tmp1;
  modelica_metatype _cref = NULL;
  tmp1 = mmc_unbox_integer(_scal);
  _cref = omc_NBVariable_VariablePointers_varSlice(threadData, _vars, tmp1, _mapping);
  /* skip box _cref; NFComponentRef */
  return _cref;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_scalarizeList(threadData_t *threadData, modelica_metatype _vars, modelica_boolean *out_flattened)
{
  modelica_metatype _new_vars = NULL;
  modelica_metatype tmpMeta1;
  modelica_boolean _flattened;
  modelica_metatype _scalar_vars = NULL;
  modelica_metatype _element_vars = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _new_vars = tmpMeta1;
  _flattened = 0 /* false */;
  // _scalar_vars has no default value.
  // _element_vars has no default value.
  // _var has no default value.
  {
    modelica_metatype _var_ptr;
    for (tmpMeta2 = _vars; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _var_ptr = MMC_CAR(tmpMeta2);
      _var = omc_Pointer_access(threadData, _var_ptr);

      if(omc_NFType_isArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 3)))))
      {
        _flattened = 1 /* true */;

        tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
        tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
        _scalar_vars = omc_NFScalarize_scalarizeBackendVariable(threadData, _var, tmpMeta3, tmpMeta4);
      }
      else
      {
        tmpMeta5 = mmc_mk_cons(omc_Pointer_access(threadData, _var_ptr), MMC_REFSTRUCTLIT(mmc_nil));
        _scalar_vars = tmpMeta5;
      }

      {
        modelica_metatype _var;
        for (tmpMeta6 = _scalar_vars; !listEmpty(tmpMeta6); tmpMeta6=MMC_CDR(tmpMeta6))
        {
          _var = MMC_CAR(tmpMeta6);
          if(omc_NFType_isComplex(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 3)))))
          {
            _flattened = 1 /* true */;

            tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
            _element_vars = omc_NFScalarize_scalarizeComplexVariable(threadData, _var, tmpMeta7);

            {
              modelica_metatype _elem_var;
              for (tmpMeta8 = listReverse(_element_vars); !listEmpty(tmpMeta8); tmpMeta8=MMC_CDR(tmpMeta8))
              {
                _elem_var = MMC_CAR(tmpMeta8);
                tmpMeta9 = mmc_mk_cons(omc_Pointer_create(threadData, _elem_var), _new_vars);
                _new_vars = tmpMeta9;
              }
            }
          }
          else
          {
            tmpMeta11 = mmc_mk_cons(omc_Pointer_create(threadData, _var), _new_vars);
            _new_vars = tmpMeta11;
          }
        }
      }
    }
  }

  _new_vars = listReverse(_new_vars);
  _return: OMC_LABEL_UNUSED
  if (out_flattened) { *out_flattened = _flattened; }
  return _new_vars;
}
modelica_metatype boxptr_NBVariable_VariablePointers_scalarizeList(threadData_t *threadData, modelica_metatype _vars, modelica_metatype *out_flattened)
{
  modelica_boolean _flattened;
  modelica_metatype _new_vars = NULL;
  modelica_metatype tmpMeta1;
  _new_vars = omc_NBVariable_VariablePointers_scalarizeList(threadData, _vars, &_flattened);
  /* skip box _new_vars; list<Pointer<NFVariable>> */
  if (out_flattened) { *out_flattened = mmc_mk_icon(_flattened); }
  return _new_vars;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_scalarize(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvariables)
{
  modelica_metatype _variables = NULL;
  modelica_metatype _vars = NULL;
  modelica_boolean _flattened;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _variables = __omcQ_24in_5Fvariables;
  // _vars has no default value.
  // _flattened has no default value.
  _vars = omc_NBVariable_VariablePointers_scalarizeList(threadData, omc_NBVariable_VariablePointers_toList(threadData, _variables) ,&_flattened);

  if(_flattened)
  {
    _variables = omc_NBVariable_VariablePointers_fromList(threadData, _vars, 1 /* true */);
  }
  _return: OMC_LABEL_UNUSED
  return _variables;
}

static void closure1_NBVariable_VariablePointers_createSortHashTpl(threadData_t *thData, modelica_metatype closure, modelica_metatype var_ptr)
{
  modelica_metatype mod = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype hash_lst_ptr = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  boxptr_NBVariable_VariablePointers_createSortHashTpl(thData, var_ptr, mod, hash_lst_ptr);
}
DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_sort(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvariables)
{
  modelica_metatype _variables = NULL;
  modelica_integer _size;
  modelica_metatype _hash_lst = NULL;
  modelica_metatype _hash_lst_ptr = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _var_ptr = NULL;
  modelica_metatype tmpMeta2;
  modelica_real tmp3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _variables = __omcQ_24in_5Fvariables;
  // _size has no default value.
  // _hash_lst has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _hash_lst_ptr = omc_Pointer_create(threadData, tmpMeta1);
  // _var_ptr has no default value.
  _size = omc_ExpandableArray_getNumberOfElements(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));

  tmp3 = ((modelica_real)_size);
  if(!(tmp3 > 0.0))
  {
    FILE_INFO info = {"",0,0,0,0,0};
    omc_assert(threadData, info, "Model error: Argument of log(/*Real*/(size)) was %g should be > 0", tmp3);
  }tmpMeta2 = mmc_mk_box2(0, mmc_mk_integer(((modelica_integer)floor((((modelica_real)_size)) * (log(tmp3))))), _hash_lst_ptr);
  omc_NBVariable_VariablePointers_mapPtr(threadData, _variables, (modelica_fnptr) mmc_mk_box2(0,closure1_NBVariable_VariablePointers_createSortHashTpl,tmpMeta2));

  _hash_lst = omc_List_sort(threadData, omc_Pointer_access(threadData, _hash_lst_ptr), boxvar_NBBackendUtil_indexTplGt);

  _variables = omc_NBVariable_VariablePointers_empty(threadData, _size, mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 4)))));

  {
    modelica_metatype _tpl;
    for (tmpMeta4 = _hash_lst; !listEmpty(tmpMeta4); tmpMeta4=MMC_CDR(tmpMeta4))
    {
      _tpl = MMC_CAR(tmpMeta4);
      /* Pattern-matching assignment */
      tmpMeta5 = _tpl;
      tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
      _var_ptr = tmpMeta6;

      _variables = omc_NBVariable_VariablePointers_add(threadData, _var_ptr, _variables);
    }
  }
  _return: OMC_LABEL_UNUSED
  return _variables;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_compress(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvariables)
{
  modelica_metatype _variables = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _variables = __omcQ_24in_5Fvariables;
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _vars = tmpMeta1;
  tmp3 = omc_ExpandableArray_getLastUsedIndex(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3)))); tmp4 = ((modelica_integer) -1); tmp5 = ((modelica_integer) 1);
  if(!(((tmp4 > 0) && (tmp3 > tmp5)) || ((tmp4 < 0) && (tmp3 < tmp5))))
  {
    modelica_integer _i;
    for(_i = omc_ExpandableArray_getLastUsedIndex(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3)))); in_range_integer(_i, tmp3, tmp5); _i += tmp4)
    {
      if(omc_ExpandableArray_occupied(threadData, _i, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3)))))
      {
        tmpMeta2 = mmc_mk_cons(omc_ExpandableArray_get(threadData, _i, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3)))), _vars);
        _vars = tmpMeta2;
      }
    }
  }

  _variables = omc_NBVariable_VariablePointers_fromList(threadData, _vars, 0 /* false */);
  _return: OMC_LABEL_UNUSED
  return _variables;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_getMarkedVars(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _marks)
{
  modelica_metatype _marked_vars = NULL;
  modelica_metatype _indices = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _marked_vars has no default value.
  _indices = omc_NBBackendUtil_findTrueIndices(threadData, _marks);
  if((arrayLength(_marks) == omc_NBVariable_VariablePointers_size(threadData, _variables)))
  {
    {
      modelica_metatype __omcQ_24tmpVar5;
      modelica_metatype* tmp2;
      modelica_metatype tmpMeta3;
      modelica_metatype __omcQ_24tmpVar4;
      modelica_integer tmp4;
      modelica_metatype _index_loopVar = 0;
      modelica_metatype _index;
      _index_loopVar = _indices;
      tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar5 = tmpMeta3; /* defaultValue */
      tmp2 = &__omcQ_24tmpVar5;
      while(1) {
        tmp4 = 1;
        if (!listEmpty(_index_loopVar)) {
          _index = MMC_CAR(_index_loopVar);
          _index_loopVar = MMC_CDR(_index_loopVar);
          tmp4--;
        }
        if (tmp4 == 0) {
          __omcQ_24tmpVar4 = omc_NBVariable_VariablePointers_getVarAt(threadData, _variables, mmc_unbox_integer(_index));
          *tmp2 = mmc_mk_cons(__omcQ_24tmpVar4,0);
          tmp2 = &MMC_CDR(*tmp2);
        } else if (tmp4 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp2 = mmc_mk_nil();
      tmpMeta1 = __omcQ_24tmpVar5;
    }
    _marked_vars = tmpMeta1;
  }
  else
  {
    tmpMeta6 = stringAppend(_OMC_LIT49,intString(arrayLength(_marks)));
    tmpMeta7 = stringAppend(tmpMeta6,_OMC_LIT50);
    tmpMeta8 = stringAppend(tmpMeta7,intString(omc_NBVariable_VariablePointers_size(threadData, _variables)));
    tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT51);
    tmpMeta5 = mmc_mk_cons(tmpMeta9, MMC_REFSTRUCTLIT(mmc_nil));
    omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta5);

    MMC_THROW_INTERNAL();
  }
  _return: OMC_LABEL_UNUSED
  return _marked_vars;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_getScalarVarNames(threadData_t *threadData, modelica_metatype _variables)
{
  modelica_metatype _names = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _names = tmpMeta1;
  // _var has no default value.
  {
    modelica_metatype _var_ptr;
    for (tmpMeta2 = omc_NBVariable_VariablePointers_toList(threadData, _variables); !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _var_ptr = MMC_CAR(tmpMeta2);
      _var = omc_Pointer_access(threadData, _var_ptr);

      if(omc_NFType_isArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 3)))))
      {
        {
          modelica_metatype _cr;
          for (tmpMeta3 = omc_NFComponentRef_scalarizeAll(threadData, omc_NFComponentRef_stripSubscriptsAll(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)))), 1 /* true */); !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
          {
            _cr = MMC_CAR(tmpMeta3);
            if(omc_NFType_isComplex(threadData, omc_NFComponentRef_nodeType(threadData, _cr)))
            {
              _names = listAppend(omc_NFComponentRef_getRecordChildren(threadData, _cr), _names);
            }
            else
            {
              tmpMeta4 = mmc_mk_cons(_cr, _names);
              _names = tmpMeta4;
            }
          }
        }
      }
      else
      {
        tmpMeta6 = mmc_mk_cons((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), _names);
        _names = tmpMeta6;
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _names;
}

static void closure2_NBVariable_getVarNameTraverse(threadData_t *thData, modelica_metatype closure, modelica_metatype var)
{
  modelica_metatype acc = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  boxptr_NBVariable_getVarNameTraverse(thData, var, acc);
}
DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_getVarNames(threadData_t *threadData, modelica_metatype _variables)
{
  modelica_metatype _names = NULL;
  modelica_metatype _acc = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _names has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _acc = omc_Pointer_create(threadData, tmpMeta1);
  tmpMeta2 = mmc_mk_box1(0, _acc);
  omc_NBVariable_VariablePointers_mapPtr(threadData, _variables, (modelica_fnptr) mmc_mk_box2(0,closure2_NBVariable_getVarNameTraverse,tmpMeta2));

  _names = listReverse(omc_Pointer_access(threadData, _acc));
  _return: OMC_LABEL_UNUSED
  return _names;
}

DLLDirection
modelica_boolean omc_NBVariable_VariablePointers_containsCref(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _variables)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _b = (omc_NBVariable_VariablePointers_getVarIndex(threadData, _variables, _cref) > ((modelica_integer) 0));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_VariablePointers_containsCref(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _variables)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_VariablePointers_containsCref(threadData, _cref, _variables);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_VariablePointers_contains(threadData_t *threadData, modelica_metatype _var, modelica_metatype _variables)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _b = omc_NBVariable_VariablePointers_containsCref(threadData, omc_NBVariable_getVarName(threadData, _var), _variables);
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_VariablePointers_contains(threadData_t *threadData, modelica_metatype _var, modelica_metatype _variables)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_VariablePointers_contains(threadData, _var, _variables);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_integer omc_NBVariable_VariablePointers_getVarIndex(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _cref)
{
  modelica_integer _index;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _index = mmc_unbox_integer(omc_UnorderedMap_getOrDefault(threadData, _cref, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 2))), mmc_mk_integer(((modelica_integer) -1))));
  _return: OMC_LABEL_UNUSED
  return _index;
}
modelica_metatype boxptr_NBVariable_VariablePointers_getVarIndex(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _cref)
{
  modelica_integer _index;
  modelica_metatype out_index;
  _index = omc_NBVariable_VariablePointers_getVarIndex(threadData, _variables, _cref);
  out_index = mmc_mk_icon(_index);
  return out_index;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_getVarSafe(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _cref, modelica_metatype _info)
{
  modelica_metatype _var_ptr = NULL;
  modelica_integer _index;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var_ptr has no default value.
  // _index has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = omc_UnorderedMap_get(threadData, _cref, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 2))));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          if (optionNone(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
          tmp7 = mmc_unbox_integer(tmpMeta6);
          _index = tmp7  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(_index > ((modelica_integer) 0))) goto tmp3_end;
          tmpMeta1 = omc_ExpandableArray_get(threadData, _index, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          if(isSome(_info))
          {
            tmpMeta8 = stringAppend(_OMC_LIT52,omc_NFComponentRef_toString(threadData, _cref));
            omc_Error_addInternalError(threadData, tmpMeta8, omc_Util_getOption(threadData, _info));
          }
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var_ptr = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var_ptr;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_getVarAt(threadData_t *threadData, modelica_metatype _variables, modelica_integer _idx)
{
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  _var = omc_ExpandableArray_get(threadData, _idx, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));
  _return: OMC_LABEL_UNUSED
  return _var;
}
modelica_metatype boxptr_NBVariable_VariablePointers_getVarAt(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _idx)
{
  modelica_integer tmp1;
  modelica_metatype _var = NULL;
  tmp1 = mmc_unbox_integer(_idx);
  _var = omc_NBVariable_VariablePointers_getVarAt(threadData, _variables, tmp1);
  /* skip box _var; Pointer<NFVariable> */
  return _var;
}

DLLDirection
void omc_NBVariable_VariablePointers_setVarAt(threadData_t *threadData, modelica_metatype _variables, modelica_integer _idx, modelica_metatype _var_ptr)
{
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  omc_ExpandableArray_set(threadData, _idx, _var_ptr, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));

  _var = omc_Pointer_access(threadData, _var_ptr);

  omc_UnorderedMap_add(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), mmc_mk_integer(_idx), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 2))));
  _return: OMC_LABEL_UNUSED
  return;
}
void boxptr_NBVariable_VariablePointers_setVarAt(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _idx, modelica_metatype _var_ptr)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_idx);
  omc_NBVariable_VariablePointers_setVarAt(threadData, _variables, tmp1, _var_ptr);
  return;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_remove(threadData_t *threadData, modelica_metatype _var_ptr, modelica_metatype __omcQ_24in_5Fvariables)
{
  modelica_metatype _variables = NULL;
  modelica_metatype _var = NULL;
  modelica_integer _index;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _variables = __omcQ_24in_5Fvariables;
  // _var has no default value.
  // _index has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);

  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = omc_UnorderedMap_get(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 2))));
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_integer tmp6;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          tmp6 = mmc_unbox_integer(tmpMeta5);
          _index = tmp6  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(_index > ((modelica_integer) 0))) goto tmp2_end;
          omc_ExpandableArray_delete(threadData, _index, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));

          omc_UnorderedMap_add(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), mmc_mk_integer(((modelica_integer) -1)), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 2))));
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _variables;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_add(threadData_t *threadData, modelica_metatype _varPointer, modelica_metatype __omcQ_24in_5Fvariables)
{
  modelica_metatype _variables = NULL;
  modelica_metatype _var = NULL;
  modelica_integer _index;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _variables = __omcQ_24in_5Fvariables;
  // _var has no default value.
  // _index has no default value.
  _var = omc_Pointer_access(threadData, _varPointer);

  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = omc_UnorderedMap_get(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 2))));
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_integer tmp6;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          tmp6 = mmc_unbox_integer(tmpMeta5);
          _index = tmp6  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(_index > ((modelica_integer) 0))) goto tmp2_end;
          omc_ExpandableArray_update(threadData, _index, _varPointer, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          omc_ExpandableArray_add(threadData, _varPointer, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))) ,&_index);

          omc_UnorderedMap_add(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), mmc_mk_integer(_index), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 2))));
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _variables;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_removeList(threadData_t *threadData, modelica_metatype _var_lst, modelica_metatype __omcQ_24in_5Fvariables)
{
  modelica_metatype _variables = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _variables = __omcQ_24in_5Fvariables;
  _variables = omc_List_fold(threadData, _var_lst, boxvar_NBVariable_VariablePointers_remove, _variables);

  _variables = omc_NBVariable_VariablePointers_compress(threadData, _variables);
  _return: OMC_LABEL_UNUSED
  return _variables;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_addList(threadData_t *threadData, modelica_metatype _var_lst, modelica_metatype __omcQ_24in_5Fvariables)
{
  modelica_metatype _variables = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _variables = __omcQ_24in_5Fvariables;
  _variables = omc_List_fold(threadData, _var_lst, boxvar_NBVariable_VariablePointers_add, _variables);
  _return: OMC_LABEL_UNUSED
  return _variables;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_fromList(threadData_t *threadData, modelica_metatype _var_lst, modelica_boolean _scalarized)
{
  modelica_metatype _variables = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _variables has no default value.
  _variables = omc_NBVariable_VariablePointers_empty(threadData, listLength(_var_lst), _scalarized);

  _variables = omc_NBVariable_VariablePointers_addList(threadData, _var_lst, _variables);
  _return: OMC_LABEL_UNUSED
  return _variables;
}
modelica_metatype boxptr_NBVariable_VariablePointers_fromList(threadData_t *threadData, modelica_metatype _var_lst, modelica_metatype _scalarized)
{
  modelica_integer tmp1;
  modelica_metatype _variables = NULL;
  tmp1 = mmc_unbox_integer(_scalarized);
  _variables = omc_NBVariable_VariablePointers_fromList(threadData, _var_lst, tmp1);
  /* skip box _variables; NBVariable.VariablePointers */
  return _variables;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_toList(threadData_t *threadData, modelica_metatype _variables)
{
  modelica_metatype _var_lst = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var_lst has no default value.
  _var_lst = omc_ExpandableArray_toList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));
  _return: OMC_LABEL_UNUSED
  return _var_lst;
}

DLLDirection
modelica_integer omc_NBVariable_VariablePointers_scalarSize(threadData_t *threadData, modelica_metatype _variables, modelica_boolean _resize)
{
  modelica_integer _sz;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _sz = ((modelica_integer) 0);
  {
    modelica_metatype _var_ptr;
    for (tmpMeta1 = omc_NBVariable_VariablePointers_toList(threadData, _variables); !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _var_ptr = MMC_CAR(tmpMeta1);
      _sz = _sz + omc_NBVariable_size(threadData, _var_ptr, _resize);
    }
  }
  _return: OMC_LABEL_UNUSED
  return _sz;
}
modelica_metatype boxptr_NBVariable_VariablePointers_scalarSize(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _resize)
{
  modelica_integer tmp1;
  modelica_integer _sz;
  modelica_metatype out_sz;
  tmp1 = mmc_unbox_integer(_resize);
  _sz = omc_NBVariable_VariablePointers_scalarSize(threadData, _variables, tmp1);
  out_sz = mmc_mk_icon(_sz);
  return out_sz;
}

DLLDirection
modelica_integer omc_NBVariable_VariablePointers_size(threadData_t *threadData, modelica_metatype _variables)
{
  modelica_integer _sz;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _sz = omc_ExpandableArray_getNumberOfElements(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));
  _return: OMC_LABEL_UNUSED
  return _sz;
}
modelica_metatype boxptr_NBVariable_VariablePointers_size(threadData_t *threadData, modelica_metatype _variables)
{
  modelica_integer _sz;
  modelica_metatype out_sz;
  _sz = omc_NBVariable_VariablePointers_size(threadData, _variables);
  out_sz = mmc_mk_icon(_sz);
  return out_sz;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_clone(threadData_t *threadData, modelica_metatype _variables, modelica_boolean _shallow)
{
  modelica_metatype _new = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _new has no default value.
  if(_shallow)
  {
    _new = omc_NBVariable_VariablePointers_fromList(threadData, omc_NBVariable_VariablePointers_toList(threadData, _variables), 0 /* false */);
  }
  else
  {
    {
      modelica_metatype __omcQ_24tmpVar7;
      modelica_metatype* tmp2;
      modelica_metatype tmpMeta3;
      modelica_metatype __omcQ_24tmpVar6;
      modelica_integer tmp4;
      modelica_metatype _eqn_loopVar = 0;
      modelica_metatype _eqn;
      _eqn_loopVar = omc_NBVariable_VariablePointers_toList(threadData, _variables);
      tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar7 = tmpMeta3; /* defaultValue */
      tmp2 = &__omcQ_24tmpVar7;
      while(1) {
        tmp4 = 1;
        if (!listEmpty(_eqn_loopVar)) {
          _eqn = MMC_CAR(_eqn_loopVar);
          _eqn_loopVar = MMC_CDR(_eqn_loopVar);
          tmp4--;
        }
        if (tmp4 == 0) {
          __omcQ_24tmpVar6 = omc_Pointer_create(threadData, omc_Pointer_access(threadData, _eqn));
          *tmp2 = mmc_mk_cons(__omcQ_24tmpVar6,0);
          tmp2 = &MMC_CDR(*tmp2);
        } else if (tmp4 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp2 = mmc_mk_nil();
      tmpMeta1 = __omcQ_24tmpVar7;
    }
    _new = omc_NBVariable_VariablePointers_fromList(threadData, tmpMeta1, 0 /* false */);
  }
  _return: OMC_LABEL_UNUSED
  return _new;
}
modelica_metatype boxptr_NBVariable_VariablePointers_clone(threadData_t *threadData, modelica_metatype _variables, modelica_metatype _shallow)
{
  modelica_integer tmp1;
  modelica_metatype _new = NULL;
  tmp1 = mmc_unbox_integer(_shallow);
  _new = omc_NBVariable_VariablePointers_clone(threadData, _variables, tmp1);
  /* skip box _new; NBVariable.VariablePointers */
  return _new;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_empty(threadData_t *threadData, modelica_integer _size, modelica_boolean _scalarized)
{
  modelica_metatype _variables = NULL;
  modelica_integer _arr_size;
  modelica_integer _bucketSize;
  modelica_metatype _map = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _variables has no default value.
  // _arr_size has no default value.
  // _bucketSize has no default value.
  // _map has no default value.
  _arr_size = modelica_integer_max((modelica_integer)(_size),(modelica_integer)(((modelica_integer) 257)));

  _bucketSize = omc_Util_nextPrime(threadData, _arr_size);

  if(_scalarized)
  {
    _map = omc_UnorderedMap_new(threadData, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual, _bucketSize);
  }
  else
  {
    _map = omc_UnorderedMap_new(threadData, boxvar_NFComponentRef_hashStrip, boxvar_NFComponentRef_isEqualStrip, _bucketSize);
  }

  tmpMeta1 = mmc_mk_box4(3, &NBVariable_VariablePointers_VARIABLE__POINTERS__desc, _map, omc_ExpandableArray_new(threadData, _arr_size, omc_Pointer_create(threadData, _OMC_LIT66)), mmc_mk_boolean(_scalarized));
  _variables = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _variables;
}
modelica_metatype boxptr_NBVariable_VariablePointers_empty(threadData_t *threadData, modelica_metatype _size, modelica_metatype _scalarized)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _variables = NULL;
  tmp1 = mmc_unbox_integer(_size);
  tmp2 = mmc_unbox_integer(_scalarized);
  _variables = omc_NBVariable_VariablePointers_empty(threadData, tmp1, tmp2);
  /* skip box _variables; NBVariable.VariablePointers */
  return _variables;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_mapRemovePtr(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvariables, modelica_fnptr _func)
{
  modelica_metatype _variables = NULL;
  modelica_metatype _var_ptr = NULL;
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _variables = __omcQ_24in_5Fvariables;
  // _var_ptr has no default value.
  tmp1 = ((modelica_integer) 1); tmp2 = 1; tmp3 = omc_ExpandableArray_getLastUsedIndex(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));
  if(!(((tmp2 > 0) && (tmp1 > tmp3)) || ((tmp2 < 0) && (tmp1 < tmp3))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp1, tmp3); _i += tmp2)
    {
      if(omc_ExpandableArray_occupied(threadData, _i, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3)))))
      {
        _var_ptr = omc_ExpandableArray_get(threadData, _i, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));

        if(mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), _var_ptr) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, _var_ptr)))
        {
          _variables = omc_NBVariable_VariablePointers_remove(threadData, _var_ptr, _variables);
        }
      }
    }
  }

  _variables = omc_NBVariable_VariablePointers_compress(threadData, _variables);
  _return: OMC_LABEL_UNUSED
  return _variables;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_mapPtr(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvariables, modelica_fnptr _func)
{
  modelica_metatype _variables = NULL;
  modelica_metatype _var_ptr = NULL;
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _variables = __omcQ_24in_5Fvariables;
  // _var_ptr has no default value.
  tmp1 = ((modelica_integer) 1); tmp2 = 1; tmp3 = omc_ExpandableArray_getLastUsedIndex(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));
  if(!(((tmp2 > 0) && (tmp1 > tmp3)) || ((tmp2 < 0) && (tmp1 < tmp3))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp1, tmp3); _i += tmp2)
    {
      if(omc_ExpandableArray_occupied(threadData, _i, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3)))))
      {
        _var_ptr = omc_ExpandableArray_get(threadData, _i, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));

        (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((void(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), _var_ptr) : ((void(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, _var_ptr);
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _variables;
}

DLLDirection
modelica_metatype omc_NBVariable_VariablePointers_map(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvariables, modelica_fnptr _func)
{
  modelica_metatype _variables = NULL;
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype _new_var = NULL;
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _variables = __omcQ_24in_5Fvariables;
  // _var_ptr has no default value.
  // _var has no default value.
  // _new_var has no default value.
  tmp1 = ((modelica_integer) 1); tmp2 = 1; tmp3 = omc_ExpandableArray_getLastUsedIndex(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));
  if(!(((tmp2 > 0) && (tmp1 > tmp3)) || ((tmp2 < 0) && (tmp1 < tmp3))))
  {
    modelica_integer _i;
    for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp1, tmp3); _i += tmp2)
    {
      if(omc_ExpandableArray_occupied(threadData, _i, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3)))))
      {
        _var_ptr = omc_ExpandableArray_get(threadData, _i, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))));

        _var = omc_Pointer_access(threadData, _var_ptr);

        _new_var = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), _var) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, _var);

        if((!referenceEq(_var, _new_var)))
        {
          omc_Pointer_update(threadData, _var_ptr, _new_var);
        }
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _variables;
}

DLLDirection
modelica_string omc_NBVariable_VariablePointers_toString(threadData_t *threadData, modelica_metatype _variables, modelica_string __omcQ_24in_5Fstr, modelica_metatype _mapping_opt, modelica_boolean _printEmpty)
{
  modelica_string _str = NULL;
  modelica_integer _numberOfElements;
  modelica_integer _length;
  modelica_integer _scal_start;
  modelica_string _index = NULL;
  modelica_boolean _useMapping;
  modelica_metatype _mapping = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_integer tmp8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_integer tmp18;
  modelica_integer tmp19;
  modelica_integer tmp20;
  modelica_metatype tmpMeta21;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _str = __omcQ_24in_5Fstr;
  _numberOfElements = omc_NBVariable_VariablePointers_size(threadData, _variables);
  // _length has no default value.
  // _scal_start has no default value.
  // _index has no default value.
  _useMapping = isSome(_mapping_opt);
  // _mapping has no default value.
  if(_useMapping)
  {
    _length = ((modelica_integer) 15);

    _mapping = omc_Util_getOption(threadData, _mapping_opt);
  }
  else
  {
    _length = ((modelica_integer) 10);
  }

  if((_printEmpty || (_numberOfElements > ((modelica_integer) 0))))
  {
    tmpMeta1 = stringAppend(_str,_OMC_LIT67);
    tmpMeta2 = stringAppend(tmpMeta1,intString(_numberOfElements));
    tmpMeta3 = stringAppend(tmpMeta2,_OMC_LIT68);
    tmpMeta4 = stringAppend(tmpMeta3,intString(omc_NBVariable_VariablePointers_scalarSize(threadData, _variables, 1 /* true */)));
    tmpMeta5 = stringAppend(tmpMeta4,_OMC_LIT10);
    _str = omc_StringUtil_headline__4(threadData, tmpMeta5);

    tmp18 = ((modelica_integer) 1); tmp19 = 1; tmp20 = _numberOfElements;
    if(!(((tmp19 > 0) && (tmp18 > tmp20)) || ((tmp19 < 0) && (tmp18 < tmp20))))
    {
      modelica_integer _i;
      for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp18, tmp20); _i += tmp19)
      {
        if(_useMapping)
        {
          /* Pattern-matching assignment */
          tmpMeta6 = arrayGet(_mapping,_i) /* DAE.ASUB */;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmp8 = mmc_unbox_integer(tmpMeta7);
          _scal_start = tmp8  /* pattern as ty=Integer */;

          tmpMeta9 = stringAppend(_OMC_LIT69,intString(_i));
          tmpMeta10 = stringAppend(tmpMeta9,_OMC_LIT70);
          tmpMeta11 = stringAppend(tmpMeta10,intString(_scal_start));
          tmpMeta12 = stringAppend(tmpMeta11,_OMC_LIT10);
          _index = tmpMeta12;
        }
        else
        {
          tmpMeta13 = stringAppend(_OMC_LIT69,intString(_i));
          tmpMeta14 = stringAppend(tmpMeta13,_OMC_LIT10);
          _index = tmpMeta14;
        }

        tmpMeta15 = stringAppend(_index,omc_StringUtil_repeat(threadData, _OMC_LIT71, _length - stringLength(_index)));
        _index = tmpMeta15;

        tmpMeta16 = stringAppend(_str,omc_NBVariable_toString(threadData, omc_Pointer_access(threadData, omc_ExpandableArray_get(threadData, _i, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 3))))), _index));
        tmpMeta17 = stringAppend(tmpMeta16,_OMC_LIT11);
        _str = tmpMeta17;
      }
    }

    tmpMeta21 = stringAppend(_str,_OMC_LIT11);
    _str = tmpMeta21;
  }
  else
  {
    _str = _OMC_LIT59;
  }
  _return: OMC_LABEL_UNUSED
  return _str;
}
modelica_metatype boxptr_NBVariable_VariablePointers_toString(threadData_t *threadData, modelica_metatype _variables, modelica_metatype __omcQ_24in_5Fstr, modelica_metatype _mapping_opt, modelica_metatype _printEmpty)
{
  modelica_integer tmp1;
  modelica_string _str = NULL;
  tmp1 = mmc_unbox_integer(_printEmpty);
  _str = omc_NBVariable_VariablePointers_toString(threadData, _variables, __omcQ_24in_5Fstr, _mapping_opt, tmp1);
  /* skip box _str; String */
  return _str;
}

DLLDirection
modelica_boolean omc_NBVariable_checkCref(threadData_t *threadData, modelica_metatype _cref, modelica_fnptr _func, modelica_metatype _info)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _b = mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), omc_NBVariable_getVarPointer(threadData, _cref, _info)) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, omc_NBVariable_getVarPointer(threadData, _cref, _info)));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_checkCref(threadData_t *threadData, modelica_metatype _cref, modelica_fnptr _func, modelica_metatype _info)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_checkCref(threadData, _cref, _func, _info);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_metatype omc_NBVariable_checkExpMap_checkExpTraverse(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_fnptr _func, modelica_metatype _info, modelica_boolean __omcQ_24in_5Fb, modelica_boolean *out_b)
{
  modelica_metatype _exp = NULL;
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _exp = __omcQ_24in_5Fexp;
  _b = __omcQ_24in_5Fb;
  if((!_b))
  {
    _b = omc_NBVariable_checkExp(threadData, _exp, ((modelica_fnptr) _func), _info);
  }
  _return: OMC_LABEL_UNUSED
  if (out_b) { *out_b = _b; }
  return _exp;
}
modelica_metatype boxptr_NBVariable_checkExpMap_checkExpTraverse(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fexp, modelica_fnptr _func, modelica_metatype _info, modelica_metatype __omcQ_24in_5Fb, modelica_metatype *out_b)
{
  modelica_integer tmp1;
  modelica_boolean _b;
  modelica_metatype _exp = NULL;
  tmp1 = mmc_unbox_integer(__omcQ_24in_5Fb);
  _exp = omc_NBVariable_checkExpMap_checkExpTraverse(threadData, __omcQ_24in_5Fexp, _func, _info, tmp1, &_b);
  /* skip box _exp; NFExpression */
  if (out_b) { *out_b = mmc_mk_icon(_b); }
  return _exp;
}

static modelica_metatype closure3_NBVariable_checkExpMap_checkExpTraverse(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_exp, modelica_metatype $in_b, modelica_metatype tmp3)
{
  modelica_fnptr func = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype info = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBVariable_checkExpMap_checkExpTraverse(thData, $in_exp, func, info, $in_b, tmp3);
}
DLLDirection
modelica_boolean omc_NBVariable_checkExpMap(threadData_t *threadData, modelica_metatype _exp, modelica_fnptr _func, modelica_metatype _info)
{
  modelica_boolean _b;
  modelica_metatype tmpMeta1;
  modelica_integer tmp2;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  /* Pattern-matching tuple assignment, wild first pattern */
  tmpMeta4 = mmc_mk_box2(0, ((modelica_fnptr) _func), _info);
  omc_NFExpression_mapFold(threadData, _exp, (modelica_fnptr) mmc_mk_box2(0,closure3_NBVariable_checkExpMap_checkExpTraverse,tmpMeta4), mmc_mk_boolean(0 /* false */), &tmpMeta1);
  tmp2 = mmc_unbox_integer(tmpMeta1);
  _b = tmp2  /* pattern as ty=Boolean */;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_checkExpMap(threadData_t *threadData, modelica_metatype _exp, modelica_fnptr _func, modelica_metatype _info)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_checkExpMap(threadData, _exp, _func, _info);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_checkExp(threadData_t *threadData, modelica_metatype _exp, modelica_fnptr _func, modelica_metatype _info)
{
  modelica_boolean _b;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _exp;
    {
      modelica_metatype _cref = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cref has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _cref = tmpMeta6;
          /* Pattern matching succeeded */
          tmp1 = mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), omc_NBVariable_getVarPointer(threadData, _cref, _info)) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, omc_NBVariable_getVarPointer(threadData, _cref, _info)));
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_checkExp(threadData_t *threadData, modelica_metatype _exp, modelica_fnptr _func, modelica_metatype _info)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_checkExp(threadData, _exp, _func, _info);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isBound(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 4)));
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 6: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isBound(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isBound(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isTimeDependent(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = omc_NFBackendExtension_VariableKind_isTimeDependent(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2))));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isTimeDependent(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isTimeDependent(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_hasConstOrParamAliasBinding(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = (!omc_NBVariable_checkExpMap(threadData, omc_NFBinding_getExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 4)))), boxvar_NBVariable_isTimeDependent, _OMC_LIT73));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_hasConstOrParamAliasBinding(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_hasConstOrParamAliasBinding(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_hasNonTrivialAliasBinding(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_metatype _binding = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _binding = omc_NFBinding_getExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 4))));
  _b = ((!omc_NFExpression_isTrivialCref(threadData, _binding)) && omc_NBVariable_checkExpMap(threadData, _binding, boxvar_NBVariable_isTimeDependent, _OMC_LIT74));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_hasNonTrivialAliasBinding(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_hasNonTrivialAliasBinding(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_metatype omc_NBVariable_getStartAttribute(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_metatype _start = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _start = omc_NFBackendExtension_VariableAttributes_getStartAttribute(threadData, omc_NFVariable_getVariableAttributes(threadData, omc_Pointer_access(threadData, _var_ptr)));
  _return: OMC_LABEL_UNUSED
  return _start;
}

DLLDirection
modelica_metatype omc_NBVariable_setBindingAsStartAndFix(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar_5Fptr, modelica_boolean _b)
{
  modelica_metatype _var_ptr = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var_ptr = __omcQ_24in_5Fvar_5Fptr;
  omc_NBVariable_setBindingAsStart(threadData, _var_ptr);

  _var_ptr = omc_NBVariable_setFixed(threadData, _var_ptr, _b, 0 /* false */);
  _return: OMC_LABEL_UNUSED
  return _var_ptr;
}
modelica_metatype boxptr_NBVariable_setBindingAsStartAndFix(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar_5Fptr, modelica_metatype _b)
{
  modelica_integer tmp1;
  modelica_metatype _var_ptr = NULL;
  tmp1 = mmc_unbox_integer(_b);
  _var_ptr = omc_NBVariable_setBindingAsStartAndFix(threadData, __omcQ_24in_5Fvar_5Fptr, tmp1);
  /* skip box _var_ptr; Pointer<NFVariable> */
  return _var_ptr;
}

DLLDirection
void omc_NBVariable_setBindingAsStart(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);

  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _var;
    {
      modelica_metatype _binfo = NULL;
      modelica_metatype _start = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _binfo has no default value.
      // _start has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          
          _binfo = tmpMeta6;
          /* Pattern matching succeeded */
          _start = omc_NFBinding_getExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 4))));

          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_binfo), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[3] = omc_NFBackendExtension_VariableAttributes_setStartAttribute(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_binfo), 3))), _start, 1 /* true */);
          _binfo = tmpMeta7;

          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[11] = _binfo;
          _var = tmpMeta8;
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT4, _OMC_LIT76);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _var_ptr, _var);
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_metatype omc_NBVariable_setFixed(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar_5Fptr, modelica_boolean _b, modelica_boolean _overwrite)
{
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var_ptr = __omcQ_24in_5Fvar_5Fptr;
  // _var has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);

  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _var;
    {
      modelica_metatype _binfo = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _binfo has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          
          _binfo = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_binfo), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[3] = omc_NFBackendExtension_VariableAttributes_setFixed(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_binfo), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 3))), _b, _overwrite);
          _binfo = tmpMeta7;

          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[11] = _binfo;
          _var = tmpMeta8;
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT4, _OMC_LIT78);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _var_ptr, _var);
  _return: OMC_LABEL_UNUSED
  return _var_ptr;
}
modelica_metatype boxptr_NBVariable_setFixed(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar_5Fptr, modelica_metatype _b, modelica_metatype _overwrite)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _var_ptr = NULL;
  tmp1 = mmc_unbox_integer(_b);
  tmp2 = mmc_unbox_integer(_overwrite);
  _var_ptr = omc_NBVariable_setFixed(threadData, __omcQ_24in_5Fvar_5Fptr, tmp1, tmp2);
  /* skip box _var_ptr; Pointer<NFVariable> */
  return _var_ptr;
}

DLLDirection
void omc_NBVariable_mapExp(threadData_t *threadData, modelica_metatype _var_ptr, modelica_fnptr _funcExp, modelica_fnptr _mapFunc)
{
  modelica_metatype _var = NULL;
  modelica_metatype _opt_start = NULL;
  modelica_metatype _binding = NULL;
  modelica_metatype _new_binding = NULL;
  modelica_metatype _start = NULL;
  modelica_metatype _new_start = NULL;
  modelica_boolean _changed;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = omc_Pointer_access(threadData, _var_ptr);
  // _opt_start has no default value.
  // _binding has no default value.
  // _new_binding has no default value.
  // _start has no default value.
  // _new_start has no default value.
  _changed = 0 /* false */;
  if(omc_NBVariable_isBound(threadData, _var_ptr))
  {
    _binding = omc_NFBinding_getExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 4))));

    _new_binding = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFunc), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_fnptr)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFunc), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFunc), 2))), _binding, ((modelica_fnptr) _funcExp)) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_fnptr)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFunc), 1)))) (threadData, _binding, ((modelica_fnptr) _funcExp));

    if((!referenceEq(_binding, _new_binding)))
    {
      tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
      memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
      ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[4] = omc_NFBinding_setExp(threadData, _new_binding, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 4))));
      _var = tmpMeta1;

      _changed = 1 /* true */;
    }
  }

  _opt_start = omc_NBVariable_getStartAttribute(threadData, _var_ptr);

  if(isSome(_opt_start))
  {
    /* Pattern-matching assignment */
    tmpMeta2 = _opt_start;
    if (optionNone(tmpMeta2)) MMC_THROW_INTERNAL();
    tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 1));
    _start = tmpMeta3;

    _new_start = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFunc), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_fnptr)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFunc), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFunc), 2))), _start, ((modelica_fnptr) _funcExp)) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_fnptr)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapFunc), 1)))) (threadData, _start, ((modelica_fnptr) _funcExp));

    if((!referenceEq(_start, _new_start)))
    {
      _var = omc_NBVariable_setStartAttribute(threadData, _var, _new_start, 1 /* true */);

      _changed = 1 /* true */;
    }
  }

  if(_changed)
  {
    omc_Pointer_update(threadData, _var_ptr, _var);
  }
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_boolean omc_NBVariable_hasEvaluableBinding(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_metatype _binding = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  // _binding has no default value.
  if(omc_NBVariable_isBound(threadData, _var_ptr))
  {
    _binding = omc_NFBinding_getExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 4))));

    _b = omc_NFExpression_isLiteral(threadData, _binding);

    if((!_b))
    {
      omc_NBEquation_Iterator_extract(threadData, _binding, omc_UnorderedSet_new(threadData, boxvar_NBVariable_hash, boxvar_NBVariable_equalName, ((modelica_integer) 13)) ,&_binding);

      _binding = omc_NFSimplifyExp_simplifyDump(threadData, _binding, 1 /* true */, _OMC_LIT79, _OMC_LIT59);

      _b = omc_NFExpression_isLiteral(threadData, omc_NFCeval_tryEvalExp(threadData, _binding));
    }
  }
  else
  {
    _b = 0 /* false */;
  }
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_hasEvaluableBinding(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_hasEvaluableBinding(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_integer omc_NBVariable_getBindingVariability(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_integer _variability;
  modelica_integer tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _variability has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = omc_Pointer_access(threadData, _var_ptr);
    {
      modelica_integer _tmp;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _tmp has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,3,9) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          tmp8 = mmc_unbox_integer(tmpMeta7);
          
          _tmp = tmp8  /* pattern as ty=enumeration(CONSTANT, STRUCTURAL_PARAMETER, PARAMETER, NON_STRUCTURAL_PARAMETER, DISCRETE, IMPLICITLY_DISCRETE, CONTINUOUS) */;
          /* Pattern matching succeeded */
          tmp1 = (modelica_integer)_tmp;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_integer tmp11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,4,3) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          tmp11 = mmc_unbox_integer(tmpMeta10);
          
          _tmp = tmp11  /* pattern as ty=enumeration(CONSTANT, STRUCTURAL_PARAMETER, PARAMETER, NON_STRUCTURAL_PARAMETER, DISCRETE, IMPLICITLY_DISCRETE, CONTINUOUS) */;
          /* Pattern matching succeeded */
          tmp1 = (modelica_integer)_tmp;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta12,0,0) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 7;
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT4, _OMC_LIT81);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _variability = tmp1;
  _return: OMC_LABEL_UNUSED
  return _variability;
}
modelica_metatype boxptr_NBVariable_getBindingVariability(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_integer _variability;
  modelica_metatype out_variability;
  _variability = omc_NBVariable_getBindingVariability(threadData, _var_ptr);
  out_variability = mmc_mk_icon(_variability);
  return out_variability;
}

DLLDirection
modelica_metatype omc_NBVariable_makeClockVar(threadData_t *threadData, modelica_integer _uniqueIndex, modelica_metatype _ty, modelica_metatype *out_cref)
{
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype _node = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype _dims = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var_ptr has no default value.
  // _cref has no default value.
  // _node has no default value.
  // _var has no default value.
  _dims = omc_NFType_arrayDims(threadData, _ty);
  tmpMeta1 = stringAppend(_OMC_LIT82,intString(_uniqueIndex));
  tmpMeta2 = mmc_mk_box3(10, &NFInstNode_InstNode_VAR__NODE__desc, tmpMeta1, omc_Pointer_create(threadData, _OMC_LIT66));
  _node = tmpMeta2;

  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta4 = mmc_mk_box6(3, &NFComponentRef_CREF__desc, _node, tmpMeta3, _ty, mmc_mk_integer(1), _OMC_LIT53);
  _cref = tmpMeta4;

  _var = omc_NBVariable_fromCref(threadData, _cref, _OMC_LIT57, _OMC_LIT55);

  tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _OMC_LIT83);
  _var = tmpMeta5;

  _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, _cref ,&_cref);
  _return: OMC_LABEL_UNUSED
  if (out_cref) { *out_cref = _cref; }
  return _var_ptr;
}
modelica_metatype boxptr_NBVariable_makeClockVar(threadData_t *threadData, modelica_metatype _uniqueIndex, modelica_metatype _ty, modelica_metatype *out_cref)
{
  modelica_integer tmp1;
  modelica_metatype _var_ptr = NULL;
  tmp1 = mmc_unbox_integer(_uniqueIndex);
  _var_ptr = omc_NBVariable_makeClockVar(threadData, tmp1, _ty, out_cref);
  /* skip box _var_ptr; Pointer<NFVariable> */
  /* skip box _cref; NFComponentRef */
  return _var_ptr;
}

DLLDirection
modelica_metatype omc_NBVariable_makeTmpVar(threadData_t *threadData, modelica_metatype _cref)
{
  modelica_metatype _tmp_cref = NULL;
  modelica_metatype _var_ptr = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _tmp_cref has no default value.
  // _var_ptr has no default value.
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = omc_NFComponentRef_node(threadData, _cref);
    {
      modelica_metatype _qual = NULL;
      modelica_metatype _old_var_ptr = NULL;
      modelica_metatype _var = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _qual has no default value.
      // _old_var_ptr has no default value.
      // _var has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,2) == 0) goto tmp2_end;
          
          _qual = tmp3_1;
          /* Pattern matching succeeded */
          _old_var_ptr = omc_NBVariable_getVarPointer(threadData, _cref, _OMC_LIT84);

          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_qual), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[2] = _OMC_LIT85;
          _qual = tmpMeta5;

          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          _tmp_cref = omc_NFComponentRef_append(threadData, _cref, omc_NFComponentRef_fromNode(threadData, _qual, omc_NFComponentRef_scalarType(threadData, _cref), tmpMeta6, 1));

          _var = omc_NBVariable_fromCref(threadData, _tmp_cref, omc_NFVariable_attributes(threadData, omc_NBVariable_getVar(threadData, _cref, _OMC_LIT86)), _OMC_LIT55);

          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), omc_NBVariable_getVarKind(threadData, _old_var_ptr));
          _var = tmpMeta7;

          _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, _tmp_cref ,&_tmp_cref);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          
          /* Pattern matching succeeded */
          tmpMeta9 = stringAppend(_OMC_LIT87,omc_NFComponentRef_toString(threadData, _cref));
          tmpMeta8 = mmc_mk_cons(tmpMeta9, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta8);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _tmp_cref;
}

DLLDirection
modelica_metatype omc_NBVariable_makeAuxStateVar(threadData_t *threadData, modelica_integer _uniqueIndex, modelica_metatype _binding, modelica_metatype *out_cref, modelica_metatype *out_der_var, modelica_metatype *out_der_cref)
{
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype _der_var = NULL;
  modelica_metatype _der_cref = NULL;
  modelica_metatype _node = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype _bnd = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var_ptr has no default value.
  // _cref has no default value.
  // _der_var has no default value.
  // _der_cref has no default value.
  // _node has no default value.
  // _var has no default value.
  // _bnd has no default value.
  tmpMeta1 = stringAppend(_OMC_LIT88,intString(_uniqueIndex));
  tmpMeta2 = mmc_mk_box3(10, &NFInstNode_InstNode_VAR__NODE__desc, tmpMeta1, omc_Pointer_create(threadData, _OMC_LIT66));
  _node = tmpMeta2;

  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta4 = mmc_mk_box6(3, &NFComponentRef_CREF__desc, _node, tmpMeta3, _OMC_LIT89, mmc_mk_integer(1), _OMC_LIT53);
  _cref = tmpMeta4;

  if(isSome(_binding))
  {
    _bnd = omc_Util_getOption(threadData, _binding);

    tmpMeta5 = mmc_mk_box4(7, &NFBinding_FLAT__BINDING__desc, _bnd, mmc_mk_integer(omc_NFExpression_variability(threadData, _bnd)), mmc_mk_integer(1));
    _var = omc_NBVariable_fromCref(threadData, _cref, _OMC_LIT57, tmpMeta5);
  }
  else
  {
    _var = omc_NBVariable_fromCref(threadData, _cref, _OMC_LIT57, _OMC_LIT55);
  }

  tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _OMC_LIT90);
  _var = tmpMeta6;

  _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, _cref ,&_cref);

  _der_cref = omc_NBVariable_makeDerVar(threadData, _cref, 0 /* false */ ,&_der_var);

  omc_NBVariable_setStateDerivativeVar(threadData, _var_ptr, _der_var);
  _return: OMC_LABEL_UNUSED
  if (out_cref) { *out_cref = _cref; }
  if (out_der_var) { *out_der_var = _der_var; }
  if (out_der_cref) { *out_der_cref = _der_cref; }
  return _var_ptr;
}
modelica_metatype boxptr_NBVariable_makeAuxStateVar(threadData_t *threadData, modelica_metatype _uniqueIndex, modelica_metatype _binding, modelica_metatype *out_cref, modelica_metatype *out_der_var, modelica_metatype *out_der_cref)
{
  modelica_integer tmp1;
  modelica_metatype _var_ptr = NULL;
  tmp1 = mmc_unbox_integer(_uniqueIndex);
  _var_ptr = omc_NBVariable_makeAuxStateVar(threadData, tmp1, _binding, out_cref, out_der_var, out_der_cref);
  /* skip box _var_ptr; Pointer<NFVariable> */
  /* skip box _cref; NFComponentRef */
  /* skip box _der_var; Pointer<NFVariable> */
  /* skip box _der_cref; NFComponentRef */
  return _var_ptr;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBVariable_makeAuxVar_updateBackendInfo(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_boolean _makeParam)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = __omcQ_24in_5Fvar;
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), omc_NFBackendExtension_VariableKind_fromType(threadData, omc_NFVariable_typeOf(threadData, _var), _makeParam));
  _var = tmpMeta1;

  tmpMeta2 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta2), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta2))[11] = omc_NFBackendExtension_BackendInfo_setHideResult(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), 1 /* true */);
  _var = tmpMeta2;
  _return: OMC_LABEL_UNUSED
  return _var;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBVariable_makeAuxVar_updateBackendInfo(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _makeParam)
{
  modelica_integer tmp1;
  modelica_metatype _var = NULL;
  tmp1 = mmc_unbox_integer(_makeParam);
  _var = omc_NBVariable_makeAuxVar_updateBackendInfo(threadData, __omcQ_24in_5Fvar, tmp1);
  /* skip box _var; NFVariable */
  return _var;
}

DLLDirection
modelica_metatype omc_NBVariable_makeAuxVar(threadData_t *threadData, modelica_string _name, modelica_integer _uniqueIndex, modelica_metatype _ty, modelica_boolean _makeParam, modelica_metatype *out_cref)
{
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype _node = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype _dims = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var_ptr has no default value.
  // _cref has no default value.
  // _node has no default value.
  // _var has no default value.
  _dims = omc_NFType_arrayDims(threadData, _ty);
  tmpMeta1 = stringAppend(_name,_OMC_LIT91);
  tmpMeta2 = stringAppend(tmpMeta1,intString(_uniqueIndex));
  tmpMeta3 = mmc_mk_box3(10, &NFInstNode_InstNode_VAR__NODE__desc, tmpMeta2, omc_Pointer_create(threadData, _OMC_LIT66));
  _node = tmpMeta3;

  tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta5 = mmc_mk_box6(3, &NFComponentRef_CREF__desc, _node, tmpMeta4, _ty, mmc_mk_integer(1), _OMC_LIT53);
  _cref = tmpMeta5;

  _var = omc_NBVariable_fromCref(threadData, _cref, _OMC_LIT57, _OMC_LIT55);

  _var = omc_NBVariable_makeAuxVar_updateBackendInfo(threadData, _var, _makeParam);

  {
    modelica_metatype __omcQ_24tmpVar9;
    modelica_metatype* tmp8;
    modelica_metatype tmpMeta9;
    modelica_metatype __omcQ_24tmpVar8;
    modelica_integer tmp10;
    modelica_metatype _child_loopVar = 0;
    modelica_metatype _child;
    _child_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 8)));
    tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar9 = tmpMeta9; /* defaultValue */
    tmp8 = &__omcQ_24tmpVar9;
    while(1) {
      tmp10 = 1;
      if (!listEmpty(_child_loopVar)) {
        _child = MMC_CAR(_child_loopVar);
        _child_loopVar = MMC_CDR(_child_loopVar);
        tmp10--;
      }
      if (tmp10 == 0) {
        __omcQ_24tmpVar8 = omc_NBVariable_makeAuxVar_updateBackendInfo(threadData, _child, _makeParam);
        *tmp8 = mmc_mk_cons(__omcQ_24tmpVar8,0);
        tmp8 = &MMC_CDR(*tmp8);
      } else if (tmp10 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp8 = mmc_mk_nil();
    tmpMeta7 = __omcQ_24tmpVar9;
  }
  tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[8] = tmpMeta7;
  _var = tmpMeta6;

  _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, _cref ,&_cref);
  _return: OMC_LABEL_UNUSED
  if (out_cref) { *out_cref = _cref; }
  return _var_ptr;
}
modelica_metatype boxptr_NBVariable_makeAuxVar(threadData_t *threadData, modelica_metatype _name, modelica_metatype _uniqueIndex, modelica_metatype _ty, modelica_metatype _makeParam, modelica_metatype *out_cref)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _var_ptr = NULL;
  tmp1 = mmc_unbox_integer(_uniqueIndex);
  tmp2 = mmc_unbox_integer(_makeParam);
  _var_ptr = omc_NBVariable_makeAuxVar(threadData, _name, tmp1, _ty, tmp2, out_cref);
  /* skip box _var_ptr; Pointer<NFVariable> */
  /* skip box _cref; NFComponentRef */
  return _var_ptr;
}

DLLDirection
modelica_metatype omc_NBVariable_makeEventVar(threadData_t *threadData, modelica_string _name, modelica_integer _uniqueIndex, modelica_metatype _var_ty, modelica_metatype _iterator, modelica_metatype *out_cref)
{
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype _node = NULL;
  modelica_metatype _var_cref = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype _iter_crefs = NULL;
  modelica_metatype _iter_subs = NULL;
  modelica_metatype _sub_sizes = NULL;
  modelica_metatype _ty = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var_ptr has no default value.
  // _cref has no default value.
  // _node has no default value.
  // _var_cref has no default value.
  // _var has no default value.
  // _iter_crefs has no default value.
  // _iter_subs has no default value.
  // _sub_sizes has no default value.
  // _ty has no default value.
  _iter_crefs = omc_NBEquation_Iterator_getFrames(threadData, _iterator, NULL, NULL);

  {
    modelica_metatype __omcQ_24tmpVar11;
    modelica_metatype* tmp2;
    modelica_metatype tmpMeta3;
    modelica_metatype __omcQ_24tmpVar10;
    modelica_integer tmp4;
    modelica_metatype _iter_loopVar = 0;
    modelica_metatype _iter;
    _iter_loopVar = _iter_crefs;
    tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar11 = tmpMeta3; /* defaultValue */
    tmp2 = &__omcQ_24tmpVar11;
    while(1) {
      tmp4 = 1;
      if (!listEmpty(_iter_loopVar)) {
        _iter = MMC_CAR(_iter_loopVar);
        _iter_loopVar = MMC_CDR(_iter_loopVar);
        tmp4--;
      }
      if (tmp4 == 0) {
        __omcQ_24tmpVar10 = omc_NFSubscript_fromTypedExp(threadData, omc_NFExpression_fromCref(threadData, _iter, 0 /* false */));
        *tmp2 = mmc_mk_cons(__omcQ_24tmpVar10,0);
        tmp2 = &MMC_CDR(*tmp2);
      } else if (tmp4 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp2 = mmc_mk_nil();
    tmpMeta1 = __omcQ_24tmpVar11;
  }
  _iter_subs = tmpMeta1;

  if(listEmpty(_iter_subs))
  {
    _ty = _var_ty;
  }
  else
  {
    _sub_sizes = omc_NBEquation_Iterator_sizes(threadData, _iterator, 0 /* false */);

    {
      modelica_metatype __omcQ_24tmpVar13;
      modelica_metatype* tmp6;
      modelica_metatype tmpMeta7;
      modelica_metatype __omcQ_24tmpVar12;
      modelica_integer tmp8;
      modelica_metatype _sub_size_loopVar = 0;
      modelica_metatype _sub_size;
      _sub_size_loopVar = _sub_sizes;
      tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar13 = tmpMeta7; /* defaultValue */
      tmp6 = &__omcQ_24tmpVar13;
      while(1) {
        tmp8 = 1;
        if (!listEmpty(_sub_size_loopVar)) {
          _sub_size = MMC_CAR(_sub_size_loopVar);
          _sub_size_loopVar = MMC_CDR(_sub_size_loopVar);
          tmp8--;
        }
        if (tmp8 == 0) {
          __omcQ_24tmpVar12 = omc_NFDimension_fromInteger(threadData, mmc_unbox_integer(_sub_size), 1);
          *tmp6 = mmc_mk_cons(__omcQ_24tmpVar12,0);
          tmp6 = &MMC_CDR(*tmp6);
        } else if (tmp8 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp6 = mmc_mk_nil();
      tmpMeta5 = __omcQ_24tmpVar13;
    }
    _ty = omc_NFType_liftArrayLeftList(threadData, _var_ty, tmpMeta5);
  }

  tmpMeta9 = stringAppend(_name,_OMC_LIT91);
  tmpMeta10 = stringAppend(tmpMeta9,intString(_uniqueIndex));
  tmpMeta11 = mmc_mk_box3(10, &NFInstNode_InstNode_VAR__NODE__desc, tmpMeta10, omc_Pointer_create(threadData, _OMC_LIT66));
  _node = tmpMeta11;

  tmpMeta12 = mmc_mk_box6(3, &NFComponentRef_CREF__desc, _node, _iter_subs, _ty, mmc_mk_integer(1), _OMC_LIT53);
  _cref = tmpMeta12;

  tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta14 = mmc_mk_box6(3, &NFComponentRef_CREF__desc, _node, tmpMeta13, _ty, mmc_mk_integer(1), _OMC_LIT53);
  _var_cref = tmpMeta14;

  _var = omc_NBVariable_fromCref(threadData, _var_cref, _OMC_LIT93, _OMC_LIT55);

  tmpMeta15 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta15), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta15))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _OMC_LIT94);
  _var = tmpMeta15;

  tmpMeta16 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta16), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta16))[11] = omc_NFBackendExtension_BackendInfo_setHideResult(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), 1 /* true */);
  _var = tmpMeta16;

  _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, _cref ,&_cref);
  _return: OMC_LABEL_UNUSED
  if (out_cref) { *out_cref = _cref; }
  return _var_ptr;
}
modelica_metatype boxptr_NBVariable_makeEventVar(threadData_t *threadData, modelica_metatype _name, modelica_metatype _uniqueIndex, modelica_metatype _var_ty, modelica_metatype _iterator, modelica_metatype *out_cref)
{
  modelica_integer tmp1;
  modelica_metatype _var_ptr = NULL;
  tmp1 = mmc_unbox_integer(_uniqueIndex);
  _var_ptr = omc_NBVariable_makeEventVar(threadData, _name, tmp1, _var_ty, _iterator, out_cref);
  /* skip box _var_ptr; Pointer<NFVariable> */
  /* skip box _cref; NFComponentRef */
  return _var_ptr;
}

DLLDirection
modelica_metatype omc_NBVariable_makeResidualVar(threadData_t *threadData, modelica_string _name, modelica_integer _uniqueIndex, modelica_metatype _ty, modelica_metatype *out_cref)
{
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype _node = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype _dims = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var_ptr has no default value.
  // _cref has no default value.
  // _node has no default value.
  // _var has no default value.
  _dims = omc_NFType_arrayDims(threadData, _ty);
  tmpMeta1 = stringAppend(_OMC_LIT95,_name);
  tmpMeta2 = stringAppend(tmpMeta1,_OMC_LIT91);
  tmpMeta3 = stringAppend(tmpMeta2,intString(_uniqueIndex));
  tmpMeta4 = mmc_mk_box3(10, &NFInstNode_InstNode_VAR__NODE__desc, tmpMeta3, omc_Pointer_create(threadData, _OMC_LIT66));
  _node = tmpMeta4;

  tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta6 = mmc_mk_box6(3, &NFComponentRef_CREF__desc, _node, tmpMeta5, _ty, mmc_mk_integer(1), _OMC_LIT53);
  _cref = tmpMeta6;

  _var = omc_NBVariable_fromCref(threadData, _cref, _OMC_LIT57, _OMC_LIT55);

  tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _OMC_LIT96);
  _var = tmpMeta7;

  _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, _cref ,&_cref);
  _return: OMC_LABEL_UNUSED
  if (out_cref) { *out_cref = _cref; }
  return _var_ptr;
}
modelica_metatype boxptr_NBVariable_makeResidualVar(threadData_t *threadData, modelica_metatype _name, modelica_metatype _uniqueIndex, modelica_metatype _ty, modelica_metatype *out_cref)
{
  modelica_integer tmp1;
  modelica_metatype _var_ptr = NULL;
  tmp1 = mmc_unbox_integer(_uniqueIndex);
  _var_ptr = omc_NBVariable_makeResidualVar(threadData, _name, tmp1, _ty, out_cref);
  /* skip box _var_ptr; Pointer<NFVariable> */
  /* skip box _cref; NFComponentRef */
  return _var_ptr;
}

DLLDirection
modelica_metatype omc_NBVariable_makeStartVar(threadData_t *threadData, modelica_metatype _cref, modelica_metatype *out_var_ptr)
{
  modelica_metatype _start_cref = NULL;
  modelica_metatype _var_ptr = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _start_cref has no default value.
  // _var_ptr has no default value.
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = omc_NFComponentRef_node(threadData, _cref);
    {
      modelica_metatype _qual = NULL;
      modelica_metatype _old_var_ptr = NULL;
      modelica_metatype _var = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _qual has no default value.
      // _old_var_ptr has no default value.
      // _var has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,2) == 0) goto tmp2_end;
          
          _qual = tmp3_1;
          /* Pattern matching succeeded */
          _old_var_ptr = omc_NBVariable_getVarPointer(threadData, _cref, _OMC_LIT97);

          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_qual), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[2] = _OMC_LIT98;
          _qual = tmpMeta5;

          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          _start_cref = omc_NFComponentRef_append(threadData, _cref, omc_NFComponentRef_fromNode(threadData, _qual, omc_NFComponentRef_scalarType(threadData, _cref), tmpMeta6, 1));

          _var = omc_NBVariable_fromCref(threadData, _start_cref, omc_NFVariable_attributes(threadData, omc_NBVariable_getVar(threadData, _cref, _OMC_LIT99)), _OMC_LIT55);

          tmpMeta8 = mmc_mk_box2(18, &NFBackendExtension_VariableKind_START__desc, _old_var_ptr);
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), tmpMeta8);
          _var = tmpMeta7;

          _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, _start_cref ,&_start_cref);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          
          /* Pattern matching succeeded */
          tmpMeta10 = stringAppend(_OMC_LIT100,omc_NFComponentRef_toString(threadData, _cref));
          tmpMeta9 = mmc_mk_cons(tmpMeta10, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta9);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_var_ptr) { *out_var_ptr = _var_ptr; }
  return _start_cref;
}

DLLDirection
modelica_metatype omc_NBVariable_makeFDerVar(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref)
{
  modelica_metatype _cref = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cref = __omcQ_24in_5Fcref;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = omc_NFComponentRef_node(threadData, _cref);
    {
      modelica_metatype _qual = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _qual has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,6) == 0) goto tmp3_end;
          
          _qual = tmp4_1;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(8));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_qual), 8*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[2] = omc_NBBackendUtil_makeFDerString(threadData, omc_NFComponentRef_toString(threadData, _cref), mmc_mk_none());
          _qual = tmpMeta6;
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = omc_NFComponentRef_fromNode(threadData, _qual, omc_NFComponentRef_nodeType(threadData, _cref), tmpMeta7, 1);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,7) == 0) goto tmp3_end;
          
          _qual = tmp4_1;
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_qual), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[2] = omc_NBBackendUtil_makeFDerString(threadData, omc_NFComponentRef_toString(threadData, _cref), mmc_mk_none());
          _qual = tmpMeta8;
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = omc_NFComponentRef_fromNode(threadData, _qual, omc_NFComponentRef_nodeType(threadData, _cref), tmpMeta9, 1);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          
          /* Pattern matching succeeded */
          tmpMeta11 = stringAppend(_OMC_LIT101,omc_NFComponentRef_toString(threadData, _cref));
          tmpMeta10 = mmc_mk_cons(tmpMeta11, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta10);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _cref = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _cref;
}

DLLDirection
modelica_metatype omc_NBVariable_makePDerVar(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_string _name, modelica_boolean _isTmp, modelica_metatype *out_var_ptr)
{
  modelica_metatype _cref = NULL;
  modelica_metatype _var_ptr = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cref = __omcQ_24in_5Fcref;
  // _var_ptr has no default value.
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = omc_NFComponentRef_node(threadData, _cref);
    {
      modelica_metatype _qual = NULL;
      modelica_metatype _res_ptr = NULL;
      modelica_metatype _ovar = NULL;
      modelica_metatype _varKind = NULL;
      modelica_metatype _var = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _qual has no default value.
      // _res_ptr has no default value.
      // _ovar has no default value.
      // _varKind has no default value.
      // _var has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,2) == 0) goto tmp2_end;
          
          _qual = tmp3_1;
          /* Pattern matching succeeded */
          _res_ptr = omc_NBVariable_getVarPointer(threadData, _cref, _OMC_LIT102);

          _ovar = omc_NBVariable_getVarPDer(threadData, _res_ptr, NULL);

          if(isSome(_ovar))
          {
            _var_ptr = omc_Util_getOption(threadData, _ovar);

            _cref = omc_NBVariable_getVarName(threadData, _var_ptr);
          }
          else
          {
            tmpMeta6 = stringAppend(_OMC_LIT103,_name);
            tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(4));
            memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_qual), 4*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[2] = tmpMeta6;
            _qual = tmpMeta5;

            tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
            _cref = omc_NFComponentRef_append(threadData, _cref, omc_NFComponentRef_fromNode(threadData, _qual, omc_NFComponentRef_scalarType(threadData, _cref), tmpMeta7, 1));

            _var = omc_NBVariable_fromCref(threadData, _cref, omc_NFVariable_attributes(threadData, omc_Pointer_access(threadData, _res_ptr)), _OMC_LIT55);

            { /* match expression */
              modelica_metatype tmp11_1;
              tmp11_1 = omc_NBVariable_getVarKind(threadData, _res_ptr);
              {
                volatile mmc_switch_type tmp11;
                int tmp12;
                tmp11 = 0;
                for (; tmp11 < 2; tmp11++) {
                  switch (MMC_SWITCH_CAST(tmp11)) {
                  case 0: {
                    modelica_metatype tmpMeta13;
                    modelica_metatype tmpMeta14;
                    if (mmc__uniontype__metarecord__typedef__equal(tmp11_1,14,3) == 0) goto tmp10_end;
                    
                    _varKind = tmp11_1;
                    /* Pattern matching succeeded */
                    tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
                    tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(5));
                    memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_varKind), 5*sizeof(modelica_metatype));
                    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[2] = tmpMeta14;
                    _varKind = tmpMeta13;
                    tmpMeta8 = _varKind;
                    goto tmp10_done;
                  }
                  case 1: {
                    
                    /* Pattern matching succeeded */
                    tmpMeta8 = (_isTmp?_OMC_LIT104:_OMC_LIT105);
                    goto tmp10_done;
                  }
                  }
                  goto tmp10_end;
                  tmp10_end: ;
                }
                goto goto_9;
                goto_9:;
                goto goto_1;
                goto tmp10_done;
                tmp10_done:;
              }
            }
            _varKind = tmpMeta8;

            tmpMeta15 = MMC_TAGPTR(mmc_alloc_words(12));
            memcpy(MMC_UNTAGPTR(tmpMeta15), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta15))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _varKind);
            _var = tmpMeta15;

            _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, _cref ,&_cref);

            omc_NBVariable_connectPartners(threadData, _res_ptr, _var_ptr, boxvar_NFBackendExtension_BackendInfo_setVarPDer);
          }
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          
          /* Pattern matching succeeded */
          tmpMeta17 = stringAppend(_OMC_LIT106,omc_NFComponentRef_toString(threadData, _cref));
          tmpMeta16 = mmc_mk_cons(tmpMeta17, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta16);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_var_ptr) { *out_var_ptr = _var_ptr; }
  return _cref;
}
modelica_metatype boxptr_NBVariable_makePDerVar(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_metatype _name, modelica_metatype _isTmp, modelica_metatype *out_var_ptr)
{
  modelica_integer tmp1;
  modelica_metatype _cref = NULL;
  tmp1 = mmc_unbox_integer(_isTmp);
  _cref = omc_NBVariable_makePDerVar(threadData, __omcQ_24in_5Fcref, _name, tmp1, out_var_ptr);
  /* skip box _cref; NFComponentRef */
  /* skip box _var_ptr; Pointer<NFVariable> */
  return _cref;
}

DLLDirection
modelica_metatype omc_NBVariable_makeSeedVar(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcref, modelica_string _name, modelica_metatype *out_var_ptr)
{
  modelica_metatype _cref = NULL;
  modelica_metatype _var_ptr = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _cref = __omcQ_24in_5Fcref;
  // _var_ptr has no default value.
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = omc_NFComponentRef_node(threadData, _cref);
    {
      modelica_metatype _qual = NULL;
      modelica_metatype _old_var_ptr = NULL;
      modelica_metatype _ovar = NULL;
      modelica_metatype _var = NULL;
      modelica_metatype _varKind = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _qual has no default value.
      // _old_var_ptr has no default value.
      // _ovar has no default value.
      // _var has no default value.
      // _varKind has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,2) == 0) goto tmp2_end;
          
          _qual = tmp3_1;
          /* Pattern matching succeeded */
          _old_var_ptr = omc_NBVariable_getVarPointer(threadData, _cref, _OMC_LIT107);

          _ovar = omc_NBVariable_getVarSeed(threadData, _old_var_ptr, NULL);

          if(isSome(_ovar))
          {
            _var_ptr = omc_Util_getOption(threadData, _ovar);

            _cref = omc_NBVariable_getVarName(threadData, _var_ptr);
          }
          else
          {
            tmpMeta6 = stringAppend(_OMC_LIT108,_name);
            tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(4));
            memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_qual), 4*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[2] = tmpMeta6;
            _qual = tmpMeta5;

            tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
            _cref = omc_NFComponentRef_append(threadData, _cref, omc_NFComponentRef_fromNode(threadData, _qual, omc_NFComponentRef_scalarType(threadData, _cref), tmpMeta7, 1));

            _var = omc_NBVariable_fromCref(threadData, _cref, _OMC_LIT93, _OMC_LIT55);

            { /* match expression */
              modelica_metatype tmp11_1;
              tmp11_1 = omc_NBVariable_getVarKind(threadData, _old_var_ptr);
              {
                volatile mmc_switch_type tmp11;
                int tmp12;
                tmp11 = 0;
                for (; tmp11 < 2; tmp11++) {
                  switch (MMC_SWITCH_CAST(tmp11)) {
                  case 0: {
                    modelica_metatype tmpMeta13;
                    modelica_metatype tmpMeta14;
                    if (mmc__uniontype__metarecord__typedef__equal(tmp11_1,14,3) == 0) goto tmp10_end;
                    
                    _varKind = tmp11_1;
                    /* Pattern matching succeeded */
                    tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
                    tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(5));
                    memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_varKind), 5*sizeof(modelica_metatype));
                    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[2] = tmpMeta14;
                    _varKind = tmpMeta13;
                    tmpMeta8 = _varKind;
                    goto tmp10_done;
                  }
                  case 1: {
                    
                    /* Pattern matching succeeded */
                    tmpMeta8 = _OMC_LIT109;
                    goto tmp10_done;
                  }
                  }
                  goto tmp10_end;
                  tmp10_end: ;
                }
                goto goto_9;
                goto_9:;
                goto goto_1;
                goto tmp10_done;
                tmp10_done:;
              }
            }
            _varKind = tmpMeta8;

            tmpMeta15 = MMC_TAGPTR(mmc_alloc_words(12));
            memcpy(MMC_UNTAGPTR(tmpMeta15), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta15))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _varKind);
            _var = tmpMeta15;

            _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, _cref ,&_cref);

            omc_NBVariable_connectPartners(threadData, _old_var_ptr, _var_ptr, boxvar_NFBackendExtension_BackendInfo_setVarSeed);
          }
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          
          /* Pattern matching succeeded */
          tmpMeta17 = stringAppend(_OMC_LIT110,omc_NFComponentRef_toString(threadData, _cref));
          tmpMeta16 = mmc_mk_cons(tmpMeta17, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta16);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_var_ptr) { *out_var_ptr = _var_ptr; }
  return _cref;
}

DLLDirection
modelica_metatype omc_NBVariable_makePreVar(threadData_t *threadData, modelica_metatype _cref, modelica_metatype *out_pre_ptr)
{
  modelica_metatype _pre_cref = NULL;
  modelica_metatype _pre_ptr = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _pre_cref has no default value.
  // _pre_ptr has no default value.
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = omc_NFComponentRef_node(threadData, _cref);
    {
      modelica_metatype _qual = NULL;
      modelica_metatype _var_ptr = NULL;
      modelica_metatype _pre = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _qual has no default value.
      // _var_ptr has no default value.
      // _pre has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,2) == 0) goto tmp2_end;
          
          _qual = tmp3_1;
          /* Pattern matching succeeded */
          _var_ptr = omc_NBVariable_getVarPointer(threadData, _cref, _OMC_LIT111);

          tmpMeta5 = MMC_TAGPTR(mmc_alloc_words(4));
          memcpy(MMC_UNTAGPTR(tmpMeta5), MMC_UNTAGPTR(_qual), 4*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta5))[2] = _OMC_LIT112;
          _qual = tmpMeta5;

          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          _pre_cref = omc_NFComponentRef_append(threadData, _cref, omc_NFComponentRef_fromNode(threadData, _qual, omc_NFComponentRef_scalarType(threadData, _cref), tmpMeta6, 1));

          _pre = omc_NBVariable_fromCref(threadData, _pre_cref, omc_NFVariable_attributes(threadData, omc_Pointer_access(threadData, _var_ptr)), _OMC_LIT55);

          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_pre), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_pre), 11))), _OMC_LIT113);
          _pre = tmpMeta7;

          _pre_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _pre, _pre_cref ,&_pre_cref);

          omc_NBVariable_connectPartners(threadData, _var_ptr, _pre_ptr, boxvar_NFBackendExtension_BackendInfo_setVarPre);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          
          /* Pattern matching succeeded */
          tmpMeta9 = stringAppend(_OMC_LIT114,omc_NFComponentRef_toString(threadData, _cref));
          tmpMeta8 = mmc_mk_cons(tmpMeta9, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta8);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_pre_ptr) { *out_pre_ptr = _pre_ptr; }
  return _pre_cref;
}

DLLDirection
void omc_NBVariable_makeDiscreteStateVar(threadData_t *threadData, modelica_metatype _varPointer)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = omc_Pointer_access(threadData, _varPointer);
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _OMC_LIT115);
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _varPointer, _var);
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_metatype omc_NBVariable_makeDummyState(threadData_t *threadData, modelica_metatype _varPointer)
{
  modelica_metatype _derivative = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _derivative has no default value.
  // _var has no default value.
  _var = omc_Pointer_access(threadData, _varPointer);

  { /* match expression */
    modelica_metatype tmp5_1;
    tmp5_1 = omc_NFBackendExtension_BackendInfo_getVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))));
    {
      modelica_metatype _der_var = NULL;
      volatile mmc_switch_type tmp5;
      int tmp6;
      // _der_var has no default value.
      tmp5 = 0;
      for (; tmp5 < 3; tmp5++) {
        switch (MMC_SWITCH_CAST(tmp5)) {
        case 0: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,2,3) == 0) goto tmp4_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 3));
          if (optionNone(tmpMeta7)) goto tmp4_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          
          _derivative = tmpMeta8;
          /* Pattern matching succeeded */
          _der_var = omc_Pointer_access(threadData, _derivative);

          tmpMeta10 = mmc_mk_box2(7, &NFBackendExtension_VariableKind_DUMMY__DER__desc, _varPointer);
          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_der_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_der_var), 11))), tmpMeta10);
          _der_var = tmpMeta9;

          omc_Pointer_update(threadData, _derivative, _der_var);
          tmpMeta11 = mmc_mk_box2(8, &NFBackendExtension_VariableKind_DUMMY__STATE__desc, _derivative);
          tmpMeta2 = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), tmpMeta11);
          goto tmp4_done;
        }
        case 1: {
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,5,1) == 0) goto tmp4_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 2));
          _derivative = tmpMeta12;
          /* Pattern matching succeeded */
          tmpMeta2 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)));
          goto tmp4_done;
        }
        case 2: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          
          /* Pattern matching succeeded */
          tmpMeta14 = stringAppend(_OMC_LIT116,omc_NFComponentRef_toString(threadData, omc_NBVariable_getVarName(threadData, _varPointer)));
          tmpMeta15 = stringAppend(tmpMeta14,_OMC_LIT117);
          tmpMeta13 = mmc_mk_cons(tmpMeta15, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta13);
          goto goto_3;
          goto tmp4_done;
        }
        }
        goto tmp4_end;
        tmp4_end: ;
      }
      goto goto_3;
      goto_3:;
      MMC_THROW_INTERNAL();
      goto tmp4_done;
      tmp4_done:;
    }
  }
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[11] = tmpMeta2;
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _varPointer, _var);
  _return: OMC_LABEL_UNUSED
  return _derivative;
}

DLLDirection
modelica_metatype omc_NBVariable_getRecordChildrenCrefOrSelf(threadData_t *threadData, modelica_metatype _cref)
{
  modelica_metatype _children = NULL;
  modelica_metatype tmpMeta1;
  modelica_boolean tmp2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _children = omc_NBVariable_getRecordChildrenCref(threadData, _cref);
  tmp2 = (modelica_boolean)listEmpty(_children);
  if(tmp2)
  {
    tmpMeta1 = mmc_mk_cons(_cref, MMC_REFSTRUCTLIT(mmc_nil));
    tmpMeta3 = tmpMeta1;
  }
  else
  {
    tmpMeta3 = _children;
  }
  _children = tmpMeta3;
  _return: OMC_LABEL_UNUSED
  return _children;
}

DLLDirection
modelica_metatype omc_NBVariable_getRecordChildrenCref(threadData_t *threadData, modelica_metatype _cref)
{
  modelica_metatype _children = NULL;
  modelica_metatype _subscripts = NULL;
  modelica_metatype _arg_children = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _children has no default value.
  // _subscripts has no default value.
  // _arg_children has no default value.
  _subscripts = omc_NFComponentRef_subscriptsAllFlat(threadData, _cref);

  _arg_children = omc_NBVariable_getRecordChildren(threadData, omc_NBVariable_getVarPointer(threadData, _cref, _OMC_LIT118));

  {
    modelica_metatype __omcQ_24tmpVar15;
    modelica_metatype* tmp2;
    modelica_metatype tmpMeta3;
    modelica_metatype __omcQ_24tmpVar14;
    modelica_integer tmp4;
    modelica_metatype _child_loopVar = 0;
    modelica_metatype _child;
    _child_loopVar = _arg_children;
    tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar15 = tmpMeta3; /* defaultValue */
    tmp2 = &__omcQ_24tmpVar15;
    while(1) {
      tmp4 = 1;
      if (!listEmpty(_child_loopVar)) {
        _child = MMC_CAR(_child_loopVar);
        _child_loopVar = MMC_CDR(_child_loopVar);
        tmp4--;
      }
      if (tmp4 == 0) {
        __omcQ_24tmpVar14 = omc_NFComponentRef_mergeSubscripts(threadData, _subscripts, omc_NBVariable_getVarName(threadData, _child), 1 /* true */, 1 /* true */);
        *tmp2 = mmc_mk_cons(__omcQ_24tmpVar14,0);
        tmp2 = &MMC_CDR(*tmp2);
      } else if (tmp4 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp2 = mmc_mk_nil();
    tmpMeta1 = __omcQ_24tmpVar15;
  }
  _children = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _children;
}

DLLDirection
modelica_metatype omc_NBVariable_getRecordChildren(threadData_t *threadData, modelica_metatype _var)
{
  modelica_metatype _children = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _children has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = omc_Pointer_access(threadData, _var);
    {
      modelica_metatype _varKind = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _varKind has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,14,3) == 0) goto tmp3_end;
          
          _varKind = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varKind), 2)));
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta8;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _children = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _children;
}

DLLDirection
void omc_NBVariable_setRecordChildren(threadData_t *threadData, modelica_metatype _var_ptr, modelica_metatype _children)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _var;
    {
      modelica_metatype _varKind = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _varKind has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,14,3) == 0) goto tmp3_end;
          
          _varKind = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_varKind), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[2] = _children;
          _varKind = tmpMeta8;

          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _varKind);
          _var = tmpMeta9;
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          
          /* Pattern matching succeeded */
          tmpMeta11 = stringAppend(_OMC_LIT119,omc_NFComponentRef_toString(threadData, omc_NBVariable_getVarName(threadData, _var_ptr)));
          tmpMeta12 = stringAppend(tmpMeta11,_OMC_LIT120);
          tmpMeta10 = mmc_mk_cons(tmpMeta12, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta10);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _var_ptr, _var);
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
void omc_NBVariable_addRecordChild(threadData_t *threadData, modelica_metatype _var_ptr, modelica_metatype _child)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _var;
    {
      modelica_metatype _varKind = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _varKind has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,14,3) == 0) goto tmp3_end;
          
          _varKind = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_cons(_child, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_varKind), 2))));
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(5));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_varKind), 5*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[2] = tmpMeta9;
          _varKind = tmpMeta8;

          tmpMeta10 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta10), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta10))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _varKind);
          _var = tmpMeta10;
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          
          /* Pattern matching succeeded */
          tmpMeta12 = stringAppend(_OMC_LIT121,omc_NFComponentRef_toString(threadData, omc_NBVariable_getVarName(threadData, _child)));
          tmpMeta13 = stringAppend(tmpMeta12,_OMC_LIT122);
          tmpMeta14 = stringAppend(tmpMeta13,omc_NFComponentRef_toString(threadData, omc_NBVariable_getVarName(threadData, _var_ptr)));
          tmpMeta15 = stringAppend(tmpMeta14,_OMC_LIT120);
          tmpMeta11 = mmc_mk_cons(tmpMeta15, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta11);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _var_ptr, _var);
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_boolean omc_NBVariable_hasDerVar(threadData_t *threadData, modelica_metatype _state_var)
{
  modelica_boolean _b;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = omc_Pointer_access(threadData, _state_var);
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,2,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_hasDerVar(threadData_t *threadData, modelica_metatype _state_var)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_hasDerVar(threadData, _state_var);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_metatype omc_NBVariable_makeDerVar(threadData_t *threadData, modelica_metatype _cref, modelica_boolean _scalarized, modelica_metatype *out_var_ptr)
{
  modelica_metatype _der_cref = NULL;
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _state_cref = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _der_cref has no default value.
  // _var_ptr has no default value.
  _state_cref = (_scalarized?_cref:omc_NFComponentRef_stripSubscriptsAll(threadData, _cref));
  { /* match expression */
    modelica_metatype tmp17_1;
    tmp17_1 = omc_NFComponentRef_node(threadData, _state_cref);
    {
      modelica_metatype _derNode = NULL;
      modelica_metatype _state = NULL;
      modelica_metatype _dummy_ptr = NULL;
      modelica_metatype tmpMeta2;
      modelica_metatype tmpMeta3;
      modelica_metatype tmpMeta4;
      modelica_metatype tmpMeta5;
      modelica_metatype tmpMeta6;
      modelica_metatype tmpMeta7;
      modelica_metatype tmpMeta8;
      modelica_metatype tmpMeta9;
      modelica_metatype tmpMeta10;
      modelica_metatype tmpMeta11;
      modelica_metatype tmpMeta12;
      modelica_metatype tmpMeta13;
      modelica_metatype tmpMeta14;
      modelica_metatype tmpMeta15;
      modelica_metatype _var = NULL;
      volatile mmc_switch_type tmp17;
      int tmp18;
      // _derNode has no default value.
      // _state has no default value.
      tmpMeta2 = mmc_mk_box1(4, &NFComponentRef_EMPTY__desc);
      tmpMeta3 = mmc_mk_box1(18, &NFType_ANY__desc);
      tmpMeta4 = mmc_mk_box1(3, &NFBinding_UNBOUND__desc);
      tmpMeta5 = mmc_mk_box1(4, &NFPrefixes_Replaceable_NOT__REPLACEABLE__desc);
      tmpMeta6 = mmc_mk_box10(3, &NFAttributes_ATTRIBUTES__desc, mmc_mk_integer(((modelica_integer) 0)), mmc_mk_integer(1), mmc_mk_integer(7), mmc_mk_integer(1), mmc_mk_integer(1), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), tmpMeta5, mmc_mk_boolean(0 /* false */));
      tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta9 = mmc_mk_box3(3, &SCode_Comment_COMMENT__desc, mmc_mk_none(), mmc_mk_none());
      tmpMeta10 = mmc_mk_box8(3, &SourceInfo_SOURCEINFO__desc, (modelica_string) mmc_emptystring, mmc_mk_boolean(0 /* false */), mmc_mk_integer(((modelica_integer) 0)), mmc_mk_integer(((modelica_integer) 0)), mmc_mk_integer(((modelica_integer) 0)), mmc_mk_integer(((modelica_integer) 0)), mmc_mk_real(0.0));
      tmpMeta11 = mmc_mk_box1(35, &NFBackendExtension_VariableKind_FRONTEND__DUMMY__desc);
      tmpMeta12 = mmc_mk_box17(3, &NFBackendExtension_VariableAttributes_VAR__ATTR__REAL__desc, mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none());
      tmpMeta13 = mmc_mk_box3(3, &NFBackendExtension_Annotations_ANNOTATIONS__desc, mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */));
      tmpMeta14 = mmc_mk_box8(3, &NFBackendExtension_BackendInfo_BACKEND__INFO__desc, tmpMeta11, tmpMeta12, tmpMeta13, mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none());
      tmpMeta15 = mmc_mk_box11(3, &NFVariable_VARIABLE__desc, tmpMeta2, tmpMeta3, tmpMeta4, mmc_mk_integer(1), tmpMeta6, tmpMeta7, tmpMeta8, tmpMeta9, tmpMeta10, tmpMeta14);
      _dummy_ptr = omc_Pointer_create(threadData, tmpMeta15);
      // _var has no default value.
      tmp17 = 0;
      for (; tmp17 < 2; tmp17++) {
        switch (MMC_SWITCH_CAST(tmp17)) {
        case 0: {
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          if (mmc__uniontype__metarecord__typedef__equal(tmp17_1,7,2) == 0) goto tmp16_end;
          
          /* Pattern matching succeeded */
          _state = omc_NBVariable_getVarPointer(threadData, _state_cref, _OMC_LIT123);

          tmpMeta19 = mmc_mk_box3(10, &NFInstNode_InstNode_VAR__NODE__desc, _OMC_LIT124, _dummy_ptr);
          _derNode = tmpMeta19;

          tmpMeta20 = MMC_REFSTRUCTLIT(mmc_nil);
          _der_cref = omc_NFComponentRef_append(threadData, _state_cref, omc_NFComponentRef_fromNode(threadData, _derNode, omc_NFComponentRef_scalarType(threadData, _state_cref), tmpMeta20, 1));

          _var = omc_NBVariable_fromCref(threadData, omc_NFComponentRef_stripSubscriptsAll(threadData, _der_cref), omc_NFVariable_attributes(threadData, omc_Pointer_access(threadData, _state)), _OMC_LIT55);

          tmpMeta22 = mmc_mk_box3(6, &NFBackendExtension_VariableKind_STATE__DER__desc, _state, mmc_mk_none());
          tmpMeta21 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta21), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta21))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), tmpMeta22);
          _var = tmpMeta21;

          _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, _der_cref ,&_der_cref);

          if((!_scalarized))
          {
            _der_cref = omc_NFComponentRef_copySubscripts(threadData, _cref, _der_cref);
          }
          goto tmp16_done;
        }
        case 1: {
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          
          /* Pattern matching succeeded */
          tmpMeta24 = stringAppend(_OMC_LIT125,omc_NFComponentRef_toString(threadData, _cref));
          tmpMeta23 = mmc_mk_cons(tmpMeta24, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta23);
          goto goto_1;
          goto tmp16_done;
        }
        }
        goto tmp16_end;
        tmp16_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp16_done;
      tmp16_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_var_ptr) { *out_var_ptr = _var_ptr; }
  return _der_cref;
}
modelica_metatype boxptr_NBVariable_makeDerVar(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _scalarized, modelica_metatype *out_var_ptr)
{
  modelica_integer tmp1;
  modelica_metatype _der_cref = NULL;
  tmp1 = mmc_unbox_integer(_scalarized);
  _der_cref = omc_NBVariable_makeDerVar(threadData, _cref, tmp1, out_var_ptr);
  /* skip box _der_cref; NFComponentRef */
  /* skip box _var_ptr; Pointer<NFVariable> */
  return _der_cref;
}

DLLDirection
void omc_NBVariable_makeAlgStateVar(threadData_t *threadData, modelica_metatype _varPointer)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  if(omc_NBVariable_isAlgebraic(threadData, _varPointer))
  {
    _var = omc_Pointer_access(threadData, _varPointer);

    tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
    memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _OMC_LIT126);
    _var = tmpMeta1;

    omc_Pointer_update(threadData, _varPointer, _var);
  }
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
void omc_NBVariable_setStateDerivativeVar(threadData_t *threadData, modelica_metatype _varPointer, modelica_metatype _derivative)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  _var = omc_Pointer_access(threadData, _varPointer);

  tmpMeta2 = mmc_mk_box4(5, &NFBackendExtension_VariableKind_STATE__desc, mmc_mk_integer(((modelica_integer) 1)), mmc_mk_some(_derivative), mmc_mk_boolean(1 /* true */));
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), tmpMeta2);
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _varPointer, _var);
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_metatype omc_NBVariable_createTimeVar(threadData_t *threadData)
{
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var_ptr has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta3 = mmc_mk_box6(6, &NFClassTree_ClassTree_FLAT__TREE__desc, _OMC_LIT173, listArray(tmpMeta1), _OMC_LIT235, listArray(tmpMeta2), _OMC_LIT236);
  tmpMeta4 = mmc_mk_box6(5, &NFClass_PARTIAL__BUILTIN__desc, _OMC_LIT89, tmpMeta3, _OMC_LIT175, _OMC_LIT237, _OMC_LIT238);
  tmpMeta5 = mmc_mk_box8(3, &NFInstNode_InstNode_CLASS__NODE__desc, _OMC_LIT128, _OMC_LIT139, mmc_mk_integer(1), mmc_mk_some(tmpMeta4), _OMC_LIT241, _OMC_LIT178, _OMC_LIT242);
  tmpMeta6 = mmc_mk_box9(4, &NFComponent_COMPONENT__desc, tmpMeta5, _OMC_LIT89, _OMC_LIT55, _OMC_LIT55, _OMC_LIT243, _OMC_LIT58, mmc_mk_integer(4), _OMC_LIT61);
  tmpMeta7 = mmc_mk_box7(4, &NFInstNode_InstNode_COMPONENT__NODE__desc, _OMC_LIT127, mmc_mk_none(), mmc_mk_integer(1), mmc_mk_some(tmpMeta6), _OMC_LIT178, _OMC_LIT179);
  tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta9 = mmc_mk_box6(3, &NFComponentRef_CREF__desc, tmpMeta7, tmpMeta8, _OMC_LIT89, mmc_mk_integer(1), _OMC_LIT53);
  tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta12 = mmc_mk_box11(3, &NFVariable_VARIABLE__desc, tmpMeta9, _OMC_LIT89, _OMC_LIT55, mmc_mk_integer(1), _OMC_LIT57, tmpMeta10, tmpMeta11, _OMC_LIT58, _OMC_LIT61, _OMC_LIT245);
  _var = tmpMeta12;
  _var_ptr = omc_NBVariable_makeVarPtrCyclic(threadData, _var, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), NULL);
  _return: OMC_LABEL_UNUSED
  return _var_ptr;
}

DLLDirection
modelica_boolean omc_NBVariable_isClockAlias(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = omc_StringUtil_startsWith(threadData, omc_NFComponentRef_firstName(threadData, omc_NBVariable_getVarName(threadData, _var_ptr), 0 /* false */), _OMC_LIT246);
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isClockAlias(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isClockAlias(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isFunctionAlias(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = omc_StringUtil_startsWith(threadData, omc_NFComponentRef_firstName(threadData, omc_NBVariable_getVarName(threadData, _var_ptr), 0 /* false */), _OMC_LIT247);
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isFunctionAlias(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isFunctionAlias(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isArtificial(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = omc_StringUtil_startsWith(threadData, omc_NFComponentRef_firstName(threadData, omc_NBVariable_getVarName(threadData, _var_ptr), 0 /* false */), _OMC_LIT248);
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isArtificial(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isArtificial(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isDummyVariable(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,32,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isDummyVariable(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isDummyVariable(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_metatype omc_NBVariable_getParent(threadData_t *threadData, modelica_metatype _varPointer)
{
  modelica_metatype _parent = NULL;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _parent has no default value.
  _var = omc_Pointer_access(threadData, _varPointer);
  _parent = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 8)));
  _return: OMC_LABEL_UNUSED
  return _parent;
}

DLLDirection
modelica_metatype omc_NBVariable_setParent(threadData_t *threadData, modelica_metatype __omcQ_24in_5FvarPointer, modelica_metatype _parent)
{
  modelica_metatype _varPointer = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _varPointer = __omcQ_24in_5FvarPointer;
  _var = omc_Pointer_access(threadData, _varPointer);
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[11] = omc_NFBackendExtension_BackendInfo_setParent(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _parent);
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _varPointer, _var);
  _return: OMC_LABEL_UNUSED
  return _varPointer;
}

DLLDirection
void omc_NBVariable_setVarKind(threadData_t *threadData, modelica_metatype _varPointer, modelica_metatype _varKind)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  _var = omc_Pointer_access(threadData, _varPointer);

  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[11] = omc_NFBackendExtension_BackendInfo_setVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), _varKind);
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _varPointer, _var);
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_metatype omc_NBVariable_setTearingSelect(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_integer _tearingSelect_val, modelica_boolean _overwrite)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = __omcQ_24in_5Fvar;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _var;
    {
      modelica_metatype _backendinfo = NULL;
      modelica_metatype _variableAttributes = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _backendinfo has no default value.
      // _variableAttributes has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          
          _backendinfo = tmpMeta6;
          _variableAttributes = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_backendinfo), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[3] = omc_NFBackendExtension_VariableAttributes_setTearingSelect(threadData, _variableAttributes, (modelica_integer)_tearingSelect_val, _overwrite);
          _backendinfo = tmpMeta8;

          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[11] = _backendinfo;
          _var = tmpMeta9;
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var;
}
modelica_metatype boxptr_NBVariable_setTearingSelect(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _tearingSelect_val, modelica_metatype _overwrite)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _var = NULL;
  tmp1 = mmc_unbox_integer(_tearingSelect_val);
  tmp2 = mmc_unbox_integer(_overwrite);
  _var = omc_NBVariable_setTearingSelect(threadData, __omcQ_24in_5Fvar, tmp1, tmp2);
  /* skip box _var; NFVariable */
  return _var;
}

DLLDirection
modelica_metatype omc_NBVariable_setStateSelect(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_integer _stateSelect_val, modelica_boolean _overwrite)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = __omcQ_24in_5Fvar;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _var;
    {
      modelica_metatype _backendinfo = NULL;
      modelica_metatype _variableAttributes = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _backendinfo has no default value.
      // _variableAttributes has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          
          _backendinfo = tmpMeta6;
          _variableAttributes = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_backendinfo), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[3] = omc_NFBackendExtension_VariableAttributes_setStateSelect(threadData, _variableAttributes, (modelica_integer)_stateSelect_val, _overwrite);
          _backendinfo = tmpMeta8;

          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[11] = _backendinfo;
          _var = tmpMeta9;
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var;
}
modelica_metatype boxptr_NBVariable_setStateSelect(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _stateSelect_val, modelica_metatype _overwrite)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _var = NULL;
  tmp1 = mmc_unbox_integer(_stateSelect_val);
  tmp2 = mmc_unbox_integer(_overwrite);
  _var = omc_NBVariable_setStateSelect(threadData, __omcQ_24in_5Fvar, tmp1, tmp2);
  /* skip box _var; NFVariable */
  return _var;
}

DLLDirection
modelica_metatype omc_NBVariable_setStartAttribute(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _start_val, modelica_boolean _overwrite)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = __omcQ_24in_5Fvar;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _var;
    {
      modelica_metatype _backendinfo = NULL;
      modelica_metatype _variableAttributes = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _backendinfo has no default value.
      // _variableAttributes has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          
          _backendinfo = tmpMeta6;
          _variableAttributes = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_backendinfo), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[3] = omc_NFBackendExtension_VariableAttributes_setStartAttribute(threadData, _variableAttributes, _start_val, _overwrite);
          _backendinfo = tmpMeta8;

          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[11] = _backendinfo;
          _var = tmpMeta9;
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var;
}
modelica_metatype boxptr_NBVariable_setStartAttribute(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _start_val, modelica_metatype _overwrite)
{
  modelica_integer tmp1;
  modelica_metatype _var = NULL;
  tmp1 = mmc_unbox_integer(_overwrite);
  _var = omc_NBVariable_setStartAttribute(threadData, __omcQ_24in_5Fvar, _start_val, tmp1);
  /* skip box _var; NFVariable */
  return _var;
}

DLLDirection
modelica_metatype omc_NBVariable_setMax(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _max_val, modelica_boolean _overwrite)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = __omcQ_24in_5Fvar;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _var;
    {
      modelica_metatype _backendinfo = NULL;
      modelica_metatype _variableAttributes = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _backendinfo has no default value.
      // _variableAttributes has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          
          _backendinfo = tmpMeta6;
          _variableAttributes = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_backendinfo), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[3] = omc_NFBackendExtension_VariableAttributes_setMax(threadData, _variableAttributes, _max_val, _overwrite);
          _backendinfo = tmpMeta8;

          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[11] = _backendinfo;
          _var = tmpMeta9;
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var;
}
modelica_metatype boxptr_NBVariable_setMax(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _max_val, modelica_metatype _overwrite)
{
  modelica_integer tmp1;
  modelica_metatype _var = NULL;
  tmp1 = mmc_unbox_integer(_overwrite);
  _var = omc_NBVariable_setMax(threadData, __omcQ_24in_5Fvar, _max_val, tmp1);
  /* skip box _var; NFVariable */
  return _var;
}

DLLDirection
modelica_metatype omc_NBVariable_setMin(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _min_val, modelica_boolean _overwrite)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = __omcQ_24in_5Fvar;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _var;
    {
      modelica_metatype _backendinfo = NULL;
      modelica_metatype _variableAttributes = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _backendinfo has no default value.
      // _variableAttributes has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          
          _backendinfo = tmpMeta6;
          _variableAttributes = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_backendinfo), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[3] = omc_NFBackendExtension_VariableAttributes_setMin(threadData, _variableAttributes, _min_val, _overwrite);
          _backendinfo = tmpMeta8;

          tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[11] = _backendinfo;
          _var = tmpMeta9;
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var;
}
modelica_metatype boxptr_NBVariable_setMin(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _min_val, modelica_metatype _overwrite)
{
  modelica_integer tmp1;
  modelica_metatype _var = NULL;
  tmp1 = mmc_unbox_integer(_overwrite);
  _var = omc_NBVariable_setMin(threadData, __omcQ_24in_5Fvar, _min_val, tmp1);
  /* skip box _var; NFVariable */
  return _var;
}

DLLDirection
modelica_metatype omc_NBVariable_setVariableAttributes(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype _variableAttributes)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = __omcQ_24in_5Fvar;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _var;
    {
      modelica_metatype _backendinfo = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _backendinfo has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,10) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 11));
          _backendinfo = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_backendinfo), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[3] = _variableAttributes;
          _backendinfo = tmpMeta7;

          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[11] = _backendinfo;
          _var = tmpMeta8;
          tmpMeta1 = _var;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var;
}

DLLDirection
modelica_boolean omc_NBVariable_isStateSelect(threadData_t *threadData, modelica_metatype _var_ptr, modelica_integer _stateSelect)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = (omc_NFBackendExtension_VariableAttributes_getStateSelect(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 3)))) == (modelica_integer)_stateSelect);
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isStateSelect(threadData_t *threadData, modelica_metatype _var_ptr, modelica_metatype _stateSelect)
{
  modelica_integer tmp1;
  modelica_boolean _b;
  modelica_metatype out_b;
  tmp1 = mmc_unbox_integer(_stateSelect);
  _b = omc_NBVariable_isStateSelect(threadData, _var_ptr, tmp1);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isFixable(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = (!omc_NBVariable_isFixed(threadData, _var_ptr));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = ((!omc_NBVariable_isFixed(threadData, _var_ptr)) || omc_NBVariable_hasPre(threadData, _var_ptr));
          goto tmp3_done;
        }
        case 14: {
          
          /* Pattern matching succeeded */
          tmp1 = (!omc_NBVariable_isFixed(threadData, _var_ptr));
          goto tmp3_done;
        }
        case 11: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isFixable(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isFixable(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isFixed(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 3)));
    {
      modelica_metatype _fixed = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _fixed has no default value.
      tmp4 = 0;
      for (; tmp4 < 6; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,16) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 8));
          if (optionNone(tmpMeta6)) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          
          _fixed = tmpMeta7;
          /* Pattern matching succeeded */
          tmp1 = omc_NFExpression_isAllTrue(threadData, _fixed);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,11) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (optionNone(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          
          _fixed = tmpMeta9;
          /* Pattern matching succeeded */
          tmp1 = omc_NFExpression_isAllTrue(threadData, _fixed);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,7) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta10)) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 1));
          
          _fixed = tmpMeta11;
          /* Pattern matching succeeded */
          tmp1 = omc_NFExpression_isAllTrue(threadData, _fixed);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,7) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (optionNone(tmpMeta12)) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 1));
          
          _fixed = tmpMeta13;
          /* Pattern matching succeeded */
          tmp1 = omc_NFExpression_isAllTrue(threadData, _fixed);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,9) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (optionNone(tmpMeta14)) goto tmp3_end;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 1));
          
          _fixed = tmpMeta15;
          /* Pattern matching succeeded */
          tmp1 = omc_NFExpression_isAllTrue(threadData, _fixed);
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isFixed(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isFixed(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isOutput(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = (mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 6)))), 5)))) == 3);
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isOutput(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isOutput(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isInput(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = (mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 6)))), 5)))) == 2);
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isInput(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isInput(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isSeed(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isSeed(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isSeed(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isResidual(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,28,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isResidual(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isResidual(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_integer omc_NBVariable_getResizableValue(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_integer _val;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _val has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)));
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,7) == 0) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta5,11,1) == 0) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
          if (optionNone(tmpMeta6)) goto tmp2_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmp8 = mmc_unbox_integer(tmpMeta7);
          
          _val = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          
          /* Pattern matching succeeded */
          tmpMeta10 = stringAppend(_OMC_LIT249,omc_NBVariable_toString(threadData, _var, _OMC_LIT59));
          tmpMeta9 = mmc_mk_cons(tmpMeta10, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta9);
          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _val;
}
modelica_metatype boxptr_NBVariable_getResizableValue(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_integer _val;
  modelica_metatype out_val;
  _val = omc_NBVariable_getResizableValue(threadData, _var_ptr);
  out_val = mmc_mk_icon(_val);
  return out_val;
}

DLLDirection
void omc_NBVariable_updateResizableParameter(threadData_t *threadData, modelica_metatype _var_ptr, modelica_metatype _optimal_values)
{
  modelica_metatype _var = NULL;
  modelica_metatype _val = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = omc_Pointer_access(threadData, _var_ptr);
  _val = omc_UnorderedMap_get(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), _optimal_values);
  { /* match expression */
    modelica_metatype tmp3_1;modelica_metatype tmp3_2;
    tmp3_1 = _val;
    tmp3_2 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)));
    {
      modelica_integer _i;
      modelica_metatype _varKind = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _i has no default value.
      // _varKind has no default value.
      tmp3 = 0;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_integer tmp11;
          modelica_metatype tmpMeta12;
          if (optionNone(tmp3_1)) goto tmp2_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta5,0,1) == 0) goto tmp2_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
          tmp7 = mmc_unbox_integer(tmpMeta6);
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,7) == 0) goto tmp2_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,11,1) == 0) goto tmp2_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,0,2) == 0) goto tmp2_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          tmp11 = mmc_unbox_integer(tmpMeta10);
          if (1 /* true */ != tmp11) goto tmp2_end;
          
          _i = tmp7  /* pattern as ty=Integer */;
          _varKind = tmpMeta8;
          /* Pattern matching succeeded */
          tmpMeta12 = MMC_TAGPTR(mmc_alloc_words(3));
          memcpy(MMC_UNTAGPTR(tmpMeta12), MMC_UNTAGPTR(_varKind), 3*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta12))[2] = mmc_mk_some(mmc_mk_integer(_i));
          _varKind = tmpMeta12;

          omc_NBVariable_setVarKind(threadData, _var_ptr, _varKind);
          goto tmp2_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_boolean omc_NBVariable_isResizableParameter(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,7) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,11,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,0,2) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          tmp9 = mmc_unbox_integer(tmpMeta8);
          if (1 /* true */ != tmp9) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isResizableParameter(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isResizableParameter(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isResizable(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = omc_List_any(threadData, omc_NFType_arrayDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 3)))), boxvar_NFDimension_isResizable);
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isResizable(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isResizable(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isKnown(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 14: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isKnown(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isKnown(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isConst(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isConst(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isConst(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isParamOrConst(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 14: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isParamOrConst(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isParamOrConst(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isDummyDer(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isDummyDer(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isDummyDer(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isDummyState(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isDummyState(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isDummyState(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_hasPre(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = ((!omc_NBVariable_isPrevious(threadData, _var_ptr)) && isSome(omc_NBVariable_getVarPre(threadData, _var_ptr, NULL)));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_hasPre(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_hasPre(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_hasStartAttr(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = isSome(omc_NFBackendExtension_VariableAttributes_getStartAttribute(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 3)))));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_hasStartAttr(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_hasStartAttr(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_metatype omc_NBVariable_getPartnerCref(threadData_t *threadData, modelica_metatype _cref, modelica_fnptr _func, modelica_boolean _scalarized)
{
  modelica_metatype _partner_cref = NULL;
  modelica_metatype _partner = NULL;
  modelica_string _partnerName = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _partner_cref has no default value.
  // _partner has no default value.
  // _partnerName has no default value.
  _partner = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_string)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), omc_NBVariable_getVarPointer(threadData, _cref, _OMC_LIT250) ,&_partnerName) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_string)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, omc_NBVariable_getVarPointer(threadData, _cref, _OMC_LIT250) ,&_partnerName);

  if(isSome(_partner))
  {
    _partner_cref = omc_NBVariable_getVarName(threadData, omc_Util_getOption(threadData, _partner));

    if((!_scalarized))
    {
      _partner_cref = omc_NFComponentRef_copySubscripts(threadData, _cref, _partner_cref);
    }
  }
  else
  {
    tmpMeta2 = stringAppend(_OMC_LIT251,omc_NFComponentRef_toString(threadData, _cref));
    tmpMeta3 = stringAppend(tmpMeta2,_OMC_LIT252);
    tmpMeta4 = stringAppend(tmpMeta3,_partnerName);
    tmpMeta5 = stringAppend(tmpMeta4,_OMC_LIT117);
    tmpMeta1 = mmc_mk_cons(tmpMeta5, MMC_REFSTRUCTLIT(mmc_nil));
    omc_Error_addMessage(threadData, _OMC_LIT4, tmpMeta1);

    MMC_THROW_INTERNAL();
  }
  _return: OMC_LABEL_UNUSED
  return _partner_cref;
}
modelica_metatype boxptr_NBVariable_getPartnerCref(threadData_t *threadData, modelica_metatype _cref, modelica_fnptr _func, modelica_metatype _scalarized)
{
  modelica_integer tmp1;
  modelica_metatype _partner_cref = NULL;
  tmp1 = mmc_unbox_integer(_scalarized);
  _partner_cref = omc_NBVariable_getPartnerCref(threadData, _cref, _func, tmp1);
  /* skip box _partner_cref; NFComponentRef */
  return _partner_cref;
}

DLLDirection
modelica_metatype omc_NBVariable_getVarDummyDer(threadData_t *threadData, modelica_metatype _var_ptr, modelica_string *out_partnerName)
{
  modelica_metatype _partner = NULL;
  modelica_string _partnerName = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _partner has no default value.
  // _partnerName has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _partnerName = _OMC_LIT253;

  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      modelica_metatype _p = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _p has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,1) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          _p = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_some(_p);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_none();
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _partner = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_partnerName) { *out_partnerName = _partnerName; }
  return _partner;
}

DLLDirection
modelica_metatype omc_NBVariable_getVarState(threadData_t *threadData, modelica_metatype _var_ptr, modelica_string *out_partnerName)
{
  modelica_metatype _partner = NULL;
  modelica_string _partnerName = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _partner has no default value.
  // _partnerName has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _partnerName = _OMC_LIT254;

  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      modelica_metatype _p = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _p has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _p = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_some(_p);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_none();
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _partner = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_partnerName) { *out_partnerName = _partnerName; }
  return _partner;
}

DLLDirection
modelica_metatype omc_NBVariable_getVarDer(threadData_t *threadData, modelica_metatype _var_ptr, modelica_string *out_partnerName)
{
  modelica_metatype _partner = NULL;
  modelica_string _partnerName = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _partner has no default value.
  // _partnerName has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _partnerName = _OMC_LIT255;

  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _partner = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta1 = _partner;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = mmc_mk_none();
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _partner = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_partnerName) { *out_partnerName = _partnerName; }
  return _partner;
}

DLLDirection
modelica_metatype omc_NBVariable_getVarPDer(threadData_t *threadData, modelica_metatype _var_ptr, modelica_string *out_partnerName)
{
  modelica_metatype _partner = NULL;
  modelica_string _partnerName = NULL;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _partner has no default value.
  // _partnerName has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _partnerName = _OMC_LIT256;

  _partner = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 7)));
  _return: OMC_LABEL_UNUSED
  if (out_partnerName) { *out_partnerName = _partnerName; }
  return _partner;
}

DLLDirection
modelica_metatype omc_NBVariable_getVarSeed(threadData_t *threadData, modelica_metatype _var_ptr, modelica_string *out_partnerName)
{
  modelica_metatype _partner = NULL;
  modelica_string _partnerName = NULL;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _partner has no default value.
  // _partnerName has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _partnerName = _OMC_LIT257;

  _partner = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 6)));
  _return: OMC_LABEL_UNUSED
  if (out_partnerName) { *out_partnerName = _partnerName; }
  return _partner;
}

DLLDirection
modelica_metatype omc_NBVariable_getVarPre(threadData_t *threadData, modelica_metatype _var_ptr, modelica_string *out_partnerName)
{
  modelica_metatype _partner = NULL;
  modelica_string _partnerName = NULL;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _partner has no default value.
  // _partnerName has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _partnerName = _OMC_LIT258;

  _partner = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 5)));
  _return: OMC_LABEL_UNUSED
  if (out_partnerName) { *out_partnerName = _partnerName; }
  return _partner;
}

DLLDirection
modelica_boolean omc_NBVariable_isIterator(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isIterator(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isIterator(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isClocked(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isClocked(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isClocked(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isClock(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isClock(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isClock(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isUnknownRecord(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      modelica_integer _variability;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _variability has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmp7 = mmc_unbox_integer(tmpMeta6);
          
          _variability = tmp7  /* pattern as ty=enumeration(CONSTANT, STRUCTURAL_PARAMETER, PARAMETER, NON_STRUCTURAL_PARAMETER, DISCRETE, IMPLICITLY_DISCRETE, CONTINUOUS) */;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!((modelica_integer)_variability > 4)) goto tmp3_end;
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isUnknownRecord(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isUnknownRecord(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isKnownRecord(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      modelica_integer _variability;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _variability has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmp7 = mmc_unbox_integer(tmpMeta6);
          _variability = tmp7  /* pattern as ty=enumeration(CONSTANT, STRUCTURAL_PARAMETER, PARAMETER, NON_STRUCTURAL_PARAMETER, DISCRETE, IMPLICITLY_DISCRETE, CONTINUOUS) */;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!((modelica_integer)_variability < 5)) goto tmp3_end;
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isKnownRecord(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isKnownRecord(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isRecord(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isRecord(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isRecord(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isPrevious(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isPrevious(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isPrevious(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isDiscrete(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isDiscrete(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isDiscrete(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isDiscreteState(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isDiscreteState(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isDiscreteState(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isContinuous(threadData_t *threadData, modelica_metatype _var_ptr, modelica_boolean _init)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 11: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 15: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 16: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 19: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 14: {
          
          /* Pattern matching succeeded */
          tmp1 = (_init && omc_NFType_isContinuous(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 3)))));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isContinuous(threadData_t *threadData, modelica_metatype _var_ptr, modelica_metatype _init)
{
  modelica_integer tmp1;
  modelica_boolean _b;
  modelica_metatype out_b;
  tmp1 = mmc_unbox_integer(_init);
  _b = omc_NBVariable_isContinuous(threadData, _var_ptr, tmp1);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isTime(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isTime(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isTime(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isExtObj(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isExtObj(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isExtObj(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isStart(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isStart(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isStart(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isAlgebraic(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isAlgebraic(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isAlgebraic(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isStateDerivative(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isStateDerivative(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isStateDerivative(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isState(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)));
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isState(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isState(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBVariable_isEmpty(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = omc_NFComponentRef_isEmpty(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isEmpty(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isEmpty(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_metatype omc_NBVariable_getDimensions(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_metatype _dims = NULL;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _dims has no default value.
  // _var has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);

  _dims = omc_NFType_arrayDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 3))));
  _return: OMC_LABEL_UNUSED
  return _dims;
}

DLLDirection
modelica_boolean omc_NBVariable_isArray(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _b = omc_NFType_isArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 3))));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_isArray(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_isArray(threadData, _var_ptr);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_metatype omc_NBVariable_toExpression(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_metatype _exp = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _exp = omc_NFExpression_fromCref(threadData, omc_NBVariable_getVarName(threadData, _var_ptr), 0 /* false */);
  _return: OMC_LABEL_UNUSED
  return _exp;
}

DLLDirection
modelica_metatype omc_NBVariable_getVarKind(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_metatype _kind = NULL;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _kind has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _kind = omc_NFBackendExtension_BackendInfo_getVarKind(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))));
  _return: OMC_LABEL_UNUSED
  return _kind;
}

DLLDirection
modelica_metatype omc_NBVariable_subIdxName(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar_5Fptr, modelica_metatype _index)
{
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var_ptr = __omcQ_24in_5Fvar_5Fptr;
  _var = omc_Pointer_access(threadData, _var_ptr);
  tmpMeta2 = stringAppend(omc_NFComponentRef_firstName(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))), 0 /* false */),_OMC_LIT91);
  tmpMeta3 = stringAppend(tmpMeta2,intString(mmc_unbox_integer(omc_Pointer_access(threadData, _index))));
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[2] = omc_NFComponentRef_rename(threadData, tmpMeta3, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2))));
  _var = tmpMeta1;

  _var_ptr = omc_Pointer_create(threadData, _var);
  _return: OMC_LABEL_UNUSED
  return _var_ptr;
}

DLLDirection
modelica_metatype omc_NBVariable_setVarName(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar_5Fptr, modelica_metatype _name)
{
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var_ptr = __omcQ_24in_5Fvar_5Fptr;
  _var = omc_Pointer_access(threadData, _var_ptr);
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[2] = _name;
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _var_ptr, _var);
  _return: OMC_LABEL_UNUSED
  return _var_ptr;
}

DLLDirection
modelica_metatype omc_NBVariable_getVarName(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_metatype _name = NULL;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _name has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _name = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 2)));
  _return: OMC_LABEL_UNUSED
  return _name;
}

DLLDirection
modelica_metatype omc_NBVariable_getVarPointer(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _info)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _cref;
    {
      modelica_metatype _varPointer = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _varPointer has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,7,2) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          
          _varPointer = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta1 = _varPointer;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,5) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,4,1) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Pointer_create(threadData, _OMC_LIT66);
          goto tmp3_done;
        }
        case 2: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Pointer_create(threadData, _OMC_LIT66);
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          
          /* Pattern matching succeeded */
          tmpMeta9 = stringAppend(_OMC_LIT259,omc_NFComponentRef_toString(threadData, _cref));
          tmpMeta10 = stringAppend(tmpMeta9,_OMC_LIT260);
          omc_Error_addInternalError(threadData, tmpMeta10, _info);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _var = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _var;
}

DLLDirection
modelica_metatype omc_NBVariable_getVar(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _info)
{
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var has no default value.
  _var = omc_Pointer_access(threadData, omc_NBVariable_getVarPointer(threadData, _cref, _info));
  _return: OMC_LABEL_UNUSED
  return _var;
}

DLLDirection
void omc_NBVariable_removePartner(threadData_t *threadData, modelica_metatype _var_ptr, modelica_fnptr _func)
{
  modelica_metatype _var = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = omc_Pointer_access(threadData, _var_ptr);
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[11] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), mmc_mk_none()) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), mmc_mk_none());
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _var_ptr, _var);
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
void omc_NBVariable_connectPartners(threadData_t *threadData, modelica_metatype _var_ptr, modelica_metatype _par_ptr, modelica_fnptr _func)
{
  modelica_metatype _var = NULL;
  modelica_metatype _par = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = omc_Pointer_access(threadData, _var_ptr);
  _par = omc_Pointer_access(threadData, _par_ptr);
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[11] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), mmc_mk_some(_par_ptr)) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11))), mmc_mk_some(_par_ptr));
  _var = tmpMeta1;

  tmpMeta2 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta2), MMC_UNTAGPTR(_par), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta2))[11] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_par), 11))), mmc_mk_some(_var_ptr)) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_par), 11))), mmc_mk_some(_var_ptr));
  _par = tmpMeta2;

  omc_Pointer_update(threadData, _var_ptr, _var);

  omc_Pointer_update(threadData, _par_ptr, _par);
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_metatype omc_NBVariable_makeVarPtrCyclic(threadData_t *threadData, modelica_metatype _var, modelica_metatype __omcQ_24in_5Fname, modelica_metatype *out_name)
{
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _name = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _var_ptr has no default value.
  _name = __omcQ_24in_5Fname;
  _var_ptr = omc_Pointer_create(threadData, _var);

  _name = omc_NBackendDAE_lowerComponentReferenceInstNode(threadData, _name, _var_ptr);

  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_var), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[2] = _name;
  _var = tmpMeta1;

  omc_Pointer_update(threadData, _var_ptr, _var);
  _return: OMC_LABEL_UNUSED
  if (out_name) { *out_name = _name; }
  return _var_ptr;
}

DLLDirection
modelica_metatype omc_NBVariable_fromCref(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _attr, modelica_metatype _binding)
{
  modelica_metatype _variable = NULL;
  modelica_metatype _node = NULL;
  modelica_metatype _class_node = NULL;
  modelica_metatype _child_nodes = NULL;
  modelica_metatype _child_cref = NULL;
  modelica_metatype _ty = NULL;
  modelica_integer _vis;
  modelica_metatype _info = NULL;
  modelica_integer _complexSize;
  modelica_metatype _children = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _variable has no default value.
  // _node has no default value.
  // _class_node has no default value.
  // _child_nodes has no default value.
  // _child_cref has no default value.
  // _ty has no default value.
  // _vis has no default value.
  // _info has no default value.
  // _complexSize has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _children = tmpMeta1;
  _node = omc_NFComponentRef_node(threadData, _cref);

  _ty = omc_NFComponentRef_getSubscriptedType(threadData, _cref, 1 /* true */);

  _vis = omc_NFInstNode_InstNode_visibility(threadData, _node);

  _info = omc_NFInstNode_InstNode_info(threadData, _node);

  if((!omc_NFType_isExternalObject(threadData, _ty)))
  {
    { /* match expression */
      modelica_metatype tmp5_1;
      tmp5_1 = omc_NFType_arrayElementType(threadData, _ty);
      {
        volatile mmc_switch_type tmp5;
        int tmp6;
        tmp5 = 0;
        for (; tmp5 < 2; tmp5++) {
          switch (MMC_SWITCH_CAST(tmp5)) {
          case 0: {
            modelica_metatype tmpMeta7;
            modelica_metatype tmpMeta8;
            if (mmc__uniontype__metarecord__typedef__equal(tmp5_1,11,2) == 0) goto tmp4_end;
            tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp5_1), 2));
            
            _class_node = tmpMeta7;
            /* Pattern matching succeeded */
            _child_nodes = omc_NFClass_getComponents(threadData, omc_NFInstNode_InstNode_getClass(threadData, _class_node));
            {
              modelica_metatype __omcQ_24tmpVar17;
              modelica_metatype* tmp9;
              modelica_metatype tmpMeta10;
              modelica_metatype tmpMeta11;
              modelica_metatype __omcQ_24tmpVar16;
              modelica_integer tmp12;
              modelica_metatype _c_loopVar = 0;
              modelica_integer tmp13;
              modelica_metatype _c;
              _c_loopVar = _child_nodes;
              tmp13 = 1;
              tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
              __omcQ_24tmpVar17 = tmpMeta10; /* defaultValue */
              tmp9 = &__omcQ_24tmpVar17;
              while(1) {
                tmp12 = 1;
                if (tmp13 <= arrayLength(_c_loopVar)) {
                  _c = arrayGet(_c_loopVar, tmp13++);
                  tmp12--;
                }
                if (tmp12 == 0) {
                  tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
                  __omcQ_24tmpVar16 = omc_NBVariable_fromCref(threadData, omc_NFComponentRef_prefixCref(threadData, _c, omc_NFInstNode_InstNode_getType(threadData, _c), tmpMeta11, _cref), _OMC_LIT57, _OMC_LIT55);
                  *tmp9 = mmc_mk_cons(__omcQ_24tmpVar16,0);
                  tmp9 = &MMC_CDR(*tmp9);
                } else if (tmp12 == 1) {
                  break;
                } else {
                  goto goto_3;
                }
              }
              *tmp9 = mmc_mk_nil();
              tmpMeta8 = __omcQ_24tmpVar17;
            }
            tmpMeta2 = tmpMeta8;
            goto tmp4_done;
          }
          case 1: {
            modelica_metatype tmpMeta14;
            
            /* Pattern matching succeeded */
            tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta2 = tmpMeta14;
            goto tmp4_done;
          }
          }
          goto tmp4_end;
          tmp4_end: ;
        }
        goto goto_3;
        goto_3:;
        MMC_THROW_INTERNAL();
        goto tmp4_done;
        tmp4_done:;
      }
    }
    _children = tmpMeta2;
  }

  tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta16 = mmc_mk_box11(3, &NFVariable_VARIABLE__desc, _cref, _ty, _binding, mmc_mk_integer((modelica_integer)_vis), _attr, tmpMeta15, _children, _OMC_LIT58, _info, _OMC_LIT65);
  _variable = tmpMeta16;
  _return: OMC_LABEL_UNUSED
  return _variable;
}

DLLDirection
void omc_NBVariable_applyToType(threadData_t *threadData, modelica_metatype _var_ptr, modelica_fnptr _func)
{
  modelica_metatype _new = NULL;
  modelica_metatype _var = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _new has no default value.
  _var = omc_Pointer_access(threadData, _var_ptr);
  _new = omc_NFVariable_applyToType(threadData, _var, ((modelica_fnptr) _func));

  if((!referenceEq(_var, _new)))
  {
    omc_Pointer_update(threadData, _var_ptr, _new);
  }
  _return: OMC_LABEL_UNUSED
  return;
}

DLLDirection
modelica_integer omc_NBVariable_size(threadData_t *threadData, modelica_metatype _var_ptr, modelica_boolean _resize)
{
  modelica_integer _s;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _s = omc_NFVariable_size(threadData, omc_Pointer_access(threadData, _var_ptr), _resize);
  _return: OMC_LABEL_UNUSED
  return _s;
}
modelica_metatype boxptr_NBVariable_size(threadData_t *threadData, modelica_metatype _var_ptr, modelica_metatype _resize)
{
  modelica_integer tmp1;
  modelica_integer _s;
  modelica_metatype out_s;
  tmp1 = mmc_unbox_integer(_resize);
  _s = omc_NBVariable_size(threadData, _var_ptr, tmp1);
  out_s = mmc_mk_icon(_s);
  return out_s;
}

DLLDirection
modelica_boolean omc_NBVariable_equalName(threadData_t *threadData, modelica_metatype _var_ptr1, modelica_metatype _var_ptr2)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _b = omc_NFVariable_equalName(threadData, omc_Pointer_access(threadData, _var_ptr1), omc_Pointer_access(threadData, _var_ptr2));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBVariable_equalName(threadData_t *threadData, modelica_metatype _var_ptr1, modelica_metatype _var_ptr2)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBVariable_equalName(threadData, _var_ptr1, _var_ptr2);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_integer omc_NBVariable_hash(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_integer _i;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _i = omc_NFVariable_hash(threadData, omc_Pointer_access(threadData, _var_ptr));
  _return: OMC_LABEL_UNUSED
  return _i;
}
modelica_metatype boxptr_NBVariable_hash(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_integer _i;
  modelica_metatype out_i;
  _i = omc_NBVariable_hash(threadData, _var_ptr);
  out_i = mmc_mk_icon(_i);
  return out_i;
}

DLLDirection
modelica_string omc_NBVariable_nameString(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_string _str = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _str = omc_NFComponentRef_toString(threadData, omc_NBVariable_getVarName(threadData, _var_ptr));
  _return: OMC_LABEL_UNUSED
  return _str;
}

DLLDirection
modelica_string omc_NBVariable_pointerToString(threadData_t *threadData, modelica_metatype _var_ptr)
{
  modelica_string _str = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _str = omc_NBVariable_toString(threadData, omc_Pointer_access(threadData, _var_ptr), _OMC_LIT59);
  _return: OMC_LABEL_UNUSED
  return _str;
}

DLLDirection
modelica_string omc_NBVariable_toString(threadData_t *threadData, modelica_metatype _var, modelica_string __omcQ_24in_5Fstr)
{
  modelica_string _str = NULL;
  modelica_string _attr = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_boolean tmp7;
  modelica_string tmp8;
  modelica_metatype tmpMeta9;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _str = __omcQ_24in_5Fstr;
  // _attr has no default value.
  _attr = omc_NFBackendExtension_VariableAttributes_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 3))));

  tmpMeta1 = stringAppend(_str,omc_NFBackendExtension_VariableKind_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 11)))), 2)))));
  tmpMeta2 = stringAppend(tmpMeta1,_OMC_LIT261);
  tmpMeta3 = stringAppend(tmpMeta2,intString(omc_NFVariable_size(threadData, _var, 1 /* true */)));
  tmpMeta4 = stringAppend(tmpMeta3,_OMC_LIT262);
  tmpMeta5 = stringAppend(tmpMeta4,omc_NFVariable_toString(threadData, _var, _OMC_LIT59, 0 /* false */));
  tmp7 = (modelica_boolean)(stringEqual(_attr, _OMC_LIT59));
  if(tmp7)
  {
    tmp8 = _OMC_LIT59;
  }
  else
  {
    tmpMeta6 = stringAppend(_OMC_LIT71,_attr);
    tmp8 = tmpMeta6;
  }
  tmpMeta9 = stringAppend(tmpMeta5,tmp8);
  _str = tmpMeta9;
  _return: OMC_LABEL_UNUSED
  return _str;
}

