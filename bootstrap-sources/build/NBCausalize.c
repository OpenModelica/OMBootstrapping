#include "omc_simulation_settings.h"
#include "NBCausalize.h"
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT0,1,5) {&NBEquation_Iterator_EMPTY__desc,}};
#define _OMC_LIT0 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT0)
#define _OMC_LIT1_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/NBackEnd/Modules/1_Main/NBCausalize.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT1,85,_OMC_LIT1_data);
#define _OMC_LIT1 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT1)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT2_6,1.758197185e9);
#define _OMC_LIT2_6 MMC_REFREALLIT(_OMC_LIT_STRUCT2_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT2,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT1,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(286)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(286)),MMC_IMMEDIATE(MMC_TAGFIXNUM(55)),_OMC_LIT2_6}};
#define _OMC_LIT2 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT3_6,1.758197185e9);
#define _OMC_LIT3_6 MMC_REFREALLIT(_OMC_LIT_STRUCT3_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT1,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(287)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(287)),MMC_IMMEDIATE(MMC_TAGFIXNUM(55)),_OMC_LIT3_6}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
#define _OMC_LIT4_data "matchingAlgorithm"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT4,17,_OMC_LIT4_data);
#define _OMC_LIT4 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT4)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT5,1,4) {&Flags_FlagVisibility_EXTERNAL__desc,}};
#define _OMC_LIT5 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT5)
#define _OMC_LIT6_data "PFPlusExt"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT6,9,_OMC_LIT6_data);
#define _OMC_LIT6 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT7,2,8) {&Flags_FlagData_STRING__FLAG__desc,_OMC_LIT6}};
#define _OMC_LIT7 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT7)
#define _OMC_LIT8_data "BFSB"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT8,4,_OMC_LIT8_data);
#define _OMC_LIT8 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT8)
#define _OMC_LIT9_data "Breadth First Search based algorithm."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT9,37,_OMC_LIT9_data);
#define _OMC_LIT9 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT9)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT10,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT9}};
#define _OMC_LIT10 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT10)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT11,2,0) {_OMC_LIT8,_OMC_LIT10}};
#define _OMC_LIT11 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT11)
#define _OMC_LIT12_data "DFSB"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT12,4,_OMC_LIT12_data);
#define _OMC_LIT12 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "Depth First Search based algorithm."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,35,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT14,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT13}};
#define _OMC_LIT14 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,2,0) {_OMC_LIT12,_OMC_LIT14}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data "MC21A"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,5,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
#define _OMC_LIT17_data "Depth First Search based algorithm with look ahead feature."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT17,59,_OMC_LIT17_data);
#define _OMC_LIT17 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT17)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT18,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT17}};
#define _OMC_LIT18 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT18)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT19,2,0) {_OMC_LIT16,_OMC_LIT18}};
#define _OMC_LIT19 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data "PF"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,2,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT21,2,0) {_OMC_LIT20,_OMC_LIT18}};
#define _OMC_LIT21 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data "PFPlus"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,6,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
#define _OMC_LIT23_data "Depth First Search based algorithm with look ahead feature and fair row traversal."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT23,82,_OMC_LIT23_data);
#define _OMC_LIT23 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT23)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT24,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT23}};
#define _OMC_LIT24 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT24)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT25,2,0) {_OMC_LIT22,_OMC_LIT24}};
#define _OMC_LIT25 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data "HK"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,2,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
#define _OMC_LIT27_data "Combined BFS and DFS algorithm."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT27,31,_OMC_LIT27_data);
#define _OMC_LIT27 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT27)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT28,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT27}};
#define _OMC_LIT28 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT28)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT29,2,0) {_OMC_LIT26,_OMC_LIT28}};
#define _OMC_LIT29 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data "HKDW"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,4,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT31,2,0) {_OMC_LIT30,_OMC_LIT28}};
#define _OMC_LIT31 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT31)
#define _OMC_LIT32_data "ABMP"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT32,4,_OMC_LIT32_data);
#define _OMC_LIT32 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT32)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT33,2,0) {_OMC_LIT32,_OMC_LIT28}};
#define _OMC_LIT33 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT33)
#define _OMC_LIT34_data "PR"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT34,2,_OMC_LIT34_data);
#define _OMC_LIT34 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT34)
#define _OMC_LIT35_data "Matching algorithm using push relabel mechanism."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT35,48,_OMC_LIT35_data);
#define _OMC_LIT35 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT35)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT36,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT35}};
#define _OMC_LIT36 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT36)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT37,2,0) {_OMC_LIT34,_OMC_LIT36}};
#define _OMC_LIT37 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT37)
#define _OMC_LIT38_data "DFSBExt"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT38,7,_OMC_LIT38_data);
#define _OMC_LIT38 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT38)
#define _OMC_LIT39_data "Depth First Search based Algorithm external c implementation."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT39,61,_OMC_LIT39_data);
#define _OMC_LIT39 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT39)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT40,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT39}};
#define _OMC_LIT40 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT40)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT41,2,0) {_OMC_LIT38,_OMC_LIT40}};
#define _OMC_LIT41 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT41)
#define _OMC_LIT42_data "BFSBExt"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT42,7,_OMC_LIT42_data);
#define _OMC_LIT42 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT42)
#define _OMC_LIT43_data "Breadth First Search based Algorithm external c implementation."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT43,63,_OMC_LIT43_data);
#define _OMC_LIT43 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT43)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT44,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT43}};
#define _OMC_LIT44 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT44)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT45,2,0) {_OMC_LIT42,_OMC_LIT44}};
#define _OMC_LIT45 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT45)
#define _OMC_LIT46_data "MC21AExt"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT46,8,_OMC_LIT46_data);
#define _OMC_LIT46 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT46)
#define _OMC_LIT47_data "Depth First Search based Algorithm with look ahead feature external c implementation."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT47,85,_OMC_LIT47_data);
#define _OMC_LIT47 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT47)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT48,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT47}};
#define _OMC_LIT48 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT48)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT49,2,0) {_OMC_LIT46,_OMC_LIT48}};
#define _OMC_LIT49 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT49)
#define _OMC_LIT50_data "PFExt"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT50,5,_OMC_LIT50_data);
#define _OMC_LIT50 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT50)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT51,2,0) {_OMC_LIT50,_OMC_LIT48}};
#define _OMC_LIT51 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data "Depth First Search based Algorithm with look ahead feature and fair row traversal external c implementation."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,108,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT53,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT52}};
#define _OMC_LIT53 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT53)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT54,2,0) {_OMC_LIT6,_OMC_LIT53}};
#define _OMC_LIT54 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT54)
#define _OMC_LIT55_data "HKExt"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT55,5,_OMC_LIT55_data);
#define _OMC_LIT55 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT55)
#define _OMC_LIT56_data "Combined BFS and DFS algorithm external c implementation."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT56,57,_OMC_LIT56_data);
#define _OMC_LIT56 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT56)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT57,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT56}};
#define _OMC_LIT57 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT57)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT58,2,0) {_OMC_LIT55,_OMC_LIT57}};
#define _OMC_LIT58 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT58)
#define _OMC_LIT59_data "HKDWExt"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT59,7,_OMC_LIT59_data);
#define _OMC_LIT59 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT59)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT60,2,0) {_OMC_LIT59,_OMC_LIT57}};
#define _OMC_LIT60 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT60)
#define _OMC_LIT61_data "ABMPExt"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT61,7,_OMC_LIT61_data);
#define _OMC_LIT61 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT61)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT62,2,0) {_OMC_LIT61,_OMC_LIT57}};
#define _OMC_LIT62 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT62)
#define _OMC_LIT63_data "PRExt"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT63,5,_OMC_LIT63_data);
#define _OMC_LIT63 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT63)
#define _OMC_LIT64_data "Matching algorithm using push relabel mechanism external c implementation."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT64,74,_OMC_LIT64_data);
#define _OMC_LIT64 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT64)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT65,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT64}};
#define _OMC_LIT65 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT65)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT66,2,0) {_OMC_LIT63,_OMC_LIT65}};
#define _OMC_LIT66 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT66)
#define _OMC_LIT67_data "BB"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT67,2,_OMC_LIT67_data);
#define _OMC_LIT67 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT67)
#define _OMC_LIT68_data "BBs try."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT68,8,_OMC_LIT68_data);
#define _OMC_LIT68 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT68)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT69,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT68}};
#define _OMC_LIT69 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT69)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT70,2,0) {_OMC_LIT67,_OMC_LIT69}};
#define _OMC_LIT70 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT70)
#define _OMC_LIT71_data "SBGraph"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT71,7,_OMC_LIT71_data);
#define _OMC_LIT71 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT71)
#define _OMC_LIT72_data "Set-Based Graph matching algorithm for efficient array handling."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT72,64,_OMC_LIT72_data);
#define _OMC_LIT72 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT72)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT73,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT72}};
#define _OMC_LIT73 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT73)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT74,2,0) {_OMC_LIT71,_OMC_LIT73}};
#define _OMC_LIT74 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT74)
#define _OMC_LIT75_data "pseudo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT75,6,_OMC_LIT75_data);
#define _OMC_LIT75 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT75)
#define _OMC_LIT76_data "Pseudo array matching that uses scalar matching and reconstructs arrays afterwards as much as possible."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT76,103,_OMC_LIT76_data);
#define _OMC_LIT76 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT76)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT77,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT76}};
#define _OMC_LIT77 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT77)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT78,2,0) {_OMC_LIT75,_OMC_LIT77}};
#define _OMC_LIT78 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT78)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT79,2,1) {_OMC_LIT78,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT79 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT79)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT80,2,1) {_OMC_LIT74,_OMC_LIT79}};
#define _OMC_LIT80 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT80)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT81,2,1) {_OMC_LIT70,_OMC_LIT80}};
#define _OMC_LIT81 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT81)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT82,2,1) {_OMC_LIT66,_OMC_LIT81}};
#define _OMC_LIT82 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT82)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT83,2,1) {_OMC_LIT62,_OMC_LIT82}};
#define _OMC_LIT83 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT83)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT84,2,1) {_OMC_LIT60,_OMC_LIT83}};
#define _OMC_LIT84 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT84)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT85,2,1) {_OMC_LIT58,_OMC_LIT84}};
#define _OMC_LIT85 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT85)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT86,2,1) {_OMC_LIT54,_OMC_LIT85}};
#define _OMC_LIT86 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT86)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT87,2,1) {_OMC_LIT51,_OMC_LIT86}};
#define _OMC_LIT87 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT87)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT88,2,1) {_OMC_LIT49,_OMC_LIT87}};
#define _OMC_LIT88 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT88)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT89,2,1) {_OMC_LIT45,_OMC_LIT88}};
#define _OMC_LIT89 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT89)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT90,2,1) {_OMC_LIT41,_OMC_LIT89}};
#define _OMC_LIT90 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT90)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT91,2,1) {_OMC_LIT37,_OMC_LIT90}};
#define _OMC_LIT91 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT91)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT92,2,1) {_OMC_LIT33,_OMC_LIT91}};
#define _OMC_LIT92 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT92)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT93,2,1) {_OMC_LIT31,_OMC_LIT92}};
#define _OMC_LIT93 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT93)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT94,2,1) {_OMC_LIT29,_OMC_LIT93}};
#define _OMC_LIT94 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT94)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT95,2,1) {_OMC_LIT25,_OMC_LIT94}};
#define _OMC_LIT95 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT95)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT96,2,1) {_OMC_LIT21,_OMC_LIT95}};
#define _OMC_LIT96 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT96)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT97,2,1) {_OMC_LIT19,_OMC_LIT96}};
#define _OMC_LIT97 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT97)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT98,2,1) {_OMC_LIT15,_OMC_LIT97}};
#define _OMC_LIT98 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT98)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT99,2,1) {_OMC_LIT11,_OMC_LIT98}};
#define _OMC_LIT99 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT99)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT100,2,4) {&Flags_ValidOptions_STRING__DESC__OPTION__desc,_OMC_LIT99}};
#define _OMC_LIT100 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT100)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT101,1,1) {_OMC_LIT100}};
#define _OMC_LIT101 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT101)
#define _OMC_LIT102_data "Sets the matching algorithm to use. See --help=optmodules for more info."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT102,72,_OMC_LIT102_data);
#define _OMC_LIT102 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT102)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT103,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT102}};
#define _OMC_LIT103 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT103)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT104,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(14)),_OMC_LIT4,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT5,_OMC_LIT7,_OMC_LIT101,_OMC_LIT103}};
#define _OMC_LIT104 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT104)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT105,1,5) {&ErrorTypes_MessageType_TRANSLATION__desc,}};
#define _OMC_LIT105 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT105)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT106,1,4) {&ErrorTypes_Severity_ERROR__desc,}};
#define _OMC_LIT106 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT106)
#define _OMC_LIT107_data "Internal error %s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT107,17,_OMC_LIT107_data);
#define _OMC_LIT107 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT107)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT108,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT107}};
#define _OMC_LIT108 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT108)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT109,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(63)),_OMC_LIT105,_OMC_LIT106,_OMC_LIT108}};
#define _OMC_LIT109 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT109)
#define _OMC_LIT110_data "NBCausalize.getModule failed for unknown option: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT110,49,_OMC_LIT110_data);
#define _OMC_LIT110 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT110)
#define _OMC_LIT111_data "NBCausalize.checkSystemVariabilities failed. The following strong component has conflicting types: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT111,99,_OMC_LIT111_data);
#define _OMC_LIT111 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT111)
#define _OMC_LIT112_data " != "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT112,4,_OMC_LIT112_data);
#define _OMC_LIT112 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT112)
#define _OMC_LIT113_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT113,1,_OMC_LIT113_data);
#define _OMC_LIT113 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT113)
#define _OMC_LIT114_data "bltdump"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT114,7,_OMC_LIT114_data);
#define _OMC_LIT114 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT114)
#define _OMC_LIT115_data "Dumps information from index reduction."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT115,39,_OMC_LIT115_data);
#define _OMC_LIT115 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT115)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT116,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT115}};
#define _OMC_LIT116 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT116)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT117,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(51)),_OMC_LIT114,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT116}};
#define _OMC_LIT117 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT117)
#define _OMC_LIT118_data "%s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT118,2,_OMC_LIT118_data);
#define _OMC_LIT118 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT118)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT119,2,4) {&Gettext_TranslatableContent_notrans__desc,_OMC_LIT118}};
#define _OMC_LIT119 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT119)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT120,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(5999)),_OMC_LIT105,_OMC_LIT106,_OMC_LIT119}};
#define _OMC_LIT120 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT120)
#define _OMC_LIT121_data "Balance Initialization"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT121,22,_OMC_LIT121_data);
#define _OMC_LIT121 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT121)
#define _OMC_LIT122_data "initialization"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT122,14,_OMC_LIT122_data);
#define _OMC_LIT122 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT122)
#define _OMC_LIT123_data "Shows additional information from the initialization process."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT123,61,_OMC_LIT123_data);
#define _OMC_LIT123 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT123)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT124,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT123}};
#define _OMC_LIT124 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT124)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT125,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(86)),_OMC_LIT122,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT124}};
#define _OMC_LIT125 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT125)
#define _OMC_LIT126_data "NBCausalize.main failed with partition type "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT126,44,_OMC_LIT126_data);
#define _OMC_LIT126 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT126)
#define _OMC_LIT127_data "!"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT127,1,_OMC_LIT127_data);
#define _OMC_LIT127 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT127)
#include "util/modelica.h"

#include "NBCausalize_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBCausalize_causalizeDAEMode(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fpartition, modelica_metatype __omcQ_24in_5FvarData, modelica_metatype __omcQ_24in_5FeqData, modelica_metatype __omcQ_24in_5FfuncTree, modelica_metatype *out_varData, modelica_metatype *out_eqData, modelica_metatype *out_funcTree);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBCausalize_causalizeDAEMode,2,0) {(void*) boxptr_NBCausalize_causalizeDAEMode,0}};
#define boxvar_NBCausalize_causalizeDAEMode MMC_REFSTRUCTLIT(boxvar_lit_NBCausalize_causalizeDAEMode)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBCausalize_causalizePseudoArray(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fpartition, modelica_metatype __omcQ_24in_5FvarData, modelica_metatype __omcQ_24in_5FeqData, modelica_metatype __omcQ_24in_5FfuncTree, modelica_metatype *out_varData, modelica_metatype *out_eqData, modelica_metatype *out_funcTree);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBCausalize_causalizePseudoArray,2,0) {(void*) boxptr_NBCausalize_causalizePseudoArray,0}};
#define boxvar_NBCausalize_causalizePseudoArray MMC_REFSTRUCTLIT(boxvar_lit_NBCausalize_causalizePseudoArray)

static modelica_metatype closure0_NBStrongComponent_makeDAEModeResidualTraverse(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_eq_ptr)
{
  modelica_metatype acc = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBStrongComponent_makeDAEModeResidualTraverse(thData, $in_eq_ptr, acc);
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBCausalize_causalizeDAEMode(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fpartition, modelica_metatype __omcQ_24in_5FvarData, modelica_metatype __omcQ_24in_5FeqData, modelica_metatype __omcQ_24in_5FfuncTree, modelica_metatype *out_varData, modelica_metatype *out_eqData, modelica_metatype *out_funcTree)
{
  modelica_metatype _partition = NULL;
  modelica_metatype _varData = NULL;
  modelica_metatype _eqData = NULL;
  modelica_metatype _funcTree = NULL;
  modelica_metatype _acc = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _partition = __omcQ_24in_5Fpartition;
  _varData = __omcQ_24in_5FvarData;
  _eqData = __omcQ_24in_5FeqData;
  _funcTree = __omcQ_24in_5FfuncTree;
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _acc = omc_Pointer_create(threadData, tmpMeta1);
  tmpMeta2 = mmc_mk_box1(0, _acc);
  omc_NBEquation_EquationPointers_mapPtr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 6))), (modelica_fnptr) mmc_mk_box2(0,closure0_NBStrongComponent_makeDAEModeResidualTraverse,tmpMeta2));

  tmpMeta3 = MMC_TAGPTR(mmc_alloc_words(10));
  memcpy(MMC_UNTAGPTR(tmpMeta3), MMC_UNTAGPTR(_partition), 10*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta3))[9] = mmc_mk_some(omc_List_listArrayReverse(threadData, omc_Pointer_access(threadData, _acc)));
  _partition = tmpMeta3;
  _return: OMC_LABEL_UNUSED
  if (out_varData) { *out_varData = _varData; }
  if (out_eqData) { *out_eqData = _eqData; }
  if (out_funcTree) { *out_funcTree = _funcTree; }
  return _partition;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBCausalize_causalizePseudoArray(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fpartition, modelica_metatype __omcQ_24in_5FvarData, modelica_metatype __omcQ_24in_5FeqData, modelica_metatype __omcQ_24in_5FfuncTree, modelica_metatype *out_varData, modelica_metatype *out_eqData, modelica_metatype *out_funcTree)
{
  modelica_metatype _partition = NULL;
  modelica_metatype _varData = NULL;
  modelica_metatype _eqData = NULL;
  modelica_metatype _funcTree = NULL;
  modelica_integer _kind;
  modelica_metatype _variables = NULL;
  modelica_metatype _equations = NULL;
  modelica_metatype _full = NULL;
  modelica_metatype _adj_matching = NULL;
  modelica_metatype _adj_sorting = NULL;
  modelica_metatype _matching = NULL;
  modelica_metatype _comps = NULL;
  modelica_metatype tmpMeta30;
  modelica_metatype tmpMeta31;
  modelica_metatype tmpMeta32;
  modelica_metatype tmpMeta33;
  modelica_metatype tmpMeta34;
  modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _partition = __omcQ_24in_5Fpartition;
  _varData = __omcQ_24in_5FvarData;
  _eqData = __omcQ_24in_5FeqData;
  _funcTree = __omcQ_24in_5FfuncTree;
  _kind = omc_NBPartition_Partition_getKind(threadData, _partition);
  // _variables has no default value.
  // _equations has no default value.
  // _full has no default value.
  // _adj_matching has no default value.
  // _adj_sorting has no default value.
  // _matching has no default value.
  // _comps has no default value.
  
  
  
  
  
  { /* match expression */
    modelica_integer tmp4_1;
    tmp4_1 = (modelica_integer)_kind;
    {
      modelica_metatype _fixable = NULL;
      modelica_metatype _unfixable = NULL;
      modelica_metatype _initials = NULL;
      modelica_metatype _simulation = NULL;
      modelica_metatype _vo = NULL;
      modelica_metatype _vn = NULL;
      modelica_metatype _eo = NULL;
      modelica_metatype _en = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _fixable has no default value.
      // _unfixable has no default value.
      // _initials has no default value.
      // _simulation has no default value.
      // _vo has no default value.
      // _vn has no default value.
      // _eo has no default value.
      // _en has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta23;
          if (5 != tmp4_1) goto tmp3_end;
          _kind = tmp4_1;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_TAGPTR(mmc_alloc_words(10));
          memcpy(MMC_UNTAGPTR(tmpMeta6), MMC_UNTAGPTR(_partition), 10*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta6))[4] = omc_NBVariable_VariablePointers_compress(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 4))));
          _partition = tmpMeta6;

          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(10));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_partition), 10*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[6] = omc_NBEquation_EquationPointers_compress(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 6))));
          _partition = tmpMeta7;

          _fixable = omc_List_splitOnTrue(threadData, omc_NBVariable_VariablePointers_toList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 4)))), boxvar_NBVariable_isFixable ,&_unfixable);

          _initials = omc_List_splitOnTrue(threadData, omc_NBEquation_EquationPointers_toList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 6)))), boxvar_NBEquation_Equation_isInitial ,&_simulation);

          _full = omc_NBAdjacency_Matrix_createFull(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 6))));

          {
            modelica_metatype __omcQ_24tmpVar9;
            modelica_metatype* tmp9;
            modelica_metatype tmpMeta10;
            modelica_metatype __omcQ_24tmpVar8;
            modelica_integer tmp11;
            modelica_metatype _var_loopVar = 0;
            modelica_metatype _var;
            _var_loopVar = _unfixable;
            tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar9 = tmpMeta10; /* defaultValue */
            tmp9 = &__omcQ_24tmpVar9;
            while(1) {
              tmp11 = 1;
              if (!listEmpty(_var_loopVar)) {
                _var = MMC_CAR(_var_loopVar);
                _var_loopVar = MMC_CDR(_var_loopVar);
                tmp11--;
              }
              if (tmp11 == 0) {
                __omcQ_24tmpVar8 = omc_NBVariable_getVarName(threadData, _var);
                *tmp9 = mmc_mk_cons(__omcQ_24tmpVar8,0);
                tmp9 = &MMC_CDR(*tmp9);
              } else if (tmp11 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp9 = mmc_mk_nil();
            tmpMeta8 = __omcQ_24tmpVar9;
          }
          _vn = omc_UnorderedMap_subMap(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 4)))), 2))), tmpMeta8);

          {
            modelica_metatype __omcQ_24tmpVar11;
            modelica_metatype* tmp13;
            modelica_metatype tmpMeta14;
            modelica_metatype __omcQ_24tmpVar10;
            modelica_integer tmp15;
            modelica_metatype _eqn_loopVar = 0;
            modelica_metatype _eqn;
            _eqn_loopVar = _initials;
            tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar11 = tmpMeta14; /* defaultValue */
            tmp13 = &__omcQ_24tmpVar11;
            while(1) {
              tmp15 = 1;
              if (!listEmpty(_eqn_loopVar)) {
                _eqn = MMC_CAR(_eqn_loopVar);
                _eqn_loopVar = MMC_CDR(_eqn_loopVar);
                tmp15--;
              }
              if (tmp15 == 0) {
                __omcQ_24tmpVar10 = omc_NBEquation_Equation_getEqnName(threadData, _eqn);
                *tmp13 = mmc_mk_cons(__omcQ_24tmpVar10,0);
                tmp13 = &MMC_CDR(*tmp13);
              } else if (tmp15 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp13 = mmc_mk_nil();
            tmpMeta12 = __omcQ_24tmpVar11;
          }
          _en = omc_UnorderedMap_subMap(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 6)))), 2))), tmpMeta12);

          _adj_matching = omc_NBAdjacency_Matrix_fromFull(threadData, _full, _vn, _en, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 6))), 2, _OMC_LIT0);

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta18 = mmc_mk_box3(3, &NBMatching_MATCHING__desc, listArray(tmpMeta16), listArray(tmpMeta17));
          _matching = omc_NBMatching_regular(threadData, tmpMeta18, _adj_matching, 1 /* true */, 1 /* true */, 1 /* true */);

          _vo = _vn;

          _eo = _en;

          _vn = omc_UnorderedMap_new(threadData, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual, ((modelica_integer) 1));

          {
            modelica_metatype __omcQ_24tmpVar13;
            modelica_metatype* tmp20;
            modelica_metatype tmpMeta21;
            modelica_metatype __omcQ_24tmpVar12;
            modelica_integer tmp22;
            modelica_metatype _eqn_loopVar = 0;
            modelica_metatype _eqn;
            _eqn_loopVar = _simulation;
            tmpMeta21 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar13 = tmpMeta21; /* defaultValue */
            tmp20 = &__omcQ_24tmpVar13;
            while(1) {
              tmp22 = 1;
              if (!listEmpty(_eqn_loopVar)) {
                _eqn = MMC_CAR(_eqn_loopVar);
                _eqn_loopVar = MMC_CDR(_eqn_loopVar);
                tmp22--;
              }
              if (tmp22 == 0) {
                __omcQ_24tmpVar12 = omc_NBEquation_Equation_getEqnName(threadData, _eqn);
                *tmp20 = mmc_mk_cons(__omcQ_24tmpVar12,0);
                tmp20 = &MMC_CDR(*tmp20);
              } else if (tmp22 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp20 = mmc_mk_nil();
            tmpMeta19 = __omcQ_24tmpVar13;
          }
          _en = omc_UnorderedMap_subMap(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 6)))), 2))), tmpMeta19);

          _adj_matching = omc_NBAdjacency_Matrix_expand(threadData, _adj_matching, _full, _vo, _vn, _eo, _en, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 6))) ,&_full);

          _matching = omc_NBMatching_regular(threadData, _matching, _adj_matching, 1 /* true */, 1 /* true */, 1 /* true */);

          _vo = omc_UnorderedMap_merge(threadData, _vo, _vn, _OMC_LIT2);

          _eo = omc_UnorderedMap_merge(threadData, _eo, _en, _OMC_LIT3);

          {
            modelica_metatype __omcQ_24tmpVar15;
            modelica_metatype* tmp24;
            modelica_metatype tmpMeta25;
            modelica_metatype __omcQ_24tmpVar14;
            modelica_integer tmp26;
            modelica_metatype _var_loopVar = 0;
            modelica_metatype _var;
            _var_loopVar = _fixable;
            tmpMeta25 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar15 = tmpMeta25; /* defaultValue */
            tmp24 = &__omcQ_24tmpVar15;
            while(1) {
              tmp26 = 1;
              if (!listEmpty(_var_loopVar)) {
                _var = MMC_CAR(_var_loopVar);
                _var_loopVar = MMC_CDR(_var_loopVar);
                tmp26--;
              }
              if (tmp26 == 0) {
                __omcQ_24tmpVar14 = omc_NBVariable_getVarName(threadData, _var);
                *tmp24 = mmc_mk_cons(__omcQ_24tmpVar14,0);
                tmp24 = &MMC_CDR(*tmp24);
              } else if (tmp26 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp24 = mmc_mk_nil();
            tmpMeta23 = __omcQ_24tmpVar15;
          }
          _vn = omc_UnorderedMap_subMap(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 4)))), 2))), tmpMeta23);

          _en = omc_UnorderedMap_new(threadData, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual, ((modelica_integer) 1));

          _adj_matching = omc_NBAdjacency_Matrix_expand(threadData, _adj_matching, _full, _vo, _vn, _eo, _en, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 6))) ,&_full);

          _matching = omc_NBMatching_singular(threadData, _matching, _adj_matching, _full, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 6))), _funcTree, _varData, _eqData, (modelica_integer)_kind, 0 /* false */, 0 /* false */ ,&_adj_matching ,&_full ,&_variables ,&_equations ,&_funcTree ,&_varData ,&_eqData);

          _adj_sorting = omc_NBAdjacency_Matrix_upgrade(threadData, _adj_matching, _full, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_equations), 2))), _equations, 3, _OMC_LIT0);

          _comps = omc_NBSorting_tarjan(threadData, _adj_sorting, _matching, _variables, _equations);
          tmpMeta[0+0] = _variables;
          tmpMeta[0+1] = _equations;
          tmpMeta[0+2] = _full;
          tmpMeta[0+3] = _matching;
          tmpMeta[0+4] = _comps;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          
          /* Pattern matching succeeded */
          _variables = omc_NBVariable_VariablePointers_compress(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 4))));

          _equations = omc_NBEquation_EquationPointers_compress(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 6))));

          omc_NBASSC_main(threadData, _equations, _variables);

          _full = omc_NBAdjacency_Matrix_createFull(threadData, _variables, _equations);

          _adj_matching = omc_NBAdjacency_Matrix_fromFull(threadData, _full, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_equations), 2))), _equations, 2, _OMC_LIT0);

          tmpMeta27 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta28 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta29 = mmc_mk_box3(3, &NBMatching_MATCHING__desc, listArray(tmpMeta27), listArray(tmpMeta28));
          _matching = omc_NBMatching_singular(threadData, tmpMeta29, _adj_matching, _full, _variables, _equations, _funcTree, _varData, _eqData, (modelica_integer)_kind, 0 /* false */, 1 /* true */ ,&_adj_matching ,&_full ,&_variables ,&_equations ,&_funcTree ,&_varData ,&_eqData);

          _adj_sorting = omc_NBAdjacency_Matrix_upgrade(threadData, _adj_matching, _full, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_variables), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_equations), 2))), _equations, 3, _OMC_LIT0);

          _comps = omc_NBSorting_tarjan(threadData, _adj_sorting, _matching, _variables, _equations);
          tmpMeta[0+0] = _variables;
          tmpMeta[0+1] = _equations;
          tmpMeta[0+2] = _full;
          tmpMeta[0+3] = _matching;
          tmpMeta[0+4] = _comps;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _variables = tmpMeta[0+0];
  _equations = tmpMeta[0+1];
  _full = tmpMeta[0+2];
  _matching = tmpMeta[0+3];
  _comps = tmpMeta[0+4];

  tmpMeta30 = MMC_TAGPTR(mmc_alloc_words(10));
  memcpy(MMC_UNTAGPTR(tmpMeta30), MMC_UNTAGPTR(_partition), 10*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta30))[4] = _variables;
  _partition = tmpMeta30;

  tmpMeta31 = MMC_TAGPTR(mmc_alloc_words(10));
  memcpy(MMC_UNTAGPTR(tmpMeta31), MMC_UNTAGPTR(_partition), 10*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta31))[6] = _equations;
  _partition = tmpMeta31;

  tmpMeta32 = MMC_TAGPTR(mmc_alloc_words(10));
  memcpy(MMC_UNTAGPTR(tmpMeta32), MMC_UNTAGPTR(_partition), 10*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta32))[7] = mmc_mk_some(_full);
  _partition = tmpMeta32;

  tmpMeta33 = MMC_TAGPTR(mmc_alloc_words(10));
  memcpy(MMC_UNTAGPTR(tmpMeta33), MMC_UNTAGPTR(_partition), 10*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta33))[8] = mmc_mk_some(_matching);
  _partition = tmpMeta33;

  tmpMeta34 = MMC_TAGPTR(mmc_alloc_words(10));
  memcpy(MMC_UNTAGPTR(tmpMeta34), MMC_UNTAGPTR(_partition), 10*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta34))[9] = mmc_mk_some(listArray(_comps));
  _partition = tmpMeta34;
  _return: OMC_LABEL_UNUSED
  if (out_varData) { *out_varData = _varData; }
  if (out_eqData) { *out_eqData = _eqData; }
  if (out_funcTree) { *out_funcTree = _funcTree; }
  return _partition;
}

DLLDirection
modelica_fnptr omc_NBCausalize_getModule(threadData_t *threadData)
{
  modelica_fnptr _func;
  modelica_string _flag = NULL;
  modelica_fnptr tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _flag = omc_Flags_getConfigString(threadData, _OMC_LIT104);
  { /* match expression */
    modelica_string tmp4_1;
    tmp4_1 = _flag;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (9 != MMC_STRLEN(tmp4_1) || strcmp(MMC_STRINGDATA(_OMC_LIT6), MMC_STRINGDATA(tmp4_1)) != 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = boxvar_NBCausalize_causalizePseudoArray;
          goto tmp3_done;
        }
        case 1: {
          if (6 != MMC_STRLEN(tmp4_1) || strcmp(MMC_STRINGDATA(_OMC_LIT75), MMC_STRINGDATA(tmp4_1)) != 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = boxvar_NBCausalize_causalizePseudoArray;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = stringAppend(_OMC_LIT110,_flag);
          tmpMeta6 = mmc_mk_cons(tmpMeta7, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT109, tmpMeta6);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _func = (modelica_fnptr) tmp1;
  _return: OMC_LABEL_UNUSED
  return _func;
}

DLLDirection
modelica_metatype omc_NBCausalize_simple(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _eqns, modelica_integer _st, modelica_metatype _iter, modelica_metatype *out_comps)
{
  modelica_metatype _matching = NULL;
  modelica_metatype _comps = NULL;
  modelica_metatype _full = NULL;
  modelica_metatype _adj = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _matching has no default value.
  // _comps has no default value.
  // _full has no default value.
  // _adj has no default value.
  _full = omc_NBAdjacency_Matrix_createFull(threadData, _vars, _eqns);

  _adj = omc_NBAdjacency_Matrix_fromFull(threadData, _full, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_vars), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqns), 2))), _eqns, (modelica_integer)_st, _iter);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta3 = mmc_mk_box3(3, &NBMatching_MATCHING__desc, listArray(tmpMeta1), listArray(tmpMeta2));
  _matching = omc_NBMatching_regular(threadData, tmpMeta3, _adj, 0 /* false */, 0 /* false */, 1 /* true */);

  _adj = omc_NBAdjacency_Matrix_upgrade(threadData, _adj, _full, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_vars), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqns), 2))), _eqns, 3, _OMC_LIT0);

  _comps = omc_NBSorting_tarjan(threadData, _adj, _matching, _vars, _eqns);
  _return: OMC_LABEL_UNUSED
  if (out_comps) { *out_comps = _comps; }
  return _matching;
}
modelica_metatype boxptr_NBCausalize_simple(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _eqns, modelica_metatype _st, modelica_metatype _iter, modelica_metatype *out_comps)
{
  modelica_integer tmp1;
  modelica_metatype _matching = NULL;
  tmp1 = mmc_unbox_integer(_st);
  _matching = omc_NBCausalize_simple(threadData, _vars, _eqns, tmp1, _iter, out_comps);
  /* skip box _matching; NBMatching */
  /* skip box _comps; list<NBStrongComponent> */
  return _matching;
}

DLLDirection
modelica_boolean omc_NBCausalize_checkSystemVariabilities(threadData_t *threadData, modelica_metatype _partition)
{
  modelica_boolean _violated;
  modelica_string _err = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta14;
  modelica_integer tmp15;
  modelica_integer tmp16;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _violated = 0 /* false */;
  // _err has no default value.
  if(isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 9)))))
  {
    {
      modelica_metatype _scc;
      for (tmpMeta1 = omc_Util_getOption(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_partition), 9)))), tmp16 = arrayLength(tmpMeta1), tmp15 = 1; tmp15 <= tmp16; tmp15++)
      {
        _scc = arrayGet(tmpMeta1,tmp15);
        { /* match expression */
          modelica_metatype tmp4_1;
          tmp4_1 = _scc;
          {
            modelica_metatype _ty1 = NULL;
            modelica_metatype _ty2 = NULL;
            volatile mmc_switch_type tmp4;
            int tmp5;
            // _ty1 has no default value.
            // _ty2 has no default value.
            tmp4 = 0;
            for (; tmp4 < 2; tmp4++) {
              switch (MMC_SWITCH_CAST(tmp4)) {
              case 0: {
                modelica_metatype tmpMeta6;
                modelica_metatype tmpMeta7;
                modelica_metatype tmpMeta8;
                modelica_metatype tmpMeta9;
                modelica_metatype tmpMeta10;
                modelica_metatype tmpMeta11;
                modelica_metatype tmpMeta12;
                modelica_metatype tmpMeta13;
                if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,3) == 0) goto tmp3_end;
                
                /* Pattern matching succeeded */
                _ty1 = omc_NFType_removeSizeOneArraysAndRecords(threadData, omc_NFVariable_typeOf(threadData, omc_Pointer_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_scc), 2))))));

                _ty2 = omc_NFType_removeSizeOneArraysAndRecords(threadData, omc_NBEquation_Equation_getType(threadData, omc_Pointer_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_scc), 3)))), 0 /* false */));

                if((!omc_NFType_isEqual(threadData, _ty1, _ty2)))
                {
                  tmpMeta6 = stringAppend(_OMC_LIT111,omc_NFType_toString(threadData, _ty1));
                  tmpMeta7 = stringAppend(tmpMeta6,_OMC_LIT112);
                  tmpMeta8 = stringAppend(tmpMeta7,omc_NFType_toString(threadData, _ty2));
                  tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT113);
                  tmpMeta10 = stringAppend(tmpMeta9,omc_NBStrongComponent_toString(threadData, _scc, ((modelica_integer) -1)));
                  _err = tmpMeta10;

                  if(omc_Flags_isSet(threadData, _OMC_LIT117))
                  {
                    tmpMeta11 = stringAppend(_err,_OMC_LIT113);
                    tmpMeta12 = stringAppend(tmpMeta11,omc_NBPartition_Partition_toString(threadData, _partition, ((modelica_integer) 0)));
                    _err = tmpMeta12;
                  }

                  tmpMeta13 = mmc_mk_cons(_err, MMC_REFSTRUCTLIT(mmc_nil));
                  omc_Error_addMessage(threadData, _OMC_LIT120, tmpMeta13);

                  _violated = 1 /* true */;
                }
                goto tmp3_done;
              }
              case 1: {
                
                /* Pattern matching succeeded */
                goto tmp3_done;
              }
              }
              goto tmp3_end;
              tmp3_end: ;
            }
            goto goto_2;
            goto_2:;
            MMC_THROW_INTERNAL();
            goto tmp3_done;
            tmp3_done:;
          }
        }
        ;
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _violated;
}
modelica_metatype boxptr_NBCausalize_checkSystemVariabilities(threadData_t *threadData, modelica_metatype _partition)
{
  modelica_boolean _violated;
  modelica_metatype out_violated;
  _violated = omc_NBCausalize_checkSystemVariabilities(threadData, _partition);
  out_violated = mmc_mk_icon(_violated);
  return out_violated;
}

DLLDirection
modelica_metatype omc_NBCausalize_applyModule(threadData_t *threadData, modelica_metatype _partitions, modelica_integer _kind, modelica_metatype __omcQ_24in_5FvarData, modelica_metatype __omcQ_24in_5FeqData, modelica_metatype __omcQ_24in_5FfuncTree, modelica_fnptr _func, modelica_metatype *out_varData, modelica_metatype *out_eqData, modelica_metatype *out_funcTree)
{
  modelica_metatype _new_partitions = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _varData = NULL;
  modelica_metatype _eqData = NULL;
  modelica_metatype _funcTree = NULL;
  modelica_metatype _new_partition = NULL;
  modelica_boolean _violated;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _new_partitions = tmpMeta1;
  _varData = __omcQ_24in_5FvarData;
  _eqData = __omcQ_24in_5FeqData;
  _funcTree = __omcQ_24in_5FfuncTree;
  // _new_partition has no default value.
  _violated = 0 /* false */;
  {
    modelica_metatype _partition;
    for (tmpMeta2 = _partitions; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _partition = MMC_CAR(tmpMeta2);
      _new_partition = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 2))), _partition, _varData, _eqData, _funcTree ,&_varData ,&_eqData ,&_funcTree) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (threadData, _partition, _varData, _eqData, _funcTree ,&_varData ,&_eqData ,&_funcTree);

      tmpMeta3 = mmc_mk_cons(_new_partition, _new_partitions);
      _new_partitions = tmpMeta3;
    }
  }

  _new_partitions = listReverse(_new_partitions);

  if(((modelica_integer)_kind != 5))
  {
    {
      modelica_metatype _partition;
      for (tmpMeta5 = _new_partitions; !listEmpty(tmpMeta5); tmpMeta5=MMC_CDR(tmpMeta5))
      {
        _partition = MMC_CAR(tmpMeta5);
        _violated = (omc_NBCausalize_checkSystemVariabilities(threadData, _partition) || _violated);
      }
    }

    if(_violated)
    {
      MMC_THROW_INTERNAL();
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_varData) { *out_varData = _varData; }
  if (out_eqData) { *out_eqData = _eqData; }
  if (out_funcTree) { *out_funcTree = _funcTree; }
  return _new_partitions;
}
modelica_metatype boxptr_NBCausalize_applyModule(threadData_t *threadData, modelica_metatype _partitions, modelica_metatype _kind, modelica_metatype __omcQ_24in_5FvarData, modelica_metatype __omcQ_24in_5FeqData, modelica_metatype __omcQ_24in_5FfuncTree, modelica_fnptr _func, modelica_metatype *out_varData, modelica_metatype *out_eqData, modelica_metatype *out_funcTree)
{
  modelica_integer tmp1;
  modelica_metatype _new_partitions = NULL;
  modelica_metatype tmpMeta2;
  tmp1 = mmc_unbox_integer(_kind);
  _new_partitions = omc_NBCausalize_applyModule(threadData, _partitions, tmp1, __omcQ_24in_5FvarData, __omcQ_24in_5FeqData, __omcQ_24in_5FfuncTree, _func, out_varData, out_eqData, out_funcTree);
  /* skip box _new_partitions; list<NBPartition.Partition> */
  /* skip box _varData; NBVariable.VarData */
  /* skip box _eqData; NBEquation.EqData */
  /* skip box _funcTree; NFFlatten.FunctionTreeImpl.Tree */
  return _new_partitions;
}

DLLDirection
modelica_metatype omc_NBCausalize_main(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fbdae, modelica_integer _kind)
{
  modelica_metatype _bdae = NULL;
  modelica_fnptr _func;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _bdae = __omcQ_24in_5Fbdae;
  _func = omc_NBCausalize_getModule(threadData);
  { /* match expression */
    modelica_integer tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = (modelica_integer)_kind;
    tmp4_2 = _bdae;
    {
      modelica_metatype _partitions = NULL;
      modelica_metatype _clocked = NULL;
      modelica_metatype _varData = NULL;
      modelica_metatype _eqData = NULL;
      modelica_metatype _funcTree = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _partitions has no default value.
      // _clocked has no default value.
      // _varData has no default value.
      // _eqData has no default value.
      // _funcTree has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (1 != tmp4_1) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,13) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 10));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 11));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 14));
          _partitions = tmpMeta6;
          _clocked = tmpMeta7;
          _varData = tmpMeta8;
          _eqData = tmpMeta9;
          _funcTree = tmpMeta10;
          /* Pattern matching succeeded */
          _partitions = omc_NBCausalize_applyModule(threadData, _partitions, (modelica_integer)_kind, _varData, _eqData, _funcTree, ((modelica_fnptr) _func) ,&_varData ,&_eqData ,&_funcTree);

          _clocked = omc_NBCausalize_applyModule(threadData, _clocked, (modelica_integer)_kind, _varData, _eqData, _funcTree, ((modelica_fnptr) _func) ,&_varData ,&_eqData ,&_funcTree);

          tmpMeta11 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta11), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta11))[2] = _partitions;
          _bdae = tmpMeta11;

          tmpMeta12 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta12), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta12))[6] = _clocked;
          _bdae = tmpMeta12;

          tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[10] = _varData;
          _bdae = tmpMeta13;

          tmpMeta14 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta14), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta14))[11] = _eqData;
          _bdae = tmpMeta14;

          tmpMeta15 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta15), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta15))[14] = _funcTree;
          _bdae = tmpMeta15;
          tmpMeta1 = _bdae;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          if (5 != tmp4_1) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,13) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 10));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 11));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 14));
          _partitions = tmpMeta16;
          _varData = tmpMeta17;
          _eqData = tmpMeta18;
          _funcTree = tmpMeta19;
          /* Pattern matching succeeded */
          if(omc_Flags_isSet(threadData, _OMC_LIT125))
          {
            tmpMeta20 = stringAppend(omc_StringUtil_headline__1(threadData, _OMC_LIT121),_OMC_LIT113);
            fputs(MMC_STRINGDATA(tmpMeta20),stdout);
          }

          _partitions = omc_NBCausalize_applyModule(threadData, _partitions, (modelica_integer)_kind, _varData, _eqData, _funcTree, ((modelica_fnptr) _func) ,&_varData ,&_eqData ,&_funcTree);

          tmpMeta21 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta21), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta21))[7] = _partitions;
          _bdae = tmpMeta21;

          if(isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 8)))))
          {
            _partitions = omc_NBCausalize_applyModule(threadData, omc_Util_getOption(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_bdae), 8)))), (modelica_integer)_kind, _varData, _eqData, _funcTree, ((modelica_fnptr) _func) ,&_varData ,&_eqData ,&_funcTree);

            tmpMeta22 = MMC_TAGPTR(mmc_alloc_words(15));
            memcpy(MMC_UNTAGPTR(tmpMeta22), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta22))[8] = mmc_mk_some(_partitions);
            _bdae = tmpMeta22;
          }

          tmpMeta23 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta23), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta23))[10] = _varData;
          _bdae = tmpMeta23;

          tmpMeta24 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta24), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta24))[11] = _eqData;
          _bdae = tmpMeta24;

          tmpMeta25 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta25), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta25))[14] = _funcTree;
          _bdae = tmpMeta25;
          tmpMeta1 = _bdae;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          if (6 != tmp4_1) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,13) == 0) goto tmp3_end;
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 9));
          if (optionNone(tmpMeta26)) goto tmp3_end;
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta26), 1));
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 10));
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 11));
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 14));
          _partitions = tmpMeta27;
          _varData = tmpMeta28;
          _eqData = tmpMeta29;
          _funcTree = tmpMeta30;
          /* Pattern matching succeeded */
          _partitions = omc_NBCausalize_applyModule(threadData, _partitions, (modelica_integer)_kind, _varData, _eqData, _funcTree, boxvar_NBCausalize_causalizeDAEMode ,&_varData ,&_eqData ,&_funcTree);

          tmpMeta31 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta31), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta31))[9] = mmc_mk_some(_partitions);
          _bdae = tmpMeta31;

          tmpMeta32 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta32), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta32))[10] = _varData;
          _bdae = tmpMeta32;

          tmpMeta33 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta33), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta33))[11] = _eqData;
          _bdae = tmpMeta33;

          tmpMeta34 = MMC_TAGPTR(mmc_alloc_words(15));
          memcpy(MMC_UNTAGPTR(tmpMeta34), MMC_UNTAGPTR(_bdae), 15*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta34))[14] = _funcTree;
          _bdae = tmpMeta34;
          tmpMeta1 = _bdae;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          
          /* Pattern matching succeeded */
          tmpMeta36 = stringAppend(_OMC_LIT126,omc_NBPartition_Partition_kindToString(threadData, (modelica_integer)_kind));
          tmpMeta37 = stringAppend(tmpMeta36,_OMC_LIT127);
          tmpMeta35 = mmc_mk_cons(tmpMeta37, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT109, tmpMeta35);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _bdae = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _bdae;
}
modelica_metatype boxptr_NBCausalize_main(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fbdae, modelica_metatype _kind)
{
  modelica_integer tmp1;
  modelica_metatype _bdae = NULL;
  tmp1 = mmc_unbox_integer(_kind);
  _bdae = omc_NBCausalize_main(threadData, __omcQ_24in_5Fbdae, tmp1);
  /* skip box _bdae; NBackendDAE */
  return _bdae;
}

