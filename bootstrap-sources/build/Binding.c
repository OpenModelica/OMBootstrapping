#include "omc_simulation_settings.h"
#include "Binding.h"
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT0,2,7) {&Absyn_Exp_BOOL__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT0 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT0)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT1,2,16) {&Absyn_Exp_ARRAY__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT1 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,0,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,2,6) {&Absyn_Exp_STRING__desc,_OMC_LIT2}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
#define _OMC_LIT4_data "bool"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT4,4,_OMC_LIT4_data);
#define _OMC_LIT4 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT4)
#define _OMC_LIT5_data "array"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT5,5,_OMC_LIT5_data);
#define _OMC_LIT5 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT5)
#define _OMC_LIT6_data "string"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT6,6,_OMC_LIT6_data);
#define _OMC_LIT6 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT6)
#define _OMC_LIT7_data "%"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT7,1,_OMC_LIT7_data);
#define _OMC_LIT7 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT7)
#define _OMC_LIT8_data ":"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT8,1,_OMC_LIT8_data);
#define _OMC_LIT8 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT8)
#define _OMC_LIT9_data "all"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT9,3,_OMC_LIT9_data);
#define _OMC_LIT9 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT9)
#define _OMC_LIT10_data "modelID"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT10,7,_OMC_LIT10_data);
#define _OMC_LIT10 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data "component"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,9,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
#define _OMC_LIT12_data "template"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT12,8,_OMC_LIT12_data);
#define _OMC_LIT12 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "isMandatory"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,11,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
#define _OMC_LIT14_data "true"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT14,4,_OMC_LIT14_data);
#define _OMC_LIT14 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT14)
#define _OMC_LIT15_data "clientInstancePath"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT15,18,_OMC_LIT15_data);
#define _OMC_LIT15 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data "providerInstancePath"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,20,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
#define _OMC_LIT17_data "Mediator"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT17,8,_OMC_LIT17_data);
#define _OMC_LIT17 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT17)
#define _OMC_LIT18_data "mType"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT18,5,_OMC_LIT18_data);
#define _OMC_LIT18 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data "clients"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,7,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data "providers"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,9,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
#define _OMC_LIT21_data "preferred"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT21,9,_OMC_LIT21_data);
#define _OMC_LIT21 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data "... found client : "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,19,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
#define _OMC_LIT23_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT23,1,_OMC_LIT23_data);
#define _OMC_LIT23 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT23)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT24,1,4) {&Binding_Client__e_NO__PRED__desc,}};
#define _OMC_LIT24 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT24)
#define _OMC_LIT25_data "."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT25,1,_OMC_LIT25_data);
#define _OMC_LIT25 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data "... found provider "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,19,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
#define _OMC_LIT27_data "getPath"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT27,7,_OMC_LIT27_data);
#define _OMC_LIT27 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT27)
#define _OMC_LIT28_data "<interactive>"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT28,13,_OMC_LIT28_data);
#define _OMC_LIT28 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT28)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT29,1,4) {&Absyn_Each_NON__EACH__desc,}};
#define _OMC_LIT29 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT29)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT30,0.0);
#define _OMC_LIT30 MMC_REFREALLIT(_OMC_LIT_STRUCT30)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT31,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT2,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT30}};
#define _OMC_LIT31 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT31)
#define _OMC_LIT32_data "_autogen_bind_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT32,14,_OMC_LIT32_data);
#define _OMC_LIT32 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT32)
#define _OMC_LIT33_data "**** Applying modifier "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT33,23,_OMC_LIT33_data);
#define _OMC_LIT33 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT33)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT34,1,3) {&Absyn_EqMod_NOMOD__desc,}};
#define _OMC_LIT34 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT34)
#define _OMC_LIT35_data "... found instance provider "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT35,28,_OMC_LIT35_data);
#define _OMC_LIT35 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT35)
#define _OMC_LIT36_data "... infer binding "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT36,18,_OMC_LIT36_data);
#define _OMC_LIT36 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT36)
#define _OMC_LIT37_data "     "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT37,5,_OMC_LIT37_data);
#define _OMC_LIT37 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT37)
#define _OMC_LIT38_data "**** Ignoring Standard Modelica library\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT38,40,_OMC_LIT38_data);
#define _OMC_LIT38 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT38)
#define _OMC_LIT39_data "**** Ignoring Open Modelica library\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT39,36,_OMC_LIT39_data);
#define _OMC_LIT39 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT39)
#define _OMC_LIT40_data "**** Ignoring Complex library\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT40,30,_OMC_LIT40_data);
#define _OMC_LIT40 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT40)
#define _OMC_LIT41_data "*** Found a "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT41,12,_OMC_LIT41_data);
#define _OMC_LIT41 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT41)
#define _OMC_LIT42_data "Modelica"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT42,8,_OMC_LIT42_data);
#define _OMC_LIT42 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT42)
#define _OMC_LIT43_data "OpenModelica"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT43,12,_OMC_LIT43_data);
#define _OMC_LIT43 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT43)
#define _OMC_LIT44_data "Complex"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT44,7,_OMC_LIT44_data);
#define _OMC_LIT44 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT44)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT45,1,6) {&Absyn_InnerOuter_NOT__INNER__OUTER__desc,}};
#define _OMC_LIT45 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT45)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT46,1,5) {&Absyn_Parallelism_NON__PARALLEL__desc,}};
#define _OMC_LIT46 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT46)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT47,1,3) {&Absyn_Variability_VAR__desc,}};
#define _OMC_LIT47 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT47)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT48,1,5) {&Absyn_Direction_BIDIR__desc,}};
#define _OMC_LIT48 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT48)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT49,1,3) {&Absyn_IsField_NONFIELD__desc,}};
#define _OMC_LIT49 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT49)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT50,8,3) {&Absyn_ElementAttributes_ATTR__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT46,_OMC_LIT47,_OMC_LIT48,_OMC_LIT49,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT50 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT50)
#define _OMC_LIT51_data "_agen_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT51,6,_OMC_LIT51_data);
#define _OMC_LIT51 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data "VVDRlib.Verification.Design"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,27,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
#define _OMC_LIT53_data "VVDRlib.Verification.Requirement"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT53,32,_OMC_LIT53_data);
#define _OMC_LIT53 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT53)
#define _OMC_LIT54_data "VVDRlib.Verification.Scenario"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT54,29,_OMC_LIT54_data);
#define _OMC_LIT54 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT54)
#define _OMC_LIT55_data "VVDRlib"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT55,7,_OMC_LIT55_data);
#define _OMC_LIT55 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT55)
#define _OMC_LIT56_data "Verification"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT56,12,_OMC_LIT56_data);
#define _OMC_LIT56 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT56)
#define _OMC_LIT57_data "VerificationModel"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT57,17,_OMC_LIT57_data);
#define _OMC_LIT57 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT57)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT58,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT57}};
#define _OMC_LIT58 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT58)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT59,3,3) {&Absyn_Path_QUALIFIED__desc,_OMC_LIT56,_OMC_LIT58}};
#define _OMC_LIT59 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT59)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT60,3,3) {&Absyn_Path_QUALIFIED__desc,_OMC_LIT55,_OMC_LIT59}};
#define _OMC_LIT60 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT60)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT61,4,4) {&Absyn_ElementSpec_EXTENDS__desc,_OMC_LIT60,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT61 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT61)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT62,7,3) {&Absyn_Element_ELEMENT__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT45,_OMC_LIT61,_OMC_LIT31,MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT62 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT62)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT63,2,3) {&Absyn_ElementItem_ELEMENTITEM__desc,_OMC_LIT62}};
#define _OMC_LIT63 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT63)
#define _OMC_LIT64_data "verif_model_autogen_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT64,20,_OMC_LIT64_data);
#define _OMC_LIT64 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT64)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT65,1,5) {&Absyn_Restriction_R__MODEL__desc,}};
#define _OMC_LIT65 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT65)
#define _OMC_LIT66_data "Autogenerated verification model"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT66,32,_OMC_LIT66_data);
#define _OMC_LIT66 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT66)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT67,1,1) {_OMC_LIT66}};
#define _OMC_LIT67 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT67)
#define _OMC_LIT68_data "*** Autogenerated class: verif_model_autogen_"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT68,45,_OMC_LIT68_data);
#define _OMC_LIT68 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT68)
#define _OMC_LIT69_data "******** Autogenerated classes:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT69,32,_OMC_LIT69_data);
#define _OMC_LIT69 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT69)
#include "util/modelica.h"

#include "Binding_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getValueR(threadData_t *threadData, modelica_metatype _smod, modelica_string _name, modelica_string _retype);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getValueR,2,0) {(void*) boxptr_Binding_getValueR,0}};
#define boxvar_Binding_getValueR MMC_REFSTRUCTLIT(boxvar_lit_Binding_getValueR)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getValue(threadData_t *threadData, modelica_metatype _mod, modelica_string _name, modelica_string _retype);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getValue,2,0) {(void*) boxptr_Binding_getValue,0}};
#define boxvar_Binding_getValue MMC_REFSTRUCTLIT(boxvar_lit_Binding_getValue)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Binding_extendsType(threadData_t *threadData, modelica_metatype _elems, modelica_string _typeName, modelica_metatype *out_mods);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_extendsType(threadData_t *threadData, modelica_metatype _elems, modelica_metatype _typeName, modelica_metatype *out_mods);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_extendsType,2,0) {(void*) boxptr_Binding_extendsType,0}};
#define boxvar_Binding_extendsType MMC_REFSTRUCTLIT(boxvar_lit_Binding_extendsType)
PROTECTED_FUNCTION_STATIC modelica_string omc_Binding_getArg(threadData_t *threadData, modelica_metatype _argNames, modelica_string _name);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getArg,2,0) {(void*) boxptr_Binding_getArg,0}};
#define boxvar_Binding_getArg MMC_REFSTRUCTLIT(boxvar_lit_Binding_getArg)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getProviderList(threadData_t *threadData, modelica_metatype _e, modelica_metatype _val);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getProviderList,2,0) {(void*) boxptr_Binding_getProviderList,0}};
#define boxvar_Binding_getProviderList MMC_REFSTRUCTLIT(boxvar_lit_Binding_getProviderList)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getClientList(threadData_t *threadData, modelica_metatype _e, modelica_metatype _val);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getClientList,2,0) {(void*) boxptr_Binding_getClientList,0}};
#define boxvar_Binding_getClientList MMC_REFSTRUCTLIT(boxvar_lit_Binding_getClientList)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getPreferredList(threadData_t *threadData, modelica_metatype _e, modelica_metatype _val);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getPreferredList,2,0) {(void*) boxptr_Binding_getPreferredList,0}};
#define boxvar_Binding_getPreferredList MMC_REFSTRUCTLIT(boxvar_lit_Binding_getPreferredList)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getMediatorDefsElement(threadData_t *threadData, modelica_metatype _el);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getMediatorDefsElement,2,0) {(void*) boxptr_Binding_getMediatorDefsElement,0}};
#define boxvar_Binding_getMediatorDefsElement MMC_REFSTRUCTLIT(boxvar_lit_Binding_getMediatorDefsElement)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getMediatorDefsElements(threadData_t *threadData, modelica_metatype _mediator_defs, modelica_metatype _mediators_in);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getMediatorDefsElements,2,0) {(void*) boxptr_Binding_getMediatorDefsElements,0}};
#define boxvar_Binding_getMediatorDefsElements MMC_REFSTRUCTLIT(boxvar_lit_Binding_getMediatorDefsElements)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Binding_isClientInMediator(threadData_t *threadData, modelica_string _ci_name, modelica_metatype _clients, modelica_string *out_iname);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_isClientInMediator(threadData_t *threadData, modelica_metatype _ci_name, modelica_metatype _clients, modelica_metatype *out_iname);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_isClientInMediator,2,0) {(void*) boxptr_Binding_isClientInMediator,0}};
#define boxvar_Binding_isClientInMediator MMC_REFSTRUCTLIT(boxvar_lit_Binding_isClientInMediator)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Binding_isClient(threadData_t *threadData, modelica_string _ci_name, modelica_metatype _mediators, modelica_metatype _in_m, modelica_string *out_iname, modelica_metatype *out_m);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_isClient(threadData_t *threadData, modelica_metatype _ci_name, modelica_metatype _mediators, modelica_metatype _in_m, modelica_metatype *out_iname, modelica_metatype *out_m);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_isClient,2,0) {(void*) boxptr_Binding_isClient,0}};
#define boxvar_Binding_isClient MMC_REFSTRUCTLIT(boxvar_lit_Binding_isClient)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseElementInstList2(threadData_t *threadData, modelica_metatype _e_items, modelica_metatype _env, modelica_metatype _predecessors, modelica_metatype _mediators, modelica_metatype _in_client_list, modelica_metatype _instance_list, modelica_metatype _rootType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_parseElementInstList2,2,0) {(void*) boxptr_Binding_parseElementInstList2,0}};
#define boxvar_Binding_parseElementInstList2 MMC_REFSTRUCTLIT(boxvar_lit_Binding_parseElementInstList2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getComponentNames(threadData_t *threadData, modelica_metatype _l);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getComponentNames,2,0) {(void*) boxptr_Binding_getComponentNames,0}};
#define boxvar_Binding_getComponentNames MMC_REFSTRUCTLIT(boxvar_lit_Binding_getComponentNames)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseElementInstList(threadData_t *threadData, modelica_metatype _e_items, modelica_metatype _env, modelica_metatype _predecessors, modelica_metatype _mediators, modelica_metatype _in_client_list, modelica_metatype _instance_list);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_parseElementInstList,2,0) {(void*) boxptr_Binding_parseElementInstList,0}};
#define boxvar_Binding_parseElementInstList MMC_REFSTRUCTLIT(boxvar_lit_Binding_parseElementInstList)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Binding_isAlreadyInList(threadData_t *threadData, modelica_metatype _ts, modelica_metatype _predecessors);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_isAlreadyInList(threadData_t *threadData, modelica_metatype _ts, modelica_metatype _predecessors);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_isAlreadyInList,2,0) {(void*) boxptr_Binding_isAlreadyInList,0}};
#define boxvar_Binding_isAlreadyInList MMC_REFSTRUCTLIT(boxvar_lit_Binding_isAlreadyInList)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildInstList2(threadData_t *threadData, modelica_metatype _clazz, modelica_metatype _env, modelica_metatype _predecessors, modelica_metatype _mediators, modelica_metatype _client_list_in, modelica_metatype _instance_list, modelica_metatype _rootType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_buildInstList2,2,0) {(void*) boxptr_Binding_buildInstList2,0}};
#define boxvar_Binding_buildInstList2 MMC_REFSTRUCTLIT(boxvar_lit_Binding_buildInstList2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildInstList(threadData_t *threadData, modelica_metatype _clazz, modelica_metatype _env, modelica_metatype _predecessors, modelica_metatype _mediators, modelica_metatype _client_list_in, modelica_metatype _instance_list);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_buildInstList,2,0) {(void*) boxptr_Binding_buildInstList,0}};
#define boxvar_Binding_buildInstList MMC_REFSTRUCTLIT(boxvar_lit_Binding_buildInstList)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseComponents(threadData_t *threadData, modelica_string _className, modelica_string _template, modelica_metatype _e_items, modelica_metatype _env, modelica_metatype _components, modelica_metatype _in_components, modelica_string _pathInClass);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_parseComponents,2,0) {(void*) boxptr_Binding_parseComponents,0}};
#define boxvar_Binding_parseComponents MMC_REFSTRUCTLIT(boxvar_lit_Binding_parseComponents)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getAllProviderInstances(threadData_t *threadData, modelica_string _className, modelica_string _template, modelica_metatype _e_items, modelica_metatype _env, modelica_metatype _in_components, modelica_string _pathInClass);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getAllProviderInstances,2,0) {(void*) boxptr_Binding_getAllProviderInstances,0}};
#define boxvar_Binding_getAllProviderInstances MMC_REFSTRUCTLIT(boxvar_lit_Binding_getAllProviderInstances)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_updateCRF(threadData_t *threadData, modelica_metatype _componentRef, modelica_string _name);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_updateCRF,2,0) {(void*) boxptr_Binding_updateCRF,0}};
#define boxvar_Binding_updateCRF MMC_REFSTRUCTLIT(boxvar_lit_Binding_updateCRF)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseExpression(threadData_t *threadData, modelica_metatype _in_eq, modelica_string _fargs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_parseExpression,2,0) {(void*) boxptr_Binding_parseExpression,0}};
#define boxvar_Binding_parseExpression MMC_REFSTRUCTLIT(boxvar_lit_Binding_parseExpression)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyTemplate2(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _comps, modelica_metatype _in_es, modelica_string _pathInClass);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_applyTemplate2,2,0) {(void*) boxptr_Binding_applyTemplate2,0}};
#define boxvar_Binding_applyTemplate2 MMC_REFSTRUCTLIT(boxvar_lit_Binding_applyTemplate2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyTemplate(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _comps, modelica_metatype _in_es);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_applyTemplate,2,0) {(void*) boxptr_Binding_applyTemplate,0}};
#define boxvar_Binding_applyTemplate MMC_REFSTRUCTLIT(boxvar_lit_Binding_applyTemplate)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseAggregator(threadData_t *threadData, modelica_metatype _in_eq, modelica_metatype _fargs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_parseAggregator,2,0) {(void*) boxptr_Binding_parseAggregator,0}};
#define boxvar_Binding_parseAggregator MMC_REFSTRUCTLIT(boxvar_lit_Binding_parseAggregator)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildAllComponentModifiers3(threadData_t *threadData, modelica_string _prefix, modelica_metatype _name_list2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_buildAllComponentModifiers3,2,0) {(void*) boxptr_Binding_buildAllComponentModifiers3,0}};
#define boxvar_Binding_buildAllComponentModifiers3 MMC_REFSTRUCTLIT(boxvar_lit_Binding_buildAllComponentModifiers3)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildAllComponentModifiers2(threadData_t *threadData, modelica_metatype _name_list, modelica_metatype _name_list2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_buildAllComponentModifiers2,2,0) {(void*) boxptr_Binding_buildAllComponentModifiers2,0}};
#define boxvar_Binding_buildAllComponentModifiers2 MMC_REFSTRUCTLIT(boxvar_lit_Binding_buildAllComponentModifiers2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildAllComponentModifiers(threadData_t *threadData, modelica_metatype _name_list);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_buildAllComponentModifiers,2,0) {(void*) boxptr_Binding_buildAllComponentModifiers,0}};
#define boxvar_Binding_buildAllComponentModifiers MMC_REFSTRUCTLIT(boxvar_lit_Binding_buildAllComponentModifiers)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildComponentModifiers2(threadData_t *threadData, modelica_metatype _name_list, modelica_metatype _exp);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_buildComponentModifiers2,2,0) {(void*) boxptr_Binding_buildComponentModifiers2,0}};
#define boxvar_Binding_buildComponentModifiers2 MMC_REFSTRUCTLIT(boxvar_lit_Binding_buildComponentModifiers2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildComponentModifiers(threadData_t *threadData, modelica_metatype _name_list, modelica_metatype _exp);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_buildComponentModifiers,2,0) {(void*) boxptr_Binding_buildComponentModifiers,0}};
#define boxvar_Binding_buildComponentModifiers MMC_REFSTRUCTLIT(boxvar_lit_Binding_buildComponentModifiers)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyModifier(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_integer _counter, modelica_boolean _newName);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_applyModifier(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _counter, modelica_metatype _newName);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_applyModifier,2,0) {(void*) boxptr_Binding_applyModifier,0}};
#define boxvar_Binding_applyModifier MMC_REFSTRUCTLIT(boxvar_lit_Binding_applyModifier)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyModifiers(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_integer _counter, modelica_boolean _finalPrefix, modelica_metatype _redeclareKeywords, modelica_metatype _innerOuter, modelica_metatype _info, modelica_metatype _constrainClass, modelica_metatype _attributes, modelica_metatype _tSpec, modelica_boolean _newName);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_applyModifiers(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _counter, modelica_metatype _finalPrefix, modelica_metatype _redeclareKeywords, modelica_metatype _innerOuter, modelica_metatype _info, modelica_metatype _constrainClass, modelica_metatype _attributes, modelica_metatype _tSpec, modelica_metatype _newName);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_applyModifiers,2,0) {(void*) boxptr_Binding_applyModifiers,0}};
#define boxvar_Binding_applyModifiers MMC_REFSTRUCTLIT(boxvar_lit_Binding_applyModifiers)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyModifierPreferred(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_string _typeSp, modelica_metatype _instance_name, modelica_string _ename);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_applyModifierPreferred,2,0) {(void*) boxptr_Binding_applyModifierPreferred,0}};
#define boxvar_Binding_applyModifierPreferred MMC_REFSTRUCTLIT(boxvar_lit_Binding_applyModifierPreferred)
PROTECTED_FUNCTION_STATIC modelica_string omc_Binding_getPreferredBinding(threadData_t *threadData, modelica_string _ename, modelica_metatype _elems);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getPreferredBinding,2,0) {(void*) boxptr_Binding_getPreferredBinding,0}};
#define boxvar_Binding_getPreferredBinding MMC_REFSTRUCTLIT(boxvar_lit_Binding_getPreferredBinding)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyModifiersPreferred(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_string _typeSp, modelica_boolean _finalPrefix, modelica_metatype _redeclareKeywords, modelica_metatype _innerOuter, modelica_metatype _info, modelica_metatype _constrainClass, modelica_metatype _attributes, modelica_metatype _tSpec, modelica_metatype _preferred);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_applyModifiersPreferred(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _typeSp, modelica_metatype _finalPrefix, modelica_metatype _redeclareKeywords, modelica_metatype _innerOuter, modelica_metatype _info, modelica_metatype _constrainClass, modelica_metatype _attributes, modelica_metatype _tSpec, modelica_metatype _preferred);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_applyModifiersPreferred,2,0) {(void*) boxptr_Binding_applyModifiersPreferred,0}};
#define boxvar_Binding_applyModifiersPreferred MMC_REFSTRUCTLIT(boxvar_lit_Binding_applyModifiersPreferred)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseElems(threadData_t *threadData, modelica_metatype _in_elems, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp2, modelica_metatype _instance_name, modelica_boolean _hasPreferred, modelica_metatype _preferred, modelica_string _pathInClass);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_parseElems(threadData_t *threadData, modelica_metatype _in_elems, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp2, modelica_metatype _instance_name, modelica_metatype _hasPreferred, modelica_metatype _preferred, modelica_metatype _pathInClass);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_parseElems,2,0) {(void*) boxptr_Binding_parseElems,0}};
#define boxvar_Binding_parseElems MMC_REFSTRUCTLIT(boxvar_lit_Binding_parseElems)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseClassPart(threadData_t *threadData, modelica_metatype _in_def, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_boolean _hasPreferred, modelica_metatype _preferred, modelica_string _path);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_parseClassPart(threadData_t *threadData, modelica_metatype _in_def, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _hasPreferred, modelica_metatype _preferred, modelica_metatype _path);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_parseClassPart,2,0) {(void*) boxptr_Binding_parseClassPart,0}};
#define boxvar_Binding_parseClassPart MMC_REFSTRUCTLIT(boxvar_lit_Binding_parseClassPart)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseClassParts(threadData_t *threadData, modelica_metatype _classes, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_boolean _hasPreferred, modelica_metatype _preferred, modelica_string _path);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_parseClassParts(threadData_t *threadData, modelica_metatype _classes, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _hasPreferred, modelica_metatype _preferred, modelica_metatype _path);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_parseClassParts,2,0) {(void*) boxptr_Binding_parseClassParts,0}};
#define boxvar_Binding_parseClassParts MMC_REFSTRUCTLIT(boxvar_lit_Binding_parseClassParts)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseClassDef(threadData_t *threadData, modelica_metatype _in_def, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_boolean _hasPreferred, modelica_metatype _preferred, modelica_string _path);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_parseClassDef(threadData_t *threadData, modelica_metatype _in_def, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _hasPreferred, modelica_metatype _preferred, modelica_metatype _path);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_parseClassDef,2,0) {(void*) boxptr_Binding_parseClassDef,0}};
#define boxvar_Binding_parseClassDef MMC_REFSTRUCTLIT(boxvar_lit_Binding_parseClassDef)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_inferBindingClient(threadData_t *threadData, modelica_metatype _client_e, modelica_metatype _vmodel, modelica_metatype _env);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_inferBindingClient,2,0) {(void*) boxptr_Binding_inferBindingClient,0}};
#define boxvar_Binding_inferBindingClient MMC_REFSTRUCTLIT(boxvar_lit_Binding_inferBindingClient)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_inferBindingClientList(threadData_t *threadData, modelica_metatype _client_list, modelica_metatype _vmodel, modelica_metatype _env);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_inferBindingClientList,2,0) {(void*) boxptr_Binding_inferBindingClientList,0}};
#define boxvar_Binding_inferBindingClientList MMC_REFSTRUCTLIT(boxvar_lit_Binding_inferBindingClientList)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Binding_isOfType(threadData_t *threadData, modelica_metatype _elems, modelica_string _typeName);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_isOfType(threadData_t *threadData, modelica_metatype _elems, modelica_metatype _typeName);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_isOfType,2,0) {(void*) boxptr_Binding_isOfType,0}};
#define boxvar_Binding_isOfType MMC_REFSTRUCTLIT(boxvar_lit_Binding_isOfType)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getAllElementsOfType2(threadData_t *threadData, modelica_metatype _el, modelica_string _typeName, modelica_string _pathInProg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getAllElementsOfType2,2,0) {(void*) boxptr_Binding_getAllElementsOfType2,0}};
#define boxvar_Binding_getAllElementsOfType2 MMC_REFSTRUCTLIT(boxvar_lit_Binding_getAllElementsOfType2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getAllElementsOfType(threadData_t *threadData, modelica_metatype _element_defs, modelica_string _typeName, modelica_string _pathInProg, modelica_metatype _elements_in);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_getAllElementsOfType,2,0) {(void*) boxptr_Binding_getAllElementsOfType,0}};
#define boxvar_Binding_getAllElementsOfType MMC_REFSTRUCTLIT(boxvar_lit_Binding_getAllElementsOfType)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_populateModel(threadData_t *threadData, modelica_metatype _element_defs, modelica_integer _autoVal, modelica_metatype _elements_in);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_populateModel(threadData_t *threadData, modelica_metatype _element_defs, modelica_metatype _autoVal, modelica_metatype _elements_in);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Binding_populateModel,2,0) {(void*) boxptr_Binding_populateModel,0}};
#define boxvar_Binding_populateModel MMC_REFSTRUCTLIT(boxvar_lit_Binding_populateModel)

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getValueR(threadData_t *threadData, modelica_metatype _smod, modelica_string _name, modelica_string _retype)
{
  modelica_metatype _val = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _val has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_string tmp4_2;
    tmp4_1 = _smod;
    tmp4_2 = _retype;
    {
      modelica_metatype _eval = NULL;
      modelica_string _n = NULL;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _eval has no default value.
      // _n has no default value.
      // _rest has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (4 != MMC_STRLEN(tmp4_2) || strcmp(MMC_STRINGDATA(_OMC_LIT4), MMC_STRINGDATA(tmp4_2)) != 0) goto tmp3_end;
          tmp4 += 4; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _OMC_LIT0;
          goto tmp3_done;
        }
        case 1: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (5 != MMC_STRLEN(tmp4_2) || strcmp(MMC_STRINGDATA(_OMC_LIT5), MMC_STRINGDATA(tmp4_2)) != 0) goto tmp3_end;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _OMC_LIT1;
          goto tmp3_done;
        }
        case 2: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          if (6 != MMC_STRLEN(tmp4_2) || strcmp(MMC_STRINGDATA(_OMC_LIT6), MMC_STRINGDATA(tmp4_2)) != 0) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _OMC_LIT3;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,0,6) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 5));
          if (optionNone(tmpMeta10)) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 1));
          
          _n = tmpMeta8;
          _eval = tmpMeta11;
          /* Pattern matching succeeded */
          if((!stringEqual(_n, _name)))
          {
            goto goto_2;
          }
          tmpMeta1 = _eval;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta12 = MMC_CAR(tmp4_1);
          tmpMeta13 = MMC_CDR(tmp4_1);
          
          _rest = tmpMeta13;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_getValueR(threadData, _rest, _name, _retype);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _val = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _val;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getValue(threadData_t *threadData, modelica_metatype _mod, modelica_string _name, modelica_string _retype)
{
  modelica_metatype _val = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _val has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _mod;
    {
      modelica_metatype _smod = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _smod has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,6) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          
          _smod = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_getValueR(threadData, _smod, _name, _retype);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _val = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _val;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Binding_extendsType(threadData_t *threadData, modelica_metatype _elems, modelica_string _typeName, modelica_metatype *out_mods)
{
  modelica_boolean _result;
  modelica_metatype _mods = NULL;
  modelica_boolean tmp1_c0 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _result has no default value.
  // _mods has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _elems;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _mod = NULL;
      modelica_string _tName = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _mod has no default value.
      // _tName has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmp1_c0 = 0 /* false */;
          tmpMeta[0+1] = mmc_mk_none();
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_boolean tmp11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,5) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,1,1) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          
          _tName = tmpMeta9;
          _mod = tmpMeta10;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp11 = (stringEqual(_tName, _typeName));
          if (1 /* true */ != tmp11) goto goto_2;
          tmp1_c0 = 1 /* true */;
          tmpMeta[0+1] = mmc_mk_some(_mod);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta12 = MMC_CAR(tmp4_1);
          tmpMeta13 = MMC_CDR(tmp4_1);
          _rest = tmpMeta13;
          /* Pattern matching succeeded */
          tmp1_c0 = omc_Binding_extendsType(threadData, _rest, _typeName, &tmpMeta[0+1]);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _result = tmp1_c0;
  _mods = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_mods) { *out_mods = _mods; }
  return _result;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_extendsType(threadData_t *threadData, modelica_metatype _elems, modelica_metatype _typeName, modelica_metatype *out_mods)
{
  modelica_boolean _result;
  modelica_metatype out_result;
  _result = omc_Binding_extendsType(threadData, _elems, _typeName, out_mods);
  out_result = mmc_mk_icon(_result);
  /* skip box _mods; Option<SCode.Mod> */
  return out_result;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_Binding_getArg(threadData_t *threadData, modelica_metatype _argNames, modelica_string _name)
{
  modelica_string _val = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _val has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _argNames;
    {
      modelica_string _str = NULL;
      modelica_string _nname = NULL;
      modelica_string _str1 = NULL;
      modelica_string _str2 = NULL;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _str has no default value.
      // _nname has no default value.
      // _str1 has no default value.
      // _str2 has no default value.
      // _rest has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmp1 = _OMC_LIT2;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_boolean tmp11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,3,1) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          _nname = tmpMeta8;
          _str = tmpMeta10;
          /* Pattern matching succeeded */
          _str1 = omc_System_stringReplace(threadData, _str, _OMC_LIT7, _OMC_LIT2);

          _str2 = omc_System_stringReplace(threadData, _str1, _OMC_LIT8, _OMC_LIT9);

          /* Pattern-matching assignment */
          tmp11 = (stringEqual(_nname, _name));
          if (1 /* true */ != tmp11) goto goto_2;
          tmp1 = _str2;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta12 = MMC_CAR(tmp4_1);
          tmpMeta13 = MMC_CDR(tmp4_1);
          _rest = tmpMeta13;
          /* Pattern matching succeeded */
          tmp1 = omc_Binding_getArg(threadData, _rest, _name);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _val = tmp1;
  _return: OMC_LABEL_UNUSED
  return _val;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getProviderList(threadData_t *threadData, modelica_metatype _e, modelica_metatype _val)
{
  modelica_metatype _n_val = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _n_val has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _e;
    {
      modelica_metatype _argNames = NULL;
      modelica_metatype _rest = NULL;
      modelica_string _className = NULL;
      modelica_string _providerTemplate = NULL;
      modelica_string _instance = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _argNames has no default value.
      // _rest has no default value.
      // _className has no default value.
      // _providerTemplate has no default value.
      // _instance has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _val;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,11,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,2) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 3));
          
          _argNames = tmpMeta9;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _className = omc_Binding_getArg(threadData, _argNames, _OMC_LIT10);

          _instance = omc_Binding_getArg(threadData, _argNames, _OMC_LIT11);

          _providerTemplate = omc_Binding_getArg(threadData, _argNames, _OMC_LIT12);
          tmpMeta11 = mmc_mk_box4(3, &Binding_Provider_PROVIDER__desc, _className, _instance, _providerTemplate);
          tmpMeta10 = mmc_mk_cons(tmpMeta11, _val);
          /* Tail recursive call */
          _e = _rest;
          _val = tmpMeta10;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _n_val = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _n_val;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getClientList(threadData_t *threadData, modelica_metatype _e, modelica_metatype _val)
{
  modelica_metatype _n_val = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _n_val has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _e;
    {
      modelica_metatype _argNames = NULL;
      modelica_metatype _rest = NULL;
      modelica_string _className = NULL;
      modelica_string _instance = NULL;
      modelica_string _template = NULL;
      modelica_string _isM = NULL;
      modelica_boolean _isMandatory;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _argNames has no default value.
      // _rest has no default value.
      // _className has no default value.
      // _instance has no default value.
      // _template has no default value.
      // _isM has no default value.
      // _isMandatory has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _val;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,11,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,2) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 3));
          
          _argNames = tmpMeta9;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _className = omc_Binding_getArg(threadData, _argNames, _OMC_LIT10);

          _instance = omc_Binding_getArg(threadData, _argNames, _OMC_LIT11);

          _template = omc_Binding_getArg(threadData, _argNames, _OMC_LIT12);

          _isM = omc_Binding_getArg(threadData, _argNames, _OMC_LIT13);

          if((stringEqual(_isM, _OMC_LIT14)))
          {
            _isMandatory = 1 /* true */;
          }
          else
          {
            _isMandatory = 0 /* false */;
          }
          tmpMeta11 = mmc_mk_box5(3, &Binding_Client_CLIENT__desc, _className, _instance, _template, mmc_mk_boolean(_isMandatory));
          tmpMeta10 = mmc_mk_cons(tmpMeta11, _val);
          /* Tail recursive call */
          _e = _rest;
          _val = tmpMeta10;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _n_val = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _n_val;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getPreferredList(threadData_t *threadData, modelica_metatype _e, modelica_metatype _val)
{
  modelica_metatype _n_val = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _n_val has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _e;
    {
      modelica_metatype _argNames = NULL;
      modelica_metatype _rest = NULL;
      modelica_string _clientInstancePath = NULL;
      modelica_string _providerInstancePath = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _argNames has no default value.
      // _rest has no default value.
      // _clientInstancePath has no default value.
      // _providerInstancePath has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _val;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,11,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,2) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 3));
          
          _argNames = tmpMeta9;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _clientInstancePath = omc_Binding_getArg(threadData, _argNames, _OMC_LIT15);

          _providerInstancePath = omc_Binding_getArg(threadData, _argNames, _OMC_LIT16);
          tmpMeta11 = mmc_mk_box3(3, &Binding_Preferred_PREFERRED__desc, _clientInstancePath, _providerInstancePath);
          tmpMeta10 = mmc_mk_cons(tmpMeta11, _val);
          /* Tail recursive call */
          _e = _rest;
          _val = tmpMeta10;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _n_val = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _n_val;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getMediatorDefsElement(threadData_t *threadData, modelica_metatype _el)
{
  modelica_metatype _mediator = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _mediator has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _el;
    {
      modelica_metatype _elist = NULL;
      modelica_metatype _mod = NULL;
      modelica_metatype _cMod = NULL;
      modelica_metatype _pMod = NULL;
      modelica_metatype _prMod = NULL;
      modelica_string _template = NULL;
      modelica_string _mType = NULL;
      modelica_string _str1 = NULL;
      modelica_string _str2 = NULL;
      modelica_metatype _cls = NULL;
      modelica_metatype _prvs = NULL;
      modelica_metatype _pref = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _elist has no default value.
      // _mod has no default value.
      // _cMod has no default value.
      // _pMod has no default value.
      // _prMod has no default value.
      // _template has no default value.
      // _mType has no default value.
      // _str1 has no default value.
      // _str2 has no default value.
      // _cls has no default value.
      // _prvs has no default value.
      // _pref has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,8,0) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,0,8) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          
          _elist = tmpMeta8;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = omc_Binding_getMediatorDefsElements(threadData, _elist, tmpMeta9);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_boolean tmp15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,3,1) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,0,8) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          
          _elist = tmpMeta12;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmp15 = omc_Binding_extendsType(threadData, _elist, _OMC_LIT17, &tmpMeta13);
          if (1 /* true */ != tmp15) goto goto_2;
          if (optionNone(tmpMeta13)) goto goto_2;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 1));
          _mod = tmpMeta14;

          /* Pattern-matching assignment */
          tmpMeta16 = omc_Binding_getValue(threadData, _mod, _OMC_LIT12, _OMC_LIT6);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta16,3,1) == 0) goto goto_2;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta16), 2));
          _template = tmpMeta17;

          _str1 = omc_System_stringReplace(threadData, _template, _OMC_LIT7, _OMC_LIT2);

          _str2 = omc_System_stringReplace(threadData, _str1, _OMC_LIT8, _OMC_LIT9);

          /* Pattern-matching assignment */
          tmpMeta18 = omc_Binding_getValue(threadData, _mod, _OMC_LIT18, _OMC_LIT6);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta18,3,1) == 0) goto goto_2;
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 2));
          _mType = tmpMeta19;

          /* Pattern-matching assignment */
          tmpMeta20 = omc_Binding_getValue(threadData, _mod, _OMC_LIT19, _OMC_LIT5);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta20,13,1) == 0) goto goto_2;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta20), 2));
          _cMod = tmpMeta21;

          tmpMeta22 = MMC_REFSTRUCTLIT(mmc_nil);
          _cls = omc_Binding_getClientList(threadData, _cMod, tmpMeta22);

          /* Pattern-matching assignment */
          tmpMeta23 = omc_Binding_getValue(threadData, _mod, _OMC_LIT20, _OMC_LIT5);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta23,13,1) == 0) goto goto_2;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 2));
          _pMod = tmpMeta24;

          tmpMeta25 = MMC_REFSTRUCTLIT(mmc_nil);
          _prvs = omc_Binding_getProviderList(threadData, _pMod, tmpMeta25);

          /* Pattern-matching assignment */
          tmpMeta26 = omc_Binding_getValue(threadData, _mod, _OMC_LIT21, _OMC_LIT5);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta26,13,1) == 0) goto goto_2;
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta26), 2));
          _prMod = tmpMeta27;

          tmpMeta28 = MMC_REFSTRUCTLIT(mmc_nil);
          _pref = omc_Binding_getPreferredList(threadData, _prMod, tmpMeta28);
          tmpMeta30 = mmc_mk_box6(3, &Binding_Mediator_MEDIATOR__desc, _mType, _str2, _cls, _prvs, _pref);
          tmpMeta29 = mmc_mk_cons(tmpMeta30, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta29;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta31;
          
          /* Pattern matching succeeded */
          tmpMeta31 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta31;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _mediator = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _mediator;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getMediatorDefsElements(threadData_t *threadData, modelica_metatype _mediator_defs, modelica_metatype _mediators_in)
{
  modelica_metatype _mediators_out = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _mediators_out has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _mediator_defs;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _el = NULL;
      modelica_metatype _m = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _el has no default value.
      // _m has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _mediators_in;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          _el = tmpMeta6;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _m = listAppend(omc_Binding_getMediatorDefsElement(threadData, _el), _mediators_in);
          /* Tail recursive call */
          _mediator_defs = _rest;
          _mediators_in = _m;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _mediators_out = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _mediators_out;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Binding_isClientInMediator(threadData_t *threadData, modelica_string _ci_name, modelica_metatype _clients, modelica_string *out_iname)
{
  modelica_boolean _isClient;
  modelica_string _iname = NULL;
  modelica_boolean tmp1_c0 __attribute__((unused)) = 0;
  modelica_string tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isClient has no default value.
  // _iname has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _clients;
    {
      modelica_string _name = NULL;
      modelica_string _inst = NULL;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _name has no default value.
      // _inst has no default value.
      // _rest has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmp1_c0 = 0 /* false */;
          tmp1_c1 = _OMC_LIT2;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          
          _name = tmpMeta8;
          _inst = tmpMeta9;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp10 = (stringEqual(_name, _ci_name));
          if (1 /* true */ != tmp10) goto goto_2;
          tmp1_c0 = 1 /* true */;
          tmp1_c1 = _inst;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          _rest = tmpMeta12;
          /* Pattern matching succeeded */
          tmp1_c0 = omc_Binding_isClientInMediator(threadData, _ci_name, _rest, &tmp1_c1);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _isClient = tmp1_c0;
  _iname = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_iname) { *out_iname = _iname; }
  return _isClient;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_isClientInMediator(threadData_t *threadData, modelica_metatype _ci_name, modelica_metatype _clients, modelica_metatype *out_iname)
{
  modelica_boolean _isClient;
  modelica_metatype out_isClient;
  _isClient = omc_Binding_isClientInMediator(threadData, _ci_name, _clients, out_iname);
  out_isClient = mmc_mk_icon(_isClient);
  /* skip box _iname; String */
  return out_isClient;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Binding_isClient(threadData_t *threadData, modelica_string _ci_name, modelica_metatype _mediators, modelica_metatype _in_m, modelica_string *out_iname, modelica_metatype *out_m)
{
  modelica_boolean _isClient;
  modelica_string _iname = NULL;
  modelica_metatype _m = NULL;
  modelica_boolean tmp1_c0 __attribute__((unused)) = 0;
  modelica_string tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isClient has no default value.
  // _iname has no default value.
  // _m has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _mediators;
    {
      modelica_string _nm = NULL;
      modelica_string _mType = NULL;
      modelica_string _template = NULL;
      modelica_metatype _clients = NULL;
      modelica_metatype _providers = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _preferred = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nm has no default value.
      // _mType has no default value.
      // _template has no default value.
      // _clients has no default value.
      // _providers has no default value.
      // _rest has no default value.
      // _preferred has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmp1_c0 = 0 /* false */;
          tmp1_c1 = _OMC_LIT2;
          tmpMeta[0+2] = _in_m;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_string tmp13;
          modelica_boolean tmp14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 5));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 6));
          _mType = tmpMeta8;
          _template = tmpMeta9;
          _clients = tmpMeta10;
          _providers = tmpMeta11;
          _preferred = tmpMeta12;
          /* Pattern matching succeeded */
          /* Pattern-matching tuple assignment */
          tmp14 = omc_Binding_isClientInMediator(threadData, _ci_name, _clients, &tmp13);
          if (1 /* true */ != tmp14) goto goto_2;
          _nm = tmp13;

          tmpMeta15 = stringAppend(_OMC_LIT22,_ci_name);
          tmpMeta16 = stringAppend(tmpMeta15,_OMC_LIT23);
          fputs(MMC_STRINGDATA(tmpMeta16),stdout);
          tmpMeta18 = mmc_mk_box6(3, &Binding_Mediator_MEDIATOR__desc, _mType, _template, _clients, _providers, _preferred);
          tmpMeta17 = mmc_mk_cons(tmpMeta18, _in_m);
          tmp1_c0 = 1 /* true */;
          tmp1_c1 = _nm;
          tmpMeta[0+2] = tmpMeta17;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta19 = MMC_CAR(tmp4_1);
          tmpMeta20 = MMC_CDR(tmp4_1);
          _rest = tmpMeta20;
          /* Pattern matching succeeded */
          tmp1_c0 = omc_Binding_isClient(threadData, _ci_name, _rest, _in_m, &tmp1_c1, &tmpMeta[0+2]);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _isClient = tmp1_c0;
  _iname = tmp1_c1;
  _m = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_iname) { *out_iname = _iname; }
  if (out_m) { *out_m = _m; }
  return _isClient;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_isClient(threadData_t *threadData, modelica_metatype _ci_name, modelica_metatype _mediators, modelica_metatype _in_m, modelica_metatype *out_iname, modelica_metatype *out_m)
{
  modelica_boolean _isClient;
  modelica_metatype out_isClient;
  _isClient = omc_Binding_isClient(threadData, _ci_name, _mediators, _in_m, out_iname, out_m);
  out_isClient = mmc_mk_icon(_isClient);
  /* skip box _iname; String */
  /* skip box _m; list<Binding.Mediator> */
  return out_isClient;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseElementInstList2(threadData_t *threadData, modelica_metatype _e_items, modelica_metatype _env, modelica_metatype _predecessors, modelica_metatype _mediators, modelica_metatype _in_client_list, modelica_metatype _instance_list, modelica_metatype _rootType)
{
  modelica_metatype _client_list = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _client_list has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _e_items;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _components = NULL;
      modelica_metatype _typeSpec = NULL;
      modelica_metatype _path = NULL;
      modelica_string _iname = NULL;
      modelica_metatype _new_predecessors = NULL;
      modelica_metatype _def = NULL;
      modelica_metatype _l1 = NULL;
      modelica_metatype _l2 = NULL;
      modelica_boolean _isCl;
      modelica_metatype _m = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _components has no default value.
      // _typeSpec has no default value.
      // _path has no default value.
      // _iname has no default value.
      // _new_predecessors has no default value.
      // _def has no default value.
      // _l1 has no default value.
      // _l2 has no default value.
      // _isCl has no default value.
      // _m has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _in_client_list;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,1) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,6) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,3,3) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 4));
          
          _typeSpec = tmpMeta10;
          _components = tmpMeta11;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _path = omc_AbsynUtil_typeSpecPath(threadData, _typeSpec);

          _def = omc_InteractiveUtil_getPathedClassInProgram(threadData, _path, _env, 0 /* false */, 0 /* false */);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          _isCl = omc_Binding_isClient(threadData, omc_AbsynUtil_typeSpecPathString(threadData, _typeSpec), _mediators, tmpMeta12 ,&_iname ,&_m);

          if(_isCl)
          {
            tmpMeta14 = mmc_mk_cons(_iname, MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta15 = mmc_mk_cons(omc_Binding_getComponentNames(threadData, _components), _instance_list);
            tmpMeta13 = mmc_mk_cons(tmpMeta14, tmpMeta15);
            tmpMeta16 = mmc_mk_box8(3, &Binding_Client__e_CLIENT__E__desc, _components, _typeSpec, _rootType, _def, tmpMeta13, _predecessors, _m);
            _new_predecessors = tmpMeta16;

            tmpMeta17 = mmc_mk_cons(_new_predecessors, _in_client_list);
            _l2 = tmpMeta17;
          }
          else
          {
            _new_predecessors = _predecessors;

            _l2 = _in_client_list;
          }

          tmpMeta18 = mmc_mk_cons(omc_Binding_getComponentNames(threadData, _components), _instance_list);
          _l1 = omc_Binding_buildInstList2(threadData, _def, _env, _new_predecessors, _mediators, _l2, tmpMeta18, _rootType);
          tmpMeta1 = omc_Binding_parseElementInstList2(threadData, _rest, _env, _predecessors, _mediators, _l1, _instance_list, _rootType);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta19 = MMC_CAR(tmp4_1);
          tmpMeta20 = MMC_CDR(tmp4_1);
          _rest = tmpMeta20;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_parseElementInstList2(threadData, _rest, _env, _predecessors, _mediators, _in_client_list, _instance_list, _rootType);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _client_list = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _client_list;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getComponentNames(threadData_t *threadData, modelica_metatype _l)
{
  modelica_metatype _res = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _res has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _l;
    {
      modelica_metatype _ci = NULL;
      modelica_metatype _r = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _ci has no default value.
      // _r has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          _ci = tmpMeta7;
          _r = tmpMeta8;
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_cons(omc_AbsynUtil_componentName(threadData, _ci), omc_Binding_getComponentNames(threadData, _r));
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _res = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _res;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseElementInstList(threadData_t *threadData, modelica_metatype _e_items, modelica_metatype _env, modelica_metatype _predecessors, modelica_metatype _mediators, modelica_metatype _in_client_list, modelica_metatype _instance_list)
{
  modelica_metatype _client_list = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _client_list has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _e_items;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _components = NULL;
      modelica_metatype _typeSpec = NULL;
      modelica_metatype _path = NULL;
      modelica_string _iname = NULL;
      modelica_metatype _new_predecessors = NULL;
      modelica_metatype _def = NULL;
      modelica_metatype _l1 = NULL;
      modelica_metatype _l2 = NULL;
      modelica_boolean _isCl;
      modelica_metatype _m = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _components has no default value.
      // _typeSpec has no default value.
      // _path has no default value.
      // _iname has no default value.
      // _new_predecessors has no default value.
      // _def has no default value.
      // _l1 has no default value.
      // _l2 has no default value.
      // _isCl has no default value.
      // _m has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _in_client_list;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,1) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,6) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,3,3) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 4));
          
          _typeSpec = tmpMeta10;
          _components = tmpMeta11;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _path = omc_AbsynUtil_typeSpecPath(threadData, _typeSpec);

          _def = omc_InteractiveUtil_getPathedClassInProgram(threadData, _path, _env, 0 /* false */, 0 /* false */);

          tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
          _isCl = omc_Binding_isClient(threadData, omc_AbsynUtil_typeSpecPathString(threadData, _typeSpec), _mediators, tmpMeta12 ,&_iname ,&_m);

          if((_isCl && (!omc_Binding_isAlreadyInList(threadData, _typeSpec, _in_client_list))))
          {
            tmpMeta14 = mmc_mk_cons(_iname, MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta13 = mmc_mk_cons(tmpMeta14, _instance_list);
            tmpMeta15 = mmc_mk_box8(3, &Binding_Client__e_CLIENT__E__desc, _components, _typeSpec, _typeSpec, _def, tmpMeta13, _predecessors, _m);
            _new_predecessors = tmpMeta15;

            tmpMeta16 = mmc_mk_cons(_new_predecessors, _in_client_list);
            _l2 = tmpMeta16;
          }
          else
          {
            _new_predecessors = _predecessors;

            _l2 = _in_client_list;
          }

          _l1 = omc_Binding_buildInstList2(threadData, _def, _env, _new_predecessors, _mediators, _l2, _instance_list, _typeSpec);
          tmpMeta1 = omc_Binding_parseElementInstList(threadData, _rest, _env, _predecessors, _mediators, _l1, _instance_list);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta17 = MMC_CAR(tmp4_1);
          tmpMeta18 = MMC_CDR(tmp4_1);
          _rest = tmpMeta18;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_parseElementInstList(threadData, _rest, _env, _predecessors, _mediators, _in_client_list, _instance_list);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _client_list = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _client_list;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Binding_isAlreadyInList(threadData_t *threadData, modelica_metatype _ts, modelica_metatype _predecessors)
{
  modelica_boolean _val;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _val has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _predecessors;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _ots = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _ots has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          
          _ots = tmpMeta8;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          tmp9 = (modelica_boolean)omc_AbsynUtil_typeSpecEqual(threadData, _ts, _ots);
          if(tmp9)
          {
            tmp10 = 1 /* true */;
          }
          else
          {
            /* Tail recursive call */
            _predecessors = _rest;
            goto _tailrecursive;
            /* TODO: Make sure any eventual dead code below is never generated */
          }
          tmp1 = tmp10;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _val = tmp1;
  _return: OMC_LABEL_UNUSED
  return _val;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_isAlreadyInList(threadData_t *threadData, modelica_metatype _ts, modelica_metatype _predecessors)
{
  modelica_boolean _val;
  modelica_metatype out_val;
  _val = omc_Binding_isAlreadyInList(threadData, _ts, _predecessors);
  out_val = mmc_mk_icon(_val);
  return out_val;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildInstList2(threadData_t *threadData, modelica_metatype _clazz, modelica_metatype _env, modelica_metatype _predecessors, modelica_metatype _mediators, modelica_metatype _client_list_in, modelica_metatype _instance_list, modelica_metatype _rootType)
{
  modelica_metatype _client_list = NULL;
  modelica_metatype _e_items = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _client_list has no default value.
  // _e_items has no default value.
  _e_items = omc_AbsynUtil_getElementItemsInClass(threadData, _clazz);

  _client_list = omc_Binding_parseElementInstList2(threadData, _e_items, _env, _OMC_LIT24, _mediators, _client_list_in, _instance_list, _rootType);
  _return: OMC_LABEL_UNUSED
  return _client_list;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildInstList(threadData_t *threadData, modelica_metatype _clazz, modelica_metatype _env, modelica_metatype _predecessors, modelica_metatype _mediators, modelica_metatype _client_list_in, modelica_metatype _instance_list)
{
  modelica_metatype _client_list = NULL;
  modelica_metatype _e_items = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _client_list has no default value.
  // _e_items has no default value.
  _e_items = omc_AbsynUtil_getElementItemsInClass(threadData, _clazz);

  _client_list = omc_Binding_parseElementInstList(threadData, _e_items, _env, _OMC_LIT24, _mediators, _client_list_in, _instance_list);
  _return: OMC_LABEL_UNUSED
  return _client_list;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseComponents(threadData_t *threadData, modelica_string _className, modelica_string _template, modelica_metatype _e_items, modelica_metatype _env, modelica_metatype _components, modelica_metatype _in_components, modelica_string _pathInClass)
{
  modelica_metatype _out_components = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_components has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _components;
    {
      modelica_metatype _rest = NULL;
      modelica_string _name = NULL;
      modelica_metatype _tmp = NULL;
      modelica_string _newName = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _name has no default value.
      // _tmp has no default value.
      // _newName has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _in_components;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_boolean tmp12;
          modelica_string tmp13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          
          _name = tmpMeta9;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          tmp12 = (modelica_boolean)(stringEqual(_pathInClass, _OMC_LIT2));
          if(tmp12)
          {
            tmp13 = _name;
          }
          else
          {
            tmpMeta10 = stringAppend(_pathInClass,_OMC_LIT25);
            tmpMeta11 = stringAppend(tmpMeta10,_name);
            tmp13 = tmpMeta11;
          }
          _newName = tmp13;

          _tmp = omc_Binding_getAllProviderInstances(threadData, _className, _template, _e_items, _env, _in_components, _newName);
          tmpMeta1 = omc_Binding_parseComponents(threadData, _className, _template, _e_items, _env, _rest, _tmp, _pathInClass);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta14 = MMC_CAR(tmp4_1);
          tmpMeta15 = MMC_CDR(tmp4_1);
          _rest = tmpMeta15;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_parseComponents(threadData, _className, _template, _e_items, _env, _rest, _in_components, _pathInClass);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _out_components = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_components;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getAllProviderInstances(threadData_t *threadData, modelica_string _className, modelica_string _template, modelica_metatype _e_items, modelica_metatype _env, modelica_metatype _in_components, modelica_string _pathInClass)
{
  modelica_metatype _out_components = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_components has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _e_items;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _re_items = NULL;
      modelica_metatype _components = NULL;
      modelica_metatype _cnew = NULL;
      modelica_metatype _cnew2 = NULL;
      modelica_metatype _typeSpec = NULL;
      modelica_metatype _path = NULL;
      modelica_metatype _def = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _re_items has no default value.
      // _components has no default value.
      // _cnew has no default value.
      // _cnew2 has no default value.
      // _typeSpec has no default value.
      // _path has no default value.
      // _def has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _in_components;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,1) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,6) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,3,3) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 4));
          
          _typeSpec = tmpMeta10;
          _components = tmpMeta11;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _path = omc_AbsynUtil_typeSpecPath(threadData, _typeSpec);

          _def = omc_InteractiveUtil_getPathedClassInProgram(threadData, _path, _env, 0 /* false */, 0 /* false */);

          if((stringEqual(omc_AbsynUtil_typeSpecPathString(threadData, _typeSpec), _className)))
          {
            tmpMeta12 = stringAppend(_OMC_LIT26,_className);
            tmpMeta13 = stringAppend(tmpMeta12,_OMC_LIT23);
            fputs(MMC_STRINGDATA(tmpMeta13),stdout);

            tmpMeta15 = mmc_mk_box2(0, _components, _pathInClass);
            tmpMeta14 = mmc_mk_cons(tmpMeta15, _in_components);
            _cnew = tmpMeta14;
          }
          else
          {
            _cnew = _in_components;
          }

          _re_items = omc_AbsynUtil_getElementItemsInClass(threadData, _def);

          _cnew2 = omc_Binding_parseComponents(threadData, _className, _template, _re_items, _env, _components, _cnew, _pathInClass);
          tmpMeta1 = omc_Binding_getAllProviderInstances(threadData, _className, _template, _rest, _env, _cnew2, _pathInClass);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta16 = MMC_CAR(tmp4_1);
          tmpMeta17 = MMC_CDR(tmp4_1);
          _rest = tmpMeta17;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_getAllProviderInstances(threadData, _className, _template, _rest, _env, _in_components, _pathInClass);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _out_components = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_components;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_updateCRF(threadData_t *threadData, modelica_metatype _componentRef, modelica_string _name)
{
  modelica_metatype _out_componentRef = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_componentRef has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _componentRef;
    {
      modelica_metatype _cRef = NULL;
      modelica_metatype _new_cRef = NULL;
      modelica_metatype _subscripts = NULL;
      modelica_string _id = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _cRef has no default value.
      // _new_cRef has no default value.
      // _subscripts has no default value.
      // _id has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          _cRef = tmpMeta6;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = omc_Binding_updateCRF(threadData, _cRef, _name);
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,3) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (7 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT27), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _subscripts = tmpMeta8;
          _cRef = tmpMeta9;
          /* Pattern matching succeeded */
          tmpMeta10 = mmc_mk_box4(4, &Absyn_ComponentRef_CREF__QUAL__desc, _name, _subscripts, _cRef);
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,3) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _id = tmpMeta11;
          _subscripts = tmpMeta12;
          _cRef = tmpMeta13;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _new_cRef = omc_Binding_updateCRF(threadData, _cRef, _name);
          tmpMeta14 = mmc_mk_box4(4, &Absyn_ComponentRef_CREF__QUAL__desc, _id, _subscripts, _new_cRef);
          tmpMeta1 = tmpMeta14;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,2) == 0) goto tmp3_end;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (7 != MMC_STRLEN(tmpMeta15) || strcmp(MMC_STRINGDATA(_OMC_LIT27), MMC_STRINGDATA(tmpMeta15)) != 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _subscripts = tmpMeta16;
          /* Pattern matching succeeded */
          tmpMeta17 = mmc_mk_box3(5, &Absyn_ComponentRef_CREF__IDENT__desc, _name, _subscripts);
          tmpMeta1 = tmpMeta17;
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _componentRef;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _out_componentRef = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_componentRef;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseExpression(threadData_t *threadData, modelica_metatype _in_eq, modelica_string _fargs)
{
  modelica_metatype _out_eq = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_eq has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _in_eq;
    {
      modelica_metatype _crf = NULL;
      modelica_metatype _new_crf = NULL;
      modelica_metatype _exp1 = NULL;
      modelica_metatype _exp2 = NULL;
      modelica_metatype _nexp1 = NULL;
      modelica_metatype _nexp2 = NULL;
      modelica_metatype _ife = NULL;
      modelica_metatype _nife = NULL;
      modelica_metatype _op = NULL;
      modelica_metatype _elif = NULL;
      int tmp4;
      // _crf has no default value.
      // _new_crf has no default value.
      // _exp1 has no default value.
      // _exp2 has no default value.
      // _nexp1 has no default value.
      // _nexp2 has no default value.
      // _ife has no default value.
      // _nife has no default value.
      // _op has no default value.
      // _elif has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 8: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,3) == 0) goto tmp3_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _exp1 = tmpMeta5;
          _op = tmpMeta6;
          _exp2 = tmpMeta7;
          /* Pattern matching succeeded */
          _nexp1 = omc_Binding_parseExpression(threadData, _exp1, _fargs);

          _nexp2 = omc_Binding_parseExpression(threadData, _exp2, _fargs);
          tmpMeta8 = mmc_mk_box4(8, &Absyn_Exp_BINARY__desc, _nexp1, _op, _nexp2);
          tmpMeta1 = tmpMeta8;
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,3) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _exp1 = tmpMeta9;
          _op = tmpMeta10;
          _exp2 = tmpMeta11;
          /* Pattern matching succeeded */
          _nexp1 = omc_Binding_parseExpression(threadData, _exp1, _fargs);

          _nexp2 = omc_Binding_parseExpression(threadData, _exp2, _fargs);
          tmpMeta12 = mmc_mk_box4(10, &Absyn_Exp_LBINARY__desc, _nexp1, _op, _nexp2);
          tmpMeta1 = tmpMeta12;
          goto tmp3_done;
        }
        case 12: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _exp1 = tmpMeta13;
          _op = tmpMeta14;
          _exp2 = tmpMeta15;
          /* Pattern matching succeeded */
          _nexp1 = omc_Binding_parseExpression(threadData, _exp1, _fargs);

          _nexp2 = omc_Binding_parseExpression(threadData, _exp2, _fargs);
          tmpMeta16 = mmc_mk_box4(12, &Absyn_Exp_RELATION__desc, _nexp1, _op, _nexp2);
          tmpMeta1 = tmpMeta16;
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _op = tmpMeta17;
          _exp2 = tmpMeta18;
          /* Pattern matching succeeded */
          _nexp1 = omc_Binding_parseExpression(threadData, _exp2, _fargs);
          tmpMeta19 = mmc_mk_box3(9, &Absyn_Exp_UNARY__desc, _op, _nexp1);
          tmpMeta1 = tmpMeta19;
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,2) == 0) goto tmp3_end;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _op = tmpMeta20;
          _exp2 = tmpMeta21;
          /* Pattern matching succeeded */
          _nexp1 = omc_Binding_parseExpression(threadData, _exp2, _fargs);
          tmpMeta22 = mmc_mk_box3(11, &Absyn_Exp_LUNARY__desc, _op, _nexp1);
          tmpMeta1 = tmpMeta22;
          goto tmp3_done;
        }
        case 13: {
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          _ife = tmpMeta23;
          _exp1 = tmpMeta24;
          _exp2 = tmpMeta25;
          _elif = tmpMeta26;
          /* Pattern matching succeeded */
          _nife = omc_Binding_parseExpression(threadData, _ife, _fargs);

          _nexp1 = omc_Binding_parseExpression(threadData, _exp1, _fargs);

          _nexp2 = omc_Binding_parseExpression(threadData, _exp2, _fargs);
          tmpMeta27 = mmc_mk_box5(13, &Absyn_Exp_IFEXP__desc, _nife, _nexp1, _nexp2, _elif);
          tmpMeta1 = tmpMeta27;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          _crf = tmpMeta28;
          /* Pattern matching succeeded */
          _new_crf = omc_Binding_updateCRF(threadData, _crf, _fargs);
          tmpMeta29 = mmc_mk_box2(5, &Absyn_Exp_CREF__desc, _new_crf);
          tmpMeta1 = tmpMeta29;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _in_eq;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_eq = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_eq;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyTemplate2(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _comps, modelica_metatype _in_es, modelica_string _pathInClass)
{
  modelica_metatype _out_es = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_es has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _comps;
    {
      modelica_metatype _rest = NULL;
      modelica_string _name = NULL;
      modelica_string _newName = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _name has no default value.
      // _newName has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _in_es;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_boolean tmp12;
          modelica_string tmp13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          
          _name = tmpMeta9;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          tmp12 = (modelica_boolean)(stringEqual(_pathInClass, _OMC_LIT2));
          if(tmp12)
          {
            tmp13 = _name;
          }
          else
          {
            tmpMeta10 = stringAppend(_pathInClass,_OMC_LIT25);
            tmpMeta11 = stringAppend(tmpMeta10,_name);
            tmp13 = tmpMeta11;
          }
          _newName = tmp13;
          tmpMeta15 = mmc_mk_box2(0, omc_Binding_parseExpression(threadData, _exp, _newName), _newName);
          tmpMeta14 = mmc_mk_cons(tmpMeta15, _in_es);
          tmpMeta1 = omc_Binding_applyTemplate2(threadData, _exp, _rest, tmpMeta14, _pathInClass);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta16 = MMC_CAR(tmp4_1);
          tmpMeta17 = MMC_CDR(tmp4_1);
          _rest = tmpMeta17;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_applyTemplate2(threadData, _exp, _rest, _in_es, _pathInClass);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _out_es = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_es;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyTemplate(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _comps, modelica_metatype _in_es)
{
  modelica_metatype _out_es = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_es has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _comps;
    {
      modelica_metatype _clist = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _new_es = NULL;
      modelica_string _pathInClass = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _clist has no default value.
      // _rest has no default value.
      // _new_es has no default value.
      // _pathInClass has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _in_es;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          _clist = tmpMeta8;
          _pathInClass = tmpMeta9;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _new_es = omc_Binding_applyTemplate2(threadData, _exp, _clist, _in_es, _pathInClass);
          tmpMeta1 = omc_Binding_applyTemplate(threadData, _exp, _rest, _new_es);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          _rest = tmpMeta11;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_applyTemplate(threadData, _exp, _rest, _in_es);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _out_es = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_es;
}

DLLDirection
modelica_metatype omc_Binding_getProviders(threadData_t *threadData, modelica_metatype _providers, modelica_metatype _vmodel, modelica_metatype _env, modelica_metatype _in_es)
{
  modelica_metatype _out_es = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_es has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _providers;
    {
      modelica_metatype _rest = NULL;
      modelica_string _className = NULL;
      modelica_string _template = NULL;
      modelica_metatype _comps = NULL;
      modelica_metatype _exps = NULL;
      modelica_metatype _new_es = NULL;
      modelica_metatype _mlist = NULL;
      modelica_metatype _exp = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _className has no default value.
      // _template has no default value.
      // _comps has no default value.
      // _exps has no default value.
      // _new_es has no default value.
      // _mlist has no default value.
      // _exp has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _in_es;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          _className = tmpMeta8;
          _template = tmpMeta9;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _mlist = omc_AbsynUtil_getElementItemsInClass(threadData, _vmodel);

          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _comps = omc_Binding_getAllProviderInstances(threadData, _className, _template, _mlist, _env, tmpMeta10, _OMC_LIT2);

          /* Pattern-matching assignment */
          tmpMeta11 = omc_Parser_parsestringexp(threadData, _template, _OMC_LIT28);
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          if (listEmpty(tmpMeta12)) goto goto_2;
          tmpMeta13 = MMC_CAR(tmpMeta12);
          tmpMeta14 = MMC_CDR(tmpMeta12);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta13,1,2) == 0) goto goto_2;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 2));
          if (!listEmpty(tmpMeta14)) goto goto_2;
          _exp = tmpMeta15;

          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          _exps = omc_Binding_applyTemplate(threadData, _exp, _comps, tmpMeta16);

          _new_es = listAppend(_exps, _in_es);
          /* Tail recursive call */
          _providers = _rest;
          _in_es = _new_es;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_es = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_es;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseAggregator(threadData_t *threadData, modelica_metatype _in_eq, modelica_metatype _fargs)
{
  modelica_metatype _out_eq = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_eq has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _in_eq;
    {
      modelica_metatype _crf = NULL;
      modelica_metatype _exp1 = NULL;
      modelica_metatype _exp2 = NULL;
      modelica_metatype _nexp1 = NULL;
      modelica_metatype _nexp2 = NULL;
      modelica_metatype _ife = NULL;
      modelica_metatype _nife = NULL;
      modelica_metatype _op = NULL;
      modelica_metatype _elif = NULL;
      int tmp4;
      // _crf has no default value.
      // _exp1 has no default value.
      // _exp2 has no default value.
      // _nexp1 has no default value.
      // _nexp2 has no default value.
      // _ife has no default value.
      // _nife has no default value.
      // _op has no default value.
      // _elif has no default value.
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 8: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,3) == 0) goto tmp3_end;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _exp1 = tmpMeta5;
          _op = tmpMeta6;
          _exp2 = tmpMeta7;
          /* Pattern matching succeeded */
          _nexp1 = omc_Binding_parseAggregator(threadData, _exp1, _fargs);

          _nexp2 = omc_Binding_parseAggregator(threadData, _exp2, _fargs);
          tmpMeta8 = mmc_mk_box4(8, &Absyn_Exp_BINARY__desc, _nexp1, _op, _nexp2);
          tmpMeta1 = tmpMeta8;
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,3) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _exp1 = tmpMeta9;
          _op = tmpMeta10;
          _exp2 = tmpMeta11;
          /* Pattern matching succeeded */
          _nexp1 = omc_Binding_parseAggregator(threadData, _exp1, _fargs);

          _nexp2 = omc_Binding_parseAggregator(threadData, _exp2, _fargs);
          tmpMeta12 = mmc_mk_box4(10, &Absyn_Exp_LBINARY__desc, _nexp1, _op, _nexp2);
          tmpMeta1 = tmpMeta12;
          goto tmp3_done;
        }
        case 12: {
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          _exp1 = tmpMeta13;
          _op = tmpMeta14;
          _exp2 = tmpMeta15;
          /* Pattern matching succeeded */
          _nexp1 = omc_Binding_parseAggregator(threadData, _exp1, _fargs);

          _nexp2 = omc_Binding_parseAggregator(threadData, _exp2, _fargs);
          tmpMeta16 = mmc_mk_box4(12, &Absyn_Exp_RELATION__desc, _nexp1, _op, _nexp2);
          tmpMeta1 = tmpMeta16;
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _op = tmpMeta17;
          _exp2 = tmpMeta18;
          /* Pattern matching succeeded */
          _nexp1 = omc_Binding_parseAggregator(threadData, _exp2, _fargs);
          tmpMeta19 = mmc_mk_box3(9, &Absyn_Exp_UNARY__desc, _op, _nexp1);
          tmpMeta1 = tmpMeta19;
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,2) == 0) goto tmp3_end;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          _op = tmpMeta20;
          _exp2 = tmpMeta21;
          /* Pattern matching succeeded */
          _nexp1 = omc_Binding_parseAggregator(threadData, _exp2, _fargs);
          tmpMeta22 = mmc_mk_box3(11, &Absyn_Exp_LUNARY__desc, _op, _nexp1);
          tmpMeta1 = tmpMeta22;
          goto tmp3_done;
        }
        case 13: {
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          _ife = tmpMeta23;
          _exp1 = tmpMeta24;
          _exp2 = tmpMeta25;
          _elif = tmpMeta26;
          /* Pattern matching succeeded */
          _nife = omc_Binding_parseAggregator(threadData, _ife, _fargs);

          _nexp1 = omc_Binding_parseAggregator(threadData, _exp1, _fargs);

          _nexp2 = omc_Binding_parseAggregator(threadData, _exp2, _fargs);
          tmpMeta27 = mmc_mk_box5(13, &Absyn_Exp_IFEXP__desc, _nife, _nexp1, _nexp2, _elif);
          tmpMeta1 = tmpMeta27;
          goto tmp3_done;
        }
        case 14: {
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,3) == 0) goto tmp3_end;
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _crf = tmpMeta28;
          /* Pattern matching succeeded */
          tmpMeta29 = mmc_mk_box4(14, &Absyn_Exp_CALL__desc, _crf, _fargs, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_in_eq), 4))));
          tmpMeta1 = tmpMeta29;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _in_eq;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_eq = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_eq;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildAllComponentModifiers3(threadData_t *threadData, modelica_string _prefix, modelica_metatype _name_list2)
{
  modelica_metatype _out_names = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_names has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _name_list2;
    {
      modelica_string _s = NULL;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _s has no default value.
      // _rest has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_cons(_prefix, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          _s = tmpMeta7;
          _rest = tmpMeta8;
          /* Pattern matching succeeded */
          tmpMeta10 = stringAppend(_s,_OMC_LIT25);
          tmpMeta11 = stringAppend(tmpMeta10,_prefix);
          tmpMeta9 = mmc_mk_cons(tmpMeta11, omc_Binding_buildAllComponentModifiers2(threadData, _rest, _name_list2));
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_names = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_names;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildAllComponentModifiers2(threadData_t *threadData, modelica_metatype _name_list, modelica_metatype _name_list2)
{
  modelica_metatype _out_names = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_names has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _name_list;
    {
      modelica_string _s = NULL;
      modelica_metatype _tmp_names = NULL;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _s has no default value.
      // _tmp_names has no default value.
      // _rest has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          _s = tmpMeta7;
          _rest = tmpMeta8;
          /* Pattern matching succeeded */
          _tmp_names = omc_Binding_buildAllComponentModifiers2(threadData, _rest, _name_list2);
          tmpMeta1 = listAppend(omc_Binding_buildAllComponentModifiers3(threadData, _s, _name_list2), _tmp_names);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_names = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_names;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildAllComponentModifiers(threadData_t *threadData, modelica_metatype _name_list)
{
  modelica_metatype _out_names = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_names has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _name_list;
    {
      modelica_metatype _l = NULL;
      modelica_metatype _tmp_names = NULL;
      modelica_metatype _rest = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _l has no default value.
      // _tmp_names has no default value.
      // _rest has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          _l = tmpMeta7;
          _rest = tmpMeta8;
          /* Pattern matching succeeded */
          _tmp_names = omc_Binding_buildAllComponentModifiers(threadData, _rest);
          tmpMeta1 = omc_Binding_buildAllComponentModifiers2(threadData, _l, _tmp_names);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_names = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_names;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildComponentModifiers2(threadData_t *threadData, modelica_metatype _name_list, modelica_metatype _exp)
{
  modelica_metatype _out_modifiers = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_modifiers has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _name_list;
    {
      modelica_metatype _rest = NULL;
      modelica_string _name = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _name has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          _name = tmpMeta7;
          _rest = tmpMeta8;
          /* Pattern matching succeeded */
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta11 = mmc_mk_box3(4, &Absyn_EqMod_EQMOD__desc, _exp, _OMC_LIT31);
          tmpMeta12 = mmc_mk_box3(3, &Absyn_Modification_CLASSMOD__desc, tmpMeta10, tmpMeta11);
          tmpMeta13 = mmc_mk_box7(3, &Absyn_ElementArg_MODIFICATION__desc, mmc_mk_boolean(0 /* false */), _OMC_LIT29, omc_AbsynUtil_stringPath(threadData, _name), mmc_mk_some(tmpMeta12), mmc_mk_none(), _OMC_LIT31);
          tmpMeta9 = mmc_mk_cons(tmpMeta13, omc_Binding_buildComponentModifiers2(threadData, _rest, _exp));
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_modifiers = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_modifiers;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_buildComponentModifiers(threadData_t *threadData, modelica_metatype _name_list, modelica_metatype _exp)
{
  modelica_metatype _out_modifiers = NULL;
  modelica_metatype _parsed_names = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_modifiers has no default value.
  // _parsed_names has no default value.
  _parsed_names = omc_Binding_buildAllComponentModifiers(threadData, _name_list);

  _out_modifiers = omc_Binding_buildComponentModifiers2(threadData, _parsed_names, _exp);
  _return: OMC_LABEL_UNUSED
  return _out_modifiers;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyModifier(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_integer _counter, modelica_boolean _newName)
{
  modelica_metatype _out_comps = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_comps has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _comps;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _cnew = NULL;
      modelica_metatype _condition = NULL;
      modelica_metatype _comment = NULL;
      modelica_string _name = NULL;
      modelica_string _new_name = NULL;
      modelica_metatype _arrayDim = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _cnew has no default value.
      // _condition has no default value.
      // _comment has no default value.
      // _name has no default value.
      // _new_name has no default value.
      // _arrayDim has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_boolean tmp16;
          modelica_string tmp17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 4));
          _name = tmpMeta10;
          _arrayDim = tmpMeta11;
          _condition = tmpMeta12;
          _comment = tmpMeta13;
          /* Pattern matching succeeded */
          tmp16 = (modelica_boolean)_newName;
          if(tmp16)
          {
            tmpMeta14 = stringAppend(_name,_OMC_LIT32);
            tmpMeta15 = stringAppend(tmpMeta14,intString(_counter));
            tmp17 = tmpMeta15;
          }
          else
          {
            tmp17 = _name;
          }
          _new_name = tmp17;

          tmpMeta18 = stringAppend(_OMC_LIT33,_new_name);
          tmpMeta19 = stringAppend(tmpMeta18,_OMC_LIT23);
          fputs(MMC_STRINGDATA(tmpMeta19),stdout);

          tmpMeta20 = mmc_mk_box3(3, &Absyn_Modification_CLASSMOD__desc, omc_Binding_buildComponentModifiers(threadData, _instance_name, _exp), _OMC_LIT34);
          tmpMeta21 = mmc_mk_box4(3, &Absyn_Component_COMPONENT__desc, _new_name, _arrayDim, mmc_mk_some(tmpMeta20));
          tmpMeta22 = mmc_mk_box4(3, &Absyn_ComponentItem_COMPONENTITEM__desc, tmpMeta21, _condition, _comment);
          _cnew = tmpMeta22;
          tmpMeta23 = mmc_mk_cons(_cnew, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta23;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta24 = MMC_CAR(tmp4_1);
          tmpMeta25 = MMC_CDR(tmp4_1);
          _rest = tmpMeta25;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_applyModifier(threadData, _rest, _exp, _instance_name, _counter, _newName);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _out_comps = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_comps;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_applyModifier(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _counter, modelica_metatype _newName)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _out_comps = NULL;
  tmp1 = mmc_unbox_integer(_counter);
  tmp2 = mmc_unbox_integer(_newName);
  _out_comps = omc_Binding_applyModifier(threadData, _comps, _exp, _instance_name, tmp1, tmp2);
  /* skip box _out_comps; list<Absyn.ComponentItem> */
  return _out_comps;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyModifiers(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_integer _counter, modelica_boolean _finalPrefix, modelica_metatype _redeclareKeywords, modelica_metatype _innerOuter, modelica_metatype _info, modelica_metatype _constrainClass, modelica_metatype _attributes, modelica_metatype _tSpec, modelica_boolean _newName)
{
  modelica_metatype _out_elems = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_elems has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _exp;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _cnew = NULL;
      modelica_metatype _e = NULL;
      modelica_metatype _enew = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _cnew has no default value.
      // _e has no default value.
      // _enew has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          
          _e = tmpMeta9;
          _rest = tmpMeta8;
          /* Pattern matching succeeded */
          _cnew = omc_Binding_applyModifier(threadData, _comps, _e, _instance_name, _counter, _newName);

          tmpMeta10 = mmc_mk_box4(6, &Absyn_ElementSpec_COMPONENTS__desc, _attributes, _tSpec, _cnew);
          tmpMeta11 = mmc_mk_box7(3, &Absyn_Element_ELEMENT__desc, mmc_mk_boolean(_finalPrefix), _redeclareKeywords, _innerOuter, tmpMeta10, _info, _constrainClass);
          tmpMeta12 = mmc_mk_box2(3, &Absyn_ElementItem_ELEMENTITEM__desc, tmpMeta11);
          _enew = tmpMeta12;
          tmpMeta13 = mmc_mk_cons(_enew, omc_Binding_applyModifiers(threadData, _comps, _rest, _instance_name, ((modelica_integer) 1) + _counter, _finalPrefix, _redeclareKeywords, _innerOuter, _info, _constrainClass, _attributes, _tSpec, _newName));
          tmpMeta1 = tmpMeta13;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta14 = MMC_CAR(tmp4_1);
          tmpMeta15 = MMC_CDR(tmp4_1);
          _rest = tmpMeta15;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_applyModifiers(threadData, _comps, _rest, _instance_name, _counter, _finalPrefix, _redeclareKeywords, _innerOuter, _info, _constrainClass, _attributes, _tSpec, _newName);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _out_elems = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_elems;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_applyModifiers(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _counter, modelica_metatype _finalPrefix, modelica_metatype _redeclareKeywords, modelica_metatype _innerOuter, modelica_metatype _info, modelica_metatype _constrainClass, modelica_metatype _attributes, modelica_metatype _tSpec, modelica_metatype _newName)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _out_elems = NULL;
  tmp1 = mmc_unbox_integer(_counter);
  tmp2 = mmc_unbox_integer(_finalPrefix);
  tmp3 = mmc_unbox_integer(_newName);
  _out_elems = omc_Binding_applyModifiers(threadData, _comps, _exp, _instance_name, tmp1, tmp2, _redeclareKeywords, _innerOuter, _info, _constrainClass, _attributes, _tSpec, tmp3);
  /* skip box _out_elems; list<Absyn.ElementItem> */
  return _out_elems;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyModifierPreferred(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_string _typeSp, modelica_metatype _instance_name, modelica_string _ename)
{
  modelica_metatype _out_comps = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_comps has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _comps;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _cnew = NULL;
      modelica_metatype _condition = NULL;
      modelica_metatype _comment = NULL;
      modelica_string _name = NULL;
      modelica_metatype _arrayDim = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _cnew has no default value.
      // _condition has no default value.
      // _comment has no default value.
      // _name has no default value.
      // _arrayDim has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_boolean tmp14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 3));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 4));
          _name = tmpMeta10;
          _arrayDim = tmpMeta11;
          _condition = tmpMeta12;
          _comment = tmpMeta13;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp14 = (stringEqual(_typeSp, _name));
          if (1 /* true */ != tmp14) goto goto_2;

          tmpMeta15 = mmc_mk_box3(3, &Absyn_Modification_CLASSMOD__desc, omc_Binding_buildComponentModifiers(threadData, _instance_name, _exp), _OMC_LIT34);
          tmpMeta16 = mmc_mk_box4(3, &Absyn_Component_COMPONENT__desc, _name, _arrayDim, mmc_mk_some(tmpMeta15));
          tmpMeta17 = mmc_mk_box4(3, &Absyn_ComponentItem_COMPONENTITEM__desc, tmpMeta16, _condition, _comment);
          _cnew = tmpMeta17;
          tmpMeta18 = mmc_mk_cons(_cnew, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta18;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta19 = MMC_CAR(tmp4_1);
          tmpMeta20 = MMC_CDR(tmp4_1);
          _rest = tmpMeta20;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_applyModifierPreferred(threadData, _rest, _exp, _typeSp, _instance_name, _ename);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _out_comps = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_comps;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_Binding_getPreferredBinding(threadData_t *threadData, modelica_string _ename, modelica_metatype _elems)
{
  modelica_string _cl_name = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _cl_name has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _elems;
    {
      modelica_metatype _rest = NULL;
      modelica_string _c_id = NULL;
      modelica_string _p_id = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _c_id has no default value.
      // _p_id has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_boolean tmp10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          _c_id = tmpMeta8;
          _p_id = tmpMeta9;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp10 = (stringEqual(_p_id, _ename));
          if (1 /* true */ != tmp10) goto goto_2;
          tmp1 = _c_id;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          _rest = tmpMeta12;
          /* Pattern matching succeeded */
          tmp1 = omc_Binding_getPreferredBinding(threadData, _ename, _rest);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 2) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _cl_name = tmp1;
  _return: OMC_LABEL_UNUSED
  return _cl_name;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_applyModifiersPreferred(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_string _typeSp, modelica_boolean _finalPrefix, modelica_metatype _redeclareKeywords, modelica_metatype _innerOuter, modelica_metatype _info, modelica_metatype _constrainClass, modelica_metatype _attributes, modelica_metatype _tSpec, modelica_metatype _preferred)
{
  modelica_metatype _out_elems = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_elems has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _exp;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _cnew = NULL;
      modelica_metatype _e = NULL;
      modelica_string _ename = NULL;
      modelica_string _client_pref = NULL;
      modelica_metatype _enew = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _cnew has no default value.
      // _e has no default value.
      // _ename has no default value.
      // _client_pref has no default value.
      // _enew has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          _e = tmpMeta9;
          _ename = tmpMeta10;
          _rest = tmpMeta8;
          /* Pattern matching succeeded */
          _client_pref = omc_Binding_getPreferredBinding(threadData, _ename, _preferred);

          _cnew = omc_Binding_applyModifierPreferred(threadData, _comps, _e, _client_pref, _instance_name, _ename);

          tmpMeta11 = mmc_mk_box4(6, &Absyn_ElementSpec_COMPONENTS__desc, _attributes, _tSpec, _cnew);
          tmpMeta12 = mmc_mk_box7(3, &Absyn_Element_ELEMENT__desc, mmc_mk_boolean(_finalPrefix), _redeclareKeywords, _innerOuter, tmpMeta11, _info, _constrainClass);
          tmpMeta13 = mmc_mk_box2(3, &Absyn_ElementItem_ELEMENTITEM__desc, tmpMeta12);
          _enew = tmpMeta13;
          tmpMeta14 = mmc_mk_cons(_enew, omc_Binding_applyModifiersPreferred(threadData, _comps, _rest, _instance_name, _typeSp, _finalPrefix, _redeclareKeywords, _innerOuter, _info, _constrainClass, _attributes, _tSpec, _preferred));
          tmpMeta1 = tmpMeta14;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta15 = MMC_CAR(tmp4_1);
          tmpMeta16 = MMC_CDR(tmp4_1);
          _rest = tmpMeta16;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Binding_applyModifiersPreferred(threadData, _comps, _rest, _instance_name, _typeSp, _finalPrefix, _redeclareKeywords, _innerOuter, _info, _constrainClass, _attributes, _tSpec, _preferred);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _out_elems = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_elems;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_applyModifiersPreferred(threadData_t *threadData, modelica_metatype _comps, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _typeSp, modelica_metatype _finalPrefix, modelica_metatype _redeclareKeywords, modelica_metatype _innerOuter, modelica_metatype _info, modelica_metatype _constrainClass, modelica_metatype _attributes, modelica_metatype _tSpec, modelica_metatype _preferred)
{
  modelica_integer tmp1;
  modelica_metatype _out_elems = NULL;
  tmp1 = mmc_unbox_integer(_finalPrefix);
  _out_elems = omc_Binding_applyModifiersPreferred(threadData, _comps, _exp, _instance_name, _typeSp, tmp1, _redeclareKeywords, _innerOuter, _info, _constrainClass, _attributes, _tSpec, _preferred);
  /* skip box _out_elems; list<Absyn.ElementItem> */
  return _out_elems;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseElems(threadData_t *threadData, modelica_metatype _in_elems, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp2, modelica_metatype _instance_name, modelica_boolean _hasPreferred, modelica_metatype _preferred, modelica_string _pathInClass)
{
  modelica_metatype _out_elems = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_elems has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _in_elems;
    {
      modelica_boolean _finalPrefix;
      modelica_metatype _redeclareKeywords = NULL;
      modelica_metatype _innerOuter = NULL;
      modelica_metatype _info = NULL;
      modelica_metatype _constrainClass = NULL;
      modelica_metatype _attributes = NULL;
      modelica_metatype _e_item = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _e_list = NULL;
      modelica_metatype _components = NULL;
      modelica_metatype _tSpec = NULL;
      modelica_boolean _newName;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _finalPrefix has no default value.
      // _redeclareKeywords has no default value.
      // _innerOuter has no default value.
      // _info has no default value.
      // _constrainClass has no default value.
      // _attributes has no default value.
      // _e_item has no default value.
      // _rest has no default value.
      // _e_list has no default value.
      // _components has no default value.
      // _tSpec has no default value.
      // _newName has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _in_elems;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_integer tmp10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,1) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,6) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          tmp10 = mmc_unbox_integer(tmpMeta9);
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 3));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 4));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 5));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta13,3,3) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 2));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 3));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 4));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 6));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 7));
          _finalPrefix = tmp10  /* pattern as ty=Boolean */;
          _redeclareKeywords = tmpMeta11;
          _innerOuter = tmpMeta12;
          _attributes = tmpMeta14;
          _tSpec = tmpMeta15;
          _components = tmpMeta16;
          _info = tmpMeta17;
          _constrainClass = tmpMeta18;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          omc_AbsynUtil_typeSpecPath(threadData, _typeSpec);

          if(((stringEqual(omc_AbsynUtil_typeSpecPathString(threadData, _rootType), omc_AbsynUtil_typeSpecPathString(threadData, _tSpec))) && (!listEmpty(_exp2))))
          {
            tmpMeta19 = stringAppend(_OMC_LIT35,omc_Dump_unparseTypeSpec(threadData, _tSpec));
            tmpMeta20 = stringAppend(tmpMeta19,_OMC_LIT23);
            fputs(MMC_STRINGDATA(tmpMeta20),stdout);

            if(_hasPreferred)
            {
              _e_list = omc_Binding_applyModifiersPreferred(threadData, _components, _exp2, _instance_name, _pathInClass, _finalPrefix, _redeclareKeywords, _innerOuter, _info, _constrainClass, _attributes, _tSpec, _preferred);
            }
            else
            {
              _newName = (listLength(_exp2) != ((modelica_integer) 1));

              _e_list = omc_Binding_applyModifiers(threadData, _components, _exp2, _instance_name, ((modelica_integer) 0), _finalPrefix, _redeclareKeywords, _innerOuter, _info, _constrainClass, _attributes, _tSpec, _newName);
            }
          }
          else
          {
            tmpMeta22 = mmc_mk_box4(6, &Absyn_ElementSpec_COMPONENTS__desc, _attributes, _tSpec, _components);
            tmpMeta23 = mmc_mk_box7(3, &Absyn_Element_ELEMENT__desc, mmc_mk_boolean(_finalPrefix), _redeclareKeywords, _innerOuter, tmpMeta22, _info, _constrainClass);
            tmpMeta24 = mmc_mk_box2(3, &Absyn_ElementItem_ELEMENTITEM__desc, tmpMeta23);
            tmpMeta21 = mmc_mk_cons(tmpMeta24, MMC_REFSTRUCTLIT(mmc_nil));
            _e_list = tmpMeta21;
          }
          tmpMeta1 = listAppend(_e_list, omc_Binding_parseElems(threadData, _rest, _defs, _typeSpec, _rootType, _exp2, _instance_name, _hasPreferred, _preferred, _pathInClass));
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta25 = MMC_CAR(tmp4_1);
          tmpMeta26 = MMC_CDR(tmp4_1);
          _e_item = tmpMeta25;
          _rest = tmpMeta26;
          /* Pattern matching succeeded */
          tmpMeta27 = mmc_mk_cons(_e_item, omc_Binding_parseElems(threadData, _rest, _defs, _typeSpec, _rootType, _exp2, _instance_name, _hasPreferred, _preferred, _pathInClass));
          tmpMeta1 = tmpMeta27;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _out_elems = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_elems;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_parseElems(threadData_t *threadData, modelica_metatype _in_elems, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp2, modelica_metatype _instance_name, modelica_metatype _hasPreferred, modelica_metatype _preferred, modelica_metatype _pathInClass)
{
  modelica_integer tmp1;
  modelica_metatype _out_elems = NULL;
  tmp1 = mmc_unbox_integer(_hasPreferred);
  _out_elems = omc_Binding_parseElems(threadData, _in_elems, _defs, _typeSpec, _rootType, _exp2, _instance_name, tmp1, _preferred, _pathInClass);
  /* skip box _out_elems; list<Absyn.ElementItem> */
  return _out_elems;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseClassPart(threadData_t *threadData, modelica_metatype _in_def, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_boolean _hasPreferred, modelica_metatype _preferred, modelica_string _path)
{
  modelica_metatype _out_def = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_def has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _in_def;
    {
      modelica_metatype _elems = NULL;
      modelica_metatype _elems1 = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _elems has no default value.
      // _elems1 has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          _elems = tmpMeta6;
          /* Pattern matching succeeded */
          _elems1 = omc_Binding_parseElems(threadData, _elems, _defs, _typeSpec, _rootType, _exp, _instance_name, _hasPreferred, _preferred, _path);
          tmpMeta7 = mmc_mk_box2(3, &Absyn_ClassPart_PUBLIC__desc, _elems1);
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _in_def;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_def = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_def;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_parseClassPart(threadData_t *threadData, modelica_metatype _in_def, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _hasPreferred, modelica_metatype _preferred, modelica_metatype _path)
{
  modelica_integer tmp1;
  modelica_metatype _out_def = NULL;
  tmp1 = mmc_unbox_integer(_hasPreferred);
  _out_def = omc_Binding_parseClassPart(threadData, _in_def, _defs, _typeSpec, _rootType, _exp, _instance_name, tmp1, _preferred, _path);
  /* skip box _out_def; Absyn.ClassPart */
  return _out_def;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseClassParts(threadData_t *threadData, modelica_metatype _classes, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_boolean _hasPreferred, modelica_metatype _preferred, modelica_string _path)
{
  modelica_metatype _out_classes = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_classes has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _classes;
    {
      modelica_metatype _r_classes = NULL;
      modelica_metatype _nr_classes = NULL;
      modelica_metatype _cls = NULL;
      modelica_metatype _n_cls = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _r_classes has no default value.
      // _nr_classes has no default value.
      // _cls has no default value.
      // _n_cls has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta7 = MMC_CAR(tmp4_1);
          tmpMeta8 = MMC_CDR(tmp4_1);
          _cls = tmpMeta7;
          _r_classes = tmpMeta8;
          /* Pattern matching succeeded */
          _n_cls = omc_Binding_parseClassPart(threadData, _cls, _defs, _typeSpec, _rootType, _exp, _instance_name, _hasPreferred, _preferred, _path);

          _nr_classes = omc_Binding_parseClassParts(threadData, _r_classes, _defs, _typeSpec, _rootType, _exp, _instance_name, _hasPreferred, _preferred, _path);
          tmpMeta9 = mmc_mk_cons(_n_cls, _nr_classes);
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_classes = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_classes;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_parseClassParts(threadData_t *threadData, modelica_metatype _classes, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _hasPreferred, modelica_metatype _preferred, modelica_metatype _path)
{
  modelica_integer tmp1;
  modelica_metatype _out_classes = NULL;
  tmp1 = mmc_unbox_integer(_hasPreferred);
  _out_classes = omc_Binding_parseClassParts(threadData, _classes, _defs, _typeSpec, _rootType, _exp, _instance_name, tmp1, _preferred, _path);
  /* skip box _out_classes; list<Absyn.ClassPart> */
  return _out_classes;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_parseClassDef(threadData_t *threadData, modelica_metatype _in_def, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_boolean _hasPreferred, modelica_metatype _preferred, modelica_string _path)
{
  modelica_metatype _out_def = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_def has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _in_def;
    {
      modelica_metatype _typeVars = NULL;
      modelica_metatype _classAttrs = NULL;
      modelica_metatype _classParts = NULL;
      modelica_metatype _nclsp = NULL;
      modelica_metatype _ann = NULL;
      modelica_metatype _comment = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _typeVars has no default value.
      // _classAttrs has no default value.
      // _classParts has no default value.
      // _nclsp has no default value.
      // _ann has no default value.
      // _comment has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          _typeVars = tmpMeta6;
          _classAttrs = tmpMeta7;
          _classParts = tmpMeta8;
          _ann = tmpMeta9;
          _comment = tmpMeta10;
          /* Pattern matching succeeded */
          _nclsp = omc_Binding_parseClassParts(threadData, _classParts, _defs, _typeSpec, _rootType, _exp, _instance_name, _hasPreferred, _preferred, _path);
          tmpMeta11 = mmc_mk_box6(3, &Absyn_ClassDef_PARTS__desc, _typeVars, _classAttrs, _nclsp, _ann, _comment);
          tmpMeta1 = tmpMeta11;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_def = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_def;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_parseClassDef(threadData_t *threadData, modelica_metatype _in_def, modelica_metatype _defs, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _hasPreferred, modelica_metatype _preferred, modelica_metatype _path)
{
  modelica_integer tmp1;
  modelica_metatype _out_def = NULL;
  tmp1 = mmc_unbox_integer(_hasPreferred);
  _out_def = omc_Binding_parseClassDef(threadData, _in_def, _defs, _typeSpec, _rootType, _exp, _instance_name, tmp1, _preferred, _path);
  /* skip box _out_def; Absyn.ClassDef */
  return _out_def;
}

DLLDirection
modelica_metatype omc_Binding_updateClass(threadData_t *threadData, modelica_metatype _in_class, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _defs, modelica_boolean _hasPreferred, modelica_metatype _preferred, modelica_string _path)
{
  modelica_metatype _out_class = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_class has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _in_class;
  _out_class = tmpMeta1;

  tmpMeta3 = stringAppend(_path,(MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_out_class), 2))));
  tmpMeta4 = stringAppend(tmpMeta3,_OMC_LIT25);
  tmpMeta2 = MMC_TAGPTR(mmc_alloc_words(12));
  memcpy(MMC_UNTAGPTR(tmpMeta2), MMC_UNTAGPTR(_out_class), 12*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta2))[7] = omc_Binding_parseClassDef(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_out_class), 7))), _defs, _typeSpec, _rootType, _exp, _instance_name, _hasPreferred, _preferred, tmpMeta4);
  _out_class = tmpMeta2;
  _return: OMC_LABEL_UNUSED
  return _out_class;
}
modelica_metatype boxptr_Binding_updateClass(threadData_t *threadData, modelica_metatype _in_class, modelica_metatype _typeSpec, modelica_metatype _rootType, modelica_metatype _exp, modelica_metatype _instance_name, modelica_metatype _defs, modelica_metatype _hasPreferred, modelica_metatype _preferred, modelica_metatype _path)
{
  modelica_integer tmp1;
  modelica_metatype _out_class = NULL;
  tmp1 = mmc_unbox_integer(_hasPreferred);
  _out_class = omc_Binding_updateClass(threadData, _in_class, _typeSpec, _rootType, _exp, _instance_name, _defs, tmp1, _preferred, _path);
  /* skip box _out_class; Absyn.Class */
  return _out_class;
}

DLLDirection
modelica_metatype omc_Binding_toExpList(threadData_t *threadData, modelica_metatype _e_list, modelica_metatype _in_es)
{
  modelica_metatype _out_es = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_es has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _e_list;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _exp = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _exp has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _in_es;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          
          _exp = tmpMeta8;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_cons(_exp, _in_es);
          /* Tail recursive call */
          _e_list = _rest;
          _in_es = tmpMeta9;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_es = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_es;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_inferBindingClient(threadData_t *threadData, modelica_metatype _client_e, modelica_metatype _vmodel, modelica_metatype _env)
{
  modelica_metatype _out_vmodel = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_vmodel has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _client_e;
    {
      modelica_metatype _typeSpec = NULL;
      modelica_metatype _rootType = NULL;
      modelica_metatype _iname = NULL;
      modelica_string _template = NULL;
      modelica_metatype _providers = NULL;
      modelica_metatype _preferred = NULL;
      modelica_metatype _out_es = NULL;
      modelica_metatype _exp = NULL;
      modelica_metatype _new_exp = NULL;
      modelica_metatype _out_class = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _typeSpec has no default value.
      // _rootType has no default value.
      // _iname has no default value.
      // _template has no default value.
      // _providers has no default value.
      // _preferred has no default value.
      // _out_es has no default value.
      // _exp has no default value.
      // _new_exp has no default value.
      // _out_class has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,7) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 8));
          if (listEmpty(tmpMeta9)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmpMeta9);
          tmpMeta11 = MMC_CDR(tmpMeta9);
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 3));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 5));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 6));
          if (!listEmpty(tmpMeta14)) goto tmp3_end;
          _typeSpec = tmpMeta6;
          _rootType = tmpMeta7;
          _iname = tmpMeta8;
          _template = tmpMeta12;
          _providers = tmpMeta13;
          /* Pattern matching succeeded */
          tmpMeta15 = stringAppend(_OMC_LIT36,omc_Dump_unparseTypeSpec(threadData, _typeSpec));
          tmpMeta16 = stringAppend(tmpMeta15,_OMC_LIT37);
          tmpMeta17 = stringAppend(tmpMeta16,omc_Dump_unparseTypeSpec(threadData, _rootType));
          tmpMeta18 = stringAppend(tmpMeta17,_OMC_LIT23);
          fputs(MMC_STRINGDATA(tmpMeta18),stdout);

          tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
          _out_es = omc_Binding_getProviders(threadData, _providers, _vmodel, _env, tmpMeta19);

          if((stringEqual(_template, _OMC_LIT2)))
          {
            tmpMeta20 = MMC_REFSTRUCTLIT(mmc_nil);
            _out_class = omc_Binding_updateClass(threadData, _vmodel, _typeSpec, _rootType, _out_es, _iname, _env, 0 /* false */, tmpMeta20, _OMC_LIT2);
          }
          else
          {
            /* Pattern-matching assignment */
            tmpMeta21 = omc_Parser_parsestringexp(threadData, _template, _OMC_LIT28);
            tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 2));
            if (listEmpty(tmpMeta22)) goto goto_2;
            tmpMeta23 = MMC_CAR(tmpMeta22);
            tmpMeta24 = MMC_CDR(tmpMeta22);
            if (mmc__uniontype__metarecord__typedef__equal(tmpMeta23,1,2) == 0) goto goto_2;
            tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 2));
            if (!listEmpty(tmpMeta24)) goto goto_2;
            _exp = tmpMeta25;

            tmpMeta27 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta28 = mmc_mk_box2(25, &Absyn_Exp_LIST__desc, omc_Binding_toExpList(threadData, _out_es, tmpMeta27));
            tmpMeta26 = mmc_mk_cons(tmpMeta28, MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta29 = MMC_REFSTRUCTLIT(mmc_nil);
            tmpMeta30 = mmc_mk_box3(3, &Absyn_FunctionArgs_FUNCTIONARGS__desc, tmpMeta26, tmpMeta29);
            _new_exp = omc_Binding_parseAggregator(threadData, _exp, tmpMeta30);

            tmpMeta32 = mmc_mk_box2(0, _new_exp, _OMC_LIT2);
            tmpMeta31 = mmc_mk_cons(tmpMeta32, MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta33 = MMC_REFSTRUCTLIT(mmc_nil);
            _out_class = omc_Binding_updateClass(threadData, _vmodel, _typeSpec, _rootType, tmpMeta31, _iname, _env, 0 /* false */, tmpMeta33, _OMC_LIT2);
          }
          tmpMeta1 = _out_class;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,7) == 0) goto tmp3_end;
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta37 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 8));
          if (listEmpty(tmpMeta37)) goto tmp3_end;
          tmpMeta38 = MMC_CAR(tmpMeta37);
          tmpMeta39 = MMC_CDR(tmpMeta37);
          tmpMeta40 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta38), 5));
          tmpMeta41 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta38), 6));
          _typeSpec = tmpMeta34;
          _rootType = tmpMeta35;
          _iname = tmpMeta36;
          _providers = tmpMeta40;
          _preferred = tmpMeta41;
          /* Pattern matching succeeded */
          tmpMeta42 = MMC_REFSTRUCTLIT(mmc_nil);
          _out_es = omc_Binding_getProviders(threadData, _providers, _vmodel, _env, tmpMeta42);
          tmpMeta1 = omc_Binding_updateClass(threadData, _vmodel, _typeSpec, _rootType, _out_es, _iname, _env, 1 /* true */, _preferred, _OMC_LIT2);
          goto tmp3_done;
        }
        case 2: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,0) == 0) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _vmodel;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_vmodel = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_vmodel;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_inferBindingClientList(threadData_t *threadData, modelica_metatype _client_list, modelica_metatype _vmodel, modelica_metatype _env)
{
  modelica_metatype _out_vmodel = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_vmodel has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _client_list;
    {
      modelica_metatype _ce = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _upd_vmodel = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _ce has no default value.
      // _rest has no default value.
      // _upd_vmodel has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _vmodel;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          _ce = tmpMeta6;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _upd_vmodel = omc_Binding_inferBindingClient(threadData, _ce, _vmodel, _env);
          /* Tail recursive call */
          _client_list = _rest;
          _vmodel = _upd_vmodel;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_vmodel = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_vmodel;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Binding_isOfType(threadData_t *threadData, modelica_metatype _elems, modelica_string _typeName)
{
  modelica_boolean _result;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _result has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _elems;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _p = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _p has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_boolean tmp9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,5) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          
          _p = tmpMeta8;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp9 = (stringEqual(omc_AbsynUtil_pathString(threadData, _p, _OMC_LIT25, 1 /* true */, 0 /* false */), _typeName));
          if (1 /* true */ != tmp9) goto goto_2;
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmp4_1);
          tmpMeta11 = MMC_CDR(tmp4_1);
          _rest = tmpMeta11;
          /* Pattern matching succeeded */
          tmp1 = omc_Binding_isOfType(threadData, _rest, _typeName);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _result = tmp1;
  _return: OMC_LABEL_UNUSED
  return _result;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_isOfType(threadData_t *threadData, modelica_metatype _elems, modelica_metatype _typeName)
{
  modelica_boolean _result;
  modelica_metatype out_result;
  _result = omc_Binding_isOfType(threadData, _elems, _typeName);
  out_result = mmc_mk_icon(_result);
  return out_result;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getAllElementsOfType2(threadData_t *threadData, modelica_metatype _el, modelica_string _typeName, modelica_string _pathInProg)
{
  modelica_metatype _res_elem = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _res_elem has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _el;
    {
      modelica_metatype _elist = NULL;
      modelica_string _name = NULL;
      modelica_string _nName = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _elist has no default value.
      // _name has no default value.
      // _nName has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 6; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (8 != MMC_STRLEN(tmpMeta6) || strcmp(MMC_STRINGDATA(_OMC_LIT42), MMC_STRINGDATA(tmpMeta6)) != 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,8,0) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,0,8) == 0) goto tmp3_end;
          
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          fputs(MMC_STRINGDATA(_OMC_LIT38),stdout);
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (12 != MMC_STRLEN(tmpMeta10) || strcmp(MMC_STRINGDATA(_OMC_LIT43), MMC_STRINGDATA(tmpMeta10)) != 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,8,0) == 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta12,0,8) == 0) goto tmp3_end;
          
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          fputs(MMC_STRINGDATA(_OMC_LIT39),stdout);
          tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta13;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (7 != MMC_STRLEN(tmpMeta14) || strcmp(MMC_STRINGDATA(_OMC_LIT44), MMC_STRINGDATA(tmpMeta14)) != 0) goto tmp3_end;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta15,8,0) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta16,0,8) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          fputs(MMC_STRINGDATA(_OMC_LIT40),stdout);
          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta17;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_boolean tmp24;
          modelica_string tmp25;
          modelica_metatype tmpMeta26;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta19,8,0) == 0) goto tmp3_end;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta20,0,8) == 0) goto tmp3_end;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta20), 2));
          
          _name = tmpMeta18;
          _elist = tmpMeta21;
          /* Pattern matching succeeded */
          tmp24 = (modelica_boolean)(stringEqual(_pathInProg, _OMC_LIT2));
          if(tmp24)
          {
            tmp25 = _name;
          }
          else
          {
            tmpMeta22 = stringAppend(_pathInProg,_OMC_LIT25);
            tmpMeta23 = stringAppend(tmpMeta22,_name);
            tmp25 = tmpMeta23;
          }
          _nName = tmp25;
          tmpMeta26 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = omc_Binding_getAllElementsOfType(threadData, _elist, _typeName, _nName, tmpMeta26);
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_boolean tmp29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,8) == 0) goto tmp3_end;
          tmpMeta27 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta27,0,8) == 0) goto tmp3_end;
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta27), 2));
          
          _elist = tmpMeta28;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp29 = omc_Binding_isOfType(threadData, _elist, _typeName);
          if (1 /* true */ != tmp29) goto goto_2;

          tmpMeta30 = stringAppend(_OMC_LIT41,_typeName);
          tmpMeta31 = stringAppend(tmpMeta30,_OMC_LIT23);
          fputs(MMC_STRINGDATA(tmpMeta31),stdout);
          tmpMeta33 = mmc_mk_box2(0, _el, _pathInProg);
          tmpMeta32 = mmc_mk_cons(tmpMeta33, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta32;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta34;
          
          /* Pattern matching succeeded */
          tmpMeta34 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta34;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 6) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _res_elem = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _res_elem;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_getAllElementsOfType(threadData_t *threadData, modelica_metatype _element_defs, modelica_string _typeName, modelica_string _pathInProg, modelica_metatype _elements_in)
{
  modelica_metatype _elements_out = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _elements_out has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _element_defs;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _m = NULL;
      modelica_metatype _el = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _m has no default value.
      // _el has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _elements_in;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          _el = tmpMeta6;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _m = listAppend(omc_Binding_getAllElementsOfType2(threadData, _el, _typeName, _pathInProg), _elements_in);
          /* Tail recursive call */
          _element_defs = _rest;
          _elements_in = _m;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _elements_out = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _elements_out;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Binding_populateModel(threadData_t *threadData, modelica_metatype _element_defs, modelica_integer _autoVal, modelica_metatype _elements_in)
{
  modelica_metatype _elements_out = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _elements_out has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _element_defs;
    {
      modelica_metatype _rest = NULL;
      modelica_metatype _el = NULL;
      modelica_string _cname = NULL;
      modelica_string _nName = NULL;
      modelica_string _p_path = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _rest has no default value.
      // _el has no default value.
      // _cname has no default value.
      // _nName has no default value.
      // _p_path has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _elements_in;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_boolean tmp13;
          modelica_string tmp14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,2,8) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          _cname = tmpMeta9;
          _p_path = tmpMeta10;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          tmp13 = (modelica_boolean)(stringEqual(_p_path, _OMC_LIT2));
          if(tmp13)
          {
            tmp14 = _cname;
          }
          else
          {
            tmpMeta11 = stringAppend(_p_path,_OMC_LIT25);
            tmpMeta12 = stringAppend(tmpMeta11,_cname);
            tmp14 = tmpMeta12;
          }
          _nName = tmp14;

          tmpMeta15 = mmc_mk_box3(3, &Absyn_TypeSpec_TPATH__desc, omc_AbsynUtil_stringPath(threadData, _nName), mmc_mk_none());
          tmpMeta17 = stringAppend(_OMC_LIT51,_cname);
          tmpMeta18 = stringAppend(tmpMeta17,intString(_autoVal));
          tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta20 = mmc_mk_box4(3, &Absyn_Component_COMPONENT__desc, tmpMeta18, tmpMeta19, mmc_mk_none());
          tmpMeta21 = mmc_mk_box4(3, &Absyn_ComponentItem_COMPONENTITEM__desc, tmpMeta20, mmc_mk_none(), mmc_mk_none());
          tmpMeta16 = mmc_mk_cons(tmpMeta21, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta22 = mmc_mk_box4(6, &Absyn_ElementSpec_COMPONENTS__desc, _OMC_LIT50, tmpMeta15, tmpMeta16);
          tmpMeta23 = mmc_mk_box7(3, &Absyn_Element_ELEMENT__desc, mmc_mk_boolean(0 /* false */), mmc_mk_none(), _OMC_LIT45, tmpMeta22, _OMC_LIT31, mmc_mk_none());
          _el = tmpMeta23;
          tmpMeta25 = mmc_mk_box2(3, &Absyn_ElementItem_ELEMENTITEM__desc, _el);
          tmpMeta24 = mmc_mk_cons(tmpMeta25, _elements_in);
          /* Tail recursive call */
          _element_defs = _rest;
          _autoVal = ((modelica_integer) 1) + _autoVal;
          _elements_in = tmpMeta24;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _elements_out = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _elements_out;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Binding_populateModel(threadData_t *threadData, modelica_metatype _element_defs, modelica_metatype _autoVal, modelica_metatype _elements_in)
{
  modelica_integer tmp1;
  modelica_metatype _elements_out = NULL;
  tmp1 = mmc_unbox_integer(_autoVal);
  _elements_out = omc_Binding_populateModel(threadData, _element_defs, tmp1, _elements_in);
  /* skip box _elements_out; list<Absyn.ElementItem> */
  return _elements_out;
}

DLLDirection
modelica_metatype omc_Binding_updatePackage(threadData_t *threadData, modelica_metatype _in_class, modelica_metatype _ag_elems)
{
  modelica_metatype _out_class = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_class has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _in_class;
    {
      modelica_metatype _body = NULL;
      modelica_metatype _typeVars = NULL;
      modelica_metatype _classAttrs = NULL;
      modelica_metatype _ann = NULL;
      modelica_metatype _comment = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _body has no default value.
      // _typeVars has no default value.
      // _classAttrs has no default value.
      // _ann has no default value.
      // _comment has no default value.
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,5) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 5));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 6));
          
          _out_class = tmp4_1;
          _typeVars = tmpMeta7;
          _classAttrs = tmpMeta8;
          _ann = tmpMeta9;
          _comment = tmpMeta10;
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_box2(3, &Absyn_ClassPart_PUBLIC__desc, _ag_elems);
          tmpMeta12 = mmc_mk_cons(tmpMeta13, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta14 = mmc_mk_box6(3, &Absyn_ClassDef_PARTS__desc, _typeVars, _classAttrs, tmpMeta12, _ann, _comment);
          tmpMeta11 = MMC_TAGPTR(mmc_alloc_words(12));
          memcpy(MMC_UNTAGPTR(tmpMeta11), MMC_UNTAGPTR(_out_class), 12*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta11))[7] = tmpMeta14;
          _out_class = tmpMeta11;
          tmpMeta1 = _out_class;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _out_class = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _out_class;
}

DLLDirection
modelica_metatype omc_Binding_generateVerificationScenarios(threadData_t *threadData, modelica_metatype _package_path, modelica_metatype _in_env)
{
  modelica_metatype _out_env = NULL;
  modelica_metatype _ms = NULL;
  modelica_metatype _package_def = NULL;
  modelica_metatype _out_vmodel = NULL;
  modelica_metatype _autogen_class = NULL;
  modelica_metatype _autogen_class2 = NULL;
  modelica_metatype _scode_def = NULL;
  modelica_metatype _design_alts = NULL;
  modelica_metatype _reqs = NULL;
  modelica_metatype _scenarios = NULL;
  modelica_metatype _client_list = NULL;
  modelica_metatype _ag_elems = NULL;
  modelica_metatype _autogen_model_list = NULL;
  modelica_metatype _autogen_model = NULL;
  modelica_integer _i;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta20;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta22;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  modelica_metatype tmpMeta25;
  modelica_metatype tmpMeta26;
  modelica_metatype tmpMeta27;
  modelica_metatype tmpMeta28;
  modelica_metatype tmpMeta29;
  modelica_metatype tmpMeta30;
  modelica_metatype tmpMeta31;
  modelica_metatype tmpMeta32;
  modelica_metatype tmpMeta33;
  modelica_metatype tmpMeta34;
  modelica_metatype tmpMeta35;
  modelica_metatype tmpMeta36;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_env has no default value.
  // _ms has no default value.
  // _package_def has no default value.
  // _out_vmodel has no default value.
  // _autogen_class has no default value.
  // _autogen_class2 has no default value.
  // _scode_def has no default value.
  // _design_alts has no default value.
  // _reqs has no default value.
  // _scenarios has no default value.
  // _client_list has no default value.
  // _ag_elems has no default value.
  // _autogen_model_list has no default value.
  // _autogen_model has no default value.
  // _i has no default value.
  _scode_def = omc_AbsynToSCode_translateAbsyn2SCode(threadData, _in_env);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _design_alts = omc_Binding_getAllElementsOfType(threadData, _scode_def, _OMC_LIT52, _OMC_LIT2, tmpMeta1);

  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _reqs = omc_Binding_getAllElementsOfType(threadData, _scode_def, _OMC_LIT53, _OMC_LIT2, tmpMeta2);

  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  _scenarios = omc_Binding_getAllElementsOfType(threadData, _scode_def, _OMC_LIT54, _OMC_LIT2, tmpMeta3);

  tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
  _ms = omc_Binding_getMediatorDefsElements(threadData, _scode_def, tmpMeta4);

  _package_def = omc_InteractiveUtil_getPathedClassInProgram(threadData, _package_path, _in_env, 0 /* false */, 0 /* false */);

  tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
  _autogen_model_list = tmpMeta5;

  _i = ((modelica_integer) 0);

  {
    modelica_metatype _s;
    for (tmpMeta6 = _scenarios; !listEmpty(tmpMeta6); tmpMeta6=MMC_CDR(tmpMeta6))
    {
      _s = MMC_CAR(tmpMeta6);
      {
        modelica_metatype _d;
        for (tmpMeta7 = _design_alts; !listEmpty(tmpMeta7); tmpMeta7=MMC_CDR(tmpMeta7))
        {
          _d = MMC_CAR(tmpMeta7);
          tmpMeta9 = mmc_mk_cons(_d, _reqs);
          tmpMeta8 = mmc_mk_cons(_s, tmpMeta9);
          tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
          _ag_elems = omc_Binding_populateModel(threadData, tmpMeta8, ((modelica_integer) 0), tmpMeta10);

          tmpMeta11 = mmc_mk_cons(_OMC_LIT63, _ag_elems);
          _ag_elems = tmpMeta11;

          tmpMeta12 = stringAppend(_OMC_LIT64,intString(_i));
          tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta16 = mmc_mk_box2(3, &Absyn_ClassPart_PUBLIC__desc, _ag_elems);
          tmpMeta15 = mmc_mk_cons(tmpMeta16, MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta18 = mmc_mk_box6(3, &Absyn_ClassDef_PARTS__desc, tmpMeta13, tmpMeta14, tmpMeta15, tmpMeta17, _OMC_LIT67);
          tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta20 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta21 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta22 = mmc_mk_box11(3, &Absyn_Class_CLASS__desc, tmpMeta12, mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), _OMC_LIT65, tmpMeta18, tmpMeta19, tmpMeta20, tmpMeta21, _OMC_LIT31);
          _autogen_class = tmpMeta22;

          tmpMeta23 = stringAppend(_OMC_LIT68,intString(_i));
          tmpMeta24 = stringAppend(tmpMeta23,_OMC_LIT23);
          fputs(MMC_STRINGDATA(tmpMeta24),stdout);

          tmpMeta25 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta26 = MMC_REFSTRUCTLIT(mmc_nil);
          _client_list = omc_Binding_buildInstList(threadData, _autogen_class, _in_env, _OMC_LIT24, _ms, tmpMeta25, tmpMeta26);

          _autogen_class2 = omc_Binding_inferBindingClientList(threadData, _client_list, _autogen_class, _in_env);

          tmpMeta27 = mmc_mk_box3(3, &Absyn_ElementSpec_CLASSDEF__desc, mmc_mk_boolean(0 /* false */), _autogen_class2);
          tmpMeta28 = mmc_mk_box7(3, &Absyn_Element_ELEMENT__desc, mmc_mk_boolean(0 /* false */), mmc_mk_none(), _OMC_LIT45, tmpMeta27, _OMC_LIT31, mmc_mk_none());
          tmpMeta29 = mmc_mk_box2(3, &Absyn_ElementItem_ELEMENTITEM__desc, tmpMeta28);
          _autogen_model = tmpMeta29;

          tmpMeta30 = mmc_mk_cons(_autogen_model, _autogen_model_list);
          _autogen_model_list = tmpMeta30;

          _i = ((modelica_integer) 1) + _i;
        }
      }
    }
  }

  _out_vmodel = omc_Binding_updatePackage(threadData, _package_def, _autogen_model_list);

  tmpMeta33 = stringAppend(_OMC_LIT69,omc_Dump_unparseClassStr(threadData, _out_vmodel));
  tmpMeta34 = stringAppend(tmpMeta33,_OMC_LIT23);
  fputs(MMC_STRINGDATA(tmpMeta34),stdout);

  tmpMeta35 = mmc_mk_cons(_out_vmodel, MMC_REFSTRUCTLIT(mmc_nil));
  tmpMeta36 = mmc_mk_box3(3, &Absyn_Program_PROGRAM__desc, tmpMeta35, omc_InteractiveUtil_buildWithin(threadData, _package_path));
  _out_env = omc_InteractiveUtil_updateProgram(threadData, tmpMeta36, _in_env, 0 /* false */);
  _return: OMC_LABEL_UNUSED
  return _out_env;
}

DLLDirection
modelica_metatype omc_Binding_inferBindings(threadData_t *threadData, modelica_metatype _model_path, modelica_metatype _env)
{
  modelica_metatype _out_model_def = NULL;
  modelica_metatype _ms = NULL;
  modelica_metatype _model_def = NULL;
  modelica_metatype _out_vmodel = NULL;
  modelica_metatype _scode_def = NULL;
  modelica_metatype _client_list = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _out_model_def has no default value.
  // _ms has no default value.
  // _model_def has no default value.
  // _out_vmodel has no default value.
  // _scode_def has no default value.
  // _client_list has no default value.
  _model_def = omc_InteractiveUtil_getPathedClassInProgram(threadData, _model_path, _env, 0 /* false */, 0 /* false */);

  _scode_def = omc_AbsynToSCode_translateAbsyn2SCode(threadData, _env);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _ms = omc_Binding_getMediatorDefsElements(threadData, _scode_def, tmpMeta1);

  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  _client_list = omc_Binding_buildInstList(threadData, _model_def, _env, _OMC_LIT24, _ms, tmpMeta2, tmpMeta3);

  _out_vmodel = omc_Binding_inferBindingClientList(threadData, _client_list, _model_def, _env);

  tmpMeta4 = stringAppend(omc_Dump_unparseClassStr(threadData, _out_vmodel),_OMC_LIT23);
  fputs(MMC_STRINGDATA(tmpMeta4),stdout);

  tmpMeta5 = mmc_mk_cons(_out_vmodel, MMC_REFSTRUCTLIT(mmc_nil));
  tmpMeta6 = mmc_mk_box3(3, &Absyn_Program_PROGRAM__desc, tmpMeta5, omc_InteractiveUtil_buildWithin(threadData, _model_path));
  _out_model_def = omc_InteractiveUtil_updateProgram(threadData, tmpMeta6, _env, 0 /* false */);
  _return: OMC_LABEL_UNUSED
  return _out_model_def;
}

