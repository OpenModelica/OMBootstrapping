#include "omc_simulation_settings.h"
#include "Initialization.h"
#define _OMC_LIT0_data "homotopy"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT0,8,_OMC_LIT0_data);
#define _OMC_LIT0 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT0)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT1,2,6) {&DAE_Exp_BCONST__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT1 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "initial"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,7,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,1,5) {&BackendDAE_EquationKind_INITIAL__EQUATION__desc,}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT4,5,3) {&BackendDAE_EvaluationStages_EVALUATION__STAGES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT4 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT4)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT5,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT3,_OMC_LIT4}};
#define _OMC_LIT5 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT5)
#define _OMC_LIT6_data "function collectInitialBindings failed for: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT6,44,_OMC_LIT6_data);
#define _OMC_LIT6 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT6)
#define _OMC_LIT7_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/BackEnd/Initialization.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT7,72,_OMC_LIT7_data);
#define _OMC_LIT7 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT7)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT8_6,1.758197185e9);
#define _OMC_LIT8_6 MMC_REFREALLIT(_OMC_LIT_STRUCT8_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT8,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT7,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2881)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2881)),MMC_IMMEDIATE(MMC_TAGFIXNUM(122)),_OMC_LIT8_6}};
#define _OMC_LIT8 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT8)
#define _OMC_LIT9_data "der"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT9,3,_OMC_LIT9_data);
#define _OMC_LIT9 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT9)
#define _OMC_LIT10_data "pre"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT10,3,_OMC_LIT10_data);
#define _OMC_LIT10 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT10)
#define _OMC_LIT11_data "previous"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT11,8,_OMC_LIT11_data);
#define _OMC_LIT11 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT11)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT12,1,3) {&BackendDAE_VarKind_VARIABLE__desc,}};
#define _OMC_LIT12 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT12)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT13,1,5) {&DAE_VarDirection_BIDIR__desc,}};
#define _OMC_LIT13 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT13)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT14,2,6) {&DAE_Exp_BCONST__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */))}};
#define _OMC_LIT14 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,1,1) {_OMC_LIT14}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,0,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT17,0.0);
#define _OMC_LIT17 MMC_REFREALLIT(_OMC_LIT_STRUCT17)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT18,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT16,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT17}};
#define _OMC_LIT18 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT18)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT19,1,4) {&DAE_ComponentPrefix_NOCOMPPRE__desc,}};
#define _OMC_LIT19 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT19)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT20,8,3) {&DAE_ElementSource_SOURCE__desc,_OMC_LIT18,MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT19,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT20 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT20)
#define _OMC_LIT21_data "."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT21,1,_OMC_LIT21_data);
#define _OMC_LIT21 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data "$STATESET"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,9,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
#define _OMC_LIT23_data "initialStateSelection"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT23,21,_OMC_LIT23_data);
#define _OMC_LIT23 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT23)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT24,1,4) {&Flags_FlagVisibility_EXTERNAL__desc,}};
#define _OMC_LIT24 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT24)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT25,2,4) {&Flags_FlagData_BOOL__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT25 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data "Activates the state selection inside initialization to avoid singularities."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,75,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT27,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT26}};
#define _OMC_LIT27 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT27)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT28,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(121)),_OMC_LIT23,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT24,_OMC_LIT25,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT27}};
#define _OMC_LIT28 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT28)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT29,1,5) {&ErrorTypes_MessageType_TRANSLATION__desc,}};
#define _OMC_LIT29 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT29)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT30,1,5) {&ErrorTypes_Severity_WARNING__desc,}};
#define _OMC_LIT30 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT30)
#define _OMC_LIT31_data "Parameter %s has no value, and is fixed during initialization (fixed=true), using available start value (start=%s) as default value."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT31,132,_OMC_LIT31_data);
#define _OMC_LIT31 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT31)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT32,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT31}};
#define _OMC_LIT32 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT32)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT33,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(499)),_OMC_LIT29,_OMC_LIT30,_OMC_LIT32}};
#define _OMC_LIT33 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT33)
#define _OMC_LIT34_data "std"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT34,3,_OMC_LIT34_data);
#define _OMC_LIT34 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT34)
#define _OMC_LIT35_data "1.x"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT35,3,_OMC_LIT35_data);
#define _OMC_LIT35 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT35)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT36,2,0) {_OMC_LIT35,MMC_IMMEDIATE(MMC_TAGFIXNUM(10))}};
#define _OMC_LIT36 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT36)
#define _OMC_LIT37_data "2.x"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT37,3,_OMC_LIT37_data);
#define _OMC_LIT37 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT37)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT38,2,0) {_OMC_LIT37,MMC_IMMEDIATE(MMC_TAGFIXNUM(20))}};
#define _OMC_LIT38 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT38)
#define _OMC_LIT39_data "3.0"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT39,3,_OMC_LIT39_data);
#define _OMC_LIT39 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT39)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT40,2,0) {_OMC_LIT39,MMC_IMMEDIATE(MMC_TAGFIXNUM(30))}};
#define _OMC_LIT40 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT40)
#define _OMC_LIT41_data "3.1"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT41,3,_OMC_LIT41_data);
#define _OMC_LIT41 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT41)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT42,2,0) {_OMC_LIT41,MMC_IMMEDIATE(MMC_TAGFIXNUM(31))}};
#define _OMC_LIT42 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT42)
#define _OMC_LIT43_data "3.2"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT43,3,_OMC_LIT43_data);
#define _OMC_LIT43 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT43)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT44,2,0) {_OMC_LIT43,MMC_IMMEDIATE(MMC_TAGFIXNUM(32))}};
#define _OMC_LIT44 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT44)
#define _OMC_LIT45_data "3.3"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT45,3,_OMC_LIT45_data);
#define _OMC_LIT45 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT45)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT46,2,0) {_OMC_LIT45,MMC_IMMEDIATE(MMC_TAGFIXNUM(33))}};
#define _OMC_LIT46 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT46)
#define _OMC_LIT47_data "3.4"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT47,3,_OMC_LIT47_data);
#define _OMC_LIT47 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT47)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT48,2,0) {_OMC_LIT47,MMC_IMMEDIATE(MMC_TAGFIXNUM(34))}};
#define _OMC_LIT48 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT48)
#define _OMC_LIT49_data "3.5"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT49,3,_OMC_LIT49_data);
#define _OMC_LIT49 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT49)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT50,2,0) {_OMC_LIT49,MMC_IMMEDIATE(MMC_TAGFIXNUM(35))}};
#define _OMC_LIT50 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT50)
#define _OMC_LIT51_data "3.6"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT51,3,_OMC_LIT51_data);
#define _OMC_LIT51 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT51)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT52,2,0) {_OMC_LIT51,MMC_IMMEDIATE(MMC_TAGFIXNUM(36))}};
#define _OMC_LIT52 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT52)
#define _OMC_LIT53_data "latest"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT53,6,_OMC_LIT53_data);
#define _OMC_LIT53 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT53)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT54,2,0) {_OMC_LIT53,MMC_IMMEDIATE(MMC_TAGFIXNUM(1000))}};
#define _OMC_LIT54 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT54)
#define _OMC_LIT55_data "experimental"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT55,12,_OMC_LIT55_data);
#define _OMC_LIT55 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT55)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT56,2,0) {_OMC_LIT55,MMC_IMMEDIATE(MMC_TAGFIXNUM(9999))}};
#define _OMC_LIT56 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT56)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT57,2,1) {_OMC_LIT56,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT57 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT57)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT58,2,1) {_OMC_LIT54,_OMC_LIT57}};
#define _OMC_LIT58 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT58)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT59,2,1) {_OMC_LIT52,_OMC_LIT58}};
#define _OMC_LIT59 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT59)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT60,2,1) {_OMC_LIT50,_OMC_LIT59}};
#define _OMC_LIT60 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT60)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT61,2,1) {_OMC_LIT48,_OMC_LIT60}};
#define _OMC_LIT61 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT61)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT62,2,1) {_OMC_LIT46,_OMC_LIT61}};
#define _OMC_LIT62 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT62)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT63,2,1) {_OMC_LIT44,_OMC_LIT62}};
#define _OMC_LIT63 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT63)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT64,2,1) {_OMC_LIT42,_OMC_LIT63}};
#define _OMC_LIT64 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT64)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT65,2,1) {_OMC_LIT40,_OMC_LIT64}};
#define _OMC_LIT65 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT65)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT66,2,1) {_OMC_LIT38,_OMC_LIT65}};
#define _OMC_LIT66 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT66)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT67,2,1) {_OMC_LIT36,_OMC_LIT66}};
#define _OMC_LIT67 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT67)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT68,3,10) {&Flags_FlagData_ENUM__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1000)),_OMC_LIT67}};
#define _OMC_LIT68 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT68)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT69,2,1) {_OMC_LIT55,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT69 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT69)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT70,2,1) {_OMC_LIT53,_OMC_LIT69}};
#define _OMC_LIT70 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT70)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT71,2,1) {_OMC_LIT51,_OMC_LIT70}};
#define _OMC_LIT71 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT71)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT72,2,1) {_OMC_LIT49,_OMC_LIT71}};
#define _OMC_LIT72 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT72)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT73,2,1) {_OMC_LIT47,_OMC_LIT72}};
#define _OMC_LIT73 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT73)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT74,2,1) {_OMC_LIT45,_OMC_LIT73}};
#define _OMC_LIT74 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT74)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT75,2,1) {_OMC_LIT43,_OMC_LIT74}};
#define _OMC_LIT75 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT75)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT76,2,1) {_OMC_LIT41,_OMC_LIT75}};
#define _OMC_LIT76 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT76)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT77,2,1) {_OMC_LIT37,_OMC_LIT76}};
#define _OMC_LIT77 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT77)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT78,2,1) {_OMC_LIT35,_OMC_LIT77}};
#define _OMC_LIT78 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT78)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT79,2,3) {&Flags_ValidOptions_STRING__OPTION__desc,_OMC_LIT78}};
#define _OMC_LIT79 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT79)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT80,1,1) {_OMC_LIT79}};
#define _OMC_LIT80 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT80)
#define _OMC_LIT81_data "Sets the language standard that should be used."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT81,47,_OMC_LIT81_data);
#define _OMC_LIT81 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT81)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT82,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT81}};
#define _OMC_LIT82 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT82)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT83,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(8)),_OMC_LIT34,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT24,_OMC_LIT68,_OMC_LIT80,_OMC_LIT82}};
#define _OMC_LIT83 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT83)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT84,1,6) {&ErrorTypes_MessageType_SYMBOLIC__desc,}};
#define _OMC_LIT84 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT84)
#define _OMC_LIT85_data "The parameter %s has fixed = false and a binding equation %s = %s, which is probably redundant.\nSetting fixed = false usually means there is an additional initial equation to determine the parameter value. The binding was ignored by old Modelica tools, but this is not according to the Modelica specification. Please remove the parameter binding, or bind the parameter to another parameter with fixed = false and no binding."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT85,424,_OMC_LIT85_data);
#define _OMC_LIT85 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT85)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT86,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT85}};
#define _OMC_LIT86 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT86)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT87,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(255)),_OMC_LIT84,_OMC_LIT30,_OMC_LIT86}};
#define _OMC_LIT87 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT87)
#define _OMC_LIT88_data "The parameter %s has fixed = false and a binding equation %s = %s, which is probably redundant. The binding equation will be ignored, as it is expected for Modelica 3.1."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT88,169,_OMC_LIT88_data);
#define _OMC_LIT88 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT88)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT89,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT88}};
#define _OMC_LIT89 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT89)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT90,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(256)),_OMC_LIT84,_OMC_LIT30,_OMC_LIT89}};
#define _OMC_LIT90 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT90)
#define _OMC_LIT91_data "The parameter %s has fixed = false, a start value, start = %s and a binding equation %s = %s, which is probably redundant. The binding equation will be ignored, as it is expected for Modelica 3.1."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT91,196,_OMC_LIT91_data);
#define _OMC_LIT91 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT91)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT92,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT91}};
#define _OMC_LIT92 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT92)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT93,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(257)),_OMC_LIT84,_OMC_LIT30,_OMC_LIT92}};
#define _OMC_LIT93 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT93)
#define _OMC_LIT94_data "function collectInitialVars failed for: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT94,40,_OMC_LIT94_data);
#define _OMC_LIT94 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT94)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT95_6,1.758197185e9);
#define _OMC_LIT95_6 MMC_REFREALLIT(_OMC_LIT_STRUCT95_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT95,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT7,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2712)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(2712)),MMC_IMMEDIATE(MMC_TAGFIXNUM(118)),_OMC_LIT95_6}};
#define _OMC_LIT95 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT95)
#define _OMC_LIT96_data "$stateSelectionSet"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT96,18,_OMC_LIT96_data);
#define _OMC_LIT96 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT96)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT97,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT96}};
#define _OMC_LIT97 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT97)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT98,1,11) {&DAE_Type_T__UNKNOWN__desc,}};
#define _OMC_LIT98 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT98)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT99,1,7) {&DAE_InlineType_NO__INLINE__desc,}};
#define _OMC_LIT99 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT99)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT100,1,3) {&DAE_TailCall_NO__TAIL__desc,}};
#define _OMC_LIT100 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT100)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT101,8,3) {&DAE_CallAttributes_CALL__ATTR__desc,_OMC_LIT98,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT99,_OMC_LIT100}};
#define _OMC_LIT101 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT101)
#define _OMC_LIT102_data "initial state selection equation generated:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT102,43,_OMC_LIT102_data);
#define _OMC_LIT102 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT102)
#define _OMC_LIT103_data "bltdump"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT103,7,_OMC_LIT103_data);
#define _OMC_LIT103 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT103)
#define _OMC_LIT104_data "Dumps information from index reduction."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT104,39,_OMC_LIT104_data);
#define _OMC_LIT104 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT104)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT105,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT104}};
#define _OMC_LIT105 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT105)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT106,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(51)),_OMC_LIT103,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT105}};
#define _OMC_LIT106 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT106)
#define _OMC_LIT107_data "initialization"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT107,14,_OMC_LIT107_data);
#define _OMC_LIT107 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT107)
#define _OMC_LIT108_data "Shows additional information from the initialization process."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT108,61,_OMC_LIT108_data);
#define _OMC_LIT108 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT108)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT109,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT108}};
#define _OMC_LIT109 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT109)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT110,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(86)),_OMC_LIT107,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT109}};
#define _OMC_LIT110 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT110)
#define _OMC_LIT111_data "StateSet "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT111,9,_OMC_LIT111_data);
#define _OMC_LIT111 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT111)
#define _OMC_LIT112_data " is underconstraint for the initial system.\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT112,44,_OMC_LIT112_data);
#define _OMC_LIT112 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT112)
#define _OMC_LIT113_data "======================================\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT113,39,_OMC_LIT113_data);
#define _OMC_LIT113 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT113)
#define _OMC_LIT114_data "# States left to fix: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT114,22,_OMC_LIT114_data);
#define _OMC_LIT114 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT114)
#define _OMC_LIT115_data ".\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT115,2,_OMC_LIT115_data);
#define _OMC_LIT115 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT115)
#define _OMC_LIT116_data "# Unfixed candidates: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT116,22,_OMC_LIT116_data);
#define _OMC_LIT116 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT116)
#define _OMC_LIT117_data "Chosen states to fix:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT117,21,_OMC_LIT117_data);
#define _OMC_LIT117 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT117)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT118,1,9) {&BackendDAE_VarKind_DISCRETE__desc,}};
#define _OMC_LIT118 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT118)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT119,1,5) {&DAE_VarParallelism_NON__PARALLEL__desc,}};
#define _OMC_LIT119 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT119)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT120,1,6) {&DAE_ConnectorType_NON__CONNECTOR__desc,}};
#define _OMC_LIT120 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT120)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT121,1,6) {&DAE_VarInnerOuter_NOT__INNER__OUTER__desc,}};
#define _OMC_LIT121 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT121)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT122,2,0) {MMC_REFSTRUCTLIT(mmc_nil),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT122 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT122)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT123,2,4) {&DAE_Type_T__REAL__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT123 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT123)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT124,2,4) {&DAE_Operator_SUB__desc,_OMC_LIT123}};
#define _OMC_LIT124 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT124)
#define _OMC_LIT125_data "Initialization problem is structural singular. Please, check the initial conditions."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT125,84,_OMC_LIT125_data);
#define _OMC_LIT125 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT125)
#define _OMC_LIT126_data "The initialization problem is inconsistent due to the following equation: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT126,74,_OMC_LIT126_data);
#define _OMC_LIT126 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT126)
#define _OMC_LIT127_data " ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT127,2,_OMC_LIT127_data);
#define _OMC_LIT127 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT127)
#define _OMC_LIT128_data ")"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT128,1,_OMC_LIT128_data);
#define _OMC_LIT128 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT128)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT129,1,3) {&BackendDAE_BaseClockPartitionKind_UNKNOWN__PARTITION__desc,}};
#define _OMC_LIT129 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT129)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT130,1,4) {&BackendDAE_IndexType_NORMAL__desc,}};
#define _OMC_LIT130 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT130)
#define _OMC_LIT131_data "It was not possible to check the given initialization system for consistency symbolically, because the relevant equations are part of an algebraic loop. This is not supported yet."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT131,179,_OMC_LIT131_data);
#define _OMC_LIT131 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT131)
#define _OMC_LIT132_data "It was not possible to determine if the initialization problem is consistent, because of not evaluable parameters/start values during compile time: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT132,148,_OMC_LIT132_data);
#define _OMC_LIT132 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT132)
#define _OMC_LIT133_data "function fixOverDeterminedSystem failed due to invalid input"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT133,60,_OMC_LIT133_data);
#define _OMC_LIT133 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT133)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT134_6,1.758197185e9);
#define _OMC_LIT134_6 MMC_REFREALLIT(_OMC_LIT_STRUCT134_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT134,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT7,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1638)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1638)),MMC_IMMEDIATE(MMC_TAGFIXNUM(105)),_OMC_LIT134_6}};
#define _OMC_LIT134 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT134)
#define _OMC_LIT135_data "function fixUnderDeterminedSystem failed due to invalid input"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT135,61,_OMC_LIT135_data);
#define _OMC_LIT135 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT135)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT136_6,1.758197185e9);
#define _OMC_LIT136_6 MMC_REFREALLIT(_OMC_LIT_STRUCT136_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT136,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT7,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1605)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1605)),MMC_IMMEDIATE(MMC_TAGFIXNUM(106)),_OMC_LIT136_6}};
#define _OMC_LIT136 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT136)
#define _OMC_LIT137_data "maxMixedDeterminedIndex"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT137,23,_OMC_LIT137_data);
#define _OMC_LIT137 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT137)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT138,2,5) {&Flags_FlagData_INT__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(10))}};
#define _OMC_LIT138 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT138)
#define _OMC_LIT139_data "Sets the maximum mixed-determined index that is handled by the initialization."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT139,78,_OMC_LIT139_data);
#define _OMC_LIT139 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT139)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT140,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT139}};
#define _OMC_LIT140 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT140)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT141,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(70)),_OMC_LIT137,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT24,_OMC_LIT138,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT140}};
#define _OMC_LIT141 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT141)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT142,1,5) {&BackendDAE_IndexType_SOLVABLE__desc,}};
#define _OMC_LIT142 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT142)
#define _OMC_LIT143_data "The given system is mixed-determined.   [index = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT143,49,_OMC_LIT143_data);
#define _OMC_LIT143 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT143)
#define _OMC_LIT144_data "]"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT144,1,_OMC_LIT144_data);
#define _OMC_LIT144 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT144)
#define _OMC_LIT145_data "\n------------ UNBALANCED INITIAL SYSTEM ------------\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT145,53,_OMC_LIT145_data);
#define _OMC_LIT145 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT145)
#define _OMC_LIT146_data "The initial system is over- as well as underdetermined and it could not be resolved after "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT146,90,_OMC_LIT146_data);
#define _OMC_LIT146 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT146)
#define _OMC_LIT147_data " iterations.\n\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT147,14,_OMC_LIT147_data);
#define _OMC_LIT147 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT147)
#define _OMC_LIT148_data "==== OVERDETERMINATION BY "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT148,26,_OMC_LIT148_data);
#define _OMC_LIT148 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT148)
#define _OMC_LIT149_data " EQUATION(S)\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT149,13,_OMC_LIT149_data);
#define _OMC_LIT149 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT149)
#define _OMC_LIT150_data "==== UNDERDETERMINATION OF "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT150,27,_OMC_LIT150_data);
#define _OMC_LIT150 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT150)
#define _OMC_LIT151_data " VARIABLE(S)\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT151,13,_OMC_LIT151_data);
#define _OMC_LIT151 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT151)
#define _OMC_LIT152_data "\n---- involved set eqns ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT152,25,_OMC_LIT152_data);
#define _OMC_LIT152 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT152)
#define _OMC_LIT153_data "/"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT153,1,_OMC_LIT153_data);
#define _OMC_LIT153 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT153)
#define _OMC_LIT154_data "):\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT154,3,_OMC_LIT154_data);
#define _OMC_LIT154 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT154)
#define _OMC_LIT155_data "  "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT155,2,_OMC_LIT155_data);
#define _OMC_LIT155 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT155)
#define _OMC_LIT156_data "("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT156,1,_OMC_LIT156_data);
#define _OMC_LIT156 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT156)
#define _OMC_LIT157_data "):	"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT157,3,_OMC_LIT157_data);
#define _OMC_LIT157 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT157)
#define _OMC_LIT158_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT158,1,_OMC_LIT158_data);
#define _OMC_LIT158 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT158)
#define _OMC_LIT159_data "\n---- involved set vars ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT159,25,_OMC_LIT159_data);
#define _OMC_LIT159 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT159)
#define _OMC_LIT160_data ":	"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT160,2,_OMC_LIT160_data);
#define _OMC_LIT160 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT160)
#define _OMC_LIT161_data "--------------------------------------------------\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT161,51,_OMC_LIT161_data);
#define _OMC_LIT161 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT161)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT162,1,4) {&ErrorTypes_Severity_ERROR__desc,}};
#define _OMC_LIT162 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT162)
#define _OMC_LIT163_data "The initialization problem of given system is mixed-determined. It is under- as well as overdetermined and the mixed-determination-index is too high. [index > %s]\nPlease checkout the option \"--maxMixedDeterminedIndex\" to simulate with a higher threshold or consider changing some initial equations, fixed variables and start values. Use -d=initialization for more information."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT163,376,_OMC_LIT163_data);
#define _OMC_LIT163 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT163)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT164,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT163}};
#define _OMC_LIT164 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT164)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT165,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(584)),_OMC_LIT84,_OMC_LIT162,_OMC_LIT164}};
#define _OMC_LIT165 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT165)
#define _OMC_LIT166_data "removed eqns"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT166,12,_OMC_LIT166_data);
#define _OMC_LIT166 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT166)
#define _OMC_LIT167_data "fixed vars"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT167,10,_OMC_LIT167_data);
#define _OMC_LIT167 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT167)
#define _OMC_LIT168_data "failed vars"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT168,11,_OMC_LIT168_data);
#define _OMC_LIT168 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT168)
#define _OMC_LIT169_data "initASSC"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT169,8,_OMC_LIT169_data);
#define _OMC_LIT169 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT169)
#define _OMC_LIT170_data "Enables the ASSC algorithm for initialization."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT170,46,_OMC_LIT170_data);
#define _OMC_LIT170 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT170)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT171,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT170}};
#define _OMC_LIT171 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT171)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT172,8,3) {&Flags_ConfigFlag_CONFIG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(126)),_OMC_LIT169,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT24,_OMC_LIT25,MMC_REFSTRUCTLIT(mmc_none),_OMC_LIT171}};
#define _OMC_LIT172 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT172)
#define _OMC_LIT173_data "fixInitialSystem"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT173,16,_OMC_LIT173_data);
#define _OMC_LIT173 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT173)
#define _OMC_LIT174_data " with unknown reason."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT174,21,_OMC_LIT174_data);
#define _OMC_LIT174 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT174)
#define _OMC_LIT175_data "lambda 0 "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT175,9,_OMC_LIT175_data);
#define _OMC_LIT175 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT175)
#define _OMC_LIT176_data " because variable "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT176,18,_OMC_LIT176_data);
#define _OMC_LIT176 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT176)
#define _OMC_LIT177_data " does not appear in any equation in the "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT177,40,_OMC_LIT177_data);
#define _OMC_LIT177 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT177)
#define _OMC_LIT178_data "initial system and is not fixable."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT178,34,_OMC_LIT178_data);
#define _OMC_LIT178 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT178)
#define _OMC_LIT179_data "Initialization.preBalanceInitialSystem2 failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT179,46,_OMC_LIT179_data);
#define _OMC_LIT179 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT179)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT180_6,1.758197185e9);
#define _OMC_LIT180_6 MMC_REFREALLIT(_OMC_LIT_STRUCT180_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT180,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT7,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1212)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1212)),MMC_IMMEDIATE(MMC_TAGFIXNUM(82)),_OMC_LIT180_6}};
#define _OMC_LIT180 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT180)
#define _OMC_LIT181_data "sample"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT181,6,_OMC_LIT181_data);
#define _OMC_LIT181 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT181)
#define _OMC_LIT182_data "delay"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT182,5,_OMC_LIT182_data);
#define _OMC_LIT182 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT182)
#define _OMC_LIT183_data "Cyclically dependent parameters found:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT183,39,_OMC_LIT183_data);
#define _OMC_LIT183 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT183)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT184,1,3) {&BackendDAE_EquationKind_BINDING__EQUATION__desc,}};
#define _OMC_LIT184 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT184)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT185,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT184,_OMC_LIT4}};
#define _OMC_LIT185 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT185)
#define _OMC_LIT186_data "         "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT186,9,_OMC_LIT186_data);
#define _OMC_LIT186 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT186)
#define _OMC_LIT187_data "change"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT187,6,_OMC_LIT187_data);
#define _OMC_LIT187 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT187)
#define _OMC_LIT188_data "edge"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT188,4,_OMC_LIT188_data);
#define _OMC_LIT188 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT188)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT189,2,6) {&DAE_Type_T__BOOL__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT189 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT189)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT190,1,4) {&BackendDAE_EquationKind_DYNAMIC__EQUATION__desc,}};
#define _OMC_LIT190 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT190)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT191,4,3) {&BackendDAE_EquationAttributes_EQUATION__ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT190,_OMC_LIT4}};
#define _OMC_LIT191 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT191)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT192,1,3) {&DAE_Expand_EXPAND__desc,}};
#define _OMC_LIT192 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT192)
#define _OMC_LIT193_data "function inlineWhenForInitializationWhenStmt failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT193,51,_OMC_LIT193_data);
#define _OMC_LIT193 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT193)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT194_6,1.758197185e9);
#define _OMC_LIT194_6 MMC_REFREALLIT(_OMC_LIT_STRUCT194_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT194,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT7,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(592)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(592)),MMC_IMMEDIATE(MMC_TAGFIXNUM(98)),_OMC_LIT194_6}};
#define _OMC_LIT194 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT194)
#define _OMC_LIT195_data "It was not possible to solve the over-determined initial system ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT195,65,_OMC_LIT195_data);
#define _OMC_LIT195 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT195)
#define _OMC_LIT196_data " equations and "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT196,15,_OMC_LIT196_data);
#define _OMC_LIT196 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT196)
#define _OMC_LIT197_data " variables)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT197,11,_OMC_LIT197_data);
#define _OMC_LIT197 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT197)
#define _OMC_LIT198_data "It was not possible to solve the under-determined initial system ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT198,66,_OMC_LIT198_data);
#define _OMC_LIT198 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT198)
#define _OMC_LIT199_data "initialization_lambda0"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT199,22,_OMC_LIT199_data);
#define _OMC_LIT199 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT199)
#define _OMC_LIT200_data "preBalanceInitialSystem ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT200,25,_OMC_LIT200_data);
#define _OMC_LIT200 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT200)
#define _OMC_LIT201_data "created "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT201,8,_OMC_LIT201_data);
#define _OMC_LIT201 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT201)
#define _OMC_LIT202_data " system"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT202,7,_OMC_LIT202_data);
#define _OMC_LIT202 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT202)
#define _OMC_LIT203_data "optdaedump"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT203,10,_OMC_LIT203_data);
#define _OMC_LIT203 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT203)
#define _OMC_LIT204_data "Dumps information from the optimization modules."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT204,48,_OMC_LIT204_data);
#define _OMC_LIT204 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT204)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT205,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT204}};
#define _OMC_LIT205 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT205)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT206,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(55)),_OMC_LIT203,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT205}};
#define _OMC_LIT206 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT206)
#define _OMC_LIT207_data "partitionIndependentBlocks ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT207,28,_OMC_LIT207_data);
#define _OMC_LIT207 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT207)
#define _OMC_LIT208_data "partitionInitialization"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT208,23,_OMC_LIT208_data);
#define _OMC_LIT208 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT208)
#define _OMC_LIT209_data "This flag controls if partitioning is applied to the initialization system."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT209,75,_OMC_LIT209_data);
#define _OMC_LIT209 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT209)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT210,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT209}};
#define _OMC_LIT210 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT210)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT211,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(155)),_OMC_LIT208,MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),_OMC_LIT210}};
#define _OMC_LIT211 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT211)
#define _OMC_LIT212_data "partitioned "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT212,12,_OMC_LIT212_data);
#define _OMC_LIT212 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT212)
#define _OMC_LIT213_data "analyzeInitialSystem ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT213,22,_OMC_LIT213_data);
#define _OMC_LIT213 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT213)
#define _OMC_LIT214_data "dumpinitialsystem"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT214,17,_OMC_LIT214_data);
#define _OMC_LIT214 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT214)
#define _OMC_LIT215_data "Dumps the initial equation system."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT215,34,_OMC_LIT215_data);
#define _OMC_LIT215 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT215)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT216,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT215}};
#define _OMC_LIT216 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT216)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT217,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(76)),_OMC_LIT214,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT216}};
#define _OMC_LIT217 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT217)
#define _OMC_LIT218_data "solveInitialSystemEqSystem ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT218,28,_OMC_LIT218_data);
#define _OMC_LIT218 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT218)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT219,1,4) {&BackendDAE_IndexReduction_NO__INDEX__REDUCTION__desc,}};
#define _OMC_LIT219 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT219)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT220,1,4) {&BackendDAE_EquationConstraints_EXACT__desc,}};
#define _OMC_LIT220 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT220)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT221,2,0) {_OMC_LIT219,_OMC_LIT220}};
#define _OMC_LIT221 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT221)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT222,1,1) {_OMC_LIT221}};
#define _OMC_LIT222 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT222)
#define _OMC_LIT223_data "matching and sorting (n="
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT223,24,_OMC_LIT223_data);
#define _OMC_LIT223 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT223)
#define _OMC_LIT224_data ") ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT224,3,_OMC_LIT224_data);
#define _OMC_LIT224 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT224)
#define _OMC_LIT225_data "none"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT225,4,_OMC_LIT225_data);
#define _OMC_LIT225 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT225)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT226,1,1) {_OMC_LIT225}};
#define _OMC_LIT226 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT226)
#define _OMC_LIT227_data "solved "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT227,7,_OMC_LIT227_data);
#define _OMC_LIT227 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT227)
#define _OMC_LIT228_data "graphvizDump"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT228,12,_OMC_LIT228_data);
#define _OMC_LIT228 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT228)
#define _OMC_LIT229_data "Activates additional graphviz dumps (as .dot files). It can be used in addition to one of the following flags: {dumpdaelow|dumpinitialsystems|dumpindxdae}."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT229,155,_OMC_LIT229_data);
#define _OMC_LIT229 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT229)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT230,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT229}};
#define _OMC_LIT230 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT230)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT231,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(92)),_OMC_LIT228,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT230}};
#define _OMC_LIT231 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT231)
#define _OMC_LIT232_data "For more information set -d=initialization. In OMEdit Tools->Options->Simulation->Show additional information from the initialization process, in OMNotebook call setCommandLineOptions(\"-d=initialization\")"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT232,204,_OMC_LIT232_data);
#define _OMC_LIT232 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT232)
#define _OMC_LIT233_data "The initial conditions are not fully specified. %s."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT233,51,_OMC_LIT233_data);
#define _OMC_LIT233 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT233)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT234,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT233}};
#define _OMC_LIT234 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT234)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT235,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(496)),_OMC_LIT29,_OMC_LIT30,_OMC_LIT234}};
#define _OMC_LIT235 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT235)
#define _OMC_LIT236_data "The initial conditions are over specified. %s."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT236,46,_OMC_LIT236_data);
#define _OMC_LIT236 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT236)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT237,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT236}};
#define _OMC_LIT237 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT237)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT238,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(497)),_OMC_LIT29,_OMC_LIT30,_OMC_LIT237}};
#define _OMC_LIT238 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT238)
#define _OMC_LIT239_data "Assuming fixed start value for the following "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT239,45,_OMC_LIT239_data);
#define _OMC_LIT239 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT239)
#define _OMC_LIT240_data " variables:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT240,12,_OMC_LIT240_data);
#define _OMC_LIT240 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT240)
#define _OMC_LIT241_data "The following "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT241,14,_OMC_LIT241_data);
#define _OMC_LIT241 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT241)
#define _OMC_LIT242_data " initial equations are redundant, so they are removed from the "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT242,63,_OMC_LIT242_data);
#define _OMC_LIT242 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT242)
#define _OMC_LIT243_data " system:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT243,9,_OMC_LIT243_data);
#define _OMC_LIT243 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT243)
#define _OMC_LIT244_data "inlineWhenForInitialization (initialization)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT244,44,_OMC_LIT244_data);
#define _OMC_LIT244 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT244)
#define _OMC_LIT245_data "selected all primary parameters"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT245,31,_OMC_LIT245_data);
#define _OMC_LIT245 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT245)
#define _OMC_LIT246_data "selectInitializationVariablesDAE (initialization)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT246,49,_OMC_LIT246_data);
#define _OMC_LIT246 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT246)
#define _OMC_LIT247_data "collectPreVariables (initialization)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT247,36,_OMC_LIT247_data);
#define _OMC_LIT247 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT247)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT248,1,5) {&AvlSetCR_Tree_EMPTY__desc,}};
#define _OMC_LIT248 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT248)
#define _OMC_LIT249_data "collectInitialEqns (initialization)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT249,35,_OMC_LIT249_data);
#define _OMC_LIT249 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT249)
#define _OMC_LIT250_data "collectInitialBindings (initialization)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT250,39,_OMC_LIT250_data);
#define _OMC_LIT250 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT250)
#define _OMC_LIT251_data "nfScalarize"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT251,11,_OMC_LIT251_data);
#define _OMC_LIT251 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT251)
#define _OMC_LIT252_data "Run scalarization in NF, default true."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT252,38,_OMC_LIT252_data);
#define _OMC_LIT252 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT252)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT253,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT252}};
#define _OMC_LIT253 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT253)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT254,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(168)),_OMC_LIT251,MMC_IMMEDIATE(MMC_TAGFIXNUM(1 /* true */)),_OMC_LIT253}};
#define _OMC_LIT254 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT254)
#define _OMC_LIT255_data "simplifyInitialFunctions (initialization)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT255,41,_OMC_LIT255_data);
#define _OMC_LIT255 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT255)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT256,1,8) {&BackendDAE_BackendDAEType_INITIALSYSTEM__desc,}};
#define _OMC_LIT256 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT256)
#define _OMC_LIT257_data "setup shared object (initialization)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT257,36,_OMC_LIT257_data);
#define _OMC_LIT257 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT257)
#define _OMC_LIT258_data "inlineHomotopy"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT258,14,_OMC_LIT258_data);
#define _OMC_LIT258 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT258)
#define _OMC_LIT259_data "generateHomotopyComponents"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT259,26,_OMC_LIT259_data);
#define _OMC_LIT259 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT259)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT260,2,1) {_OMC_LIT259,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT260 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT260)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT261,2,1) {_OMC_LIT258,_OMC_LIT260}};
#define _OMC_LIT261 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT261)
#define _OMC_LIT262_data "initial system: eqns in order"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT262,29,_OMC_LIT262_data);
#define _OMC_LIT262 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT262)
#define _OMC_LIT263_data "dumpeqninorder"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT263,14,_OMC_LIT263_data);
#define _OMC_LIT263 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT263)
#define _OMC_LIT264_data "Enables dumping of the equations in the order they are calculated."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT264,66,_OMC_LIT264_data);
#define _OMC_LIT264 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT264)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT265,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT264}};
#define _OMC_LIT265 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT265)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT266,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(71)),_OMC_LIT263,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT265}};
#define _OMC_LIT266 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT266)
#define _OMC_LIT267_data "iterationVars"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT267,13,_OMC_LIT267_data);
#define _OMC_LIT267 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT267)
#define _OMC_LIT268_data "Shows a list of all iteration variables."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT268,40,_OMC_LIT268_data);
#define _OMC_LIT268 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT268)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT269,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT268}};
#define _OMC_LIT269 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT269)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT270,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(101)),_OMC_LIT267,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT269}};
#define _OMC_LIT270 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT270)
#define _OMC_LIT271_data "backenddaeinfo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT271,14,_OMC_LIT271_data);
#define _OMC_LIT271 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT271)
#define _OMC_LIT272_data "Enables dumping of back-end information about system (Number of equations before back-end,...)."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT272,95,_OMC_LIT272_data);
#define _OMC_LIT272 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT272)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT273,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT272}};
#define _OMC_LIT273 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT273)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT274,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(68)),_OMC_LIT271,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT273}};
#define _OMC_LIT274 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT274)
#define _OMC_LIT275_data "stateselection"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT275,14,_OMC_LIT275_data);
#define _OMC_LIT275 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT275)
#define _OMC_LIT276_data "Enables dumping of selected states. Extends -d=backenddaeinfo."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT276,62,_OMC_LIT276_data);
#define _OMC_LIT276 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT276)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT277,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT276}};
#define _OMC_LIT277 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT277)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT278,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(70)),_OMC_LIT275,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT277}};
#define _OMC_LIT278 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT278)
#define _OMC_LIT279_data "discreteinfo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT279,12,_OMC_LIT279_data);
#define _OMC_LIT279 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT279)
#define _OMC_LIT280_data "Enables dumping of discrete variables. Extends -d=backenddaeinfo."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT280,65,_OMC_LIT280_data);
#define _OMC_LIT280 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT280)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT281,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT280}};
#define _OMC_LIT281 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT281)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT282,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(91)),_OMC_LIT279,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT281}};
#define _OMC_LIT282 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT282)
#define _OMC_LIT283_data "No system for the symbolic initialization was generated"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT283,55,_OMC_LIT283_data);
#define _OMC_LIT283 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT283)
#include "util/modelica.h"

#include "Initialization_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_replaceHomotopyWithSimplified2(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_replaceHomotopyWithSimplified2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_replaceHomotopyWithSimplified2,2,0) {(void*) boxptr_Initialization_replaceHomotopyWithSimplified2,0}};
#define boxvar_Initialization_replaceHomotopyWithSimplified2 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_replaceHomotopyWithSimplified2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_replaceHomotopyWithSimplified1(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_replaceHomotopyWithSimplified1(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_replaceHomotopyWithSimplified1,2,0) {(void*) boxptr_Initialization_replaceHomotopyWithSimplified1,0}};
#define boxvar_Initialization_replaceHomotopyWithSimplified1 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_replaceHomotopyWithSimplified1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_removeInitializationStuff2(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_removeInitializationStuff2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_removeInitializationStuff2,2,0) {(void*) boxptr_Initialization_removeInitializationStuff2,0}};
#define boxvar_Initialization_removeInitializationStuff2 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_removeInitializationStuff2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_removeInitializationStuff1(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_removeInitializationStuff1(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_removeInitializationStuff1,2,0) {(void*) boxptr_Initialization_removeInitializationStuff1,0}};
#define boxvar_Initialization_removeInitializationStuff1 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_removeInitializationStuff1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_filterWhenEquation(threadData_t *threadData, modelica_metatype _inEqn, modelica_metatype _inEqnLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_filterWhenEquation,2,0) {(void*) boxptr_Initialization_filterWhenEquation,0}};
#define boxvar_Initialization_filterWhenEquation MMC_REFSTRUCTLIT(boxvar_lit_Initialization_filterWhenEquation)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialBindings(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inTpl, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_collectInitialBindings,2,0) {(void*) boxptr_Initialization_collectInitialBindings,0}};
#define boxvar_Initialization_collectInitialBindings MMC_REFSTRUCTLIT(boxvar_lit_Initialization_collectInitialBindings)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_replaceDerPreCref(threadData_t *threadData, modelica_metatype _inExp);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_replaceDerPreCref,2,0) {(void*) boxptr_Initialization_replaceDerPreCref,0}};
#define boxvar_Initialization_replaceDerPreCref MMC_REFSTRUCTLIT(boxvar_lit_Initialization_replaceDerPreCref)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialEqns(threadData_t *threadData, modelica_metatype _inEq, modelica_metatype _inTpl, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_collectInitialEqns,2,0) {(void*) boxptr_Initialization_collectInitialEqns,0}};
#define boxvar_Initialization_collectInitialEqns MMC_REFSTRUCTLIT(boxvar_lit_Initialization_collectInitialEqns)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialClockedVarsEqns(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inTpl, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_collectInitialClockedVarsEqns,2,0) {(void*) boxptr_Initialization_collectInitialClockedVarsEqns,0}};
#define boxvar_Initialization_collectInitialClockedVarsEqns MMC_REFSTRUCTLIT(boxvar_lit_Initialization_collectInitialClockedVarsEqns)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Initialization_checkComponentNames(threadData_t *threadData, modelica_metatype _inVarDirection, modelica_metatype _inComponentRef);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_checkComponentNames(threadData_t *threadData, modelica_metatype _inVarDirection, modelica_metatype _inComponentRef);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_checkComponentNames,2,0) {(void*) boxptr_Initialization_checkComponentNames,0}};
#define boxvar_Initialization_checkComponentNames MMC_REFSTRUCTLIT(boxvar_lit_Initialization_checkComponentNames)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialVars(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inTpl, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_collectInitialVars,2,0) {(void*) boxptr_Initialization_collectInitialVars,0}};
#define boxvar_Initialization_collectInitialVars MMC_REFSTRUCTLIT(boxvar_lit_Initialization_collectInitialVars)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialStateSets(threadData_t *threadData, modelica_metatype _stateSets, modelica_metatype _stateSetFixCounts, modelica_metatype _iVars, modelica_metatype _iEqns, modelica_metatype *out_oEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_collectInitialStateSets,2,0) {(void*) boxptr_Initialization_collectInitialStateSets,0}};
#define boxvar_Initialization_collectInitialStateSets MMC_REFSTRUCTLIT(boxvar_lit_Initialization_collectInitialStateSets)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialVarsEqnsSystem(threadData_t *threadData, modelica_metatype _eqSystems, modelica_metatype __omcQ_24in_5Fvars, modelica_metatype __omcQ_24in_5FfixVars, modelica_metatype __omcQ_24in_5Feqns, modelica_metatype __omcQ_24in_5FreEqns, modelica_metatype _hs, modelica_metatype _allPrimaryParams, modelica_boolean _datareconFlag, modelica_metatype *out_fixVars, modelica_metatype *out_eqns, modelica_metatype *out_reEqns);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_collectInitialVarsEqnsSystem(threadData_t *threadData, modelica_metatype _eqSystems, modelica_metatype __omcQ_24in_5Fvars, modelica_metatype __omcQ_24in_5FfixVars, modelica_metatype __omcQ_24in_5Feqns, modelica_metatype __omcQ_24in_5FreEqns, modelica_metatype _hs, modelica_metatype _allPrimaryParams, modelica_metatype _datareconFlag, modelica_metatype *out_fixVars, modelica_metatype *out_eqns, modelica_metatype *out_reEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_collectInitialVarsEqnsSystem,2,0) {(void*) boxptr_Initialization_collectInitialVarsEqnsSystem,0}};
#define boxvar_Initialization_collectInitialVarsEqnsSystem MMC_REFSTRUCTLIT(boxvar_lit_Initialization_collectInitialVarsEqnsSystem)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_introducePreVarsForAliasVariables(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inTpl, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_introducePreVarsForAliasVariables,2,0) {(void*) boxptr_Initialization_introducePreVarsForAliasVariables,0}};
#define boxvar_Initialization_introducePreVarsForAliasVariables MMC_REFSTRUCTLIT(boxvar_lit_Initialization_introducePreVarsForAliasVariables)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_parameterCheck2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inParams, modelica_boolean *out_outContinue, modelica_metatype *out_outParams);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_parameterCheck2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inParams, modelica_metatype *out_outContinue, modelica_metatype *out_outParams);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_parameterCheck2,2,0) {(void*) boxptr_Initialization_parameterCheck2,0}};
#define boxvar_Initialization_parameterCheck2 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_parameterCheck2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_parameterCheck(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean *out_outAnyStartValue);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_parameterCheck(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype *out_outAnyStartValue);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_parameterCheck,2,0) {(void*) boxptr_Initialization_parameterCheck,0}};
#define boxvar_Initialization_parameterCheck MMC_REFSTRUCTLIT(boxvar_lit_Initialization_parameterCheck)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_getConsistentEquation(threadData_t *threadData, modelica_integer _inUnassignedEqn, modelica_metatype _inEqns, modelica_metatype _inEqnsOrig, modelica_metatype _inM, modelica_metatype _vecVarToEqs, modelica_metatype _vars, modelica_metatype _shared, modelica_integer _counter, modelica_boolean *out_outConsistent, modelica_metatype *out_outRemovedEqns);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_getConsistentEquation(threadData_t *threadData, modelica_metatype _inUnassignedEqn, modelica_metatype _inEqns, modelica_metatype _inEqnsOrig, modelica_metatype _inM, modelica_metatype _vecVarToEqs, modelica_metatype _vars, modelica_metatype _shared, modelica_metatype _counter, modelica_metatype *out_outConsistent, modelica_metatype *out_outRemovedEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_getConsistentEquation,2,0) {(void*) boxptr_Initialization_getConsistentEquation,0}};
#define boxvar_Initialization_getConsistentEquation MMC_REFSTRUCTLIT(boxvar_lit_Initialization_getConsistentEquation)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_applyVarReplacements(threadData_t *threadData, modelica_integer _inEqnIndex, modelica_metatype _inEqnList, modelica_metatype _inVarRepls);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_applyVarReplacements(threadData_t *threadData, modelica_metatype _inEqnIndex, modelica_metatype _inEqnList, modelica_metatype _inVarRepls);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_applyVarReplacements,2,0) {(void*) boxptr_Initialization_applyVarReplacements,0}};
#define boxvar_Initialization_applyVarReplacements MMC_REFSTRUCTLIT(boxvar_lit_Initialization_applyVarReplacements)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_setupVarReplacements(threadData_t *threadData, modelica_metatype _inMarkedEqns, modelica_metatype _inEqns, modelica_metatype _inVars, modelica_metatype _inVecEqToVar, modelica_metatype _inRepls, modelica_metatype _inMapIncRowEqn, modelica_metatype _inME, modelica_metatype _inShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_setupVarReplacements,2,0) {(void*) boxptr_Initialization_setupVarReplacements,0}};
#define boxvar_Initialization_setupVarReplacements MMC_REFSTRUCTLIT(boxvar_lit_Initialization_setupVarReplacements)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_downCompsMarker(threadData_t *threadData, modelica_metatype _unassignedEqns, modelica_metatype _vecVarToEq, modelica_metatype _m, modelica_metatype _flatComps, modelica_metatype __omcQ_24in_5FinMarkedEqns, modelica_metatype _inLoopListComps);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_downCompsMarker,2,0) {(void*) boxptr_Initialization_downCompsMarker,0}};
#define boxvar_Initialization_downCompsMarker MMC_REFSTRUCTLIT(boxvar_lit_Initialization_downCompsMarker)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_compsMarker2(threadData_t *threadData, modelica_metatype _inVarList, modelica_metatype _inVecVarToEq, modelica_metatype _inM, modelica_metatype _inFlatComps, modelica_metatype _inMarkedEqns, modelica_metatype _inLoopListComps);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_compsMarker2,2,0) {(void*) boxptr_Initialization_compsMarker2,0}};
#define boxvar_Initialization_compsMarker2 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_compsMarker2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_compsMarker(threadData_t *threadData, modelica_integer _inUnassignedEqn, modelica_metatype _inVecVarToEq, modelica_metatype _inM, modelica_metatype _inFlatComps, modelica_metatype _inLoopListComps);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_compsMarker(threadData_t *threadData, modelica_metatype _inUnassignedEqn, modelica_metatype _inVecVarToEq, modelica_metatype _inM, modelica_metatype _inFlatComps, modelica_metatype _inLoopListComps);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_compsMarker,2,0) {(void*) boxptr_Initialization_compsMarker,0}};
#define boxvar_Initialization_compsMarker MMC_REFSTRUCTLIT(boxvar_lit_Initialization_compsMarker)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_mapListIndices(threadData_t *threadData, modelica_metatype _inListIndices, modelica_metatype _inMapping);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_mapListIndices,2,0) {(void*) boxptr_Initialization_mapListIndices,0}};
#define boxvar_Initialization_mapListIndices MMC_REFSTRUCTLIT(boxvar_lit_Initialization_mapListIndices)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_mapIndices(threadData_t *threadData, modelica_metatype _inIndices, modelica_metatype _inMapping);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_mapIndices,2,0) {(void*) boxptr_Initialization_mapIndices,0}};
#define boxvar_Initialization_mapIndices MMC_REFSTRUCTLIT(boxvar_lit_Initialization_mapIndices)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Initialization_mapIndex(threadData_t *threadData, modelica_integer _inIndex, modelica_metatype _inMapping);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_mapIndex(threadData_t *threadData, modelica_metatype _inIndex, modelica_metatype _inMapping);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_mapIndex,2,0) {(void*) boxptr_Initialization_mapIndex,0}};
#define boxvar_Initialization_mapIndex MMC_REFSTRUCTLIT(boxvar_lit_Initialization_mapIndex)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_splitStrongComponents(threadData_t *threadData, modelica_metatype _inComps, modelica_metatype *out_outLoopListComps);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_splitStrongComponents,2,0) {(void*) boxptr_Initialization_splitStrongComponents,0}};
#define boxvar_Initialization_splitStrongComponents MMC_REFSTRUCTLIT(boxvar_lit_Initialization_splitStrongComponents)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Initialization_isVarExplicitSolvable(threadData_t *threadData, modelica_metatype _inElem, modelica_integer _inVarID);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_isVarExplicitSolvable(threadData_t *threadData, modelica_metatype _inElem, modelica_metatype _inVarID);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_isVarExplicitSolvable,2,0) {(void*) boxptr_Initialization_isVarExplicitSolvable,0}};
#define boxvar_Initialization_isVarExplicitSolvable MMC_REFSTRUCTLIT(boxvar_lit_Initialization_isVarExplicitSolvable)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_consistencyCheck(threadData_t *threadData, modelica_metatype _inRedundantEqns, modelica_metatype _inEqns, modelica_metatype _inVars, modelica_metatype _inShared, modelica_integer _nAddVars, modelica_metatype _inM, modelica_metatype _me, modelica_metatype _vecVarToEqs, modelica_metatype _vecEqsToVar, modelica_metatype _mapIncRowEqn, modelica_metatype *out_outInconsistentEquations, modelica_metatype *out_outUncheckedEquations);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_consistencyCheck(threadData_t *threadData, modelica_metatype _inRedundantEqns, modelica_metatype _inEqns, modelica_metatype _inVars, modelica_metatype _inShared, modelica_metatype _nAddVars, modelica_metatype _inM, modelica_metatype _me, modelica_metatype _vecVarToEqs, modelica_metatype _vecEqsToVar, modelica_metatype _mapIncRowEqn, modelica_metatype *out_outInconsistentEquations, modelica_metatype *out_outUncheckedEquations);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_consistencyCheck,2,0) {(void*) boxptr_Initialization_consistencyCheck,0}};
#define boxvar_Initialization_consistencyCheck MMC_REFSTRUCTLIT(boxvar_lit_Initialization_consistencyCheck)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_addStartValueEquations(threadData_t *threadData, modelica_metatype _inVarLst, modelica_metatype _inEqns, modelica_metatype _inDumpVars, modelica_metatype *out_outDumpVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_addStartValueEquations,2,0) {(void*) boxptr_Initialization_addStartValueEquations,0}};
#define boxvar_Initialization_addStartValueEquations MMC_REFSTRUCTLIT(boxvar_lit_Initialization_addStartValueEquations)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_squareAdjacencyMatrix2(threadData_t *threadData, modelica_integer _inPos, modelica_metatype _inRange, modelica_metatype _inM);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_squareAdjacencyMatrix2(threadData_t *threadData, modelica_metatype _inPos, modelica_metatype _inRange, modelica_metatype _inM);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_squareAdjacencyMatrix2,2,0) {(void*) boxptr_Initialization_squareAdjacencyMatrix2,0}};
#define boxvar_Initialization_squareAdjacencyMatrix2 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_squareAdjacencyMatrix2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_fixOverDeterminedSystem(threadData_t *threadData, modelica_metatype _inM, modelica_metatype _orderedEqs, modelica_integer _inNVars, modelica_integer _inNAddVars);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_fixOverDeterminedSystem(threadData_t *threadData, modelica_metatype _inM, modelica_metatype _orderedEqs, modelica_metatype _inNVars, modelica_metatype _inNAddVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_fixOverDeterminedSystem,2,0) {(void*) boxptr_Initialization_fixOverDeterminedSystem,0}};
#define boxvar_Initialization_fixOverDeterminedSystem MMC_REFSTRUCTLIT(boxvar_lit_Initialization_fixOverDeterminedSystem)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_squareAdjacencyMatrix1(threadData_t *threadData, modelica_integer _inPos, modelica_metatype _inDependency, modelica_metatype _inM);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_squareAdjacencyMatrix1(threadData_t *threadData, modelica_metatype _inPos, modelica_metatype _inDependency, modelica_metatype _inM);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_squareAdjacencyMatrix1,2,0) {(void*) boxptr_Initialization_squareAdjacencyMatrix1,0}};
#define boxvar_Initialization_squareAdjacencyMatrix1 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_squareAdjacencyMatrix1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_fixUnderDeterminedSystem(threadData_t *threadData, modelica_metatype _inM, modelica_metatype _inInitVarIndices, modelica_integer _inNEqns, modelica_integer _inNAddEqns);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_fixUnderDeterminedSystem(threadData_t *threadData, modelica_metatype _inM, modelica_metatype _inInitVarIndices, modelica_metatype _inNEqns, modelica_metatype _inNAddEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_fixUnderDeterminedSystem,2,0) {(void*) boxptr_Initialization_fixUnderDeterminedSystem,0}};
#define boxvar_Initialization_fixUnderDeterminedSystem MMC_REFSTRUCTLIT(boxvar_lit_Initialization_fixUnderDeterminedSystem)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_updateFixedAttribute(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype __omcQ_24in_5Fvars, modelica_metatype *out_vars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_updateFixedAttribute,2,0) {(void*) boxptr_Initialization_updateFixedAttribute,0}};
#define boxvar_Initialization_updateFixedAttribute MMC_REFSTRUCTLIT(boxvar_lit_Initialization_updateFixedAttribute)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_fixInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _inShared, modelica_integer __omcQ_24in_5Fdummy, modelica_metatype _initVars, modelica_metatype _dumpVars, modelica_metatype _removedEqns, modelica_metatype *out_outShared, modelica_integer *out_dummy);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_fixInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _inShared, modelica_metatype __omcQ_24in_5Fdummy, modelica_metatype _initVars, modelica_metatype _dumpVars, modelica_metatype _removedEqns, modelica_metatype *out_outShared, modelica_metatype *out_dummy);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_fixInitialSystem,2,0) {(void*) boxptr_Initialization_fixInitialSystem,0}};
#define boxvar_Initialization_fixInitialSystem MMC_REFSTRUCTLIT(boxvar_lit_Initialization_fixInitialSystem)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_resolveOverAndUnderconstraints(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsyst, modelica_metatype _initVars, modelica_metatype _unfixedVars, modelica_metatype _redundantEqns, modelica_metatype _dumpVars, modelica_metatype _removedEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_resolveOverAndUnderconstraints,2,0) {(void*) boxptr_Initialization_resolveOverAndUnderconstraints,0}};
#define boxvar_Initialization_resolveOverAndUnderconstraints MMC_REFSTRUCTLIT(boxvar_lit_Initialization_resolveOverAndUnderconstraints)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_balanceInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _inShared, modelica_integer __omcQ_24in_5Fdummy, modelica_metatype _initVars, modelica_metatype _dumpVars, modelica_metatype _removedEqns, modelica_metatype *out_outShared, modelica_integer *out_dummy);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_balanceInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _inShared, modelica_metatype __omcQ_24in_5Fdummy, modelica_metatype _initVars, modelica_metatype _dumpVars, modelica_metatype _removedEqns, modelica_metatype *out_outShared, modelica_metatype *out_dummy);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_balanceInitialSystem,2,0) {(void*) boxptr_Initialization_balanceInitialSystem,0}};
#define boxvar_Initialization_balanceInitialSystem MMC_REFSTRUCTLIT(boxvar_lit_Initialization_balanceInitialSystem)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_getInitEqIndices(threadData_t *threadData, modelica_metatype _equations);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_getInitEqIndices,2,0) {(void*) boxptr_Initialization_getInitEqIndices,0}};
#define boxvar_Initialization_getInitEqIndices MMC_REFSTRUCTLIT(boxvar_lit_Initialization_getInitEqIndices)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_analyzeInitialSystem(threadData_t *threadData, modelica_metatype _inInitDAE, modelica_metatype _inInitVars, modelica_fnptr _func, modelica_metatype *out_outDumpVars, modelica_metatype *out_outRemovedEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_analyzeInitialSystem,2,0) {(void*) boxptr_Initialization_analyzeInitialSystem,0}};
#define boxvar_Initialization_analyzeInitialSystem MMC_REFSTRUCTLIT(boxvar_lit_Initialization_analyzeInitialSystem)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_preBalanceInitialSystem2(threadData_t *threadData, modelica_integer _n, modelica_metatype _mt, modelica_metatype _inVars, modelica_metatype _inEqs, modelica_metatype _initVars, modelica_boolean _isLambda0, modelica_boolean _inB, modelica_metatype _inDumpVars, modelica_metatype *out_outEqs, modelica_boolean *out_outB, modelica_metatype *out_outDumpVars);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_preBalanceInitialSystem2(threadData_t *threadData, modelica_metatype _n, modelica_metatype _mt, modelica_metatype _inVars, modelica_metatype _inEqs, modelica_metatype _initVars, modelica_metatype _isLambda0, modelica_metatype _inB, modelica_metatype _inDumpVars, modelica_metatype *out_outEqs, modelica_metatype *out_outB, modelica_metatype *out_outDumpVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_preBalanceInitialSystem2,2,0) {(void*) boxptr_Initialization_preBalanceInitialSystem2,0}};
#define boxvar_Initialization_preBalanceInitialSystem2 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_preBalanceInitialSystem2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_preBalanceInitialSystem1(threadData_t *threadData, modelica_integer _n, modelica_metatype _mt, modelica_metatype _inVars, modelica_metatype _inEqs, modelica_metatype _initVars, modelica_boolean _isLambda0, modelica_boolean _inB, modelica_metatype _inDumpVars, modelica_metatype *out_outEqs, modelica_boolean *out_outB, modelica_metatype *out_outDumpVars);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_preBalanceInitialSystem1(threadData_t *threadData, modelica_metatype _n, modelica_metatype _mt, modelica_metatype _inVars, modelica_metatype _inEqs, modelica_metatype _initVars, modelica_metatype _isLambda0, modelica_metatype _inB, modelica_metatype _inDumpVars, modelica_metatype *out_outEqs, modelica_metatype *out_outB, modelica_metatype *out_outDumpVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_preBalanceInitialSystem1,2,0) {(void*) boxptr_Initialization_preBalanceInitialSystem1,0}};
#define boxvar_Initialization_preBalanceInitialSystem1 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_preBalanceInitialSystem1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_preBalanceInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _initVars, modelica_boolean _isLambda0, modelica_metatype *out_outDumpVars);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_preBalanceInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _initVars, modelica_metatype _isLambda0, modelica_metatype *out_outDumpVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_preBalanceInitialSystem,2,0) {(void*) boxptr_Initialization_preBalanceInitialSystem,0}};
#define boxvar_Initialization_preBalanceInitialSystem MMC_REFSTRUCTLIT(boxvar_lit_Initialization_preBalanceInitialSystem)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_simplifyInitialFunctionsExp(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_simplifyInitialFunctionsExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_simplifyInitialFunctionsExp,2,0) {(void*) boxptr_Initialization_simplifyInitialFunctionsExp,0}};
#define boxvar_Initialization_simplifyInitialFunctionsExp MMC_REFSTRUCTLIT(boxvar_lit_Initialization_simplifyInitialFunctionsExp)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_simplifyInitialFunctions(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_simplifyInitialFunctions(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_simplifyInitialFunctions,2,0) {(void*) boxptr_Initialization_simplifyInitialFunctions,0}};
#define boxvar_Initialization_simplifyInitialFunctions MMC_REFSTRUCTLIT(boxvar_lit_Initialization_simplifyInitialFunctions)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_selectInitializationVariables2(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inVars, modelica_metatype *out_outVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_selectInitializationVariables2,2,0) {(void*) boxptr_Initialization_selectInitializationVariables2,0}};
#define boxvar_Initialization_selectInitializationVariables2 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_selectInitializationVariables2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_selectInitializationVariables1(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _inVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_selectInitializationVariables1,2,0) {(void*) boxptr_Initialization_selectInitializationVariables1,0}};
#define boxvar_Initialization_selectInitializationVariables1 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_selectInitializationVariables1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_selectInitializationVariables(threadData_t *threadData, modelica_metatype _inEqSystems);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_selectInitializationVariables,2,0) {(void*) boxptr_Initialization_selectInitializationVariables,0}};
#define boxvar_Initialization_selectInitializationVariables MMC_REFSTRUCTLIT(boxvar_lit_Initialization_selectInitializationVariables)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_selectSecondaryParameters(threadData_t *threadData, modelica_metatype _inOrdering, modelica_metatype _inParameters, modelica_metatype _inM, modelica_metatype _inSecondaryParams);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_selectSecondaryParameters,2,0) {(void*) boxptr_Initialization_selectSecondaryParameters,0}};
#define boxvar_Initialization_selectSecondaryParameters MMC_REFSTRUCTLIT(boxvar_lit_Initialization_selectSecondaryParameters)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_markIndex(threadData_t *threadData, modelica_integer _inIndex, modelica_metatype _inArray);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_markIndex(threadData_t *threadData, modelica_metatype _inIndex, modelica_metatype _inArray);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_markIndex,2,0) {(void*) boxptr_Initialization_markIndex,0}};
#define boxvar_Initialization_markIndex MMC_REFSTRUCTLIT(boxvar_lit_Initialization_markIndex)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_createGlobalKnownVarsEquations(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype __omcQ_24in_5FparameterEqns, modelica_metatype *out_parameterEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_createGlobalKnownVarsEquations,2,0) {(void*) boxptr_Initialization_createGlobalKnownVarsEquations,0}};
#define boxvar_Initialization_createGlobalKnownVarsEquations MMC_REFSTRUCTLIT(boxvar_lit_Initialization_createGlobalKnownVarsEquations)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_addExtObjToGlobalKnownVars(threadData_t *threadData, modelica_metatype __omcQ_24in_5FextObj, modelica_metatype __omcQ_24in_5FglobalKnownVars, modelica_metatype *out_globalKnownVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_addExtObjToGlobalKnownVars,2,0) {(void*) boxptr_Initialization_addExtObjToGlobalKnownVars,0}};
#define boxvar_Initialization_addExtObjToGlobalKnownVars MMC_REFSTRUCTLIT(boxvar_lit_Initialization_addExtObjToGlobalKnownVars)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_selectInitializationVariablesDAE(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fdae, modelica_metatype *out_outInitVars, modelica_metatype *out_outAllPrimaryParameters, modelica_metatype *out_outGlobalKnownVars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_selectInitializationVariablesDAE,2,0) {(void*) boxptr_Initialization_selectInitializationVariablesDAE,0}};
#define boxvar_Initialization_selectInitializationVariablesDAE MMC_REFSTRUCTLIT(boxvar_lit_Initialization_selectInitializationVariablesDAE)
PROTECTED_FUNCTION_STATIC modelica_string omc_Initialization_warnAboutEqns2(threadData_t *threadData, modelica_metatype _inEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_warnAboutEqns2,2,0) {(void*) boxptr_Initialization_warnAboutEqns2,0}};
#define boxvar_Initialization_warnAboutEqns2 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_warnAboutEqns2)
PROTECTED_FUNCTION_STATIC modelica_string omc_Initialization_warnAboutVars2Work(threadData_t *threadData, modelica_metatype _strs, modelica_string _prefix, modelica_string _suffix, modelica_integer _size);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_warnAboutVars2Work(threadData_t *threadData, modelica_metatype _strs, modelica_metatype _prefix, modelica_metatype _suffix, modelica_metatype _size);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_warnAboutVars2Work,2,0) {(void*) boxptr_Initialization_warnAboutVars2Work,0}};
#define boxvar_Initialization_warnAboutVars2Work MMC_REFSTRUCTLIT(boxvar_lit_Initialization_warnAboutVars2Work)
PROTECTED_FUNCTION_STATIC modelica_string omc_Initialization_warnAboutVars2(threadData_t *threadData, modelica_metatype _vars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_warnAboutVars2,2,0) {(void*) boxptr_Initialization_warnAboutVars2,0}};
#define boxvar_Initialization_warnAboutVars2 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_warnAboutVars2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectPreVariablesTraverseExp2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inHS, modelica_metatype *out_outHS);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_collectPreVariablesTraverseExp2,2,0) {(void*) boxptr_Initialization_collectPreVariablesTraverseExp2,0}};
#define boxvar_Initialization_collectPreVariablesTraverseExp2 MMC_REFSTRUCTLIT(boxvar_lit_Initialization_collectPreVariablesTraverseExp2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectPreVariables(threadData_t *threadData, modelica_metatype _inDAE);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_collectPreVariables,2,0) {(void*) boxptr_Initialization_collectPreVariables,0}};
#define boxvar_Initialization_collectPreVariables MMC_REFSTRUCTLIT(boxvar_lit_Initialization_collectPreVariables)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_generateInactiveWhenEquationForInitialization(threadData_t *threadData, modelica_metatype _inCrLst, modelica_metatype _inSource, modelica_metatype _inEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_generateInactiveWhenEquationForInitialization,2,0) {(void*) boxptr_Initialization_generateInactiveWhenEquationForInitialization,0}};
#define boxvar_Initialization_generateInactiveWhenEquationForInitialization MMC_REFSTRUCTLIT(boxvar_lit_Initialization_generateInactiveWhenEquationForInitialization)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitializationWhenStmt(threadData_t *threadData, modelica_metatype _inWhenStatement, modelica_metatype _inLeftCrs, modelica_metatype _inAcc, modelica_metatype *out_outLeftCrs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitializationWhenStmt,2,0) {(void*) boxptr_Initialization_inlineWhenForInitializationWhenStmt,0}};
#define boxvar_Initialization_inlineWhenForInitializationWhenStmt MMC_REFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitializationWhenStmt)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitializationWhenAlgorithm(threadData_t *threadData, modelica_metatype _inStmts, modelica_metatype _inAcc, modelica_metatype _inLeftCrs, modelica_metatype *out_outLeftCrs);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitializationWhenAlgorithm,2,0) {(void*) boxptr_Initialization_inlineWhenForInitializationWhenAlgorithm,0}};
#define boxvar_Initialization_inlineWhenForInitializationWhenAlgorithm MMC_REFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitializationWhenAlgorithm)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitializationWhenEquation(threadData_t *threadData, modelica_metatype _inWEqn, modelica_metatype _inSource, modelica_metatype _inEqAttr, modelica_metatype _inEqns, modelica_metatype _inLeftCrs, modelica_metatype *out_outEqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitializationWhenEquation,2,0) {(void*) boxptr_Initialization_inlineWhenForInitializationWhenEquation,0}};
#define boxvar_Initialization_inlineWhenForInitializationWhenEquation MMC_REFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitializationWhenEquation)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitializationEquation(threadData_t *threadData, modelica_metatype _inEq, modelica_metatype _inTpl, modelica_metatype *out_outTpl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitializationEquation,2,0) {(void*) boxptr_Initialization_inlineWhenForInitializationEquation,0}};
#define boxvar_Initialization_inlineWhenForInitializationEquation MMC_REFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitializationEquation)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitializationSystem(threadData_t *threadData, modelica_metatype _inEqSystem);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitializationSystem,2,0) {(void*) boxptr_Initialization_inlineWhenForInitializationSystem,0}};
#define boxvar_Initialization_inlineWhenForInitializationSystem MMC_REFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitializationSystem)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitialization(threadData_t *threadData, modelica_metatype _inDAE);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitialization,2,0) {(void*) boxptr_Initialization_inlineWhenForInitialization,0}};
#define boxvar_Initialization_inlineWhenForInitialization MMC_REFSTRUCTLIT(boxvar_lit_Initialization_inlineWhenForInitialization)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_solveInitialSystemEqSystem(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _inShared, modelica_metatype *out_outShared);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Initialization_solveInitialSystemEqSystem,2,0) {(void*) boxptr_Initialization_solveInitialSystemEqSystem,0}};
#define boxvar_Initialization_solveInitialSystemEqSystem MMC_REFSTRUCTLIT(boxvar_lit_Initialization_solveInitialSystemEqSystem)

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_replaceHomotopyWithSimplified2(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy)
{
  modelica_metatype _outExp = NULL;
  modelica_boolean _outUseHomotopy;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _outUseHomotopy has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inExp;
    {
      modelica_metatype _simplified = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _simplified has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (8 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT0), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmpMeta8);
          tmpMeta10 = MMC_CDR(tmpMeta8);
          if (listEmpty(tmpMeta10)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmpMeta10);
          tmpMeta12 = MMC_CDR(tmpMeta10);
          
          _simplified = tmpMeta11;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _simplified;
          tmp1_c1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inExp;
          tmp1_c1 = _inUseHomotopy;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outExp = tmpMeta[0+0];
  _outUseHomotopy = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_outUseHomotopy) { *out_outUseHomotopy = _outUseHomotopy; }
  return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_replaceHomotopyWithSimplified2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy)
{
  modelica_integer tmp1;
  modelica_boolean _outUseHomotopy;
  modelica_metatype _outExp = NULL;
  tmp1 = mmc_unbox_integer(_inUseHomotopy);
  _outExp = omc_Initialization_replaceHomotopyWithSimplified2(threadData, _inExp, tmp1, &_outUseHomotopy);
  /* skip box _outExp; DAE.Exp */
  if (out_outUseHomotopy) { *out_outUseHomotopy = mmc_mk_icon(_outUseHomotopy); }
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_replaceHomotopyWithSimplified1(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy)
{
  modelica_metatype _outExp = NULL;
  modelica_boolean _outUseHomotopy;
  modelica_metatype tmpMeta1;
  modelica_integer tmp2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _outUseHomotopy has no default value.
  /* Pattern-matching tuple assignment */
  tmpMeta3 = omc_Expression_traverseExpBottomUp(threadData, _inExp, boxvar_Initialization_replaceHomotopyWithSimplified2, mmc_mk_boolean(_inUseHomotopy), &tmpMeta1);
  _outExp = tmpMeta3;
  tmp2 = mmc_unbox_integer(tmpMeta1);
  _outUseHomotopy = tmp2  /* pattern as ty=Boolean */;
  _return: OMC_LABEL_UNUSED
  if (out_outUseHomotopy) { *out_outUseHomotopy = _outUseHomotopy; }
  return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_replaceHomotopyWithSimplified1(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy)
{
  modelica_integer tmp1;
  modelica_boolean _outUseHomotopy;
  modelica_metatype _outExp = NULL;
  tmp1 = mmc_unbox_integer(_inUseHomotopy);
  _outExp = omc_Initialization_replaceHomotopyWithSimplified1(threadData, _inExp, tmp1, &_outUseHomotopy);
  /* skip box _outExp; DAE.Exp */
  if (out_outUseHomotopy) { *out_outUseHomotopy = mmc_mk_icon(_outUseHomotopy); }
  return _outExp;
}

DLLDirection
modelica_metatype omc_Initialization_replaceHomotopyWithSimplifiedEqs(threadData_t *threadData, modelica_metatype __omcQ_24in_5Feqs)
{
  modelica_metatype _eqs = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _eqs = __omcQ_24in_5Feqs;
  omc_BackendDAEUtil_traverseBackendDAEExpsEqns(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqs), 3))), boxvar_Initialization_replaceHomotopyWithSimplified1, mmc_mk_boolean(0 /* false */));

  omc_BackendDAEUtil_traverseBackendDAEExpsEqns(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqs), 10))), boxvar_Initialization_replaceHomotopyWithSimplified1, mmc_mk_boolean(0 /* false */));

  _eqs = omc_BackendDAEUtil_clearEqSyst(threadData, _eqs);
  _return: OMC_LABEL_UNUSED
  return _eqs;
}

DLLDirection
modelica_metatype omc_Initialization_replaceHomotopyWithSimplified(threadData_t *threadData, modelica_metatype _inDAE)
{
  modelica_metatype _outDAE = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outDAE = _inDAE;
  {
    modelica_metatype __omcQ_24tmpVar23;
    modelica_metatype* tmp3;
    modelica_metatype tmpMeta4;
    modelica_metatype __omcQ_24tmpVar22;
    modelica_integer tmp5;
    modelica_metatype _eqs_loopVar = 0;
    modelica_metatype _eqs;
    _eqs_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outDAE), 2)));
    tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar23 = tmpMeta4; /* defaultValue */
    tmp3 = &__omcQ_24tmpVar23;
    while(1) {
      tmp5 = 1;
      if (!listEmpty(_eqs_loopVar)) {
        _eqs = MMC_CAR(_eqs_loopVar);
        _eqs_loopVar = MMC_CDR(_eqs_loopVar);
        tmp5--;
      }
      if (tmp5 == 0) {
        __omcQ_24tmpVar22 = omc_Initialization_replaceHomotopyWithSimplifiedEqs(threadData, _eqs);
        *tmp3 = mmc_mk_cons(__omcQ_24tmpVar22,0);
        tmp3 = &MMC_CDR(*tmp3);
      } else if (tmp5 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp3 = mmc_mk_nil();
    tmpMeta2 = __omcQ_24tmpVar23;
  }
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(4));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_outDAE), 4*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[2] = tmpMeta2;
  _outDAE = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outDAE;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_removeInitializationStuff2(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy)
{
  modelica_metatype _outExp = NULL;
  modelica_boolean _outUseHomotopy;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _outUseHomotopy has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inExp;
    {
      modelica_metatype _actual = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _actual has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (7 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT2), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _OMC_LIT1;
          tmp1_c1 = _inUseHomotopy;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,1,1) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          if (8 != MMC_STRLEN(tmpMeta9) || strcmp(MMC_STRINGDATA(_OMC_LIT0), MMC_STRINGDATA(tmpMeta9)) != 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta10)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmpMeta10);
          tmpMeta12 = MMC_CDR(tmpMeta10);
          if (listEmpty(tmpMeta12)) goto tmp3_end;
          tmpMeta13 = MMC_CAR(tmpMeta12);
          tmpMeta14 = MMC_CDR(tmpMeta12);
          
          _actual = tmpMeta11;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _actual;
          tmp1_c1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inExp;
          tmp1_c1 = _inUseHomotopy;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outExp = tmpMeta[0+0];
  _outUseHomotopy = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_outUseHomotopy) { *out_outUseHomotopy = _outUseHomotopy; }
  return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_removeInitializationStuff2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy)
{
  modelica_integer tmp1;
  modelica_boolean _outUseHomotopy;
  modelica_metatype _outExp = NULL;
  tmp1 = mmc_unbox_integer(_inUseHomotopy);
  _outExp = omc_Initialization_removeInitializationStuff2(threadData, _inExp, tmp1, &_outUseHomotopy);
  /* skip box _outExp; DAE.Exp */
  if (out_outUseHomotopy) { *out_outUseHomotopy = mmc_mk_icon(_outUseHomotopy); }
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_removeInitializationStuff1(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy)
{
  modelica_metatype _outExp = NULL;
  modelica_boolean _outUseHomotopy;
  modelica_metatype tmpMeta1;
  modelica_integer tmp2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _outUseHomotopy has no default value.
  /* Pattern-matching tuple assignment */
  tmpMeta3 = omc_Expression_traverseExpBottomUp(threadData, _inExp, boxvar_Initialization_removeInitializationStuff2, mmc_mk_boolean(_inUseHomotopy), &tmpMeta1);
  _outExp = tmpMeta3;
  tmp2 = mmc_unbox_integer(tmpMeta1);
  _outUseHomotopy = tmp2  /* pattern as ty=Boolean */;
  _return: OMC_LABEL_UNUSED
  if (out_outUseHomotopy) { *out_outUseHomotopy = _outUseHomotopy; }
  return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_removeInitializationStuff1(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy)
{
  modelica_integer tmp1;
  modelica_boolean _outUseHomotopy;
  modelica_metatype _outExp = NULL;
  tmp1 = mmc_unbox_integer(_inUseHomotopy);
  _outExp = omc_Initialization_removeInitializationStuff1(threadData, _inExp, tmp1, &_outUseHomotopy);
  /* skip box _outExp; DAE.Exp */
  if (out_outUseHomotopy) { *out_outUseHomotopy = mmc_mk_icon(_outUseHomotopy); }
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_filterWhenEquation(threadData_t *threadData, modelica_metatype _inEqn, modelica_metatype _inEqnLst)
{
  modelica_metatype _outEqnLst = NULL;
  modelica_metatype _condition = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqnLst has no default value.
  // _condition has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inEqn;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,4) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 4));
          if (!optionNone(tmpMeta8)) goto tmp3_end;
          
          _condition = tmpMeta7;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!listEmpty(omc_BackendDAEUtil_getConditionList(threadData, _condition, NULL))) goto tmp3_end;
          tmpMeta1 = _inEqnLst;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_cons(_inEqn, _inEqnLst);
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEqnLst = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outEqnLst;
}

DLLDirection
modelica_metatype omc_Initialization_removeInitializationStuff(threadData_t *threadData, modelica_metatype _inDAE)
{
  modelica_metatype _outDAE = NULL;
  modelica_metatype _removedEqsList = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _shared = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outDAE = _inDAE;
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _removedEqsList = tmpMeta1;
  _shared = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inDAE), 3)));
  {
    modelica_metatype _eqs;
    for (tmpMeta2 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outDAE), 2))); !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _eqs = MMC_CAR(tmpMeta2);
      omc_BackendDAEUtil_traverseBackendDAEExpsEqns(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqs), 3))), boxvar_Initialization_removeInitializationStuff1, mmc_mk_boolean(0 /* false */));

      omc_BackendDAEUtil_traverseBackendDAEExpsEqns(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eqs), 10))), boxvar_Initialization_removeInitializationStuff1, mmc_mk_boolean(0 /* false */));
    }
  }

  omc_BackendDAEUtil_traverseBackendDAEExpsEqns(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 7))), boxvar_Initialization_removeInitializationStuff1, mmc_mk_boolean(0 /* false */));

  {
    modelica_metatype _eq;
    for (tmpMeta4 = omc_BackendEquation_equationList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_shared), 7)))); !listEmpty(tmpMeta4); tmpMeta4=MMC_CDR(tmpMeta4))
    {
      _eq = MMC_CAR(tmpMeta4);
      { /* match expression */
        modelica_metatype tmp8_1;
        tmp8_1 = omc_BackendEquation_equationKind(threadData, _eq);
        {
          volatile mmc_switch_type tmp8;
          int tmp9;
          tmp8 = 0;
          for (; tmp8 < 2; tmp8++) {
            switch (MMC_SWITCH_CAST(tmp8)) {
            case 0: {
              if (mmc__uniontype__metarecord__typedef__equal(tmp8_1,2,0) == 0) goto tmp7_end;
              /* Pattern matching succeeded */
              tmpMeta5 = _removedEqsList;
              goto tmp7_done;
            }
            case 1: {
              
              /* Pattern matching succeeded */
              tmpMeta5 = omc_Initialization_filterWhenEquation(threadData, _eq, _removedEqsList);
              goto tmp7_done;
            }
            }
            goto tmp7_end;
            tmp7_end: ;
          }
          goto goto_6;
          goto_6:;
          MMC_THROW_INTERNAL();
          goto tmp7_done;
          tmp7_done:;
        }
      }
      _removedEqsList = tmpMeta5;
    }
  }

  tmpMeta11 = MMC_TAGPTR(mmc_alloc_words(22));
  memcpy(MMC_UNTAGPTR(tmpMeta11), MMC_UNTAGPTR(_shared), 22*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta11))[7] = omc_BackendEquation_listEquation(threadData, listReverse(_removedEqsList));
  _shared = tmpMeta11;

  tmpMeta12 = MMC_TAGPTR(mmc_alloc_words(22));
  memcpy(MMC_UNTAGPTR(tmpMeta12), MMC_UNTAGPTR(_shared), 22*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta12))[6] = omc_BackendEquation_emptyEqns(threadData);
  _shared = tmpMeta12;

  tmpMeta13 = MMC_TAGPTR(mmc_alloc_words(4));
  memcpy(MMC_UNTAGPTR(tmpMeta13), MMC_UNTAGPTR(_outDAE), 4*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta13))[3] = _shared;
  _outDAE = tmpMeta13;
  _return: OMC_LABEL_UNUSED
  return _outDAE;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialBindings(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inTpl, modelica_metatype *out_outTpl)
{
  modelica_metatype _outVar = NULL;
  modelica_metatype _outTpl = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVar has no default value.
  // _outTpl has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inVar;
    tmp4_2 = _inTpl;
    {
      modelica_metatype _var = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _ty = NULL;
      modelica_metatype _basic_ty = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _reeqns = NULL;
      modelica_metatype _bindExp = NULL;
      modelica_metatype _crefExp = NULL;
      modelica_metatype _source = NULL;
      modelica_metatype _eqn = NULL;
      modelica_metatype _record_size = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _var has no default value.
      // _cr has no default value.
      // _ty has no default value.
      // _basic_ty has no default value.
      // _eqns has no default value.
      // _reeqns has no default value.
      // _bindExp has no default value.
      // _crefExp has no default value.
      // _source has no default value.
      // _eqn has no default value.
      // _record_size has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (!optionNone(tmpMeta6)) goto tmp3_end;
          
          _var = tmp4_1;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = _inTpl;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,9,1) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (optionNone(tmpMeta9)) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 1));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 10));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          _var = tmp4_1;
          _cr = tmpMeta7;
          _bindExp = tmpMeta10;
          _source = tmpMeta11;
          _eqns = tmpMeta12;
          _reeqns = tmpMeta13;
          /* Pattern matching succeeded */
          tmpMeta14 = mmc_mk_box5(5, &BackendDAE_Equation_SOLVED__EQUATION__desc, _cr, _bindExp, _source, _OMC_LIT5);
          _eqn = tmpMeta14;

          _eqns = omc_BackendEquation_add(threadData, _eqn, _eqns);
          tmpMeta15 = mmc_mk_box2(0, _eqns, _reeqns);
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta15;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (optionNone(tmpMeta18)) goto tmp3_end;
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 1));
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 10));
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          _var = tmp4_1;
          _cr = tmpMeta16;
          _ty = tmpMeta17;
          _bindExp = tmpMeta19;
          _source = tmpMeta20;
          _eqns = tmpMeta21;
          _reeqns = tmpMeta22;
          /* Pattern matching succeeded */
          tmpMeta23 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
          _crefExp = tmpMeta23;

          if(omc_Types_isArray(threadData, _ty))
          {
            _basic_ty = omc_Types_getBasicType(threadData, _ty);

            _record_size = (omc_Types_isRecord(threadData, _basic_ty)?mmc_mk_some(mmc_mk_integer(omc_Types_getDimensionProduct(threadData, _basic_ty))):mmc_mk_none());

            tmpMeta24 = mmc_mk_box7(4, &BackendDAE_Equation_ARRAY__EQUATION__desc, omc_Types_getDimensionSizes(threadData, _ty), _crefExp, _bindExp, _source, _OMC_LIT5, _record_size);
            _eqn = tmpMeta24;
          }
          else
          {
            tmpMeta25 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _crefExp, _bindExp, _source, _OMC_LIT5);
            _eqn = tmpMeta25;
          }

          _eqns = omc_BackendEquation_add(threadData, _eqn, _eqns);
          tmpMeta26 = mmc_mk_box2(0, _eqns, _reeqns);
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta26;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta27;
          
          /* Pattern matching succeeded */
          tmpMeta27 = stringAppend(_OMC_LIT6,omc_BackendDump_varString(threadData, _inVar));
          omc_Error_addInternalError(threadData, tmpMeta27, _OMC_LIT8);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVar = tmpMeta[0+0];
  _outTpl = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outVar;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_replaceDerPreCref(threadData_t *threadData, modelica_metatype _inExp)
{
  modelica_metatype _outExp = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inExp;
    {
      modelica_metatype _dummyder = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _ty = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _dummyder has no default value.
      // _cr has no default value.
      // _ty has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (3 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT9), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta8)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmpMeta8);
          tmpMeta10 = MMC_CDR(tmpMeta8);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,6,2) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta9), 2));
          if (!listEmpty(tmpMeta10)) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 2));
          
          _cr = tmpMeta11;
          _ty = tmpMeta13;
          /* Pattern matching succeeded */
          _dummyder = omc_ComponentReference_crefPrefixDer(threadData, _cr);
          tmpMeta14 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _dummyder, _ty);
          tmpMeta1 = tmpMeta14;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta15,1,1) == 0) goto tmp3_end;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 2));
          if (3 != MMC_STRLEN(tmpMeta16) || strcmp(MMC_STRINGDATA(_OMC_LIT10), MMC_STRINGDATA(tmpMeta16)) != 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta17)) goto tmp3_end;
          tmpMeta18 = MMC_CAR(tmpMeta17);
          tmpMeta19 = MMC_CDR(tmpMeta17);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta18,6,2) == 0) goto tmp3_end;
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 2));
          if (!listEmpty(tmpMeta19)) goto tmp3_end;
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta21), 2));
          
          _cr = tmpMeta20;
          _ty = tmpMeta22;
          /* Pattern matching succeeded */
          _dummyder = omc_ComponentReference_crefPrefixPre(threadData, _cr);
          tmpMeta23 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _dummyder, _ty);
          tmpMeta1 = tmpMeta23;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta24,1,1) == 0) goto tmp3_end;
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta24), 2));
          if (8 != MMC_STRLEN(tmpMeta25) || strcmp(MMC_STRINGDATA(_OMC_LIT11), MMC_STRINGDATA(tmpMeta25)) != 0) goto tmp3_end;
          tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta26)) goto tmp3_end;
          tmpMeta27 = MMC_CAR(tmpMeta26);
          tmpMeta28 = MMC_CDR(tmpMeta26);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta27,6,2) == 0) goto tmp3_end;
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta27), 2));
          if (!listEmpty(tmpMeta28)) goto tmp3_end;
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta30), 2));
          
          _cr = tmpMeta29;
          _ty = tmpMeta31;
          /* Pattern matching succeeded */
          _dummyder = omc_ComponentReference_crefPrefixPrevious(threadData, _cr);
          tmpMeta32 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _dummyder, _ty);
          tmpMeta1 = tmpMeta32;
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _inExp;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outExp = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialEqns(threadData_t *threadData, modelica_metatype _inEq, modelica_metatype _inTpl, modelica_metatype *out_outTpl)
{
  modelica_metatype _outEq = NULL;
  modelica_metatype _outTpl = NULL;
  modelica_metatype _previousHS = NULL;
  modelica_metatype _eqn1 = NULL;
  modelica_metatype _eqns = NULL;
  modelica_metatype _reeqns = NULL;
  modelica_integer _size;
  modelica_boolean _b;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outEq = _inEq;
  // _outTpl has no default value.
  // _previousHS has no default value.
  // _eqn1 has no default value.
  // _eqns has no default value.
  // _reeqns has no default value.
  // _size has no default value.
  // _b has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inTpl;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _eqns = tmpMeta2;
  _reeqns = tmpMeta3;

  _eqn1 = omc_BackendEquation_traverseExpsOfEquation(threadData, _inEq, boxvar_Expression_traverseSubexpressionsDummyHelper, boxvar_Initialization_replaceDerPreCref, NULL);

  _size = omc_BackendEquation_equationSize(threadData, _eqn1);

  _b = (_size > ((modelica_integer) 0));

  _eqns = (_b?omc_BackendEquation_add(threadData, _eqn1, _eqns):_eqns);

  _reeqns = ((!_b)?omc_BackendEquation_add(threadData, _eqn1, _reeqns):_reeqns);

  tmpMeta4 = mmc_mk_box2(0, _eqns, _reeqns);
  _outTpl = tmpMeta4;
  _return: OMC_LABEL_UNUSED
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outEq;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialClockedVarsEqns(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inTpl, modelica_metatype *out_outTpl)
{
  modelica_metatype _outVar = NULL;
  modelica_metatype _outTpl = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _eqns = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVar has no default value.
  // _outTpl has no default value.
  // _vars has no default value.
  // _eqns has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inTpl;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _vars = tmpMeta2;
  _eqns = tmpMeta3;

  
  
  { /* match expression */
    modelica_metatype tmp7_1;
    tmp7_1 = _inVar;
    {
      modelica_metatype _var = NULL;
      modelica_metatype _kind = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _ty = NULL;
      modelica_metatype _crExp = NULL;
      modelica_metatype _startExp = NULL;
      volatile mmc_switch_type tmp7;
      int tmp8;
      // _var has no default value.
      // _kind has no default value.
      // _cr has no default value.
      // _ty has no default value.
      // _crExp has no default value.
      // _startExp has no default value.
      tmp7 = 0;
      for (; tmp7 < 1; tmp7++) {
        switch (MMC_SWITCH_CAST(tmp7)) {
        case 0: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 2));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 3));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 6));
          
          _var = tmp7_1;
          _cr = tmpMeta9;
          _kind = tmpMeta10;
          _ty = tmpMeta11;
          /* Pattern matching succeeded */
          _crExp = omc_Expression_crefExp(threadData, _cr);

          
          
          { /* match expression */
            modelica_metatype tmp15_1;
            tmp15_1 = _kind;
            {
              modelica_metatype _previousVar = NULL;
              modelica_metatype _previousCR = NULL;
              modelica_metatype _previousExp = NULL;
              volatile mmc_switch_type tmp15;
              int tmp16;
              // _previousVar has no default value.
              // _previousCR has no default value.
              // _previousExp has no default value.
              tmp15 = 0;
              for (; tmp15 < 2; tmp15++) {
                switch (MMC_SWITCH_CAST(tmp15)) {
                case 0: {
                  modelica_metatype tmpMeta17;
                  modelica_metatype tmpMeta18;
                  modelica_metatype tmpMeta19;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp15_1,5,2) == 0) goto tmp14_end;
                  tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp15_1), 2));
                  
                  _previousCR = tmpMeta17;
                  /* Pattern matching succeeded */
                  _previousVar = omc_BackendVariable_copyVarNewName(threadData, _previousCR, _var);

                  _previousVar = omc_BackendVariable_setVarKind(threadData, _previousVar, _OMC_LIT12);

                  _previousVar = omc_BackendVariable_setVarDirection(threadData, _previousVar, _OMC_LIT13);

                  _previousVar = omc_BackendVariable_setBindExp(threadData, _previousVar, mmc_mk_none());

                  _previousVar = omc_BackendVariable_setVarFixed(threadData, _previousVar, 1 /* true */);

                  tmpMeta18 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
                  _previousVar = omc_BackendVariable_setVarStartValueOption(threadData, _previousVar, mmc_mk_some(tmpMeta18));

                  _previousVar = omc_BackendVariable_setHideResult(threadData, _previousVar, _OMC_LIT15);

                  _previousExp = omc_Expression_crefExp(threadData, _previousCR);

                  _vars = omc_BackendVariable_addVar(threadData, _previousVar, _vars);

                  tmpMeta19 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _previousExp, _crExp, _OMC_LIT20, _OMC_LIT5);
                  _eqns = omc_BackendEquation_add(threadData, tmpMeta19, _eqns);
                  tmpMeta[2+0] = _vars;
                  tmpMeta[2+1] = _eqns;
                  goto tmp14_done;
                }
                case 1: {
                  
                  /* Pattern matching succeeded */
                  tmpMeta[2+0] = _vars;
                  tmpMeta[2+1] = _eqns;
                  goto tmp14_done;
                }
                }
                goto tmp14_end;
                tmp14_end: ;
              }
              goto goto_13;
              goto_13:;
              goto goto_5;
              goto tmp14_done;
              tmp14_done:;
            }
          }
          _vars = tmpMeta[2+0];
          _eqns = tmpMeta[2+1];

          _startExp = omc_BackendVariable_varStartValue(threadData, _var);

          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);

          tmpMeta20 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _crExp, _startExp, _OMC_LIT20, _OMC_LIT5);
          _eqns = omc_BackendEquation_add(threadData, tmpMeta20, _eqns);
          tmpMeta21 = mmc_mk_box2(0, _vars, _eqns);
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta21;
          goto tmp6_done;
        }
        }
        goto tmp6_end;
        tmp6_end: ;
      }
      goto goto_5;
      goto_5:;
      MMC_THROW_INTERNAL();
      goto tmp6_done;
      tmp6_done:;
    }
  }
  _outVar = tmpMeta[0+0];
  _outTpl = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outVar;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Initialization_checkComponentNames(threadData_t *threadData, modelica_metatype _inVarDirection, modelica_metatype _inComponentRef)
{
  modelica_boolean _isTopLevel;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _isTopLevel has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _inVarDirection;
    tmp4_2 = _inComponentRef;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,1,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _isTopLevel = tmp1;
  _return: OMC_LABEL_UNUSED
  return _isTopLevel;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_checkComponentNames(threadData_t *threadData, modelica_metatype _inVarDirection, modelica_metatype _inComponentRef)
{
  modelica_boolean _isTopLevel;
  modelica_metatype out_isTopLevel;
  _isTopLevel = omc_Initialization_checkComponentNames(threadData, _inVarDirection, _inComponentRef);
  out_isTopLevel = mmc_mk_icon(_isTopLevel);
  return out_isTopLevel;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialVars(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inTpl, modelica_metatype *out_outTpl)
{
  modelica_metatype _outVar = NULL;
  modelica_metatype _outTpl = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVar has no default value.
  // _outTpl has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inVar;
    tmp4_2 = _inTpl;
    {
      modelica_metatype _var = NULL;
      modelica_metatype _preVar = NULL;
      modelica_metatype _derVar = NULL;
      modelica_metatype _startVar = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _fixvars = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _stateSetFixCounts = NULL;
      modelica_metatype _eqn = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _preCR = NULL;
      modelica_metatype _derCR = NULL;
      modelica_metatype _startCR = NULL;
      modelica_boolean _isFixed;
      modelica_boolean _isInput;
      modelica_boolean _preUsed;
      modelica_boolean _datarecon;
      modelica_metatype _ty = NULL;
      modelica_metatype _startValue = NULL;
      modelica_metatype _startValue_ = NULL;
      modelica_metatype _startExp = NULL;
      modelica_metatype _bindExp = NULL;
      modelica_metatype _crefExp = NULL;
      modelica_metatype _hs = NULL;
      modelica_string _s = NULL;
      modelica_string _str = NULL;
      modelica_string _sv = NULL;
      modelica_string _stateSetIdxString = NULL;
      modelica_metatype _stateSetSplit = NULL;
      modelica_integer _stateSetIdx;
      modelica_metatype _info = NULL;
      modelica_metatype _allPrimaryParameters = NULL;
      modelica_metatype _parameters = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _var has no default value.
      // _preVar has no default value.
      // _derVar has no default value.
      // _startVar has no default value.
      // _vars has no default value.
      // _fixvars has no default value.
      // _eqns has no default value.
      // _stateSetFixCounts has no default value.
      // _eqn has no default value.
      // _cr has no default value.
      // _preCR has no default value.
      // _derCR has no default value.
      // _startCR has no default value.
      // _isFixed has no default value.
      // _isInput has no default value.
      // _preUsed has no default value.
      // _datarecon has no default value.
      // _ty has no default value.
      // _startValue has no default value.
      // _startValue_ has no default value.
      // _startExp has no default value.
      // _bindExp has no default value.
      // _crefExp has no default value.
      // _hs has no default value.
      // _s has no default value.
      // _str has no default value.
      // _sv has no default value.
      // _stateSetIdxString has no default value.
      // _stateSetSplit has no default value.
      // _stateSetIdx has no default value.
      // _info has no default value.
      // _allPrimaryParameters has no default value.
      // _parameters has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 13; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_integer tmp16;
          modelica_boolean tmp17;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,1,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmp16 = mmc_unbox_integer(tmpMeta15);
          _var = tmp4_1;
          _cr = tmpMeta6;
          _ty = tmpMeta8;
          _vars = tmpMeta9;
          _fixvars = tmpMeta10;
          _eqns = tmpMeta11;
          _stateSetFixCounts = tmpMeta12;
          _hs = tmpMeta13;
          _allPrimaryParameters = tmpMeta14;
          _datarecon = tmp16  /* pattern as ty=Boolean */;
          tmp4 += 9; /* Pattern matching succeeded; we may skip some cases if we fail */
          _isFixed = omc_BackendVariable_varFixed(threadData, _var);

          _preUsed = omc_BaseHashSet_has(threadData, _cr, _hs);

          _crefExp = omc_Expression_crefExp(threadData, _cr);

          _startCR = omc_ComponentReference_crefPrefixStart(threadData, _cr);

          _startVar = omc_BackendVariable_copyVarNewName(threadData, _startCR, _var);

          _startVar = omc_BackendVariable_setBindExp(threadData, _startVar, mmc_mk_none());

          _startVar = omc_BackendVariable_setVarDirection(threadData, _startVar, _OMC_LIT13);

          _startVar = omc_BackendVariable_setVarFixed(threadData, _startVar, 0 /* false */);

          _startVar = omc_BackendVariable_setVarKind(threadData, _startVar, _OMC_LIT12);

          _startVar = omc_BackendVariable_setVarStartValueOption(threadData, _startVar, mmc_mk_none());

          _startExp = omc_BackendVariable_varStartValue(threadData, _var);

          _parameters = omc_Expression_getAllCrefs(threadData, _startExp);

          {
            modelica_boolean __omcQ_24tmpVar25;
            modelica_boolean __omcQ_24tmpVar24;
            modelica_integer tmp18;
            modelica_metatype _p_loopVar = 0;
            modelica_metatype _p;
            _p_loopVar = _parameters;
            __omcQ_24tmpVar25 = 1 /* true */; /* defaultValue */
            while(1) {
              tmp18 = 1;
              if (!listEmpty(_p_loopVar)) {
                _p = MMC_CAR(_p_loopVar);
                _p_loopVar = MMC_CDR(_p_loopVar);
                tmp18--;
              }
              if (tmp18 == 0) {
                __omcQ_24tmpVar24 = omc_AvlSetCR_hasKey(threadData, _allPrimaryParameters, _p);
                __omcQ_24tmpVar25 = (__omcQ_24tmpVar24 && __omcQ_24tmpVar25);
              } else if (tmp18 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            tmp17 = __omcQ_24tmpVar25;
          }
          if((!tmp17))
          {
            tmpMeta19 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, omc_Expression_crefExp(threadData, _startCR), _startExp, _OMC_LIT20, _OMC_LIT5);
            _eqn = tmpMeta19;

            _eqns = omc_BackendEquation_add(threadData, _eqn, _eqns);

            _vars = omc_BackendVariable_addVar(threadData, _startVar, _vars);
          }

          if(_isFixed)
          {
            if((omc_StringUtil_startsWith(threadData, omc_ComponentReference_crefFirstIdent(threadData, _cr), _OMC_LIT22) && omc_Flags_getConfigBool(threadData, _OMC_LIT28)))
            {
              _stateSetSplit = omc_Util_stringSplitAtChar(threadData, omc_ComponentReference_crefFirstIdent(threadData, _cr), _OMC_LIT21);

              /* Pattern-matching assignment */
              tmpMeta20 = _stateSetSplit;
              if (listEmpty(tmpMeta20)) goto goto_2;
              tmpMeta21 = MMC_CAR(tmpMeta20);
              tmpMeta22 = MMC_CDR(tmpMeta20);
              _stateSetIdxString = tmpMeta21;
              _stateSetSplit = tmpMeta22;

              _stateSetIdxString = substring(_stateSetIdxString, ((modelica_integer) 10), stringLength(_stateSetIdxString));

              _stateSetIdx = stringInt(_stateSetIdxString);

              arrayUpdate(_stateSetFixCounts, _stateSetIdx, mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer(arrayGet(_stateSetFixCounts, _stateSetIdx))));
            }
            else
            {
              if(omc_Expression_isConstValue(threadData, _startExp))
              {
                tmpMeta23 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _crefExp, omc_Expression_crefExp(threadData, _startCR), _OMC_LIT20, _OMC_LIT5);
                _eqn = tmpMeta23;
              }
              else
              {
                tmpMeta24 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _crefExp, _startExp, _OMC_LIT20, _OMC_LIT5);
                _eqn = tmpMeta24;
              }

              _eqns = omc_BackendEquation_add(threadData, _eqn, _eqns);
            }
          }

          _var = omc_BackendVariable_setVarKind(threadData, _var, _OMC_LIT12);

          _derCR = omc_ComponentReference_crefPrefixDer(threadData, _cr);

          _derVar = omc_BackendVariable_copyVarNewName(threadData, _derCR, _var);

          _derVar = omc_BackendVariable_setVarDirection(threadData, _derVar, _OMC_LIT13);

          _derVar = omc_BackendVariable_setBindExp(threadData, _derVar, mmc_mk_none());

          _preCR = omc_ComponentReference_crefPrefixPre(threadData, _cr);

          _preVar = omc_BackendVariable_copyVarNewName(threadData, _preCR, _var);

          _preVar = omc_BackendVariable_setVarDirection(threadData, _preVar, _OMC_LIT13);

          _preVar = omc_BackendVariable_setBindExp(threadData, _preVar, mmc_mk_none());

          _preVar = omc_BackendVariable_setVarFixed(threadData, _preVar, 1 /* true */);

          tmpMeta25 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
          _preVar = omc_BackendVariable_setVarStartValueOption(threadData, _preVar, mmc_mk_some(tmpMeta25));

          tmpMeta26 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
          tmpMeta27 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _preCR, _ty);
          tmpMeta28 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, tmpMeta26, tmpMeta27, _OMC_LIT20, _OMC_LIT5);
          _eqn = tmpMeta28;

          _vars = omc_BackendVariable_addVar(threadData, _derVar, _vars);

          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);

          _vars = (_preUsed?omc_BackendVariable_addVar(threadData, _preVar, _vars):_vars);

          _eqns = (_preUsed?omc_BackendEquation_add(threadData, _eqn, _eqns):_eqns);
          tmpMeta29 = mmc_mk_box7(0, _vars, _fixvars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta29;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_integer tmp40;
          modelica_boolean tmp41;
          modelica_boolean tmp42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          tmpMeta30 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta31,6,0) == 0) goto tmp3_end;
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmpMeta37 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          tmpMeta38 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta39 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmp40 = mmc_unbox_integer(tmpMeta39);
          _var = tmp4_1;
          _cr = tmpMeta30;
          _ty = tmpMeta32;
          _vars = tmpMeta33;
          _fixvars = tmpMeta34;
          _eqns = tmpMeta35;
          _stateSetFixCounts = tmpMeta36;
          _hs = tmpMeta37;
          _allPrimaryParameters = tmpMeta38;
          _datarecon = tmp40  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp41 = omc_BaseHashSet_has(threadData, _cr, _hs);
          if (1 /* true */ != tmp41) goto goto_2;

          /* Pattern-matching assignment */
          tmp42 = omc_BackendVariable_varFixed(threadData, _var);
          if (1 /* true */ != tmp42) goto goto_2;

          _startValue_ = omc_BackendVariable_varStartValue(threadData, _var);

          _var = omc_BackendVariable_setVarFixed(threadData, _var, 0 /* false */);

          _preCR = omc_ComponentReference_crefPrefixPre(threadData, _cr);

          _preVar = omc_BackendVariable_copyVarNewName(threadData, _preCR, _var);

          _preVar = omc_BackendVariable_setVarDirection(threadData, _preVar, _OMC_LIT13);

          _preVar = omc_BackendVariable_setBindExp(threadData, _preVar, mmc_mk_none());

          _preVar = omc_BackendVariable_setVarFixed(threadData, _preVar, 0 /* false */);

          _preVar = omc_BackendVariable_setVarStartValueOption(threadData, _preVar, mmc_mk_some(_startValue_));

          tmpMeta43 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _preCR, _ty);
          tmpMeta44 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, tmpMeta43, _startValue_, _OMC_LIT20, _OMC_LIT5);
          _eqn = tmpMeta44;

          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);

          _vars = omc_BackendVariable_addVar(threadData, _preVar, _vars);

          _eqns = omc_BackendEquation_add(threadData, _eqn, _eqns);
          tmpMeta45 = mmc_mk_box7(0, _vars, _fixvars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta45;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          modelica_integer tmp55;
          modelica_metatype tmpMeta56;
          tmpMeta46 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta47 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta47,6,0) == 0) goto tmp3_end;
          tmpMeta48 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta49 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta50 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta51 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmpMeta52 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          tmpMeta53 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta54 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmp55 = mmc_unbox_integer(tmpMeta54);
          _var = tmp4_1;
          _cr = tmpMeta46;
          _vars = tmpMeta48;
          _fixvars = tmpMeta49;
          _eqns = tmpMeta50;
          _stateSetFixCounts = tmpMeta51;
          _hs = tmpMeta52;
          _allPrimaryParameters = tmpMeta53;
          _datarecon = tmp55  /* pattern as ty=Boolean */;
          tmp4 += 7; /* Pattern matching succeeded; we may skip some cases if we fail */
          _preUsed = omc_BaseHashSet_has(threadData, _cr, _hs);

          _startValue = omc_BackendVariable_varStartValueOption(threadData, _var);

          _var = omc_BackendVariable_setVarFixed(threadData, _var, 0 /* false */);

          _preCR = omc_ComponentReference_crefPrefixPre(threadData, _cr);

          _preVar = omc_BackendVariable_copyVarNewName(threadData, _preCR, _var);

          _preVar = omc_BackendVariable_setVarDirection(threadData, _preVar, _OMC_LIT13);

          _preVar = omc_BackendVariable_setBindExp(threadData, _preVar, mmc_mk_none());

          _preVar = omc_BackendVariable_setVarFixed(threadData, _preVar, 0 /* false */);

          _preVar = omc_BackendVariable_setVarStartValueOption(threadData, _preVar, _startValue);

          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);

          _vars = (_preUsed?omc_BackendVariable_addVar(threadData, _preVar, _vars):_vars);
          tmpMeta56 = mmc_mk_box7(0, _vars, _fixvars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta56;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta57;
          modelica_metatype tmpMeta58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          modelica_metatype tmpMeta63;
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          modelica_metatype tmpMeta66;
          modelica_integer tmp67;
          modelica_boolean tmp68;
          modelica_metatype tmpMeta69;
          modelica_metatype tmpMeta70;
          tmpMeta57 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta58 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta58,7,0) == 0) goto tmp3_end;
          tmpMeta59 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (!optionNone(tmpMeta59)) goto tmp3_end;
          tmpMeta60 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta61 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta62 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta63 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmpMeta64 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          tmpMeta65 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta66 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmp67 = mmc_unbox_integer(tmpMeta66);
          _var = tmp4_1;
          _cr = tmpMeta57;
          _vars = tmpMeta60;
          _fixvars = tmpMeta61;
          _eqns = tmpMeta62;
          _stateSetFixCounts = tmpMeta63;
          _hs = tmpMeta64;
          _allPrimaryParameters = tmpMeta65;
          _datarecon = tmp67  /* pattern as ty=Boolean */;
          tmp4 += 3; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching assignment */
          tmp68 = omc_BackendVariable_varFixed(threadData, _var);
          if (1 /* true */ != tmp68) goto goto_2;

          _startExp = omc_BackendVariable_varStartValueType(threadData, _var);

          _s = omc_ComponentReference_printComponentRefStr(threadData, _cr);

          _str = omc_ExpressionDump_printExpStr(threadData, _startExp);

          _var = omc_BackendVariable_setVarKind(threadData, _var, _OMC_LIT12);

          _var = omc_BackendVariable_setBindExp(threadData, _var, mmc_mk_some(_startExp));

          _var = omc_BackendVariable_setVarFixed(threadData, _var, 1 /* true */);

          _info = omc_ElementSource_getElementSourceFileInfo(threadData, omc_BackendVariable_getVarSource(threadData, _var));

          tmpMeta69 = mmc_mk_cons(_s, mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil)));
          omc_Error_addSourceMessage(threadData, _OMC_LIT33, tmpMeta69, _info);
          tmpMeta70 = mmc_mk_box7(0, _vars, _fixvars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta70;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta71;
          modelica_metatype tmpMeta72;
          modelica_metatype tmpMeta73;
          modelica_metatype tmpMeta74;
          modelica_metatype tmpMeta75;
          modelica_metatype tmpMeta76;
          modelica_metatype tmpMeta77;
          modelica_metatype tmpMeta78;
          modelica_metatype tmpMeta79;
          modelica_metatype tmpMeta80;
          modelica_metatype tmpMeta81;
          modelica_metatype tmpMeta82;
          modelica_integer tmp83;
          modelica_boolean tmp84;
          modelica_boolean tmp85;
          modelica_metatype tmpMeta86;
          modelica_metatype tmpMeta87;
          modelica_metatype tmpMeta88;
          modelica_metatype tmpMeta89;
          tmpMeta71 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta72 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta72,7,0) == 0) goto tmp3_end;
          tmpMeta73 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta74 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (optionNone(tmpMeta74)) goto tmp3_end;
          tmpMeta75 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta74), 1));
          tmpMeta76 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta77 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta78 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta79 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmpMeta80 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          tmpMeta81 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta82 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmp83 = mmc_unbox_integer(tmpMeta82);
          _var = tmp4_1;
          _cr = tmpMeta71;
          _ty = tmpMeta73;
          _bindExp = tmpMeta75;
          _vars = tmpMeta76;
          _fixvars = tmpMeta77;
          _eqns = tmpMeta78;
          _stateSetFixCounts = tmpMeta79;
          _hs = tmpMeta80;
          _allPrimaryParameters = tmpMeta81;
          _datarecon = tmp83  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp84 = (omc_Flags_getConfigEnum(threadData, _OMC_LIT83) > ((modelica_integer) 31));
          if (1 /* true */ != tmp84) goto goto_2;

          /* Pattern-matching assignment */
          tmp85 = omc_BackendVariable_varFixed(threadData, _var);
          if (0 /* false */ != tmp85) goto goto_2;

          _var = omc_BackendVariable_setVarKind(threadData, _var, _OMC_LIT12);

          _var = omc_BackendVariable_setBindExp(threadData, _var, mmc_mk_none());

          _s = omc_ComponentReference_printComponentRefStr(threadData, _cr);

          _str = omc_ExpressionDump_printExpStr(threadData, _bindExp);

          _info = omc_ElementSource_getElementSourceFileInfo(threadData, omc_BackendVariable_getVarSource(threadData, _var));

          tmpMeta86 = mmc_mk_cons(_s, mmc_mk_cons(_s, mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil))));
          omc_Error_addSourceMessage(threadData, _OMC_LIT87, tmpMeta86, _info);

          tmpMeta87 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
          tmpMeta88 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, tmpMeta87, _bindExp, _OMC_LIT20, _OMC_LIT5);
          _eqn = tmpMeta88;

          _eqns = omc_BackendEquation_add(threadData, _eqn, _eqns);

          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);
          tmpMeta89 = mmc_mk_box7(0, _vars, _fixvars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta89;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta90;
          modelica_metatype tmpMeta91;
          modelica_metatype tmpMeta92;
          modelica_metatype tmpMeta93;
          modelica_metatype tmpMeta94;
          modelica_metatype tmpMeta95;
          modelica_metatype tmpMeta96;
          modelica_metatype tmpMeta97;
          modelica_metatype tmpMeta98;
          modelica_metatype tmpMeta99;
          modelica_metatype tmpMeta100;
          modelica_integer tmp101;
          modelica_boolean tmp102;
          modelica_boolean tmp103;
          modelica_metatype tmpMeta104;
          modelica_metatype tmpMeta105;
          modelica_metatype tmpMeta106;
          tmpMeta90 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta91 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta91,7,0) == 0) goto tmp3_end;
          tmpMeta92 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (optionNone(tmpMeta92)) goto tmp3_end;
          tmpMeta93 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta92), 1));
          tmpMeta94 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta95 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta96 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta97 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmpMeta98 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          tmpMeta99 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta100 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmp101 = mmc_unbox_integer(tmpMeta100);
          _var = tmp4_1;
          _cr = tmpMeta90;
          _bindExp = tmpMeta93;
          _vars = tmpMeta94;
          _fixvars = tmpMeta95;
          _eqns = tmpMeta96;
          _stateSetFixCounts = tmpMeta97;
          _hs = tmpMeta98;
          _allPrimaryParameters = tmpMeta99;
          _datarecon = tmp101  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp102 = (omc_Flags_getConfigEnum(threadData, _OMC_LIT83) <= ((modelica_integer) 31));
          if (1 /* true */ != tmp102) goto goto_2;

          /* Pattern-matching assignment */
          tmp103 = omc_BackendVariable_varFixed(threadData, _var);
          if (0 /* false */ != tmp103) goto goto_2;

          _var = omc_BackendVariable_setVarKind(threadData, _var, _OMC_LIT12);

          _var = omc_BackendVariable_setBindExp(threadData, _var, mmc_mk_none());

          /* Pattern-matching assignment */
          tmpMeta104 = omc_BackendVariable_varStartValueOption(threadData, _var);
          if (!optionNone(tmpMeta104)) goto goto_2;

          _var = omc_BackendVariable_setVarStartValue(threadData, _var, _bindExp);

          _s = omc_ComponentReference_printComponentRefStr(threadData, _cr);

          _str = omc_ExpressionDump_printExpStr(threadData, _bindExp);

          _info = omc_ElementSource_getElementSourceFileInfo(threadData, omc_BackendVariable_getVarSource(threadData, _var));

          tmpMeta105 = mmc_mk_cons(_s, mmc_mk_cons(_s, mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil))));
          omc_Error_addSourceMessage(threadData, _OMC_LIT90, tmpMeta105, _info);

          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);
          tmpMeta106 = mmc_mk_box7(0, _vars, _fixvars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta106;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta107;
          modelica_metatype tmpMeta108;
          modelica_metatype tmpMeta109;
          modelica_metatype tmpMeta110;
          modelica_metatype tmpMeta111;
          modelica_metatype tmpMeta112;
          modelica_metatype tmpMeta113;
          modelica_metatype tmpMeta114;
          modelica_metatype tmpMeta115;
          modelica_metatype tmpMeta116;
          modelica_metatype tmpMeta117;
          modelica_integer tmp118;
          modelica_boolean tmp119;
          modelica_boolean tmp120;
          modelica_metatype tmpMeta121;
          modelica_metatype tmpMeta122;
          modelica_metatype tmpMeta123;
          modelica_metatype tmpMeta124;
          tmpMeta107 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta108 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta108,7,0) == 0) goto tmp3_end;
          tmpMeta109 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (optionNone(tmpMeta109)) goto tmp3_end;
          tmpMeta110 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta109), 1));
          tmpMeta111 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta112 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta113 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta114 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmpMeta115 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          tmpMeta116 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta117 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmp118 = mmc_unbox_integer(tmpMeta117);
          _var = tmp4_1;
          _cr = tmpMeta107;
          _bindExp = tmpMeta110;
          _vars = tmpMeta111;
          _fixvars = tmpMeta112;
          _eqns = tmpMeta113;
          _stateSetFixCounts = tmpMeta114;
          _hs = tmpMeta115;
          _allPrimaryParameters = tmpMeta116;
          _datarecon = tmp118  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp119 = (omc_Flags_getConfigEnum(threadData, _OMC_LIT83) <= ((modelica_integer) 31));
          if (1 /* true */ != tmp119) goto goto_2;

          /* Pattern-matching assignment */
          tmp120 = omc_BackendVariable_varFixed(threadData, _var);
          if (0 /* false */ != tmp120) goto goto_2;

          _var = omc_BackendVariable_setVarKind(threadData, _var, _OMC_LIT12);

          _var = omc_BackendVariable_setBindExp(threadData, _var, mmc_mk_none());

          /* Pattern-matching assignment */
          tmpMeta121 = omc_BackendVariable_varStartValueOption(threadData, _var);
          if (optionNone(tmpMeta121)) goto goto_2;
          tmpMeta122 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta121), 1));
          _startExp = tmpMeta122;

          _s = omc_ComponentReference_printComponentRefStr(threadData, _cr);

          _str = omc_ExpressionDump_printExpStr(threadData, _bindExp);

          _sv = omc_ExpressionDump_printExpStr(threadData, _startExp);

          _info = omc_ElementSource_getElementSourceFileInfo(threadData, omc_BackendVariable_getVarSource(threadData, _var));

          tmpMeta123 = mmc_mk_cons(_s, mmc_mk_cons(_sv, mmc_mk_cons(_s, mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil)))));
          omc_Error_addSourceMessage(threadData, _OMC_LIT93, tmpMeta123, _info);

          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);
          tmpMeta124 = mmc_mk_box7(0, _vars, _fixvars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta124;
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta125;
          modelica_metatype tmpMeta126;
          modelica_metatype tmpMeta127;
          modelica_metatype tmpMeta128;
          modelica_metatype tmpMeta129;
          modelica_metatype tmpMeta130;
          modelica_metatype tmpMeta131;
          modelica_metatype tmpMeta132;
          modelica_integer tmp133;
          modelica_metatype tmpMeta134;
          tmpMeta125 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta125,7,0) == 0) goto tmp3_end;
          tmpMeta126 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta127 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta128 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta129 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmpMeta130 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          tmpMeta131 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta132 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmp133 = mmc_unbox_integer(tmpMeta132);
          _var = tmp4_1;
          _vars = tmpMeta126;
          _fixvars = tmpMeta127;
          _eqns = tmpMeta128;
          _stateSetFixCounts = tmpMeta129;
          _hs = tmpMeta130;
          _allPrimaryParameters = tmpMeta131;
          _datarecon = tmp133  /* pattern as ty=Boolean */;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          _var = omc_BackendVariable_setVarKind(threadData, _var, _OMC_LIT12);

          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);
          tmpMeta134 = mmc_mk_box7(0, _vars, _fixvars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta134;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta135;
          modelica_metatype tmpMeta136;
          modelica_metatype tmpMeta137;
          modelica_metatype tmpMeta138;
          modelica_metatype tmpMeta139;
          modelica_metatype tmpMeta140;
          modelica_metatype tmpMeta141;
          modelica_metatype tmpMeta142;
          modelica_integer tmp143;
          modelica_metatype tmpMeta144;
          tmpMeta135 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta135,9,1) == 0) goto tmp3_end;
          tmpMeta136 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta137 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta138 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta139 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmpMeta140 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          tmpMeta141 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta142 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmp143 = mmc_unbox_integer(tmpMeta142);
          _var = tmp4_1;
          _vars = tmpMeta136;
          _fixvars = tmpMeta137;
          _eqns = tmpMeta138;
          _stateSetFixCounts = tmpMeta139;
          _hs = tmpMeta140;
          _allPrimaryParameters = tmpMeta141;
          _datarecon = tmp143  /* pattern as ty=Boolean */;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          _vars = omc_BackendVariable_addVar(threadData, _var, _vars);
          tmpMeta144 = mmc_mk_box7(0, _vars, _fixvars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta144;
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta145;
          tmpMeta145 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta145,8,0) == 0) goto tmp3_end;
          
          _var = tmp4_1;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = _inTpl;
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta146;
          modelica_metatype tmpMeta147;
          modelica_metatype tmpMeta148;
          modelica_metatype tmpMeta149;
          modelica_metatype tmpMeta150;
          modelica_metatype tmpMeta151;
          modelica_metatype tmpMeta152;
          modelica_metatype tmpMeta153;
          modelica_metatype tmpMeta154;
          modelica_integer tmp155;
          modelica_boolean tmp156;
          modelica_boolean tmp157;
          modelica_metatype tmpMeta159;
          modelica_metatype tmpMeta160;
          modelica_metatype tmpMeta161;
          modelica_metatype tmpMeta162;
          modelica_metatype tmpMeta163;
          modelica_metatype tmpMeta164;
          modelica_metatype tmpMeta165;
          tmpMeta146 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta147 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta148 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta149 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta150 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta151 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmpMeta152 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          tmpMeta153 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta154 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmp155 = mmc_unbox_integer(tmpMeta154);
          _var = tmp4_1;
          _cr = tmpMeta146;
          _ty = tmpMeta147;
          _vars = tmpMeta148;
          _fixvars = tmpMeta149;
          _eqns = tmpMeta150;
          _stateSetFixCounts = tmpMeta151;
          _hs = tmpMeta152;
          _allPrimaryParameters = tmpMeta153;
          _datarecon = tmp155  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp156 = omc_BackendVariable_varFixed(threadData, _var);
          if (1 /* true */ != tmp156) goto goto_2;

          if(_datarecon)
          {
            _isInput = omc_Initialization_checkComponentNames(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 4))), _cr);
          }
          else
          {
            _isInput = omc_BackendVariable_isVarOnTopLevelAndInput(threadData, _var);
          }

          _preUsed = omc_BaseHashSet_has(threadData, _cr, _hs);

          omc_Expression_crefExp(threadData, _cr);

          _startCR = omc_ComponentReference_crefPrefixStart(threadData, _cr);

          _startVar = omc_BackendVariable_copyVarNewName(threadData, _startCR, _var);

          _startVar = omc_BackendVariable_setBindExp(threadData, _startVar, mmc_mk_none());

          _startVar = omc_BackendVariable_setVarDirection(threadData, _startVar, _OMC_LIT13);

          _startVar = omc_BackendVariable_setVarFixed(threadData, _startVar, 0 /* false */);

          _startVar = omc_BackendVariable_setVarKind(threadData, _startVar, _OMC_LIT12);

          _startVar = omc_BackendVariable_setVarStartValueOption(threadData, _startVar, mmc_mk_none());

          _startExp = omc_BackendVariable_varStartValue(threadData, _var);

          _parameters = omc_Expression_getAllCrefs(threadData, _startExp);

          {
            modelica_boolean __omcQ_24tmpVar27;
            modelica_boolean __omcQ_24tmpVar26;
            modelica_integer tmp158;
            modelica_metatype _p_loopVar = 0;
            modelica_metatype _p;
            _p_loopVar = _parameters;
            __omcQ_24tmpVar27 = 1 /* true */; /* defaultValue */
            while(1) {
              tmp158 = 1;
              if (!listEmpty(_p_loopVar)) {
                _p = MMC_CAR(_p_loopVar);
                _p_loopVar = MMC_CDR(_p_loopVar);
                tmp158--;
              }
              if (tmp158 == 0) {
                __omcQ_24tmpVar26 = omc_AvlSetCR_hasKey(threadData, _allPrimaryParameters, _p);
                __omcQ_24tmpVar27 = (__omcQ_24tmpVar26 && __omcQ_24tmpVar27);
              } else if (tmp158 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            tmp157 = __omcQ_24tmpVar27;
          }
          if((!tmp157))
          {
            tmpMeta159 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, omc_Expression_crefExp(threadData, _startCR), _startExp, _OMC_LIT20, _OMC_LIT5);
            _eqn = tmpMeta159;

            _eqns = omc_BackendEquation_add(threadData, _eqn, _eqns);

            _vars = omc_BackendVariable_addVar(threadData, _startVar, _vars);
          }

          _var = omc_BackendVariable_setVarFixed(threadData, _var, 0 /* false */);

          _preCR = omc_ComponentReference_crefPrefixPre(threadData, _cr);

          _preVar = omc_BackendVariable_copyVarNewName(threadData, _preCR, _var);

          _preVar = omc_BackendVariable_setVarDirection(threadData, _preVar, _OMC_LIT13);

          _preVar = omc_BackendVariable_setBindExp(threadData, _preVar, mmc_mk_none());

          _preVar = omc_BackendVariable_setVarFixed(threadData, _preVar, 1 /* true */);

          tmpMeta160 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
          _preVar = omc_BackendVariable_setVarStartValueOption(threadData, _preVar, mmc_mk_some(tmpMeta160));

          if(omc_Expression_isConstValue(threadData, _startExp))
          {
            tmpMeta161 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
            tmpMeta162 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, tmpMeta161, omc_Expression_crefExp(threadData, _startCR), _OMC_LIT20, _OMC_LIT5);
            _eqn = tmpMeta162;
          }
          else
          {
            tmpMeta163 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
            tmpMeta164 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, tmpMeta163, _startExp, _OMC_LIT20, _OMC_LIT5);
            _eqn = tmpMeta164;
          }

          _vars = ((!_isInput)?omc_BackendVariable_addVar(threadData, _var, _vars):_vars);

          _fixvars = (_isInput?omc_BackendVariable_addVar(threadData, _var, _fixvars):_fixvars);

          _vars = (_preUsed?omc_BackendVariable_addVar(threadData, _preVar, _vars):_vars);

          _eqns = omc_BackendEquation_add(threadData, _eqn, _eqns);
          tmpMeta165 = mmc_mk_box7(0, _vars, _fixvars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta165;
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta166;
          modelica_metatype tmpMeta167;
          modelica_metatype tmpMeta168;
          modelica_metatype tmpMeta169;
          modelica_metatype tmpMeta170;
          modelica_metatype tmpMeta171;
          modelica_metatype tmpMeta172;
          modelica_metatype tmpMeta173;
          modelica_metatype tmpMeta174;
          modelica_integer tmp175;
          modelica_boolean tmp176;
          modelica_boolean tmp177;
          modelica_metatype tmpMeta179;
          modelica_metatype tmpMeta180;
          modelica_metatype tmpMeta181;
          modelica_metatype tmpMeta182;
          modelica_metatype tmpMeta183;
          modelica_metatype tmpMeta184;
          modelica_metatype tmpMeta185;
          modelica_metatype tmpMeta186;
          tmpMeta166 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta167 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta168 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta169 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta170 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta171 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          tmpMeta172 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 5));
          tmpMeta173 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
          tmpMeta174 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 7));
          tmp175 = mmc_unbox_integer(tmpMeta174);
          _var = tmp4_1;
          _cr = tmpMeta166;
          _ty = tmpMeta167;
          _vars = tmpMeta168;
          _fixvars = tmpMeta169;
          _eqns = tmpMeta170;
          _stateSetFixCounts = tmpMeta171;
          _hs = tmpMeta172;
          _allPrimaryParameters = tmpMeta173;
          _datarecon = tmp175  /* pattern as ty=Boolean */;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp176 = omc_BackendVariable_varFixed(threadData, _var);
          if (0 /* false */ != tmp176) goto goto_2;

          if(_datarecon)
          {
            _isInput = omc_Initialization_checkComponentNames(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_var), 4))), _cr);
          }
          else
          {
            _isInput = omc_BackendVariable_isVarOnTopLevelAndInput(threadData, _var);
          }

          _preUsed = omc_BaseHashSet_has(threadData, _cr, _hs);

          omc_Expression_crefExp(threadData, _cr);

          _startCR = omc_ComponentReference_crefPrefixStart(threadData, _cr);

          _startVar = omc_BackendVariable_copyVarNewName(threadData, _startCR, _var);

          _startVar = omc_BackendVariable_setBindExp(threadData, _startVar, mmc_mk_none());

          _startVar = omc_BackendVariable_setVarDirection(threadData, _startVar, _OMC_LIT13);

          _startVar = omc_BackendVariable_setVarFixed(threadData, _startVar, 0 /* false */);

          _startVar = omc_BackendVariable_setVarKind(threadData, _startVar, _OMC_LIT12);

          _startVar = omc_BackendVariable_setVarStartValueOption(threadData, _startVar, mmc_mk_none());

          _startExp = omc_BackendVariable_varStartValue(threadData, _var);

          _parameters = omc_Expression_getAllCrefs(threadData, _startExp);

          {
            modelica_boolean __omcQ_24tmpVar29;
            modelica_boolean __omcQ_24tmpVar28;
            modelica_integer tmp178;
            modelica_metatype _p_loopVar = 0;
            modelica_metatype _p;
            _p_loopVar = _parameters;
            __omcQ_24tmpVar29 = 1 /* true */; /* defaultValue */
            while(1) {
              tmp178 = 1;
              if (!listEmpty(_p_loopVar)) {
                _p = MMC_CAR(_p_loopVar);
                _p_loopVar = MMC_CDR(_p_loopVar);
                tmp178--;
              }
              if (tmp178 == 0) {
                __omcQ_24tmpVar28 = omc_AvlSetCR_hasKey(threadData, _allPrimaryParameters, _p);
                __omcQ_24tmpVar29 = (__omcQ_24tmpVar28 && __omcQ_24tmpVar29);
              } else if (tmp178 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            tmp177 = __omcQ_24tmpVar29;
          }
          if((!tmp177))
          {
            tmpMeta179 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, omc_Expression_crefExp(threadData, _startCR), _startExp, _OMC_LIT20, _OMC_LIT5);
            _eqn = tmpMeta179;

            _eqns = omc_BackendEquation_add(threadData, _eqn, _eqns);

            _vars = omc_BackendVariable_addVar(threadData, _startVar, _vars);
          }

          _preCR = omc_ComponentReference_crefPrefixPre(threadData, _cr);

          _preVar = omc_BackendVariable_copyVarNewName(threadData, _preCR, _var);

          _preVar = omc_BackendVariable_setVarDirection(threadData, _preVar, _OMC_LIT13);

          _preVar = omc_BackendVariable_setBindExp(threadData, _preVar, mmc_mk_none());

          _preVar = omc_BackendVariable_setVarFixed(threadData, _preVar, 1 /* true */);

          tmpMeta180 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
          _preVar = omc_BackendVariable_setVarStartValueOption(threadData, _preVar, mmc_mk_some(tmpMeta180));

          if(omc_Expression_isConstValue(threadData, _startExp))
          {
            tmpMeta181 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _preCR, _ty);
            tmpMeta182 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
            tmpMeta183 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, tmpMeta181, tmpMeta182, _OMC_LIT20, _OMC_LIT5);
            _eqn = tmpMeta183;
          }
          else
          {
            tmpMeta184 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _preCR, _ty);
            tmpMeta185 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, tmpMeta184, _startExp, _OMC_LIT20, _OMC_LIT5);
            _eqn = tmpMeta185;
          }

          _vars = ((!_isInput)?omc_BackendVariable_addVar(threadData, _var, _vars):_vars);

          _fixvars = (_isInput?omc_BackendVariable_addVar(threadData, _var, _fixvars):_fixvars);

          _vars = (_preUsed?omc_BackendVariable_addVar(threadData, _preVar, _vars):_vars);

          _eqns = (_preUsed?omc_BackendEquation_add(threadData, _eqn, _eqns):_eqns);
          tmpMeta186 = mmc_mk_box7(0, _vars, _fixvars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta186;
          goto tmp3_done;
        }
        case 12: {
          modelica_metatype tmpMeta187;
          
          /* Pattern matching succeeded */
          tmpMeta187 = stringAppend(_OMC_LIT94,omc_BackendDump_varString(threadData, _inVar));
          omc_Error_addInternalError(threadData, tmpMeta187, _OMC_LIT95);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 13) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVar = tmpMeta[0+0];
  _outTpl = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outVar;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialStateSets(threadData_t *threadData, modelica_metatype _stateSets, modelica_metatype _stateSetFixCounts, modelica_metatype _iVars, modelica_metatype _iEqns, modelica_metatype *out_oEqns)
{
  modelica_metatype _oVars = NULL;
  modelica_metatype _oEqns = NULL;
  modelica_metatype _stateSet = NULL;
  modelica_metatype _eqn = NULL;
  modelica_metatype _Feqn = NULL;
  modelica_metatype _initEqn = NULL;
  modelica_metatype _lhs = NULL;
  modelica_metatype _rhs = NULL;
  modelica_metatype _exp = NULL;
  modelica_metatype _expcrF = NULL;
  modelica_metatype _expInitset = NULL;
  modelica_metatype _mulFstates = NULL;
  modelica_metatype _expLst = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _expcrstates = NULL;
  modelica_metatype _expcrInitset = NULL;
  modelica_metatype _crLst = NULL;
  modelica_metatype _crInitSet = NULL;
  modelica_metatype _set = NULL;
  modelica_metatype _crF = NULL;
  modelica_metatype _crInitStates = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype _fixState = NULL;
  modelica_metatype _statesToFix = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype _unfixedStates = NULL;
  modelica_metatype tmpMeta3;
  modelica_metatype _VarsF = NULL;
  modelica_metatype _oInitSetVars = NULL;
  modelica_metatype _tp = NULL;
  modelica_metatype _tyExpCrStates = NULL;
  modelica_integer _toFix;
  modelica_integer _setsize;
  modelica_integer _nCandidates;
  modelica_metatype _recordSize = NULL;
  modelica_boolean _b;
  modelica_metatype _op = NULL;
  modelica_metatype _source = NULL;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta20;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta22;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  modelica_metatype tmpMeta25;
  modelica_metatype tmpMeta26;
  modelica_metatype tmpMeta27;
  modelica_metatype tmpMeta28;
  modelica_metatype tmpMeta29;
  modelica_metatype tmpMeta30;
  modelica_metatype tmpMeta31;
  modelica_metatype tmpMeta32;
  modelica_metatype tmpMeta33;
  modelica_metatype tmpMeta34;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _oVars has no default value.
  // _oEqns has no default value.
  // _stateSet has no default value.
  // _eqn has no default value.
  // _Feqn has no default value.
  // _initEqn has no default value.
  // _lhs has no default value.
  // _rhs has no default value.
  // _exp has no default value.
  // _expcrF has no default value.
  // _expInitset has no default value.
  // _mulFstates has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _expLst = tmpMeta1;
  // _expcrstates has no default value.
  // _expcrInitset has no default value.
  // _crLst has no default value.
  // _crInitSet has no default value.
  // _set has no default value.
  // _crF has no default value.
  // _crInitStates has no default value.
  // _var has no default value.
  // _fixState has no default value.
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _statesToFix = tmpMeta2;
  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  _unfixedStates = tmpMeta3;
  // _VarsF has no default value.
  // _oInitSetVars has no default value.
  // _tp has no default value.
  // _tyExpCrStates has no default value.
  // _toFix has no default value.
  // _setsize has no default value.
  // _nCandidates has no default value.
  // _recordSize has no default value.
  // _b has no default value.
  // _op has no default value.
  // _source has no default value.
  /* Pattern-matching assignment */
  tmpMeta4 = mmc_mk_box2(0, _iVars, _iEqns);
  tmpMeta5 = tmpMeta4;
  tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 1));
  tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
  _oVars = tmpMeta6;
  _oEqns = tmpMeta7;

  {
    modelica_metatype _stateSet;
    for (tmpMeta8 = _stateSets; !listEmpty(tmpMeta8); tmpMeta8=MMC_CDR(tmpMeta8))
    {
      _stateSet = MMC_CAR(tmpMeta8);
      _oVars = omc_BackendVariable_addVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 6))), _oVars);

      _lhs = omc_Expression_crefToExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 5))));

      _tp = omc_ComponentReference_crefTypeFull(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 5))));

      _tp = omc_DAEUtil_expTypeElementType(threadData, _tp);

      if(omc_DAEUtil_expTypeComplex(threadData, _tp))
      {
        _recordSize = mmc_mk_some(mmc_mk_integer(omc_Expression_sizeOf(threadData, _tp)));
      }
      else
      {
        _recordSize = mmc_mk_none();
      }

      tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
      _expLst = tmpMeta9;

      _crLst = omc_SymbolicJacobian_getJacobianDependencies(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 13))));

      {
        modelica_metatype __omcQ_24tmpVar31;
        modelica_metatype* tmp11;
        modelica_metatype tmpMeta12;
        modelica_metatype __omcQ_24tmpVar30;
        modelica_integer tmp13;
        modelica_metatype _cr_loopVar = 0;
        modelica_metatype _cr;
        _cr_loopVar = _crLst;
        tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
        __omcQ_24tmpVar31 = tmpMeta12; /* defaultValue */
        tmp11 = &__omcQ_24tmpVar31;
        while(1) {
          tmp13 = 1;
          if (!listEmpty(_cr_loopVar)) {
            _cr = MMC_CAR(_cr_loopVar);
            _cr_loopVar = MMC_CDR(_cr_loopVar);
            tmp13--;
          }
          if (tmp13 == 0) {
            __omcQ_24tmpVar30 = omc_Expression_crefToExp(threadData, _cr);
            *tmp11 = mmc_mk_cons(__omcQ_24tmpVar30,0);
            tmp11 = &MMC_CDR(*tmp11);
          } else if (tmp13 == 1) {
            break;
          } else {
            MMC_THROW_INTERNAL();
          }
        }
        *tmp11 = mmc_mk_nil();
        tmpMeta10 = __omcQ_24tmpVar31;
      }
      _expLst = tmpMeta10;

      tmpMeta15 = mmc_mk_box2(3, &DAE_Exp_ICONST__desc, mmc_mk_integer(((modelica_integer) -1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 2))))));
      tmpMeta14 = mmc_mk_cons(tmpMeta15, _expLst);
      _expLst = tmpMeta14;

      tmpMeta16 = mmc_mk_box4(16, &DAE_Exp_CALL__desc, _OMC_LIT97, _expLst, _OMC_LIT101);
      _rhs = tmpMeta16;

      tmpMeta17 = mmc_mk_cons(mmc_mk_integer(listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 6))))), MMC_REFSTRUCTLIT(mmc_nil));
      tmpMeta18 = mmc_mk_box7(4, &BackendDAE_Equation_ARRAY__EQUATION__desc, tmpMeta17, _lhs, _rhs, _OMC_LIT20, _OMC_LIT5, _recordSize);
      _eqn = tmpMeta18;

      _oEqns = omc_ExpandableArray_add(threadData, _eqn, _oEqns, NULL);

      if((omc_Flags_isSet(threadData, _OMC_LIT106) || omc_Flags_isSet(threadData, _OMC_LIT110)))
      {
        tmpMeta19 = mmc_mk_cons(_eqn, MMC_REFSTRUCTLIT(mmc_nil));
        omc_BackendDump_dumpEquationList(threadData, tmpMeta19, _OMC_LIT102);
      }

      if(((arrayLength(_stateSetFixCounts) >= mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 2))))) && (mmc_unbox_integer(arrayGet(_stateSetFixCounts, mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 2)))))) > ((modelica_integer) 0))))
      {
        tmpMeta20 = MMC_REFSTRUCTLIT(mmc_nil);
        _unfixedStates = tmpMeta20;

        {
          modelica_metatype _state;
          for (tmpMeta21 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 7))); !listEmpty(tmpMeta21); tmpMeta21=MMC_CDR(tmpMeta21))
          {
            _state = MMC_CAR(tmpMeta21);
            if((!omc_BackendVariable_varFixed(threadData, _state)))
            {
              tmpMeta22 = mmc_mk_cons(_state, _unfixedStates);
              _unfixedStates = tmpMeta22;
            }
          }
        }

        _toFix = mmc_unbox_integer(arrayGet(_stateSetFixCounts, mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 2))))));

        tmpMeta24 = MMC_REFSTRUCTLIT(mmc_nil);
        _statesToFix = tmpMeta24;

        _statesToFix = omc_SymbolicJacobian_getFixedStatesForSelfdependentSets(threadData, _stateSet, _unfixedStates, _toFix);

        {
          modelica_metatype _state;
          for (tmpMeta25 = _statesToFix; !listEmpty(tmpMeta25); tmpMeta25=MMC_CDR(tmpMeta25))
          {
            _state = MMC_CAR(tmpMeta25);
            _lhs = omc_Expression_crefToExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 2))));

            _rhs = omc_IndexReduction_makeStartExp(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_state), 2))));

            tmpMeta26 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _lhs, _rhs, _OMC_LIT20, _OMC_LIT5);
            _initEqn = tmpMeta26;

            _oEqns = omc_ExpandableArray_add(threadData, _initEqn, _oEqns, NULL);
          }
        }

        if((omc_Flags_isSet(threadData, _OMC_LIT106) || omc_Flags_isSet(threadData, _OMC_LIT110)))
        {
          tmpMeta28 = stringAppend(_OMC_LIT111,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 2))))));
          tmpMeta29 = stringAppend(tmpMeta28,_OMC_LIT112);
          fputs(MMC_STRINGDATA(tmpMeta29),stdout);

          fputs(MMC_STRINGDATA(_OMC_LIT113),stdout);

          tmpMeta30 = stringAppend(_OMC_LIT114,intString(_toFix));
          tmpMeta31 = stringAppend(tmpMeta30,_OMC_LIT115);
          fputs(MMC_STRINGDATA(tmpMeta31),stdout);

          tmpMeta32 = stringAppend(_OMC_LIT116,intString(listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_stateSet), 7)))) - _toFix));
          tmpMeta33 = stringAppend(tmpMeta32,_OMC_LIT115);
          fputs(MMC_STRINGDATA(tmpMeta33),stdout);

          omc_BackendDump_dumpVarList(threadData, _statesToFix, _OMC_LIT117);
        }
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_oEqns) { *out_oEqns = _oEqns; }
  return _oVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectInitialVarsEqnsSystem(threadData_t *threadData, modelica_metatype _eqSystems, modelica_metatype __omcQ_24in_5Fvars, modelica_metatype __omcQ_24in_5FfixVars, modelica_metatype __omcQ_24in_5Feqns, modelica_metatype __omcQ_24in_5FreEqns, modelica_metatype _hs, modelica_metatype _allPrimaryParams, modelica_boolean _datareconFlag, modelica_metatype *out_fixVars, modelica_metatype *out_eqns, modelica_metatype *out_reEqns)
{
  modelica_metatype _vars = NULL;
  modelica_metatype _fixVars = NULL;
  modelica_metatype _eqns = NULL;
  modelica_metatype _reEqns = NULL;
  modelica_metatype _stateSetFixCounts = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta21;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _vars = __omcQ_24in_5Fvars;
  _fixVars = __omcQ_24in_5FfixVars;
  _eqns = __omcQ_24in_5Feqns;
  _reEqns = __omcQ_24in_5FreEqns;
  // _stateSetFixCounts has no default value.
  {
    modelica_metatype _eq;
    for (tmpMeta1 = _eqSystems; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _eq = MMC_CAR(tmpMeta1);
      { /* match expression */
        modelica_metatype tmp4_1;
        tmp4_1 = _eq;
        {
          volatile mmc_switch_type tmp4;
          int tmp5;
          tmp4 = 0;
          for (; tmp4 < 2; tmp4++) {
            switch (MMC_SWITCH_CAST(tmp4)) {
            case 0: {
              modelica_metatype tmpMeta6;
              modelica_metatype tmpMeta7;
              modelica_metatype tmpMeta8;
              modelica_metatype tmpMeta9;
              modelica_metatype tmpMeta10;
              tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
              if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
              
              /* Pattern matching succeeded */
              /* Pattern-matching assignment */
              tmpMeta7 = mmc_mk_box2(0, _vars, _eqns);
              tmpMeta8 = omc_BackendVariable_traverseBackendDAEVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 2))), boxvar_Initialization_collectInitialClockedVarsEqns, tmpMeta7);
              tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
              tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
              _vars = tmpMeta9;
              _eqns = tmpMeta10;
              goto tmp3_done;
            }
            case 1: {
              modelica_metatype tmpMeta11;
              modelica_metatype tmpMeta12;
              modelica_metatype tmpMeta13;
              modelica_metatype tmpMeta14;
              modelica_metatype tmpMeta15;
              modelica_metatype tmpMeta16;
              modelica_metatype tmpMeta17;
              modelica_metatype tmpMeta18;
              modelica_metatype tmpMeta19;
              modelica_metatype tmpMeta20;
              
              /* Pattern matching succeeded */
              _stateSetFixCounts = arrayCreate(listLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 8)))), mmc_mk_integer(((modelica_integer) 0)));

              /* Pattern-matching assignment */
              tmpMeta11 = mmc_mk_box7(0, _vars, _fixVars, _eqns, _stateSetFixCounts, _hs, _allPrimaryParams, mmc_mk_boolean(_datareconFlag));
              tmpMeta12 = omc_BackendVariable_traverseBackendDAEVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 2))), boxvar_Initialization_collectInitialVars, tmpMeta11);
              tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 1));
              tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 2));
              tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 3));
              tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta12), 4));
              _vars = tmpMeta13;
              _fixVars = tmpMeta14;
              _eqns = tmpMeta15;
              _stateSetFixCounts = tmpMeta16;

              /* Pattern-matching assignment */
              tmpMeta17 = mmc_mk_box2(0, _eqns, _reEqns);
              tmpMeta18 = omc_BackendEquation_traverseEquationArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 3))), boxvar_Initialization_collectInitialEqns, tmpMeta17);
              tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 1));
              tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 2));
              _eqns = tmpMeta19;
              _reEqns = tmpMeta20;

              if(omc_Flags_getConfigBool(threadData, _OMC_LIT28))
              {
                _vars = omc_Initialization_collectInitialStateSets(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_eq), 8))), _stateSetFixCounts, _vars, _eqns ,&_eqns);
              }

              omc_GCExt_free(threadData, _stateSetFixCounts);
              goto tmp3_done;
            }
            }
            goto tmp3_end;
            tmp3_end: ;
          }
          goto goto_2;
          goto_2:;
          MMC_THROW_INTERNAL();
          goto tmp3_done;
          tmp3_done:;
        }
      }
      ;
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_fixVars) { *out_fixVars = _fixVars; }
  if (out_eqns) { *out_eqns = _eqns; }
  if (out_reEqns) { *out_reEqns = _reEqns; }
  return _vars;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_collectInitialVarsEqnsSystem(threadData_t *threadData, modelica_metatype _eqSystems, modelica_metatype __omcQ_24in_5Fvars, modelica_metatype __omcQ_24in_5FfixVars, modelica_metatype __omcQ_24in_5Feqns, modelica_metatype __omcQ_24in_5FreEqns, modelica_metatype _hs, modelica_metatype _allPrimaryParams, modelica_metatype _datareconFlag, modelica_metatype *out_fixVars, modelica_metatype *out_eqns, modelica_metatype *out_reEqns)
{
  modelica_integer tmp1;
  modelica_metatype _vars = NULL;
  tmp1 = mmc_unbox_integer(_datareconFlag);
  _vars = omc_Initialization_collectInitialVarsEqnsSystem(threadData, _eqSystems, __omcQ_24in_5Fvars, __omcQ_24in_5FfixVars, __omcQ_24in_5Feqns, __omcQ_24in_5FreEqns, _hs, _allPrimaryParams, tmp1, out_fixVars, out_eqns, out_reEqns);
  /* skip box _vars; BackendDAE.Variables */
  /* skip box _fixVars; BackendDAE.Variables */
  /* skip box _eqns; ExpandableArray<BackendDAE.Equation> */
  /* skip box _reEqns; ExpandableArray<BackendDAE.Equation> */
  return _vars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_introducePreVarsForAliasVariables(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inTpl, modelica_metatype *out_outTpl)
{
  modelica_metatype _outVar = NULL;
  modelica_metatype _outTpl = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVar has no default value.
  // _outTpl has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inVar;
    tmp4_2 = _inTpl;
    {
      modelica_metatype _var = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _ty = NULL;
      modelica_metatype _arryDim = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _fixvars = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _hs = NULL;
      modelica_boolean _preUsed;
      modelica_boolean _isFixed;
      modelica_metatype _startValue = NULL;
      modelica_metatype _preCR = NULL;
      modelica_metatype _preVar = NULL;
      modelica_metatype _eqn = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _var has no default value.
      // _cr has no default value.
      // _ty has no default value.
      // _arryDim has no default value.
      // _vars has no default value.
      // _fixvars has no default value.
      // _eqns has no default value.
      // _hs has no default value.
      // _preUsed has no default value.
      // _isFixed has no default value.
      // _startValue has no default value.
      // _preCR has no default value.
      // _preVar has no default value.
      // _eqn has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,6,0) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          _var = tmp4_1;
          _cr = tmpMeta6;
          _ty = tmpMeta8;
          _arryDim = tmpMeta9;
          _vars = tmpMeta10;
          _fixvars = tmpMeta11;
          _eqns = tmpMeta12;
          _hs = tmpMeta13;
          /* Pattern matching succeeded */
          _preUsed = omc_BaseHashSet_has(threadData, _cr, _hs);

          _isFixed = omc_BackendVariable_varFixed(threadData, _var);

          _startValue = omc_BackendVariable_varStartValue(threadData, _var);

          _preCR = omc_ComponentReference_crefPrefixPre(threadData, _cr);

          tmpMeta14 = mmc_mk_box19(3, &BackendDAE_Var_VAR__desc, _preCR, _OMC_LIT118, _OMC_LIT13, _OMC_LIT119, _ty, mmc_mk_none(), mmc_mk_none(), _arryDim, _OMC_LIT20, mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), _OMC_LIT120, _OMC_LIT121, mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */));
          _preVar = tmpMeta14;

          _preVar = omc_BackendVariable_setVarFixed(threadData, _preVar, 0 /* false */);

          _preVar = omc_BackendVariable_setVarStartValueOption(threadData, _preVar, mmc_mk_some(_startValue));

          tmpMeta15 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _preCR, _ty);
          tmpMeta16 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, tmpMeta15, _startValue, _OMC_LIT20, _OMC_LIT5);
          _eqn = tmpMeta16;

          _vars = (_preUsed?omc_BackendVariable_addVar(threadData, _preVar, _vars):_vars);

          _eqns = ((_preUsed && _isFixed)?omc_BackendEquation_add(threadData, _eqn, _eqns):_eqns);
          tmpMeta17 = mmc_mk_box4(0, _vars, _fixvars, _eqns, _hs);
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta17;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 1));
          tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
          tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
          _var = tmp4_1;
          _cr = tmpMeta18;
          _ty = tmpMeta19;
          _arryDim = tmpMeta20;
          _vars = tmpMeta21;
          _fixvars = tmpMeta22;
          _eqns = tmpMeta23;
          _hs = tmpMeta24;
          /* Pattern matching succeeded */
          _preUsed = omc_BaseHashSet_has(threadData, _cr, _hs);

          _preCR = omc_ComponentReference_crefPrefixPre(threadData, _cr);

          tmpMeta25 = mmc_mk_box19(3, &BackendDAE_Var_VAR__desc, _preCR, _OMC_LIT12, _OMC_LIT13, _OMC_LIT119, _ty, mmc_mk_none(), mmc_mk_none(), _arryDim, _OMC_LIT20, mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), _OMC_LIT120, _OMC_LIT121, mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */));
          _preVar = tmpMeta25;

          _preVar = omc_BackendVariable_setVarFixed(threadData, _preVar, 0 /* false */);

          tmpMeta26 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
          _preVar = omc_BackendVariable_setVarStartValueOption(threadData, _preVar, mmc_mk_some(tmpMeta26));

          tmpMeta27 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _preCR, _ty);
          tmpMeta28 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _ty);
          tmpMeta29 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, tmpMeta27, tmpMeta28, _OMC_LIT20, _OMC_LIT5);
          _eqn = tmpMeta29;

          _vars = (_preUsed?omc_BackendVariable_addVar(threadData, _preVar, _vars):_vars);

          _eqns = (_preUsed?omc_BackendEquation_add(threadData, _eqn, _eqns):_eqns);
          tmpMeta30 = mmc_mk_box4(0, _vars, _fixvars, _eqns, _hs);
          tmpMeta[0+0] = _var;
          tmpMeta[0+1] = tmpMeta30;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inVar;
          tmpMeta[0+1] = _inTpl;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVar = tmpMeta[0+0];
  _outTpl = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outVar;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_parameterCheck2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inParams, modelica_boolean *out_outContinue, modelica_metatype *out_outParams)
{
  modelica_metatype _outExp = NULL;
  modelica_boolean _outContinue;
  modelica_metatype _outParams = NULL;
  modelica_metatype _componentRef = NULL;
  modelica_metatype _parameters = NULL;
  modelica_boolean _anyStartValue;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  modelica_boolean tmp5_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outExp = _inExp;
  // _outContinue has no default value.
  // _outParams has no default value.
  // _componentRef has no default value.
  // _parameters has no default value.
  // _anyStartValue has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inParams;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmp4 = mmc_unbox_integer(tmpMeta3);
  _parameters = tmpMeta2;
  _anyStartValue = tmp4  /* pattern as ty=Boolean */;

  
  
  { /* match expression */
    modelica_metatype tmp8_1;
    tmp8_1 = _inExp;
    {
      volatile mmc_switch_type tmp8;
      int tmp9;
      tmp8 = 0;
      for (; tmp8 < 2; tmp8++) {
        switch (MMC_SWITCH_CAST(tmp8)) {
        case 0: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp8_1,6,2) == 0) goto tmp7_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp8_1), 2));
          
          _componentRef = tmpMeta10;
          /* Pattern matching succeeded */
          if(omc_ComponentReference_isStartCref(threadData, _componentRef))
          {
            _anyStartValue = 1 /* true */;
          }
          else
          {
            tmpMeta11 = mmc_mk_cons(omc_ComponentReference_crefStr(threadData, _componentRef), _parameters);
            _parameters = tmpMeta11;
          }
          tmpMeta12 = mmc_mk_box2(0, _parameters, mmc_mk_boolean(_anyStartValue));
          tmpMeta[0+0] = tmpMeta12;
          tmp5_c1 = (!_anyStartValue);
          goto tmp7_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inParams;
          tmp5_c1 = 1 /* true */;
          goto tmp7_done;
        }
        }
        goto tmp7_end;
        tmp7_end: ;
      }
      goto goto_6;
      goto_6:;
      MMC_THROW_INTERNAL();
      goto tmp7_done;
      tmp7_done:;
    }
  }
  _outParams = tmpMeta[0+0];
  _outContinue = tmp5_c1;
  _return: OMC_LABEL_UNUSED
  if (out_outContinue) { *out_outContinue = _outContinue; }
  if (out_outParams) { *out_outParams = _outParams; }
  return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_parameterCheck2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inParams, modelica_metatype *out_outContinue, modelica_metatype *out_outParams)
{
  modelica_boolean _outContinue;
  modelica_metatype _outExp = NULL;
  _outExp = omc_Initialization_parameterCheck2(threadData, _inExp, _inParams, &_outContinue, out_outParams);
  /* skip box _outExp; DAE.Exp */
  if (out_outContinue) { *out_outContinue = mmc_mk_icon(_outContinue); }
  /* skip box _outParams; tuple<list<String>, #Boolean> */
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_parameterCheck(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean *out_outAnyStartValue)
{
  modelica_metatype _outParameters = NULL;
  modelica_boolean _outAnyStartValue;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outParameters has no default value.
  // _outAnyStartValue has no default value.
  /* Pattern-matching tuple assignment, wild first pattern */
  omc_Expression_traverseExpTopDown(threadData, _inExp, boxvar_Initialization_parameterCheck2, _OMC_LIT122, &tmpMeta1);
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmp4 = mmc_unbox_integer(tmpMeta3);
  _outParameters = tmpMeta2;
  _outAnyStartValue = tmp4  /* pattern as ty=Boolean */;
  _return: OMC_LABEL_UNUSED
  if (out_outAnyStartValue) { *out_outAnyStartValue = _outAnyStartValue; }
  return _outParameters;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_parameterCheck(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype *out_outAnyStartValue)
{
  modelica_boolean _outAnyStartValue;
  modelica_metatype _outParameters = NULL;
  _outParameters = omc_Initialization_parameterCheck(threadData, _inExp, &_outAnyStartValue);
  /* skip box _outParameters; list<String> */
  if (out_outAnyStartValue) { *out_outAnyStartValue = mmc_mk_icon(_outAnyStartValue); }
  return _outParameters;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_getConsistentEquation(threadData_t *threadData, modelica_integer _inUnassignedEqn, modelica_metatype _inEqns, modelica_metatype _inEqnsOrig, modelica_metatype _inM, modelica_metatype _vecVarToEqs, modelica_metatype _vars, modelica_metatype _shared, modelica_integer _counter, modelica_boolean *out_outConsistent, modelica_metatype *out_outRemovedEqns)
{
  modelica_metatype _outUnassignedEqns = NULL;
  modelica_boolean _outConsistent;
  modelica_metatype _outRemovedEqns = NULL;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outUnassignedEqns has no default value.
  // _outConsistent has no default value.
  // _outRemovedEqns has no default value.
  
  
  
  { /* matchcontinue expression */
    {
      modelica_integer _nVars;
      modelica_integer _nEqns;
      modelica_metatype _listVar = NULL;
      modelica_metatype _eqns = NULL;
      modelica_metatype _eqn = NULL;
      modelica_metatype _eqn2 = NULL;
      modelica_metatype _lhs = NULL;
      modelica_metatype _rhs = NULL;
      modelica_metatype _exp = NULL;
      modelica_metatype _listParameter = NULL;
      modelica_metatype _m = NULL;
      modelica_metatype _system = NULL;
      modelica_metatype _funcs = NULL;
      modelica_metatype _list_inEqns = NULL;
      modelica_boolean _anyStartValue;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _nVars has no default value.
      // _nEqns has no default value.
      // _listVar has no default value.
      // _eqns has no default value.
      // _eqn has no default value.
      // _eqn2 has no default value.
      // _lhs has no default value.
      // _rhs has no default value.
      // _exp has no default value.
      // _listParameter has no default value.
      // _m has no default value.
      // _system has no default value.
      // _funcs has no default value.
      // _list_inEqns has no default value.
      // _anyStartValue has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_boolean tmp6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_boolean tmp11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          /* Pattern matching succeeded */
          _nVars = omc_BackendVariable_varsSize(threadData, _vars);

          _nEqns = omc_BackendEquation_equationArraySize(threadData, _inEqnsOrig);

          /* Pattern-matching assignment */
          tmp6 = (_counter <= _nEqns - _nVars);
          if (1 /* true */ != tmp6) goto goto_2;

          _eqn = omc_BackendEquation_get(threadData, _inEqns, _inUnassignedEqn);

          /* Pattern-matching assignment */
          tmpMeta7 = _eqn;
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,0,4) == 0) goto goto_2;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
          _lhs = tmpMeta8;
          _rhs = tmpMeta9;

          tmpMeta10 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, _lhs, _OMC_LIT124, _rhs);
          _exp = tmpMeta10;

          _exp = omc_ExpressionSimplify_simplify(threadData, _exp, NULL);

          /* Pattern-matching assignment */
          tmp11 = omc_Expression_isZero(threadData, _exp);
          if (1 /* true */ != tmp11) goto goto_2;

          omc_BackendEquation_get(threadData, _inEqnsOrig, _inUnassignedEqn);
          tmpMeta12 = mmc_mk_cons(mmc_mk_integer(_inUnassignedEqn), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = tmpMeta12;
          tmp1_c1 = 1 /* true */;
          tmpMeta[0+2] = tmpMeta13;
          goto tmp3_done;
        }
        case 1: {
          modelica_boolean tmp14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          /* Pattern matching succeeded */
          _nVars = omc_BackendVariable_varsSize(threadData, _vars);

          _nEqns = omc_BackendEquation_equationArraySize(threadData, _inEqnsOrig);

          /* Pattern-matching assignment */
          tmp14 = (_counter > _nEqns - _nVars);
          if (1 /* true */ != tmp14) goto goto_2;

          omc_Error_addCompilerError(threadData, _OMC_LIT125);
          tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = tmpMeta15;
          tmp1_c1 = 1 /* true */;
          tmpMeta[0+2] = tmpMeta16;
          goto tmp3_done;
        }
        case 2: {
          modelica_boolean tmp17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_boolean tmp22;
          modelica_boolean tmp23;
          modelica_metatype tmpMeta24;
          modelica_boolean tmp25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          /* Pattern matching succeeded */
          _nVars = omc_BackendVariable_varsSize(threadData, _vars);

          _nEqns = omc_BackendEquation_equationArraySize(threadData, _inEqnsOrig);

          /* Pattern-matching assignment */
          tmp17 = (_counter <= _nEqns - _nVars);
          if (1 /* true */ != tmp17) goto goto_2;

          _eqn = omc_BackendEquation_get(threadData, _inEqns, _inUnassignedEqn);

          /* Pattern-matching assignment */
          tmpMeta18 = _eqn;
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta18,0,4) == 0) goto goto_2;
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 2));
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 3));
          _lhs = tmpMeta19;
          _rhs = tmpMeta20;

          tmpMeta21 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, _lhs, _OMC_LIT124, _rhs);
          _exp = tmpMeta21;

          _exp = omc_ExpressionSimplify_simplify(threadData, _exp, NULL);

          /* Pattern-matching assignment */
          tmp22 = omc_Expression_isZero(threadData, _exp);
          if (0 /* false */ != tmp22) goto goto_2;

          /* Pattern-matching tuple assignment */
          tmpMeta24 = omc_Initialization_parameterCheck(threadData, _exp, &tmp23);
          _listParameter = tmpMeta24;
          if (0 /* false */ != tmp23) goto goto_2;

          /* Pattern-matching assignment */
          tmp25 = listEmpty(_listParameter);
          if (1 /* true */ != tmp25) goto goto_2;

          _eqn2 = omc_BackendEquation_get(threadData, _inEqnsOrig, _inUnassignedEqn);

          tmpMeta26 = stringAppend(_OMC_LIT126,omc_BackendDump_equationString(threadData, _eqn2));
          tmpMeta27 = stringAppend(tmpMeta26,_OMC_LIT127);
          tmpMeta28 = stringAppend(tmpMeta27,omc_BackendDump_equationString(threadData, _eqn));
          tmpMeta29 = stringAppend(tmpMeta28,_OMC_LIT128);
          omc_Error_addCompilerError(threadData, tmpMeta29);
          tmpMeta30 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta31 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = tmpMeta30;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = tmpMeta31;
          goto tmp3_done;
        }
        case 3: {
          modelica_boolean tmp32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_boolean tmp37;
          modelica_boolean tmp38;
          modelica_metatype tmpMeta39;
          modelica_boolean tmp40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          /* Pattern matching succeeded */
          _nVars = omc_BackendVariable_varsSize(threadData, _vars);

          _nEqns = omc_BackendEquation_equationArraySize(threadData, _inEqnsOrig);

          /* Pattern-matching assignment */
          tmp32 = (_counter <= _nEqns - _nVars);
          if (1 /* true */ != tmp32) goto goto_2;

          _eqn = omc_BackendEquation_get(threadData, _inEqns, _inUnassignedEqn);

          /* Pattern-matching assignment */
          tmpMeta33 = _eqn;
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta33,0,4) == 0) goto goto_2;
          tmpMeta34 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta33), 2));
          tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta33), 3));
          _lhs = tmpMeta34;
          _rhs = tmpMeta35;

          tmpMeta36 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, _lhs, _OMC_LIT124, _rhs);
          _exp = tmpMeta36;

          _exp = omc_ExpressionSimplify_simplify(threadData, _exp, NULL);

          /* Pattern-matching assignment */
          tmp37 = omc_Expression_isZero(threadData, _exp);
          if (0 /* false */ != tmp37) goto goto_2;

          _listParameter = omc_Initialization_parameterCheck(threadData, _exp, NULL);

          /* Pattern-matching assignment */
          tmp38 = listEmpty(_listParameter);
          if (0 /* false */ != tmp38) goto goto_2;

          _list_inEqns = omc_BackendEquation_equationList(threadData, _inEqns);

          _list_inEqns = omc_List_set(threadData, _list_inEqns, _inUnassignedEqn, _eqn);

          _eqns = omc_BackendEquation_listEquation(threadData, _list_inEqns);

          _funcs = omc_BackendDAEUtil_getFunctions(threadData, _shared);

          tmpMeta39 = MMC_REFSTRUCTLIT(mmc_nil);
          _system = omc_BackendDAEUtil_createEqSystem(threadData, _vars, _eqns, tmpMeta39, _OMC_LIT129, omc_BackendEquation_emptyEqns(threadData));

          _m = omc_BackendDAEUtil_adjacencyMatrix(threadData, _system, _OMC_LIT130, mmc_mk_some(_funcs), omc_BackendDAEUtil_isInitializationDAE(threadData, _shared), NULL);

          _listVar = arrayGet(_m,_inUnassignedEqn) /* DAE.ASUB */;

          /* Pattern-matching assignment */
          tmp40 = listEmpty(_listVar);
          if (0 /* false */ != tmp40) goto goto_2;

          omc_BackendEquation_get(threadData, _inEqnsOrig, _inUnassignedEqn);

          omc_Error_addCompilerNotification(threadData, _OMC_LIT131);
          tmpMeta41 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta42 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = tmpMeta41;
          tmp1_c1 = 0 /* false */;
          tmpMeta[0+2] = tmpMeta42;
          goto tmp3_done;
        }
        case 4: {
          modelica_boolean tmp43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          modelica_boolean tmp48;
          modelica_boolean tmp49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          /* Pattern matching succeeded */
          _nVars = omc_BackendVariable_varsSize(threadData, _vars);

          _nEqns = omc_BackendEquation_equationArraySize(threadData, _inEqnsOrig);

          /* Pattern-matching assignment */
          tmp43 = (_counter <= _nEqns - _nVars);
          if (1 /* true */ != tmp43) goto goto_2;

          _eqn = omc_BackendEquation_get(threadData, _inEqns, _inUnassignedEqn);

          /* Pattern-matching assignment */
          tmpMeta44 = _eqn;
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta44,0,4) == 0) goto goto_2;
          tmpMeta45 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta44), 2));
          tmpMeta46 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta44), 3));
          _lhs = tmpMeta45;
          _rhs = tmpMeta46;

          tmpMeta47 = mmc_mk_box4(10, &DAE_Exp_BINARY__desc, _lhs, _OMC_LIT124, _rhs);
          _exp = tmpMeta47;

          _exp = omc_ExpressionSimplify_simplify(threadData, _exp, NULL);

          /* Pattern-matching assignment */
          tmp48 = omc_Expression_isZero(threadData, _exp);
          if (0 /* false */ != tmp48) goto goto_2;

          _listParameter = omc_Initialization_parameterCheck(threadData, _exp ,&_anyStartValue);

          /* Pattern-matching assignment */
          tmp49 = ((!listEmpty(_listParameter)) || _anyStartValue);
          if (1 /* true */ != tmp49) goto goto_2;

          _eqn2 = omc_BackendEquation_get(threadData, _inEqnsOrig, _inUnassignedEqn);

          tmpMeta50 = stringAppend(_OMC_LIT132,omc_BackendDump_equationString(threadData, _eqn2));
          tmpMeta51 = stringAppend(tmpMeta50,_OMC_LIT127);
          tmpMeta52 = stringAppend(tmpMeta51,omc_BackendDump_equationString(threadData, _eqn));
          tmpMeta53 = stringAppend(tmpMeta52,_OMC_LIT128);
          omc_Error_addCompilerWarning(threadData, tmpMeta53);
          tmpMeta54 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta55 = mmc_mk_cons(mmc_mk_integer(_inUnassignedEqn), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta[0+0] = tmpMeta54;
          tmp1_c1 = 1 /* true */;
          tmpMeta[0+2] = tmpMeta55;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 5) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outUnassignedEqns = tmpMeta[0+0];
  _outConsistent = tmp1_c1;
  _outRemovedEqns = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_outConsistent) { *out_outConsistent = _outConsistent; }
  if (out_outRemovedEqns) { *out_outRemovedEqns = _outRemovedEqns; }
  return _outUnassignedEqns;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_getConsistentEquation(threadData_t *threadData, modelica_metatype _inUnassignedEqn, modelica_metatype _inEqns, modelica_metatype _inEqnsOrig, modelica_metatype _inM, modelica_metatype _vecVarToEqs, modelica_metatype _vars, modelica_metatype _shared, modelica_metatype _counter, modelica_metatype *out_outConsistent, modelica_metatype *out_outRemovedEqns)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_boolean _outConsistent;
  modelica_metatype _outUnassignedEqns = NULL;
  tmp1 = mmc_unbox_integer(_inUnassignedEqn);
  tmp2 = mmc_unbox_integer(_counter);
  _outUnassignedEqns = omc_Initialization_getConsistentEquation(threadData, tmp1, _inEqns, _inEqnsOrig, _inM, _vecVarToEqs, _vars, _shared, tmp2, &_outConsistent, out_outRemovedEqns);
  /* skip box _outUnassignedEqns; list<#Integer> */
  if (out_outConsistent) { *out_outConsistent = mmc_mk_icon(_outConsistent); }
  /* skip box _outRemovedEqns; list<#Integer> */
  return _outUnassignedEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_applyVarReplacements(threadData_t *threadData, modelica_integer _inEqnIndex, modelica_metatype _inEqnList, modelica_metatype _inVarRepls)
{
  modelica_metatype _outEqnList = NULL;
  modelica_metatype _eqn = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqnList has no default value.
  // _eqn has no default value.
  _outEqnList = omc_BackendEquation_copyEquationArray(threadData, _inEqnList);

  _eqn = omc_BackendEquation_get(threadData, _outEqnList, _inEqnIndex);

  /* Pattern-matching tuple assignment */
  tmpMeta1 = mmc_mk_cons(_eqn, MMC_REFSTRUCTLIT(mmc_nil));
  tmpMeta2 = omc_BackendVarTransform_replaceEquations(threadData, tmpMeta1, _inVarRepls, mmc_mk_none(), NULL);
  if (listEmpty(tmpMeta2)) MMC_THROW_INTERNAL();
  tmpMeta3 = MMC_CAR(tmpMeta2);
  tmpMeta4 = MMC_CDR(tmpMeta2);
  if (!listEmpty(tmpMeta4)) MMC_THROW_INTERNAL();
  _eqn = tmpMeta3;

  _outEqnList = omc_BackendEquation_setAtIndex(threadData, _outEqnList, _inEqnIndex, _eqn);
  _return: OMC_LABEL_UNUSED
  return _outEqnList;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_applyVarReplacements(threadData_t *threadData, modelica_metatype _inEqnIndex, modelica_metatype _inEqnList, modelica_metatype _inVarRepls)
{
  modelica_integer tmp1;
  modelica_metatype _outEqnList = NULL;
  tmp1 = mmc_unbox_integer(_inEqnIndex);
  _outEqnList = omc_Initialization_applyVarReplacements(threadData, tmp1, _inEqnList, _inVarRepls);
  /* skip box _outEqnList; ExpandableArray<BackendDAE.Equation> */
  return _outEqnList;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_setupVarReplacements(threadData_t *threadData, modelica_metatype _inMarkedEqns, modelica_metatype _inEqns, modelica_metatype _inVars, modelica_metatype _inVecEqToVar, modelica_metatype _inRepls, modelica_metatype _inMapIncRowEqn, modelica_metatype _inME, modelica_metatype _inShared)
{
  modelica_metatype _outRepls = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outRepls has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inMarkedEqns;
    {
      modelica_integer _markedEqn;
      modelica_metatype _markedEqns = NULL;
      modelica_integer _indexVar;
      modelica_integer _indexEq;
      modelica_metatype _repls = NULL;
      modelica_metatype _var = NULL;
      modelica_metatype _varName = NULL;
      modelica_metatype _eqn = NULL;
      modelica_metatype _cref = NULL;
      modelica_metatype _type_ = NULL;
      modelica_metatype _exp = NULL;
      modelica_metatype _exp1 = NULL;
      modelica_metatype _x = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _markedEqn has no default value.
      // _markedEqns has no default value.
      // _indexVar has no default value.
      // _indexEq has no default value.
      // _repls has no default value.
      // _var has no default value.
      // _varName has no default value.
      // _eqn has no default value.
      // _cref has no default value.
      // _type_ has no default value.
      // _exp has no default value.
      // _exp1 has no default value.
      // _x has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _inRepls;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _markedEqn = tmp8  /* pattern as ty=Integer */;
          _markedEqns = tmpMeta7;
          /* Pattern matching succeeded */
          _indexVar = mmc_unbox_integer(arrayGet(_inVecEqToVar,_markedEqn) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp9 = omc_Initialization_isVarExplicitSolvable(threadData, arrayGet(_inME,_markedEqn) /* DAE.ASUB */, _indexVar);
          if (1 /* true */ != tmp9) goto goto_2;

          _var = omc_BackendVariable_getVarAt(threadData, _inVars, _indexVar);

          _indexEq = mmc_unbox_integer(arrayGet(_inMapIncRowEqn,_markedEqn) /* DAE.ASUB */);

          _eqn = omc_BackendEquation_get(threadData, _inEqns, _indexEq);

          _cref = omc_BackendVariable_varCref(threadData, _var);

          _type_ = omc_BackendVariable_varType(threadData, _var);

          tmpMeta10 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cref, _type_);
          _x = tmpMeta10;

          /* Pattern-matching assignment */
          tmpMeta11 = omc_BackendEquation_solveEquation(threadData, _eqn, _x, mmc_mk_some((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inShared), 12)))));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta11,0,4) == 0) goto goto_2;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 3));
          _eqn = tmpMeta11;
          _exp = tmpMeta12;

          _varName = omc_BackendVariable_varCref(threadData, _var);

          tmpMeta13 = mmc_mk_box2(0, _inVars, _varName);
          _exp1 = omc_Expression_traverseExpBottomUp(threadData, _exp, boxvar_BackendDAEUtil_replaceCrefsWithValues, tmpMeta13, NULL);

          _repls = omc_BackendVarTransform_addReplacement(threadData, _inRepls, _varName, _exp1, mmc_mk_none());
          tmpMeta1 = omc_Initialization_setupVarReplacements(threadData, _markedEqns, _inEqns, _inVars, _inVecEqToVar, _repls, _inMapIncRowEqn, _inME, _inShared);
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta14 = MMC_CAR(tmp4_1);
          tmpMeta15 = MMC_CDR(tmp4_1);
          _markedEqns = tmpMeta15;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_Initialization_setupVarReplacements(threadData, _markedEqns, _inEqns, _inVars, _inVecEqToVar, _inRepls, _inMapIncRowEqn, _inME, _inShared);
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outRepls = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outRepls;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_downCompsMarker(threadData_t *threadData, modelica_metatype _unassignedEqns, modelica_metatype _vecVarToEq, modelica_metatype _m, modelica_metatype _flatComps, modelica_metatype __omcQ_24in_5FinMarkedEqns, modelica_metatype _inLoopListComps)
{
  modelica_metatype _inMarkedEqns = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _inMarkedEqns = __omcQ_24in_5FinMarkedEqns;
  {
    modelica_metatype _indexUnassigned;
    for (tmpMeta1 = _unassignedEqns; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _indexUnassigned = MMC_CAR(tmpMeta1);
      if(listMember(_indexUnassigned, _inMarkedEqns))
      {
        _inMarkedEqns = omc_Initialization_compsMarker2(threadData, arrayGet(_m,mmc_unbox_integer(_indexUnassigned)) /* DAE.ASUB */, _vecVarToEq, _m, _flatComps, _inMarkedEqns, _inLoopListComps);
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _inMarkedEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_compsMarker2(threadData_t *threadData, modelica_metatype _inVarList, modelica_metatype _inVecVarToEq, modelica_metatype _inM, modelica_metatype _inFlatComps, modelica_metatype _inMarkedEqns, modelica_metatype _inLoopListComps)
{
  modelica_metatype _outMarkedEqns = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outMarkedEqns has no default value.
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inVarList;
    {
      modelica_integer _indexVar;
      modelica_integer _indexEq;
      modelica_metatype _var_list2 = NULL;
      modelica_metatype _markedEqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _indexVar has no default value.
      // _indexEq has no default value.
      // _var_list2 has no default value.
      // _markedEqns has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta1 = _inMarkedEqns;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_boolean tmp9;
          modelica_boolean tmp10;
          modelica_metatype tmpMeta11;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _indexVar = tmp8  /* pattern as ty=Integer */;
          _var_list2 = tmpMeta7;
          /* Pattern matching succeeded */
          _indexEq = mmc_unbox_integer(arrayGet(_inVecVarToEq,_indexVar) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp9 = listMember(mmc_mk_integer(_indexEq), _inLoopListComps);
          if (0 /* false */ != tmp9) goto goto_2;

          /* Pattern-matching assignment */
          tmp10 = listMember(mmc_mk_integer(_indexEq), _inMarkedEqns);
          if (0 /* false */ != tmp10) goto goto_2;

          _markedEqns = omc_Initialization_compsMarker2(threadData, _var_list2, _inVecVarToEq, _inM, _inFlatComps, _inMarkedEqns, _inLoopListComps);
          tmpMeta11 = mmc_mk_cons(mmc_mk_integer(_indexEq), _markedEqns);
          tmpMeta1 = tmpMeta11;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_integer tmp14;
          modelica_boolean tmp15;
          modelica_boolean tmp16;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta12 = MMC_CAR(tmp4_1);
          tmpMeta13 = MMC_CDR(tmp4_1);
          tmp14 = mmc_unbox_integer(tmpMeta12);
          _indexVar = tmp14  /* pattern as ty=Integer */;
          _var_list2 = tmpMeta13;
          /* Pattern matching succeeded */
          _indexEq = mmc_unbox_integer(arrayGet(_inVecVarToEq,_indexVar) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmp15 = listMember(mmc_mk_integer(_indexEq), _inLoopListComps);
          if (0 /* false */ != tmp15) goto goto_2;

          /* Pattern-matching assignment */
          tmp16 = listMember(mmc_mk_integer(_indexEq), _inMarkedEqns);
          if (1 /* true */ != tmp16) goto goto_2;
          tmpMeta1 = omc_Initialization_compsMarker2(threadData, _var_list2, _inVecVarToEq, _inM, _inFlatComps, _inMarkedEqns, _inLoopListComps);
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addCompilerNotification(threadData, _OMC_LIT131);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 4) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outMarkedEqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outMarkedEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_compsMarker(threadData_t *threadData, modelica_integer _inUnassignedEqn, modelica_metatype _inVecVarToEq, modelica_metatype _inM, modelica_metatype _inFlatComps, modelica_metatype _inLoopListComps)
{
  modelica_metatype _outMarkedEqns = NULL;
  modelica_metatype _varList = NULL;
  modelica_metatype _markedEqns = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outMarkedEqns has no default value.
  // _varList has no default value.
  // _markedEqns has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_boolean tmp5;
          modelica_metatype tmpMeta6;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp5 = listMember(mmc_mk_integer(_inUnassignedEqn), _inLoopListComps);
          if (0 /* false */ != tmp5) goto goto_1;

          _varList = arrayGet(_inM,_inUnassignedEqn) /* DAE.ASUB */;

          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          _markedEqns = omc_Initialization_compsMarker2(threadData, _varList, _inVecVarToEq, _inM, _inFlatComps, tmpMeta6, _inLoopListComps);

          _outMarkedEqns = omc_Initialization_downCompsMarker(threadData, listReverse(_inFlatComps), _inVecVarToEq, _inM, _inFlatComps, _markedEqns, _inLoopListComps);
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          omc_Error_addCompilerNotification(threadData, _OMC_LIT131);

          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _outMarkedEqns;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_compsMarker(threadData_t *threadData, modelica_metatype _inUnassignedEqn, modelica_metatype _inVecVarToEq, modelica_metatype _inM, modelica_metatype _inFlatComps, modelica_metatype _inLoopListComps)
{
  modelica_integer tmp1;
  modelica_metatype _outMarkedEqns = NULL;
  tmp1 = mmc_unbox_integer(_inUnassignedEqn);
  _outMarkedEqns = omc_Initialization_compsMarker(threadData, tmp1, _inVecVarToEq, _inM, _inFlatComps, _inLoopListComps);
  /* skip box _outMarkedEqns; list<#Integer> */
  return _outMarkedEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_mapListIndices(threadData_t *threadData, modelica_metatype _inListIndices, modelica_metatype _inMapping)
{
  modelica_metatype _outListIndices = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outListIndices has no default value.
  _outListIndices = omc_List_map1(threadData, _inListIndices, boxvar_Initialization_mapIndices, _inMapping);
  _return: OMC_LABEL_UNUSED
  return _outListIndices;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_mapIndices(threadData_t *threadData, modelica_metatype _inIndices, modelica_metatype _inMapping)
{
  modelica_metatype _outIndices = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outIndices has no default value.
  _outIndices = omc_List_map1(threadData, _inIndices, boxvar_Initialization_mapIndex, _inMapping);
  _return: OMC_LABEL_UNUSED
  return _outIndices;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_Initialization_mapIndex(threadData_t *threadData, modelica_integer _inIndex, modelica_metatype _inMapping)
{
  modelica_integer _outIndex;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outIndex has no default value.
  _outIndex = mmc_unbox_integer(arrayGet(_inMapping,_inIndex) /* DAE.ASUB */);
  _return: OMC_LABEL_UNUSED
  return _outIndex;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_mapIndex(threadData_t *threadData, modelica_metatype _inIndex, modelica_metatype _inMapping)
{
  modelica_integer tmp1;
  modelica_integer _outIndex;
  modelica_metatype out_outIndex;
  tmp1 = mmc_unbox_integer(_inIndex);
  _outIndex = omc_Initialization_mapIndex(threadData, tmp1, _inMapping);
  out_outIndex = mmc_mk_icon(_outIndex);
  return out_outIndex;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_splitStrongComponents(threadData_t *threadData, modelica_metatype _inComps, modelica_metatype *out_outLoopListComps)
{
  modelica_metatype _outListComps = NULL;
  modelica_metatype _outLoopListComps = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outListComps has no default value.
  // _outLoopListComps has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inComps;
    {
      modelica_integer _currIndex;
      modelica_metatype _currComp = NULL;
      modelica_metatype _listComps = NULL;
      modelica_metatype _loopListComps = NULL;
      modelica_metatype _restComps = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _currIndex has no default value.
      // _currComp has no default value.
      // _listComps has no default value.
      // _loopListComps has no default value.
      // _restComps has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = tmpMeta6;
          tmpMeta[0+1] = tmpMeta7;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_integer tmp12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmp4_1);
          tmpMeta9 = MMC_CDR(tmp4_1);
          if (listEmpty(tmpMeta8)) goto tmp3_end;
          tmpMeta10 = MMC_CAR(tmpMeta8);
          tmpMeta11 = MMC_CDR(tmpMeta8);
          tmp12 = mmc_unbox_integer(tmpMeta10);
          if (!listEmpty(tmpMeta11)) goto tmp3_end;
          _currIndex = tmp12  /* pattern as ty=Integer */;
          _restComps = tmpMeta9;
          /* Pattern matching succeeded */
          _listComps = omc_Initialization_splitStrongComponents(threadData, _restComps ,&_loopListComps);
          tmpMeta13 = mmc_mk_cons(mmc_mk_integer(_currIndex), _listComps);
          tmpMeta[0+0] = tmpMeta13;
          tmpMeta[0+1] = _loopListComps;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta14 = MMC_CAR(tmp4_1);
          tmpMeta15 = MMC_CDR(tmp4_1);
          _currComp = tmpMeta14;
          _restComps = tmpMeta15;
          /* Pattern matching succeeded */
          _listComps = omc_Initialization_splitStrongComponents(threadData, _restComps ,&_loopListComps);

          _loopListComps = listAppend(_currComp, _loopListComps);
          tmpMeta[0+0] = _listComps;
          tmpMeta[0+1] = _loopListComps;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outListComps = tmpMeta[0+0];
  _outLoopListComps = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outLoopListComps) { *out_outLoopListComps = _outLoopListComps; }
  return _outListComps;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_Initialization_isVarExplicitSolvable(threadData_t *threadData, modelica_metatype _inElem, modelica_integer _inVarID)
{
  modelica_boolean _outSolvable;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outSolvable has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inElem;
    {
      modelica_integer _id;
      modelica_metatype _elem = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _id has no default value.
      // _elem has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
          tmp9 = mmc_unbox_integer(tmpMeta8);
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,6,0) == 0) goto tmp3_end;
          
          _id = tmp9  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(_id == _inVarID)) goto tmp3_end;
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_integer tmp14;
          modelica_metatype tmpMeta15;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta11 = MMC_CAR(tmp4_1);
          tmpMeta12 = MMC_CDR(tmp4_1);
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 1));
          tmp14 = mmc_unbox_integer(tmpMeta13);
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta15,5,0) == 0) goto tmp3_end;
          
          _id = tmp14  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!(_id == _inVarID)) goto tmp3_end;
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta16 = MMC_CAR(tmp4_1);
          tmpMeta17 = MMC_CDR(tmp4_1);
          _elem = tmpMeta17;
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _inElem = _elem;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outSolvable = tmp1;
  _return: OMC_LABEL_UNUSED
  return _outSolvable;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_isVarExplicitSolvable(threadData_t *threadData, modelica_metatype _inElem, modelica_metatype _inVarID)
{
  modelica_integer tmp1;
  modelica_boolean _outSolvable;
  modelica_metatype out_outSolvable;
  tmp1 = mmc_unbox_integer(_inVarID);
  _outSolvable = omc_Initialization_isVarExplicitSolvable(threadData, _inElem, tmp1);
  out_outSolvable = mmc_mk_icon(_outSolvable);
  return out_outSolvable;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_consistencyCheck(threadData_t *threadData, modelica_metatype _inRedundantEqns, modelica_metatype _inEqns, modelica_metatype _inVars, modelica_metatype _inShared, modelica_integer _nAddVars, modelica_metatype _inM, modelica_metatype _me, modelica_metatype _vecVarToEqs, modelica_metatype _vecEqsToVar, modelica_metatype _mapIncRowEqn, modelica_metatype *out_outInconsistentEquations, modelica_metatype *out_outUncheckedEquations)
{
  modelica_metatype _outConsistentEquations = NULL;
  modelica_metatype _outInconsistentEquations = NULL;
  modelica_metatype _outUncheckedEquations = NULL;
  modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outConsistentEquations has no default value.
  // _outInconsistentEquations has no default value.
  // _outUncheckedEquations has no default value.
  
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;
    tmp4_1 = _inRedundantEqns;
    {
      modelica_metatype _outRange = NULL;
      modelica_metatype _flatComps = NULL;
      modelica_metatype _markedComps = NULL;
      modelica_metatype _outLoopListComps = NULL;
      modelica_metatype _restRedundantEqns = NULL;
      modelica_metatype _consistentEquations = NULL;
      modelica_metatype _consistentEquations2 = NULL;
      modelica_metatype _inconsistentEquations = NULL;
      modelica_metatype _uncheckedEquations = NULL;
      modelica_metatype _uncheckedEquations2 = NULL;
      modelica_integer _nEqns;
      modelica_integer _currRedundantEqn;
      modelica_integer _redundantEqn;
      modelica_metatype _comps = NULL;
      modelica_metatype _repl = NULL;
      modelica_metatype _substEqns = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _outRange has no default value.
      // _flatComps has no default value.
      // _markedComps has no default value.
      // _outLoopListComps has no default value.
      // _restRedundantEqns has no default value.
      // _consistentEquations has no default value.
      // _consistentEquations2 has no default value.
      // _inconsistentEquations has no default value.
      // _uncheckedEquations has no default value.
      // _uncheckedEquations2 has no default value.
      // _nEqns has no default value.
      // _currRedundantEqn has no default value.
      // _redundantEqn has no default value.
      // _comps has no default value.
      // _repl has no default value.
      // _substEqns has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          tmp4 += 2; /* Pattern matching succeeded; we may skip some cases if we fail */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta[0+0] = tmpMeta6;
          tmpMeta[0+1] = tmpMeta7;
          tmpMeta[0+2] = tmpMeta8;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_integer tmp11;
          modelica_boolean tmp12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmp4_1);
          tmpMeta10 = MMC_CDR(tmp4_1);
          tmp11 = mmc_unbox_integer(tmpMeta9);
          _currRedundantEqn = tmp11  /* pattern as ty=Integer */;
          _restRedundantEqns = tmpMeta10;
          /* Pattern matching succeeded */
          omc_BackendVariable_varsSize(threadData, _inVars);

          _nEqns = omc_BackendEquation_equationArraySize(threadData, _inEqns);

          _comps = omc_Sorting_Tarjan(threadData, _inM, _vecVarToEqs, _nEqns);

          _flatComps = omc_List_flatten(threadData, _comps);

          omc_Initialization_splitStrongComponents(threadData, _comps ,&_outLoopListComps);

          _redundantEqn = omc_Initialization_mapIndex(threadData, _currRedundantEqn, _mapIncRowEqn);

          _flatComps = omc_Initialization_mapIndices(threadData, _flatComps, _mapIncRowEqn);

          _outLoopListComps = omc_Initialization_mapIndices(threadData, _outLoopListComps, _mapIncRowEqn);

          _markedComps = omc_Initialization_compsMarker(threadData, _currRedundantEqn, _vecVarToEqs, _inM, _flatComps, _outLoopListComps);

          _repl = omc_BackendVarTransform_emptyReplacements(threadData);

          _repl = omc_Initialization_setupVarReplacements(threadData, _markedComps, _inEqns, _inVars, _vecEqsToVar, _repl, _mapIncRowEqn, _me, _inShared);

          _substEqns = omc_Initialization_applyVarReplacements(threadData, _redundantEqn, _inEqns, _repl);

          /* Pattern-matching tuple assignment */
          tmpMeta14 = omc_Initialization_getConsistentEquation(threadData, _redundantEqn, _substEqns, _inEqns, _inM, _vecVarToEqs, _inVars, _inShared, ((modelica_integer) 1), &tmp12, &tmpMeta13);
          _outRange = tmpMeta14;
          if (1 /* true */ != tmp12) goto goto_2;
          _uncheckedEquations = tmpMeta13;

          _consistentEquations = omc_Initialization_consistencyCheck(threadData, _restRedundantEqns, _inEqns, _inVars, _inShared, _nAddVars, _inM, _me, _vecVarToEqs, _vecEqsToVar, _mapIncRowEqn ,&_inconsistentEquations ,&_uncheckedEquations2);

          _consistentEquations2 = listAppend(_consistentEquations, _outRange);

          _uncheckedEquations2 = listAppend(_uncheckedEquations, _uncheckedEquations2);
          tmpMeta[0+0] = _consistentEquations2;
          tmpMeta[0+1] = _inconsistentEquations;
          tmpMeta[0+2] = _uncheckedEquations2;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_integer tmp17;
          modelica_metatype tmpMeta18;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta15 = MMC_CAR(tmp4_1);
          tmpMeta16 = MMC_CDR(tmp4_1);
          tmp17 = mmc_unbox_integer(tmpMeta15);
          _currRedundantEqn = tmp17  /* pattern as ty=Integer */;
          _restRedundantEqns = tmpMeta16;
          /* Pattern matching succeeded */
          _consistentEquations = omc_Initialization_consistencyCheck(threadData, _restRedundantEqns, _inEqns, _inVars, _inShared, _nAddVars, _inM, _me, _vecVarToEqs, _vecEqsToVar, _mapIncRowEqn ,&_inconsistentEquations ,&_uncheckedEquations);
          tmpMeta18 = mmc_mk_cons(mmc_mk_integer(_currRedundantEqn), _inconsistentEquations);
          tmpMeta[0+0] = _consistentEquations;
          tmpMeta[0+1] = tmpMeta18;
          tmpMeta[0+2] = _uncheckedEquations;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outConsistentEquations = tmpMeta[0+0];
  _outInconsistentEquations = tmpMeta[0+1];
  _outUncheckedEquations = tmpMeta[0+2];
  _return: OMC_LABEL_UNUSED
  if (out_outInconsistentEquations) { *out_outInconsistentEquations = _outInconsistentEquations; }
  if (out_outUncheckedEquations) { *out_outUncheckedEquations = _outUncheckedEquations; }
  return _outConsistentEquations;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_consistencyCheck(threadData_t *threadData, modelica_metatype _inRedundantEqns, modelica_metatype _inEqns, modelica_metatype _inVars, modelica_metatype _inShared, modelica_metatype _nAddVars, modelica_metatype _inM, modelica_metatype _me, modelica_metatype _vecVarToEqs, modelica_metatype _vecEqsToVar, modelica_metatype _mapIncRowEqn, modelica_metatype *out_outInconsistentEquations, modelica_metatype *out_outUncheckedEquations)
{
  modelica_integer tmp1;
  modelica_metatype _outConsistentEquations = NULL;
  tmp1 = mmc_unbox_integer(_nAddVars);
  _outConsistentEquations = omc_Initialization_consistencyCheck(threadData, _inRedundantEqns, _inEqns, _inVars, _inShared, tmp1, _inM, _me, _vecVarToEqs, _vecEqsToVar, _mapIncRowEqn, out_outInconsistentEquations, out_outUncheckedEquations);
  /* skip box _outConsistentEquations; list<#Integer> */
  /* skip box _outInconsistentEquations; list<#Integer> */
  /* skip box _outUncheckedEquations; list<#Integer> */
  return _outConsistentEquations;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_addStartValueEquations(threadData_t *threadData, modelica_metatype _inVarLst, modelica_metatype _inEqns, modelica_metatype _inDumpVars, modelica_metatype *out_outDumpVars)
{
  modelica_metatype _outEqns = NULL;
  modelica_metatype _outDumpVars = NULL;
  modelica_metatype _dumpVar = NULL;
  modelica_metatype _eqn = NULL;
  modelica_metatype _e = NULL;
  modelica_metatype _crefExp = NULL;
  modelica_metatype _startExp = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype _tp = NULL;
  modelica_boolean _isPreCref;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outEqns = _inEqns;
  _outDumpVars = _inDumpVars;
  // _dumpVar has no default value.
  // _eqn has no default value.
  // _e has no default value.
  // _crefExp has no default value.
  // _startExp has no default value.
  // _cref has no default value.
  // _tp has no default value.
  // _isPreCref has no default value.
  {
    modelica_metatype _var;
    for (tmpMeta1 = _inVarLst; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _var = MMC_CAR(tmpMeta1);
      _cref = omc_BackendVariable_varCref(threadData, _var);

      _tp = omc_BackendVariable_varType(threadData, _var);

      tmpMeta2 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cref, _tp);
      _crefExp = tmpMeta2;

      _isPreCref = omc_ComponentReference_isPreCref(threadData, _cref);

      if(_isPreCref)
      {
        _cref = omc_ComponentReference_popPreCref(threadData, _cref);
      }

      _e = omc_Expression_crefExp(threadData, _cref);

      _tp = omc_Expression_typeof(threadData, _e);

      _startExp = omc_Expression_crefExp(threadData, omc_ComponentReference_crefPrefixStart(threadData, _cref));

      tmpMeta3 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _crefExp, _startExp, _OMC_LIT20, _OMC_LIT5);
      _eqn = tmpMeta3;

      _outEqns = omc_BackendEquation_add(threadData, _eqn, _outEqns);

      if(_isPreCref)
      {
        _dumpVar = omc_BackendVariable_copyVarNewName(threadData, _cref, _var);

        _dumpVar = omc_BackendVariable_setVarFixed(threadData, _dumpVar, 1 /* true */);

        tmpMeta4 = mmc_mk_cons(_dumpVar, _outDumpVars);
        _outDumpVars = tmpMeta4;
      }
      else
      {
        _dumpVar = omc_BackendVariable_setVarFixed(threadData, _var, 1 /* true */);

        tmpMeta5 = mmc_mk_cons(_dumpVar, _outDumpVars);
        _outDumpVars = tmpMeta5;
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_outDumpVars) { *out_outDumpVars = _outDumpVars; }
  return _outEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_squareAdjacencyMatrix2(threadData_t *threadData, modelica_integer _inPos, modelica_metatype _inRange, modelica_metatype _inM)
{
  modelica_metatype _outM = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outM = _inM;
  arrayUpdate(_outM,_inPos,listAppend(arrayGet(_inM,_inPos) /* DAE.ASUB */, _inRange));
  _return: OMC_LABEL_UNUSED
  return _outM;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_squareAdjacencyMatrix2(threadData_t *threadData, modelica_metatype _inPos, modelica_metatype _inRange, modelica_metatype _inM)
{
  modelica_integer tmp1;
  modelica_metatype _outM = NULL;
  tmp1 = mmc_unbox_integer(_inPos);
  _outM = omc_Initialization_squareAdjacencyMatrix2(threadData, tmp1, _inRange, _inM);
  /* skip box _outM; array<list<#Integer>> */
  return _outM;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_fixOverDeterminedSystem(threadData_t *threadData, modelica_metatype _inM, modelica_metatype _orderedEqs, modelica_integer _inNVars, modelica_integer _inNAddVars)
{
  modelica_metatype _outM = NULL;
  modelica_metatype _newVarIndices = NULL;
  modelica_metatype _initEqsIndices = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outM has no default value.
  // _newVarIndices has no default value.
  // _initEqsIndices has no default value.
  if((_inNAddVars < ((modelica_integer) 0)))
  {
    omc_Error_addInternalError(threadData, _OMC_LIT133, _OMC_LIT134);

    MMC_THROW_INTERNAL();
  }

  if((_inNAddVars > ((modelica_integer) 0)))
  {
    _initEqsIndices = omc_Initialization_getInitEqIndices(threadData, omc_BackendEquation_equationList(threadData, _orderedEqs));

    _newVarIndices = omc_List_intRange2(threadData, ((modelica_integer) 1) + _inNVars, _inNVars + _inNAddVars);

    _outM = omc_List_fold1(threadData, _initEqsIndices, boxvar_Initialization_squareAdjacencyMatrix2, _newVarIndices, _inM);
  }
  else
  {
    _outM = _inM;
  }
  _return: OMC_LABEL_UNUSED
  return _outM;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_fixOverDeterminedSystem(threadData_t *threadData, modelica_metatype _inM, modelica_metatype _orderedEqs, modelica_metatype _inNVars, modelica_metatype _inNAddVars)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outM = NULL;
  tmp1 = mmc_unbox_integer(_inNVars);
  tmp2 = mmc_unbox_integer(_inNAddVars);
  _outM = omc_Initialization_fixOverDeterminedSystem(threadData, _inM, _orderedEqs, tmp1, tmp2);
  /* skip box _outM; array<list<#Integer>> */
  return _outM;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_squareAdjacencyMatrix1(threadData_t *threadData, modelica_integer _inPos, modelica_metatype _inDependency, modelica_metatype _inM)
{
  modelica_metatype _outM = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outM = _inM;
  arrayUpdate(_outM,_inPos,_inDependency);
  _return: OMC_LABEL_UNUSED
  return _outM;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_squareAdjacencyMatrix1(threadData_t *threadData, modelica_metatype _inPos, modelica_metatype _inDependency, modelica_metatype _inM)
{
  modelica_integer tmp1;
  modelica_metatype _outM = NULL;
  tmp1 = mmc_unbox_integer(_inPos);
  _outM = omc_Initialization_squareAdjacencyMatrix1(threadData, tmp1, _inDependency, _inM);
  /* skip box _outM; array<list<#Integer>> */
  return _outM;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_fixUnderDeterminedSystem(threadData_t *threadData, modelica_metatype _inM, modelica_metatype _inInitVarIndices, modelica_integer _inNEqns, modelica_integer _inNAddEqns)
{
  modelica_metatype _outM = NULL;
  modelica_metatype _newEqIndices = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outM has no default value.
  // _newEqIndices has no default value.
  if((_inNAddEqns < ((modelica_integer) 0)))
  {
    omc_Error_addInternalError(threadData, _OMC_LIT135, _OMC_LIT136);

    MMC_THROW_INTERNAL();
  }

  if((_inNAddEqns > ((modelica_integer) 0)))
  {
    tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
    _outM = arrayCreate(_inNEqns + _inNAddEqns, tmpMeta1);

    _outM = omc_Array_copy(threadData, _inM, _outM);

    _newEqIndices = omc_List_intRange2(threadData, ((modelica_integer) 1) + _inNEqns, _inNEqns + _inNAddEqns);

    _outM = omc_List_fold1(threadData, _newEqIndices, boxvar_Initialization_squareAdjacencyMatrix1, _inInitVarIndices, _outM);
  }
  else
  {
    _outM = arrayCopy(_inM);
  }
  _return: OMC_LABEL_UNUSED
  return _outM;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_fixUnderDeterminedSystem(threadData_t *threadData, modelica_metatype _inM, modelica_metatype _inInitVarIndices, modelica_metatype _inNEqns, modelica_metatype _inNAddEqns)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _outM = NULL;
  tmp1 = mmc_unbox_integer(_inNEqns);
  tmp2 = mmc_unbox_integer(_inNAddEqns);
  _outM = omc_Initialization_fixUnderDeterminedSystem(threadData, _inM, _inInitVarIndices, tmp1, tmp2);
  /* skip box _outM; array<list<#Integer>> */
  return _outM;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_updateFixedAttribute(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype __omcQ_24in_5Fvars, modelica_metatype *out_vars)
{
  modelica_metatype _var = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _cr = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = __omcQ_24in_5Fvar;
  _vars = __omcQ_24in_5Fvars;
  // _cr has no default value.
  _cr = omc_BackendVariable_varCref(threadData, _var);

  if(omc_BackendVariable_containsCref(threadData, _cr, _vars))
  {
    _var = omc_BackendVariable_setVarFixed(threadData, _var, 1 /* true */);
  }
  _return: OMC_LABEL_UNUSED
  if (out_vars) { *out_vars = _vars; }
  return _var;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_fixInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _inShared, modelica_integer __omcQ_24in_5Fdummy, modelica_metatype _initVars, modelica_metatype _dumpVars, modelica_metatype _removedEqns, modelica_metatype *out_outShared, modelica_integer *out_dummy)
{
  modelica_metatype _outEqSystem = NULL;
  modelica_metatype _outShared = NULL;
  modelica_integer _dummy;
  modelica_metatype _eqns2 = NULL;
  modelica_metatype _dumpVars2 = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _removedEqns2 = NULL;
  modelica_integer _nVars;
  modelica_integer _nEqns;
  modelica_integer _nInitEqs;
  modelica_integer _nAddEqs;
  modelica_integer _nAddVars;
  modelica_metatype _stateIndices = NULL;
  modelica_metatype _range = NULL;
  modelica_metatype _initEqsIndices = NULL;
  modelica_metatype _redundantEqns = NULL;
  modelica_metatype _initVarList = NULL;
  modelica_metatype _ass1 = NULL;
  modelica_metatype _ass2 = NULL;
  modelica_metatype _m = NULL;
  modelica_metatype _m_ = NULL;
  modelica_metatype _syst = NULL;
  modelica_metatype _funcs = NULL;
  modelica_metatype _me = NULL;
  modelica_metatype _mapIncRowEqn = NULL;
  modelica_boolean _perfectMatching;
  modelica_integer _maxMixedDeterminedIndex;
  modelica_metatype _eMarks = NULL;
  modelica_metatype _vMarks = NULL;
  modelica_metatype _singular_eqns_idx = NULL;
  modelica_metatype _singular_vars_idx = NULL;
  modelica_integer _overDetIndex;
  modelica_integer _underDetIndex;
  modelica_integer _scalarEqnSize;
  modelica_metatype _eq = NULL;
  modelica_boolean _debug;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_integer tmp8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta27;
  modelica_metatype tmpMeta33;
  modelica_metatype tmpMeta37;
  modelica_metatype tmpMeta38;
  modelica_metatype tmpMeta39;
  modelica_metatype tmpMeta40;
  modelica_metatype tmpMeta41;
  modelica_metatype tmpMeta42;
  modelica_metatype tmpMeta43;
  modelica_metatype tmpMeta44;
  modelica_metatype tmpMeta45;
  modelica_metatype tmpMeta46;
  modelica_metatype tmpMeta47;
  modelica_metatype tmpMeta48;
  modelica_metatype tmpMeta49;
  modelica_metatype tmpMeta50;
  modelica_metatype tmpMeta51;
  modelica_metatype tmpMeta52;
  modelica_metatype tmpMeta53;
  modelica_metatype tmpMeta54;
  modelica_metatype tmpMeta55;
  modelica_metatype tmpMeta56;
  modelica_metatype tmpMeta57;
  modelica_metatype tmpMeta58;
  modelica_metatype tmpMeta59;
  modelica_metatype tmpMeta60;
  modelica_metatype tmpMeta61;
  modelica_metatype tmpMeta62;
  modelica_metatype tmpMeta63;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqSystem has no default value.
  _outShared = _inShared;
  _dummy = __omcQ_24in_5Fdummy;
  // _eqns2 has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _dumpVars2 = tmpMeta1;
  // _removedEqns2 has no default value.
  // _nVars has no default value.
  // _nEqns has no default value.
  // _nInitEqs has no default value.
  // _nAddEqs has no default value.
  // _nAddVars has no default value.
  // _stateIndices has no default value.
  // _range has no default value.
  // _initEqsIndices has no default value.
  // _redundantEqns has no default value.
  // _initVarList has no default value.
  // _ass1 has no default value.
  // _ass2 has no default value.
  // _m has no default value.
  // _m_ has no default value.
  // _syst has no default value.
  // _funcs has no default value.
  // _me has no default value.
  // _mapIncRowEqn has no default value.
  // _perfectMatching has no default value.
  _maxMixedDeterminedIndex = modelica_integer_max((modelica_integer)(((modelica_integer) 0)),(modelica_integer)(omc_Flags_getConfigInt(threadData, _OMC_LIT141)));
  // _eMarks has no default value.
  // _vMarks has no default value.
  // _singular_eqns_idx has no default value.
  // _singular_vars_idx has no default value.
  // _overDetIndex has no default value.
  // _underDetIndex has no default value.
  // _scalarEqnSize has no default value.
  // _eq has no default value.
  _debug = 0 /* false */;
  tmp6 = ((modelica_integer) 0); tmp7 = 1; tmp8 = _maxMixedDeterminedIndex;
  if(!(((tmp7 > 0) && (tmp6 > tmp8)) || ((tmp7 < 0) && (tmp6 < tmp8))))
  {
    modelica_integer _index;
    for(_index = ((modelica_integer) 0); in_range_integer(_index, tmp6, tmp8); _index += tmp7)
    {
      _nVars = omc_BackendVariable_varsSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 2))));

      _nEqns = omc_BackendEquation_equationArraySize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 3))));

      tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
      _syst = omc_BackendDAEUtil_createEqSystem(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 3))), tmpMeta2, _OMC_LIT129, omc_BackendEquation_emptyEqns(threadData));

      _funcs = omc_BackendDAEUtil_getFunctions(threadData, _inShared);

      _m_ = omc_BackendDAEUtil_adjacencyMatrixScalar(threadData, _syst, _OMC_LIT142, mmc_mk_some(_funcs), omc_BackendDAEUtil_isInitializationDAE(threadData, _inShared) ,NULL ,NULL ,&_mapIncRowEqn);

      _stateIndices = omc_BackendVariable_getVarIndexFromVariablesIndexInFirstSet(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 2))), _initVars);

      _nAddEqs = modelica_integer_max((modelica_integer)(_nVars + _index - _nEqns),(modelica_integer)(_index));

      _m = omc_Initialization_fixUnderDeterminedSystem(threadData, _m_, _stateIndices, _nEqns, _nAddEqs);

      _nAddVars = modelica_integer_max((modelica_integer)(_nEqns + _index - _nVars),(modelica_integer)(_index));

      _m = omc_Initialization_fixOverDeterminedSystem(threadData, _m, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 3))), _nVars, _nAddVars);

      _ass1 = omc_Matching_RegularMatching(threadData, _m, _nVars + _nAddVars, _nEqns + _nAddEqs ,&_ass2 ,&_perfectMatching ,&_eMarks ,&_vMarks);

      if(_perfectMatching)
      {
        if((_index > ((modelica_integer) 0)))
        {
          tmpMeta3 = stringAppend(_OMC_LIT143,intString(_index));
          tmpMeta4 = stringAppend(tmpMeta3,_OMC_LIT144);
          omc_Error_addCompilerNotification(threadData, tmpMeta4);
        }

        if((_nAddVars > ((modelica_integer) 0)))
        {
          _range = omc_List_intRange2(threadData, ((modelica_integer) 1) + _nVars, _nVars + _nAddVars);

          _redundantEqns = omc_Initialization_mapIndices(threadData, _range, _ass1);

          _me = omc_BackendDAEUtil_getAdjacencyMatrixEnhancedScalar(threadData, _syst, _inShared, 0 /* false */, NULL, NULL, NULL);

          omc_Initialization_consistencyCheck(threadData, _redundantEqns, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 2))), _inShared, _nAddVars, _m_, _me, _ass1, _ass2, _mapIncRowEqn, NULL, NULL);

          _removedEqns2 = omc_BackendEquation_getList(threadData, _redundantEqns, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 3))));

          _eqns2 = omc_BackendEquation_deleteList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 3))), _redundantEqns);

          omc_DoubleEnded_push__list__back(threadData, _removedEqns, _removedEqns2);
        }
        else
        {
          _eqns2 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 3)));
        }

        if((_nAddEqs > ((modelica_integer) 0)))
        {
          _range = omc_List_intRange2(threadData, ((modelica_integer) 1) + _nEqns, _nEqns + _nAddEqs);

          _range = omc_Initialization_mapIndices(threadData, _range, _ass2);

          _initVarList = omc_List_map1r(threadData, _range, boxvar_BackendVariable_getVarAt, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 2))));

          tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
          _eqns2 = omc_Initialization_addStartValueEquations(threadData, _initVarList, _eqns2, tmpMeta5 ,&_dumpVars2);

          omc_DoubleEnded_push__list__back(threadData, _dumpVars, _dumpVars2);
        }

        _outEqSystem = omc_BackendDAEUtil_setEqSystEqs(threadData, _inEqSystem, _eqns2);

        goto _return;
      }
    }
  }

  if(omc_Flags_isSet(threadData, _OMC_LIT110))
  {
    {
      modelica_metatype __omcQ_24tmpVar33;
      modelica_metatype* tmp10;
      modelica_metatype tmpMeta11;
      modelica_metatype __omcQ_24tmpVar32;
      modelica_integer tmp12;
      modelica_integer tmp13;
      modelica_integer tmp14;
      modelica_integer _i;
      tmp13 = 1 /* Range step-value */;
      tmp14 = arrayLength(_ass1) /* Range stop-value */;
      _i = ((modelica_integer) 1) /* Range start-value */;
      _i = (((modelica_integer) 1) /* Range start-value */)-tmp13;
      tmpMeta11 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar33 = tmpMeta11; /* defaultValue */
      tmp10 = &__omcQ_24tmpVar33;
      while(1) {
        tmp12 = 1;
        while (tmp13 > 0 ? _i+tmp13 <= tmp14 : _i+tmp13 >= tmp14) {
          _i += tmp13;
          if ((mmc_unbox_integer(arrayGet(_ass1,_i) /* DAE.ASUB */) < ((modelica_integer) 0))) {
            tmp12--;
            break;
          }
        }
        if (tmp12 == 0) {
          __omcQ_24tmpVar32 = mmc_mk_integer(_i);
          *tmp10 = mmc_mk_cons(__omcQ_24tmpVar32,0);
          tmp10 = &MMC_CDR(*tmp10);
        } else if (tmp12 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp10 = mmc_mk_nil();
      tmpMeta9 = __omcQ_24tmpVar33;
    }
    _overDetIndex = listLength(tmpMeta9);

    {
      modelica_metatype __omcQ_24tmpVar35;
      modelica_metatype* tmp16;
      modelica_metatype tmpMeta17;
      modelica_metatype __omcQ_24tmpVar34;
      modelica_integer tmp18;
      modelica_integer tmp19;
      modelica_integer tmp20;
      modelica_integer _i;
      tmp19 = 1 /* Range step-value */;
      tmp20 = arrayLength(_ass2) /* Range stop-value */;
      _i = ((modelica_integer) 1) /* Range start-value */;
      _i = (((modelica_integer) 1) /* Range start-value */)-tmp19;
      tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar35 = tmpMeta17; /* defaultValue */
      tmp16 = &__omcQ_24tmpVar35;
      while(1) {
        tmp18 = 1;
        while (tmp19 > 0 ? _i+tmp19 <= tmp20 : _i+tmp19 >= tmp20) {
          _i += tmp19;
          if ((mmc_unbox_integer(arrayGet(_ass2,_i) /* DAE.ASUB */) < ((modelica_integer) 0))) {
            tmp18--;
            break;
          }
        }
        if (tmp18 == 0) {
          __omcQ_24tmpVar34 = mmc_mk_integer(_i);
          *tmp16 = mmc_mk_cons(__omcQ_24tmpVar34,0);
          tmp16 = &MMC_CDR(*tmp16);
        } else if (tmp18 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp16 = mmc_mk_nil();
      tmpMeta15 = __omcQ_24tmpVar35;
    }
    _underDetIndex = listLength(tmpMeta15);

    {
      modelica_metatype __omcQ_24tmpVar37;
      modelica_metatype* tmp22;
      modelica_metatype tmpMeta23;
      modelica_metatype __omcQ_24tmpVar36;
      modelica_integer tmp24;
      modelica_integer tmp25;
      modelica_integer tmp26;
      modelica_integer _i;
      tmp25 = 1 /* Range step-value */;
      tmp26 = arrayLength(_mapIncRowEqn) /* Range stop-value */;
      _i = ((modelica_integer) 1) /* Range start-value */;
      _i = (((modelica_integer) 1) /* Range start-value */)-tmp25;
      tmpMeta23 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar37 = tmpMeta23; /* defaultValue */
      tmp22 = &__omcQ_24tmpVar37;
      while(1) {
        tmp24 = 1;
        while (tmp25 > 0 ? _i+tmp25 <= tmp26 : _i+tmp25 >= tmp26) {
          _i += tmp25;
          if (mmc_unbox_boolean(arrayGet(_eMarks,_i) /* DAE.ASUB */)) {
            tmp24--;
            break;
          }
        }
        if (tmp24 == 0) {
          __omcQ_24tmpVar36 = mmc_mk_integer(_i);
          *tmp22 = mmc_mk_cons(__omcQ_24tmpVar36,0);
          tmp22 = &MMC_CDR(*tmp22);
        } else if (tmp24 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp22 = mmc_mk_nil();
      tmpMeta21 = __omcQ_24tmpVar37;
    }
    _singular_eqns_idx = tmpMeta21;

    {
      modelica_metatype __omcQ_24tmpVar39;
      modelica_metatype* tmp28;
      modelica_metatype tmpMeta29;
      modelica_metatype __omcQ_24tmpVar38;
      modelica_integer tmp30;
      modelica_integer tmp31;
      modelica_integer tmp32;
      modelica_integer _i;
      tmp31 = 1 /* Range step-value */;
      tmp32 = omc_BackendVariable_varsSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2)))) /* Range stop-value */;
      _i = ((modelica_integer) 1) /* Range start-value */;
      _i = (((modelica_integer) 1) /* Range start-value */)-tmp31;
      tmpMeta29 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar39 = tmpMeta29; /* defaultValue */
      tmp28 = &__omcQ_24tmpVar39;
      while(1) {
        tmp30 = 1;
        while (tmp31 > 0 ? _i+tmp31 <= tmp32 : _i+tmp31 >= tmp32) {
          _i += tmp31;
          if (mmc_unbox_boolean(arrayGet(_vMarks,_i) /* DAE.ASUB */)) {
            tmp30--;
            break;
          }
        }
        if (tmp30 == 0) {
          __omcQ_24tmpVar38 = mmc_mk_integer(_i);
          *tmp28 = mmc_mk_cons(__omcQ_24tmpVar38,0);
          tmp28 = &MMC_CDR(*tmp28);
        } else if (tmp30 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp28 = mmc_mk_nil();
      tmpMeta27 = __omcQ_24tmpVar39;
    }
    _singular_vars_idx = tmpMeta27;

    _scalarEqnSize = listLength(_singular_eqns_idx);

    {
      modelica_metatype __omcQ_24tmpVar41;
      modelica_metatype* tmp34;
      modelica_metatype tmpMeta35;
      modelica_metatype __omcQ_24tmpVar40;
      modelica_integer tmp36;
      modelica_metatype _i_loopVar = 0;
      modelica_metatype _i;
      _i_loopVar = _singular_eqns_idx;
      tmpMeta35 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar41 = tmpMeta35; /* defaultValue */
      tmp34 = &__omcQ_24tmpVar41;
      while(1) {
        tmp36 = 1;
        if (!listEmpty(_i_loopVar)) {
          _i = MMC_CAR(_i_loopVar);
          _i_loopVar = MMC_CDR(_i_loopVar);
          tmp36--;
        }
        if (tmp36 == 0) {
          __omcQ_24tmpVar40 = arrayGet(_mapIncRowEqn,mmc_unbox_integer(_i)) /* DAE.ASUB */;
          *tmp34 = mmc_mk_cons(__omcQ_24tmpVar40,0);
          tmp34 = &MMC_CDR(*tmp34);
        } else if (tmp36 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp34 = mmc_mk_nil();
      tmpMeta33 = __omcQ_24tmpVar41;
    }
    _singular_eqns_idx = omc_List_uniqueOnTrue(threadData, tmpMeta33, boxvar_intEq);

    fputs(MMC_STRINGDATA(_OMC_LIT145),stdout);

    tmpMeta37 = stringAppend(_OMC_LIT146,intString(_maxMixedDeterminedIndex));
    tmpMeta38 = stringAppend(tmpMeta37,_OMC_LIT147);
    fputs(MMC_STRINGDATA(tmpMeta38),stdout);

    tmpMeta39 = stringAppend(_OMC_LIT148,intString(_overDetIndex));
    tmpMeta40 = stringAppend(tmpMeta39,_OMC_LIT149);
    fputs(MMC_STRINGDATA(tmpMeta40),stdout);

    tmpMeta41 = stringAppend(_OMC_LIT150,intString(_underDetIndex));
    tmpMeta42 = stringAppend(tmpMeta41,_OMC_LIT151);
    fputs(MMC_STRINGDATA(tmpMeta42),stdout);

    tmpMeta43 = stringAppend(_OMC_LIT152,intString(_scalarEqnSize));
    tmpMeta44 = stringAppend(tmpMeta43,_OMC_LIT153);
    tmpMeta45 = stringAppend(tmpMeta44,intString(listLength(_singular_eqns_idx)));
    tmpMeta46 = stringAppend(tmpMeta45,_OMC_LIT154);
    fputs(MMC_STRINGDATA(tmpMeta46),stdout);

    {
      modelica_metatype _eqn;
      for (tmpMeta47 = _singular_eqns_idx; !listEmpty(tmpMeta47); tmpMeta47=MMC_CDR(tmpMeta47))
      {
        _eqn = MMC_CAR(tmpMeta47);
        _eq = omc_BackendEquation_get(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))), mmc_unbox_integer(arrayGet(_mapIncRowEqn,mmc_unbox_integer(_eqn)) /* DAE.ASUB */));

        tmpMeta48 = stringAppend(_OMC_LIT155,intString(mmc_unbox_integer(_eqn)));
        tmpMeta49 = stringAppend(tmpMeta48,_OMC_LIT156);
        tmpMeta50 = stringAppend(tmpMeta49,intString(omc_BackendEquation_equationSize(threadData, _eq)));
        tmpMeta51 = stringAppend(tmpMeta50,_OMC_LIT157);
        tmpMeta52 = stringAppend(tmpMeta51,omc_BackendDump_equationString(threadData, _eq));
        tmpMeta53 = stringAppend(tmpMeta52,_OMC_LIT158);
        fputs(MMC_STRINGDATA(tmpMeta53),stdout);
      }
    }

    tmpMeta55 = stringAppend(_OMC_LIT159,intString(listLength(_singular_vars_idx)));
    tmpMeta56 = stringAppend(tmpMeta55,_OMC_LIT154);
    fputs(MMC_STRINGDATA(tmpMeta56),stdout);

    {
      modelica_metatype _var;
      for (tmpMeta57 = _singular_vars_idx; !listEmpty(tmpMeta57); tmpMeta57=MMC_CDR(tmpMeta57))
      {
        _var = MMC_CAR(tmpMeta57);
        tmpMeta58 = stringAppend(_OMC_LIT155,intString(mmc_unbox_integer(_var)));
        tmpMeta59 = stringAppend(tmpMeta58,_OMC_LIT160);
        tmpMeta60 = stringAppend(tmpMeta59,omc_BackendDump_varString(threadData, omc_BackendVariable_getVarAt(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))), mmc_unbox_integer(_var))));
        tmpMeta61 = stringAppend(tmpMeta60,_OMC_LIT158);
        fputs(MMC_STRINGDATA(tmpMeta61),stdout);
      }
    }

    fputs(MMC_STRINGDATA(_OMC_LIT161),stdout);
  }

  tmpMeta63 = mmc_mk_cons(intString(_maxMixedDeterminedIndex), MMC_REFSTRUCTLIT(mmc_nil));
  omc_Error_addMessage(threadData, _OMC_LIT165, tmpMeta63);

  MMC_THROW_INTERNAL();
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  if (out_dummy) { *out_dummy = _dummy; }
  return _outEqSystem;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_fixInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _inShared, modelica_metatype __omcQ_24in_5Fdummy, modelica_metatype _initVars, modelica_metatype _dumpVars, modelica_metatype _removedEqns, modelica_metatype *out_outShared, modelica_metatype *out_dummy)
{
  modelica_integer tmp1;
  modelica_integer _dummy;
  modelica_metatype _outEqSystem = NULL;
  tmp1 = mmc_unbox_integer(__omcQ_24in_5Fdummy);
  _outEqSystem = omc_Initialization_fixInitialSystem(threadData, _inEqSystem, _inShared, tmp1, _initVars, _dumpVars, _removedEqns, out_outShared, &_dummy);
  /* skip box _outEqSystem; BackendDAE.EqSystem */
  /* skip box _outShared; BackendDAE.Shared */
  if (out_dummy) { *out_dummy = mmc_mk_icon(_dummy); }
  return _outEqSystem;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_resolveOverAndUnderconstraints(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fsyst, modelica_metatype _initVars, modelica_metatype _unfixedVars, modelica_metatype _redundantEqns, modelica_metatype _dumpVars, modelica_metatype _removedEqns)
{
  modelica_metatype _syst = NULL;
  modelica_boolean _debug;
  modelica_metatype _redundant_lst = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _failed_var_lst = NULL;
  modelica_metatype _var_lst = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype _new_eqns = NULL;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _syst = __omcQ_24in_5Fsyst;
  _debug = 0 /* false */;
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _redundant_lst = tmpMeta1;
  // _failed_var_lst has no default value.
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _var_lst = tmpMeta2;
  // _new_eqns has no default value.
  _redundant_lst = omc_BackendEquation_getList(threadData, _redundantEqns, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))));

  omc_DoubleEnded_push__list__back(threadData, _removedEqns, _redundant_lst);

  _new_eqns = omc_BackendEquation_deleteList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))), _redundantEqns);

  if(_debug)
  {
    omc_BackendDump_dumpEquationList(threadData, _redundant_lst, _OMC_LIT166);
  }

  {
    modelica_metatype __omcQ_24tmpVar43;
    modelica_metatype* tmp4;
    modelica_metatype tmpMeta5;
    modelica_metatype __omcQ_24tmpVar42;
    modelica_integer tmp6;
    modelica_metatype _i_loopVar = 0;
    modelica_metatype _i;
    _i_loopVar = _unfixedVars;
    tmpMeta5 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar43 = tmpMeta5; /* defaultValue */
    tmp4 = &__omcQ_24tmpVar43;
    while(1) {
      tmp6 = 1;
      if (!listEmpty(_i_loopVar)) {
        _i = MMC_CAR(_i_loopVar);
        _i_loopVar = MMC_CDR(_i_loopVar);
        tmp6--;
      }
      if (tmp6 == 0) {
        __omcQ_24tmpVar42 = omc_BackendVariable_getVarAt(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 2))), mmc_unbox_integer(_i));
        *tmp4 = mmc_mk_cons(__omcQ_24tmpVar42,0);
        tmp4 = &MMC_CDR(*tmp4);
      } else if (tmp6 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp4 = mmc_mk_nil();
    tmpMeta3 = __omcQ_24tmpVar43;
  }
  _var_lst = tmpMeta3;

  tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
  _new_eqns = omc_Initialization_addStartValueEquations(threadData, _var_lst, _new_eqns, tmpMeta7 ,&_var_lst);

  omc_DoubleEnded_push__list__back(threadData, _dumpVars, _var_lst);

  if(_debug)
  {
    {
      modelica_metatype __omcQ_24tmpVar45;
      modelica_metatype* tmp9;
      modelica_metatype tmpMeta10;
      modelica_metatype __omcQ_24tmpVar44;
      modelica_integer tmp11;
      modelica_metatype _var_loopVar = 0;
      modelica_metatype _var;
      _var_loopVar = _var_lst;
      tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar45 = tmpMeta10; /* defaultValue */
      tmp9 = &__omcQ_24tmpVar45;
      while(1) {
        tmp11 = 1;
        while (!listEmpty(_var_loopVar)) {
          _var = MMC_CAR(_var_loopVar);
          _var_loopVar = MMC_CDR(_var_loopVar);
          if ((!omc_BackendVariable_containsVar(threadData, _var, _initVars))) {
            tmp11--;
            break;
          }
        }
        if (tmp11 == 0) {
          __omcQ_24tmpVar44 = _var;
          *tmp9 = mmc_mk_cons(__omcQ_24tmpVar44,0);
          tmp9 = &MMC_CDR(*tmp9);
        } else if (tmp11 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp9 = mmc_mk_nil();
      tmpMeta8 = __omcQ_24tmpVar45;
    }
    _failed_var_lst = tmpMeta8;

    omc_BackendDump_dumpVarList(threadData, _var_lst, _OMC_LIT167);

    omc_BackendDump_dumpVarList(threadData, _failed_var_lst, _OMC_LIT168);
  }

  _syst = omc_BackendDAEUtil_setEqSystEqs(threadData, _syst, omc_BackendEquation_sortInitialEqns(threadData, _new_eqns));
  _return: OMC_LABEL_UNUSED
  return _syst;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_balanceInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _inShared, modelica_integer __omcQ_24in_5Fdummy, modelica_metatype _initVars, modelica_metatype _dumpVars, modelica_metatype _removedEqns, modelica_metatype *out_outShared, modelica_integer *out_dummy)
{
  modelica_metatype _outEqSystem = NULL;
  modelica_metatype _outShared = NULL;
  modelica_integer _dummy;
  modelica_boolean _debug;
  modelica_metatype _eqn_lst = NULL;
  modelica_metatype _init_eqns = NULL;
  modelica_metatype _sim_eqns = NULL;
  modelica_metatype _funcs = NULL;
  modelica_metatype _m = NULL;
  modelica_metatype _mT = NULL;
  modelica_metatype _me = NULL;
  modelica_integer _nVars;
  modelica_integer _nEqns;
  modelica_metatype _scal_to_arr = NULL;
  modelica_metatype _var_to_eqn = NULL;
  modelica_metatype _eqn_to_var = NULL;
  modelica_boolean _changed;
  modelica_metatype _comps = NULL;
  modelica_metatype _redundantEqns = NULL;
  modelica_metatype _unfixedVars = NULL;
  modelica_boolean _initASSC;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta20;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta22;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  modelica_metatype tmpMeta25;
  modelica_metatype tmpMeta26;
  modelica_metatype tmpMeta27;
  modelica_metatype tmpMeta33;
  modelica_metatype tmpMeta39;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqSystem has no default value.
  _outShared = _inShared;
  _dummy = __omcQ_24in_5Fdummy;
  _debug = 0 /* false */;
  // _eqn_lst has no default value.
  // _init_eqns has no default value.
  // _sim_eqns has no default value.
  // _funcs has no default value.
  // _m has no default value.
  // _mT has no default value.
  // _me has no default value.
  // _nVars has no default value.
  // _nEqns has no default value.
  // _scal_to_arr has no default value.
  // _var_to_eqn has no default value.
  // _eqn_to_var has no default value.
  _changed = 0 /* false */;
  // _comps has no default value.
  // _redundantEqns has no default value.
  // _unfixedVars has no default value.
  _initASSC = omc_Flags_getConfigBool(threadData, _OMC_LIT172);
  if((omc_BackendVariable_varsSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 2)))) > ((modelica_integer) 0)))
  {
    _init_eqns = omc_List_splitOnTrue(threadData, omc_BackendEquation_equationList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 3)))), boxvar_BackendEquation_isInitialEquation ,&_sim_eqns);

    tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
    _outEqSystem = omc_BackendDAEUtil_createEqSystem(threadData, omc_BackendVariable_sortInitialVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 2))), _initVars), omc_BackendEquation_listEquation(threadData, _sim_eqns), tmpMeta1, _OMC_LIT129, omc_BackendEquation_emptyEqns(threadData));

    tmpMeta2 = MMC_TAGPTR(mmc_alloc_words(11));
    memcpy(MMC_UNTAGPTR(tmpMeta2), MMC_UNTAGPTR(_outEqSystem), 11*sizeof(modelica_metatype));
    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta2))[10] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 10)));
    _outEqSystem = tmpMeta2;

    _funcs = omc_BackendDAEUtil_getFunctions(threadData, _inShared);

    _outEqSystem = omc_BackendDAEUtil_getAdjacencyMatrixScalar(threadData, _outEqSystem, _OMC_LIT142, mmc_mk_some(_funcs), 1 /* true */ ,&_m ,&_mT ,NULL ,&_scal_to_arr);

    _nVars = omc_BackendVariable_varsSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outEqSystem), 2))));

    _nEqns = omc_BackendEquation_equationArraySize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 3))));

    _eqn_to_var = omc_Matching_RegularMatching(threadData, _mT, _nEqns, _nVars ,&_var_to_eqn ,NULL ,NULL ,NULL);

    tmpMeta3 = MMC_TAGPTR(mmc_alloc_words(11));
    memcpy(MMC_UNTAGPTR(tmpMeta3), MMC_UNTAGPTR(_outEqSystem), 11*sizeof(modelica_metatype));
    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta3))[3] = omc_BackendEquation_addList(threadData, _init_eqns, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outEqSystem), 3))));
    _outEqSystem = tmpMeta3;

    _outEqSystem = omc_BackendDAEUtil_getAdjacencyMatrixScalar(threadData, _outEqSystem, _OMC_LIT142, mmc_mk_some(_funcs), 1 /* true */ ,&_m ,&_mT ,NULL ,&_scal_to_arr);

    _eqn_to_var = omc_Matching_ContinueMatching(threadData, _mT, _nEqns, _nVars, _eqn_to_var, _var_to_eqn, 0 /* false */ ,&_var_to_eqn ,NULL ,NULL ,NULL);

    {
      modelica_metatype __omcQ_24tmpVar47;
      modelica_metatype* tmp5;
      modelica_metatype tmpMeta6;
      modelica_metatype __omcQ_24tmpVar46;
      modelica_integer tmp7;
      modelica_integer tmp8;
      modelica_integer tmp9;
      modelica_integer _i;
      tmp8 = 1 /* Range step-value */;
      tmp9 = arrayLength(_var_to_eqn) /* Range stop-value */;
      _i = ((modelica_integer) 1) /* Range start-value */;
      _i = (((modelica_integer) 1) /* Range start-value */)-tmp8;
      tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar47 = tmpMeta6; /* defaultValue */
      tmp5 = &__omcQ_24tmpVar47;
      while(1) {
        tmp7 = 1;
        while (tmp8 > 0 ? _i+tmp8 <= tmp9 : _i+tmp8 >= tmp9) {
          _i += tmp8;
          if ((mmc_unbox_integer(arrayGet(_var_to_eqn,_i) /* DAE.ASUB */) < ((modelica_integer) 0))) {
            tmp7--;
            break;
          }
        }
        if (tmp7 == 0) {
          __omcQ_24tmpVar46 = mmc_mk_integer(_i);
          *tmp5 = mmc_mk_cons(__omcQ_24tmpVar46,0);
          tmp5 = &MMC_CDR(*tmp5);
        } else if (tmp7 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp5 = mmc_mk_nil();
      tmpMeta4 = __omcQ_24tmpVar47;
    }
    _unfixedVars = tmpMeta4;

    {
      modelica_metatype __omcQ_24tmpVar49;
      modelica_metatype* tmp11;
      modelica_metatype tmpMeta12;
      modelica_metatype __omcQ_24tmpVar48;
      modelica_integer tmp13;
      modelica_integer tmp14;
      modelica_integer tmp15;
      modelica_integer _i;
      tmp14 = 1 /* Range step-value */;
      tmp15 = arrayLength(_eqn_to_var) /* Range stop-value */;
      _i = ((modelica_integer) 1) /* Range start-value */;
      _i = (((modelica_integer) 1) /* Range start-value */)-tmp14;
      tmpMeta12 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar49 = tmpMeta12; /* defaultValue */
      tmp11 = &__omcQ_24tmpVar49;
      while(1) {
        tmp13 = 1;
        while (tmp14 > 0 ? _i+tmp14 <= tmp15 : _i+tmp14 >= tmp15) {
          _i += tmp14;
          if ((mmc_unbox_integer(arrayGet(_eqn_to_var,_i) /* DAE.ASUB */) < ((modelica_integer) 0))) {
            tmp13--;
            break;
          }
        }
        if (tmp13 == 0) {
          __omcQ_24tmpVar48 = mmc_mk_integer(_i);
          *tmp11 = mmc_mk_cons(__omcQ_24tmpVar48,0);
          tmp11 = &MMC_CDR(*tmp11);
        } else if (tmp13 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp11 = mmc_mk_nil();
      tmpMeta10 = __omcQ_24tmpVar49;
    }
    _redundantEqns = tmpMeta10;

    if((!(listEmpty(_redundantEqns) && listEmpty(_unfixedVars))))
    {
      _me = omc_BackendDAEUtil_getAdjacencyMatrixEnhancedScalar(threadData, _outEqSystem, _inShared, 0 /* false */, NULL, NULL, NULL);

      omc_Initialization_consistencyCheck(threadData, _redundantEqns, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outEqSystem), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outEqSystem), 2))), _inShared, ((modelica_integer) 0), _m, _me, _var_to_eqn, _eqn_to_var, _scal_to_arr, NULL, NULL);

      {
        modelica_metatype __omcQ_24tmpVar51;
        modelica_metatype* tmp17;
        modelica_metatype tmpMeta18;
        modelica_metatype __omcQ_24tmpVar50;
        modelica_integer tmp19;
        modelica_metatype _i_loopVar = 0;
        modelica_metatype _i;
        _i_loopVar = _redundantEqns;
        tmpMeta18 = MMC_REFSTRUCTLIT(mmc_nil);
        __omcQ_24tmpVar51 = tmpMeta18; /* defaultValue */
        tmp17 = &__omcQ_24tmpVar51;
        while(1) {
          tmp19 = 1;
          if (!listEmpty(_i_loopVar)) {
            _i = MMC_CAR(_i_loopVar);
            _i_loopVar = MMC_CDR(_i_loopVar);
            tmp19--;
          }
          if (tmp19 == 0) {
            __omcQ_24tmpVar50 = arrayGet(_scal_to_arr,mmc_unbox_integer(_i)) /* DAE.ASUB */;
            *tmp17 = mmc_mk_cons(__omcQ_24tmpVar50,0);
            tmp17 = &MMC_CDR(*tmp17);
          } else if (tmp19 == 1) {
            break;
          } else {
            MMC_THROW_INTERNAL();
          }
        }
        *tmp17 = mmc_mk_nil();
        tmpMeta16 = __omcQ_24tmpVar51;
      }
      _redundantEqns = omc_List_unique(threadData, tmpMeta16);

      _outEqSystem = omc_Initialization_resolveOverAndUnderconstraints(threadData, _outEqSystem, _initVars, _unfixedVars, _redundantEqns, _dumpVars, _removedEqns);

      _outEqSystem = omc_BackendDAEUtil_getAdjacencyMatrixScalar(threadData, _outEqSystem, _OMC_LIT142, mmc_mk_some(_funcs), 1 /* true */ ,&_m ,&_mT ,NULL ,&_scal_to_arr);

      _nVars = omc_BackendVariable_varsSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outEqSystem), 2))));

      _nEqns = omc_BackendEquation_equationArraySize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outEqSystem), 3))));

      _eqn_to_var = omc_Matching_RegularMatching(threadData, _mT, _nEqns, _nVars ,&_var_to_eqn ,NULL ,NULL ,NULL);
    }
    else
    {
      if((!_initASSC))
      {
        _outEqSystem = _inEqSystem;
      }
    }

    if(_debug)
    {
      omc_BackendDump_dumpEqSystem(threadData, _outEqSystem, _OMC_LIT173);

      omc_BackendDump_dumpAdjacencyMatrixT(threadData, _mT);

      omc_BackendDump_dumpMatchingVars(threadData, _var_to_eqn);

      omc_BackendDump_dumpMatchingEqns(threadData, _eqn_to_var);
    }

    if(_initASSC)
    {
      _comps = omc_Sorting_Tarjan(threadData, _m, _var_to_eqn, _nEqns);

      {
        modelica_metatype _comp;
        for (tmpMeta20 = _comps; !listEmpty(tmpMeta20); tmpMeta20=MMC_CDR(tmpMeta20))
        {
          _comp = MMC_CAR(tmpMeta20);
          _eqn_to_var = omc_BackendDAEUtil_analyticalToStructuralSingularity(threadData, _comp, _eqn_to_var, _var_to_eqn, _outEqSystem, _changed, 1 /* true */ ,&_var_to_eqn ,&_outEqSystem ,&_changed);
        }
      }

      if(_changed)
      {
        /* Pattern-matching assignment */
        tmpMeta22 = _outEqSystem;
        tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 4));
        if (optionNone(tmpMeta23)) MMC_THROW_INTERNAL();
        tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 1));
        tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta22), 5));
        if (optionNone(tmpMeta25)) MMC_THROW_INTERNAL();
        tmpMeta26 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta25), 1));
        _m = tmpMeta24;
        _mT = tmpMeta26;

        _outEqSystem = omc_BackendDAEUtil_getAdjacencyMatrixScalar(threadData, _outEqSystem, _OMC_LIT130, mmc_mk_some(_funcs), 1 /* true */ ,&_m ,&_mT ,NULL ,&_scal_to_arr);

        _eqn_to_var = omc_Matching_ContinueMatching(threadData, _mT, _nEqns, _nVars, _eqn_to_var, _var_to_eqn, 0 /* false */ ,&_var_to_eqn ,NULL ,NULL ,NULL);

        {
          modelica_metatype __omcQ_24tmpVar53;
          modelica_metatype* tmp28;
          modelica_metatype tmpMeta29;
          modelica_metatype __omcQ_24tmpVar52;
          modelica_integer tmp30;
          modelica_integer tmp31;
          modelica_integer tmp32;
          modelica_integer _i;
          tmp31 = 1 /* Range step-value */;
          tmp32 = arrayLength(_var_to_eqn) /* Range stop-value */;
          _i = ((modelica_integer) 1) /* Range start-value */;
          _i = (((modelica_integer) 1) /* Range start-value */)-tmp31;
          tmpMeta29 = MMC_REFSTRUCTLIT(mmc_nil);
          __omcQ_24tmpVar53 = tmpMeta29; /* defaultValue */
          tmp28 = &__omcQ_24tmpVar53;
          while(1) {
            tmp30 = 1;
            while (tmp31 > 0 ? _i+tmp31 <= tmp32 : _i+tmp31 >= tmp32) {
              _i += tmp31;
              if ((mmc_unbox_integer(arrayGet(_var_to_eqn,_i) /* DAE.ASUB */) < ((modelica_integer) 0))) {
                tmp30--;
                break;
              }
            }
            if (tmp30 == 0) {
              __omcQ_24tmpVar52 = mmc_mk_integer(_i);
              *tmp28 = mmc_mk_cons(__omcQ_24tmpVar52,0);
              tmp28 = &MMC_CDR(*tmp28);
            } else if (tmp30 == 1) {
              break;
            } else {
              MMC_THROW_INTERNAL();
            }
          }
          *tmp28 = mmc_mk_nil();
          tmpMeta27 = __omcQ_24tmpVar53;
        }
        _unfixedVars = tmpMeta27;

        {
          modelica_metatype __omcQ_24tmpVar55;
          modelica_metatype* tmp34;
          modelica_metatype tmpMeta35;
          modelica_metatype __omcQ_24tmpVar54;
          modelica_integer tmp36;
          modelica_integer tmp37;
          modelica_integer tmp38;
          modelica_integer _i;
          tmp37 = 1 /* Range step-value */;
          tmp38 = arrayLength(_eqn_to_var) /* Range stop-value */;
          _i = ((modelica_integer) 1) /* Range start-value */;
          _i = (((modelica_integer) 1) /* Range start-value */)-tmp37;
          tmpMeta35 = MMC_REFSTRUCTLIT(mmc_nil);
          __omcQ_24tmpVar55 = tmpMeta35; /* defaultValue */
          tmp34 = &__omcQ_24tmpVar55;
          while(1) {
            tmp36 = 1;
            while (tmp37 > 0 ? _i+tmp37 <= tmp38 : _i+tmp37 >= tmp38) {
              _i += tmp37;
              if ((mmc_unbox_integer(arrayGet(_eqn_to_var,_i) /* DAE.ASUB */) < ((modelica_integer) 0))) {
                tmp36--;
                break;
              }
            }
            if (tmp36 == 0) {
              __omcQ_24tmpVar54 = mmc_mk_integer(_i);
              *tmp34 = mmc_mk_cons(__omcQ_24tmpVar54,0);
              tmp34 = &MMC_CDR(*tmp34);
            } else if (tmp36 == 1) {
              break;
            } else {
              MMC_THROW_INTERNAL();
            }
          }
          *tmp34 = mmc_mk_nil();
          tmpMeta33 = __omcQ_24tmpVar55;
        }
        _redundantEqns = tmpMeta33;

        {
          modelica_metatype __omcQ_24tmpVar57;
          modelica_metatype* tmp40;
          modelica_metatype tmpMeta41;
          modelica_metatype __omcQ_24tmpVar56;
          modelica_integer tmp42;
          modelica_metatype _i_loopVar = 0;
          modelica_metatype _i;
          _i_loopVar = _redundantEqns;
          tmpMeta41 = MMC_REFSTRUCTLIT(mmc_nil);
          __omcQ_24tmpVar57 = tmpMeta41; /* defaultValue */
          tmp40 = &__omcQ_24tmpVar57;
          while(1) {
            tmp42 = 1;
            if (!listEmpty(_i_loopVar)) {
              _i = MMC_CAR(_i_loopVar);
              _i_loopVar = MMC_CDR(_i_loopVar);
              tmp42--;
            }
            if (tmp42 == 0) {
              __omcQ_24tmpVar56 = arrayGet(_scal_to_arr,mmc_unbox_integer(_i)) /* DAE.ASUB */;
              *tmp40 = mmc_mk_cons(__omcQ_24tmpVar56,0);
              tmp40 = &MMC_CDR(*tmp40);
            } else if (tmp42 == 1) {
              break;
            } else {
              MMC_THROW_INTERNAL();
            }
          }
          *tmp40 = mmc_mk_nil();
          tmpMeta39 = __omcQ_24tmpVar57;
        }
        _redundantEqns = omc_List_unique(threadData, tmpMeta39);

        if((!(listEmpty(_redundantEqns) && listEmpty(_unfixedVars))))
        {
          _me = omc_BackendDAEUtil_getAdjacencyMatrixEnhancedScalar(threadData, _outEqSystem, _inShared, 0 /* false */, NULL, NULL, NULL);

          omc_Initialization_consistencyCheck(threadData, _redundantEqns, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outEqSystem), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outEqSystem), 2))), _inShared, ((modelica_integer) 0), _m, _me, _var_to_eqn, _eqn_to_var, _scal_to_arr, NULL, NULL);

          _outEqSystem = omc_Initialization_resolveOverAndUnderconstraints(threadData, _outEqSystem, _initVars, _unfixedVars, _redundantEqns, _dumpVars, _removedEqns);

          _outEqSystem = omc_BackendDAEUtil_getAdjacencyMatrixScalar(threadData, _outEqSystem, _OMC_LIT142, mmc_mk_some(_funcs), 1 /* true */ ,&_m ,&_mT ,NULL ,&_scal_to_arr);
        }
      }
    }
  }
  else
  {
    _outEqSystem = _inEqSystem;
  }
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  if (out_dummy) { *out_dummy = _dummy; }
  return _outEqSystem;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_balanceInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _inShared, modelica_metatype __omcQ_24in_5Fdummy, modelica_metatype _initVars, modelica_metatype _dumpVars, modelica_metatype _removedEqns, modelica_metatype *out_outShared, modelica_metatype *out_dummy)
{
  modelica_integer tmp1;
  modelica_integer _dummy;
  modelica_metatype _outEqSystem = NULL;
  tmp1 = mmc_unbox_integer(__omcQ_24in_5Fdummy);
  _outEqSystem = omc_Initialization_balanceInitialSystem(threadData, _inEqSystem, _inShared, tmp1, _initVars, _dumpVars, _removedEqns, out_outShared, &_dummy);
  /* skip box _outEqSystem; BackendDAE.EqSystem */
  /* skip box _outShared; BackendDAE.Shared */
  if (out_dummy) { *out_dummy = mmc_mk_icon(_dummy); }
  return _outEqSystem;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_getInitEqIndices(threadData_t *threadData, modelica_metatype _equations)
{
  modelica_metatype _indices = NULL;
  modelica_metatype tmpMeta1;
  modelica_integer _i;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _indices = tmpMeta1;
  _i = ((modelica_integer) 1);
  {
    modelica_metatype _eq;
    for (tmpMeta2 = _equations; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _eq = MMC_CAR(tmpMeta2);
      if(omc_BackendEquation_isInitialEquation(threadData, _eq))
      {
        tmpMeta3 = mmc_mk_cons(mmc_mk_integer(_i), _indices);
        _indices = tmpMeta3;
      }

      _i = ((modelica_integer) 1) + _i;
    }
  }

  _indices = listReverseInPlace(_indices);
  _return: OMC_LABEL_UNUSED
  return _indices;
}

static modelica_metatype closure0_func(threadData_t *thData, modelica_metatype closure, modelica_metatype inEqSystem, modelica_metatype inShared, modelica_metatype $in_dummy, modelica_metatype tmp12, modelica_metatype tmp13)
{
  modelica_metatype initVars = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype dumpVars = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  modelica_metatype removedEqns = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),3));
  modelica_fnptr _func = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),4));
  if (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func),2))) {
    return  ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (thData, MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func),2)), inEqSystem, inShared, $in_dummy, initVars, dumpVars, removedEqns, tmp12, tmp13);
  } else { /* No closure in the called variable */
    return  ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_func), 1)))) (thData, inEqSystem, inShared, $in_dummy, initVars, dumpVars, removedEqns, tmp12, tmp13);
  }
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_analyzeInitialSystem(threadData_t *threadData, modelica_metatype _inInitDAE, modelica_metatype _inInitVars, modelica_fnptr _func, modelica_metatype *out_outDumpVars, modelica_metatype *out_outRemovedEqns)
{
  modelica_metatype _outDAE = NULL;
  modelica_metatype _outDumpVars = NULL;
  modelica_metatype _outRemovedEqns = NULL;
  modelica_metatype _dae = NULL;
  modelica_metatype _syst = NULL;
  modelica_metatype _eqs = NULL;
  modelica_metatype _dumpVars = NULL;
  modelica_metatype _removedEqns = NULL;
  modelica_metatype _filtered_initial_eqs = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outDAE has no default value.
  // _outDumpVars has no default value.
  // _outRemovedEqns has no default value.
  // _dae has no default value.
  // _syst has no default value.
  // _eqs has no default value.
  // _dumpVars has no default value.
  // _removedEqns has no default value.
  // _filtered_initial_eqs has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _eqs = tmpMeta1;

  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _dumpVars = omc_DoubleEnded_fromList(threadData, tmpMeta2);

  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  _removedEqns = omc_DoubleEnded_fromList(threadData, tmpMeta3);

  {
    modelica_metatype _syst;
    for (tmpMeta4 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inInitDAE), 2))); !listEmpty(tmpMeta4); tmpMeta4=MMC_CDR(tmpMeta4))
    {
      _syst = MMC_CAR(tmpMeta4);
      if(omc_BackendDAEUtil_nonEmptySystem(threadData, _syst))
      {
        tmpMeta5 = mmc_mk_cons(_syst, _eqs);
        _eqs = tmpMeta5;
      }
      else
      {
        {
          modelica_metatype __omcQ_24tmpVar59;
          modelica_metatype* tmp7;
          modelica_metatype tmpMeta8;
          modelica_metatype __omcQ_24tmpVar58;
          modelica_integer tmp9;
          modelica_metatype _eqn_loopVar = 0;
          modelica_metatype _eqn;
          _eqn_loopVar = omc_BackendEquation_equationList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 3))));
          tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
          __omcQ_24tmpVar59 = tmpMeta8; /* defaultValue */
          tmp7 = &__omcQ_24tmpVar59;
          while(1) {
            tmp9 = 1;
            while (!listEmpty(_eqn_loopVar)) {
              _eqn = MMC_CAR(_eqn_loopVar);
              _eqn_loopVar = MMC_CDR(_eqn_loopVar);
              if (omc_BackendEquation_hasAnyUnknown(threadData, _eqn, _inInitVars)) {
                tmp9--;
                break;
              }
            }
            if (tmp9 == 0) {
              __omcQ_24tmpVar58 = _eqn;
              *tmp7 = mmc_mk_cons(__omcQ_24tmpVar58,0);
              tmp7 = &MMC_CDR(*tmp7);
            } else if (tmp9 == 1) {
              break;
            } else {
              MMC_THROW_INTERNAL();
            }
          }
          *tmp7 = mmc_mk_nil();
          tmpMeta6 = __omcQ_24tmpVar59;
        }
        _filtered_initial_eqs = tmpMeta6;

        omc_DoubleEnded_push__list__back(threadData, _removedEqns, _filtered_initial_eqs);

        omc_DoubleEnded_push__list__back(threadData, _removedEqns, omc_BackendEquation_equationList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_syst), 10)))));
      }
    }
  }

  tmpMeta11 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, _eqs, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inInitDAE), 3))));
  _dae = tmpMeta11;

  tmpMeta14 = mmc_mk_box4(0, _inInitVars, _dumpVars, _removedEqns, _func);
  _outDAE = omc_BackendDAEUtil_mapEqSystemAndFold(threadData, _dae, (modelica_fnptr) mmc_mk_box2(0,closure0_func,tmpMeta14), mmc_mk_integer(((modelica_integer) 0)), NULL);

  tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
  _outRemovedEqns = omc_DoubleEnded_toListAndClear(threadData, _removedEqns, tmpMeta15);

  tmpMeta16 = MMC_REFSTRUCTLIT(mmc_nil);
  _outDumpVars = omc_DoubleEnded_toListAndClear(threadData, _dumpVars, tmpMeta16);
  _return: OMC_LABEL_UNUSED
  if (out_outDumpVars) { *out_outDumpVars = _outDumpVars; }
  if (out_outRemovedEqns) { *out_outRemovedEqns = _outRemovedEqns; }
  return _outDAE;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_preBalanceInitialSystem2(threadData_t *threadData, modelica_integer _n, modelica_metatype _mt, modelica_metatype _inVars, modelica_metatype _inEqs, modelica_metatype _initVars, modelica_boolean _isLambda0, modelica_boolean _inB, modelica_metatype _inDumpVars, modelica_metatype *out_outEqs, modelica_boolean *out_outB, modelica_metatype *out_outDumpVars)
{
  modelica_metatype _outVars = NULL;
  modelica_metatype _outEqs = NULL;
  modelica_boolean _outB;
  modelica_metatype _outDumpVars = NULL;
  modelica_metatype _row = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype _cref = NULL;
  modelica_string _str = NULL;
  modelica_string _err_str = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outVars = _inVars;
  _outEqs = _inEqs;
  _outB = _inB;
  _outDumpVars = _inDumpVars;
  // _row has no default value.
  // _var has no default value.
  // _cref has no default value.
  // _str has no default value.
  _err_str = _OMC_LIT174;
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          /* Pattern matching succeeded */
          _row = arrayGet(_mt,_n) /* DAE.ASUB */;

          if(listEmpty(_row))
          {
            _outB = 1 /* true */;

            _var = omc_BackendVariable_getVarAt(threadData, _inVars, _n);

            _cref = omc_BackendVariable_varCref(threadData, _var);

            if(omc_ComponentReference_isPreCref(threadData, _cref))
            {
              tmpMeta5 = mmc_mk_cons(mmc_mk_integer(_n), MMC_REFSTRUCTLIT(mmc_nil));
              tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
              _outVars = omc_BackendVariable_removeVars(threadData, tmpMeta5, _inVars, tmpMeta6, NULL);
            }
            else
            {
              if(omc_BackendVariable_containsVar(threadData, _var, _initVars))
              {
                tmpMeta7 = mmc_mk_cons(_var, MMC_REFSTRUCTLIT(mmc_nil));
                _outEqs = omc_Initialization_addStartValueEquations(threadData, tmpMeta7, _inEqs, _inDumpVars ,&_outDumpVars);
              }
              else
              {
                _str = (_isLambda0?_OMC_LIT175:_OMC_LIT16);

                tmpMeta8 = stringAppend(_OMC_LIT176,omc_BackendDump_varString(threadData, _var));
                tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT177);
                tmpMeta10 = stringAppend(tmpMeta9,_str);
                tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT178);
                _err_str = tmpMeta11;

                goto goto_1;
              }
            }
          }
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta12;
          /* Pattern matching succeeded */
          tmpMeta12 = stringAppend(_OMC_LIT179,_err_str);
          omc_Error_addInternalError(threadData, tmpMeta12, _OMC_LIT180);

          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_outEqs) { *out_outEqs = _outEqs; }
  if (out_outB) { *out_outB = _outB; }
  if (out_outDumpVars) { *out_outDumpVars = _outDumpVars; }
  return _outVars;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_preBalanceInitialSystem2(threadData_t *threadData, modelica_metatype _n, modelica_metatype _mt, modelica_metatype _inVars, modelica_metatype _inEqs, modelica_metatype _initVars, modelica_metatype _isLambda0, modelica_metatype _inB, modelica_metatype _inDumpVars, modelica_metatype *out_outEqs, modelica_metatype *out_outB, modelica_metatype *out_outDumpVars)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_boolean _outB;
  modelica_metatype _outVars = NULL;
  tmp1 = mmc_unbox_integer(_n);
  tmp2 = mmc_unbox_integer(_isLambda0);
  tmp3 = mmc_unbox_integer(_inB);
  _outVars = omc_Initialization_preBalanceInitialSystem2(threadData, tmp1, _mt, _inVars, _inEqs, _initVars, tmp2, tmp3, _inDumpVars, out_outEqs, &_outB, out_outDumpVars);
  /* skip box _outVars; BackendDAE.Variables */
  /* skip box _outEqs; ExpandableArray<BackendDAE.Equation> */
  if (out_outB) { *out_outB = mmc_mk_icon(_outB); }
  /* skip box _outDumpVars; list<BackendDAE.Var> */
  return _outVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_preBalanceInitialSystem1(threadData_t *threadData, modelica_integer _n, modelica_metatype _mt, modelica_metatype _inVars, modelica_metatype _inEqs, modelica_metatype _initVars, modelica_boolean _isLambda0, modelica_boolean _inB, modelica_metatype _inDumpVars, modelica_metatype *out_outEqs, modelica_boolean *out_outB, modelica_metatype *out_outDumpVars)
{
  modelica_metatype _outVars = NULL;
  modelica_metatype _outEqs = NULL;
  modelica_boolean _outB;
  modelica_metatype _outDumpVars = NULL;
  modelica_boolean tmp1_c2 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVars has no default value.
  // _outEqs has no default value.
  // _outB has no default value.
  // _outDumpVars has no default value.
  
  
  
  
  { /* match expression */
    modelica_integer tmp4_1;modelica_boolean tmp4_2;
    tmp4_1 = _n;
    tmp4_2 = _inB;
    {
      modelica_boolean _b;
      modelica_metatype _vars = NULL;
      modelica_metatype _eqs = NULL;
      modelica_metatype _dumpVars = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _b has no default value.
      // _vars has no default value.
      // _eqs has no default value.
      // _dumpVars has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (0 != tmp4_1) goto tmp3_end;
          if (0 /* false */ != tmp4_2) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inVars;
          tmpMeta[0+1] = _inEqs;
          tmp1_c2 = 0 /* false */;
          tmpMeta[0+3] = _inDumpVars;
          goto tmp3_done;
        }
        case 1: {
          if (0 != tmp4_1) goto tmp3_end;
          if (1 /* true */ != tmp4_2) goto tmp3_end;
          /* Pattern matching succeeded */
          _vars = omc_BackendVariable_listVar1(threadData, omc_BackendVariable_varList(threadData, _inVars));
          tmpMeta[0+0] = _vars;
          tmpMeta[0+1] = _inEqs;
          tmp1_c2 = 1 /* true */;
          tmpMeta[0+3] = _inDumpVars;
          goto tmp3_done;
        }
        case 2: {
          modelica_boolean tmp6;
          
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp6 = (_n > ((modelica_integer) 0));
          if (1 /* true */ != tmp6) goto goto_2;

          _vars = omc_Initialization_preBalanceInitialSystem2(threadData, _n, _mt, _inVars, _inEqs, _initVars, _isLambda0, _inB, _inDumpVars ,&_eqs ,&_b ,&_dumpVars);
          /* Tail recursive call */
          _n = ((modelica_integer) -1) + _n;
          _inVars = _vars;
          _inEqs = _eqs;
          _inB = _b;
          _inDumpVars = _dumpVars;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outVars = tmpMeta[0+0];
  _outEqs = tmpMeta[0+1];
  _outB = tmp1_c2;
  _outDumpVars = tmpMeta[0+3];
  _return: OMC_LABEL_UNUSED
  if (out_outEqs) { *out_outEqs = _outEqs; }
  if (out_outB) { *out_outB = _outB; }
  if (out_outDumpVars) { *out_outDumpVars = _outDumpVars; }
  return _outVars;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_preBalanceInitialSystem1(threadData_t *threadData, modelica_metatype _n, modelica_metatype _mt, modelica_metatype _inVars, modelica_metatype _inEqs, modelica_metatype _initVars, modelica_metatype _isLambda0, modelica_metatype _inB, modelica_metatype _inDumpVars, modelica_metatype *out_outEqs, modelica_metatype *out_outB, modelica_metatype *out_outDumpVars)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_boolean _outB;
  modelica_metatype _outVars = NULL;
  tmp1 = mmc_unbox_integer(_n);
  tmp2 = mmc_unbox_integer(_isLambda0);
  tmp3 = mmc_unbox_integer(_inB);
  _outVars = omc_Initialization_preBalanceInitialSystem1(threadData, tmp1, _mt, _inVars, _inEqs, _initVars, tmp2, tmp3, _inDumpVars, out_outEqs, &_outB, out_outDumpVars);
  /* skip box _outVars; BackendDAE.Variables */
  /* skip box _outEqs; ExpandableArray<BackendDAE.Equation> */
  if (out_outB) { *out_outB = mmc_mk_icon(_outB); }
  /* skip box _outDumpVars; list<BackendDAE.Var> */
  return _outVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_preBalanceInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _initVars, modelica_boolean _isLambda0, modelica_metatype *out_outDumpVars)
{
  modelica_metatype _outEqSystem = NULL;
  modelica_metatype _outDumpVars = NULL;
  modelica_metatype _orderedVars = NULL;
  modelica_metatype _orderedEqs = NULL;
  modelica_boolean _b;
  modelica_metatype _mt = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outEqSystem = _inEqSystem;
  // _outDumpVars has no default value.
  // _orderedVars has no default value.
  // _orderedEqs has no default value.
  // _b has no default value.
  // _mt has no default value.
  omc_BackendDAEUtil_adjacencyMatrix(threadData, _inEqSystem, _OMC_LIT130, mmc_mk_none(), 1 /* true */ ,&_mt);

  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _orderedVars = omc_Initialization_preBalanceInitialSystem1(threadData, arrayLength(_mt), _mt, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 3))), _initVars, _isLambda0, 0 /* false */, tmpMeta1 ,&_orderedEqs ,&_b ,&_outDumpVars);

  if(_b)
  {
    tmpMeta2 = MMC_TAGPTR(mmc_alloc_words(11));
    memcpy(MMC_UNTAGPTR(tmpMeta2), MMC_UNTAGPTR(_outEqSystem), 11*sizeof(modelica_metatype));
    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta2))[3] = _orderedEqs;
    _outEqSystem = tmpMeta2;

    tmpMeta3 = MMC_TAGPTR(mmc_alloc_words(11));
    memcpy(MMC_UNTAGPTR(tmpMeta3), MMC_UNTAGPTR(_outEqSystem), 11*sizeof(modelica_metatype));
    ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta3))[2] = _orderedVars;
    _outEqSystem = tmpMeta3;

    _outEqSystem = omc_BackendDAEUtil_clearEqSyst(threadData, _outEqSystem);
  }
  _return: OMC_LABEL_UNUSED
  if (out_outDumpVars) { *out_outDumpVars = _outDumpVars; }
  return _outEqSystem;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_preBalanceInitialSystem(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _initVars, modelica_metatype _isLambda0, modelica_metatype *out_outDumpVars)
{
  modelica_integer tmp1;
  modelica_metatype _outEqSystem = NULL;
  tmp1 = mmc_unbox_integer(_isLambda0);
  _outEqSystem = omc_Initialization_preBalanceInitialSystem(threadData, _inEqSystem, _initVars, tmp1, out_outDumpVars);
  /* skip box _outEqSystem; BackendDAE.EqSystem */
  /* skip box _outDumpVars; list<BackendDAE.Var> */
  return _outEqSystem;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_simplifyInitialFunctionsExp(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy)
{
  modelica_metatype _outExp = NULL;
  modelica_boolean _outUseHomotopy;
  modelica_boolean tmp1_c1 __attribute__((unused)) = 0;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _outUseHomotopy has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inExp;
    {
      modelica_metatype _expr = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _expr has no default value.
      tmp4 = 0;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (7 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT2), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _OMC_LIT14;
          tmp1_c1 = _inUseHomotopy;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,1,1) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          if (6 != MMC_STRLEN(tmpMeta9) || strcmp(MMC_STRINGDATA(_OMC_LIT181), MMC_STRINGDATA(tmpMeta9)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _OMC_LIT1;
          tmp1_c1 = _inUseHomotopy;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,1,1) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 2));
          if (5 != MMC_STRLEN(tmpMeta11) || strcmp(MMC_STRINGDATA(_OMC_LIT182), MMC_STRINGDATA(tmpMeta11)) != 0) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (listEmpty(tmpMeta12)) goto tmp3_end;
          tmpMeta13 = MMC_CAR(tmpMeta12);
          tmpMeta14 = MMC_CDR(tmpMeta12);
          if (listEmpty(tmpMeta14)) goto tmp3_end;
          tmpMeta15 = MMC_CAR(tmpMeta14);
          tmpMeta16 = MMC_CDR(tmpMeta14);
          
          _expr = tmpMeta15;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _expr;
          tmp1_c1 = _inUseHomotopy;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta17,1,1) == 0) goto tmp3_end;
          tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 2));
          if (8 != MMC_STRLEN(tmpMeta18) || strcmp(MMC_STRINGDATA(_OMC_LIT0), MMC_STRINGDATA(tmpMeta18)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inExp;
          tmp1_c1 = 1 /* true */;
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inExp;
          tmp1_c1 = _inUseHomotopy;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outExp = tmpMeta[0+0];
  _outUseHomotopy = tmp1_c1;
  _return: OMC_LABEL_UNUSED
  if (out_outUseHomotopy) { *out_outUseHomotopy = _outUseHomotopy; }
  return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_simplifyInitialFunctionsExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy)
{
  modelica_integer tmp1;
  modelica_boolean _outUseHomotopy;
  modelica_metatype _outExp = NULL;
  tmp1 = mmc_unbox_integer(_inUseHomotopy);
  _outExp = omc_Initialization_simplifyInitialFunctionsExp(threadData, _inExp, tmp1, &_outUseHomotopy);
  /* skip box _outExp; DAE.Exp */
  if (out_outUseHomotopy) { *out_outUseHomotopy = mmc_mk_icon(_outUseHomotopy); }
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_simplifyInitialFunctions(threadData_t *threadData, modelica_metatype _inExp, modelica_boolean _inUseHomotopy, modelica_boolean *out_outUseHomotopy)
{
  modelica_metatype _outExp = NULL;
  modelica_boolean _outUseHomotopy;
  modelica_metatype tmpMeta1;
  modelica_integer tmp2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outExp has no default value.
  // _outUseHomotopy has no default value.
  /* Pattern-matching tuple assignment */
  tmpMeta3 = omc_Expression_traverseExpBottomUp(threadData, _inExp, boxvar_Initialization_simplifyInitialFunctionsExp, mmc_mk_boolean(_inUseHomotopy), &tmpMeta1);
  _outExp = tmpMeta3;
  tmp2 = mmc_unbox_integer(tmpMeta1);
  _outUseHomotopy = tmp2  /* pattern as ty=Boolean */;
  _return: OMC_LABEL_UNUSED
  if (out_outUseHomotopy) { *out_outUseHomotopy = _outUseHomotopy; }
  return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_simplifyInitialFunctions(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inUseHomotopy, modelica_metatype *out_outUseHomotopy)
{
  modelica_integer tmp1;
  modelica_boolean _outUseHomotopy;
  modelica_metatype _outExp = NULL;
  tmp1 = mmc_unbox_integer(_inUseHomotopy);
  _outExp = omc_Initialization_simplifyInitialFunctions(threadData, _inExp, tmp1, &_outUseHomotopy);
  /* skip box _outExp; DAE.Exp */
  if (out_outUseHomotopy) { *out_outUseHomotopy = mmc_mk_icon(_outUseHomotopy); }
  return _outExp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_selectInitializationVariables2(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inVars, modelica_metatype *out_outVars)
{
  modelica_metatype _outVar = NULL;
  modelica_metatype _outVars = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVar has no default value.
  // _outVars has no default value.
  
  
  { /* matchcontinue expression */
    volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
    tmp4_1 = _inVar;
    tmp4_2 = _inVars;
    {
      modelica_metatype _preVar = NULL;
      modelica_metatype _vars = NULL;
      modelica_metatype _cr = NULL;
      modelica_metatype _preCR = NULL;
      modelica_metatype _ty = NULL;
      modelica_metatype _arryDim = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _preVar has no default value.
      // _vars has no default value.
      // _cr has no default value.
      // _preCR has no default value.
      // _ty has no default value.
      // _arryDim has no default value.
      tmp4 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp3_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_boolean tmp7;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,3) == 0) goto tmp3_end;
          
          _vars = tmp4_2;
          tmp4 += 1; /* Pattern matching succeeded; we may skip some cases if we fail */
          /* Pattern-matching assignment */
          tmp7 = omc_BackendVariable_varFixed(threadData, _inVar);
          if (0 /* false */ != tmp7) goto goto_2;

          _vars = omc_BackendVariable_addVar(threadData, _inVar, _vars);
          tmpMeta[0+0] = _inVar;
          tmpMeta[0+1] = _vars;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_boolean tmp12;
          modelica_metatype tmpMeta13;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta9,6,0) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 9));
          
          _cr = tmpMeta8;
          _ty = tmpMeta10;
          _arryDim = tmpMeta11;
          _vars = tmp4_2;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmp12 = omc_BackendVariable_varFixed(threadData, _inVar);
          if (0 /* false */ != tmp12) goto goto_2;

          _preCR = omc_ComponentReference_crefPrefixPre(threadData, _cr);

          tmpMeta13 = mmc_mk_box19(3, &BackendDAE_Var_VAR__desc, _preCR, _OMC_LIT12, _OMC_LIT13, _OMC_LIT119, _ty, mmc_mk_none(), mmc_mk_none(), _arryDim, _OMC_LIT20, mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), mmc_mk_none(), _OMC_LIT120, _OMC_LIT121, mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */));
          _preVar = tmpMeta13;

          _vars = omc_BackendVariable_addVar(threadData, _preVar, _vars);
          tmpMeta[0+0] = _inVar;
          tmpMeta[0+1] = _vars;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          tmpMeta[0+0] = _inVar;
          tmpMeta[0+1] = _inVars;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      tmp3_done:
      (void)tmp4;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp3_done2;
      goto_2:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp4 < 3) {
        goto tmp3_top;
      }
      MMC_THROW_INTERNAL();
      tmp3_done2:;
    }
  }
  _outVar = tmpMeta[0+0];
  _outVars = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outVars) { *out_outVars = _outVars; }
  return _outVar;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_selectInitializationVariables1(threadData_t *threadData, modelica_metatype _inEqSystem, modelica_metatype _inVars)
{
  modelica_metatype _outVars = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVars has no default value.
  _outVars = omc_BackendVariable_traverseBackendDAEVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 2))), boxvar_Initialization_selectInitializationVariables2, _inVars);
  _return: OMC_LABEL_UNUSED
  return _outVars;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_selectInitializationVariables(threadData_t *threadData, modelica_metatype _inEqSystems)
{
  modelica_metatype _outVars = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outVars has no default value.
  _outVars = omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013));

  _outVars = omc_List_fold(threadData, _inEqSystems, boxvar_Initialization_selectInitializationVariables1, _outVars);
  _return: OMC_LABEL_UNUSED
  return _outVars;
}

DLLDirection
modelica_integer omc_Initialization_flattenParamComp(threadData_t *threadData, modelica_metatype _paramIndices, modelica_metatype _inAllParameters)
{
  modelica_integer _outFlatComp;
  modelica_integer tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outFlatComp has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _paramIndices;
    {
      modelica_integer _i;
      modelica_metatype _paramLst = NULL;
      modelica_metatype _param = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _i has no default value.
      // _paramLst has no default value.
      // _param has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          if (!listEmpty(tmpMeta7)) goto tmp3_end;
          _i = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          tmp1 = _i;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          
          /* Pattern matching succeeded */
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          _paramLst = tmpMeta9;

          {
            modelica_metatype _i;
            for (tmpMeta10 = _paramIndices; !listEmpty(tmpMeta10); tmpMeta10=MMC_CDR(tmpMeta10))
            {
              _i = MMC_CAR(tmpMeta10);
              _param = omc_BackendVariable_getVarAt(threadData, _inAllParameters, mmc_unbox_integer(_i));

              tmpMeta11 = mmc_mk_cons(_param, _paramLst);
              _paramLst = tmpMeta11;
            }
          }

          tmpMeta13 = stringAppend(_OMC_LIT183,omc_Initialization_warnAboutVars2(threadData, _paramLst));
          omc_Error_addCompilerError(threadData, tmpMeta13);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outFlatComp = tmp1;
  _return: OMC_LABEL_UNUSED
  return _outFlatComp;
}
modelica_metatype boxptr_Initialization_flattenParamComp(threadData_t *threadData, modelica_metatype _paramIndices, modelica_metatype _inAllParameters)
{
  modelica_integer _outFlatComp;
  modelica_metatype out_outFlatComp;
  _outFlatComp = omc_Initialization_flattenParamComp(threadData, _paramIndices, _inAllParameters);
  out_outFlatComp = mmc_mk_icon(_outFlatComp);
  return out_outFlatComp;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_selectSecondaryParameters(threadData_t *threadData, modelica_metatype _inOrdering, modelica_metatype _inParameters, modelica_metatype _inM, modelica_metatype _inSecondaryParams)
{
  modelica_metatype _outSecondaryParams = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outSecondaryParams has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inOrdering;
    {
      modelica_integer _i;
      modelica_metatype _secondaryParams = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _param = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _i has no default value.
      // _secondaryParams has no default value.
      // _rest has no default value.
      // _param has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _inSecondaryParams;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          _i = tmp8  /* pattern as ty=Integer */;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _param = omc_BackendVariable_getVarAt(threadData, _inParameters, _i);

          _secondaryParams = (((omc_BackendVariable_isVarAlg(threadData, _param)?0 /* false */:(!omc_BackendVariable_varFixed(threadData, _param))) || (((modelica_integer) 1) == mmc_unbox_integer(arrayGet(_inSecondaryParams,_i) /* DAE.ASUB */)))?omc_List_fold(threadData, arrayGet(_inM,_i) /* DAE.ASUB */, boxvar_Initialization_markIndex, _inSecondaryParams):_inSecondaryParams);
          /* Tail recursive call */
          _inOrdering = _rest;
          _inSecondaryParams = _secondaryParams;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outSecondaryParams = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _outSecondaryParams;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_markIndex(threadData_t *threadData, modelica_integer _inIndex, modelica_metatype _inArray)
{
  modelica_metatype _outArray = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outArray = _inArray;
  arrayUpdate(_outArray,_inIndex,mmc_mk_integer(((modelica_integer) 1)));
  _return: OMC_LABEL_UNUSED
  return _outArray;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_markIndex(threadData_t *threadData, modelica_metatype _inIndex, modelica_metatype _inArray)
{
  modelica_integer tmp1;
  modelica_metatype _outArray = NULL;
  tmp1 = mmc_unbox_integer(_inIndex);
  _outArray = omc_Initialization_markIndex(threadData, tmp1, _inArray);
  /* skip box _outArray; array<#Integer> */
  return _outArray;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_createGlobalKnownVarsEquations(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fvar, modelica_metatype __omcQ_24in_5FparameterEqns, modelica_metatype *out_parameterEqns)
{
  modelica_metatype _var = NULL;
  modelica_metatype _parameterEqns = NULL;
  modelica_metatype _lhs = NULL;
  modelica_metatype _rhs = NULL;
  modelica_metatype _startValue = NULL;
  modelica_metatype _eqn = NULL;
  modelica_metatype _v = NULL;
  modelica_string _s = NULL;
  modelica_string _str = NULL;
  modelica_metatype _info = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _var = __omcQ_24in_5Fvar;
  _parameterEqns = __omcQ_24in_5FparameterEqns;
  // _lhs has no default value.
  // _rhs has no default value.
  // _startValue has no default value.
  // _eqn has no default value.
  // _v has no default value.
  // _s has no default value.
  // _str has no default value.
  // _info has no default value.
  _lhs = omc_BackendVariable_varExp(threadData, _var);

  if(((omc_BackendVariable_isParam(threadData, _var) && (!omc_BackendVariable_varHasBindExp(threadData, _var))) && omc_BackendVariable_varFixed(threadData, _var)))
  {
    _s = omc_ExpressionDump_printExpStr(threadData, _lhs);

    _startValue = omc_BackendVariable_varStartValue(threadData, _var);

    _str = omc_ExpressionDump_printExpStr(threadData, _startValue);

    _v = omc_BackendVariable_setVarKind(threadData, _var, _OMC_LIT12);

    _v = omc_BackendVariable_setBindExp(threadData, _v, mmc_mk_some(_startValue));

    _v = omc_BackendVariable_setVarFixed(threadData, _v, 1 /* true */);

    _info = omc_ElementSource_getElementSourceFileInfo(threadData, omc_BackendVariable_getVarSource(threadData, _v));

    tmpMeta1 = mmc_mk_cons(_s, mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil)));
    omc_Error_addSourceMessage(threadData, _OMC_LIT33, tmpMeta1, _info);
  }

  _rhs = omc_BackendVariable_varBindExpStartValueNoFail(threadData, _var);

  tmpMeta2 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _lhs, _rhs, _OMC_LIT20, _OMC_LIT185);
  _eqn = tmpMeta2;

  _parameterEqns = omc_BackendEquation_add(threadData, _eqn, _parameterEqns);
  _return: OMC_LABEL_UNUSED
  if (out_parameterEqns) { *out_parameterEqns = _parameterEqns; }
  return _var;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_addExtObjToGlobalKnownVars(threadData_t *threadData, modelica_metatype __omcQ_24in_5FextObj, modelica_metatype __omcQ_24in_5FglobalKnownVars, modelica_metatype *out_globalKnownVars)
{
  modelica_metatype _extObj = NULL;
  modelica_metatype _globalKnownVars = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _extObj = __omcQ_24in_5FextObj;
  _globalKnownVars = __omcQ_24in_5FglobalKnownVars;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _extObj;
    {
      modelica_metatype _var = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _var has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,9,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
          if (optionNone(tmpMeta7)) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          
          /* Pattern matching succeeded */
          _var = omc_BackendVariable_setVarFixed(threadData, _extObj, 1 /* true */);
          tmpMeta1 = omc_BackendVariable_addVar(threadData, _var, _globalKnownVars);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _globalKnownVars;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _globalKnownVars = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_globalKnownVars) { *out_globalKnownVars = _globalKnownVars; }
  return _extObj;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_selectInitializationVariablesDAE(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fdae, modelica_metatype *out_outInitVars, modelica_metatype *out_outAllPrimaryParameters, modelica_metatype *out_outGlobalKnownVars)
{
  modelica_metatype _dae = NULL;
  modelica_metatype _outInitVars = NULL;
  modelica_metatype _outAllPrimaryParameters = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _outGlobalKnownVars = NULL;
  modelica_metatype _otherVariables = NULL;
  modelica_metatype _globalKnownVars = NULL;
  modelica_metatype _globalKnownVarsEqns = NULL;
  modelica_metatype _globalKnownVarsSystem = NULL;
  modelica_metatype _m = NULL;
  modelica_metatype _mT = NULL;
  modelica_metatype _ass1 = NULL;
  modelica_metatype _ass2 = NULL;
  modelica_metatype _comps = NULL;
  modelica_metatype _flatComps = NULL;
  modelica_integer _nGlobalKnownVars;
  modelica_metatype _secondary = NULL;
  modelica_metatype _v = NULL;
  modelica_metatype _bindExp = NULL;
  modelica_metatype _hs = NULL;
  modelica_metatype _crefs = NULL;
  modelica_metatype _globalKnownVarList = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta23;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _dae = __omcQ_24in_5Fdae;
  // _outInitVars has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _outAllPrimaryParameters = tmpMeta1;
  _outGlobalKnownVars = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 2)));
  // _otherVariables has no default value.
  // _globalKnownVars has no default value.
  // _globalKnownVarsEqns has no default value.
  // _globalKnownVarsSystem has no default value.
  // _m has no default value.
  // _mT has no default value.
  // _ass1 has no default value.
  // _ass2 has no default value.
  // _comps has no default value.
  // _flatComps has no default value.
  // _nGlobalKnownVars has no default value.
  // _secondary has no default value.
  // _v has no default value.
  // _bindExp has no default value.
  // _hs has no default value.
  // _crefs has no default value.
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _globalKnownVarList = tmpMeta2;
  {
    modelica_metatype _var;
    for (tmpMeta3 = omc_BackendVariable_varList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 2)))); !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
    {
      _var = MMC_CAR(tmpMeta3);
      if(((omc_BackendVariable_isInput(threadData, _var) && (!omc_Expression_isConstValue(threadData, omc_BackendVariable_varStartValue(threadData, _var)))) && (!omc_Types_isArray(threadData, omc_BackendVariable_varType(threadData, _var)))))
      {
        _bindExp = omc_BackendVariable_varStartValue(threadData, _var);

        _v = omc_BackendVariable_getVarSingle(threadData, omc_Expression_expCref(threadData, _bindExp), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 2))), NULL);

        _var = omc_BackendVariable_setVarStartValueOption(threadData, _var, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 7))));
      }

      tmpMeta4 = mmc_mk_cons(_var, _globalKnownVarList);
      _globalKnownVarList = tmpMeta4;
    }
  }

  _dae = omc_BackendDAEUtil_setDAEGlobalKnownVars(threadData, _dae, omc_BackendVariable_listVar(threadData, _globalKnownVarList));

  _globalKnownVars = omc_BackendVariable_listVar(threadData, omc_BackendVariable_varList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 2)))));

  _outInitVars = omc_Initialization_selectInitializationVariables(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 2))));

  _outInitVars = omc_BackendVariable_traverseBackendDAEVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 2))), boxvar_Initialization_selectInitializationVariables2, _outInitVars);

  _outInitVars = omc_BackendVariable_traverseBackendDAEVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 5))), boxvar_Initialization_selectInitializationVariables2, _outInitVars);

  _globalKnownVars = omc_BackendVariable_traverseBackendDAEVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 4))), boxvar_Initialization_addExtObjToGlobalKnownVars, _globalKnownVars);

  _nGlobalKnownVars = omc_BackendVariable_varsSize(threadData, _globalKnownVars);

  _otherVariables = omc_BackendVariable_emptyVarsSized(threadData, _nGlobalKnownVars);

  _globalKnownVarsEqns = omc_BackendEquation_emptyEqnsSized(threadData, _nGlobalKnownVars);

  _globalKnownVarsEqns = omc_BackendVariable_traverseBackendDAEVars(threadData, _globalKnownVars, boxvar_Initialization_createGlobalKnownVarsEquations, _globalKnownVarsEqns);

  if((_nGlobalKnownVars > ((modelica_integer) 0)))
  {
    tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
    _globalKnownVarsSystem = omc_BackendDAEUtil_createEqSystem(threadData, _globalKnownVars, _globalKnownVarsEqns, tmpMeta6, _OMC_LIT129, omc_BackendEquation_emptyEqns(threadData));

    _m = omc_BackendDAEUtil_adjacencyMatrix(threadData, _globalKnownVarsSystem, _OMC_LIT130, mmc_mk_none(), omc_BackendDAEUtil_isInitializationDAE(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))) ,&_mT);

    _ass1 = omc_Matching_PerfectMatching(threadData, _m ,&_ass2);

    _comps = omc_Sorting_Tarjan(threadData, _m, _ass1, arrayLength(_ass1));

    _comps = omc_Initialization_mapListIndices(threadData, _comps, _ass2);

    {
      modelica_metatype __omcQ_24tmpVar61;
      modelica_metatype* tmp8;
      modelica_metatype tmpMeta9;
      modelica_metatype __omcQ_24tmpVar60;
      modelica_integer tmp10;
      modelica_metatype _comp_loopVar = 0;
      modelica_metatype _comp;
      _comp_loopVar = _comps;
      tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar61 = tmpMeta9; /* defaultValue */
      tmp8 = &__omcQ_24tmpVar61;
      while(1) {
        tmp10 = 1;
        if (!listEmpty(_comp_loopVar)) {
          _comp = MMC_CAR(_comp_loopVar);
          _comp_loopVar = MMC_CDR(_comp_loopVar);
          tmp10--;
        }
        if (tmp10 == 0) {
          __omcQ_24tmpVar60 = mmc_mk_integer(omc_Initialization_flattenParamComp(threadData, _comp, _globalKnownVars));
          *tmp8 = mmc_mk_cons(__omcQ_24tmpVar60,0);
          tmp8 = &MMC_CDR(*tmp8);
        } else if (tmp10 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp8 = mmc_mk_nil();
      tmpMeta7 = __omcQ_24tmpVar61;
    }
    _flatComps = tmpMeta7;

    _secondary = arrayCreate(_nGlobalKnownVars, mmc_mk_integer(((modelica_integer) 0)));

    _secondary = omc_Initialization_selectSecondaryParameters(threadData, _flatComps, _globalKnownVars, _mT, _secondary);

    _hs = omc_HashSet_emptyHashSetSized(threadData, ((modelica_integer) 1) + (((modelica_integer) 2)) * (_nGlobalKnownVars));

    {
      modelica_metatype _i;
      for (tmpMeta11 = _flatComps; !listEmpty(tmpMeta11); tmpMeta11=MMC_CDR(tmpMeta11))
      {
        _i = MMC_CAR(tmpMeta11);
        _v = omc_BackendVariable_getVarAt(threadData, _globalKnownVars, mmc_unbox_integer(_i));

        _bindExp = omc_BackendVariable_varBindExpStartValueNoFail(threadData, _v);

        _crefs = omc_Expression_getAllCrefsExpanded(threadData, _bindExp);

        { /* match expression */
          modelica_metatype tmp14_1;
          tmp14_1 = _v;
          {
            volatile mmc_switch_type tmp14;
            int tmp15;
            tmp14 = 0;
            for (; tmp14 < 6; tmp14++) {
              switch (MMC_SWITCH_CAST(tmp14)) {
              case 0: {
                modelica_metatype tmpMeta16;
                modelica_metatype tmpMeta17;
                tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp14_1), 3));
                if (mmc__uniontype__metarecord__typedef__equal(tmpMeta16,7,0) == 0) goto tmp13_end;
                
                /* Pattern matching succeeded */
                /* Check guard condition after assignments */
                if (!((((modelica_integer) 0) == mmc_unbox_integer(arrayGet(_secondary,mmc_unbox_integer(_i)) /* DAE.ASUB */)) && omc_BaseHashSet_hasAll(threadData, _crefs, _hs))) goto tmp13_end;
                tmpMeta17 = mmc_mk_cons(_v, _outAllPrimaryParameters);
                _outAllPrimaryParameters = tmpMeta17;

                _hs = omc_BaseHashSet_add(threadData, omc_BackendVariable_varCref(threadData, _v), _hs);
                goto tmp13_done;
              }
              case 1: {
                modelica_metatype tmpMeta18;
                modelica_metatype tmpMeta19;
                modelica_metatype tmpMeta20;
                modelica_metatype tmpMeta21;
                tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp14_1), 3));
                if (mmc__uniontype__metarecord__typedef__equal(tmpMeta18,9,1) == 0) goto tmp13_end;
                tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp14_1), 7));
                if (optionNone(tmpMeta19)) goto tmp13_end;
                tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta19), 1));
                
                _bindExp = tmpMeta20;
                /* Pattern matching succeeded */
                /* Check guard condition after assignments */
                if (!((((modelica_integer) 0) == mmc_unbox_integer(arrayGet(_secondary,mmc_unbox_integer(_i)) /* DAE.ASUB */)) && omc_BaseHashSet_hasAll(threadData, _crefs, _hs))) goto tmp13_end;
                tmpMeta21 = mmc_mk_cons(_v, _outAllPrimaryParameters);
                _outAllPrimaryParameters = tmpMeta21;

                _v = omc_BackendVariable_setVarFixed(threadData, _v, 1 /* true */);

                _outGlobalKnownVars = omc_BackendVariable_addVar(threadData, _v, _outGlobalKnownVars);

                _hs = omc_BaseHashSet_add(threadData, omc_BackendVariable_varCref(threadData, _v), _hs);
                goto tmp13_done;
              }
              case 2: {
                modelica_metatype tmpMeta22;
                tmpMeta22 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp14_1), 3));
                if (mmc__uniontype__metarecord__typedef__equal(tmpMeta22,7,0) == 0) goto tmp13_end;
                
                /* Pattern matching succeeded */
                _otherVariables = omc_BackendVariable_addVar(threadData, _v, _otherVariables);

                _v = omc_BackendVariable_setVarFixed(threadData, _v, 0 /* false */);

                _outInitVars = omc_BackendVariable_addVar(threadData, _v, _outInitVars);

                _outGlobalKnownVars = omc_BackendVariable_addVar(threadData, _v, _outGlobalKnownVars);
                goto tmp13_done;
              }
              case 3: {
                
                /* Pattern matching succeeded */
                /* Check guard condition after assignments */
                if (!((omc_BackendVariable_isVarAlg(threadData, _v) && (((modelica_integer) 0) == mmc_unbox_integer(arrayGet(_secondary,mmc_unbox_integer(_i)) /* DAE.ASUB */))) && omc_BaseHashSet_hasAll(threadData, _crefs, _hs))) goto tmp13_end;
                _otherVariables = omc_BackendVariable_addVar(threadData, _v, _otherVariables);

                _v = omc_BackendVariable_setVarFixed(threadData, _v, 1 /* true */);

                _outGlobalKnownVars = omc_BackendVariable_addVar(threadData, _v, _outGlobalKnownVars);

                _hs = omc_BaseHashSet_add(threadData, omc_BackendVariable_varCref(threadData, _v), _hs);
                goto tmp13_done;
              }
              case 4: {
                
                /* Pattern matching succeeded */
                /* Check guard condition after assignments */
                if (!omc_BackendVariable_isVarAlg(threadData, _v)) goto tmp13_end;
                _otherVariables = omc_BackendVariable_addVar(threadData, _v, _otherVariables);

                _v = omc_BackendVariable_setVarFixed(threadData, _v, 0 /* false */);

                _outGlobalKnownVars = omc_BackendVariable_addVar(threadData, _v, _outGlobalKnownVars);
                goto tmp13_done;
              }
              case 5: {
                
                /* Pattern matching succeeded */
                _otherVariables = omc_BackendVariable_addVar(threadData, _v, _otherVariables);
                goto tmp13_done;
              }
              }
              goto tmp13_end;
              tmp13_end: ;
            }
            goto goto_12;
            goto_12:;
            MMC_THROW_INTERNAL();
            goto tmp13_done;
            tmp13_done:;
          }
        }
        ;
      }
    }

    omc_GCExt_free(threadData, _secondary);

    _outAllPrimaryParameters = listReverse(_outAllPrimaryParameters);

    _dae = omc_BackendDAEUtil_setDAEGlobalKnownVars(threadData, _dae, _otherVariables);
  }
  _return: OMC_LABEL_UNUSED
  if (out_outInitVars) { *out_outInitVars = _outInitVars; }
  if (out_outAllPrimaryParameters) { *out_outAllPrimaryParameters = _outAllPrimaryParameters; }
  if (out_outGlobalKnownVars) { *out_outGlobalKnownVars = _outGlobalKnownVars; }
  return _dae;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_Initialization_warnAboutEqns2(threadData_t *threadData, modelica_metatype _inEqns)
{
  modelica_string _outString = NULL;
  modelica_string tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outString has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inEqns;
    {
      modelica_metatype _eq = NULL;
      modelica_metatype _eqns = NULL;
      modelica_string _crStr = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _eq has no default value.
      // _eqns has no default value.
      // _crStr has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmp1 = _OMC_LIT16;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (!listEmpty(tmpMeta7)) goto tmp3_end;
          _eq = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta8 = stringAppend(_OMC_LIT186,omc_BackendDump_equationString(threadData, _eq));
          tmp1 = tmpMeta8;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta9 = MMC_CAR(tmp4_1);
          tmpMeta10 = MMC_CDR(tmp4_1);
          _eq = tmpMeta9;
          _eqns = tmpMeta10;
          /* Pattern matching succeeded */
          _crStr = omc_BackendDump_equationString(threadData, _eq);
          tmpMeta11 = stringAppend(_OMC_LIT186,_crStr);
          tmpMeta12 = stringAppend(tmpMeta11,_OMC_LIT158);
          tmpMeta13 = stringAppend(tmpMeta12,omc_Initialization_warnAboutEqns2(threadData, _eqns));
          tmp1 = tmpMeta13;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outString = tmp1;
  _return: OMC_LABEL_UNUSED
  return _outString;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_Initialization_warnAboutVars2Work(threadData_t *threadData, modelica_metatype _strs, modelica_string _prefix, modelica_string _suffix, modelica_integer _size)
{
  modelica_string _s = NULL;
  modelica_complex _sb;
  modelica_integer _i;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _s = _OMC_LIT16;
  _sb = omc_System_StringAllocator_constructor(threadData, _size);
  _i = ((modelica_integer) 0);
  {
    modelica_metatype _str;
    for (tmpMeta1 = _strs; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _str = MMC_CAR(tmpMeta1);
      omc_System_stringAllocatorStringCopy(threadData, _sb, _prefix, _i);

      _i = _i + stringLength(_prefix);

      omc_System_stringAllocatorStringCopy(threadData, _sb, _str, _i);

      _i = _i + stringLength(_str);

      omc_System_stringAllocatorStringCopy(threadData, _sb, _suffix, _i);

      _i = _i + stringLength(_suffix);
    }
  }

  _s = omc_System_stringAllocatorResult(threadData, _sb, _s);
  _return: OMC_LABEL_UNUSED
  omc_System_StringAllocator_destructor(threadData,_sb);
  return _s;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Initialization_warnAboutVars2Work(threadData_t *threadData, modelica_metatype _strs, modelica_metatype _prefix, modelica_metatype _suffix, modelica_metatype _size)
{
  modelica_integer tmp1;
  modelica_string _s = NULL;
  tmp1 = mmc_unbox_integer(_size);
  _s = omc_Initialization_warnAboutVars2Work(threadData, _strs, _prefix, _suffix, tmp1);
  /* skip box _s; String */
  return _s;
}

PROTECTED_FUNCTION_STATIC modelica_string omc_Initialization_warnAboutVars2(threadData_t *threadData, modelica_metatype _vars)
{
  modelica_string _outString = NULL;
  modelica_metatype _strs = NULL;
  modelica_integer _len;
  modelica_integer _size;
  modelica_metatype tmpMeta1;
  modelica_integer tmp5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outString has no default value.
  // _strs has no default value.
  // _len has no default value.
  // _size has no default value.
  if(listEmpty(_vars))
  {
    _outString = _OMC_LIT16;

    goto _return;
  }

  {
    modelica_metatype __omcQ_24tmpVar63;
    modelica_metatype* tmp2;
    modelica_metatype tmpMeta3;
    modelica_string __omcQ_24tmpVar62;
    modelica_integer tmp4;
    modelica_metatype _v_loopVar = 0;
    modelica_metatype _v;
    _v_loopVar = _vars;
    tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar63 = tmpMeta3; /* defaultValue */
    tmp2 = &__omcQ_24tmpVar63;
    while(1) {
      tmp4 = 1;
      if (!listEmpty(_v_loopVar)) {
        _v = MMC_CAR(_v_loopVar);
        _v_loopVar = MMC_CDR(_v_loopVar);
        tmp4--;
      }
      if (tmp4 == 0) {
        __omcQ_24tmpVar62 = omc_BackendDump_varString(threadData, _v);
        *tmp2 = mmc_mk_cons(__omcQ_24tmpVar62,0);
        tmp2 = &MMC_CDR(*tmp2);
      } else if (tmp4 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp2 = mmc_mk_nil();
    tmpMeta1 = __omcQ_24tmpVar63;
  }
  _strs = tmpMeta1;

  _len = listLength(_strs);

  {
    modelica_integer __omcQ_24tmpVar65;
    modelica_integer __omcQ_24tmpVar64;
    modelica_integer tmp6;
    modelica_metatype _s_loopVar = 0;
    modelica_metatype _s;
    _s_loopVar = _strs;
    __omcQ_24tmpVar65 = ((modelica_integer) 0); /* defaultValue */
    while(1) {
      tmp6 = 1;
      if (!listEmpty(_s_loopVar)) {
        _s = MMC_CAR(_s_loopVar);
        _s_loopVar = MMC_CDR(_s_loopVar);
        tmp6--;
      }
      if (tmp6 == 0) {
        __omcQ_24tmpVar64 = stringLength(_s);
        __omcQ_24tmpVar65 = __omcQ_24tmpVar65 + __omcQ_24tmpVar64;
      } else if (tmp6 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    tmp5 = __omcQ_24tmpVar65;
  }
  _size = tmp5 + (((modelica_integer) 10)) * (_len);

  _outString = omc_Initialization_warnAboutVars2Work(threadData, _strs, _OMC_LIT186, _OMC_LIT158, _size);
  _return: OMC_LABEL_UNUSED
  return _outString;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectPreVariablesTraverseExp2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inHS, modelica_metatype *out_outHS)
{
  modelica_metatype _outExp = NULL;
  modelica_metatype _outHS = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outExp = _inExp;
  // _outHS has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inExp;
    {
      modelica_metatype _crefs = NULL;
      modelica_metatype _cr = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _crefs has no default value.
      // _cr has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          
          _cr = tmpMeta6;
          /* Pattern matching succeeded */
          _crefs = omc_ComponentReference_expandCref(threadData, _cr, 1 /* true */);
          tmpMeta1 = omc_List_fold(threadData, _crefs, boxvar_BaseHashSet_add, _inHS);
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _inHS;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outHS = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_outHS) { *out_outHS = _outHS; }
  return _outExp;
}

DLLDirection
modelica_metatype omc_Initialization_collectPreVariablesTraverseExp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inHS, modelica_metatype *out_outHS)
{
  modelica_metatype _outExp = NULL;
  modelica_metatype _outHS = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outExp = _inExp;
  // _outHS has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inExp;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,1,1) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
          if (3 != MMC_STRLEN(tmpMeta7) || strcmp(MMC_STRINGDATA(_OMC_LIT10), MMC_STRINGDATA(tmpMeta7)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          omc_Expression_traverseExpBottomUp(threadData, _inExp, boxvar_Initialization_collectPreVariablesTraverseExp2, _inHS ,&_outHS);
          tmpMeta1 = _outHS;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta8,1,1) == 0) goto tmp3_end;
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          if (6 != MMC_STRLEN(tmpMeta9) || strcmp(MMC_STRINGDATA(_OMC_LIT187), MMC_STRINGDATA(tmpMeta9)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          omc_Expression_traverseExpBottomUp(threadData, _inExp, boxvar_Initialization_collectPreVariablesTraverseExp2, _inHS ,&_outHS);
          tmpMeta1 = _outHS;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,1,1) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 2));
          if (4 != MMC_STRLEN(tmpMeta11) || strcmp(MMC_STRINGDATA(_OMC_LIT188), MMC_STRINGDATA(tmpMeta11)) != 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          omc_Expression_traverseExpBottomUp(threadData, _inExp, boxvar_Initialization_collectPreVariablesTraverseExp2, _inHS ,&_outHS);
          tmpMeta1 = _outHS;
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _inHS;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outHS = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_outHS) { *out_outHS = _outHS; }
  return _outExp;
}

DLLDirection
modelica_metatype omc_Initialization_collectPreVariablesEqSystem(threadData_t *threadData, modelica_metatype _inSyst, modelica_metatype _inHS)
{
  modelica_metatype _outHS = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outHS has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = mmc_mk_box2(0, boxvar_Initialization_collectPreVariablesTraverseExp, _inHS);
  tmpMeta2 = omc_BackendDAEUtil_traverseBackendDAEExpsEqns(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inSyst), 3))), boxvar_Expression_traverseSubexpressionsHelper, tmpMeta1);
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
  _outHS = tmpMeta3;

  /* Pattern-matching assignment */
  tmpMeta4 = mmc_mk_box2(0, boxvar_Initialization_collectPreVariablesTraverseExp, _outHS);
  tmpMeta5 = omc_BackendDAEUtil_traverseBackendDAEExpsEqns(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inSyst), 10))), boxvar_Expression_traverseSubexpressionsHelper, tmpMeta4);
  tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
  _outHS = tmpMeta6;
  _return: OMC_LABEL_UNUSED
  return _outHS;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_collectPreVariables(threadData_t *threadData, modelica_metatype _inDAE)
{
  modelica_metatype _outHS = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outHS has no default value.
  _outHS = omc_List_fold(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inDAE), 2))), boxvar_Initialization_collectPreVariablesEqSystem, omc_HashSet_emptyHashSet(threadData));

  /* Pattern-matching assignment */
  tmpMeta1 = mmc_mk_box2(0, boxvar_Initialization_collectPreVariablesTraverseExp, _outHS);
  tmpMeta2 = omc_BackendDAEUtil_traverseBackendDAEExpsEqns(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inDAE), 3)))), 6))), boxvar_Expression_traverseSubexpressionsHelper, tmpMeta1);
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
  _outHS = tmpMeta3;

  /* Pattern-matching assignment */
  tmpMeta4 = mmc_mk_box2(0, boxvar_Initialization_collectPreVariablesTraverseExp, _outHS);
  tmpMeta5 = omc_BackendDAEUtil_traverseBackendDAEExpsEqns(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inDAE), 3)))), 7))), boxvar_Expression_traverseSubexpressionsHelper, tmpMeta4);
  tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta5), 2));
  _outHS = tmpMeta6;
  _return: OMC_LABEL_UNUSED
  return _outHS;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_generateInactiveWhenEquationForInitialization(threadData_t *threadData, modelica_metatype _inCrLst, modelica_metatype _inSource, modelica_metatype _inEqns)
{
  modelica_metatype _outEqns = NULL;
  modelica_metatype _identType = NULL;
  modelica_metatype _crefExp = NULL;
  modelica_metatype _crefPreExp = NULL;
  modelica_metatype _eqn = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outEqns = _inEqns;
  // _identType has no default value.
  // _crefExp has no default value.
  // _crefPreExp has no default value.
  // _eqn has no default value.
  {
    modelica_metatype _cr;
    for (tmpMeta1 = _inCrLst; !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _cr = MMC_CAR(tmpMeta1);
      _identType = omc_ComponentReference_crefTypeConsiderSubs(threadData, _cr);

      tmpMeta2 = mmc_mk_box3(9, &DAE_Exp_CREF__desc, _cr, _identType);
      _crefExp = tmpMeta2;

      tmpMeta3 = mmc_mk_cons(_crefExp, MMC_REFSTRUCTLIT(mmc_nil));
      _crefPreExp = omc_Expression_makePureBuiltinCall(threadData, _OMC_LIT10, tmpMeta3, _OMC_LIT189);

      tmpMeta4 = mmc_mk_box5(3, &BackendDAE_Equation_EQUATION__desc, _crefExp, _crefPreExp, _inSource, _OMC_LIT191);
      _eqn = tmpMeta4;

      tmpMeta5 = mmc_mk_cons(_eqn, _outEqns);
      _outEqns = tmpMeta5;
    }
  }
  _return: OMC_LABEL_UNUSED
  return _outEqns;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitializationWhenStmt(threadData_t *threadData, modelica_metatype _inWhenStatement, modelica_metatype _inLeftCrs, modelica_metatype _inAcc, modelica_metatype *out_outLeftCrs)
{
  modelica_metatype _outStmts = NULL;
  modelica_metatype _outLeftCrs = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outStmts has no default value.
  // _outLeftCrs has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inWhenStatement;
    {
      modelica_metatype _condition = NULL;
      modelica_metatype _crefLst = NULL;
      modelica_metatype _stmt = NULL;
      modelica_metatype _stmts = NULL;
      modelica_metatype _leftCrs = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _condition has no default value.
      // _crefLst has no default value.
      // _stmt has no default value.
      // _stmts has no default value.
      // _leftCrs has no default value.
      tmp4 = 0;
      for (; tmp4 < 4; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,6) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          
          _condition = tmpMeta6;
          _stmts = tmpMeta7;
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_Expression_containsInitialCall(threadData, _condition)) goto tmp3_end;
          _stmts = omc_List_foldr(threadData, _stmts, boxvar_List_consr, _inAcc);
          tmpMeta[0+0] = _stmts;
          tmpMeta[0+1] = _inLeftCrs;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,6) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (!optionNone(tmpMeta9)) goto tmp3_end;
          
          _stmts = tmpMeta8;
          /* Pattern matching succeeded */
          _crefLst = omc_CheckModel_algorithmStatementListOutputs(threadData, _stmts, _OMC_LIT192);

          _leftCrs = omc_List_fold(threadData, _crefLst, boxvar_BaseHashSet_add, _inLeftCrs);
          tmpMeta[0+0] = _inAcc;
          tmpMeta[0+1] = _leftCrs;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,6) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (optionNone(tmpMeta11)) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 1));
          
          _stmts = tmpMeta10;
          _stmt = tmpMeta12;
          /* Pattern matching succeeded */
          _crefLst = omc_CheckModel_algorithmStatementListOutputs(threadData, _stmts, _OMC_LIT192);

          _leftCrs = omc_List_fold(threadData, _crefLst, boxvar_BaseHashSet_add, _inLeftCrs);
          /* Tail recursive call */
          _inWhenStatement = _stmt;
          _inLeftCrs = _leftCrs;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 3: {
          
          /* Pattern matching succeeded */
          omc_Error_addInternalError(threadData, _OMC_LIT193, _OMC_LIT194);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outStmts = tmpMeta[0+0];
  _outLeftCrs = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outLeftCrs) { *out_outLeftCrs = _outLeftCrs; }
  return _outStmts;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitializationWhenAlgorithm(threadData_t *threadData, modelica_metatype _inStmts, modelica_metatype _inAcc, modelica_metatype _inLeftCrs, modelica_metatype *out_outLeftCrs)
{
  modelica_metatype _outStmts = NULL;
  modelica_metatype _outLeftCrs = NULL;
  modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outStmts has no default value.
  // _outLeftCrs has no default value.
  
  
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inStmts;
    {
      modelica_metatype _stmt = NULL;
      modelica_metatype _stmts = NULL;
      modelica_metatype _rest = NULL;
      modelica_metatype _leftCrs = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _stmt has no default value.
      // _stmts has no default value.
      // _rest has no default value.
      // _leftCrs has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (!listEmpty(tmp4_1)) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta[0+0] = listReverse(_inAcc);
          tmpMeta[0+1] = _inLeftCrs;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,7,6) == 0) goto tmp3_end;
          
          _stmt = tmpMeta6;
          _rest = tmpMeta7;
          /* Pattern matching succeeded */
          _stmts = omc_Initialization_inlineWhenForInitializationWhenStmt(threadData, _stmt, _inLeftCrs, _inAcc ,&_leftCrs);
          /* Tail recursive call */
          _inStmts = _rest;
          _inAcc = _stmts;
          _inLeftCrs = _leftCrs;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta8 = MMC_CAR(tmp4_1);
          tmpMeta9 = MMC_CDR(tmp4_1);
          _stmt = tmpMeta8;
          _rest = tmpMeta9;
          /* Pattern matching succeeded */
          tmpMeta10 = mmc_mk_cons(_stmt, _inAcc);
          /* Tail recursive call */
          _inStmts = _rest;
          _inAcc = tmpMeta10;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outStmts = tmpMeta[0+0];
  _outLeftCrs = tmpMeta[0+1];
  _return: OMC_LABEL_UNUSED
  if (out_outLeftCrs) { *out_outLeftCrs = _outLeftCrs; }
  return _outStmts;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitializationWhenEquation(threadData_t *threadData, modelica_metatype _inWEqn, modelica_metatype _inSource, modelica_metatype _inEqAttr, modelica_metatype _inEqns, modelica_metatype _inLeftCrs, modelica_metatype *out_outEqns)
{
  modelica_metatype _outLeftCrs = NULL;
  modelica_metatype _outEqns = NULL;
  modelica_metatype _lhs = NULL;
  modelica_metatype _condition = NULL;
  modelica_metatype _e = NULL;
  modelica_metatype _eLst = NULL;
  modelica_metatype _eqn = NULL;
  modelica_metatype _whenStmtLst = NULL;
  modelica_metatype _cr = NULL;
  modelica_metatype _crefLst = NULL;
  modelica_boolean _active;
  modelica_metatype _source = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outLeftCrs = _inLeftCrs;
  _outEqns = _inEqns;
  // _lhs has no default value.
  // _condition has no default value.
  // _e has no default value.
  // _eLst has no default value.
  // _eqn has no default value.
  // _whenStmtLst has no default value.
  // _cr has no default value.
  // _crefLst has no default value.
  // _active has no default value.
  // _source has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _inWEqn;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta30;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _condition = tmpMeta6;
          _whenStmtLst = tmpMeta7;
          /* Pattern matching succeeded */
          _active = omc_Expression_containsInitialCall(threadData, _condition);

          {
            modelica_metatype _stmt;
            for (tmpMeta8 = _whenStmtLst; !listEmpty(tmpMeta8); tmpMeta8=MMC_CDR(tmpMeta8))
            {
              _stmt = MMC_CAR(tmpMeta8);
              { /* match expression */
                modelica_metatype tmp11_1;
                tmp11_1 = _stmt;
                {
                  volatile mmc_switch_type tmp11;
                  int tmp12;
                  tmp11 = 0;
                  for (; tmp11 < 4; tmp11++) {
                    switch (MMC_SWITCH_CAST(tmp11)) {
                    case 0: {
                      modelica_metatype tmpMeta13;
                      modelica_metatype tmpMeta14;
                      modelica_metatype tmpMeta15;
                      modelica_metatype tmpMeta16;
                      if (mmc__uniontype__metarecord__typedef__equal(tmp11_1,0,3) == 0) goto tmp10_end;
                      tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 2));
                      if (mmc__uniontype__metarecord__typedef__equal(tmpMeta13,6,2) == 0) goto tmp10_end;
                      tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 2));
                      tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 3));
                      
                      _cr = tmpMeta14;
                      _e = tmpMeta15;
                      /* Pattern matching succeeded */
                      if(_active)
                      {
                        _lhs = omc_Expression_crefExp(threadData, _cr);

                        _eqn = omc_BackendEquation_generateEquation(threadData, _lhs, _e, _inSource, _inEqAttr);

                        tmpMeta16 = mmc_mk_cons(_eqn, _outEqns);
                        _outEqns = tmpMeta16;
                      }
                      else
                      {
                        _outLeftCrs = omc_List_fold(threadData, omc_ComponentReference_expandCref(threadData, _cr, 1 /* true */), boxvar_BaseHashSet_add, _outLeftCrs);
                      }
                      goto tmp10_done;
                    }
                    case 1: {
                      modelica_metatype tmpMeta17;
                      modelica_metatype tmpMeta18;
                      modelica_metatype tmpMeta19;
                      modelica_metatype tmpMeta20;
                      modelica_metatype tmpMeta21;
                      modelica_metatype tmpMeta22;
                      if (mmc__uniontype__metarecord__typedef__equal(tmp11_1,0,3) == 0) goto tmp10_end;
                      tmpMeta17 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 2));
                      if (mmc__uniontype__metarecord__typedef__equal(tmpMeta17,19,1) == 0) goto tmp10_end;
                      tmpMeta18 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta17), 2));
                      tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 3));
                      
                      _lhs = tmpMeta17;
                      _eLst = tmpMeta18;
                      _e = tmpMeta19;
                      /* Pattern matching succeeded */
                      if(_active)
                      {
                        _eqn = omc_BackendEquation_generateEquation(threadData, _lhs, _e, _inSource, _inEqAttr);

                        tmpMeta20 = mmc_mk_cons(_eqn, _outEqns);
                        _outEqns = tmpMeta20;
                      }
                      else
                      {
                        _crefLst = omc_List_flatten(threadData, omc_List_map(threadData, _eLst, boxvar_Expression_getAllCrefs));

                        {
                          modelica_metatype _cr;
                          for (tmpMeta21 = _crefLst; !listEmpty(tmpMeta21); tmpMeta21=MMC_CDR(tmpMeta21))
                          {
                            _cr = MMC_CAR(tmpMeta21);
                            _outLeftCrs = omc_List_fold(threadData, omc_ComponentReference_expandCref(threadData, _cr, 1 /* true */), boxvar_BaseHashSet_add, _outLeftCrs);
                          }
                        }
                      }
                      goto tmp10_done;
                    }
                    case 2: {
                      modelica_metatype tmpMeta23;
                      modelica_metatype tmpMeta24;
                      modelica_metatype tmpMeta25;
                      modelica_metatype tmpMeta26;
                      modelica_metatype tmpMeta27;
                      modelica_metatype tmpMeta28;
                      modelica_metatype tmpMeta29;
                      if (mmc__uniontype__metarecord__typedef__equal(tmp11_1,4,2) == 0) goto tmp10_end;
                      tmpMeta23 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 2));
                      tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 3));
                      _e = tmpMeta23;
                      _source = tmpMeta24;
                      /* Pattern matching succeeded */
                      if(_active)
                      {
                        tmpMeta26 = mmc_mk_box3(14, &DAE_Statement_STMT__NORETCALL__desc, _e, _source);
                        tmpMeta25 = mmc_mk_cons(tmpMeta26, MMC_REFSTRUCTLIT(mmc_nil));
                        tmpMeta27 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, tmpMeta25);
                        tmpMeta28 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(((modelica_integer) 0)), tmpMeta27, _inSource, _OMC_LIT192, _OMC_LIT5);
                        _eqn = tmpMeta28;

                        tmpMeta29 = mmc_mk_cons(_eqn, _outEqns);
                        _outEqns = tmpMeta29;
                      }
                      goto tmp10_done;
                    }
                    case 3: {
                      
                      /* Pattern matching succeeded */
                      goto tmp10_done;
                    }
                    }
                    goto tmp10_end;
                    tmp10_end: ;
                  }
                  goto goto_9;
                  goto_9:;
                  goto goto_2;
                  goto tmp10_done;
                  tmp10_done:;
                }
              }
              ;
            }
          }
          tmpMeta1 = _outEqns;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _outEqns;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _outEqns = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_outEqns) { *out_outEqns = _outEqns; }
  return _outLeftCrs;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitializationEquation(threadData_t *threadData, modelica_metatype _inEq, modelica_metatype _inTpl, modelica_metatype *out_outTpl)
{
  modelica_metatype _outEq = NULL;
  modelica_metatype _outTpl = NULL;
  modelica_metatype _eqAttr = NULL;
  modelica_metatype _weqn = NULL;
  modelica_metatype _alg = NULL;
  modelica_metatype _source = NULL;
  modelica_metatype _crefExpand = NULL;
  modelica_metatype _leftCrs = NULL;
  modelica_integer _size;
  modelica_metatype _eqns = NULL;
  modelica_metatype _accEq = NULL;
  modelica_metatype _stmts = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outEq = _inEq;
  // _outTpl has no default value.
  // _eqAttr has no default value.
  // _weqn has no default value.
  // _alg has no default value.
  // _source has no default value.
  // _crefExpand has no default value.
  // _leftCrs has no default value.
  // _size has no default value.
  // _eqns has no default value.
  // _accEq has no default value.
  // _stmts has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _inTpl;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  _accEq = tmpMeta2;
  _leftCrs = tmpMeta3;

  { /* match expression */
    modelica_metatype tmp7_1;
    tmp7_1 = _inEq;
    {
      int tmp7;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp7_1))) {
        case 8: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp7_1,5,4) == 0) goto tmp6_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 3));
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 4));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 5));
          _weqn = tmpMeta8;
          _source = tmpMeta9;
          _eqAttr = tmpMeta10;
          /* Pattern matching succeeded */
          _leftCrs = omc_Initialization_inlineWhenForInitializationWhenEquation(threadData, _weqn, _source, _eqAttr, _accEq, _leftCrs ,&_eqns);
          tmpMeta11 = mmc_mk_box2(0, _eqns, _leftCrs);
          tmpMeta4 = tmpMeta11;
          goto tmp6_done;
        }
        case 7: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          if (mmc__uniontype__metarecord__typedef__equal(tmp7_1,4,5) == 0) goto tmp6_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 3));
          tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 4));
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp7_1), 5));
          
          _alg = tmpMeta12;
          _source = tmpMeta13;
          _crefExpand = tmpMeta14;
          /* Pattern matching succeeded */
          /* Pattern-matching assignment */
          tmpMeta15 = _alg;
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta15), 2));
          _stmts = tmpMeta16;

          tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
          _stmts = omc_Initialization_inlineWhenForInitializationWhenAlgorithm(threadData, _stmts, tmpMeta17, _leftCrs ,&_leftCrs);

          tmpMeta18 = mmc_mk_box2(3, &DAE_Algorithm_ALGORITHM__STMTS__desc, _stmts);
          _alg = tmpMeta18;

          _size = listLength(omc_CheckModel_checkAndGetAlgorithmOutputs(threadData, _alg, _source, _crefExpand));

          tmpMeta19 = mmc_mk_box6(7, &BackendDAE_Equation_ALGORITHM__desc, mmc_mk_integer(_size), _alg, _source, _crefExpand, _OMC_LIT191);
          _eqns = omc_List_consOnTrue(threadData, (!listEmpty(_stmts)), tmpMeta19, _accEq);
          tmpMeta20 = mmc_mk_box2(0, _eqns, _leftCrs);
          tmpMeta4 = tmpMeta20;
          goto tmp6_done;
        }
        default:
        tmp6_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          
          /* Pattern matching succeeded */
          tmpMeta21 = mmc_mk_cons(_inEq, _accEq);
          tmpMeta22 = mmc_mk_box2(0, tmpMeta21, _leftCrs);
          tmpMeta4 = tmpMeta22;
          goto tmp6_done;
        }
        }
        goto tmp6_end;
        tmp6_end: ;
      }
      goto goto_5;
      goto_5:;
      MMC_THROW_INTERNAL();
      goto tmp6_done;
      tmp6_done:;
    }
  }
  _outTpl = tmpMeta4;
  _return: OMC_LABEL_UNUSED
  if (out_outTpl) { *out_outTpl = _outTpl; }
  return _outEq;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitializationSystem(threadData_t *threadData, modelica_metatype _inEqSystem)
{
  modelica_metatype _outEqSystem = NULL;
  modelica_metatype _eqnlst = NULL;
  modelica_metatype _leftCrs = NULL;
  modelica_metatype _crefLst = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outEqSystem has no default value.
  // _eqnlst has no default value.
  _leftCrs = omc_HashSet_emptyHashSet(threadData);
  // _crefLst has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta2 = mmc_mk_box2(0, tmpMeta1, _leftCrs);
  tmpMeta3 = omc_BackendEquation_traverseEquationArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inEqSystem), 3))), boxvar_Initialization_inlineWhenForInitializationEquation, tmpMeta2);
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 1));
  tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta3), 2));
  _eqnlst = tmpMeta4;
  _leftCrs = tmpMeta5;

  _crefLst = omc_BaseHashSet_hashSetList(threadData, _leftCrs);

  _eqnlst = omc_Initialization_generateInactiveWhenEquationForInitialization(threadData, _crefLst, _OMC_LIT20, _eqnlst);

  _outEqSystem = omc_BackendDAEUtil_setEqSystEqs(threadData, _inEqSystem, omc_BackendEquation_listEquation(threadData, _eqnlst));

  _outEqSystem = omc_BackendDAEUtil_clearEqSyst(threadData, _outEqSystem);
  _return: OMC_LABEL_UNUSED
  return _outEqSystem;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_inlineWhenForInitialization(threadData_t *threadData, modelica_metatype _inDAE)
{
  modelica_metatype _outDAE = NULL;
  modelica_metatype _eqnlst = NULL;
  modelica_metatype _clockEqnsLst = NULL;
  modelica_metatype _leftCrs = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _outDAE = _inDAE;
  // _eqnlst has no default value.
  // _clockEqnsLst has no default value.
  _leftCrs = omc_HashSet_emptyHashSet(threadData);
  tmpMeta1 = MMC_TAGPTR(mmc_alloc_words(4));
  memcpy(MMC_UNTAGPTR(tmpMeta1), MMC_UNTAGPTR(_outDAE), 4*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta1))[2] = omc_List_map(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inDAE), 2))), boxvar_Initialization_inlineWhenForInitializationSystem);
  _outDAE = tmpMeta1;

  /* Pattern-matching assignment */
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  tmpMeta3 = mmc_mk_box2(0, tmpMeta2, _leftCrs);
  tmpMeta4 = omc_BackendEquation_traverseEquationArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inDAE), 3)))), 7))), boxvar_Initialization_inlineWhenForInitializationEquation, tmpMeta3);
  tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta4), 1));
  _eqnlst = tmpMeta5;

  tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
  _clockEqnsLst = omc_BackendEquation_traverseEquationArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inDAE), 3)))), 7))), boxvar_SynchronousFeatures_getBoolClockWhenClauses, tmpMeta6);

  _eqnlst = listAppend(_clockEqnsLst, _eqnlst);

  tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(4));
  memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_outDAE), 4*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[3] = omc_BackendDAEUtil_setSharedRemovedEqns(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outDAE), 3))), omc_BackendEquation_listEquation(threadData, _eqnlst));
  _outDAE = tmpMeta7;
  _return: OMC_LABEL_UNUSED
  return _outDAE;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_Initialization_solveInitialSystemEqSystem(threadData_t *threadData, modelica_metatype _isyst, modelica_metatype _inShared, modelica_metatype *out_outShared)
{
  modelica_metatype _osyst = NULL;
  modelica_metatype _outShared = NULL;
  modelica_integer _nVars;
  modelica_integer _nEqns;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _osyst = _isyst;
  _outShared = _inShared;
  // _nVars has no default value.
  // _nEqns has no default value.
  _nEqns = omc_BackendDAEUtil_systemSize(threadData, _isyst);

  _nVars = omc_BackendVariable_varsSize(threadData, omc_BackendVariable_daeVars(threadData, _isyst));

  if((_nEqns > _nVars))
  {
    if(omc_Flags_isSet(threadData, _OMC_LIT110))
    {
      tmpMeta1 = stringAppend(_OMC_LIT195,intString(_nEqns));
      tmpMeta2 = stringAppend(tmpMeta1,_OMC_LIT196);
      tmpMeta3 = stringAppend(tmpMeta2,intString(_nVars));
      tmpMeta4 = stringAppend(tmpMeta3,_OMC_LIT197);
      omc_Error_addCompilerWarning(threadData, tmpMeta4);

      tmpMeta5 = stringAppend(_OMC_LIT195,intString(_nEqns));
      tmpMeta6 = stringAppend(tmpMeta5,_OMC_LIT196);
      tmpMeta7 = stringAppend(tmpMeta6,intString(_nVars));
      tmpMeta8 = stringAppend(tmpMeta7,_OMC_LIT197);
      omc_BackendDump_dumpEqSystem(threadData, _isyst, tmpMeta8);
    }

    MMC_THROW_INTERNAL();
  }

  if((_nEqns < _nVars))
  {
    if(omc_Flags_isSet(threadData, _OMC_LIT110))
    {
      tmpMeta9 = stringAppend(_OMC_LIT198,intString(_nEqns));
      tmpMeta10 = stringAppend(tmpMeta9,_OMC_LIT196);
      tmpMeta11 = stringAppend(tmpMeta10,intString(_nVars));
      tmpMeta12 = stringAppend(tmpMeta11,_OMC_LIT197);
      omc_Error_addCompilerWarning(threadData, tmpMeta12);

      tmpMeta13 = stringAppend(_OMC_LIT198,intString(_nEqns));
      tmpMeta14 = stringAppend(tmpMeta13,_OMC_LIT196);
      tmpMeta15 = stringAppend(tmpMeta14,intString(_nVars));
      tmpMeta16 = stringAppend(tmpMeta15,_OMC_LIT197);
      omc_BackendDump_dumpEqSystem(threadData, _isyst, tmpMeta16);
    }

    MMC_THROW_INTERNAL();
  }
  _return: OMC_LABEL_UNUSED
  if (out_outShared) { *out_outShared = _outShared; }
  return _osyst;
}

DLLDirection
modelica_metatype omc_Initialization_createInitialDAEFromSystem(threadData_t *threadData, modelica_metatype _inInitsyst, modelica_metatype _inShared, modelica_metatype _initVars, modelica_metatype _enabledModules, modelica_metatype _disabledModules, modelica_metatype _globalKnownVars, modelica_boolean _isLambda0, modelica_metatype *out_dumpVars, modelica_metatype *out_removedEqns)
{
  modelica_metatype _initdae = NULL;
  modelica_metatype _dumpVars = NULL;
  modelica_metatype _removedEqns = NULL;
  modelica_string _systemStr = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _initsyst = NULL;
  modelica_metatype _systs = NULL;
  modelica_metatype _dumpVars2 = NULL;
  modelica_metatype _initOptModules = NULL;
  modelica_metatype _daeHandler = NULL;
  modelica_metatype _matchingAlgorithm = NULL;
  modelica_boolean _b1;
  modelica_boolean _b2;
  modelica_string _msg = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_string tmp16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta20;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta22;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  modelica_metatype tmpMeta25;
  modelica_metatype tmpMeta26;
  modelica_metatype tmpMeta27;
  modelica_metatype tmpMeta28;
  modelica_metatype tmpMeta29;
  modelica_metatype tmpMeta30;
  modelica_metatype tmpMeta31;
  modelica_metatype tmpMeta32;
  modelica_metatype tmpMeta33;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _initdae has no default value.
  // _dumpVars has no default value.
  // _removedEqns has no default value.
  _systemStr = (_isLambda0?_OMC_LIT199:_OMC_LIT107);
  _shared = _inShared;
  // _initsyst has no default value.
  // _systs has no default value.
  // _dumpVars2 has no default value.
  // _initOptModules has no default value.
  // _daeHandler has no default value.
  // _matchingAlgorithm has no default value.
  // _b1 has no default value.
  // _b2 has no default value.
  // _msg has no default value.
  _initsyst = omc_Initialization_preBalanceInitialSystem(threadData, _inInitsyst, _initVars, _isLambda0 ,&_dumpVars);

  tmpMeta1 = stringAppend(_OMC_LIT200,_systemStr);
  tmpMeta2 = stringAppend(tmpMeta1,_OMC_LIT128);
  omc_ExecStat_execStat(threadData, tmpMeta2);

  tmpMeta3 = mmc_mk_cons(_initsyst, MMC_REFSTRUCTLIT(mmc_nil));
  tmpMeta4 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta3, _shared);
  _initdae = tmpMeta4;

  if(omc_Flags_isSet(threadData, _OMC_LIT206))
  {
    tmpMeta5 = stringAppend(_OMC_LIT201,_systemStr);
    tmpMeta6 = stringAppend(tmpMeta5,_OMC_LIT202);
    omc_BackendDump_dumpBackendDAE(threadData, _initdae, tmpMeta6);
  }

  if(omc_Flags_isSet(threadData, _OMC_LIT211))
  {
    _systs = omc_BackendDAEOptimize_partitionIndependentBlocksHelper(threadData, _initsyst, _shared, omc_Error_getNumErrorMessages(threadData), 1 /* true */ ,&_shared);

    tmpMeta7 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, _systs, _shared);
    _initdae = tmpMeta7;

    tmpMeta8 = stringAppend(_OMC_LIT207,_systemStr);
    tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT128);
    omc_ExecStat_execStat(threadData, tmpMeta9);
  }

  if(omc_Flags_isSet(threadData, _OMC_LIT206))
  {
    tmpMeta10 = stringAppend(_OMC_LIT212,_systemStr);
    tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT202);
    omc_BackendDump_dumpBackendDAE(threadData, _initdae, tmpMeta11);
  }

  _initdae = omc_Initialization_analyzeInitialSystem(threadData, _initdae, _initVars, boxvar_Initialization_balanceInitialSystem ,&_dumpVars2 ,&_removedEqns);

  _dumpVars = listAppend(_dumpVars, _dumpVars2);

  tmpMeta12 = stringAppend(_OMC_LIT213,_systemStr);
  tmpMeta13 = stringAppend(tmpMeta12,_OMC_LIT128);
  omc_ExecStat_execStat(threadData, tmpMeta13);

  if(omc_Flags_isSet(threadData, _OMC_LIT217))
  {
    omc_BackendDump_dumpBackendDAE(threadData, _initdae, _systemStr);
  }

  _initdae = omc_BackendDAEUtil_mapEqSystem(threadData, _initdae, boxvar_Initialization_solveInitialSystemEqSystem);

  tmpMeta14 = stringAppend(_OMC_LIT218,_systemStr);
  tmpMeta15 = stringAppend(tmpMeta14,_OMC_LIT128);
  omc_ExecStat_execStat(threadData, tmpMeta15);

  _initdae = omc_BackendDAEUtil_transformBackendDAE(threadData, _initdae, _OMC_LIT222, mmc_mk_none(), mmc_mk_none());

  tmp16 = modelica_integer_to_modelica_string(omc_BackendDAEUtil_daeSize(threadData, _initdae), ((modelica_integer) 0), 1 /* true */);
  tmpMeta17 = stringAppend(_OMC_LIT223,tmp16);
  tmpMeta18 = stringAppend(tmpMeta17,_OMC_LIT224);
  tmpMeta19 = stringAppend(tmpMeta18,_systemStr);
  tmpMeta20 = stringAppend(tmpMeta19,_OMC_LIT128);
  omc_ExecStat_execStat(threadData, tmpMeta20);

  _initdae = omc_BackendDAEOptimize_addInitialStmtsToAlgorithms(threadData, _initdae, 1 /* true */);

  _initdae = omc_BackendDAEUtil_setDAEGlobalKnownVars(threadData, _initdae, _globalKnownVars);

  _initOptModules = omc_BackendDAEUtil_getInitOptModules(threadData, mmc_mk_none(), _enabledModules, _disabledModules);

  _matchingAlgorithm = omc_BackendDAEUtil_getMatchingAlgorithm(threadData, mmc_mk_none());

  _daeHandler = omc_BackendDAEUtil_getIndexReductionMethod(threadData, _OMC_LIT226);

  _initdae = omc_BackendDAEUtil_postOptimizeDAE(threadData, _initdae, _initOptModules, _matchingAlgorithm, _daeHandler);

  if(omc_Flags_isSet(threadData, _OMC_LIT217))
  {
    tmpMeta21 = stringAppend(_OMC_LIT227,_systemStr);
    omc_BackendDump_dumpBackendDAE(threadData, _initdae, tmpMeta21);

    if(omc_Flags_isSet(threadData, _OMC_LIT231))
    {
      omc_BackendDump_graphvizBackendDAE(threadData, _initdae, _OMC_LIT214);
    }
  }

  tmpMeta22 = MMC_TAGPTR(mmc_alloc_words(4));
  memcpy(MMC_UNTAGPTR(tmpMeta22), MMC_UNTAGPTR(_initdae), 4*sizeof(modelica_metatype));
  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta22))[3] = omc_BackendDAEUtil_setSharedGlobalKnownVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_initdae), 3))), omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013)));
  _initdae = tmpMeta22;

  _b1 = (!listEmpty(_dumpVars));

  _b2 = (!listEmpty(_removedEqns));

  _msg = omc_System_gettext(threadData, _OMC_LIT232);

  if(omc_Flags_isSet(threadData, _OMC_LIT110))
  {
    if(_b1)
    {
      tmpMeta23 = stringAppend(_OMC_LIT239,intString(listLength(_dumpVars)));
      tmpMeta24 = stringAppend(tmpMeta23,_OMC_LIT240);
      tmpMeta25 = stringAppend(tmpMeta24,omc_Initialization_warnAboutVars2(threadData, _dumpVars));
      omc_Error_addCompilerWarning(threadData, tmpMeta25);
    }

    if(_b2)
    {
      tmpMeta27 = stringAppend(_OMC_LIT241,intString(listLength(_removedEqns)));
      tmpMeta28 = stringAppend(tmpMeta27,_OMC_LIT242);
      tmpMeta29 = stringAppend(tmpMeta28,_systemStr);
      tmpMeta30 = stringAppend(tmpMeta29,_OMC_LIT243);
      tmpMeta31 = stringAppend(tmpMeta30,omc_Initialization_warnAboutEqns2(threadData, _removedEqns));
      tmpMeta26 = mmc_mk_cons(tmpMeta31, MMC_REFSTRUCTLIT(mmc_nil));
      omc_Error_addMessage(threadData, _OMC_LIT238, tmpMeta26);
    }
  }
  else
  {
    if(_b1)
    {
      tmpMeta32 = mmc_mk_cons(_msg, MMC_REFSTRUCTLIT(mmc_nil));
      omc_Error_addMessage(threadData, _OMC_LIT235, tmpMeta32);
    }

    if(_b2)
    {
      tmpMeta33 = mmc_mk_cons(_msg, MMC_REFSTRUCTLIT(mmc_nil));
      omc_Error_addMessage(threadData, _OMC_LIT238, tmpMeta33);
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_dumpVars) { *out_dumpVars = _dumpVars; }
  if (out_removedEqns) { *out_removedEqns = _removedEqns; }
  return _initdae;
}
modelica_metatype boxptr_Initialization_createInitialDAEFromSystem(threadData_t *threadData, modelica_metatype _inInitsyst, modelica_metatype _inShared, modelica_metatype _initVars, modelica_metatype _enabledModules, modelica_metatype _disabledModules, modelica_metatype _globalKnownVars, modelica_metatype _isLambda0, modelica_metatype *out_dumpVars, modelica_metatype *out_removedEqns)
{
  modelica_integer tmp1;
  modelica_metatype _initdae = NULL;
  tmp1 = mmc_unbox_integer(_isLambda0);
  _initdae = omc_Initialization_createInitialDAEFromSystem(threadData, _inInitsyst, _inShared, _initVars, _enabledModules, _disabledModules, _globalKnownVars, tmp1, out_dumpVars, out_removedEqns);
  /* skip box _initdae; BackendDAE.BackendDAE */
  /* skip box _dumpVars; list<BackendDAE.Var> */
  /* skip box _removedEqns; list<BackendDAE.Equation> */
  return _initdae;
}

DLLDirection
modelica_metatype omc_Initialization_solveInitialSystem(threadData_t *threadData, modelica_metatype _inDAE, modelica_metatype *out_outInitDAE_lambda0, modelica_metatype *out_outRemovedInitialEquations, modelica_metatype *out_outGlobalKnownVars, modelica_metatype *out_outSimDAE)
{
  modelica_metatype _outInitDAE = NULL;
  modelica_metatype _outInitDAE_lambda0 = NULL;
  modelica_metatype _outRemovedInitialEquations = NULL;
  modelica_metatype _outGlobalKnownVars = NULL;
  modelica_metatype _outSimDAE = NULL;
  modelica_metatype _dae = NULL;
  modelica_metatype _initdae = NULL;
  modelica_metatype _initdae0 = NULL;
  modelica_metatype _initsyst = NULL;
  modelica_metatype _initsyst0 = NULL;
  modelica_metatype _systs = NULL;
  modelica_metatype _eqns = NULL;
  modelica_metatype _reeqns = NULL;
  modelica_metatype _eqnsLst = NULL;
  modelica_metatype _reeqnsLst = NULL;
  modelica_metatype _shared = NULL;
  modelica_metatype _initVars = NULL;
  modelica_metatype _vars = NULL;
  modelica_metatype _fixvars = NULL;
  modelica_boolean _useHomotopy;
  modelica_boolean _datarecon;
  modelica_string _msg = NULL;
  modelica_metatype _enabledModules = NULL;
  modelica_metatype _disabledModules = NULL;
  modelica_metatype _hs = NULL;
  modelica_metatype _removedEqns = NULL;
  modelica_metatype _dumpVars = NULL;
  modelica_metatype _dumpVars2 = NULL;
  modelica_metatype _outAllPrimaryParameters = NULL;
  modelica_metatype _allPrimaryParameters = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _outInitDAE has no default value.
  // _outInitDAE_lambda0 has no default value.
  // _outRemovedInitialEquations has no default value.
  // _outGlobalKnownVars has no default value.
  _outSimDAE = _inDAE;
  // _dae has no default value.
  // _initdae has no default value.
  // _initdae0 has no default value.
  // _initsyst has no default value.
  // _initsyst0 has no default value.
  // _systs has no default value.
  // _eqns has no default value.
  // _reeqns has no default value.
  // _eqnsLst has no default value.
  // _reeqnsLst has no default value.
  // _shared has no default value.
  // _initVars has no default value.
  // _vars has no default value.
  // _fixvars has no default value.
  // _useHomotopy has no default value.
  _datarecon = 0 /* false */;
  // _msg has no default value.
  // _enabledModules has no default value.
  // _disabledModules has no default value.
  // _hs has no default value.
  // _removedEqns has no default value.
  // _dumpVars has no default value.
  // _dumpVars2 has no default value.
  // _outAllPrimaryParameters has no default value.
  // _allPrimaryParameters has no default value.
  { /* matchcontinue expression */
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      MMC_TRY_INTERNAL(mmc_jumper)
      tmp2_top:
      threadData->mmc_jumper = &new_mmc_jumper;
      for (; tmp3 < 2; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_boolean tmp39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          /* Pattern matching succeeded */
          _dae = omc_Initialization_inlineWhenForInitialization(threadData, _inDAE);

          omc_ExecStat_execStat(threadData, _OMC_LIT244);

          _dae = omc_Initialization_selectInitializationVariablesDAE(threadData, _dae ,&_initVars ,&_outAllPrimaryParameters ,&_outGlobalKnownVars);

          if(omc_Flags_isSet(threadData, _OMC_LIT217))
          {
            omc_BackendDump_dumpVarList(threadData, _outAllPrimaryParameters, _OMC_LIT245);
          }

          omc_ExecStat_execStat(threadData, _OMC_LIT246);

          _hs = omc_Initialization_collectPreVariables(threadData, _dae);

          omc_ExecStat_execStat(threadData, _OMC_LIT247);

          _vars = omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013));

          _fixvars = omc_BackendVariable_listVar(threadData, _outAllPrimaryParameters);

          _eqns = omc_BackendEquation_emptyEqnsSized(threadData, omc_BackendVariable_varsSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 5)))) + omc_BackendVariable_varsSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 2)))) + omc_BackendVariable_varsSize(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 3)))) + omc_BackendEquation_getNumberOfEquations(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 6)))) + (((modelica_integer) 2)) * (omc_BackendDAEUtil_daeSize(threadData, _dae)));

          _reeqns = omc_BackendEquation_emptyEqnsSized(threadData, omc_BackendEquation_getNumberOfEquations(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 7)))));

          _allPrimaryParameters = _OMC_LIT248;

          {
            modelica_metatype _v;
            for (tmpMeta5 = _outAllPrimaryParameters; !listEmpty(tmpMeta5); tmpMeta5=MMC_CDR(tmpMeta5))
            {
              _v = MMC_CAR(tmpMeta5);
              _allPrimaryParameters = omc_AvlSetCR_add(threadData, _allPrimaryParameters, omc_BackendVariable_varCref(threadData, _v));
            }
          }

          if(isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inDAE), 3)))), 20)))))
          {
            _datarecon = 1 /* true */;
          }

          /* Pattern-matching assignment */
          tmpMeta7 = mmc_mk_box4(0, _vars, _fixvars, _eqns, _hs);
          tmpMeta8 = omc_BackendVariable_traverseBackendDAEVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 5))), boxvar_Initialization_introducePreVarsForAliasVariables, tmpMeta7);
          tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 1));
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 2));
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta8), 3));
          _vars = tmpMeta9;
          _fixvars = tmpMeta10;
          _eqns = tmpMeta11;

          /* Pattern-matching assignment */
          tmpMeta12 = mmc_mk_box7(0, _vars, _fixvars, _eqns, arrayCreate(((modelica_integer) 0), mmc_mk_integer(((modelica_integer) 0))), _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta13 = omc_BackendVariable_traverseBackendDAEVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 2))), boxvar_Initialization_collectInitialVars, tmpMeta12);
          tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 1));
          tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 2));
          tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 3));
          _vars = tmpMeta14;
          _fixvars = tmpMeta15;
          _eqns = tmpMeta16;

          /* Pattern-matching assignment */
          tmpMeta17 = mmc_mk_box7(0, _vars, _fixvars, _eqns, arrayCreate(((modelica_integer) 0), mmc_mk_integer(((modelica_integer) 0))), _hs, _allPrimaryParameters, mmc_mk_boolean(_datarecon));
          tmpMeta18 = omc_BackendVariable_traverseBackendDAEVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 3))), boxvar_Initialization_collectInitialVars, tmpMeta17);
          tmpMeta19 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 1));
          tmpMeta20 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 2));
          tmpMeta21 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta18), 3));
          _vars = tmpMeta19;
          _fixvars = tmpMeta20;
          _eqns = tmpMeta21;

          /* Pattern-matching assignment */
          tmpMeta22 = mmc_mk_box2(0, _eqns, _reeqns);
          tmpMeta23 = omc_BackendEquation_traverseEquationArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 6))), boxvar_Initialization_collectInitialEqns, tmpMeta22);
          tmpMeta24 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 1));
          tmpMeta25 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta23), 2));
          _eqns = tmpMeta24;
          _reeqns = tmpMeta25;

          /* Pattern-matching assignment */
          tmpMeta26 = mmc_mk_box2(0, _eqns, _reeqns);
          tmpMeta27 = omc_BackendEquation_traverseEquationArray(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 7))), boxvar_Initialization_collectInitialEqns, tmpMeta26);
          tmpMeta28 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta27), 1));
          tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta27), 2));
          _eqns = tmpMeta28;
          _reeqns = tmpMeta29;

          omc_ExecStat_execStat(threadData, _OMC_LIT249);

          _vars = omc_Initialization_collectInitialVarsEqnsSystem(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 2))), _vars, _fixvars, _eqns, _reeqns, _hs, _allPrimaryParameters, _datarecon ,&_fixvars ,&_eqns ,&_reeqns);

          /* Pattern-matching assignment */
          tmpMeta30 = mmc_mk_box2(0, _eqns, _reeqns);
          tmpMeta31 = omc_BackendVariable_traverseBackendDAEVars(threadData, _vars, boxvar_Initialization_collectInitialBindings, tmpMeta30);
          tmpMeta32 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta31), 1));
          tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta31), 2));
          _eqns = tmpMeta32;
          _reeqns = tmpMeta33;

          omc_ExecStat_execStat(threadData, _OMC_LIT250);

          _eqnsLst = omc_BackendEquation_equationList(threadData, _eqns);

          _reeqnsLst = omc_BackendEquation_equationList(threadData, _reeqns);

          tmpMeta34 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta35 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta36 = MMC_REFSTRUCTLIT(mmc_nil);
          omc_BackendDAECreate_patchRecordBindings(threadData, tmpMeta34, tmpMeta35, omc_BackendVariable_varList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 2)))), _eqnsLst, _reeqnsLst, tmpMeta36 ,&_eqnsLst ,&_reeqnsLst ,NULL);

          _eqns = omc_BackendEquation_listEquation(threadData, _eqnsLst);

          _reeqns = omc_BackendEquation_listEquation(threadData, _reeqnsLst);

          if(omc_Flags_isSet(threadData, _OMC_LIT254))
          {
            _vars = omc_BackendVariable_scalarizeVariables(threadData, _vars);

            _initVars = omc_BackendVariable_scalarizeVariables(threadData, _initVars);
          }

          _useHomotopy = mmc_unbox_boolean(omc_BackendDAEUtil_traverseBackendDAEExpsEqns(threadData, _eqns, boxvar_Initialization_simplifyInitialFunctions, mmc_mk_boolean(0 /* false */)));

          omc_ExecStat_execStat(threadData, _OMC_LIT255);

          _vars = omc_BackendVariable_rehashVariables(threadData, _vars);

          _fixvars = omc_BackendVariable_rehashVariables(threadData, _fixvars);

          _shared = omc_BackendDAEUtil_createEmptyShared(threadData, _OMC_LIT256, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 17))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 10))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 11))));

          _shared = omc_BackendDAEUtil_setSharedRemovedEqns(threadData, _shared, omc_BackendEquation_emptyEqns(threadData));

          _shared = omc_BackendDAEUtil_setSharedGlobalKnownVars(threadData, _shared, _fixvars);

          _shared = omc_BackendDAEUtil_setSharedOptimica(threadData, _shared, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 8))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 9))));

          _shared = omc_BackendDAEUtil_setSharedFunctionTree(threadData, _shared, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_dae), 3)))), 12))));

          omc_ExecStat_execStat(threadData, _OMC_LIT257);

          tmpMeta37 = MMC_REFSTRUCTLIT(mmc_nil);
          _initsyst = omc_BackendDAEUtil_createEqSystem(threadData, _vars, _eqns, tmpMeta37, _OMC_LIT129, omc_BackendEquation_emptyEqns(threadData));

          _initsyst = omc_BackendDAEUtil_setEqSystRemovedEqns(threadData, _initsyst, _reeqns);

          if(_useHomotopy)
          {
            _initsyst0 = omc_BackendDAEUtil_copyEqSystem(threadData, _initsyst);

            tmp39 = (modelica_boolean)omc_Config_adaptiveHomotopy(threadData);
            if(tmp39)
            {
              tmpMeta40 = _OMC_LIT261;
            }
            else
            {
              tmpMeta38 = MMC_REFSTRUCTLIT(mmc_nil);
              tmpMeta40 = tmpMeta38;
            }
            _enabledModules = tmpMeta40;

            tmpMeta41 = MMC_REFSTRUCTLIT(mmc_nil);
            _disabledModules = tmpMeta41;
          }
          else
          {
            tmpMeta42 = MMC_REFSTRUCTLIT(mmc_nil);
            _enabledModules = tmpMeta42;

            _disabledModules = _OMC_LIT261;
          }

          _initdae = omc_Initialization_createInitialDAEFromSystem(threadData, _initsyst, _shared, _initVars, _enabledModules, _disabledModules, _outGlobalKnownVars, 0 /* false */ ,&_dumpVars ,&_outRemovedInitialEquations);

          _outSimDAE = omc_BackendVariable_traverseBackendDAE(threadData, _outSimDAE, boxvar_Initialization_updateFixedAttribute, omc_BackendVariable_listVar(threadData, _dumpVars), NULL);

          if((_useHomotopy && omc_Config_globalHomotopy(threadData)))
          {
            _initsyst0 = omc_Initialization_replaceHomotopyWithSimplifiedEqs(threadData, _initsyst0);

            tmpMeta43 = mmc_mk_cons(_initsyst0, MMC_REFSTRUCTLIT(mmc_nil));
            tmpMeta44 = mmc_mk_box3(3, &BackendDAE_BackendDAE_DAE__desc, tmpMeta43, _shared);
            _initdae0 = tmpMeta44;

            _initdae0 = omc_BackendDAEUtil_setFunctionTree(threadData, _initdae0, omc_BackendDAEUtil_getFunctions(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_initdae), 3)))));

            tmpMeta45 = MMC_REFSTRUCTLIT(mmc_nil);
            _initdae0 = omc_Initialization_createInitialDAEFromSystem(threadData, _initsyst0, _shared, _initVars, tmpMeta45, _OMC_LIT261, _outGlobalKnownVars, 1 /* true */ ,NULL ,&_removedEqns);

            _outRemovedInitialEquations = listAppend(_removedEqns, _outRemovedInitialEquations);

            tmpMeta46 = MMC_TAGPTR(mmc_alloc_words(4));
            memcpy(MMC_UNTAGPTR(tmpMeta46), MMC_UNTAGPTR(_initdae0), 4*sizeof(modelica_metatype));
            ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta46))[3] = omc_BackendDAEUtil_setSharedGlobalKnownVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_initdae0), 3))), omc_BackendVariable_emptyVars(threadData, ((modelica_integer) 4013)));
            _initdae0 = tmpMeta46;

            _outInitDAE_lambda0 = mmc_mk_some(_initdae0);

            _initdae = omc_BackendDAEUtil_setFunctionTree(threadData, _initdae, omc_BackendDAEUtil_getFunctions(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_initdae0), 3)))));
          }
          else
          {
            _outInitDAE_lambda0 = mmc_mk_none();
          }

          if((omc_Flags_isSet(threadData, _OMC_LIT266) && omc_Flags_isSet(threadData, _OMC_LIT217)))
          {
            omc_BackendDump_dumpEqnsSolved(threadData, _initdae, _OMC_LIT262);
          }

          if(omc_Flags_isSet(threadData, _OMC_LIT270))
          {
            omc_BackendDAEOptimize_listAllIterationVariables(threadData, _initdae);
          }

          if(((omc_Flags_isSet(threadData, _OMC_LIT274) || omc_Flags_isSet(threadData, _OMC_LIT278)) || omc_Flags_isSet(threadData, _OMC_LIT282)))
          {
            omc_BackendDump_dumpCompShort(threadData, _initdae);
          }

          _outInitDAE = _initdae;
          goto tmp2_done;
        }
        case 1: {
          /* Pattern matching succeeded */
          omc_Error_addCompilerError(threadData, _OMC_LIT283);

          goto goto_1;
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      tmp2_done:
      (void)tmp3;
      MMC_RESTORE_INTERNAL(mmc_jumper);
      goto tmp2_done2;
      goto_1:;
      MMC_CATCH_INTERNAL(mmc_jumper);
      if (++tmp3 < 2) {
        goto tmp2_top;
      }
      MMC_THROW_INTERNAL();
      tmp2_done2:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  if (out_outInitDAE_lambda0) { *out_outInitDAE_lambda0 = _outInitDAE_lambda0; }
  if (out_outRemovedInitialEquations) { *out_outRemovedInitialEquations = _outRemovedInitialEquations; }
  if (out_outGlobalKnownVars) { *out_outGlobalKnownVars = _outGlobalKnownVars; }
  if (out_outSimDAE) { *out_outSimDAE = _outSimDAE; }
  return _outInitDAE;
}

