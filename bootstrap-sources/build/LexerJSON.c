#include "omc_simulation_settings.h"
#include "LexerJSON.h"
#define _OMC_LIT0_data "\n["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT0,2,_OMC_LIT0_data);
#define _OMC_LIT0 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT0)
#define _OMC_LIT1_data ":"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT1,1,_OMC_LIT1_data);
#define _OMC_LIT1 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT1)
#define _OMC_LIT2_data "]: checkArray failed: arrayLength="
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT2,34,_OMC_LIT2_data);
#define _OMC_LIT2 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT2)
#define _OMC_LIT3_data " index="
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT3,7,_OMC_LIT3_data);
#define _OMC_LIT3 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT3)
#define _OMC_LIT4_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT4,1,_OMC_LIT4_data);
#define _OMC_LIT4 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT4)
static _index_t _OMC_LIT5_dims[1] = {51};
static const modelica_integer _OMC_LIT5_data[] = {0, 0, 81, 82, 78, 25, 82, 22, 82, 82, 82, 63, 53, 55, 82, 82, 74, 27, 82, 50, 65, 26, 39, 53, 52, 37, 82, 0, 37, 45, 43, 27, 27, 24, 0, 47, 19, 82, 82, 0, 27, 23, 82, 0, 82, 56, 59, 61, 63, 65, 67};
#if (defined(__clang__)  && __clang_major__ >= 17) || (defined(__GNUC__) && __GNUC__ >= 8)
static integer_array const _OMC_LIT5 = {
  1, _OMC_LIT5_dims, (void*) _OMC_LIT5_data, (modelica_boolean) 0
};
#else
/* handle joke compilers */
#define _OMC_LIT5 (base_array_t){1, _OMC_LIT5_dims, (void*) _OMC_LIT5_data, (modelica_boolean) 0}
#endif
static _index_t _OMC_LIT6_dims[1] = {109};
static const modelica_integer _OMC_LIT6_data[] = {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 6, 8, 18, 8, 42, 22, 8, 22, 41, 37, 22, 6, 8, 18, 34, 23, 22, 23, 29, 33, 23, 29, 32, 36, 31, 36, 30, 29, 36, 46, 46, 46, 46, 47, 26, 47, 48, 48, 49, 49, 50, 50, 51, 51, 25, 24, 21, 20, 17, 14, 13, 12, 5, 3, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45};
#if (defined(__clang__)  && __clang_major__ >= 17) || (defined(__GNUC__) && __GNUC__ >= 8)
static integer_array const _OMC_LIT6 = {
  1, _OMC_LIT6_dims, (void*) _OMC_LIT6_data, (modelica_boolean) 0
};
#else
/* handle joke compilers */
#define _OMC_LIT6 (base_array_t){1, _OMC_LIT6_dims, (void*) _OMC_LIT6_data, (modelica_boolean) 0}
#endif
static _index_t _OMC_LIT7_dims[1] = {51};
static const modelica_integer _OMC_LIT7_data[] = {45, 1, 45, 45, 45, 46, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 46, 45, 47, 45, 45, 45, 45, 45, 45, 45, 48, 45, 45, 45, 45, 45, 45, 49, 45, 45, 45, 45, 50, 45, 45, 45, 51, 0, 45, 45, 45, 45, 45, 45};
#if (defined(__clang__)  && __clang_major__ >= 17) || (defined(__GNUC__) && __GNUC__ >= 8)
static integer_array const _OMC_LIT7 = {
  1, _OMC_LIT7_dims, (void*) _OMC_LIT7_data, (modelica_boolean) 0
};
#else
/* handle joke compilers */
#define _OMC_LIT7 (base_array_t){1, _OMC_LIT7_dims, (void*) _OMC_LIT7_data, (modelica_boolean) 0}
#endif
static _index_t _OMC_LIT8_dims[1] = {27};
static const modelica_integer _OMC_LIT8_data[] = {1, 1, 2, 1, 1, 1, 1, 2, 3, 1, 3, 3, 1, 2, 1, 3, 4, 3, 4, 1, 2, 2, 1, 2, 2, 1, 1};
#if (defined(__clang__)  && __clang_major__ >= 17) || (defined(__GNUC__) && __GNUC__ >= 8)
static integer_array const _OMC_LIT8 = {
  1, _OMC_LIT8_dims, (void*) _OMC_LIT8_data, (modelica_boolean) 0
};
#else
/* handle joke compilers */
#define _OMC_LIT8 (base_array_t){1, _OMC_LIT8_dims, (void*) _OMC_LIT8_data, (modelica_boolean) 0}
#endif
static _index_t _OMC_LIT9_dims[1] = {46};
static const modelica_integer _OMC_LIT9_data[] = {1, 1, 1, 2, 3, 5, 6, 8, 10, 12, 14, 16, 17, 18, 19, 21, 23, 24, 24, 25, 25, 25, 26, 26, 26, 26, 26, 27, 27, 28, 28, 29, 29, 29, 29, 29, 29, 29, 30, 31, 31, 31, 32, 33, 33, 33};
#if (defined(__clang__)  && __clang_major__ >= 17) || (defined(__GNUC__) && __GNUC__ >= 8)
static integer_array const _OMC_LIT9 = {
  1, _OMC_LIT9_dims, (void*) _OMC_LIT9_data, (modelica_boolean) 0
};
#else
/* handle joke compilers */
#define _OMC_LIT9 (base_array_t){1, _OMC_LIT9_dims, (void*) _OMC_LIT9_data, (modelica_boolean) 0}
#endif
static _index_t _OMC_LIT10_dims[1] = {32};
static const modelica_integer _OMC_LIT10_data[] = {17, 16, 15, 16, 16, 13, 16, 5, 16, 14, 16, 11, 16, 12, 16, 16, 16, 16, 9, 16, 10, 16, 15, 1, 5, 2, 3, 4, 8, 6, 3, 7};
#if (defined(__clang__)  && __clang_major__ >= 17) || (defined(__GNUC__) && __GNUC__ >= 8)
static integer_array const _OMC_LIT10 = {
  1, _OMC_LIT10_dims, (void*) _OMC_LIT10_data, (modelica_boolean) 0
};
#else
/* handle joke compilers */
#define _OMC_LIT10 (base_array_t){1, _OMC_LIT10_dims, (void*) _OMC_LIT10_data, (modelica_boolean) 0}
#endif
static _index_t _OMC_LIT11_dims[1] = {255};
static const modelica_integer _OMC_LIT11_data[] = {1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 4, 5, 6, 7, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 1, 1, 1, 1, 1, 1, 11, 11, 11, 11, 12, 11, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 13, 14, 15, 1, 1, 1, 16, 17, 11, 11, 18, 19, 1, 1, 1, 1, 1, 20, 1, 21, 1, 1, 1, 22, 23, 24, 25, 1, 1, 1, 1, 1, 26, 1, 27, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1};
#if (defined(__clang__)  && __clang_major__ >= 17) || (defined(__GNUC__) && __GNUC__ >= 8)
static integer_array const _OMC_LIT11 = {
  1, _OMC_LIT11_dims, (void*) _OMC_LIT11_data, (modelica_boolean) 0
};
#else
/* handle joke compilers */
#define _OMC_LIT11 (base_array_t){1, _OMC_LIT11_dims, (void*) _OMC_LIT11_data, (modelica_boolean) 0}
#endif
static _index_t _OMC_LIT12_dims[1] = {109};
static const modelica_integer _OMC_LIT12_data[] = {4, 5, 6, 4, 7, 4, 4, 4, 8, 9, 4, 4, 10, 4, 11, 4, 4, 4, 12, 4, 13, 4, 4, 14, 4, 15, 16, 19, 21, 27, 22, 42, 21, 23, 22, 42, 43, 23, 20, 23, 20, 39, 30, 23, 30, 29, 38, 31, 36, 37, 41, 31, 41, 31, 36, 42, 18, 18, 18, 18, 18, 34, 18, 35, 35, 40, 40, 44, 44, 18, 18, 33, 32, 29, 28, 17, 26, 25, 24, 17, 45, 3, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45};
#if (defined(__clang__)  && __clang_major__ >= 17) || (defined(__GNUC__) && __GNUC__ >= 8)
static integer_array const _OMC_LIT12 = {
  1, _OMC_LIT12_dims, (void*) _OMC_LIT12_data, (modelica_boolean) 0
};
#else
/* handle joke compilers */
#define _OMC_LIT12 (base_array_t){1, _OMC_LIT12_dims, (void*) _OMC_LIT12_data, (modelica_boolean) 0}
#endif
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT13,0.0);
#define _OMC_LIT13 MMC_REFREALLIT(_OMC_LIT_STRUCT13)
#define _OMC_LIT14_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT14,0,_OMC_LIT14_data);
#define _OMC_LIT14 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT14)
#define _OMC_LIT15_data "[TOKEN:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT15,7,_OMC_LIT15_data);
#define _OMC_LIT15 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data " '"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,2,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
#define _OMC_LIT17_data "' ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT17,3,_OMC_LIT17_data);
#define _OMC_LIT17 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT17)
#define _OMC_LIT18_data "-"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT18,1,_OMC_LIT18_data);
#define _OMC_LIT18 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT18)
#define _OMC_LIT19_data ")]"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT19,2,_OMC_LIT19_data);
#define _OMC_LIT19 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT19)
#define _OMC_LIT20_data "<NoFile>"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT20,8,_OMC_LIT20_data);
#define _OMC_LIT20 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT20)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT21,10,3) {&LexerJSON_Token_TOKEN__desc,_OMC_LIT20,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT14,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT21 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT21)
#define _OMC_LIT22_data "\nLexer unknown rule, action="
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT22,28,_OMC_LIT22_data);
#define _OMC_LIT22 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT22)
#define _OMC_LIT23_data "<StringSource>"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT23,14,_OMC_LIT23_data);
#define _OMC_LIT23 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT23)
#include "util/modelica.h"

#include "LexerJSON_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC void omc_LexerJSON_checkArrayModelica(threadData_t *threadData, integer_array _arr, modelica_integer _index, modelica_metatype _info);
PROTECTED_FUNCTION_STATIC void boxptr_LexerJSON_checkArrayModelica(threadData_t *threadData, modelica_metatype _arr, modelica_metatype _index, modelica_metatype _info);
static const MMC_DEFSTRUCTLIT(boxvar_lit_LexerJSON_checkArrayModelica,2,0) {(void*) boxptr_LexerJSON_checkArrayModelica,0}};
#define boxvar_LexerJSON_checkArrayModelica MMC_REFSTRUCTLIT(boxvar_lit_LexerJSON_checkArrayModelica)
PROTECTED_FUNCTION_STATIC void omc_LexerJSON_checkArray(threadData_t *threadData, modelica_metatype _arr, modelica_integer _index, modelica_metatype _info);
PROTECTED_FUNCTION_STATIC void boxptr_LexerJSON_checkArray(threadData_t *threadData, modelica_metatype _arr, modelica_metatype _index, modelica_metatype _info);
static const MMC_DEFSTRUCTLIT(boxvar_lit_LexerJSON_checkArray,2,0) {(void*) boxptr_LexerJSON_checkArray,0}};
#define boxvar_LexerJSON_checkArray MMC_REFSTRUCTLIT(boxvar_lit_LexerJSON_checkArray)
PROTECTED_FUNCTION_STATIC modelica_integer omc_LexerJSON_evalState(threadData_t *threadData, modelica_integer _cState, modelica_integer _c, modelica_integer *out_new_c);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_LexerJSON_evalState(threadData_t *threadData, modelica_metatype _cState, modelica_metatype _c, modelica_metatype *out_new_c);
static const MMC_DEFSTRUCTLIT(boxvar_lit_LexerJSON_evalState,2,0) {(void*) boxptr_LexerJSON_evalState,0}};
#define boxvar_LexerJSON_evalState MMC_REFSTRUCTLIT(boxvar_lit_LexerJSON_evalState)
PROTECTED_FUNCTION_STATIC modelica_integer omc_LexerJSON_findRule(threadData_t *threadData, modelica_string _fileContents, modelica_integer _currSt, modelica_integer _pos, modelica_integer _sPos, modelica_integer _mm_ePos, modelica_integer _linenr, modelica_integer _inBuffer, modelica_integer _inBkBuffer, modelica_metatype _inStates, modelica_integer *out_mm_currSt, modelica_integer *out_mm_pos, modelica_integer *out_mm_sPos, modelica_integer *out_mm_linenr, modelica_integer *out_buffer, modelica_integer *out_bkBuffer, modelica_metatype *out_states);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_LexerJSON_findRule(threadData_t *threadData, modelica_metatype _fileContents, modelica_metatype _currSt, modelica_metatype _pos, modelica_metatype _sPos, modelica_metatype _mm_ePos, modelica_metatype _linenr, modelica_metatype _inBuffer, modelica_metatype _inBkBuffer, modelica_metatype _inStates, modelica_metatype *out_mm_currSt, modelica_metatype *out_mm_pos, modelica_metatype *out_mm_sPos, modelica_metatype *out_mm_linenr, modelica_metatype *out_buffer, modelica_metatype *out_bkBuffer, modelica_metatype *out_states);
static const MMC_DEFSTRUCTLIT(boxvar_lit_LexerJSON_findRule,2,0) {(void*) boxptr_LexerJSON_findRule,0}};
#define boxvar_LexerJSON_findRule MMC_REFSTRUCTLIT(boxvar_lit_LexerJSON_findRule)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_LexerJSON_consume(threadData_t *threadData, modelica_integer _cp, modelica_metatype _tokens, modelica_string _fileContents, modelica_integer _startSt, modelica_integer _currSt, modelica_integer _pos, modelica_integer _sPos, modelica_integer _ePos, modelica_integer _linenr, modelica_integer _inLineNrStart, modelica_integer _inBuffer, modelica_metatype _inStates, modelica_string _fileName, modelica_metatype _inErrorTokens, modelica_integer *out_bkBuffer, modelica_integer *out_mm_startSt, modelica_integer *out_mm_currSt, modelica_integer *out_mm_pos, modelica_integer *out_mm_sPos, modelica_integer *out_mm_ePos, modelica_integer *out_mm_linenr, modelica_integer *out_lineNrStart, modelica_integer *out_buffer, modelica_metatype *out_states, modelica_metatype *out_errorTokens);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_LexerJSON_consume(threadData_t *threadData, modelica_metatype _cp, modelica_metatype _tokens, modelica_metatype _fileContents, modelica_metatype _startSt, modelica_metatype _currSt, modelica_metatype _pos, modelica_metatype _sPos, modelica_metatype _ePos, modelica_metatype _linenr, modelica_metatype _inLineNrStart, modelica_metatype _inBuffer, modelica_metatype _inStates, modelica_metatype _fileName, modelica_metatype _inErrorTokens, modelica_metatype *out_bkBuffer, modelica_metatype *out_mm_startSt, modelica_metatype *out_mm_currSt, modelica_metatype *out_mm_pos, modelica_metatype *out_mm_sPos, modelica_metatype *out_mm_ePos, modelica_metatype *out_mm_linenr, modelica_metatype *out_lineNrStart, modelica_metatype *out_buffer, modelica_metatype *out_states, modelica_metatype *out_errorTokens);
static const MMC_DEFSTRUCTLIT(boxvar_lit_LexerJSON_consume,2,0) {(void*) boxptr_LexerJSON_consume,0}};
#define boxvar_LexerJSON_consume MMC_REFSTRUCTLIT(boxvar_lit_LexerJSON_consume)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_LexerJSON_lex(threadData_t *threadData, modelica_string _fileName, modelica_string _contents, modelica_metatype *out_errorTokens);
static const MMC_DEFSTRUCTLIT(boxvar_lit_LexerJSON_lex,2,0) {(void*) boxptr_LexerJSON_lex,0}};
#define boxvar_LexerJSON_lex MMC_REFSTRUCTLIT(boxvar_lit_LexerJSON_lex)

PROTECTED_FUNCTION_STATIC void omc_LexerJSON_checkArrayModelica(threadData_t *threadData, integer_array _arr, modelica_integer _index, modelica_metatype _info)
{
  modelica_string _filename = NULL;
  modelica_integer _lineStart;
  modelica_integer tmp1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_integer tmp5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_string tmp8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_string tmp11;
  modelica_integer tmp12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_string tmp15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _filename has no default value.
  // _lineStart has no default value.
  tmp1 = size_of_dimension_base_array(_arr, ((modelica_integer) 1));
  if(((_index < ((modelica_integer) 1)) || (_index > tmp1)))
  {
    /* Pattern-matching assignment */
    tmpMeta2 = _info;
    tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
    tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 4));
    tmp5 = mmc_unbox_integer(tmpMeta4);
    _filename = tmpMeta3;
    _lineStart = tmp5  /* pattern as ty=Integer */;

    tmpMeta6 = stringAppend(_OMC_LIT0,_filename);
    tmpMeta7 = stringAppend(tmpMeta6,_OMC_LIT1);
    tmp8 = modelica_integer_to_modelica_string(_lineStart, ((modelica_integer) 0), 1 /* true */);
    tmpMeta9 = stringAppend(tmpMeta7,tmp8);
    tmpMeta10 = stringAppend(tmpMeta9,_OMC_LIT2);
    tmp12 = size_of_dimension_base_array(_arr, ((modelica_integer) 1));
    tmp11 = modelica_integer_to_modelica_string(tmp12, ((modelica_integer) 0), 1 /* true */);
    tmpMeta13 = stringAppend(tmpMeta10,tmp11);
    tmpMeta14 = stringAppend(tmpMeta13,_OMC_LIT3);
    tmp15 = modelica_integer_to_modelica_string(_index, ((modelica_integer) 0), 1 /* true */);
    tmpMeta16 = stringAppend(tmpMeta14,tmp15);
    tmpMeta17 = stringAppend(tmpMeta16,_OMC_LIT4);
    fputs(MMC_STRINGDATA(tmpMeta17),stdout);

    MMC_THROW_INTERNAL();
  }
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_LexerJSON_checkArrayModelica(threadData_t *threadData, modelica_metatype _arr, modelica_metatype _index, modelica_metatype _info)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_index);
  omc_LexerJSON_checkArrayModelica(threadData, *((base_array_t*)_arr), tmp1, _info);
  return;
}

PROTECTED_FUNCTION_STATIC void omc_LexerJSON_checkArray(threadData_t *threadData, modelica_metatype _arr, modelica_integer _index, modelica_metatype _info)
{
  modelica_string _filename = NULL;
  modelica_integer _lineStart;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_string tmp7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_string tmp10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_string tmp13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _filename has no default value.
  // _lineStart has no default value.
  if(((_index < ((modelica_integer) 1)) || (_index > arrayLength(_arr))))
  {
    /* Pattern-matching assignment */
    tmpMeta1 = _info;
    tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
    tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 4));
    tmp4 = mmc_unbox_integer(tmpMeta3);
    _filename = tmpMeta2;
    _lineStart = tmp4  /* pattern as ty=Integer */;

    tmpMeta5 = stringAppend(_OMC_LIT0,_filename);
    tmpMeta6 = stringAppend(tmpMeta5,_OMC_LIT1);
    tmp7 = modelica_integer_to_modelica_string(_lineStart, ((modelica_integer) 0), 1 /* true */);
    tmpMeta8 = stringAppend(tmpMeta6,tmp7);
    tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT2);
    tmp10 = modelica_integer_to_modelica_string(arrayLength(_arr), ((modelica_integer) 0), 1 /* true */);
    tmpMeta11 = stringAppend(tmpMeta9,tmp10);
    tmpMeta12 = stringAppend(tmpMeta11,_OMC_LIT3);
    tmp13 = modelica_integer_to_modelica_string(_index, ((modelica_integer) 0), 1 /* true */);
    tmpMeta14 = stringAppend(tmpMeta12,tmp13);
    tmpMeta15 = stringAppend(tmpMeta14,_OMC_LIT4);
    fputs(MMC_STRINGDATA(tmpMeta15),stdout);

    MMC_THROW_INTERNAL();
  }
  _return: OMC_LABEL_UNUSED
  return;
}
PROTECTED_FUNCTION_STATIC void boxptr_LexerJSON_checkArray(threadData_t *threadData, modelica_metatype _arr, modelica_metatype _index, modelica_metatype _info)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_index);
  omc_LexerJSON_checkArray(threadData, _arr, tmp1, _info);
  return;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_LexerJSON_evalState(threadData_t *threadData, modelica_integer _cState, modelica_integer _c, modelica_integer *out_new_c)
{
  modelica_integer _new_state;
  modelica_integer _new_c;
  modelica_integer _cState1;
  modelica_integer _c1;
  modelica_integer _val;
  modelica_integer _val2;
  modelica_integer _chk;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _new_state has no default value.
  // _new_c has no default value.
  _cState1 = _cState;
  _c1 = _c;
  // _val has no default value.
  // _val2 has no default value.
  // _chk has no default value.
  _chk = integer_get(_OMC_LIT5, (_cState1)-1);

  _chk = _chk + _c1;

  _val = integer_get(_OMC_LIT6, (_chk)-1);

  _val2 = integer_get(_OMC_LIT5, (_cState1)-1) + _c1;

  if((_cState1 != _val))
  {
    _cState1 = integer_get(_OMC_LIT7, (_cState1)-1);

    if((_cState1 >= ((modelica_integer) 46)))
    {
      _c1 = integer_get(_OMC_LIT8, (_c1)-1);
    }

    if((_cState1 > ((modelica_integer) 0)))
    {
      _cState1 = omc_LexerJSON_evalState(threadData, _cState1, _c1 ,&_c1);
    }
  }

  _new_state = _cState1;

  _new_c = _c1;
  _return: OMC_LABEL_UNUSED
  if (out_new_c) { *out_new_c = _new_c; }
  return _new_state;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_LexerJSON_evalState(threadData_t *threadData, modelica_metatype _cState, modelica_metatype _c, modelica_metatype *out_new_c)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer _new_c;
  modelica_integer _new_state;
  modelica_metatype out_new_state;
  tmp1 = mmc_unbox_integer(_cState);
  tmp2 = mmc_unbox_integer(_c);
  _new_state = omc_LexerJSON_evalState(threadData, tmp1, tmp2, &_new_c);
  out_new_state = mmc_mk_icon(_new_state);
  if (out_new_c) { *out_new_c = mmc_mk_icon(_new_c); }
  return out_new_state;
}

PROTECTED_FUNCTION_STATIC modelica_integer omc_LexerJSON_findRule(threadData_t *threadData, modelica_string _fileContents, modelica_integer _currSt, modelica_integer _pos, modelica_integer _sPos, modelica_integer _mm_ePos, modelica_integer _linenr, modelica_integer _inBuffer, modelica_integer _inBkBuffer, modelica_metatype _inStates, modelica_integer *out_mm_currSt, modelica_integer *out_mm_pos, modelica_integer *out_mm_sPos, modelica_integer *out_mm_linenr, modelica_integer *out_buffer, modelica_integer *out_bkBuffer, modelica_metatype *out_states)
{
  modelica_integer _action;
  modelica_integer _mm_currSt;
  modelica_integer _mm_pos;
  modelica_integer _mm_sPos;
  modelica_integer _mm_linenr;
  modelica_integer _buffer;
  modelica_integer _bkBuffer;
  modelica_metatype _states = NULL;
  modelica_metatype _mm_accept = NULL;
  modelica_metatype _mm_ec = NULL;
  modelica_metatype _mm_meta = NULL;
  modelica_metatype _mm_base = NULL;
  modelica_metatype _mm_def = NULL;
  modelica_metatype _mm_nxt = NULL;
  modelica_metatype _mm_chk = NULL;
  modelica_metatype _mm_acclist = NULL;
  modelica_integer _lp;
  modelica_integer _lp1;
  modelica_integer _stCmp;
  modelica_integer _cp;
  modelica_boolean _st;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _action has no default value.
  // _mm_currSt has no default value.
  // _mm_pos has no default value.
  // _mm_sPos has no default value.
  // _mm_linenr has no default value.
  // _buffer has no default value.
  // _bkBuffer has no default value.
  // _states has no default value.
  // _mm_accept has no default value.
  // _mm_ec has no default value.
  // _mm_meta has no default value.
  // _mm_base has no default value.
  // _mm_def has no default value.
  // _mm_nxt has no default value.
  // _mm_chk has no default value.
  // _mm_acclist has no default value.
  // _lp has no default value.
  // _lp1 has no default value.
  // _stCmp has no default value.
  // _cp has no default value.
  // _st has no default value.
  _mm_currSt = _currSt;

  _mm_pos = _pos;

  _mm_sPos = _sPos;

  _mm_linenr = _linenr;

  _buffer = _inBuffer;

  _bkBuffer = _inBkBuffer;

  _states = _inStates;

  _stCmp = mmc_unbox_integer(listGet(_states, ((modelica_integer) 1)));

  _lp = integer_get(_OMC_LIT9, (_stCmp)-1);

  _lp1 = integer_get(_OMC_LIT9, (((modelica_integer) 1) + _stCmp)-1);

  _st = ((_lp > ((modelica_integer) 0)) && (_lp < _lp1));

  if(_st)
  {
    _lp = integer_get(_OMC_LIT9, (_stCmp)-1);

    _action = integer_get(_OMC_LIT10, (_lp)-1);
  }
  else
  {
    _cp = stringGetNoBoundsChecking(_fileContents, ((modelica_integer) -1) + _mm_pos);

    _buffer = ((modelica_integer) -1) + _buffer;

    _bkBuffer = ((modelica_integer) 1) + _bkBuffer;

    _mm_pos = ((modelica_integer) -1) + _mm_pos;

    _mm_sPos = ((modelica_integer) -1) + _mm_sPos;

    if((_cp == ((modelica_integer) 10)))
    {
      _mm_sPos = _mm_ePos;

      _mm_linenr = ((modelica_integer) -1) + _mm_linenr;
    }

    /* Pattern-matching assignment */
    tmpMeta1 = _states;
    if (listEmpty(tmpMeta1)) MMC_THROW_INTERNAL();
    tmpMeta2 = MMC_CAR(tmpMeta1);
    tmpMeta3 = MMC_CDR(tmpMeta1);
    tmp4 = mmc_unbox_integer(tmpMeta2);
    _mm_currSt = tmp4  /* pattern as ty=Integer */;
    _states = tmpMeta3;

    /* Tail recursive call */
    _currSt = _mm_currSt;
    _pos = _mm_pos;
    _sPos = _mm_sPos;
    _linenr = _mm_linenr;
    _inBuffer = _buffer;
    _inBkBuffer = _bkBuffer;
    _inStates = _states;
    goto _tailrecursive;
    /* TODO: Make sure any eventual dead code below is never generated */
    ;
  }
  _return: OMC_LABEL_UNUSED
  if (out_mm_currSt) { *out_mm_currSt = _mm_currSt; }
  if (out_mm_pos) { *out_mm_pos = _mm_pos; }
  if (out_mm_sPos) { *out_mm_sPos = _mm_sPos; }
  if (out_mm_linenr) { *out_mm_linenr = _mm_linenr; }
  if (out_buffer) { *out_buffer = _buffer; }
  if (out_bkBuffer) { *out_bkBuffer = _bkBuffer; }
  if (out_states) { *out_states = _states; }
  return _action;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_LexerJSON_findRule(threadData_t *threadData, modelica_metatype _fileContents, modelica_metatype _currSt, modelica_metatype _pos, modelica_metatype _sPos, modelica_metatype _mm_ePos, modelica_metatype _linenr, modelica_metatype _inBuffer, modelica_metatype _inBkBuffer, modelica_metatype _inStates, modelica_metatype *out_mm_currSt, modelica_metatype *out_mm_pos, modelica_metatype *out_mm_sPos, modelica_metatype *out_mm_linenr, modelica_metatype *out_buffer, modelica_metatype *out_bkBuffer, modelica_metatype *out_states)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_integer _mm_currSt;
  modelica_integer _mm_pos;
  modelica_integer _mm_sPos;
  modelica_integer _mm_linenr;
  modelica_integer _buffer;
  modelica_integer _bkBuffer;
  modelica_integer _action;
  modelica_metatype out_action;
  tmp1 = mmc_unbox_integer(_currSt);
  tmp2 = mmc_unbox_integer(_pos);
  tmp3 = mmc_unbox_integer(_sPos);
  tmp4 = mmc_unbox_integer(_mm_ePos);
  tmp5 = mmc_unbox_integer(_linenr);
  tmp6 = mmc_unbox_integer(_inBuffer);
  tmp7 = mmc_unbox_integer(_inBkBuffer);
  _action = omc_LexerJSON_findRule(threadData, _fileContents, tmp1, tmp2, tmp3, tmp4, tmp5, tmp6, tmp7, _inStates, &_mm_currSt, &_mm_pos, &_mm_sPos, &_mm_linenr, &_buffer, &_bkBuffer, out_states);
  out_action = mmc_mk_icon(_action);
  if (out_mm_currSt) { *out_mm_currSt = mmc_mk_icon(_mm_currSt); }
  if (out_mm_pos) { *out_mm_pos = mmc_mk_icon(_mm_pos); }
  if (out_mm_sPos) { *out_mm_sPos = mmc_mk_icon(_mm_sPos); }
  if (out_mm_linenr) { *out_mm_linenr = mmc_mk_icon(_mm_linenr); }
  if (out_buffer) { *out_buffer = mmc_mk_icon(_buffer); }
  if (out_bkBuffer) { *out_bkBuffer = mmc_mk_icon(_bkBuffer); }
  /* skip box _states; list<#Integer> */
  return out_action;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_LexerJSON_consume(threadData_t *threadData, modelica_integer _cp, modelica_metatype _tokens, modelica_string _fileContents, modelica_integer _startSt, modelica_integer _currSt, modelica_integer _pos, modelica_integer _sPos, modelica_integer _ePos, modelica_integer _linenr, modelica_integer _inLineNrStart, modelica_integer _inBuffer, modelica_metatype _inStates, modelica_string _fileName, modelica_metatype _inErrorTokens, modelica_integer *out_bkBuffer, modelica_integer *out_mm_startSt, modelica_integer *out_mm_currSt, modelica_integer *out_mm_pos, modelica_integer *out_mm_sPos, modelica_integer *out_mm_ePos, modelica_integer *out_mm_linenr, modelica_integer *out_lineNrStart, modelica_integer *out_buffer, modelica_metatype *out_states, modelica_metatype *out_errorTokens)
{
  modelica_metatype _resToken = NULL;
  modelica_integer _bkBuffer;
  modelica_integer _mm_startSt;
  modelica_integer _mm_currSt;
  modelica_integer _mm_pos;
  modelica_integer _mm_sPos;
  modelica_integer _mm_ePos;
  modelica_integer _mm_linenr;
  modelica_integer _lineNrStart;
  modelica_integer _buffer;
  modelica_metatype _states = NULL;
  modelica_metatype _errorTokens = NULL;
  modelica_metatype _tok = NULL;
  modelica_integer _act;
  modelica_integer _buffer2;
  modelica_integer _c;
  modelica_integer _baseCond;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _resToken has no default value.
  _bkBuffer = ((modelica_integer) 0);
  // _mm_startSt has no default value.
  // _mm_currSt has no default value.
  // _mm_pos has no default value.
  // _mm_sPos has no default value.
  // _mm_ePos has no default value.
  // _mm_linenr has no default value.
  // _lineNrStart has no default value.
  // _buffer has no default value.
  // _states has no default value.
  _errorTokens = _inErrorTokens;
  // _tok has no default value.
  // _act has no default value.
  // _buffer2 has no default value.
  // _c has no default value.
  // _baseCond has no default value.
  _mm_startSt = _startSt;

  _mm_currSt = _currSt;

  _mm_pos = _pos;

  _mm_sPos = _sPos;

  _mm_ePos = _ePos;

  _mm_linenr = _linenr;

  _lineNrStart = _inLineNrStart;

  _buffer = _inBuffer;

  _states = _inStates;

  _baseCond = integer_get(_OMC_LIT5, (_mm_currSt)-1);

  _buffer = ((modelica_integer) 1) + _buffer;

  _mm_pos = ((modelica_integer) 1) + _mm_pos;

  if((_cp == ((modelica_integer) 10)))
  {
    _mm_linenr = ((modelica_integer) 1) + _mm_linenr;

    _mm_sPos = ((modelica_integer) 0);
  }
  else
  {
    _mm_sPos = ((modelica_integer) 1) + _mm_sPos;
  }

  _c = integer_get(_OMC_LIT11, (_cp)-1);

  _mm_currSt = omc_LexerJSON_evalState(threadData, _mm_currSt, _c ,&_c);

  if((_mm_currSt > ((modelica_integer) 0)))
  {
    _mm_currSt = integer_get(_OMC_LIT5, (_mm_currSt)-1);

    _mm_currSt = integer_get(_OMC_LIT12, (_mm_currSt + _c)-1);
  }
  else
  {
    _mm_currSt = integer_get(_OMC_LIT12, (_c)-1);
  }

  tmpMeta1 = mmc_mk_cons(mmc_mk_integer(_mm_currSt), _states);
  _states = tmpMeta1;

  _baseCond = integer_get(_OMC_LIT5, (_mm_currSt)-1);

  if((_baseCond == ((modelica_integer) 82)))
  {
    _act = omc_LexerJSON_findRule(threadData, _fileContents, _mm_currSt, _mm_pos, _mm_sPos, _mm_ePos, _mm_linenr, _buffer, _bkBuffer, _states ,&_mm_currSt ,&_mm_pos ,&_mm_sPos ,&_mm_linenr ,&_buffer ,&_bkBuffer ,&_states);

    _tok = omc_LexerJSON_action(threadData, _act, _mm_startSt, _mm_currSt, _mm_pos, _mm_sPos, _mm_ePos, _mm_linenr, _lineNrStart, _buffer, 0 /* false */, _fileName, _fileContents, _errorTokens ,&_mm_startSt ,&_buffer2 ,&_errorTokens);

    _mm_currSt = _mm_startSt;

    tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
    _states = tmpMeta2;

    if((_buffer != _buffer2))
    {
      _mm_ePos = _mm_sPos;

      _lineNrStart = _linenr;
    }

    _buffer = _buffer2;

    { /* match expression */
      modelica_metatype tmp6_1;
      tmp6_1 = _tok;
      {
        volatile mmc_switch_type tmp6;
        int tmp7;
        tmp6 = 0;
        for (; tmp6 < 2; tmp6++) {
          switch (MMC_SWITCH_CAST(tmp6)) {
          case 0: {
            modelica_metatype tmpMeta8;
            modelica_integer tmp9;
            tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp6_1), 3));
            tmp9 = mmc_unbox_integer(tmpMeta8);
            if (1 != tmp9) goto tmp5_end;
            
            /* Pattern matching succeeded */
            tmpMeta3 = _tokens;
            goto tmp5_done;
          }
          case 1: {
            modelica_metatype tmpMeta10;
            
            /* Pattern matching succeeded */
            tmpMeta10 = mmc_mk_cons(_tok, _tokens);
            tmpMeta3 = tmpMeta10;
            goto tmp5_done;
          }
          }
          goto tmp5_end;
          tmp5_end: ;
        }
        goto goto_4;
        goto_4:;
        MMC_THROW_INTERNAL();
        goto tmp5_done;
        tmp5_done:;
      }
    }
    _resToken = tmpMeta3;
  }
  else
  {
    _bkBuffer = ((modelica_integer) 0);

    _resToken = _tokens;
  }
  _return: OMC_LABEL_UNUSED
  if (out_bkBuffer) { *out_bkBuffer = _bkBuffer; }
  if (out_mm_startSt) { *out_mm_startSt = _mm_startSt; }
  if (out_mm_currSt) { *out_mm_currSt = _mm_currSt; }
  if (out_mm_pos) { *out_mm_pos = _mm_pos; }
  if (out_mm_sPos) { *out_mm_sPos = _mm_sPos; }
  if (out_mm_ePos) { *out_mm_ePos = _mm_ePos; }
  if (out_mm_linenr) { *out_mm_linenr = _mm_linenr; }
  if (out_lineNrStart) { *out_lineNrStart = _lineNrStart; }
  if (out_buffer) { *out_buffer = _buffer; }
  if (out_states) { *out_states = _states; }
  if (out_errorTokens) { *out_errorTokens = _errorTokens; }
  return _resToken;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_LexerJSON_consume(threadData_t *threadData, modelica_metatype _cp, modelica_metatype _tokens, modelica_metatype _fileContents, modelica_metatype _startSt, modelica_metatype _currSt, modelica_metatype _pos, modelica_metatype _sPos, modelica_metatype _ePos, modelica_metatype _linenr, modelica_metatype _inLineNrStart, modelica_metatype _inBuffer, modelica_metatype _inStates, modelica_metatype _fileName, modelica_metatype _inErrorTokens, modelica_metatype *out_bkBuffer, modelica_metatype *out_mm_startSt, modelica_metatype *out_mm_currSt, modelica_metatype *out_mm_pos, modelica_metatype *out_mm_sPos, modelica_metatype *out_mm_ePos, modelica_metatype *out_mm_linenr, modelica_metatype *out_lineNrStart, modelica_metatype *out_buffer, modelica_metatype *out_states, modelica_metatype *out_errorTokens)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_integer tmp8;
  modelica_integer tmp9;
  modelica_integer _bkBuffer;
  modelica_integer _mm_startSt;
  modelica_integer _mm_currSt;
  modelica_integer _mm_pos;
  modelica_integer _mm_sPos;
  modelica_integer _mm_ePos;
  modelica_integer _mm_linenr;
  modelica_integer _lineNrStart;
  modelica_integer _buffer;
  modelica_metatype _resToken = NULL;
  tmp1 = mmc_unbox_integer(_cp);
  tmp2 = mmc_unbox_integer(_startSt);
  tmp3 = mmc_unbox_integer(_currSt);
  tmp4 = mmc_unbox_integer(_pos);
  tmp5 = mmc_unbox_integer(_sPos);
  tmp6 = mmc_unbox_integer(_ePos);
  tmp7 = mmc_unbox_integer(_linenr);
  tmp8 = mmc_unbox_integer(_inLineNrStart);
  tmp9 = mmc_unbox_integer(_inBuffer);
  _resToken = omc_LexerJSON_consume(threadData, tmp1, _tokens, _fileContents, tmp2, tmp3, tmp4, tmp5, tmp6, tmp7, tmp8, tmp9, _inStates, _fileName, _inErrorTokens, &_bkBuffer, &_mm_startSt, &_mm_currSt, &_mm_pos, &_mm_sPos, &_mm_ePos, &_mm_linenr, &_lineNrStart, &_buffer, out_states, out_errorTokens);
  /* skip box _resToken; list<LexerJSON.Token> */
  if (out_bkBuffer) { *out_bkBuffer = mmc_mk_icon(_bkBuffer); }
  if (out_mm_startSt) { *out_mm_startSt = mmc_mk_icon(_mm_startSt); }
  if (out_mm_currSt) { *out_mm_currSt = mmc_mk_icon(_mm_currSt); }
  if (out_mm_pos) { *out_mm_pos = mmc_mk_icon(_mm_pos); }
  if (out_mm_sPos) { *out_mm_sPos = mmc_mk_icon(_mm_sPos); }
  if (out_mm_ePos) { *out_mm_ePos = mmc_mk_icon(_mm_ePos); }
  if (out_mm_linenr) { *out_mm_linenr = mmc_mk_icon(_mm_linenr); }
  if (out_lineNrStart) { *out_lineNrStart = mmc_mk_icon(_lineNrStart); }
  if (out_buffer) { *out_buffer = mmc_mk_icon(_buffer); }
  /* skip box _states; list<#Integer> */
  /* skip box _errorTokens; list<LexerJSON.Token> */
  return _resToken;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_LexerJSON_lex(threadData_t *threadData, modelica_string _fileName, modelica_string _contents, modelica_metatype *out_errorTokens)
{
  modelica_metatype _tokens = NULL;
  modelica_metatype _errorTokens = NULL;
  modelica_metatype tmpMeta1;
  modelica_integer _startSt;
  modelica_integer _i;
  modelica_integer _r;
  modelica_integer _cTok;
  modelica_integer _cTok2;
  modelica_integer _currSt;
  modelica_integer _pos;
  modelica_integer _sPos;
  modelica_integer _ePos;
  modelica_integer _linenr;
  modelica_integer _contentLen;
  modelica_integer _numBacktrack;
  modelica_integer _buffer;
  modelica_integer _lineNrStart;
  modelica_metatype _cProg = NULL;
  modelica_metatype _cProg2 = NULL;
  modelica_metatype _chars = NULL;
  modelica_metatype _states = NULL;
  modelica_string _s1 = NULL;
  modelica_string _s2 = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _tokens has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _errorTokens = tmpMeta1;
  // _startSt has no default value.
  // _i has no default value.
  // _r has no default value.
  // _cTok has no default value.
  // _cTok2 has no default value.
  // _currSt has no default value.
  // _pos has no default value.
  // _sPos has no default value.
  // _ePos has no default value.
  // _linenr has no default value.
  // _contentLen has no default value.
  // _numBacktrack has no default value.
  // _buffer has no default value.
  // _lineNrStart has no default value.
  // _cProg has no default value.
  // _cProg2 has no default value.
  // _chars has no default value.
  // _states has no default value.
  // _s1 has no default value.
  // _s2 has no default value.
  _startSt = ((modelica_integer) 1);

  _currSt = ((modelica_integer) 1);

  _pos = ((modelica_integer) 1);

  _sPos = ((modelica_integer) 0);

  _ePos = ((modelica_integer) 0);

  _linenr = ((modelica_integer) 1);

  _lineNrStart = ((modelica_integer) 1);

  _buffer = ((modelica_integer) 0);

  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _states = tmpMeta2;

  tmpMeta3 = MMC_REFSTRUCTLIT(mmc_nil);
  _tokens = tmpMeta3;

  _contentLen = stringLength(_contents);

  _i = ((modelica_integer) 1);

  while(1)
  {
    if(!(_i <= _contentLen)) break;
    _cTok = stringGetNoBoundsChecking(_contents, _i);

    _tokens = omc_LexerJSON_consume(threadData, _cTok, _tokens, _contents, _startSt, _currSt, _pos, _sPos, _ePos, _linenr, _lineNrStart, _buffer, _states, _fileName, _errorTokens ,&_numBacktrack ,&_startSt ,&_currSt ,&_pos ,&_sPos ,&_ePos ,&_linenr ,&_lineNrStart ,&_buffer ,&_states ,&_errorTokens);

    _i = ((modelica_integer) 1) + _i - _numBacktrack;
  }

  _tokens = listReverseInPlace(_tokens);

  _errorTokens = listReverseInPlace(_errorTokens);
  _return: OMC_LABEL_UNUSED
  if (out_errorTokens) { *out_errorTokens = _errorTokens; }
  return _tokens;
}

DLLDirection
modelica_metatype omc_LexerJSON_tokenSourceInfo(threadData_t *threadData, modelica_metatype _token)
{
  modelica_metatype _info = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _info has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype _t;
    tmp4_1 = _token;
    _t = tmp4_1;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 1; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box8(3, &SourceInfo_SOURCEINFO__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_t), 2))), mmc_mk_boolean(0 /* false */), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_t), 7))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_t), 8))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_t), 9))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_t), 10))), _OMC_LIT13);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _info = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _info;
}

DLLDirection
modelica_boolean omc_LexerJSON_tokenContentEq(threadData_t *threadData, modelica_metatype _token1, modelica_metatype _token2)
{
  modelica_boolean _b;
  modelica_string _contents1 = NULL;
  modelica_string _contents2 = NULL;
  modelica_integer _offset1;
  modelica_integer _length1;
  modelica_integer _offset2;
  modelica_integer _length2;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  modelica_metatype tmpMeta5;
  modelica_integer tmp6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_integer tmp10;
  modelica_metatype tmpMeta11;
  modelica_integer tmp12;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  // _contents1 has no default value.
  // _contents2 has no default value.
  // _offset1 has no default value.
  // _length1 has no default value.
  // _offset2 has no default value.
  // _length2 has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _token1;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 4));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 5));
  tmp4 = mmc_unbox_integer(tmpMeta3);
  tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 6));
  tmp6 = mmc_unbox_integer(tmpMeta5);
  _contents1 = tmpMeta2;
  _offset1 = tmp4  /* pattern as ty=Integer */;
  _length1 = tmp6  /* pattern as ty=Integer */;

  /* Pattern-matching assignment */
  tmpMeta7 = _token2;
  tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 4));
  tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 5));
  tmp10 = mmc_unbox_integer(tmpMeta9);
  tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 6));
  tmp12 = mmc_unbox_integer(tmpMeta11);
  _contents2 = tmpMeta8;
  _offset2 = tmp10  /* pattern as ty=Integer */;
  _length2 = tmp12  /* pattern as ty=Integer */;

  _b = ((_length1 != _length2)?0 /* false */:(((modelica_integer) 0) == omc_System_strcmp__offset(threadData, _contents1, _offset1, _length1, _contents2, _offset2, _length2)));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_LexerJSON_tokenContentEq(threadData_t *threadData, modelica_metatype _token1, modelica_metatype _token2)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_LexerJSON_tokenContentEq(threadData, _token1, _token2);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_string omc_LexerJSON_tokenContent(threadData_t *threadData, modelica_metatype _token)
{
  modelica_string _contents = NULL;
  modelica_integer _byteOffset;
  modelica_integer _length;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_integer tmp4;
  modelica_metatype tmpMeta5;
  modelica_integer tmp6;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _contents has no default value.
  // _byteOffset has no default value.
  // _length has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _token;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 4));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 5));
  tmp4 = mmc_unbox_integer(tmpMeta3);
  tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 6));
  tmp6 = mmc_unbox_integer(tmpMeta5);
  _contents = tmpMeta2;
  _byteOffset = tmp4  /* pattern as ty=Integer */;
  _length = tmp6  /* pattern as ty=Integer */;

  _contents = ((_length > ((modelica_integer) 0))?substring(_contents, _byteOffset, ((modelica_integer) -1) + _byteOffset + _length):_OMC_LIT14);
  _return: OMC_LABEL_UNUSED
  return _contents;
}

DLLDirection
modelica_string omc_LexerJSON_printToken(threadData_t *threadData, modelica_metatype _token)
{
  modelica_string _strTk = NULL;
  modelica_integer _id;
  modelica_string _contents = NULL;
  modelica_integer _byteOffset;
  modelica_integer _length;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_integer tmp6;
  modelica_metatype tmpMeta7;
  modelica_integer tmp8;
  modelica_string tmp9;
  const char* tmp10[13] = {"_NO_TOKEN", "ARRAYBEGIN", "ARRAYEND", "COLON", "COMMA", "FALSE", "INTEGER", "NULL", "NUMBER", "OBJECTBEGIN", "OBJECTEND", "STRING", "TRUE"};
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta20;
  modelica_metatype tmpMeta21;
  modelica_metatype tmpMeta22;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _strTk has no default value.
  // _id has no default value.
  // _contents has no default value.
  // _byteOffset has no default value.
  // _length has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _token;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 3));
  tmp3 = mmc_unbox_integer(tmpMeta2);
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 4));
  tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 5));
  tmp6 = mmc_unbox_integer(tmpMeta5);
  tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 6));
  tmp8 = mmc_unbox_integer(tmpMeta7);
  _id = tmp3  /* pattern as ty=enumeration(_NO_TOKEN, ARRAYBEGIN, ARRAYEND, COLON, COMMA, FALSE, INTEGER, NULL, NUMBER, OBJECTBEGIN, OBJECTEND, STRING, TRUE) */;
  _contents = tmpMeta4;
  _byteOffset = tmp6  /* pattern as ty=Integer */;
  _length = tmp8  /* pattern as ty=Integer */;

  _contents = ((_length > ((modelica_integer) 0))?substring(_contents, _byteOffset, ((modelica_integer) -1) + _byteOffset + _length):_OMC_LIT14);

  tmp9 = enum_to_modelica_string((modelica_integer)_id, tmp10, ((modelica_integer) 0), 1 /* true */);
  tmpMeta11 = stringAppend(_OMC_LIT15,tmp9);
  tmpMeta12 = stringAppend(tmpMeta11,_OMC_LIT16);
  tmpMeta13 = stringAppend(tmpMeta12,_contents);
  tmpMeta14 = stringAppend(tmpMeta13,_OMC_LIT17);
  tmpMeta15 = stringAppend(tmpMeta14,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_token), 7))))));
  tmpMeta16 = stringAppend(tmpMeta15,_OMC_LIT1);
  tmpMeta17 = stringAppend(tmpMeta16,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_token), 8))))));
  tmpMeta18 = stringAppend(tmpMeta17,_OMC_LIT18);
  tmpMeta19 = stringAppend(tmpMeta18,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_token), 9))))));
  tmpMeta20 = stringAppend(tmpMeta19,_OMC_LIT1);
  tmpMeta21 = stringAppend(tmpMeta20,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_token), 10))))));
  tmpMeta22 = stringAppend(tmpMeta21,_OMC_LIT19);
  _strTk = tmpMeta22;
  _return: OMC_LABEL_UNUSED
  return _strTk;
}

DLLDirection
modelica_metatype omc_LexerJSON_action(threadData_t *threadData, modelica_integer _act, modelica_integer _startSt, modelica_integer _mm_currSt, modelica_integer _mm_pos, modelica_integer _mm_sPos, modelica_integer _mm_ePos, modelica_integer _mm_linenr, modelica_integer _lineNrStart, modelica_integer _buffer, modelica_boolean _debug, modelica_string _fileNm, modelica_string _fileContents, modelica_metatype _inErrorTokens, modelica_integer *out_mm_startSt, modelica_integer *out_bufferRet, modelica_metatype *out_errorTokens)
{
  modelica_metatype _token = NULL;
  modelica_integer _mm_startSt;
  modelica_integer _bufferRet;
  modelica_metatype _errorTokens = NULL;
  modelica_metatype _info = NULL;
  modelica_string _sToken = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _token has no default value.
  // _mm_startSt has no default value.
  // _bufferRet has no default value.
  _errorTokens = _inErrorTokens;
  // _info has no default value.
  // _sToken has no default value.
  _mm_startSt = _startSt;

  _bufferRet = ((modelica_integer) 0);

  { /* match expression */
    modelica_integer tmp4_1;
    tmp4_1 = _act;
    {
      modelica_metatype _tok = NULL;
      int tmp4;
      // _tok has no default value.
      {
        switch (MMC_SWITCH_CAST(tmp4_1)) {
        case 1: {
          modelica_metatype tmpMeta5;
          if (1 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(12), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta6;
          if (2 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(12), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 3: {
          modelica_metatype tmpMeta7;
          if (3 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(9), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta8;
          if (4 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(9), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta8;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta9;
          if (5 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(7), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta10;
          if (6 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta10 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(13), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta11;
          if (7 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta11 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(6), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta11;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta12;
          if (8 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta12 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(8), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta12;
          goto tmp3_done;
        }
        case 9: {
          modelica_metatype tmpMeta13;
          if (9 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(10), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta13;
          goto tmp3_done;
        }
        case 10: {
          modelica_metatype tmpMeta14;
          if (10 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta14 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(11), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta14;
          goto tmp3_done;
        }
        case 11: {
          modelica_metatype tmpMeta15;
          if (11 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta15 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(2), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta15;
          goto tmp3_done;
        }
        case 12: {
          modelica_metatype tmpMeta16;
          if (12 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta16 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(3), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta16;
          goto tmp3_done;
        }
        case 13: {
          modelica_metatype tmpMeta17;
          if (13 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta17 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(5), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta17;
          goto tmp3_done;
        }
        case 14: {
          modelica_metatype tmpMeta18;
          if (14 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta18 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(4), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          tmpMeta1 = tmpMeta18;
          goto tmp3_done;
        }
        case 15: {
          if (15 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = _OMC_LIT21;
          goto tmp3_done;
        }
        case 16: {
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          if (16 != tmp4_1) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta19 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(1), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          _tok = tmpMeta19;

          tmpMeta20 = mmc_mk_cons(_tok, _errorTokens);
          _errorTokens = tmpMeta20;
          tmpMeta1 = _OMC_LIT21;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_string tmp21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          
          /* Pattern matching succeeded */
          tmp21 = modelica_integer_to_modelica_string(_act, ((modelica_integer) 0), 1 /* true */);
          tmpMeta22 = stringAppend(_OMC_LIT22,tmp21);
          tmpMeta23 = stringAppend(tmpMeta22,_OMC_LIT4);
          fputs(MMC_STRINGDATA(tmpMeta23),stdout);

          tmpMeta24 = mmc_mk_box10(3, &LexerJSON_Token_TOKEN__desc, _fileNm, mmc_mk_integer(1), _fileContents, mmc_mk_integer(_mm_pos - _buffer), mmc_mk_integer(_buffer), mmc_mk_integer(_lineNrStart), mmc_mk_integer(((modelica_integer) 1) + _mm_ePos), mmc_mk_integer(_mm_linenr), mmc_mk_integer(((modelica_integer) 1) + _mm_sPos));
          _tok = tmpMeta24;

          fputs(MMC_STRINGDATA(omc_LexerJSON_printToken(threadData, _tok)),stdout);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _token = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  if (out_mm_startSt) { *out_mm_startSt = _mm_startSt; }
  if (out_bufferRet) { *out_bufferRet = _bufferRet; }
  if (out_errorTokens) { *out_errorTokens = _errorTokens; }
  return _token;
}
modelica_metatype boxptr_LexerJSON_action(threadData_t *threadData, modelica_metatype _act, modelica_metatype _startSt, modelica_metatype _mm_currSt, modelica_metatype _mm_pos, modelica_metatype _mm_sPos, modelica_metatype _mm_ePos, modelica_metatype _mm_linenr, modelica_metatype _lineNrStart, modelica_metatype _buffer, modelica_metatype _debug, modelica_metatype _fileNm, modelica_metatype _fileContents, modelica_metatype _inErrorTokens, modelica_metatype *out_mm_startSt, modelica_metatype *out_bufferRet, modelica_metatype *out_errorTokens)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_integer tmp4;
  modelica_integer tmp5;
  modelica_integer tmp6;
  modelica_integer tmp7;
  modelica_integer tmp8;
  modelica_integer tmp9;
  modelica_integer tmp10;
  modelica_integer _mm_startSt;
  modelica_integer _bufferRet;
  modelica_metatype _token = NULL;
  tmp1 = mmc_unbox_integer(_act);
  tmp2 = mmc_unbox_integer(_startSt);
  tmp3 = mmc_unbox_integer(_mm_currSt);
  tmp4 = mmc_unbox_integer(_mm_pos);
  tmp5 = mmc_unbox_integer(_mm_sPos);
  tmp6 = mmc_unbox_integer(_mm_ePos);
  tmp7 = mmc_unbox_integer(_mm_linenr);
  tmp8 = mmc_unbox_integer(_lineNrStart);
  tmp9 = mmc_unbox_integer(_buffer);
  tmp10 = mmc_unbox_integer(_debug);
  _token = omc_LexerJSON_action(threadData, tmp1, tmp2, tmp3, tmp4, tmp5, tmp6, tmp7, tmp8, tmp9, tmp10, _fileNm, _fileContents, _inErrorTokens, &_mm_startSt, &_bufferRet, out_errorTokens);
  /* skip box _token; LexerJSON.Token */
  if (out_mm_startSt) { *out_mm_startSt = mmc_mk_icon(_mm_startSt); }
  if (out_bufferRet) { *out_bufferRet = mmc_mk_icon(_bufferRet); }
  /* skip box _errorTokens; list<LexerJSON.Token> */
  return _token;
}

DLLDirection
modelica_metatype omc_LexerJSON_scanString(threadData_t *threadData, modelica_string _fileSource, modelica_string _fileName, modelica_metatype *out_errorTokens)
{
  modelica_metatype _tokens = NULL;
  modelica_metatype _errorTokens = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _tokens has no default value.
  // _errorTokens has no default value.
  _tokens = omc_LexerJSON_lex(threadData, _fileName, _fileSource ,&_errorTokens);
  _return: OMC_LABEL_UNUSED
  if (out_errorTokens) { *out_errorTokens = _errorTokens; }
  return _tokens;
}

DLLDirection
modelica_metatype omc_LexerJSON_scan(threadData_t *threadData, modelica_string _fileName, modelica_metatype *out_errorTokens)
{
  modelica_metatype _tokens = NULL;
  modelica_metatype _errorTokens = NULL;
  modelica_string _contents = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _tokens has no default value.
  // _errorTokens has no default value.
  // _contents has no default value.
  _contents = omc_System_readFile(threadData, _fileName);

  _tokens = omc_LexerJSON_lex(threadData, _fileName, _contents ,&_errorTokens);
  _return: OMC_LABEL_UNUSED
  if (out_errorTokens) { *out_errorTokens = _errorTokens; }
  return _tokens;
}

