#include "omc_simulation_settings.h"
#include "NBStrongComponent.h"
#define _OMC_LIT0_data "/home/adrpo33/OpenModelica/OMCompiler/Compiler/NBackEnd/Classes/NBStrongComponent.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT0,84,_OMC_LIT0_data);
#define _OMC_LIT0 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT0)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT1_6,1.758197185e9);
#define _OMC_LIT1_6 MMC_REFREALLIT(_OMC_LIT_STRUCT1_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT1,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT0,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1010)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1012)),MMC_IMMEDIATE(MMC_TAGFIXNUM(16)),_OMC_LIT1_6}};
#define _OMC_LIT1 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT1)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT2_6,1.758197185e9);
#define _OMC_LIT2_6 MMC_REFREALLIT(_OMC_LIT_STRUCT2_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT2,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT0,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1007)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1013)),MMC_IMMEDIATE(MMC_TAGFIXNUM(13)),_OMC_LIT2_6}};
#define _OMC_LIT2 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,1,5) {&ErrorTypes_MessageType_TRANSLATION__desc,}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT4,1,4) {&ErrorTypes_Severity_ERROR__desc,}};
#define _OMC_LIT4 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT4)
#define _OMC_LIT5_data "Internal error %s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT5,17,_OMC_LIT5_data);
#define _OMC_LIT5 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT5)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT6,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT5}};
#define _OMC_LIT6 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT7,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(63)),_OMC_LIT3,_OMC_LIT4,_OMC_LIT6}};
#define _OMC_LIT7 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT7)
#define _OMC_LIT8_data "NBStrongComponent.createPseudoScalar failed because single indices did not turn out to be single components."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT8,108,_OMC_LIT8_data);
#define _OMC_LIT8 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT8)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT9,2,1) {_OMC_LIT8,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT9 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT9)
#define _OMC_LIT10_data "NBStrongComponent.createPseudoScalar failed."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT10,44,_OMC_LIT10_data);
#define _OMC_LIT10 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT10)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT11,2,1) {_OMC_LIT10,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT11 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT11)
#define _OMC_LIT12_data "NBStrongComponent.isDiscrete failed because of wrong component: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT12,64,_OMC_LIT12_data);
#define _OMC_LIT12 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "NBStrongComponent.getVariables failed because of wrong component: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,66,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
#define _OMC_LIT14_data "NBStrongComponent.addLoopJacobian failed because of wrong component: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT14,69,_OMC_LIT14_data);
#define _OMC_LIT14 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT14)
#define _OMC_LIT15_data "NBStrongComponent.toSolvedEquation failed because strong component could not be\n        solved explicitly:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT15,107,_OMC_LIT15_data);
#define _OMC_LIT15 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT15)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT16_6,1.758197185e9);
#define _OMC_LIT16_6 MMC_REFREALLIT(_OMC_LIT_STRUCT16_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT16,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT0,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(498)),MMC_IMMEDIATE(MMC_TAGFIXNUM(39)),MMC_IMMEDIATE(MMC_TAGFIXNUM(499)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),_OMC_LIT16_6}};
#define _OMC_LIT16 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT16)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT17_6,1.758197185e9);
#define _OMC_LIT17_6 MMC_REFREALLIT(_OMC_LIT_STRUCT17_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT17,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT0,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(499)),MMC_IMMEDIATE(MMC_TAGFIXNUM(39)),MMC_IMMEDIATE(MMC_TAGFIXNUM(500)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),_OMC_LIT17_6}};
#define _OMC_LIT17 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT17)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT18_6,1.758197185e9);
#define _OMC_LIT18_6 MMC_REFREALLIT(_OMC_LIT_STRUCT18_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT18,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT0,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(500)),MMC_IMMEDIATE(MMC_TAGFIXNUM(39)),MMC_IMMEDIATE(MMC_TAGFIXNUM(501)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),_OMC_LIT18_6}};
#define _OMC_LIT18 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT18)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT19_6,1.758197185e9);
#define _OMC_LIT19_6 MMC_REFREALLIT(_OMC_LIT_STRUCT19_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT19,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT0,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(501)),MMC_IMMEDIATE(MMC_TAGFIXNUM(39)),MMC_IMMEDIATE(MMC_TAGFIXNUM(502)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),_OMC_LIT19_6}};
#define _OMC_LIT19 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT19)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT20,1,4) {&NFComponentRef_EMPTY__desc,}};
#define _OMC_LIT20 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT20)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT21,1,18) {&NFType_ANY__desc,}};
#define _OMC_LIT21 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT21)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT22,1,3) {&NFBinding_UNBOUND__desc,}};
#define _OMC_LIT22 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT22)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT23,1,4) {&NFPrefixes_Replaceable_NOT__REPLACEABLE__desc,}};
#define _OMC_LIT23 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT23)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT24,10,3) {&NFAttributes_ATTRIBUTES__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),_OMC_LIT23,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT24 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT24)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT25,3,3) {&SCode_Comment_COMMENT__desc,MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT25 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,0,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT27,0.0);
#define _OMC_LIT27 MMC_REFREALLIT(_OMC_LIT_STRUCT27)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT28,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT26,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT27}};
#define _OMC_LIT28 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT28)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT29,1,35) {&NFBackendExtension_VariableKind_FRONTEND__DUMMY__desc,}};
#define _OMC_LIT29 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT29)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT30,17,3) {&NFBackendExtension_VariableAttributes_VAR__ATTR__REAL__desc,MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT30 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT30)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT31,3,3) {&NFBackendExtension_Annotations_ANNOTATIONS__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */))}};
#define _OMC_LIT31 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT31)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT32,8,3) {&NFBackendExtension_BackendInfo_BACKEND__INFO__desc,_OMC_LIT29,_OMC_LIT30,_OMC_LIT31,MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT32 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT32)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT33,11,3) {&NFVariable_VARIABLE__desc,_OMC_LIT20,_OMC_LIT21,_OMC_LIT22,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT24,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil),_OMC_LIT25,_OMC_LIT28,_OMC_LIT32}};
#define _OMC_LIT33 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT33)
#define _OMC_LIT34_data "NBStrongComponent.fromSolvedEquationSlice failed for:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT34,54,_OMC_LIT34_data);
#define _OMC_LIT34 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT34)
#define _OMC_LIT35_data "NBStrongComponent.makeDAEModeResidualTraverse failed."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT35,53,_OMC_LIT35_data);
#define _OMC_LIT35 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT35)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT36,2,1) {_OMC_LIT35,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT36 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT36)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT37_6,1.758197185e9);
#define _OMC_LIT37_6 MMC_REFREALLIT(_OMC_LIT_STRUCT37_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT37,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT0,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(422)),MMC_IMMEDIATE(MMC_TAGFIXNUM(7)),MMC_IMMEDIATE(MMC_TAGFIXNUM(422)),MMC_IMMEDIATE(MMC_TAGFIXNUM(188)),_OMC_LIT37_6}};
#define _OMC_LIT37 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT37)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT38_6,1.758197185e9);
#define _OMC_LIT38_6 MMC_REFREALLIT(_OMC_LIT_STRUCT38_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT38,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT0,MMC_IMMEDIATE(MMC_TAGFIXNUM(0 /* false */)),MMC_IMMEDIATE(MMC_TAGFIXNUM(358)),MMC_IMMEDIATE(MMC_TAGFIXNUM(5)),MMC_IMMEDIATE(MMC_TAGFIXNUM(358)),MMC_IMMEDIATE(MMC_TAGFIXNUM(68)),_OMC_LIT38_6}};
#define _OMC_LIT38 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT38)
#define _OMC_LIT39_data "Cannot classify strong component:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT39,34,_OMC_LIT39_data);
#define _OMC_LIT39 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT39)
#define _OMC_LIT40_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT40,1,_OMC_LIT40_data);
#define _OMC_LIT40 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT40)
#define _OMC_LIT41_data " "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT41,1,_OMC_LIT41_data);
#define _OMC_LIT41 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT41)
#define _OMC_LIT42_data "BLOCK"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT42,5,_OMC_LIT42_data);
#define _OMC_LIT42 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT42)
#define _OMC_LIT43_data ": Single Strong Component (status = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT43,36,_OMC_LIT43_data);
#define _OMC_LIT43 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT43)
#define _OMC_LIT44_data ")"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT44,1,_OMC_LIT44_data);
#define _OMC_LIT44 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT44)
#define _OMC_LIT45_data "### Variable:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT45,14,_OMC_LIT45_data);
#define _OMC_LIT45 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT45)
#define _OMC_LIT46_data "	"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT46,1,_OMC_LIT46_data);
#define _OMC_LIT46 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT46)
#define _OMC_LIT47_data "### Equation:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT47,14,_OMC_LIT47_data);
#define _OMC_LIT47 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT47)
#define _OMC_LIT48_data ": Multi Strong Component (status = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT48,35,_OMC_LIT48_data);
#define _OMC_LIT48 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT48)
#define _OMC_LIT49_data "### Variables:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT49,15,_OMC_LIT49_data);
#define _OMC_LIT49 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT49)
#define _OMC_LIT50_data "\n	"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT50,2,_OMC_LIT50_data);
#define _OMC_LIT50 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT50)
#define _OMC_LIT51_data "\n### Equation:\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT51,15,_OMC_LIT51_data);
#define _OMC_LIT51 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data ": Sliced Component (status = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,29,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
#define _OMC_LIT53_data "### Variable:\n	"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT53,15,_OMC_LIT53_data);
#define _OMC_LIT53 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT53)
#define _OMC_LIT54_data ": Resizable Component (status = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT54,32,_OMC_LIT54_data);
#define _OMC_LIT54 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT54)
#define _OMC_LIT55_data "### Equation:\n	"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT55,15,_OMC_LIT55_data);
#define _OMC_LIT55 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT55)
#define _OMC_LIT56_data ": Entwined Component (status = Solve.EXPLICIT)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT56,46,_OMC_LIT56_data);
#define _OMC_LIT56 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT56)
#define _OMC_LIT57_data "call order: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT57,12,_OMC_LIT57_data);
#define _OMC_LIT57 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT57)
#define _OMC_LIT58_data "{"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT58,1,_OMC_LIT58_data);
#define _OMC_LIT58 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT58)
#define _OMC_LIT59_data ", "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT59,2,_OMC_LIT59_data);
#define _OMC_LIT59 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT59)
#define _OMC_LIT60_data "}"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT60,1,_OMC_LIT60_data);
#define _OMC_LIT60 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT60)
#define _OMC_LIT61_data ": Generic Component (status = Solve.EXPLICIT)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT61,45,_OMC_LIT61_data);
#define _OMC_LIT61 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT61)
#define _OMC_LIT62_data ": Algebraic Loop (Linear = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT62,27,_OMC_LIT62_data);
#define _OMC_LIT62 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT62)
#define _OMC_LIT63_data "true"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT63,4,_OMC_LIT63_data);
#define _OMC_LIT63 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT63)
#define _OMC_LIT64_data "false"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT64,5,_OMC_LIT64_data);
#define _OMC_LIT64 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT64)
#define _OMC_LIT65_data ", Mixed = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT65,10,_OMC_LIT65_data);
#define _OMC_LIT65 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT65)
#define _OMC_LIT66_data ", Homotopy = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT66,13,_OMC_LIT66_data);
#define _OMC_LIT66 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT66)
#define _OMC_LIT67_data "Strict Tearing Set"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT67,18,_OMC_LIT67_data);
#define _OMC_LIT67 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT67)
#define _OMC_LIT68_data "Casual Tearing Set"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT68,18,_OMC_LIT68_data);
#define _OMC_LIT68 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT68)
#define _OMC_LIT69_data "--- Alias of "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT69,13,_OMC_LIT69_data);
#define _OMC_LIT69 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT69)
#define _OMC_LIT70_data " ---\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT70,5,_OMC_LIT70_data);
#define _OMC_LIT70 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT70)
#define _OMC_LIT71_data "NBStrongComponent.toString failed."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT71,34,_OMC_LIT71_data);
#define _OMC_LIT71 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT71)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT72,2,1) {_OMC_LIT71,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT72 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT72)
#define _OMC_LIT73_data "["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT73,1,_OMC_LIT73_data);
#define _OMC_LIT73 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT73)
#define _OMC_LIT74_data " | "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT74,3,_OMC_LIT74_data);
#define _OMC_LIT74 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT74)
#define _OMC_LIT75_data "]"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT75,1,_OMC_LIT75_data);
#define _OMC_LIT75 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT75)
#include "util/modelica.h"

#include "NBStrongComponent_includes.h"


/* default, do not make protected functions static */
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBStrongComponent_prepareDependencies_addStateDependencies(threadData_t *threadData, modelica_metatype _dep, modelica_metatype _map, modelica_metatype __omcQ_24in_5Fset);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBStrongComponent_prepareDependencies_addStateDependencies,2,0) {(void*) boxptr_NBStrongComponent_prepareDependencies_addStateDependencies,0}};
#define boxvar_NBStrongComponent_prepareDependencies_addStateDependencies MMC_REFSTRUCTLIT(boxvar_lit_NBStrongComponent_prepareDependencies_addStateDependencies)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBStrongComponent_prepareDependencies(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fdependencies, modelica_metatype _map, modelica_integer _jacType);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBStrongComponent_prepareDependencies(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fdependencies, modelica_metatype _map, modelica_metatype _jacType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBStrongComponent_prepareDependencies,2,0) {(void*) boxptr_NBStrongComponent_prepareDependencies,0}};
#define boxvar_NBStrongComponent_prepareDependencies MMC_REFSTRUCTLIT(boxvar_lit_NBStrongComponent_prepareDependencies)
PROTECTED_FUNCTION_STATIC void omc_NBStrongComponent_updateDependencyMap(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _dependencies, modelica_metatype _map);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBStrongComponent_updateDependencyMap,2,0) {(void*) boxptr_NBStrongComponent_updateDependencyMap,0}};
#define boxvar_NBStrongComponent_updateDependencyMap MMC_REFSTRUCTLIT(boxvar_lit_NBStrongComponent_updateDependencyMap)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBStrongComponent_getLoopVarsAndEqns(threadData_t *threadData, modelica_metatype _comp_indices, modelica_metatype _eqn_to_var, modelica_metatype _mapping, modelica_metatype _vars, modelica_metatype _eqns, modelica_metatype *out_acc_eqns);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBStrongComponent_getLoopVarsAndEqns,2,0) {(void*) boxptr_NBStrongComponent_getLoopVarsAndEqns,0}};
#define boxvar_NBStrongComponent_getLoopVarsAndEqns MMC_REFSTRUCTLIT(boxvar_lit_NBStrongComponent_getLoopVarsAndEqns)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_NBStrongComponent_isDiscrete_bool__ident(threadData_t *threadData, modelica_boolean __omcQ_24in_5Fb);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBStrongComponent_isDiscrete_bool__ident(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fb);
static const MMC_DEFSTRUCTLIT(boxvar_lit_NBStrongComponent_isDiscrete_bool__ident,2,0) {(void*) boxptr_NBStrongComponent_isDiscrete_bool__ident,0}};
#define boxvar_NBStrongComponent_isDiscrete_bool__ident MMC_REFSTRUCTLIT(boxvar_lit_NBStrongComponent_isDiscrete_bool__ident)

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBStrongComponent_prepareDependencies_addStateDependencies(threadData_t *threadData, modelica_metatype _dep, modelica_metatype _map, modelica_metatype __omcQ_24in_5Fset)
{
  modelica_metatype _set = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _set = __omcQ_24in_5Fset;
  if(omc_NBVariable_checkCref(threadData, _dep, boxvar_NBVariable_isState, _OMC_LIT2))
  {
    omc_UnorderedSet_add(threadData, _dep, _set);
  }
  else
  {
    {
      modelica_metatype _tmp;
      for (tmpMeta1 = omc_UnorderedMap_getSafe(threadData, _dep, _map, _OMC_LIT1); !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
      {
        _tmp = MMC_CAR(tmpMeta1);
        omc_UnorderedSet_add(threadData, _tmp, _set);
      }
    }
  }
  _return: OMC_LABEL_UNUSED
  return _set;
}

static modelica_metatype closure0_NFComponentRef_mapExp(threadData_t *thData, modelica_metatype closure, modelica_metatype cref)
{
  modelica_fnptr func = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFComponentRef_mapExp(thData, cref, func);
}static modelica_metatype closure1_NFComponentRef_simplifySubscripts(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_cref)
{
  modelica_metatype trim = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NFComponentRef_simplifySubscripts(thData, $in_cref, trim);
}static modelica_metatype closure2_NBStrongComponent_prepareDependencies_addStateDependencies(threadData_t *thData, modelica_metatype closure, modelica_metatype dep, modelica_metatype $in_set)
{
  modelica_metatype map = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBStrongComponent_prepareDependencies_addStateDependencies(thData, dep, map, $in_set);
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBStrongComponent_prepareDependencies(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fdependencies, modelica_metatype _map, modelica_integer _jacType)
{
  modelica_metatype _dependencies = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _dependencies = __omcQ_24in_5Fdependencies;
  tmpMeta1 = mmc_mk_box1(0, boxvar_NFExpression_replaceResizableParameter);
  omc_UnorderedSet_apply(threadData, _dependencies, (modelica_fnptr) mmc_mk_box2(0,closure0_NFComponentRef_mapExp,tmpMeta1));

  tmpMeta2 = mmc_mk_box1(0, mmc_mk_boolean(0 /* false */));
  omc_UnorderedSet_apply(threadData, _dependencies, (modelica_fnptr) mmc_mk_box2(0,closure1_NFComponentRef_simplifySubscripts,tmpMeta2));

  if(((modelica_integer)_jacType == 1))
  {
    tmpMeta3 = mmc_mk_box1(0, _map);
    _dependencies = omc_UnorderedSet_fold(threadData, _dependencies, (modelica_fnptr) mmc_mk_box2(0,closure2_NBStrongComponent_prepareDependencies_addStateDependencies,tmpMeta3), omc_UnorderedSet_new(threadData, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual, ((modelica_integer) 13)));
  }
  _return: OMC_LABEL_UNUSED
  return _dependencies;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBStrongComponent_prepareDependencies(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fdependencies, modelica_metatype _map, modelica_metatype _jacType)
{
  modelica_integer tmp1;
  modelica_metatype _dependencies = NULL;
  tmp1 = mmc_unbox_integer(_jacType);
  _dependencies = omc_NBStrongComponent_prepareDependencies(threadData, __omcQ_24in_5Fdependencies, _map, tmp1);
  /* skip box _dependencies; UnorderedSet<NFComponentRef> */
  return _dependencies;
}

PROTECTED_FUNCTION_STATIC void omc_NBStrongComponent_updateDependencyMap(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _dependencies, modelica_metatype _map)
{
  modelica_boolean _removed;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _removed has no default value.
  _removed = omc_UnorderedSet_remove(threadData, _cref, _dependencies);

  omc_UnorderedMap_add(threadData, _cref, omc_UnorderedSet_toList(threadData, _dependencies), _map);

  if(_removed)
  {
    omc_UnorderedSet_addNew(threadData, _cref, _dependencies);
  }
  _return: OMC_LABEL_UNUSED
  return;
}

PROTECTED_FUNCTION_STATIC modelica_metatype omc_NBStrongComponent_getLoopVarsAndEqns(threadData_t *threadData, modelica_metatype _comp_indices, modelica_metatype _eqn_to_var, modelica_metatype _mapping, modelica_metatype _vars, modelica_metatype _eqns, modelica_metatype *out_acc_eqns)
{
  modelica_metatype _acc_vars = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _acc_eqns = NULL;
  modelica_metatype tmpMeta2;
  modelica_integer _var_idx;
  modelica_integer _var_arr_idx;
  modelica_integer _var_scal_idx;
  modelica_integer _eqn_arr_idx;
  modelica_integer _eqn_scal_idx;
  modelica_metatype _idx_lst = NULL;
  modelica_metatype _var = NULL;
  modelica_metatype _eqn = NULL;
  modelica_integer _len_comps;
  modelica_metatype _var_map = NULL;
  modelica_metatype _eqn_map = NULL;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_metatype tmpMeta11;
  modelica_integer tmp12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_metatype tmpMeta15;
  modelica_integer tmp16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_boolean tmp22;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  modelica_metatype tmpMeta25;
  modelica_metatype tmpMeta26;
  modelica_metatype tmpMeta27;
  modelica_metatype tmpMeta28;
  modelica_metatype tmpMeta29;
  modelica_integer tmp30;
  modelica_metatype tmpMeta31;
  modelica_metatype tmpMeta32;
  modelica_metatype tmpMeta33;
  modelica_integer tmp34;
  modelica_metatype tmpMeta35;
  modelica_metatype tmpMeta36;
  modelica_boolean tmp40;
  modelica_metatype tmpMeta41;
  modelica_metatype tmpMeta42;
  modelica_metatype tmpMeta43;
  modelica_metatype tmpMeta44;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _acc_vars = tmpMeta1;
  tmpMeta2 = MMC_REFSTRUCTLIT(mmc_nil);
  _acc_eqns = tmpMeta2;
  // _var_idx has no default value.
  // _var_arr_idx has no default value.
  // _var_scal_idx has no default value.
  // _eqn_arr_idx has no default value.
  // _eqn_scal_idx has no default value.
  // _idx_lst has no default value.
  // _var has no default value.
  // _eqn has no default value.
  _len_comps = listLength(_comp_indices);
  _var_map = omc_UnorderedMap_new(threadData, boxvar_Util_id, boxvar_intEq, _len_comps);
  _eqn_map = omc_UnorderedMap_new(threadData, boxvar_Util_id, boxvar_intEq, _len_comps);
  {
    modelica_metatype _eqn_idx;
    for (tmpMeta3 = _comp_indices; !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
    {
      _eqn_idx = MMC_CAR(tmpMeta3);
      _var_idx = mmc_unbox_integer(arrayGet(_eqn_to_var,mmc_unbox_integer(_eqn_idx)) /* DAE.ASUB */);

      _var_arr_idx = mmc_unbox_integer(arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 3))),_var_idx) /* DAE.ASUB */);

      _eqn_arr_idx = mmc_unbox_integer(arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 2))),mmc_unbox_integer(_eqn_idx)) /* DAE.ASUB */);

      tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
      _idx_lst = omc_UnorderedMap_getOrDefault(threadData, mmc_mk_integer(_var_arr_idx), _var_map, tmpMeta4);

      tmpMeta5 = mmc_mk_cons(mmc_mk_integer(_var_idx), _idx_lst);
      omc_UnorderedMap_add(threadData, mmc_mk_integer(_var_arr_idx), tmpMeta5, _var_map);

      tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
      _idx_lst = omc_UnorderedMap_getOrDefault(threadData, mmc_mk_integer(_eqn_arr_idx), _eqn_map, tmpMeta6);

      tmpMeta7 = mmc_mk_cons(_eqn_idx, _idx_lst);
      omc_UnorderedMap_add(threadData, mmc_mk_integer(_eqn_arr_idx), tmpMeta7, _eqn_map);
    }
  }

  {
    modelica_metatype _tpl;
    for (tmpMeta9 = omc_UnorderedMap_toList(threadData, _var_map); !listEmpty(tmpMeta9); tmpMeta9=MMC_CDR(tmpMeta9))
    {
      _tpl = MMC_CAR(tmpMeta9);
      /* Pattern-matching assignment */
      tmpMeta10 = _tpl;
      tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 1));
      tmp12 = mmc_unbox_integer(tmpMeta11);
      tmpMeta13 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 2));
      _var_arr_idx = tmp12  /* pattern as ty=Integer */;
      _idx_lst = tmpMeta13;

      /* Pattern-matching assignment */
      tmpMeta14 = arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 5))),_var_arr_idx) /* DAE.ASUB */;
      tmpMeta15 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta14), 1));
      tmp16 = mmc_unbox_integer(tmpMeta15);
      _var_scal_idx = tmp16  /* pattern as ty=Integer */;

      _var = omc_NBVariable_VariablePointers_getVarAt(threadData, _vars, _var_arr_idx);

      tmp22 = (modelica_boolean)(listLength(_idx_lst) == omc_NBVariable_size(threadData, _var, 0 /* false */));
      if(tmp22)
      {
        tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
        tmpMeta23 = tmpMeta17;
      }
      else
      {
        {
          modelica_metatype __omcQ_24tmpVar1;
          modelica_metatype* tmp19;
          modelica_metatype tmpMeta20;
          modelica_metatype __omcQ_24tmpVar0;
          modelica_integer tmp21;
          modelica_metatype _i_loopVar = 0;
          modelica_metatype _i;
          _i_loopVar = _idx_lst;
          tmpMeta20 = MMC_REFSTRUCTLIT(mmc_nil);
          __omcQ_24tmpVar1 = tmpMeta20; /* defaultValue */
          tmp19 = &__omcQ_24tmpVar1;
          while(1) {
            tmp21 = 1;
            if (!listEmpty(_i_loopVar)) {
              _i = MMC_CAR(_i_loopVar);
              _i_loopVar = MMC_CDR(_i_loopVar);
              tmp21--;
            }
            if (tmp21 == 0) {
              __omcQ_24tmpVar0 = mmc_mk_integer(mmc_unbox_integer(_i) - _var_scal_idx);
              *tmp19 = mmc_mk_cons(__omcQ_24tmpVar0,0);
              tmp19 = &MMC_CDR(*tmp19);
            } else if (tmp21 == 1) {
              break;
            } else {
              MMC_THROW_INTERNAL();
            }
          }
          *tmp19 = mmc_mk_nil();
          tmpMeta18 = __omcQ_24tmpVar1;
        }
        tmpMeta23 = tmpMeta18;
      }
      _idx_lst = tmpMeta23;

      tmpMeta25 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _var, _idx_lst);
      tmpMeta24 = mmc_mk_cons(tmpMeta25, _acc_vars);
      _acc_vars = tmpMeta24;
    }
  }

  {
    modelica_metatype _tpl;
    for (tmpMeta27 = omc_UnorderedMap_toList(threadData, _eqn_map); !listEmpty(tmpMeta27); tmpMeta27=MMC_CDR(tmpMeta27))
    {
      _tpl = MMC_CAR(tmpMeta27);
      /* Pattern-matching assignment */
      tmpMeta28 = _tpl;
      tmpMeta29 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta28), 1));
      tmp30 = mmc_unbox_integer(tmpMeta29);
      tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta28), 2));
      _eqn_arr_idx = tmp30  /* pattern as ty=Integer */;
      _idx_lst = tmpMeta31;

      /* Pattern-matching assignment */
      tmpMeta32 = arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 4))),_eqn_arr_idx) /* DAE.ASUB */;
      tmpMeta33 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta32), 1));
      tmp34 = mmc_unbox_integer(tmpMeta33);
      _eqn_scal_idx = tmp34  /* pattern as ty=Integer */;

      _eqn = omc_NBEquation_EquationPointers_getEqnAt(threadData, _eqns, _eqn_arr_idx);

      tmp40 = (modelica_boolean)(listLength(_idx_lst) == omc_NBEquation_Equation_size(threadData, _eqn, 0 /* false */));
      if(tmp40)
      {
        tmpMeta35 = MMC_REFSTRUCTLIT(mmc_nil);
        tmpMeta41 = tmpMeta35;
      }
      else
      {
        {
          modelica_metatype __omcQ_24tmpVar3;
          modelica_metatype* tmp37;
          modelica_metatype tmpMeta38;
          modelica_metatype __omcQ_24tmpVar2;
          modelica_integer tmp39;
          modelica_metatype _i_loopVar = 0;
          modelica_metatype _i;
          _i_loopVar = _idx_lst;
          tmpMeta38 = MMC_REFSTRUCTLIT(mmc_nil);
          __omcQ_24tmpVar3 = tmpMeta38; /* defaultValue */
          tmp37 = &__omcQ_24tmpVar3;
          while(1) {
            tmp39 = 1;
            if (!listEmpty(_i_loopVar)) {
              _i = MMC_CAR(_i_loopVar);
              _i_loopVar = MMC_CDR(_i_loopVar);
              tmp39--;
            }
            if (tmp39 == 0) {
              __omcQ_24tmpVar2 = mmc_mk_integer(mmc_unbox_integer(_i) - _eqn_scal_idx);
              *tmp37 = mmc_mk_cons(__omcQ_24tmpVar2,0);
              tmp37 = &MMC_CDR(*tmp37);
            } else if (tmp39 == 1) {
              break;
            } else {
              MMC_THROW_INTERNAL();
            }
          }
          *tmp37 = mmc_mk_nil();
          tmpMeta36 = __omcQ_24tmpVar3;
        }
        tmpMeta41 = tmpMeta36;
      }
      _idx_lst = tmpMeta41;

      tmpMeta43 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _eqn, _idx_lst);
      tmpMeta42 = mmc_mk_cons(tmpMeta43, _acc_eqns);
      _acc_eqns = tmpMeta42;
    }
  }
  _return: OMC_LABEL_UNUSED
  if (out_acc_eqns) { *out_acc_eqns = _acc_eqns; }
  return _acc_vars;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_createSliceOrSingle(threadData_t *threadData, modelica_metatype _cref, modelica_metatype _var_slice, modelica_metatype _eqn_slice)
{
  modelica_metatype _comp = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _comp has no default value.
  if((omc_NBSlice_isFull(threadData, _var_slice) && omc_NBSlice_isFull(threadData, _eqn_slice)))
  {
    tmpMeta1 = mmc_mk_box4(3, &NBStrongComponent_SINGLE__COMPONENT__desc, omc_NBSlice_getT(threadData, _var_slice), omc_NBSlice_getT(threadData, _eqn_slice), mmc_mk_integer(1));
    _comp = tmpMeta1;
  }
  else
  {
    tmpMeta2 = mmc_mk_box5(5, &NBStrongComponent_SLICED__COMPONENT__desc, _cref, _var_slice, _eqn_slice, mmc_mk_integer(1));
    _comp = tmpMeta2;
  }
  _return: OMC_LABEL_UNUSED
  return _comp;
}

static modelica_metatype closure3_NBInitialization_containsHomotopyCall(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_exp)
{
  modelica_metatype b = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBInitialization_containsHomotopyCall(thData, $in_exp, b);
}
DLLDirection
modelica_metatype omc_NBStrongComponent_createPseudoScalar(threadData_t *threadData, modelica_metatype _comp_indices, modelica_metatype _eqn_to_var, modelica_metatype _mapping, modelica_metatype _vars, modelica_metatype _eqns)
{
  modelica_metatype _comp = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _comp has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _comp_indices;
    {
      modelica_integer _i;
      modelica_integer _var_scal_idx;
      modelica_integer _var_arr_idx;
      modelica_metatype _var = NULL;
      modelica_metatype _eqn = NULL;
      modelica_metatype _comp_vars = NULL;
      modelica_metatype _comp_eqns = NULL;
      modelica_metatype _tearingSet = NULL;
      modelica_metatype _var_slice = NULL;
      modelica_metatype _eqn_slice = NULL;
      modelica_metatype _homotopy = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _i has no default value.
      // _var_scal_idx has no default value.
      // _var_arr_idx has no default value.
      // _var has no default value.
      // _eqn has no default value.
      // _comp_vars has no default value.
      // _comp_eqns has no default value.
      // _tearingSet has no default value.
      // _var_slice has no default value.
      // _eqn_slice has no default value.
      _homotopy = omc_Pointer_create(threadData, mmc_mk_boolean(0 /* false */));
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_integer tmp8;
          modelica_metatype tmpMeta9;
          if (listEmpty(tmp4_1)) goto tmp3_end;
          tmpMeta6 = MMC_CAR(tmp4_1);
          tmpMeta7 = MMC_CDR(tmp4_1);
          tmp8 = mmc_unbox_integer(tmpMeta6);
          if (!listEmpty(tmpMeta7)) goto tmp3_end;
          _i = tmp8  /* pattern as ty=Integer */;
          /* Pattern matching succeeded */
          _var_scal_idx = mmc_unbox_integer(arrayGet(_eqn_to_var,_i) /* DAE.ASUB */);

          _var_arr_idx = mmc_unbox_integer(arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 3))),_var_scal_idx) /* DAE.ASUB */);

          _var = omc_NBVariable_VariablePointers_getVarAt(threadData, _vars, _var_arr_idx);

          _eqn = omc_NBEquation_EquationPointers_getEqnAt(threadData, _eqns, mmc_unbox_integer(arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 2))),_i) /* DAE.ASUB */));
          { /* match expression */
            modelica_metatype tmp12_1;
            tmp12_1 = omc_Pointer_access(threadData, _eqn);
            {
              volatile mmc_switch_type tmp12;
              int tmp13;
              tmp12 = 0;
              for (; tmp12 < 5; tmp12++) {
                switch (MMC_SWITCH_CAST(tmp12)) {
                case 0: {
                  modelica_metatype tmpMeta24;
                  
                  /* Pattern matching succeeded */
                  /* Check guard condition after assignments */
                  if (!omc_NBEquation_Equation_isForEquation(threadData, _eqn)) goto tmp11_end;
                  { /* matchcontinue expression */
                    {
                      volatile mmc_switch_type tmp16;
                      int tmp17;
                      tmp16 = 0;
                      MMC_TRY_INTERNAL(mmc_jumper)
                      tmp15_top:
                      threadData->mmc_jumper = &new_mmc_jumper;
                      for (; tmp16 < 2; tmp16++) {
                        switch (MMC_SWITCH_CAST(tmp16)) {
                        case 0: {
                          modelica_metatype tmpMeta18;
                          modelica_metatype tmpMeta19;
                          modelica_metatype tmpMeta20;
                          modelica_metatype tmpMeta21;
                          modelica_metatype tmpMeta22;
                          modelica_metatype tmpMeta23;
                          /* Pattern matching succeeded */
                          /* Pattern-matching tuple assignment */
                          tmpMeta21 = omc_NBStrongComponent_getLoopVarsAndEqns(threadData, _comp_indices, _eqn_to_var, _mapping, _vars, _eqns, &tmpMeta18);
                          if (listEmpty(tmpMeta21)) goto goto_14;
                          tmpMeta22 = MMC_CAR(tmpMeta21);
                          tmpMeta23 = MMC_CDR(tmpMeta21);
                          if (!listEmpty(tmpMeta23)) goto goto_14;
                          _var_slice = tmpMeta22;
                          if (listEmpty(tmpMeta18)) goto goto_14;
                          tmpMeta19 = MMC_CAR(tmpMeta18);
                          tmpMeta20 = MMC_CDR(tmpMeta18);
                          if (!listEmpty(tmpMeta20)) goto goto_14;
                          _eqn_slice = tmpMeta19;
                          goto tmp15_done;
                        }
                        case 1: {
                          /* Pattern matching succeeded */
                          omc_Error_addMessage(threadData, _OMC_LIT7, _OMC_LIT9);

                          goto goto_14;
                          goto tmp15_done;
                        }
                        }
                        goto tmp15_end;
                        tmp15_end: ;
                      }
                      goto goto_14;
                      tmp15_done:
                      (void)tmp16;
                      MMC_RESTORE_INTERNAL(mmc_jumper);
                      goto tmp15_done2;
                      goto_14:;
                      MMC_CATCH_INTERNAL(mmc_jumper);
                      if (++tmp16 < 2) {
                        goto tmp15_top;
                      }
                      goto goto_10;
                      tmp15_done2:;
                    }
                  }
                  ;
                  tmpMeta24 = mmc_mk_box5(5, &NBStrongComponent_SLICED__COMPONENT__desc, omc_NBVariable_VariablePointers_varSlice(threadData, _vars, _var_scal_idx, _mapping), _var_slice, _eqn_slice, mmc_mk_integer(1));
                  tmpMeta9 = tmpMeta24;
                  goto tmp11_done;
                }
                case 1: {
                  modelica_metatype tmpMeta25;
                  modelica_metatype tmpMeta26;
                  modelica_metatype tmpMeta27;
                  modelica_metatype tmpMeta28;
                  modelica_metatype tmpMeta29;
                  modelica_metatype tmpMeta30;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,6,4) == 0) goto tmp11_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta26 = MMC_REFSTRUCTLIT(mmc_nil);
                  tmpMeta27 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _var, tmpMeta26);
                  tmpMeta25 = mmc_mk_cons(tmpMeta27, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta28 = MMC_REFSTRUCTLIT(mmc_nil);
                  tmpMeta29 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _eqn, tmpMeta28);
                  tmpMeta30 = mmc_mk_box4(4, &NBStrongComponent_MULTI__COMPONENT__desc, tmpMeta25, tmpMeta29, mmc_mk_integer(1));
                  tmpMeta9 = tmpMeta30;
                  goto tmp11_done;
                }
                case 2: {
                  modelica_metatype tmpMeta31;
                  modelica_metatype tmpMeta32;
                  modelica_metatype tmpMeta33;
                  modelica_metatype tmpMeta34;
                  modelica_metatype tmpMeta35;
                  modelica_metatype tmpMeta36;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,4,4) == 0) goto tmp11_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta32 = MMC_REFSTRUCTLIT(mmc_nil);
                  tmpMeta33 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _var, tmpMeta32);
                  tmpMeta31 = mmc_mk_cons(tmpMeta33, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta34 = MMC_REFSTRUCTLIT(mmc_nil);
                  tmpMeta35 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _eqn, tmpMeta34);
                  tmpMeta36 = mmc_mk_box4(4, &NBStrongComponent_MULTI__COMPONENT__desc, tmpMeta31, tmpMeta35, mmc_mk_integer(1));
                  tmpMeta9 = tmpMeta36;
                  goto tmp11_done;
                }
                case 3: {
                  modelica_metatype tmpMeta37;
                  modelica_metatype tmpMeta38;
                  modelica_metatype tmpMeta39;
                  modelica_metatype tmpMeta40;
                  modelica_metatype tmpMeta41;
                  modelica_metatype tmpMeta42;
                  if (mmc__uniontype__metarecord__typedef__equal(tmp12_1,3,5) == 0) goto tmp11_end;
                  
                  /* Pattern matching succeeded */
                  tmpMeta38 = MMC_REFSTRUCTLIT(mmc_nil);
                  tmpMeta39 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _var, tmpMeta38);
                  tmpMeta37 = mmc_mk_cons(tmpMeta39, MMC_REFSTRUCTLIT(mmc_nil));
                  tmpMeta40 = MMC_REFSTRUCTLIT(mmc_nil);
                  tmpMeta41 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _eqn, tmpMeta40);
                  tmpMeta42 = mmc_mk_box4(4, &NBStrongComponent_MULTI__COMPONENT__desc, tmpMeta37, tmpMeta41, mmc_mk_integer(1));
                  tmpMeta9 = tmpMeta42;
                  goto tmp11_done;
                }
                case 4: {
                  
                  /* Pattern matching succeeded */
                  { /* matchcontinue expression */
                    {
                      volatile mmc_switch_type tmp45;
                      int tmp46;
                      tmp45 = 0;
                      MMC_TRY_INTERNAL(mmc_jumper)
                      tmp44_top:
                      threadData->mmc_jumper = &new_mmc_jumper;
                      for (; tmp45 < 2; tmp45++) {
                        switch (MMC_SWITCH_CAST(tmp45)) {
                        case 0: {
                          modelica_metatype tmpMeta47;
                          modelica_metatype tmpMeta48;
                          modelica_metatype tmpMeta49;
                          modelica_metatype tmpMeta50;
                          modelica_metatype tmpMeta51;
                          modelica_metatype tmpMeta52;
                          /* Pattern matching succeeded */
                          /* Pattern-matching tuple assignment */
                          tmpMeta50 = omc_NBStrongComponent_getLoopVarsAndEqns(threadData, _comp_indices, _eqn_to_var, _mapping, _vars, _eqns, &tmpMeta47);
                          if (listEmpty(tmpMeta50)) goto goto_43;
                          tmpMeta51 = MMC_CAR(tmpMeta50);
                          tmpMeta52 = MMC_CDR(tmpMeta50);
                          if (!listEmpty(tmpMeta52)) goto goto_43;
                          _var_slice = tmpMeta51;
                          if (listEmpty(tmpMeta47)) goto goto_43;
                          tmpMeta48 = MMC_CAR(tmpMeta47);
                          tmpMeta49 = MMC_CDR(tmpMeta47);
                          if (!listEmpty(tmpMeta49)) goto goto_43;
                          _eqn_slice = tmpMeta48;
                          goto tmp44_done;
                        }
                        case 1: {
                          /* Pattern matching succeeded */
                          omc_Error_addMessage(threadData, _OMC_LIT7, _OMC_LIT9);

                          goto goto_43;
                          goto tmp44_done;
                        }
                        }
                        goto tmp44_end;
                        tmp44_end: ;
                      }
                      goto goto_43;
                      tmp44_done:
                      (void)tmp45;
                      MMC_RESTORE_INTERNAL(mmc_jumper);
                      goto tmp44_done2;
                      goto_43:;
                      MMC_CATCH_INTERNAL(mmc_jumper);
                      if (++tmp45 < 2) {
                        goto tmp44_top;
                      }
                      goto goto_10;
                      tmp44_done2:;
                    }
                  }
                  ;
                  tmpMeta9 = omc_NBStrongComponent_createSliceOrSingle(threadData, omc_NBVariable_VariablePointers_varSlice(threadData, _vars, _var_scal_idx, _mapping), _var_slice, _eqn_slice);
                  goto tmp11_done;
                }
                }
                goto tmp11_end;
                tmp11_end: ;
              }
              goto goto_10;
              goto_10:;
              goto goto_2;
              goto tmp11_done;
              tmp11_done:;
            }
          }tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta53;
          
          /* Pattern matching succeeded */
          _comp_vars = omc_NBStrongComponent_getLoopVarsAndEqns(threadData, _comp_indices, _eqn_to_var, _mapping, _vars, _eqns ,&_comp_eqns);
          { /* match expression */
            modelica_metatype tmp56_1;modelica_metatype tmp56_2;
            tmp56_1 = _comp_vars;
            tmp56_2 = _comp_eqns;
            {
              volatile mmc_switch_type tmp56;
              int tmp57;
              tmp56 = 0;
              for (; tmp56 < 3; tmp56++) {
                switch (MMC_SWITCH_CAST(tmp56)) {
                case 0: {
                  modelica_metatype tmpMeta58;
                  modelica_metatype tmpMeta59;
                  modelica_metatype tmpMeta60;
                  modelica_metatype tmpMeta61;
                  if (listEmpty(tmp56_1)) goto tmp55_end;
                  tmpMeta58 = MMC_CAR(tmp56_1);
                  tmpMeta59 = MMC_CDR(tmp56_1);
                  if (!listEmpty(tmpMeta59)) goto tmp55_end;
                  if (listEmpty(tmp56_2)) goto tmp55_end;
                  tmpMeta60 = MMC_CAR(tmp56_2);
                  tmpMeta61 = MMC_CDR(tmp56_2);
                  if (!listEmpty(tmpMeta61)) goto tmp55_end;
                  _var_slice = tmpMeta58;
                  _eqn_slice = tmpMeta60;
                  /* Pattern matching succeeded */
                  /* Check guard condition after assignments */
                  if (!(!(omc_NBEquation_Equation_isForEquation(threadData, omc_NBSlice_getT(threadData, _eqn_slice)) || omc_NBEquation_Equation_isAlgorithm(threadData, omc_NBSlice_getT(threadData, _eqn_slice))))) goto tmp55_end;
                  tmpMeta53 = omc_NBStrongComponent_createSliceOrSingle(threadData, omc_NBVariable_getVarName(threadData, omc_NBSlice_getT(threadData, _var_slice)), _var_slice, _eqn_slice);
                  goto tmp55_done;
                }
                case 1: {
                  modelica_metatype tmpMeta62;
                  modelica_metatype tmpMeta63;
                  modelica_metatype tmpMeta64;
                  if (listEmpty(tmp56_2)) goto tmp55_end;
                  tmpMeta62 = MMC_CAR(tmp56_2);
                  tmpMeta63 = MMC_CDR(tmp56_2);
                  if (!listEmpty(tmpMeta63)) goto tmp55_end;
                  
                  _eqn_slice = tmpMeta62;
                  /* Pattern matching succeeded */
                  /* Check guard condition after assignments */
                  if (!(!omc_NBEquation_Equation_isForEquation(threadData, omc_NBSlice_getT(threadData, _eqn_slice)))) goto tmp55_end;
                  tmpMeta64 = mmc_mk_box4(4, &NBStrongComponent_MULTI__COMPONENT__desc, _comp_vars, _eqn_slice, mmc_mk_integer(1));
                  tmpMeta53 = tmpMeta64;
                  goto tmp55_done;
                }
                case 2: {
                  modelica_metatype tmpMeta65;
                  modelica_metatype tmpMeta66;
                  modelica_metatype tmpMeta67;
                  modelica_metatype tmpMeta68;
                  modelica_metatype tmpMeta69;
                  modelica_metatype tmpMeta70;
                  
                  /* Pattern matching succeeded */
                  tmpMeta65 = MMC_REFSTRUCTLIT(mmc_nil);
                  tmpMeta66 = mmc_mk_box5(3, &NBTearing_TEARING__SET__desc, _comp_vars, _comp_eqns, listArray(tmpMeta65), mmc_mk_none());
                  _tearingSet = tmpMeta66;

                  {
                    modelica_metatype _eqn;
                    for (tmpMeta67 = _comp_eqns; !listEmpty(tmpMeta67); tmpMeta67=MMC_CDR(tmpMeta67))
                    {
                      _eqn = MMC_CAR(tmpMeta67);
                      tmpMeta68 = mmc_mk_box1(0, _homotopy);
                      omc_NBEquation_Equation_map(threadData, omc_Pointer_access(threadData, omc_NBSlice_getT(threadData, _eqn)), (modelica_fnptr) mmc_mk_box2(0,closure3_NBInitialization_containsHomotopyCall,tmpMeta68), mmc_mk_none(), boxvar_NFExpression_map);
                    }
                  }
                  tmpMeta70 = mmc_mk_box8(9, &NBStrongComponent_ALGEBRAIC__LOOP__desc, mmc_mk_integer(((modelica_integer) -1)), _tearingSet, mmc_mk_none(), mmc_mk_boolean(0 /* false */), mmc_mk_boolean(0 /* false */), omc_Pointer_access(threadData, _homotopy), mmc_mk_integer(3));
                  tmpMeta53 = tmpMeta70;
                  goto tmp55_done;
                }
                }
                goto tmp55_end;
                tmp55_end: ;
              }
              goto goto_54;
              goto_54:;
              goto goto_2;
              goto tmp55_done;
              tmp55_done:;
            }
          }tmpMeta1 = tmpMeta53;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT7, _OMC_LIT11);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _comp = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _comp;
}

DLLDirection
modelica_boolean omc_NBStrongComponent_isAlias(threadData_t *threadData, modelica_metatype _comp)
{
  modelica_boolean _b;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _comp;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = 1 /* true */;
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBStrongComponent_isAlias(threadData_t *threadData, modelica_metatype _comp)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBStrongComponent_isAlias(threadData, _comp);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBStrongComponent_isDummy(threadData_t *threadData, modelica_metatype _comp)
{
  modelica_boolean _b;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _comp;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBEquation_Equation_isDummy(threadData, omc_Pointer_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))));
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBEquation_Equation_isDummy(threadData, omc_Pointer_access(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))))));
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBStrongComponent_isDummy(threadData_t *threadData, modelica_metatype _comp)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBStrongComponent_isDummy(threadData, _comp);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

PROTECTED_FUNCTION_STATIC modelica_boolean omc_NBStrongComponent_isDiscrete_bool__ident(threadData_t *threadData, modelica_boolean __omcQ_24in_5Fb)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _b = __omcQ_24in_5Fb;
  _return: OMC_LABEL_UNUSED
  return _b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_NBStrongComponent_isDiscrete_bool__ident(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fb)
{
  modelica_integer tmp1;
  modelica_boolean _b;
  modelica_metatype out_b;
  tmp1 = mmc_unbox_integer(__omcQ_24in_5Fb);
  _b = omc_NBStrongComponent_isDiscrete_bool__ident(threadData, tmp1);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_boolean omc_NBStrongComponent_isDiscrete(threadData_t *threadData, modelica_metatype _comp)
{
  modelica_boolean _b;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _comp;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBEquation_Equation_isDiscrete(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))));
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBEquation_Equation_isDiscrete(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))));
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBEquation_Equation_isDiscrete(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))));
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBEquation_Equation_isDiscrete(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))));
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar5;
            modelica_metatype* tmp6;
            modelica_metatype tmpMeta7;
            modelica_metatype __omcQ_24tmpVar4;
            modelica_integer tmp8;
            modelica_metatype _c_loopVar = 0;
            modelica_metatype _c;
            _c_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)));
            tmpMeta7 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar5 = tmpMeta7; /* defaultValue */
            tmp6 = &__omcQ_24tmpVar5;
            while(1) {
              tmp8 = 1;
              if (!listEmpty(_c_loopVar)) {
                _c = MMC_CAR(_c_loopVar);
                _c_loopVar = MMC_CDR(_c_loopVar);
                tmp8--;
              }
              if (tmp8 == 0) {
                __omcQ_24tmpVar4 = mmc_mk_boolean(omc_NBStrongComponent_isDiscrete(threadData, _c));
                *tmp6 = mmc_mk_cons(__omcQ_24tmpVar4,0);
                tmp6 = &MMC_CDR(*tmp6);
              } else if (tmp8 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp6 = mmc_mk_nil();
            tmpMeta5 = __omcQ_24tmpVar5;
          }
          tmp1 = omc_List_all(threadData, tmpMeta5, boxvar_NBStrongComponent_isDiscrete_bool__ident);
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBEquation_Equation_isDiscrete(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))));
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          tmp1 = mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 6))));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _comp = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          
          /* Pattern matching succeeded */
          tmpMeta10 = stringAppend(_OMC_LIT12,omc_NBStrongComponent_toString(threadData, _comp, ((modelica_integer) -1)));
          tmpMeta9 = mmc_mk_cons(tmpMeta10, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT7, tmpMeta9);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBStrongComponent_isDiscrete(threadData_t *threadData, modelica_metatype _comp)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBStrongComponent_isDiscrete(threadData, _comp);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_getVariables(threadData_t *threadData, modelica_metatype _comp)
{
  modelica_metatype _vars = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _vars has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _comp;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_cons((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2))), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar7;
            modelica_metatype* tmp7;
            modelica_metatype tmpMeta8;
            modelica_metatype __omcQ_24tmpVar6;
            modelica_integer tmp9;
            modelica_metatype _v_loopVar = 0;
            modelica_metatype _v;
            _v_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)));
            tmpMeta8 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar7 = tmpMeta8; /* defaultValue */
            tmp7 = &__omcQ_24tmpVar7;
            while(1) {
              tmp9 = 1;
              if (!listEmpty(_v_loopVar)) {
                _v = MMC_CAR(_v_loopVar);
                _v_loopVar = MMC_CDR(_v_loopVar);
                tmp9--;
              }
              if (tmp9 == 0) {
                __omcQ_24tmpVar6 = omc_NBSlice_getT(threadData, _v);
                *tmp7 = mmc_mk_cons(__omcQ_24tmpVar6,0);
                tmp7 = &MMC_CDR(*tmp7);
              } else if (tmp9 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp7 = mmc_mk_nil();
            tmpMeta6 = __omcQ_24tmpVar7;
          }
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta10;
          
          /* Pattern matching succeeded */
          tmpMeta10 = mmc_mk_cons(omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta10;
          goto tmp3_done;
        }
        case 6: {
          modelica_metatype tmpMeta11;
          
          /* Pattern matching succeeded */
          tmpMeta11 = mmc_mk_cons(omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))), MMC_REFSTRUCTLIT(mmc_nil));
          tmpMeta1 = tmpMeta11;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta12;
          
          /* Pattern matching succeeded */
          {
            modelica_metatype __omcQ_24tmpVar9;
            modelica_metatype* tmp13;
            modelica_metatype tmpMeta14;
            modelica_metatype __omcQ_24tmpVar8;
            modelica_integer tmp15;
            modelica_metatype _slice_loopVar = 0;
            modelica_metatype _slice;
            _slice_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)));
            tmpMeta14 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar9 = tmpMeta14; /* defaultValue */
            tmp13 = &__omcQ_24tmpVar9;
            while(1) {
              tmp15 = 1;
              if (!listEmpty(_slice_loopVar)) {
                _slice = MMC_CAR(_slice_loopVar);
                _slice_loopVar = MMC_CDR(_slice_loopVar);
                tmp15--;
              }
              if (tmp15 == 0) {
                __omcQ_24tmpVar8 = omc_NBStrongComponent_getVariables(threadData, _slice);
                *tmp13 = mmc_mk_cons(__omcQ_24tmpVar8,0);
                tmp13 = &MMC_CDR(*tmp13);
              } else if (tmp15 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            *tmp13 = mmc_mk_nil();
            tmpMeta12 = __omcQ_24tmpVar9;
          }
          tmpMeta1 = omc_List_flatten(threadData, tmpMeta12);
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NBTearing_getResidualVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _comp = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)));
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          
          /* Pattern matching succeeded */
          tmpMeta17 = stringAppend(_OMC_LIT13,omc_NBStrongComponent_toString(threadData, _comp, ((modelica_integer) -1)));
          tmpMeta16 = mmc_mk_cons(tmpMeta17, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT7, tmpMeta16);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _vars = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _vars;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_getLoopResiduals(threadData_t *threadData, modelica_metatype _comp)
{
  modelica_metatype _residuals = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _residuals has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _comp;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,7) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NBTearing_getResidualVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))));
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _residuals = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _residuals;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_addLoopJacobian(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcomp, modelica_metatype _jac)
{
  modelica_metatype _comp = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _comp = __omcQ_24in_5Fcomp;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _comp;
    {
      modelica_metatype _strict = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _strict has no default value.
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,7) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
          
          _strict = tmpMeta6;
          /* Pattern matching succeeded */
          tmpMeta7 = MMC_TAGPTR(mmc_alloc_words(6));
          memcpy(MMC_UNTAGPTR(tmpMeta7), MMC_UNTAGPTR(_strict), 6*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta7))[5] = _jac;
          _strict = tmpMeta7;

          tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(9));
          memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_comp), 9*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[3] = _strict;
          _comp = tmpMeta8;
          tmpMeta1 = _comp;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          
          /* Pattern matching succeeded */
          tmpMeta10 = stringAppend(_OMC_LIT14,omc_NBStrongComponent_toString(threadData, _comp, ((modelica_integer) -1)));
          tmpMeta9 = mmc_mk_cons(tmpMeta10, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT7, tmpMeta9);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _comp = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _comp;
}

static modelica_metatype closure4_NBSlice_getDependentCrefCausalized(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_cref, modelica_metatype acc)
{
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBSlice_getDependentCrefCausalized(thData, $in_cref, acc, set);
}
DLLDirection
void omc_NBStrongComponent_addForLoopDependencies(threadData_t *threadData, modelica_metatype _eqn, modelica_metatype _indices, modelica_metatype _var_cref, modelica_metatype _var_rep, modelica_metatype _eqn_rep, modelica_metatype _var_rep_mapping, modelica_metatype _eqn_rep_mapping, modelica_metatype _map, modelica_metatype _set, modelica_integer _jacType)
{
  modelica_metatype _iter = NULL;
  modelica_metatype _body = NULL;
  modelica_metatype _dependencies = NULL;
  modelica_metatype _cref = NULL;
  modelica_metatype _scalarized_dependencies = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _iter has no default value.
  // _body has no default value.
  // _dependencies has no default value.
  // _cref has no default value.
  // _scalarized_dependencies has no default value.
  /* Pattern-matching assignment */
  tmpMeta1 = _eqn;
  if (mmc__uniontype__metarecord__typedef__equal(tmpMeta1,5,5) == 0) MMC_THROW_INTERNAL();
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 3));
  tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 4));
  if (listEmpty(tmpMeta3)) MMC_THROW_INTERNAL();
  tmpMeta4 = MMC_CAR(tmpMeta3);
  tmpMeta5 = MMC_CDR(tmpMeta3);
  if (!listEmpty(tmpMeta5)) MMC_THROW_INTERNAL();
  _iter = tmpMeta2;
  _body = tmpMeta4;

  tmpMeta6 = mmc_mk_box1(0, _set);
  _dependencies = omc_NBEquation_Equation_collectCrefs(threadData, _eqn, (modelica_fnptr) mmc_mk_box2(0,closure4_NBSlice_getDependentCrefCausalized,tmpMeta6), boxvar_NFExpression_fakeMap);

  if(omc_NFComponentRef_isEmpty(threadData, _var_cref))
  {
    /* Pattern-matching assignment */
    tmpMeta7 = omc_NBEquation_Equation_getLHS(threadData, _body);
    if (mmc__uniontype__metarecord__typedef__equal(tmpMeta7,6,2) == 0) MMC_THROW_INTERNAL();
    tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 3));
    _cref = tmpMeta8;
  }
  else
  {
    _cref = _var_cref;
  }

  _scalarized_dependencies = omc_NBSlice_getDependentCrefsPseudoForCausalized(threadData, _cref, _dependencies, _var_rep, _eqn_rep, _var_rep_mapping, _eqn_rep_mapping, _iter, omc_NBEquation_Equation_size(threadData, omc_Pointer_create(threadData, _eqn), 0 /* false */), _indices, 0 /* false */);

  omc_NBStrongComponent_addScalarizedDependencies(threadData, _scalarized_dependencies, _map, (modelica_integer)_jacType);
  _return: OMC_LABEL_UNUSED
  return;
}
void boxptr_NBStrongComponent_addForLoopDependencies(threadData_t *threadData, modelica_metatype _eqn, modelica_metatype _indices, modelica_metatype _var_cref, modelica_metatype _var_rep, modelica_metatype _eqn_rep, modelica_metatype _var_rep_mapping, modelica_metatype _eqn_rep_mapping, modelica_metatype _map, modelica_metatype _set, modelica_metatype _jacType)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_jacType);
  omc_NBStrongComponent_addForLoopDependencies(threadData, _eqn, _indices, _var_cref, _var_rep, _eqn_rep, _var_rep_mapping, _eqn_rep_mapping, _map, _set, tmp1);
  return;
}

DLLDirection
void omc_NBStrongComponent_addScalarizedDependencies(threadData_t *threadData, modelica_metatype _scalarized_dependencies, modelica_metatype _map, modelica_integer _jacType)
{
  modelica_metatype _cref = NULL;
  modelica_metatype _dependencies = NULL;
  modelica_metatype _deps_set = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _cref has no default value.
  // _dependencies has no default value.
  // _deps_set has no default value.
  {
    modelica_metatype _tpl;
    for (tmpMeta1 = listReverse(_scalarized_dependencies); !listEmpty(tmpMeta1); tmpMeta1=MMC_CDR(tmpMeta1))
    {
      _tpl = MMC_CAR(tmpMeta1);
      /* Pattern-matching assignment */
      tmpMeta2 = _tpl;
      tmpMeta3 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 1));
      tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta2), 2));
      _cref = tmpMeta3;
      _dependencies = tmpMeta4;

      _deps_set = omc_NBStrongComponent_prepareDependencies(threadData, omc_UnorderedSet_fromList(threadData, _dependencies, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual), _map, (modelica_integer)_jacType);

      omc_NBStrongComponent_updateDependencyMap(threadData, _cref, _deps_set, _map);
    }
  }
  _return: OMC_LABEL_UNUSED
  return;
}
void boxptr_NBStrongComponent_addScalarizedDependencies(threadData_t *threadData, modelica_metatype _scalarized_dependencies, modelica_metatype _map, modelica_metatype _jacType)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_jacType);
  omc_NBStrongComponent_addScalarizedDependencies(threadData, _scalarized_dependencies, _map, tmp1);
  return;
}

static modelica_metatype closure5_NBSlice_getDependentCrefCausalized(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_cref, modelica_metatype acc)
{
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBSlice_getDependentCrefCausalized(thData, $in_cref, acc, set);
}static modelica_metatype closure6_NBSlice_getDependentCrefCausalized(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_cref, modelica_metatype acc)
{
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBSlice_getDependentCrefCausalized(thData, $in_cref, acc, set);
}static modelica_metatype closure7_NBSlice_getDependentCrefCausalized(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_cref, modelica_metatype acc)
{
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBSlice_getDependentCrefCausalized(thData, $in_cref, acc, set);
}static modelica_metatype closure8_NBSlice_getDependentCrefCausalized(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_cref, modelica_metatype acc)
{
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBSlice_getDependentCrefCausalized(thData, $in_cref, acc, set);
}static modelica_metatype closure9_NBSlice_getDependentCrefCausalized(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_cref, modelica_metatype acc)
{
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBSlice_getDependentCrefCausalized(thData, $in_cref, acc, set);
}static modelica_metatype closure10_NBSlice_getDependentCrefCausalized(threadData_t *thData, modelica_metatype closure, modelica_metatype $in_cref, modelica_metatype acc)
{
  modelica_metatype set = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBSlice_getDependentCrefCausalized(thData, $in_cref, acc, set);
}
DLLDirection
void omc_NBStrongComponent_collectCrefs(threadData_t *threadData, modelica_metatype _comp, modelica_metatype _var_rep, modelica_metatype _eqn_rep, modelica_metatype _var_rep_mapping, modelica_metatype _eqn_rep_mapping, modelica_metatype _map, modelica_metatype _set, modelica_integer _jacType)
{
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _comp;
    {
      modelica_metatype _eqn_ptr = NULL;
      modelica_metatype _cref = NULL;
      modelica_metatype _dependencies = NULL;
      modelica_metatype _loop_vars = NULL;
      modelica_metatype _tmp = NULL;
      modelica_metatype _scalarized_dependencies = NULL;
      modelica_metatype _strict = NULL;
      modelica_metatype _eqn = NULL;
      modelica_metatype _iter = NULL;
      modelica_metatype _deps_set = NULL;
      volatile mmc_switch_type tmp3;
      int tmp4;
      // _eqn_ptr has no default value.
      // _cref has no default value.
      // _dependencies has no default value.
      // _loop_vars has no default value.
      // _tmp has no default value.
      // _scalarized_dependencies has no default value.
      // _strict has no default value.
      // _eqn has no default value.
      // _iter has no default value.
      // _deps_set has no default value.
      tmp3 = 0;
      for (; tmp3 < 11; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          modelica_metatype tmpMeta5;
          modelica_metatype tmpMeta6;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,3) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_NBEquation_Equation_isArrayEquation(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))))) goto tmp2_end;
          tmpMeta5 = mmc_mk_box1(0, _set);
          _dependencies = omc_NBEquation_Equation_collectCrefs(threadData, omc_Pointer_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))), (modelica_fnptr) mmc_mk_box2(0,closure5_NBSlice_getDependentCrefCausalized,tmpMeta5), boxvar_NFExpression_fakeMap);

          tmpMeta6 = MMC_REFSTRUCTLIT(mmc_nil);
          _scalarized_dependencies = omc_NBSlice_getDependentCrefsPseudoArrayCausalized(threadData, omc_NBVariable_getVarName(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)))), _dependencies, tmpMeta6);

          omc_NBStrongComponent_addScalarizedDependencies(threadData, _scalarized_dependencies, _map, (modelica_integer)_jacType);
          goto tmp2_done;
        }
        case 1: {
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,3) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box1(0, _set);
          _dependencies = omc_NBEquation_Equation_collectCrefs(threadData, omc_Pointer_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))), (modelica_fnptr) mmc_mk_box2(0,closure6_NBSlice_getDependentCrefCausalized,tmpMeta7), boxvar_NFExpression_fakeMap);

          {
            modelica_metatype __omcQ_24tmpVar11;
            modelica_metatype* tmp9;
            modelica_metatype tmpMeta10;
            modelica_metatype __omcQ_24tmpVar10;
            modelica_integer tmp11;
            modelica_metatype _dep_loopVar = 0;
            modelica_metatype _dep;
            _dep_loopVar = _dependencies;
            tmpMeta10 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar11 = tmpMeta10; /* defaultValue */
            tmp9 = &__omcQ_24tmpVar11;
            while(1) {
              tmp11 = 1;
              if (!listEmpty(_dep_loopVar)) {
                _dep = MMC_CAR(_dep_loopVar);
                _dep_loopVar = MMC_CDR(_dep_loopVar);
                tmp11--;
              }
              if (tmp11 == 0) {
                __omcQ_24tmpVar10 = omc_NFComponentRef_scalarizeAll(threadData, _dep, 1 /* true */);
                *tmp9 = mmc_mk_cons(__omcQ_24tmpVar10,0);
                tmp9 = &MMC_CDR(*tmp9);
              } else if (tmp11 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp9 = mmc_mk_nil();
            tmpMeta8 = __omcQ_24tmpVar11;
          }
          _dependencies = omc_List_flatten(threadData, tmpMeta8);

          _deps_set = omc_NBStrongComponent_prepareDependencies(threadData, omc_UnorderedSet_fromList(threadData, _dependencies, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual), _map, (modelica_integer)_jacType);

          omc_NBStrongComponent_updateDependencyMap(threadData, omc_NBVariable_getVarName(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)))), _deps_set, _map);
          goto tmp2_done;
        }
        case 2: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta17;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta12 = mmc_mk_box1(0, _set);
          _dependencies = omc_NBEquation_Equation_collectCrefs(threadData, omc_Pointer_access(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))))), (modelica_fnptr) mmc_mk_box2(0,closure7_NBSlice_getDependentCrefCausalized,tmpMeta12), boxvar_NFExpression_fakeMap);

          {
            modelica_metatype __omcQ_24tmpVar13;
            modelica_metatype* tmp14;
            modelica_metatype tmpMeta15;
            modelica_metatype __omcQ_24tmpVar12;
            modelica_integer tmp16;
            modelica_metatype _dep_loopVar = 0;
            modelica_metatype _dep;
            _dep_loopVar = _dependencies;
            tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar13 = tmpMeta15; /* defaultValue */
            tmp14 = &__omcQ_24tmpVar13;
            while(1) {
              tmp16 = 1;
              if (!listEmpty(_dep_loopVar)) {
                _dep = MMC_CAR(_dep_loopVar);
                _dep_loopVar = MMC_CDR(_dep_loopVar);
                tmp16--;
              }
              if (tmp16 == 0) {
                __omcQ_24tmpVar12 = omc_NFComponentRef_stripIteratorSubscripts(threadData, _dep);
                *tmp14 = mmc_mk_cons(__omcQ_24tmpVar12,0);
                tmp14 = &MMC_CDR(*tmp14);
              } else if (tmp16 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp14 = mmc_mk_nil();
            tmpMeta13 = __omcQ_24tmpVar13;
          }
          _dependencies = tmpMeta13;

          {
            modelica_metatype __omcQ_24tmpVar15;
            modelica_metatype* tmp18;
            modelica_metatype tmpMeta19;
            modelica_metatype __omcQ_24tmpVar14;
            modelica_integer tmp20;
            modelica_metatype _dep_loopVar = 0;
            modelica_metatype _dep;
            _dep_loopVar = _dependencies;
            tmpMeta19 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar15 = tmpMeta19; /* defaultValue */
            tmp18 = &__omcQ_24tmpVar15;
            while(1) {
              tmp20 = 1;
              if (!listEmpty(_dep_loopVar)) {
                _dep = MMC_CAR(_dep_loopVar);
                _dep_loopVar = MMC_CDR(_dep_loopVar);
                tmp20--;
              }
              if (tmp20 == 0) {
                __omcQ_24tmpVar14 = omc_NFComponentRef_scalarizeAll(threadData, _dep, 1 /* true */);
                *tmp18 = mmc_mk_cons(__omcQ_24tmpVar14,0);
                tmp18 = &MMC_CDR(*tmp18);
              } else if (tmp20 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp18 = mmc_mk_nil();
            tmpMeta17 = __omcQ_24tmpVar15;
          }
          _dependencies = omc_List_flatten(threadData, tmpMeta17);

          _deps_set = omc_NBStrongComponent_prepareDependencies(threadData, omc_UnorderedSet_fromList(threadData, _dependencies, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual), _map, (modelica_integer)_jacType);

          {
            modelica_metatype _var;
            for (tmpMeta21 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2))); !listEmpty(tmpMeta21); tmpMeta21=MMC_CDR(tmpMeta21))
            {
              _var = MMC_CAR(tmpMeta21);
              {
                modelica_metatype _cref;
                for (tmpMeta22 = omc_NFComponentRef_scalarizeAll(threadData, omc_NBVariable_getVarName(threadData, omc_NBSlice_getT(threadData, _var)), 1 /* true */); !listEmpty(tmpMeta22); tmpMeta22=MMC_CDR(tmpMeta22))
                {
                  _cref = MMC_CAR(tmpMeta22);
                  omc_NBStrongComponent_updateDependencyMap(threadData, _cref, _deps_set, _map);
                }
              }
            }
          }
          goto tmp2_done;
        }
        case 3: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,5) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_NBEquation_Equation_isForEquation(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))))) goto tmp2_end;
          omc_NBStrongComponent_addForLoopDependencies(threadData, omc_Pointer_access(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4))))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2))), _var_rep, _eqn_rep, _var_rep_mapping, _eqn_rep_mapping, _map, _set, (modelica_integer)_jacType);
          goto tmp2_done;
        }
        case 4: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,4) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_NBEquation_Equation_isForEquation(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))))) goto tmp2_end;
          omc_NBStrongComponent_addForLoopDependencies(threadData, omc_Pointer_access(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4))))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2))), _var_rep, _eqn_rep, _var_rep_mapping, _eqn_rep_mapping, _map, _set, (modelica_integer)_jacType);
          goto tmp2_done;
        }
        case 5: {
          modelica_metatype tmpMeta25;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,4) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_NBEquation_Equation_isArrayEquation(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))))) goto tmp2_end;
          _eqn = omc_Pointer_access(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))));

          tmpMeta25 = mmc_mk_box1(0, _set);
          _dependencies = omc_NBEquation_Equation_collectCrefs(threadData, _eqn, (modelica_fnptr) mmc_mk_box2(0,closure8_NBSlice_getDependentCrefCausalized,tmpMeta25), boxvar_NFExpression_fakeMap);

          _scalarized_dependencies = omc_NBSlice_getDependentCrefsPseudoArrayCausalized(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2))), _dependencies, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))), 3))));

          omc_NBStrongComponent_addScalarizedDependencies(threadData, _scalarized_dependencies, _map, (modelica_integer)_jacType);
          goto tmp2_done;
        }
        case 6: {
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,4) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          _eqn = omc_Pointer_access(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))));

          tmpMeta26 = mmc_mk_box1(0, _set);
          _dependencies = omc_NBEquation_Equation_collectCrefs(threadData, _eqn, (modelica_fnptr) mmc_mk_box2(0,closure9_NBSlice_getDependentCrefCausalized,tmpMeta26), boxvar_NFExpression_fakeMap);

          {
            modelica_metatype __omcQ_24tmpVar17;
            modelica_metatype* tmp28;
            modelica_metatype tmpMeta29;
            modelica_metatype __omcQ_24tmpVar16;
            modelica_integer tmp30;
            modelica_metatype _dep_loopVar = 0;
            modelica_metatype _dep;
            _dep_loopVar = _dependencies;
            tmpMeta29 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar17 = tmpMeta29; /* defaultValue */
            tmp28 = &__omcQ_24tmpVar17;
            while(1) {
              tmp30 = 1;
              if (!listEmpty(_dep_loopVar)) {
                _dep = MMC_CAR(_dep_loopVar);
                _dep_loopVar = MMC_CDR(_dep_loopVar);
                tmp30--;
              }
              if (tmp30 == 0) {
                __omcQ_24tmpVar16 = omc_NFComponentRef_scalarizeAll(threadData, _dep, 1 /* true */);
                *tmp28 = mmc_mk_cons(__omcQ_24tmpVar16,0);
                tmp28 = &MMC_CDR(*tmp28);
              } else if (tmp30 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp28 = mmc_mk_nil();
            tmpMeta27 = __omcQ_24tmpVar17;
          }
          _dependencies = omc_List_flatten(threadData, tmpMeta27);

          _deps_set = omc_NBStrongComponent_prepareDependencies(threadData, omc_UnorderedSet_fromList(threadData, _dependencies, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual), _map, (modelica_integer)_jacType);

          omc_NBStrongComponent_updateDependencyMap(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2))), _deps_set, _map);
          goto tmp2_done;
        }
        case 7: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,4,2) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!omc_NBEquation_Equation_isForEquation(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))))) goto tmp2_end;
          omc_NBStrongComponent_addForLoopDependencies(threadData, omc_Pointer_access(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2))), _var_rep, _eqn_rep, _var_rep_mapping, _eqn_rep_mapping, _map, _set, (modelica_integer)_jacType);
          goto tmp2_done;
        }
        case 8: {
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_metatype tmpMeta33;
          modelica_metatype tmpMeta34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta52;
          modelica_integer tmp56;
          modelica_integer tmp57;
          modelica_integer tmp58;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,7) == 0) goto tmp2_end;
          tmpMeta31 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
          
          _strict = tmpMeta31;
          /* Pattern matching succeeded */
          _deps_set = omc_UnorderedSet_new(threadData, boxvar_NFComponentRef_hash, boxvar_NFComponentRef_isEqual, ((modelica_integer) 13));

          {
            modelica_metatype _slice;
            for (tmpMeta32 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_strict), 3))); !listEmpty(tmpMeta32); tmpMeta32=MMC_CDR(tmpMeta32))
            {
              _slice = MMC_CAR(tmpMeta32);
              tmpMeta33 = mmc_mk_box1(0, _set);
              _tmp = omc_NBEquation_Equation_collectCrefs(threadData, omc_Pointer_access(threadData, omc_NBSlice_getT(threadData, _slice)), (modelica_fnptr) mmc_mk_box2(0,closure10_NBSlice_getDependentCrefCausalized,tmpMeta33), boxvar_NFExpression_fakeMap);

              _eqn_ptr = omc_NBSlice_getT(threadData, _slice);

              if(omc_NBEquation_Equation_isForEquation(threadData, _eqn_ptr))
              {
                /* Pattern-matching assignment */
                tmpMeta34 = omc_Pointer_access(threadData, _eqn_ptr);
                if (mmc__uniontype__metarecord__typedef__equal(tmpMeta34,5,5) == 0) goto goto_1;
                tmpMeta35 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta34), 3));
                tmpMeta36 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta34), 4));
                if (listEmpty(tmpMeta36)) goto goto_1;
                tmpMeta37 = MMC_CAR(tmpMeta36);
                tmpMeta38 = MMC_CDR(tmpMeta36);
                if (!listEmpty(tmpMeta38)) goto goto_1;
                _iter = tmpMeta35;

                _cref = omc_NBEquation_Equation_getEqnName(threadData, _eqn_ptr);

                _scalarized_dependencies = omc_NBSlice_getDependentCrefsPseudoForCausalized(threadData, _cref, _tmp, _var_rep, _eqn_rep, _var_rep_mapping, _eqn_rep_mapping, _iter, omc_NBEquation_Equation_size(threadData, _eqn_ptr, 0 /* false */), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_slice), 3))), 1 /* true */);

                {
                  modelica_metatype __omcQ_24tmpVar19;
                  modelica_metatype* tmp40;
                  modelica_metatype tmpMeta41;
                  modelica_metatype __omcQ_24tmpVar18;
                  modelica_integer tmp42;
                  modelica_metatype _tpl_loopVar = 0;
                  modelica_metatype _tpl;
                  _tpl_loopVar = _scalarized_dependencies;
                  tmpMeta41 = MMC_REFSTRUCTLIT(mmc_nil);
                  __omcQ_24tmpVar19 = tmpMeta41; /* defaultValue */
                  tmp40 = &__omcQ_24tmpVar19;
                  while(1) {
                    tmp42 = 1;
                    if (!listEmpty(_tpl_loopVar)) {
                      _tpl = MMC_CAR(_tpl_loopVar);
                      _tpl_loopVar = MMC_CDR(_tpl_loopVar);
                      tmp42--;
                    }
                    if (tmp42 == 0) {
                      __omcQ_24tmpVar18 = omc_Util_tuple22(threadData, _tpl);
                      *tmp40 = mmc_mk_cons(__omcQ_24tmpVar18,0);
                      tmp40 = &MMC_CDR(*tmp40);
                    } else if (tmp42 == 1) {
                      break;
                    } else {
                      goto goto_1;
                    }
                  }
                  *tmp40 = mmc_mk_nil();
                  tmpMeta39 = __omcQ_24tmpVar19;
                }
                _tmp = omc_List_flatten(threadData, tmpMeta39);
              }

              {
                modelica_metatype _dep;
                for (tmpMeta43 = _tmp; !listEmpty(tmpMeta43); tmpMeta43=MMC_CDR(tmpMeta43))
                {
                  _dep = MMC_CAR(tmpMeta43);
                  {
                    modelica_metatype _scal;
                    for (tmpMeta44 = omc_NFComponentRef_scalarizeAll(threadData, _dep, 1 /* true */); !listEmpty(tmpMeta44); tmpMeta44=MMC_CDR(tmpMeta44))
                    {
                      _scal = MMC_CAR(tmpMeta44);
                      omc_UnorderedSet_add(threadData, _scal, _deps_set);
                    }
                  }
                }
              }
            }
          }

          _deps_set = omc_NBStrongComponent_prepareDependencies(threadData, _deps_set, _map, (modelica_integer)_jacType);

          {
            modelica_metatype __omcQ_24tmpVar21;
            modelica_metatype* tmp49;
            modelica_metatype tmpMeta50;
            modelica_metatype __omcQ_24tmpVar20;
            modelica_integer tmp51;
            modelica_metatype _var_loopVar = 0;
            modelica_metatype _var;
            _var_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_strict), 2)));
            tmpMeta50 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar21 = tmpMeta50; /* defaultValue */
            tmp49 = &__omcQ_24tmpVar21;
            while(1) {
              tmp51 = 1;
              if (!listEmpty(_var_loopVar)) {
                _var = MMC_CAR(_var_loopVar);
                _var_loopVar = MMC_CDR(_var_loopVar);
                tmp51--;
              }
              if (tmp51 == 0) {
                __omcQ_24tmpVar20 = omc_NBVariable_getVarName(threadData, omc_NBSlice_getT(threadData, _var));
                *tmp49 = mmc_mk_cons(__omcQ_24tmpVar20,0);
                tmp49 = &MMC_CDR(*tmp49);
              } else if (tmp51 == 1) {
                break;
              } else {
                goto goto_1;
              }
            }
            *tmp49 = mmc_mk_nil();
            tmpMeta48 = __omcQ_24tmpVar21;
          }
          _loop_vars = tmpMeta48;

          tmp56 = ((modelica_integer) 1); tmp57 = 1; tmp58 = arrayLength((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_strict), 4))));
          if(!(((tmp57 > 0) && (tmp56 > tmp58)) || ((tmp57 < 0) && (tmp56 < tmp58))))
          {
            modelica_integer _i;
            for(_i = ((modelica_integer) 1); in_range_integer(_i, tmp56, tmp58); _i += tmp57)
            {
              omc_NBStrongComponent_collectCrefs(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_strict), 4))),_i) /* DAE.ASUB */, _var_rep, _eqn_rep, _var_rep_mapping, _eqn_rep_mapping, _map, _set, (modelica_integer)_jacType);

              {
                modelica_metatype __omcQ_24tmpVar23;
                modelica_metatype* tmp53;
                modelica_metatype tmpMeta54;
                modelica_metatype __omcQ_24tmpVar22;
                modelica_integer tmp55;
                modelica_metatype _var_loopVar = 0;
                modelica_metatype _var;
                _var_loopVar = omc_NBStrongComponent_getVariables(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_strict), 4))),_i) /* DAE.ASUB */);
                tmpMeta54 = MMC_REFSTRUCTLIT(mmc_nil);
                __omcQ_24tmpVar23 = tmpMeta54; /* defaultValue */
                tmp53 = &__omcQ_24tmpVar23;
                while(1) {
                  tmp55 = 1;
                  if (!listEmpty(_var_loopVar)) {
                    _var = MMC_CAR(_var_loopVar);
                    _var_loopVar = MMC_CDR(_var_loopVar);
                    tmp55--;
                  }
                  if (tmp55 == 0) {
                    __omcQ_24tmpVar22 = omc_NBVariable_getVarName(threadData, _var);
                    *tmp53 = mmc_mk_cons(__omcQ_24tmpVar22,0);
                    tmp53 = &MMC_CDR(*tmp53);
                  } else if (tmp55 == 1) {
                    break;
                  } else {
                    goto goto_1;
                  }
                }
                *tmp53 = mmc_mk_nil();
                tmpMeta52 = __omcQ_24tmpVar23;
              }
              _loop_vars = listAppend(tmpMeta52, _loop_vars);
            }
          }

          {
            modelica_metatype _cref;
            for (tmpMeta59 = _loop_vars; !listEmpty(tmpMeta59); tmpMeta59=MMC_CDR(tmpMeta59))
            {
              _cref = MMC_CAR(tmpMeta59);
              omc_NBStrongComponent_updateDependencyMap(threadData, _cref, _deps_set, _map);
            }
          }
          goto tmp2_done;
        }
        case 9: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,2) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          /* Tail recursive call */
          _comp = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)));
          _jacType = (modelica_integer)_jacType;
          goto _tailrecursive;
          /* TODO: Make sure any eventual dead code below is never generated */
          ;
          goto tmp2_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return;
}
void boxptr_NBStrongComponent_collectCrefs(threadData_t *threadData, modelica_metatype _comp, modelica_metatype _var_rep, modelica_metatype _eqn_rep, modelica_metatype _var_rep_mapping, modelica_metatype _eqn_rep_mapping, modelica_metatype _map, modelica_metatype _set, modelica_metatype _jacType)
{
  modelica_integer tmp1;
  tmp1 = mmc_unbox_integer(_jacType);
  omc_NBStrongComponent_collectCrefs(threadData, _comp, _var_rep, _eqn_rep, _var_rep_mapping, _eqn_rep_mapping, _map, _set, tmp1);
  return;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_toSolvedEquation(threadData_t *threadData, modelica_metatype _comp)
{
  modelica_metatype _eqn = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _eqn has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _comp;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 5; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_integer tmp7;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,3) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmp7 = mmc_unbox_integer(tmpMeta6);
          if (2 != tmp7) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)));
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta8;
          modelica_integer tmp9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,3) == 0) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
          tmp9 = mmc_unbox_integer(tmpMeta8);
          if (2 != tmp9) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))));
          goto tmp3_done;
        }
        case 2: {
          modelica_metatype tmpMeta10;
          modelica_integer tmp11;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,4) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
          tmp11 = mmc_unbox_integer(tmpMeta10);
          if (2 != tmp11) goto tmp3_end;
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4))));
          goto tmp3_done;
        }
        case 3: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))));
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          
          /* Pattern matching succeeded */
          tmpMeta13 = stringAppend(_OMC_LIT15,omc_NBStrongComponent_toString(threadData, _comp, ((modelica_integer) -1)));
          tmpMeta12 = mmc_mk_cons(tmpMeta13, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT7, tmpMeta12);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _eqn = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _eqn;
}

static modelica_metatype closure11_NBEquation_Equation_pointerToString(threadData_t *thData, modelica_metatype closure, modelica_metatype eqn_ptr)
{
  modelica_string $in_str = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBEquation_Equation_pointerToString(thData, eqn_ptr, $in_str);
}
DLLDirection
modelica_metatype omc_NBStrongComponent_fromSolvedEquationSlice(threadData_t *threadData, modelica_metatype _eqn_slice)
{
  modelica_metatype _comp = NULL;
  modelica_metatype _eqn = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _comp has no default value.
  _eqn = omc_NBSlice_getT(threadData, _eqn_slice);
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = omc_Pointer_access(threadData, _eqn);
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          modelica_metatype tmpMeta5;
          
          /* Pattern matching succeeded */
          tmpMeta5 = mmc_mk_box4(3, &NBStrongComponent_SINGLE__COMPONENT__desc, omc_NBVariable_getVarPointer(threadData, omc_NFExpression_toCref(threadData, omc_NBEquation_Equation_getLHS(threadData, omc_Pointer_access(threadData, _eqn))), _OMC_LIT16), _eqn, mmc_mk_integer(2));
          tmpMeta1 = tmpMeta5;
          goto tmp3_done;
        }
        case 4: {
          modelica_metatype tmpMeta6;
          
          /* Pattern matching succeeded */
          tmpMeta6 = mmc_mk_box4(3, &NBStrongComponent_SINGLE__COMPONENT__desc, omc_NBVariable_getVarPointer(threadData, omc_NFExpression_toCref(threadData, omc_NBEquation_Equation_getLHS(threadData, omc_Pointer_access(threadData, _eqn))), _OMC_LIT17), _eqn, mmc_mk_integer(2));
          tmpMeta1 = tmpMeta6;
          goto tmp3_done;
        }
        case 5: {
          modelica_metatype tmpMeta7;
          
          /* Pattern matching succeeded */
          tmpMeta7 = mmc_mk_box4(3, &NBStrongComponent_SINGLE__COMPONENT__desc, omc_NBVariable_getVarPointer(threadData, omc_NFExpression_toCref(threadData, omc_NBEquation_Equation_getLHS(threadData, omc_Pointer_access(threadData, _eqn))), _OMC_LIT18), _eqn, mmc_mk_integer(2));
          tmpMeta1 = tmpMeta7;
          goto tmp3_done;
        }
        case 7: {
          modelica_metatype tmpMeta8;
          
          /* Pattern matching succeeded */
          tmpMeta8 = mmc_mk_box4(3, &NBStrongComponent_SINGLE__COMPONENT__desc, omc_NBVariable_getVarPointer(threadData, omc_NFExpression_toCref(threadData, omc_NBEquation_Equation_getLHS(threadData, omc_Pointer_access(threadData, _eqn))), _OMC_LIT19), _eqn, mmc_mk_integer(2));
          tmpMeta1 = tmpMeta8;
          goto tmp3_done;
        }
        case 8: {
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          
          /* Pattern matching succeeded */
          tmpMeta9 = MMC_REFSTRUCTLIT(mmc_nil);
          tmpMeta10 = mmc_mk_box3(3, &NBSlice_SLICE__desc, omc_Pointer_create(threadData, _OMC_LIT33), tmpMeta9);
          tmpMeta11 = mmc_mk_box5(5, &NBStrongComponent_SLICED__COMPONENT__desc, _OMC_LIT20, tmpMeta10, _eqn_slice, mmc_mk_integer(2));
          tmpMeta1 = tmpMeta11;
          goto tmp3_done;
        }
        default:
        tmp3_default: OMC_LABEL_UNUSED; {
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_box1(0, _OMC_LIT26);
          tmpMeta14 = stringAppend(_OMC_LIT34,omc_NBSlice_toString(threadData, _eqn_slice, (modelica_fnptr) mmc_mk_box2(0,closure11_NBEquation_Equation_pointerToString,tmpMeta13), ((modelica_integer) 10)));
          tmpMeta12 = mmc_mk_cons(tmpMeta14, MMC_REFSTRUCTLIT(mmc_nil));
          omc_Error_addMessage(threadData, _OMC_LIT7, tmpMeta12);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _comp = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _comp;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_makeDAEModeResidualTraverse(threadData_t *threadData, modelica_metatype __omcQ_24in_5Feq_5Fptr, modelica_metatype _acc)
{
  modelica_metatype _eq_ptr = NULL;
  modelica_metatype _comp = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta14;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _eq_ptr = __omcQ_24in_5Feq_5Fptr;
  // _comp has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = omc_Pointer_access(threadData, _eq_ptr);
    {
      modelica_metatype _residualVar = NULL;
      volatile mmc_switch_type tmp4;
      int tmp5;
      // _residualVar has no default value.
      tmp4 = 0;
      for (; tmp4 < 3; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          modelica_metatype tmpMeta6;
          modelica_metatype tmpMeta7;
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,5) == 0) goto tmp3_end;
          tmpMeta6 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta6,0,7) == 0) goto tmp3_end;
          tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 3));
          if (optionNone(tmpMeta7)) goto tmp3_end;
          tmpMeta8 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta7), 1));
          
          _residualVar = tmpMeta8;
          /* Pattern matching succeeded */
          tmpMeta9 = mmc_mk_box4(3, &NBStrongComponent_SINGLE__COMPONENT__desc, _residualVar, _eq_ptr, mmc_mk_integer(1));
          tmpMeta1 = tmpMeta9;
          goto tmp3_done;
        }
        case 1: {
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,6) == 0) goto tmp3_end;
          tmpMeta10 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
          if (mmc__uniontype__metarecord__typedef__equal(tmpMeta10,0,7) == 0) goto tmp3_end;
          tmpMeta11 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta10), 3));
          if (optionNone(tmpMeta11)) goto tmp3_end;
          tmpMeta12 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta11), 1));
          
          _residualVar = tmpMeta12;
          /* Pattern matching succeeded */
          tmpMeta13 = mmc_mk_box4(3, &NBStrongComponent_SINGLE__COMPONENT__desc, _residualVar, _eq_ptr, mmc_mk_integer(1));
          tmpMeta1 = tmpMeta13;
          goto tmp3_done;
        }
        case 2: {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT7, _OMC_LIT36);
          goto goto_2;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _comp = tmpMeta1;

  tmpMeta14 = mmc_mk_cons(_comp, omc_Pointer_access(threadData, _acc));
  omc_Pointer_update(threadData, _acc, tmpMeta14);
  _return: OMC_LABEL_UNUSED
  return _eq_ptr;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_createPseudoEntwinedIndices(threadData_t *threadData, modelica_metatype _entwined_indices, modelica_metatype _eqns, modelica_metatype _mapping)
{
  modelica_metatype _flat_tpl_indices = NULL;
  modelica_metatype tmpMeta1;
  modelica_integer _arr_idx;
  modelica_integer _first_idx;
  modelica_metatype _eqn_StA = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_integer tmp6;
  modelica_metatype tmpMeta7;
  modelica_metatype tmpMeta8;
  modelica_metatype tmpMeta9;
  modelica_metatype tmpMeta10;
  modelica_integer tmp11;
  modelica_integer tmp12;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _flat_tpl_indices = tmpMeta1;
  // _arr_idx has no default value.
  // _first_idx has no default value.
  // _eqn_StA has no default value.
  {
    modelica_metatype _tmp;
    for (tmpMeta2 = _entwined_indices, tmp12 = arrayLength(tmpMeta2), tmp11 = 1; tmp11 <= tmp12; tmp11++)
    {
      _tmp = arrayGet(tmpMeta2,tmp11);
      {
        modelica_metatype _scal_idx;
        for (tmpMeta3 = _tmp; !listEmpty(tmpMeta3); tmpMeta3=MMC_CDR(tmpMeta3))
        {
          _scal_idx = MMC_CAR(tmpMeta3);
          _eqn_StA = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 2)));

          _arr_idx = mmc_unbox_integer(arrayGet(_eqn_StA,mmc_unbox_integer(_scal_idx)) /* DAE.ASUB */);

          /* Pattern-matching assignment */
          tmpMeta4 = arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 4))),_arr_idx) /* DAE.ASUB */;
          tmpMeta5 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta4), 1));
          tmp6 = mmc_unbox_integer(tmpMeta5);
          _first_idx = tmp6  /* pattern as ty=Integer */;

          tmpMeta8 = mmc_mk_box2(0, omc_NBEquation_EquationPointers_getEqnAt(threadData, _eqns, _arr_idx), mmc_mk_integer(mmc_unbox_integer(_scal_idx) - _first_idx));
          tmpMeta7 = mmc_mk_cons(tmpMeta8, _flat_tpl_indices);
          _flat_tpl_indices = tmpMeta7;
        }
      }
    }
  }

  _flat_tpl_indices = listReverse(_flat_tpl_indices);
  _return: OMC_LABEL_UNUSED
  return _flat_tpl_indices;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_createAlias(threadData_t *threadData, modelica_integer _kind, modelica_integer _partitionIndex, modelica_metatype _index_ptr, modelica_metatype _orig_comp)
{
  modelica_metatype _alias_comp = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _alias_comp has no default value.
  tmpMeta1 = mmc_mk_box4(3, &NBStrongComponent_AliasInfo_ALIAS__INFO__desc, mmc_mk_integer((modelica_integer)_kind), mmc_mk_integer(_partitionIndex), omc_Pointer_access(threadData, _index_ptr));
  tmpMeta2 = mmc_mk_box3(10, &NBStrongComponent_ALIAS__desc, tmpMeta1, _orig_comp);
  _alias_comp = tmpMeta2;

  omc_Pointer_update(threadData, _index_ptr, mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer(omc_Pointer_access(threadData, _index_ptr))));
  _return: OMC_LABEL_UNUSED
  return _alias_comp;
}
modelica_metatype boxptr_NBStrongComponent_createAlias(threadData_t *threadData, modelica_metatype _kind, modelica_metatype _partitionIndex, modelica_metatype _index_ptr, modelica_metatype _orig_comp)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_metatype _alias_comp = NULL;
  tmp1 = mmc_unbox_integer(_kind);
  tmp2 = mmc_unbox_integer(_partitionIndex);
  _alias_comp = omc_NBStrongComponent_createAlias(threadData, tmp1, tmp2, _index_ptr, _orig_comp);
  /* skip box _alias_comp; NBStrongComponent */
  return _alias_comp;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_createPseudoEntwined(threadData_t *threadData, modelica_metatype _eqn_indices, modelica_metatype _eqn_to_var, modelica_metatype _mapping, modelica_metatype _vars, modelica_metatype _eqns, modelica_metatype _nodes)
{
  modelica_metatype _entwined = NULL;
  modelica_metatype _elem_map = NULL;
  modelica_metatype _cref_map = NULL;
  modelica_metatype _flat_map = NULL;
  modelica_integer _eqn_arr_idx;
  modelica_integer _var_arr_idx;
  modelica_metatype _scal_indices = NULL;
  modelica_metatype _entwined_slices = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype _entwined_tpl_lst = NULL;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta12;
  modelica_metatype tmpMeta13;
  modelica_metatype tmpMeta14;
  modelica_integer tmp15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta24;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _entwined has no default value.
  _elem_map = omc_UnorderedMap_new(threadData, boxvar_Util_id, boxvar_intEq, ((modelica_integer) 1));
  _cref_map = omc_UnorderedMap_new(threadData, boxvar_Util_id, boxvar_intEq, ((modelica_integer) 1));
  // _flat_map has no default value.
  // _eqn_arr_idx has no default value.
  // _var_arr_idx has no default value.
  // _scal_indices has no default value.
  tmpMeta1 = MMC_REFSTRUCTLIT(mmc_nil);
  _entwined_slices = tmpMeta1;
  // _entwined_tpl_lst has no default value.
  {
    modelica_metatype _idx;
    for (tmpMeta2 = _eqn_indices; !listEmpty(tmpMeta2); tmpMeta2=MMC_CDR(tmpMeta2))
    {
      _idx = MMC_CAR(tmpMeta2);
      tmpMeta4 = MMC_REFSTRUCTLIT(mmc_nil);
      tmpMeta3 = mmc_mk_cons(_idx, omc_UnorderedMap_getOrDefault(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 2))),mmc_unbox_integer(_idx)) /* DAE.ASUB */, _elem_map, tmpMeta4));
      omc_UnorderedMap_add(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 2))),mmc_unbox_integer(_idx)) /* DAE.ASUB */, tmpMeta3, _elem_map);
    }
  }

  {
    modelica_metatype _node;
    for (tmpMeta6 = _nodes; !listEmpty(tmpMeta6); tmpMeta6=MMC_CDR(tmpMeta6))
    {
      _node = MMC_CAR(tmpMeta6);
      { /* match expression */
        modelica_metatype tmp9_1;
        tmp9_1 = _node;
        {
          volatile mmc_switch_type tmp9;
          int tmp10;
          tmp9 = 0;
          for (; tmp9 < 2; tmp9++) {
            switch (MMC_SWITCH_CAST(tmp9)) {
            case 0: {
              if (mmc__uniontype__metarecord__typedef__equal(tmp9_1,3,4) == 0) goto tmp8_end;
              
              /* Pattern matching succeeded */
              omc_UnorderedMap_add(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_node), 5))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_node), 3))), _cref_map);
              goto tmp8_done;
            }
            case 1: {
              
              /* Pattern matching succeeded */
              goto tmp8_done;
            }
            }
            goto tmp8_end;
            tmp8_end: ;
          }
          goto goto_7;
          goto_7:;
          MMC_THROW_INTERNAL();
          goto tmp8_done;
          tmp8_done:;
        }
      }
      ;
    }
  }

  {
    modelica_metatype _tpl;
    for (tmpMeta12 = omc_UnorderedMap_toList(threadData, _elem_map); !listEmpty(tmpMeta12); tmpMeta12=MMC_CDR(tmpMeta12))
    {
      _tpl = MMC_CAR(tmpMeta12);
      /* Pattern-matching assignment */
      tmpMeta13 = _tpl;
      tmpMeta14 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 1));
      tmp15 = mmc_unbox_integer(tmpMeta14);
      tmpMeta16 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta13), 2));
      _eqn_arr_idx = tmp15  /* pattern as ty=Integer */;
      _scal_indices = tmpMeta16;

      _var_arr_idx = mmc_unbox_integer(arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 3))),mmc_unbox_integer(arrayGet(_eqn_to_var,mmc_unbox_integer(omc_Util_tuple21(threadData, arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 4))),_eqn_arr_idx) /* DAE.ASUB */))) /* DAE.ASUB */)) /* DAE.ASUB */);

      tmpMeta17 = mmc_mk_cons(omc_NBStrongComponent_createPseudoSlice(threadData, _var_arr_idx, _eqn_arr_idx, omc_UnorderedMap_getSafe(threadData, mmc_mk_integer(_eqn_arr_idx), _cref_map, _OMC_LIT37), _scal_indices, _eqn_to_var, _eqns, _mapping, 0 /* false */), _entwined_slices);
      _entwined_slices = tmpMeta17;
    }
  }

  {
    modelica_metatype __omcQ_24tmpVar25;
    modelica_metatype* tmp20;
    modelica_metatype tmpMeta21;
    modelica_metatype tmpMeta22;
    modelica_metatype __omcQ_24tmpVar24;
    modelica_integer tmp23;
    modelica_metatype _idx_loopVar = 0;
    modelica_metatype _idx;
    _idx_loopVar = _eqn_indices;
    tmpMeta21 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar25 = tmpMeta21; /* defaultValue */
    tmp20 = &__omcQ_24tmpVar25;
    while(1) {
      tmp23 = 1;
      if (!listEmpty(_idx_loopVar)) {
        _idx = MMC_CAR(_idx_loopVar);
        _idx_loopVar = MMC_CDR(_idx_loopVar);
        tmp23--;
      }
      if (tmp23 == 0) {
        tmpMeta22 = mmc_mk_box2(0, omc_NBEquation_EquationPointers_getEqnAt(threadData, _eqns, mmc_unbox_integer(arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 2))),mmc_unbox_integer(_idx)) /* DAE.ASUB */)), _idx);
        __omcQ_24tmpVar24 = tmpMeta22;
        *tmp20 = mmc_mk_cons(__omcQ_24tmpVar24,0);
        tmp20 = &MMC_CDR(*tmp20);
      } else if (tmp23 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp20 = mmc_mk_nil();
    tmpMeta19 = __omcQ_24tmpVar25;
  }
  _entwined_tpl_lst = tmpMeta19;

  tmpMeta24 = mmc_mk_box3(8, &NBStrongComponent_ENTWINED__COMPONENT__desc, _entwined_slices, _entwined_tpl_lst);
  _entwined = tmpMeta24;
  _return: OMC_LABEL_UNUSED
  return _entwined;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_createPseudoSlice(threadData_t *threadData, modelica_integer _var_arr_idx, modelica_integer _eqn_arr_idx, modelica_metatype _cref_to_solve, modelica_metatype _eqn_scal_indices, modelica_metatype _eqn_to_var, modelica_metatype _eqns, modelica_metatype _mapping, modelica_boolean _independent)
{
  modelica_metatype _comp = NULL;
  modelica_metatype _var_ptr = NULL;
  modelica_metatype _eqn_ptr = NULL;
  modelica_integer _first_var;
  modelica_integer _var_size;
  modelica_integer _first_eqn;
  modelica_integer _eqn_size;
  modelica_metatype _var_slice = NULL;
  modelica_metatype _eqn_slice = NULL;
  modelica_metatype _var_scal_indices = NULL;
  modelica_metatype _order = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_integer tmp3;
  modelica_metatype tmpMeta4;
  modelica_integer tmp5;
  modelica_metatype tmpMeta6;
  modelica_metatype tmpMeta7;
  modelica_integer tmp8;
  modelica_metatype tmpMeta9;
  modelica_integer tmp10;
  modelica_metatype tmpMeta11;
  modelica_metatype tmpMeta15;
  modelica_metatype tmpMeta16;
  modelica_metatype tmpMeta17;
  modelica_metatype tmpMeta18;
  modelica_metatype tmpMeta19;
  modelica_metatype tmpMeta23;
  modelica_metatype tmpMeta24;
  modelica_metatype tmpMeta28;
  modelica_metatype tmpMeta29;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _comp has no default value.
  // _var_ptr has no default value.
  // _eqn_ptr has no default value.
  // _first_var has no default value.
  // _var_size has no default value.
  // _first_eqn has no default value.
  // _eqn_size has no default value.
  // _var_slice has no default value.
  // _eqn_slice has no default value.
  // _var_scal_indices has no default value.
  // _order has no default value.
  _var_ptr = omc_NBVariable_getVarPointer(threadData, _cref_to_solve, _OMC_LIT38);

  _eqn_ptr = omc_NBEquation_EquationPointers_getEqnAt(threadData, _eqns, _eqn_arr_idx);

  /* Pattern-matching assignment */
  tmpMeta1 = arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 5))),_var_arr_idx) /* DAE.ASUB */;
  tmpMeta2 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 1));
  tmp3 = mmc_unbox_integer(tmpMeta2);
  tmpMeta4 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta1), 2));
  tmp5 = mmc_unbox_integer(tmpMeta4);
  _first_var = tmp3  /* pattern as ty=Integer */;
  _var_size = tmp5  /* pattern as ty=Integer */;

  /* Pattern-matching assignment */
  tmpMeta6 = arrayGet((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_mapping), 4))),_eqn_arr_idx) /* DAE.ASUB */;
  tmpMeta7 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 1));
  tmp8 = mmc_unbox_integer(tmpMeta7);
  tmpMeta9 = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta6), 2));
  tmp10 = mmc_unbox_integer(tmpMeta9);
  _first_eqn = tmp8  /* pattern as ty=Integer */;
  _eqn_size = tmp10  /* pattern as ty=Integer */;

  {
    modelica_metatype __omcQ_24tmpVar27;
    modelica_metatype* tmp12;
    modelica_metatype tmpMeta13;
    modelica_metatype __omcQ_24tmpVar26;
    modelica_integer tmp14;
    modelica_metatype _e_loopVar = 0;
    modelica_metatype _e;
    _e_loopVar = _eqn_scal_indices;
    tmpMeta13 = MMC_REFSTRUCTLIT(mmc_nil);
    __omcQ_24tmpVar27 = tmpMeta13; /* defaultValue */
    tmp12 = &__omcQ_24tmpVar27;
    while(1) {
      tmp14 = 1;
      if (!listEmpty(_e_loopVar)) {
        _e = MMC_CAR(_e_loopVar);
        _e_loopVar = MMC_CDR(_e_loopVar);
        tmp14--;
      }
      if (tmp14 == 0) {
        __omcQ_24tmpVar26 = arrayGet(_eqn_to_var,mmc_unbox_integer(_e)) /* DAE.ASUB */;
        *tmp12 = mmc_mk_cons(__omcQ_24tmpVar26,0);
        tmp12 = &MMC_CDR(*tmp12);
      } else if (tmp14 == 1) {
        break;
      } else {
        MMC_THROW_INTERNAL();
      }
    }
    *tmp12 = mmc_mk_nil();
    tmpMeta11 = __omcQ_24tmpVar27;
  }
  _var_scal_indices = tmpMeta11;

  if((((_independent && omc_NBEquation_Equation_isArrayEquation(threadData, _eqn_ptr)) && (listLength(_eqn_scal_indices) == _eqn_size)) && (listLength(_var_scal_indices) == _var_size)))
  {
    tmpMeta15 = MMC_REFSTRUCTLIT(mmc_nil);
    tmpMeta16 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _var_ptr, tmpMeta15);
    _var_slice = tmpMeta16;

    tmpMeta17 = MMC_REFSTRUCTLIT(mmc_nil);
    tmpMeta18 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _eqn_ptr, tmpMeta17);
    _eqn_slice = tmpMeta18;
  }
  else
  {
    {
      modelica_metatype __omcQ_24tmpVar29;
      modelica_metatype* tmp20;
      modelica_metatype tmpMeta21;
      modelica_metatype __omcQ_24tmpVar28;
      modelica_integer tmp22;
      modelica_metatype _idx_loopVar = 0;
      modelica_metatype _idx;
      _idx_loopVar = _var_scal_indices;
      tmpMeta21 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar29 = tmpMeta21; /* defaultValue */
      tmp20 = &__omcQ_24tmpVar29;
      while(1) {
        tmp22 = 1;
        if (!listEmpty(_idx_loopVar)) {
          _idx = MMC_CAR(_idx_loopVar);
          _idx_loopVar = MMC_CDR(_idx_loopVar);
          tmp22--;
        }
        if (tmp22 == 0) {
          __omcQ_24tmpVar28 = mmc_mk_integer(mmc_unbox_integer(_idx) - _first_var);
          *tmp20 = mmc_mk_cons(__omcQ_24tmpVar28,0);
          tmp20 = &MMC_CDR(*tmp20);
        } else if (tmp22 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp20 = mmc_mk_nil();
      tmpMeta19 = __omcQ_24tmpVar29;
    }
    tmpMeta23 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _var_ptr, tmpMeta19);
    _var_slice = tmpMeta23;

    {
      modelica_metatype __omcQ_24tmpVar31;
      modelica_metatype* tmp25;
      modelica_metatype tmpMeta26;
      modelica_metatype __omcQ_24tmpVar30;
      modelica_integer tmp27;
      modelica_metatype _idx_loopVar = 0;
      modelica_metatype _idx;
      _idx_loopVar = _eqn_scal_indices;
      tmpMeta26 = MMC_REFSTRUCTLIT(mmc_nil);
      __omcQ_24tmpVar31 = tmpMeta26; /* defaultValue */
      tmp25 = &__omcQ_24tmpVar31;
      while(1) {
        tmp27 = 1;
        if (!listEmpty(_idx_loopVar)) {
          _idx = MMC_CAR(_idx_loopVar);
          _idx_loopVar = MMC_CDR(_idx_loopVar);
          tmp27--;
        }
        if (tmp27 == 0) {
          __omcQ_24tmpVar30 = mmc_mk_integer(mmc_unbox_integer(_idx) - _first_eqn);
          *tmp25 = mmc_mk_cons(__omcQ_24tmpVar30,0);
          tmp25 = &MMC_CDR(*tmp25);
        } else if (tmp27 == 1) {
          break;
        } else {
          MMC_THROW_INTERNAL();
        }
      }
      *tmp25 = mmc_mk_nil();
      tmpMeta24 = __omcQ_24tmpVar31;
    }
    tmpMeta28 = mmc_mk_box3(3, &NBSlice_SLICE__desc, _eqn_ptr, tmpMeta24);
    _eqn_slice = tmpMeta28;
  }

  _order = omc_NBResizable_detect(threadData, omc_Pointer_access(threadData, _eqn_ptr), _cref_to_solve);

  if(((!omc_List_any(threadData, omc_UnorderedMap_valueList(threadData, _order), boxvar_NBResizable_orderFailed)) && (listLength(_eqn_scal_indices) == _eqn_size)))
  {
    tmpMeta29 = mmc_mk_box6(6, &NBStrongComponent_RESIZABLE__COMPONENT__desc, _cref_to_solve, _var_slice, _eqn_slice, _order, mmc_mk_integer(1));
    _comp = tmpMeta29;
  }
  else
  {
    _comp = omc_NBStrongComponent_createSliceOrSingle(threadData, _cref_to_solve, _var_slice, _eqn_slice);
  }
  _return: OMC_LABEL_UNUSED
  return _comp;
}
modelica_metatype boxptr_NBStrongComponent_createPseudoSlice(threadData_t *threadData, modelica_metatype _var_arr_idx, modelica_metatype _eqn_arr_idx, modelica_metatype _cref_to_solve, modelica_metatype _eqn_scal_indices, modelica_metatype _eqn_to_var, modelica_metatype _eqns, modelica_metatype _mapping, modelica_metatype _independent)
{
  modelica_integer tmp1;
  modelica_integer tmp2;
  modelica_integer tmp3;
  modelica_metatype _comp = NULL;
  tmp1 = mmc_unbox_integer(_var_arr_idx);
  tmp2 = mmc_unbox_integer(_eqn_arr_idx);
  tmp3 = mmc_unbox_integer(_independent);
  _comp = omc_NBStrongComponent_createPseudoSlice(threadData, tmp1, tmp2, _cref_to_solve, _eqn_scal_indices, _eqn_to_var, _eqns, _mapping, tmp3);
  /* skip box _comp; NBStrongComponent */
  return _comp;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_removeAlias(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcomp)
{
  modelica_metatype _comp = NULL;
  modelica_metatype tmpMeta1;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _comp = __omcQ_24in_5Fcomp;
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _comp;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 2; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmpMeta1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)));
          goto tmp3_done;
        }
        case 1: {
          
          /* Pattern matching succeeded */
          tmpMeta1 = _comp;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _comp = tmpMeta1;
  _return: OMC_LABEL_UNUSED
  return _comp;
}

DLLDirection
modelica_boolean omc_NBStrongComponent_isEqual(threadData_t *threadData, modelica_metatype _comp1, modelica_metatype _comp2)
{
  modelica_boolean _b;
  modelica_boolean tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _b has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;modelica_metatype tmp4_2;
    tmp4_1 = _comp1;
    tmp4_2 = _comp2;
    {
      volatile mmc_switch_type tmp4;
      int tmp5;
      tmp4 = 0;
      for (; tmp4 < 9; tmp4++) {
        switch (MMC_SWITCH_CAST(tmp4)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,3) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = (omc_NBVariable_equalName(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp2), 2)))) && omc_NBEquation_Equation_isEqualPtr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp1), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp2), 3)))));
          goto tmp3_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,3) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,1,3) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBEquation_Equation_isEqualPtr(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp1), 3)))), omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp2), 3)))));
          goto tmp3_done;
        }
        case 2: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,4) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,2,4) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = (omc_NFComponentRef_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp2), 2)))) && omc_NBSlice_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp1), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp2), 4))), boxvar_NBEquation_Equation_isEqualPtr));
          goto tmp3_done;
        }
        case 3: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,5) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,3,5) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = (omc_NFComponentRef_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp2), 2)))) && omc_NBSlice_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp1), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp2), 4))), boxvar_NBEquation_Equation_isEqualPtr));
          goto tmp3_done;
        }
        case 4: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,2) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,4,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBSlice_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp1), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp2), 3))), boxvar_NBEquation_Equation_isEqualPtr);
          goto tmp3_done;
        }
        case 5: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,2) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,5,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = omc_List_isEqualOnTrue(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp2), 2))), boxvar_NBStrongComponent_isEqual);
          goto tmp3_done;
        }
        case 6: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,7) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,7) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBTearing_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp1), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp2), 3))));
          goto tmp3_done;
        }
        case 7: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,2) == 0) goto tmp3_end;
          if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,7,2) == 0) goto tmp3_end;
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBStrongComponent_AliasInfo_isEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp1), 2))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp2), 2))));
          goto tmp3_done;
        }
        case 8: {
          
          /* Pattern matching succeeded */
          tmp1 = 0 /* false */;
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _b = tmp1;
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBStrongComponent_isEqual(threadData_t *threadData, modelica_metatype _comp1, modelica_metatype _comp2)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBStrongComponent_isEqual(threadData, _comp1, _comp2);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_integer omc_NBStrongComponent_hash(threadData_t *threadData, modelica_metatype _comp)
{
  modelica_integer _i;
  modelica_integer tmp1 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _i has no default value.
  { /* match expression */
    modelica_metatype tmp4_1;
    tmp4_1 = _comp;
    {
      int tmp4;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
        case 3: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBVariable_hash(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)))) + omc_NBEquation_Equation_hash(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))));
          goto tmp3_done;
        }
        case 4: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBEquation_Equation_hash(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))));
          goto tmp3_done;
        }
        case 5: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFComponentRef_hash(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)))) + omc_NBEquation_Equation_hash(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))));
          goto tmp3_done;
        }
        case 6: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NFComponentRef_hash(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)))) + omc_NBEquation_Equation_hash(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))));
          goto tmp3_done;
        }
        case 7: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBEquation_Equation_hash(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))));
          goto tmp3_done;
        }
        case 8: {
          modelica_integer tmp5;
          
          /* Pattern matching succeeded */
          {
            modelica_integer __omcQ_24tmpVar33;
            modelica_integer __omcQ_24tmpVar32;
            modelica_integer tmp6;
            modelica_metatype _sub_comp_loopVar = 0;
            modelica_metatype _sub_comp;
            _sub_comp_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)));
            __omcQ_24tmpVar33 = ((modelica_integer) 0); /* defaultValue */
            while(1) {
              tmp6 = 1;
              if (!listEmpty(_sub_comp_loopVar)) {
                _sub_comp = MMC_CAR(_sub_comp_loopVar);
                _sub_comp_loopVar = MMC_CDR(_sub_comp_loopVar);
                tmp6--;
              }
              if (tmp6 == 0) {
                __omcQ_24tmpVar32 = omc_NBStrongComponent_hash(threadData, _sub_comp);
                __omcQ_24tmpVar33 = __omcQ_24tmpVar33 + __omcQ_24tmpVar32;
              } else if (tmp6 == 1) {
                break;
              } else {
                goto goto_2;
              }
            }
            tmp5 = __omcQ_24tmpVar33;
          }
          tmp1 = tmp5;
          goto tmp3_done;
        }
        case 9: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBTearing_hash(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))));
          goto tmp3_done;
        }
        case 10: {
          
          /* Pattern matching succeeded */
          tmp1 = omc_NBStrongComponent_AliasInfo_hash(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2))));
          goto tmp3_done;
        }
        }
        goto tmp3_end;
        tmp3_end: ;
      }
      goto goto_2;
      goto_2:;
      MMC_THROW_INTERNAL();
      goto tmp3_done;
      tmp3_done:;
    }
  }
  _i = tmp1;
  _return: OMC_LABEL_UNUSED
  return _i;
}
modelica_metatype boxptr_NBStrongComponent_hash(threadData_t *threadData, modelica_metatype _comp)
{
  modelica_integer _i;
  modelica_metatype out_i;
  _i = omc_NBStrongComponent_hash(threadData, _comp);
  out_i = mmc_mk_icon(_i);
  return out_i;
}

DLLDirection
modelica_metatype omc_NBStrongComponent_strongComponentInfo(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fcomp, modelica_metatype _collector_ptr)
{
  modelica_metatype _comp = NULL;
  modelica_metatype _collector = NULL;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _comp = __omcQ_24in_5Fcomp;
  _collector = omc_Pointer_access(threadData, _collector_ptr);
  { /* match expression */
    modelica_metatype tmp3_1;
    tmp3_1 = _comp;
    {
      volatile mmc_switch_type tmp3;
      int tmp4;
      tmp3 = 0;
      for (; tmp3 < 10; tmp3++) {
        switch (MMC_SWITCH_CAST(tmp3)) {
        case 0: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,3) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp7_1;
            tmp7_1 = omc_Pointer_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))));
            {
              int tmp7;
              {
                switch (MMC_SWITCH_CAST(valueConstructor(tmp7_1))) {
                case 3: {
                  modelica_metatype tmpMeta8;
                  
                  /* Pattern matching succeeded */
                  tmpMeta8 = MMC_TAGPTR(mmc_alloc_words(14));
                  memcpy(MMC_UNTAGPTR(tmpMeta8), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta8))[2] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 2)))));
                  _collector = tmpMeta8;

                  omc_Pointer_update(threadData, _collector_ptr, _collector);
                  goto tmp6_done;
                }
                case 4: {
                  modelica_metatype tmpMeta9;
                  
                  /* Pattern matching succeeded */
                  tmpMeta9 = MMC_TAGPTR(mmc_alloc_words(14));
                  memcpy(MMC_UNTAGPTR(tmpMeta9), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta9))[3] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 3)))));
                  _collector = tmpMeta9;

                  omc_Pointer_update(threadData, _collector_ptr, _collector);
                  goto tmp6_done;
                }
                case 5: {
                  modelica_metatype tmpMeta10;
                  
                  /* Pattern matching succeeded */
                  tmpMeta10 = MMC_TAGPTR(mmc_alloc_words(14));
                  memcpy(MMC_UNTAGPTR(tmpMeta10), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta10))[4] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 4)))));
                  _collector = tmpMeta10;

                  omc_Pointer_update(threadData, _collector_ptr, _collector);
                  goto tmp6_done;
                }
                default:
                tmp6_default: OMC_LABEL_UNUSED; {
                  modelica_metatype tmpMeta11;
                  modelica_metatype tmpMeta12;
                  
                  /* Pattern matching succeeded */
                  tmpMeta11 = stringAppend(_OMC_LIT39,omc_NBStrongComponent_toString(threadData, _comp, ((modelica_integer) -1)));
                  tmpMeta12 = stringAppend(tmpMeta11,_OMC_LIT40);
                  omc_Error_addCompilerWarning(threadData, tmpMeta12);
                  goto tmp6_done;
                }
                }
                goto tmp6_end;
                tmp6_end: ;
              }
              goto goto_5;
              goto_5:;
              goto goto_1;
              goto tmp6_done;
              tmp6_done:;
            }
          }
          ;
          goto tmp2_done;
        }
        case 1: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,3) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp15_1;
            tmp15_1 = omc_Pointer_access(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))));
            {
              int tmp15;
              {
                switch (MMC_SWITCH_CAST(valueConstructor(tmp15_1))) {
                case 6: {
                  modelica_metatype tmpMeta16;
                  
                  /* Pattern matching succeeded */
                  tmpMeta16 = MMC_TAGPTR(mmc_alloc_words(14));
                  memcpy(MMC_UNTAGPTR(tmpMeta16), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta16))[5] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 5)))));
                  _collector = tmpMeta16;

                  omc_Pointer_update(threadData, _collector_ptr, _collector);
                  goto tmp14_done;
                }
                case 9: {
                  modelica_metatype tmpMeta17;
                  
                  /* Pattern matching succeeded */
                  tmpMeta17 = MMC_TAGPTR(mmc_alloc_words(14));
                  memcpy(MMC_UNTAGPTR(tmpMeta17), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta17))[6] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 6)))));
                  _collector = tmpMeta17;

                  omc_Pointer_update(threadData, _collector_ptr, _collector);
                  goto tmp14_done;
                }
                case 7: {
                  modelica_metatype tmpMeta18;
                  
                  /* Pattern matching succeeded */
                  tmpMeta18 = MMC_TAGPTR(mmc_alloc_words(14));
                  memcpy(MMC_UNTAGPTR(tmpMeta18), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta18))[7] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 7)))));
                  _collector = tmpMeta18;

                  omc_Pointer_update(threadData, _collector_ptr, _collector);
                  goto tmp14_done;
                }
                case 5: {
                  modelica_metatype tmpMeta19;
                  
                  /* Pattern matching succeeded */
                  tmpMeta19 = MMC_TAGPTR(mmc_alloc_words(14));
                  memcpy(MMC_UNTAGPTR(tmpMeta19), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta19))[8] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 8)))));
                  _collector = tmpMeta19;

                  omc_Pointer_update(threadData, _collector_ptr, _collector);
                  goto tmp14_done;
                }
                default:
                tmp14_default: OMC_LABEL_UNUSED; {
                  modelica_metatype tmpMeta20;
                  modelica_metatype tmpMeta21;
                  
                  /* Pattern matching succeeded */
                  tmpMeta20 = stringAppend(_OMC_LIT39,omc_NBStrongComponent_toString(threadData, _comp, ((modelica_integer) -1)));
                  tmpMeta21 = stringAppend(tmpMeta20,_OMC_LIT40);
                  omc_Error_addCompilerWarning(threadData, tmpMeta21);
                  goto tmp14_done;
                }
                }
                goto tmp14_end;
                tmp14_end: ;
              }
              goto goto_13;
              goto_13:;
              goto goto_1;
              goto tmp14_done;
              tmp14_done:;
            }
          }
          ;
          goto tmp2_done;
        }
        case 2: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,4) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          { /* match expression */
            modelica_metatype tmp24_1;
            tmp24_1 = omc_Pointer_access(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))));
            {
              int tmp24;
              {
                switch (MMC_SWITCH_CAST(valueConstructor(tmp24_1))) {
                case 3: {
                  modelica_metatype tmpMeta25;
                  
                  /* Pattern matching succeeded */
                  tmpMeta25 = MMC_TAGPTR(mmc_alloc_words(14));
                  memcpy(MMC_UNTAGPTR(tmpMeta25), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta25))[2] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 2)))));
                  _collector = tmpMeta25;

                  omc_Pointer_update(threadData, _collector_ptr, _collector);
                  goto tmp23_done;
                }
                case 4: {
                  modelica_metatype tmpMeta26;
                  
                  /* Pattern matching succeeded */
                  tmpMeta26 = MMC_TAGPTR(mmc_alloc_words(14));
                  memcpy(MMC_UNTAGPTR(tmpMeta26), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta26))[3] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 3)))));
                  _collector = tmpMeta26;

                  omc_Pointer_update(threadData, _collector_ptr, _collector);
                  goto tmp23_done;
                }
                case 5: {
                  modelica_metatype tmpMeta27;
                  
                  /* Pattern matching succeeded */
                  tmpMeta27 = MMC_TAGPTR(mmc_alloc_words(14));
                  memcpy(MMC_UNTAGPTR(tmpMeta27), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
                  ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta27))[4] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 4)))));
                  _collector = tmpMeta27;

                  omc_Pointer_update(threadData, _collector_ptr, _collector);
                  goto tmp23_done;
                }
                default:
                tmp23_default: OMC_LABEL_UNUSED; {
                  modelica_metatype tmpMeta28;
                  modelica_metatype tmpMeta29;
                  
                  /* Pattern matching succeeded */
                  tmpMeta28 = stringAppend(_OMC_LIT39,omc_NBStrongComponent_toString(threadData, _comp, ((modelica_integer) -1)));
                  tmpMeta29 = stringAppend(tmpMeta28,_OMC_LIT40);
                  omc_Error_addCompilerWarning(threadData, tmpMeta29);
                  goto tmp23_done;
                }
                }
                goto tmp23_end;
                tmp23_end: ;
              }
              goto goto_22;
              goto_22:;
              goto goto_1;
              goto tmp23_done;
              tmp23_done:;
            }
          }
          ;
          goto tmp2_done;
        }
        case 3: {
          modelica_metatype tmpMeta30;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,5) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta30 = MMC_TAGPTR(mmc_alloc_words(14));
          memcpy(MMC_UNTAGPTR(tmpMeta30), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta30))[9] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 9)))));
          _collector = tmpMeta30;

          omc_Pointer_update(threadData, _collector_ptr, _collector);
          goto tmp2_done;
        }
        case 4: {
          modelica_metatype tmpMeta31;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,4,2) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta31 = MMC_TAGPTR(mmc_alloc_words(14));
          memcpy(MMC_UNTAGPTR(tmpMeta31), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta31))[10] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 10)))));
          _collector = tmpMeta31;

          omc_Pointer_update(threadData, _collector_ptr, _collector);
          goto tmp2_done;
        }
        case 5: {
          modelica_metatype tmpMeta32;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,2) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta32 = MMC_TAGPTR(mmc_alloc_words(14));
          memcpy(MMC_UNTAGPTR(tmpMeta32), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta32))[11] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 11)))));
          _collector = tmpMeta32;

          omc_Pointer_update(threadData, _collector_ptr, _collector);
          goto tmp2_done;
        }
        case 6: {
          modelica_metatype tmpMeta33;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,7) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          /* Check guard condition after assignments */
          if (!mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 5))))) goto tmp2_end;
          tmpMeta33 = MMC_TAGPTR(mmc_alloc_words(14));
          memcpy(MMC_UNTAGPTR(tmpMeta33), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta33))[12] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 12)))));
          _collector = tmpMeta33;

          omc_Pointer_update(threadData, _collector_ptr, _collector);
          goto tmp2_done;
        }
        case 7: {
          modelica_metatype tmpMeta34;
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,7) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          tmpMeta34 = MMC_TAGPTR(mmc_alloc_words(14));
          memcpy(MMC_UNTAGPTR(tmpMeta34), MMC_UNTAGPTR(_collector), 14*sizeof(modelica_metatype));
          ((modelica_metatype*)MMC_UNTAGPTR(tmpMeta34))[13] = mmc_mk_integer(((modelica_integer) 1) + mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_collector), 13)))));
          _collector = tmpMeta34;

          omc_Pointer_update(threadData, _collector_ptr, _collector);
          goto tmp2_done;
        }
        case 8: {
          if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,2) == 0) goto tmp2_end;
          
          /* Pattern matching succeeded */
          omc_NBStrongComponent_strongComponentInfo(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))), _collector_ptr);
          goto tmp2_done;
        }
        case 9: {
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          
          /* Pattern matching succeeded */
          tmpMeta35 = stringAppend(_OMC_LIT39,omc_NBStrongComponent_toString(threadData, _comp, ((modelica_integer) -1)));
          tmpMeta36 = stringAppend(tmpMeta35,_OMC_LIT40);
          omc_Error_addCompilerWarning(threadData, tmpMeta36);
          goto tmp2_done;
        }
        }
        goto tmp2_end;
        tmp2_end: ;
      }
      goto goto_1;
      goto_1:;
      MMC_THROW_INTERNAL();
      goto tmp2_done;
      tmp2_done:;
    }
  }
  ;
  _return: OMC_LABEL_UNUSED
  return _comp;
}

static modelica_metatype closure12_NBSlice_toString(threadData_t *thData, modelica_metatype closure, modelica_metatype slice)
{
  modelica_fnptr func = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  modelica_metatype maxLength = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),2));
  return boxptr_NBSlice_toString(thData, slice, func, maxLength);
}static modelica_metatype closure13_NBEquation_Equation_pointerToString(threadData_t *thData, modelica_metatype closure, modelica_metatype eqn_ptr)
{
  modelica_string $in_str = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBEquation_Equation_pointerToString(thData, eqn_ptr, $in_str);
}static modelica_metatype closure14_NBEquation_Equation_pointerToString(threadData_t *thData, modelica_metatype closure, modelica_metatype eqn_ptr)
{
  modelica_string $in_str = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBEquation_Equation_pointerToString(thData, eqn_ptr, $in_str);
}static modelica_metatype closure15_NBStrongComponent_toString(threadData_t *thData, modelica_metatype closure, modelica_metatype comp)
{
  modelica_metatype index = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBStrongComponent_toString(thData, comp, index);
}static modelica_metatype closure16_NBEquation_Equation_pointerToString(threadData_t *thData, modelica_metatype closure, modelica_metatype eqn_ptr)
{
  modelica_string $in_str = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
  return boxptr_NBEquation_Equation_pointerToString(thData, eqn_ptr, $in_str);
}
DLLDirection
modelica_string omc_NBStrongComponent_toString(threadData_t *threadData, modelica_metatype _comp, modelica_integer _index)
{
  modelica_string _str = NULL;
  modelica_string _indexStr = NULL;
  modelica_metatype tmpMeta1;
  modelica_boolean tmp2;
  modelica_string tmp3;
  modelica_string tmp4 = 0;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  // _str has no default value.
  tmp2 = (modelica_boolean)(_index > ((modelica_integer) 0));
  if(tmp2)
  {
    tmpMeta1 = stringAppend(_OMC_LIT41,intString(_index));
    tmp3 = tmpMeta1;
  }
  else
  {
    tmp3 = _OMC_LIT26;
  }
  _indexStr = tmp3;
  { /* match expression */
    modelica_metatype tmp7_1;
    tmp7_1 = _comp;
    {
      int tmp7;
      {
        switch (MMC_SWITCH_CAST(valueConstructor(tmp7_1))) {
        case 3: {
          modelica_metatype tmpMeta8;
          modelica_metatype tmpMeta9;
          modelica_metatype tmpMeta10;
          modelica_metatype tmpMeta11;
          modelica_metatype tmpMeta12;
          modelica_metatype tmpMeta13;
          modelica_metatype tmpMeta14;
          modelica_metatype tmpMeta15;
          modelica_metatype tmpMeta16;
          modelica_metatype tmpMeta17;
          
          /* Pattern matching succeeded */
          tmpMeta8 = stringAppend(_OMC_LIT42,_indexStr);
          tmpMeta9 = stringAppend(tmpMeta8,_OMC_LIT43);
          tmpMeta10 = stringAppend(tmpMeta9,omc_NBSolve_statusString(threadData, mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4))))));
          tmpMeta11 = stringAppend(tmpMeta10,_OMC_LIT44);
          _str = omc_StringUtil_headline__3(threadData, tmpMeta11);

          tmpMeta12 = stringAppend(_str,_OMC_LIT45);
          tmpMeta13 = stringAppend(tmpMeta12,omc_NFVariable_toString(threadData, omc_Pointer_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)))), _OMC_LIT46, 0 /* false */));
          tmpMeta14 = stringAppend(tmpMeta13,_OMC_LIT40);
          _str = tmpMeta14;
          tmpMeta15 = stringAppend(_str,_OMC_LIT47);
          tmpMeta16 = stringAppend(tmpMeta15,omc_NBEquation_Equation_toString(threadData, omc_Pointer_access(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)))), _OMC_LIT46));
          tmpMeta17 = stringAppend(tmpMeta16,_OMC_LIT40);
          tmp4 = tmpMeta17;
          goto tmp6_done;
        }
        case 4: {
          modelica_metatype tmpMeta18;
          modelica_metatype tmpMeta19;
          modelica_metatype tmpMeta20;
          modelica_metatype tmpMeta21;
          modelica_metatype tmpMeta22;
          modelica_metatype tmpMeta23;
          modelica_metatype tmpMeta24;
          modelica_metatype tmpMeta25;
          modelica_metatype tmpMeta26;
          modelica_metatype tmpMeta27;
          modelica_metatype tmpMeta28;
          
          /* Pattern matching succeeded */
          tmpMeta18 = stringAppend(_OMC_LIT42,_indexStr);
          tmpMeta19 = stringAppend(tmpMeta18,_OMC_LIT48);
          tmpMeta20 = stringAppend(tmpMeta19,omc_NBSolve_statusString(threadData, mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4))))));
          tmpMeta21 = stringAppend(tmpMeta20,_OMC_LIT44);
          _str = omc_StringUtil_headline__3(threadData, tmpMeta21);

          tmpMeta22 = stringAppend(_str,_OMC_LIT49);
          _str = tmpMeta22;

          tmpMeta23 = mmc_mk_box2(0, boxvar_NBVariable_pointerToString, mmc_mk_integer(((modelica_integer) 10)));
          tmpMeta24 = stringAppend(_str,omc_List_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2))), (modelica_fnptr) mmc_mk_box2(0,closure12_NBSlice_toString,tmpMeta23), _OMC_LIT26, _OMC_LIT46, _OMC_LIT50, _OMC_LIT26, 1 /* true */, ((modelica_integer) 0)));
          _str = tmpMeta24;
          tmpMeta25 = stringAppend(_str,_OMC_LIT51);
          tmpMeta26 = mmc_mk_box1(0, _OMC_LIT46);
          tmpMeta27 = stringAppend(tmpMeta25,omc_NBSlice_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))), (modelica_fnptr) mmc_mk_box2(0,closure13_NBEquation_Equation_pointerToString,tmpMeta26), ((modelica_integer) 10)));
          tmpMeta28 = stringAppend(tmpMeta27,_OMC_LIT40);
          tmp4 = tmpMeta28;
          goto tmp6_done;
        }
        case 5: {
          modelica_metatype tmpMeta29;
          modelica_metatype tmpMeta30;
          modelica_metatype tmpMeta31;
          modelica_metatype tmpMeta32;
          modelica_boolean tmp33;
          modelica_string tmp34;
          modelica_metatype tmpMeta35;
          modelica_metatype tmpMeta36;
          modelica_metatype tmpMeta37;
          modelica_metatype tmpMeta38;
          modelica_metatype tmpMeta39;
          modelica_metatype tmpMeta40;
          modelica_metatype tmpMeta41;
          
          /* Pattern matching succeeded */
          tmp33 = (modelica_boolean)(_index == ((modelica_integer) -2));
          if(tmp33)
          {
            tmp34 = _OMC_LIT26;
          }
          else
          {
            tmpMeta29 = stringAppend(_OMC_LIT42,_indexStr);
            tmpMeta30 = stringAppend(tmpMeta29,_OMC_LIT52);
            tmpMeta31 = stringAppend(tmpMeta30,omc_NBSolve_statusString(threadData, mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 5))))));
            tmpMeta32 = stringAppend(tmpMeta31,_OMC_LIT44);
            tmp34 = omc_StringUtil_headline__3(threadData, tmpMeta32);
          }
          _str = tmp34;

          tmpMeta35 = stringAppend(_str,_OMC_LIT53);
          tmpMeta36 = stringAppend(tmpMeta35,omc_NFComponentRef_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)))));
          tmpMeta37 = stringAppend(tmpMeta36,_OMC_LIT40);
          _str = tmpMeta37;
          tmpMeta38 = stringAppend(_str,_OMC_LIT47);
          tmpMeta39 = mmc_mk_box1(0, _OMC_LIT46);
          tmpMeta40 = stringAppend(tmpMeta38,omc_NBSlice_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4))), (modelica_fnptr) mmc_mk_box2(0,closure14_NBEquation_Equation_pointerToString,tmpMeta39), ((modelica_integer) 10)));
          tmpMeta41 = stringAppend(tmpMeta40,_OMC_LIT40);
          tmp4 = tmpMeta41;
          goto tmp6_done;
        }
        case 6: {
          modelica_metatype tmpMeta42;
          modelica_metatype tmpMeta43;
          modelica_metatype tmpMeta44;
          modelica_metatype tmpMeta45;
          modelica_metatype tmpMeta46;
          modelica_metatype tmpMeta47;
          modelica_metatype tmpMeta48;
          modelica_metatype tmpMeta49;
          modelica_metatype tmpMeta50;
          modelica_metatype tmpMeta51;
          
          /* Pattern matching succeeded */
          tmpMeta42 = stringAppend(_OMC_LIT42,_indexStr);
          tmpMeta43 = stringAppend(tmpMeta42,_OMC_LIT54);
          tmpMeta44 = stringAppend(tmpMeta43,omc_NBSolve_statusString(threadData, mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 6))))));
          tmpMeta45 = stringAppend(tmpMeta44,_OMC_LIT44);
          _str = omc_StringUtil_headline__3(threadData, tmpMeta45);

          tmpMeta46 = stringAppend(_str,_OMC_LIT53);
          tmpMeta47 = stringAppend(tmpMeta46,omc_NFComponentRef_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)))));
          tmpMeta48 = stringAppend(tmpMeta47,_OMC_LIT40);
          _str = tmpMeta48;
          tmpMeta49 = stringAppend(_str,_OMC_LIT55);
          tmpMeta50 = stringAppend(tmpMeta49,omc_NBEquation_Equation_pointerToString(threadData, omc_NBSlice_getT(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))), _OMC_LIT26));
          tmpMeta51 = stringAppend(tmpMeta50,_OMC_LIT40);
          tmp4 = tmpMeta51;
          goto tmp6_done;
        }
        case 8: {
          modelica_metatype tmpMeta52;
          modelica_metatype tmpMeta53;
          modelica_metatype tmpMeta54;
          modelica_metatype tmpMeta55;
          modelica_metatype tmpMeta59;
          modelica_metatype tmpMeta60;
          modelica_metatype tmpMeta61;
          modelica_metatype tmpMeta62;
          
          /* Pattern matching succeeded */
          tmpMeta52 = stringAppend(_OMC_LIT42,_indexStr);
          tmpMeta53 = stringAppend(tmpMeta52,_OMC_LIT56);
          _str = omc_StringUtil_headline__3(threadData, tmpMeta53);

          tmpMeta54 = stringAppend(_str,_OMC_LIT57);
          {
            modelica_metatype __omcQ_24tmpVar35;
            modelica_metatype* tmp56;
            modelica_metatype tmpMeta57;
            modelica_metatype __omcQ_24tmpVar34;
            modelica_integer tmp58;
            modelica_metatype _e_loopVar = 0;
            modelica_metatype _e;
            _e_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3)));
            tmpMeta57 = MMC_REFSTRUCTLIT(mmc_nil);
            __omcQ_24tmpVar35 = tmpMeta57; /* defaultValue */
            tmp56 = &__omcQ_24tmpVar35;
            while(1) {
              tmp58 = 1;
              if (!listEmpty(_e_loopVar)) {
                _e = MMC_CAR(_e_loopVar);
                _e_loopVar = MMC_CDR(_e_loopVar);
                tmp58--;
              }
              if (tmp58 == 0) {
                __omcQ_24tmpVar34 = omc_NBEquation_Equation_getEqnName(threadData, omc_Util_tuple21(threadData, _e));
                *tmp56 = mmc_mk_cons(__omcQ_24tmpVar34,0);
                tmp56 = &MMC_CDR(*tmp56);
              } else if (tmp58 == 1) {
                break;
              } else {
                goto goto_5;
              }
            }
            *tmp56 = mmc_mk_nil();
            tmpMeta55 = __omcQ_24tmpVar35;
          }
          tmpMeta59 = stringAppend(tmpMeta54,omc_List_toString(threadData, tmpMeta55, boxvar_NFComponentRef_toString, _OMC_LIT26, _OMC_LIT58, _OMC_LIT59, _OMC_LIT60, 1 /* true */, ((modelica_integer) 10)));
          tmpMeta60 = stringAppend(tmpMeta59,_OMC_LIT40);
          _str = tmpMeta60;
          tmpMeta61 = mmc_mk_box1(0, mmc_mk_integer(((modelica_integer) -2)));
          tmpMeta62 = stringAppend(_str,omc_List_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2))), (modelica_fnptr) mmc_mk_box2(0,closure15_NBStrongComponent_toString,tmpMeta61), _OMC_LIT26, _OMC_LIT26, _OMC_LIT26, _OMC_LIT26, 1 /* true */, ((modelica_integer) 0)));
          tmp4 = tmpMeta62;
          goto tmp6_done;
        }
        case 7: {
          modelica_metatype tmpMeta63;
          modelica_metatype tmpMeta64;
          modelica_metatype tmpMeta65;
          modelica_metatype tmpMeta66;
          modelica_metatype tmpMeta67;
          modelica_metatype tmpMeta68;
          modelica_metatype tmpMeta69;
          modelica_metatype tmpMeta70;
          modelica_metatype tmpMeta71;
          
          /* Pattern matching succeeded */
          tmpMeta63 = stringAppend(_OMC_LIT42,_indexStr);
          tmpMeta64 = stringAppend(tmpMeta63,_OMC_LIT61);
          _str = omc_StringUtil_headline__3(threadData, tmpMeta64);

          tmpMeta65 = stringAppend(_str,_OMC_LIT53);
          tmpMeta66 = stringAppend(tmpMeta65,omc_NFComponentRef_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)))));
          tmpMeta67 = stringAppend(tmpMeta66,_OMC_LIT40);
          _str = tmpMeta67;
          tmpMeta68 = stringAppend(_str,_OMC_LIT47);
          tmpMeta69 = mmc_mk_box1(0, _OMC_LIT46);
          tmpMeta70 = stringAppend(tmpMeta68,omc_NBSlice_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))), (modelica_fnptr) mmc_mk_box2(0,closure16_NBEquation_Equation_pointerToString,tmpMeta69), ((modelica_integer) 10)));
          tmpMeta71 = stringAppend(tmpMeta70,_OMC_LIT40);
          tmp4 = tmpMeta71;
          goto tmp6_done;
        }
        case 9: {
          modelica_metatype tmpMeta72;
          modelica_metatype tmpMeta73;
          modelica_metatype tmpMeta74;
          modelica_metatype tmpMeta75;
          modelica_metatype tmpMeta76;
          modelica_metatype tmpMeta77;
          modelica_metatype tmpMeta78;
          modelica_metatype tmpMeta79;
          modelica_metatype tmpMeta80;
          modelica_metatype tmpMeta81;
          
          /* Pattern matching succeeded */
          tmpMeta72 = stringAppend(_OMC_LIT42,_indexStr);
          tmpMeta73 = stringAppend(tmpMeta72,_OMC_LIT62);
          tmpMeta74 = stringAppend(tmpMeta73,(mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 5))))?_OMC_LIT63:_OMC_LIT64));
          tmpMeta75 = stringAppend(tmpMeta74,_OMC_LIT65);
          tmpMeta76 = stringAppend(tmpMeta75,(mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 6))))?_OMC_LIT63:_OMC_LIT64));
          tmpMeta77 = stringAppend(tmpMeta76,_OMC_LIT66);
          tmpMeta78 = stringAppend(tmpMeta77,(mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 7))))?_OMC_LIT63:_OMC_LIT64));
          tmpMeta79 = stringAppend(tmpMeta78,_OMC_LIT44);
          _str = omc_StringUtil_headline__3(threadData, tmpMeta79);

          tmpMeta80 = stringAppend(_str,omc_NBTearing_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))), _OMC_LIT67));
          _str = tmpMeta80;

          if(isSome((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))))
          {
            tmpMeta81 = stringAppend(_str,omc_NBTearing_toString(threadData, omc_Util_getOption(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 4)))), _OMC_LIT68));
            _str = tmpMeta81;
          }
          tmp4 = _str;
          goto tmp6_done;
        }
        case 10: {
          modelica_metatype tmpMeta82;
          modelica_metatype tmpMeta83;
          modelica_metatype tmpMeta84;
          
          /* Pattern matching succeeded */
          tmpMeta82 = stringAppend(_OMC_LIT69,omc_NBStrongComponent_AliasInfo_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 2)))));
          tmpMeta83 = stringAppend(tmpMeta82,_OMC_LIT70);
          tmpMeta84 = stringAppend(tmpMeta83,omc_NBStrongComponent_toString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_comp), 3))), _index));
          tmp4 = tmpMeta84;
          goto tmp6_done;
        }
        default:
        tmp6_default: OMC_LABEL_UNUSED; {
          
          /* Pattern matching succeeded */
          omc_Error_addMessage(threadData, _OMC_LIT7, _OMC_LIT72);
          goto goto_5;
          goto tmp6_done;
        }
        }
        goto tmp6_end;
        tmp6_end: ;
      }
      goto goto_5;
      goto_5:;
      MMC_THROW_INTERNAL();
      goto tmp6_done;
      tmp6_done:;
    }
  }
  _str = tmp4;
  _return: OMC_LABEL_UNUSED
  return _str;
}
modelica_metatype boxptr_NBStrongComponent_toString(threadData_t *threadData, modelica_metatype _comp, modelica_metatype _index)
{
  modelica_integer tmp1;
  modelica_string _str = NULL;
  tmp1 = mmc_unbox_integer(_index);
  _str = omc_NBStrongComponent_toString(threadData, _comp, tmp1);
  /* skip box _str; String */
  return _str;
}

DLLDirection
modelica_boolean omc_NBStrongComponent_AliasInfo_isEqual(threadData_t *threadData, modelica_metatype _info1, modelica_metatype _info2)
{
  modelica_boolean _b;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _b = (((mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_info1), 4)))) == mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_info2), 4))))) && (mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_info1), 3)))) == mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_info2), 3)))))) && (mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_info1), 2)))) == mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_info2), 2))))));
  _return: OMC_LABEL_UNUSED
  return _b;
}
modelica_metatype boxptr_NBStrongComponent_AliasInfo_isEqual(threadData_t *threadData, modelica_metatype _info1, modelica_metatype _info2)
{
  modelica_boolean _b;
  modelica_metatype out_b;
  _b = omc_NBStrongComponent_AliasInfo_isEqual(threadData, _info1, _info2);
  out_b = mmc_mk_icon(_b);
  return out_b;
}

DLLDirection
modelica_integer omc_NBStrongComponent_AliasInfo_hash(threadData_t *threadData, modelica_metatype _info)
{
  modelica_integer _i;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  _i = stringHashDjb2(omc_NBStrongComponent_AliasInfo_toString(threadData, _info));
  _return: OMC_LABEL_UNUSED
  return _i;
}
modelica_metatype boxptr_NBStrongComponent_AliasInfo_hash(threadData_t *threadData, modelica_metatype _info)
{
  modelica_integer _i;
  modelica_metatype out_i;
  _i = omc_NBStrongComponent_AliasInfo_hash(threadData, _info);
  out_i = mmc_mk_icon(_i);
  return out_i;
}

DLLDirection
modelica_string omc_NBStrongComponent_AliasInfo_toString(threadData_t *threadData, modelica_metatype _info)
{
  modelica_string _str = NULL;
  modelica_metatype tmpMeta1;
  modelica_metatype tmpMeta2;
  modelica_metatype tmpMeta3;
  modelica_metatype tmpMeta4;
  modelica_metatype tmpMeta5;
  MMC_SO();
  _tailrecursive: OMC_LABEL_UNUSED
  tmpMeta1 = stringAppend(omc_NBPartition_Partition_kindToString(threadData, mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_info), 2))))),_OMC_LIT73);
  tmpMeta2 = stringAppend(tmpMeta1,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_info), 3))))));
  tmpMeta3 = stringAppend(tmpMeta2,_OMC_LIT74);
  tmpMeta4 = stringAppend(tmpMeta3,intString(mmc_unbox_integer((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_info), 4))))));
  tmpMeta5 = stringAppend(tmpMeta4,_OMC_LIT75);
  _str = tmpMeta5;
  _return: OMC_LABEL_UNUSED
  return _str;
}

